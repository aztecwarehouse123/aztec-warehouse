function gY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wF={exports:{}},Tw={},_F={exports:{}},pr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=Symbol.for("react.element"),vY=Symbol.for("react.portal"),yY=Symbol.for("react.fragment"),xY=Symbol.for("react.strict_mode"),bY=Symbol.for("react.profiler"),wY=Symbol.for("react.provider"),_Y=Symbol.for("react.context"),SY=Symbol.for("react.forward_ref"),AY=Symbol.for("react.suspense"),TY=Symbol.for("react.memo"),EY=Symbol.for("react.lazy"),GN=Symbol.iterator;function kY(e){return e===null||typeof e!="object"?null:(e=GN&&e[GN]||e["@@iterator"],typeof e=="function"?e:null)}var SF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AF=Object.assign,TF={};function Dp(e,t,r){this.props=e,this.context=t,this.refs=TF,this.updater=r||SF}Dp.prototype.isReactComponent={};Dp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function EF(){}EF.prototype=Dp.prototype;function p3(e,t,r){this.props=e,this.context=t,this.refs=TF,this.updater=r||SF}var m3=p3.prototype=new EF;m3.constructor=p3;AF(m3,Dp.prototype);m3.isPureReactComponent=!0;var KN=Array.isArray,kF=Object.prototype.hasOwnProperty,g3={current:null},CF={key:!0,ref:!0,__self:!0,__source:!0};function PF(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)kF.call(t,n)&&!CF.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Av,type:e,key:i,ref:s,props:a,_owner:g3.current}}function CY(e,t){return{$$typeof:Av,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function v3(e){return typeof e=="object"&&e!==null&&e.$$typeof===Av}function PY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var YN=/\/+/g;function E_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PY(""+e.key):t.toString(36)}function jx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Av:case vY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+E_(s,0):n,KN(a)?(r="",e!=null&&(r=e.replace(YN,"$&/")+"/"),jx(a,t,r,"",function(c){return c})):a!=null&&(v3(a)&&(a=CY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(YN,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",KN(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+E_(i,o);s+=jx(i,t,r,l,a)}else if(l=kY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+E_(i,o++),s+=jx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Iy(e,t,r){if(e==null)return e;var n=[],a=0;return jx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function NY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xi={current:null},Lx={transition:null},OY={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:Lx,ReactCurrentOwner:g3};function NF(){throw Error("act(...) is not supported in production builds of React.")}pr.Children={map:Iy,forEach:function(e,t,r){Iy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Iy(e,function(){t++}),t},toArray:function(e){return Iy(e,function(t){return t})||[]},only:function(e){if(!v3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pr.Component=Dp;pr.Fragment=yY;pr.Profiler=bY;pr.PureComponent=p3;pr.StrictMode=xY;pr.Suspense=AY;pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OY;pr.act=NF;pr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=AF({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=g3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)kF.call(t,l)&&!CF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Av,type:e.type,key:a,ref:i,props:n,_owner:s}};pr.createContext=function(e){return e={$$typeof:_Y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wY,_context:e},e.Consumer=e};pr.createElement=PF;pr.createFactory=function(e){var t=PF.bind(null,e);return t.type=e,t};pr.createRef=function(){return{current:null}};pr.forwardRef=function(e){return{$$typeof:SY,render:e}};pr.isValidElement=v3;pr.lazy=function(e){return{$$typeof:EY,_payload:{_status:-1,_result:e},_init:NY}};pr.memo=function(e,t){return{$$typeof:TY,type:e,compare:t===void 0?null:t}};pr.startTransition=function(e){var t=Lx.transition;Lx.transition={};try{e()}finally{Lx.transition=t}};pr.unstable_act=NF;pr.useCallback=function(e,t){return Xi.current.useCallback(e,t)};pr.useContext=function(e){return Xi.current.useContext(e)};pr.useDebugValue=function(){};pr.useDeferredValue=function(e){return Xi.current.useDeferredValue(e)};pr.useEffect=function(e,t){return Xi.current.useEffect(e,t)};pr.useId=function(){return Xi.current.useId()};pr.useImperativeHandle=function(e,t,r){return Xi.current.useImperativeHandle(e,t,r)};pr.useInsertionEffect=function(e,t){return Xi.current.useInsertionEffect(e,t)};pr.useLayoutEffect=function(e,t){return Xi.current.useLayoutEffect(e,t)};pr.useMemo=function(e,t){return Xi.current.useMemo(e,t)};pr.useReducer=function(e,t,r){return Xi.current.useReducer(e,t,r)};pr.useRef=function(e){return Xi.current.useRef(e)};pr.useState=function(e){return Xi.current.useState(e)};pr.useSyncExternalStore=function(e,t,r){return Xi.current.useSyncExternalStore(e,t,r)};pr.useTransition=function(){return Xi.current.useTransition()};pr.version="18.3.1";_F.exports=pr;var Q=_F.exports;const Ne=sn(Q),IY=gY({__proto__:null,default:Ne},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DY=Q,jY=Symbol.for("react.element"),LY=Symbol.for("react.fragment"),MY=Object.prototype.hasOwnProperty,RY=DY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FY={key:!0,ref:!0,__self:!0,__source:!0};function OF(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)MY.call(t,n)&&!FY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:jY,type:e,key:i,ref:s,props:a,_owner:RY.current}}Tw.Fragment=LY;Tw.jsx=OF;Tw.jsxs=OF;wF.exports=Tw;var p=wF.exports,IF={exports:{}},Vs={},DF={exports:{}},jF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,B){var re=q.length;q.push(B);e:for(;0<re;){var ee=re-1>>>1,N=q[ee];if(0<a(N,B))q[ee]=B,q[re]=N,re=ee;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var B=q[0],re=q.pop();if(re!==B){q[0]=re;e:for(var ee=0,N=q.length,R=N>>>1;ee<R;){var z=2*(ee+1)-1,X=q[z],G=z+1,Z=q[G];if(0>a(X,re))G<N&&0>a(Z,X)?(q[ee]=Z,q[G]=re,ee=G):(q[ee]=X,q[z]=re,ee=z);else if(G<N&&0>a(Z,re))q[ee]=Z,q[G]=re,ee=G;else break e}}return B}function a(q,B){var re=q.sortIndex-B.sortIndex;return re!==0?re:q.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=q)n(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(c)}}function D(q){if(m=!1,w(q),!g)if(r(l)!==null)g=!0,J(P);else{var B=r(c);B!==null&&te(D,B.startTime-q)}}function P(q,B){g=!1,m&&(m=!1,v(A),A=-1),d=!0;var re=h;try{for(w(B),f=r(l);f!==null&&(!(f.expirationTime>B)||q&&!T());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var N=ee(f.expirationTime<=B);B=e.unstable_now(),typeof N=="function"?f.callback=N:f===r(l)&&n(l),w(B)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var z=r(c);z!==null&&te(D,z.startTime-B),R=!1}return R}finally{f=null,h=re,d=!1}}var O=!1,E=null,A=-1,S=5,I=-1;function T(){return!(e.unstable_now()-I<S)}function C(){if(E!==null){var q=e.unstable_now();I=q;var B=!0;try{B=E(!0,q)}finally{B?L():(O=!1,E=null)}}else O=!1}var L;if(typeof b=="function")L=function(){b(C)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=C,L=function(){V.postMessage(null)}}else L=function(){y(C,0)};function J(q){E=q,O||(O=!0,L())}function te(q,B){A=y(function(){q(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,J(P))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var re=h;h=B;try{return q()}finally{h=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,B){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=h;h=q;try{return B()}finally{h=re}},e.unstable_scheduleCallback=function(q,B,re){var ee=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ee+re:ee):re=ee,q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=re+N,q={id:u++,callback:B,priorityLevel:q,startTime:re,expirationTime:N,sortIndex:-1},re>ee?(q.sortIndex=re,t(c,q),r(l)===null&&q===r(c)&&(m?(v(A),A=-1):m=!0,te(D,re-ee))):(q.sortIndex=N,t(l,q),g||d||(g=!0,J(P))),q},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(q){var B=h;return function(){var re=h;h=B;try{return q.apply(this,arguments)}finally{h=re}}}})(jF);DF.exports=jF;var $Y=DF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BY=Q,Rs=$Y;function gt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LF=new Set,Kg={};function rd(e,t){U0(e,t),U0(e+"Capture",t)}function U0(e,t){for(Kg[e]=t,e=0;e<t.length;e++)LF.add(t[e])}var Cc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CA=Object.prototype.hasOwnProperty,VY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XN={},QN={};function UY(e){return CA.call(QN,e)?!0:CA.call(XN,e)?!1:VY.test(e)?QN[e]=!0:(XN[e]=!0,!1)}function zY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qY(e,t,r,n){if(t===null||typeof t>"u"||zY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qi(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ni[e]=new Qi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ni[t]=new Qi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ni[e]=new Qi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ni[e]=new Qi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ni[e]=new Qi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ni[e]=new Qi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ni[e]=new Qi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ni[e]=new Qi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ni[e]=new Qi(e,5,!1,e.toLowerCase(),null,!1,!1)});var y3=/[\-:]([a-z])/g;function x3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y3,x3);ni[t]=new Qi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y3,x3);ni[t]=new Qi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y3,x3);ni[t]=new Qi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ni[e]=new Qi(e,1,!1,e.toLowerCase(),null,!1,!1)});ni.xlinkHref=new Qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ni[e]=new Qi(e,1,!1,e.toLowerCase(),null,!0,!0)});function b3(e,t,r,n){var a=ni.hasOwnProperty(t)?ni[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qY(t,r,a,n)&&(r=null),n||a===null?UY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wc=BY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dy=Symbol.for("react.element"),Zd=Symbol.for("react.portal"),e0=Symbol.for("react.fragment"),w3=Symbol.for("react.strict_mode"),PA=Symbol.for("react.profiler"),MF=Symbol.for("react.provider"),RF=Symbol.for("react.context"),_3=Symbol.for("react.forward_ref"),NA=Symbol.for("react.suspense"),OA=Symbol.for("react.suspense_list"),S3=Symbol.for("react.memo"),ju=Symbol.for("react.lazy"),FF=Symbol.for("react.offscreen"),JN=Symbol.iterator;function Em(e){return e===null||typeof e!="object"?null:(e=JN&&e[JN]||e["@@iterator"],typeof e=="function"?e:null)}var Mn=Object.assign,k_;function Qm(e){if(k_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k_=t&&t[1]||""}return`
`+k_+e}var C_=!1;function P_(e,t){if(!e||C_)return"";C_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{C_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qm(e):""}function WY(e){switch(e.tag){case 5:return Qm(e.type);case 16:return Qm("Lazy");case 13:return Qm("Suspense");case 19:return Qm("SuspenseList");case 0:case 2:case 15:return e=P_(e.type,!1),e;case 11:return e=P_(e.type.render,!1),e;case 1:return e=P_(e.type,!0),e;default:return""}}function IA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case e0:return"Fragment";case Zd:return"Portal";case PA:return"Profiler";case w3:return"StrictMode";case NA:return"Suspense";case OA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RF:return(e.displayName||"Context")+".Consumer";case MF:return(e._context.displayName||"Context")+".Provider";case _3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S3:return t=e.displayName||null,t!==null?t:IA(e.type)||"Memo";case ju:t=e._payload,e=e._init;try{return IA(e(t))}catch{}}return null}function HY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IA(t);case 8:return t===w3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $F(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GY(e){var t=$F(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jy(e){e._valueTracker||(e._valueTracker=GY(e))}function BF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$F(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function u2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function DA(e,t){var r=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ZN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VF(e,t){t=t.checked,t!=null&&b3(e,"checked",t,!1)}function jA(e,t){VF(e,t);var r=mf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?LA(e,t.type,r):t.hasOwnProperty("defaultValue")&&LA(e,t.type,mf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function e6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function LA(e,t,r){(t!=="number"||u2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jm=Array.isArray;function w0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function MA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gt(91));return Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function t6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(gt(92));if(Jm(r)){if(1<r.length)throw Error(gt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mf(r)}}function UF(e,t){var r=mf(t.value),n=mf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function r6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ly,qF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ly=Ly||document.createElement("div"),Ly.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ly.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KY=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(e){KY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hg[t]=hg[e]})});function WF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hg.hasOwnProperty(e)&&hg[e]?(""+t).trim():t+"px"}function HF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=WF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var YY=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FA(e,t){if(t){if(YY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gt(62))}}function $A(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BA=null;function A3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var VA=null,_0=null,S0=null;function n6(e){if(e=kv(e)){if(typeof VA!="function")throw Error(gt(280));var t=e.stateNode;t&&(t=Nw(t),VA(e.stateNode,e.type,t))}}function GF(e){_0?S0?S0.push(e):S0=[e]:_0=e}function KF(){if(_0){var e=_0,t=S0;if(S0=_0=null,n6(e),t)for(e=0;e<t.length;e++)n6(t[e])}}function YF(e,t){return e(t)}function XF(){}var N_=!1;function QF(e,t,r){if(N_)return e(t,r);N_=!0;try{return YF(e,t,r)}finally{N_=!1,(_0!==null||S0!==null)&&(XF(),KF())}}function Xg(e,t){var r=e.stateNode;if(r===null)return null;var n=Nw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(gt(231,t,typeof r));return r}var UA=!1;if(Cc)try{var km={};Object.defineProperty(km,"passive",{get:function(){UA=!0}}),window.addEventListener("test",km,km),window.removeEventListener("test",km,km)}catch{UA=!1}function XY(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var dg=!1,f2=null,h2=!1,zA=null,QY={onError:function(e){dg=!0,f2=e}};function JY(e,t,r,n,a,i,s,o,l){dg=!1,f2=null,XY.apply(QY,arguments)}function ZY(e,t,r,n,a,i,s,o,l){if(JY.apply(this,arguments),dg){if(dg){var c=f2;dg=!1,f2=null}else throw Error(gt(198));h2||(h2=!0,zA=c)}}function nd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function JF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a6(e){if(nd(e)!==e)throw Error(gt(188))}function eX(e){var t=e.alternate;if(!t){if(t=nd(e),t===null)throw Error(gt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return a6(a),e;if(i===n)return a6(a),t;i=i.sibling}throw Error(gt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(gt(189))}}if(r.alternate!==n)throw Error(gt(190))}if(r.tag!==3)throw Error(gt(188));return r.stateNode.current===r?e:t}function ZF(e){return e=eX(e),e!==null?e7(e):null}function e7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e7(e);if(t!==null)return t;e=e.sibling}return null}var t7=Rs.unstable_scheduleCallback,i6=Rs.unstable_cancelCallback,tX=Rs.unstable_shouldYield,rX=Rs.unstable_requestPaint,ea=Rs.unstable_now,nX=Rs.unstable_getCurrentPriorityLevel,T3=Rs.unstable_ImmediatePriority,r7=Rs.unstable_UserBlockingPriority,d2=Rs.unstable_NormalPriority,aX=Rs.unstable_LowPriority,n7=Rs.unstable_IdlePriority,Ew=null,Ol=null;function iX(e){if(Ol&&typeof Ol.onCommitFiberRoot=="function")try{Ol.onCommitFiberRoot(Ew,e,void 0,(e.current.flags&128)===128)}catch{}}var el=Math.clz32?Math.clz32:lX,sX=Math.log,oX=Math.LN2;function lX(e){return e>>>=0,e===0?32:31-(sX(e)/oX|0)|0}var My=64,Ry=4194304;function Zm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function p2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Zm(o):(i&=s,i!==0&&(n=Zm(i)))}else s=r&~a,s!==0?n=Zm(s):i!==0&&(n=Zm(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-el(t),a=1<<r,n|=e[r],t&=~a;return n}function cX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-el(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=cX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function qA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a7(){var e=My;return My<<=1,!(My&4194240)&&(My=64),e}function O_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-el(t),e[t]=r}function fX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-el(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function E3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-el(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Qr=0;function i7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s7,k3,o7,l7,c7,WA=!1,Fy=[],Ju=null,Zu=null,ef=null,Qg=new Map,Jg=new Map,Ru=[],hX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s6(e,t){switch(e){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":Zu=null;break;case"mouseover":case"mouseout":ef=null;break;case"pointerover":case"pointerout":Qg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jg.delete(t.pointerId)}}function Cm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=kv(t),t!==null&&k3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function dX(e,t,r,n,a){switch(t){case"focusin":return Ju=Cm(Ju,e,t,r,n,a),!0;case"dragenter":return Zu=Cm(Zu,e,t,r,n,a),!0;case"mouseover":return ef=Cm(ef,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Qg.set(i,Cm(Qg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Jg.set(i,Cm(Jg.get(i)||null,e,t,r,n,a)),!0}return!1}function u7(e){var t=yh(e.target);if(t!==null){var r=nd(t);if(r!==null){if(t=r.tag,t===13){if(t=JF(r),t!==null){e.blockedOn=t,c7(e.priority,function(){o7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=HA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);BA=n,r.target.dispatchEvent(n),BA=null}else return t=kv(r),t!==null&&k3(t),e.blockedOn=r,!1;t.shift()}return!0}function o6(e,t,r){Mx(e)&&r.delete(t)}function pX(){WA=!1,Ju!==null&&Mx(Ju)&&(Ju=null),Zu!==null&&Mx(Zu)&&(Zu=null),ef!==null&&Mx(ef)&&(ef=null),Qg.forEach(o6),Jg.forEach(o6)}function Pm(e,t){e.blockedOn===t&&(e.blockedOn=null,WA||(WA=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,pX)))}function Zg(e){function t(a){return Pm(a,e)}if(0<Fy.length){Pm(Fy[0],e);for(var r=1;r<Fy.length;r++){var n=Fy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ju!==null&&Pm(Ju,e),Zu!==null&&Pm(Zu,e),ef!==null&&Pm(ef,e),Qg.forEach(t),Jg.forEach(t),r=0;r<Ru.length;r++)n=Ru[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ru.length&&(r=Ru[0],r.blockedOn===null);)u7(r),r.blockedOn===null&&Ru.shift()}var A0=Wc.ReactCurrentBatchConfig,m2=!0;function mX(e,t,r,n){var a=Qr,i=A0.transition;A0.transition=null;try{Qr=1,C3(e,t,r,n)}finally{Qr=a,A0.transition=i}}function gX(e,t,r,n){var a=Qr,i=A0.transition;A0.transition=null;try{Qr=4,C3(e,t,r,n)}finally{Qr=a,A0.transition=i}}function C3(e,t,r,n){if(m2){var a=HA(e,t,r,n);if(a===null)V_(e,t,n,g2,r),s6(e,n);else if(dX(a,e,t,r,n))n.stopPropagation();else if(s6(e,n),t&4&&-1<hX.indexOf(e)){for(;a!==null;){var i=kv(a);if(i!==null&&s7(i),i=HA(e,t,r,n),i===null&&V_(e,t,n,g2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else V_(e,t,n,null,r)}}var g2=null;function HA(e,t,r,n){if(g2=null,e=A3(n),e=yh(e),e!==null)if(t=nd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=JF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return g2=e,null}function f7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nX()){case T3:return 1;case r7:return 4;case d2:case aX:return 16;case n7:return 536870912;default:return 16}default:return 16}}var zu=null,P3=null,Rx=null;function h7(){if(Rx)return Rx;var e,t=P3,r=t.length,n,a="value"in zu?zu.value:zu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Rx=a.slice(e,1<n?1-n:void 0)}function Fx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $y(){return!0}function l6(){return!1}function Us(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$y:l6,this.isPropagationStopped=l6,this}return Mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$y)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$y)},persist:function(){},isPersistent:$y}),t}var jp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N3=Us(jp),Ev=Mn({},jp,{view:0,detail:0}),vX=Us(Ev),I_,D_,Nm,kw=Mn({},Ev,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nm&&(Nm&&e.type==="mousemove"?(I_=e.screenX-Nm.screenX,D_=e.screenY-Nm.screenY):D_=I_=0,Nm=e),I_)},movementY:function(e){return"movementY"in e?e.movementY:D_}}),c6=Us(kw),yX=Mn({},kw,{dataTransfer:0}),xX=Us(yX),bX=Mn({},Ev,{relatedTarget:0}),j_=Us(bX),wX=Mn({},jp,{animationName:0,elapsedTime:0,pseudoElement:0}),_X=Us(wX),SX=Mn({},jp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AX=Us(SX),TX=Mn({},jp,{data:0}),u6=Us(TX),EX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CX[e])?!!t[e]:!1}function O3(){return PX}var NX=Mn({},Ev,{key:function(e){if(e.key){var t=EX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O3,charCode:function(e){return e.type==="keypress"?Fx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OX=Us(NX),IX=Mn({},kw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f6=Us(IX),DX=Mn({},Ev,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O3}),jX=Us(DX),LX=Mn({},jp,{propertyName:0,elapsedTime:0,pseudoElement:0}),MX=Us(LX),RX=Mn({},kw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FX=Us(RX),$X=[9,13,27,32],I3=Cc&&"CompositionEvent"in window,pg=null;Cc&&"documentMode"in document&&(pg=document.documentMode);var BX=Cc&&"TextEvent"in window&&!pg,d7=Cc&&(!I3||pg&&8<pg&&11>=pg),h6=" ",d6=!1;function p7(e,t){switch(e){case"keyup":return $X.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var t0=!1;function VX(e,t){switch(e){case"compositionend":return m7(t);case"keypress":return t.which!==32?null:(d6=!0,h6);case"textInput":return e=t.data,e===h6&&d6?null:e;default:return null}}function UX(e,t){if(t0)return e==="compositionend"||!I3&&p7(e,t)?(e=h7(),Rx=P3=zu=null,t0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return d7&&t.locale!=="ko"?null:t.data;default:return null}}var zX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zX[e.type]:t==="textarea"}function g7(e,t,r,n){GF(n),t=v2(t,"onChange"),0<t.length&&(r=new N3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mg=null,e1=null;function qX(e){k7(e,0)}function Cw(e){var t=a0(e);if(BF(t))return e}function WX(e,t){if(e==="change")return t}var v7=!1;if(Cc){var L_;if(Cc){var M_="oninput"in document;if(!M_){var m6=document.createElement("div");m6.setAttribute("oninput","return;"),M_=typeof m6.oninput=="function"}L_=M_}else L_=!1;v7=L_&&(!document.documentMode||9<document.documentMode)}function g6(){mg&&(mg.detachEvent("onpropertychange",y7),e1=mg=null)}function y7(e){if(e.propertyName==="value"&&Cw(e1)){var t=[];g7(t,e1,e,A3(e)),QF(qX,t)}}function HX(e,t,r){e==="focusin"?(g6(),mg=t,e1=r,mg.attachEvent("onpropertychange",y7)):e==="focusout"&&g6()}function GX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cw(e1)}function KX(e,t){if(e==="click")return Cw(t)}function YX(e,t){if(e==="input"||e==="change")return Cw(t)}function XX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var al=typeof Object.is=="function"?Object.is:XX;function t1(e,t){if(al(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!CA.call(t,a)||!al(e[a],t[a]))return!1}return!0}function v6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y6(e,t){var r=v6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=v6(r)}}function x7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?x7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b7(){for(var e=window,t=u2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=u2(e.document)}return t}function D3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QX(e){var t=b7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&x7(r.ownerDocument.documentElement,r)){if(n!==null&&D3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=y6(r,i);var s=y6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JX=Cc&&"documentMode"in document&&11>=document.documentMode,r0=null,GA=null,gg=null,KA=!1;function x6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;KA||r0==null||r0!==u2(n)||(n=r0,"selectionStart"in n&&D3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gg&&t1(gg,n)||(gg=n,n=v2(GA,"onSelect"),0<n.length&&(t=new N3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=r0)))}function By(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var n0={animationend:By("Animation","AnimationEnd"),animationiteration:By("Animation","AnimationIteration"),animationstart:By("Animation","AnimationStart"),transitionend:By("Transition","TransitionEnd")},R_={},w7={};Cc&&(w7=document.createElement("div").style,"AnimationEvent"in window||(delete n0.animationend.animation,delete n0.animationiteration.animation,delete n0.animationstart.animation),"TransitionEvent"in window||delete n0.transitionend.transition);function Pw(e){if(R_[e])return R_[e];if(!n0[e])return e;var t=n0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in w7)return R_[e]=t[r];return e}var _7=Pw("animationend"),S7=Pw("animationiteration"),A7=Pw("animationstart"),T7=Pw("transitionend"),E7=new Map,b6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cf(e,t){E7.set(e,t),rd(t,[e])}for(var F_=0;F_<b6.length;F_++){var $_=b6[F_],ZX=$_.toLowerCase(),eQ=$_[0].toUpperCase()+$_.slice(1);Cf(ZX,"on"+eQ)}Cf(_7,"onAnimationEnd");Cf(S7,"onAnimationIteration");Cf(A7,"onAnimationStart");Cf("dblclick","onDoubleClick");Cf("focusin","onFocus");Cf("focusout","onBlur");Cf(T7,"onTransitionEnd");U0("onMouseEnter",["mouseout","mouseover"]);U0("onMouseLeave",["mouseout","mouseover"]);U0("onPointerEnter",["pointerout","pointerover"]);U0("onPointerLeave",["pointerout","pointerover"]);rd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rd("onBeforeInput",["compositionend","keypress","textInput","paste"]);rd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(eg));function w6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ZY(n,t,void 0,e),e.currentTarget=null}function k7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;w6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;w6(a,o,c),i=l}}}if(h2)throw e=zA,h2=!1,zA=null,e}function xn(e,t){var r=t[ZA];r===void 0&&(r=t[ZA]=new Set);var n=e+"__bubble";r.has(n)||(C7(t,e,2,!1),r.add(n))}function B_(e,t,r){var n=0;t&&(n|=4),C7(r,e,n,t)}var Vy="_reactListening"+Math.random().toString(36).slice(2);function r1(e){if(!e[Vy]){e[Vy]=!0,LF.forEach(function(r){r!=="selectionchange"&&(tQ.has(r)||B_(r,!1,e),B_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vy]||(t[Vy]=!0,B_("selectionchange",!1,t))}}function C7(e,t,r,n){switch(f7(t)){case 1:var a=mX;break;case 4:a=gX;break;default:a=C3}r=a.bind(null,t,r,e),a=void 0,!UA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function V_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=yh(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}QF(function(){var c=i,u=A3(r),f=[];e:{var h=E7.get(e);if(h!==void 0){var d=N3,g=e;switch(e){case"keypress":if(Fx(r)===0)break e;case"keydown":case"keyup":d=OX;break;case"focusin":g="focus",d=j_;break;case"focusout":g="blur",d=j_;break;case"beforeblur":case"afterblur":d=j_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=c6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=xX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=jX;break;case _7:case S7:case A7:d=_X;break;case T7:d=MX;break;case"scroll":d=vX;break;case"wheel":d=FX;break;case"copy":case"cut":case"paste":d=AX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=f6}var m=(t&4)!==0,y=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,w;b!==null;){w=b;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,v!==null&&(D=Xg(b,v),D!=null&&m.push(n1(b,D,w)))),y)break;b=b.return}0<m.length&&(h=new d(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==BA&&(g=r.relatedTarget||r.fromElement)&&(yh(g)||g[Pc]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=c,g=g?yh(g):null,g!==null&&(y=nd(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=c),d!==g)){if(m=c6,D="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=f6,D="onPointerLeave",v="onPointerEnter",b="pointer"),y=d==null?h:a0(d),w=g==null?h:a0(g),h=new m(D,b+"leave",d,r,u),h.target=y,h.relatedTarget=w,D=null,yh(u)===c&&(m=new m(v,b+"enter",g,r,u),m.target=w,m.relatedTarget=y,D=m),y=D,d&&g)t:{for(m=d,v=g,b=0,w=m;w;w=Fd(w))b++;for(w=0,D=v;D;D=Fd(D))w++;for(;0<b-w;)m=Fd(m),b--;for(;0<w-b;)v=Fd(v),w--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=Fd(m),v=Fd(v)}m=null}else m=null;d!==null&&_6(f,h,d,m,!1),g!==null&&y!==null&&_6(f,y,g,m,!0)}}e:{if(h=c?a0(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var P=WX;else if(p6(h))if(v7)P=YX;else{P=GX;var O=HX}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=KX);if(P&&(P=P(e,c))){g7(f,P,r,u);break e}O&&O(e,h,c),e==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&LA(h,"number",h.value)}switch(O=c?a0(c):window,e){case"focusin":(p6(O)||O.contentEditable==="true")&&(r0=O,GA=c,gg=null);break;case"focusout":gg=GA=r0=null;break;case"mousedown":KA=!0;break;case"contextmenu":case"mouseup":case"dragend":KA=!1,x6(f,r,u);break;case"selectionchange":if(JX)break;case"keydown":case"keyup":x6(f,r,u)}var E;if(I3)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else t0?p7(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(d7&&r.locale!=="ko"&&(t0||A!=="onCompositionStart"?A==="onCompositionEnd"&&t0&&(E=h7()):(zu=u,P3="value"in zu?zu.value:zu.textContent,t0=!0)),O=v2(c,A),0<O.length&&(A=new u6(A,e,null,r,u),f.push({event:A,listeners:O}),E?A.data=E:(E=m7(r),E!==null&&(A.data=E)))),(E=BX?VX(e,r):UX(e,r))&&(c=v2(c,"onBeforeInput"),0<c.length&&(u=new u6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}k7(f,t)})}function n1(e,t,r){return{instance:e,listener:t,currentTarget:r}}function v2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xg(e,r),i!=null&&n.unshift(n1(e,i,a)),i=Xg(e,t),i!=null&&n.push(n1(e,i,a))),e=e.return}return n}function Fd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Xg(r,i),l!=null&&s.unshift(n1(r,l,o))):a||(l=Xg(r,i),l!=null&&s.push(n1(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var rQ=/\r\n?/g,nQ=/\u0000|\uFFFD/g;function S6(e){return(typeof e=="string"?e:""+e).replace(rQ,`
`).replace(nQ,"")}function Uy(e,t,r){if(t=S6(t),S6(e)!==t&&r)throw Error(gt(425))}function y2(){}var YA=null,XA=null;function QA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var JA=typeof setTimeout=="function"?setTimeout:void 0,aQ=typeof clearTimeout=="function"?clearTimeout:void 0,A6=typeof Promise=="function"?Promise:void 0,iQ=typeof queueMicrotask=="function"?queueMicrotask:typeof A6<"u"?function(e){return A6.resolve(null).then(e).catch(sQ)}:JA;function sQ(e){setTimeout(function(){throw e})}function U_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zg(t)}function tf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function T6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Lp=Math.random().toString(36).slice(2),Cl="__reactFiber$"+Lp,a1="__reactProps$"+Lp,Pc="__reactContainer$"+Lp,ZA="__reactEvents$"+Lp,oQ="__reactListeners$"+Lp,lQ="__reactHandles$"+Lp;function yh(e){var t=e[Cl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pc]||r[Cl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=T6(e);e!==null;){if(r=e[Cl])return r;e=T6(e)}return t}e=r,r=e.parentNode}return null}function kv(e){return e=e[Cl]||e[Pc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function a0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(gt(33))}function Nw(e){return e[a1]||null}var e4=[],i0=-1;function Pf(e){return{current:e}}function An(e){0>i0||(e.current=e4[i0],e4[i0]=null,i0--)}function pn(e,t){i0++,e4[i0]=e.current,e.current=t}var gf={},Ci=Pf(gf),ds=Pf(!1),Fh=gf;function z0(e,t){var r=e.type.contextTypes;if(!r)return gf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ps(e){return e=e.childContextTypes,e!=null}function x2(){An(ds),An(Ci)}function E6(e,t,r){if(Ci.current!==gf)throw Error(gt(168));pn(Ci,t),pn(ds,r)}function P7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(gt(108,HY(e)||"Unknown",a));return Mn({},r,n)}function b2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gf,Fh=Ci.current,pn(Ci,e),pn(ds,ds.current),!0}function k6(e,t,r){var n=e.stateNode;if(!n)throw Error(gt(169));r?(e=P7(e,t,Fh),n.__reactInternalMemoizedMergedChildContext=e,An(ds),An(Ci),pn(Ci,e)):An(ds),pn(ds,r)}var hc=null,Ow=!1,z_=!1;function N7(e){hc===null?hc=[e]:hc.push(e)}function cQ(e){Ow=!0,N7(e)}function Nf(){if(!z_&&hc!==null){z_=!0;var e=0,t=Qr;try{var r=hc;for(Qr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hc=null,Ow=!1}catch(a){throw hc!==null&&(hc=hc.slice(e+1)),t7(T3,Nf),a}finally{Qr=t,z_=!1}}return null}var s0=[],o0=0,w2=null,_2=0,so=[],oo=0,$h=null,dc=1,pc="";function oh(e,t){s0[o0++]=_2,s0[o0++]=w2,w2=e,_2=t}function O7(e,t,r){so[oo++]=dc,so[oo++]=pc,so[oo++]=$h,$h=e;var n=dc;e=pc;var a=32-el(n)-1;n&=~(1<<a),r+=1;var i=32-el(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,dc=1<<32-el(t)+a|r<<a|n,pc=i+e}else dc=1<<i|r<<a|n,pc=e}function j3(e){e.return!==null&&(oh(e,1),O7(e,1,0))}function L3(e){for(;e===w2;)w2=s0[--o0],s0[o0]=null,_2=s0[--o0],s0[o0]=null;for(;e===$h;)$h=so[--oo],so[oo]=null,pc=so[--oo],so[oo]=null,dc=so[--oo],so[oo]=null}var Ms=null,Ds=null,kn=!1,Go=null;function I7(e,t){var r=co(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function C6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ms=e,Ds=tf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ms=e,Ds=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$h!==null?{id:dc,overflow:pc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=co(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ms=e,Ds=null,!0):!1;default:return!1}}function t4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function r4(e){if(kn){var t=Ds;if(t){var r=t;if(!C6(e,t)){if(t4(e))throw Error(gt(418));t=tf(r.nextSibling);var n=Ms;t&&C6(e,t)?I7(n,r):(e.flags=e.flags&-4097|2,kn=!1,Ms=e)}}else{if(t4(e))throw Error(gt(418));e.flags=e.flags&-4097|2,kn=!1,Ms=e}}}function P6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ms=e}function zy(e){if(e!==Ms)return!1;if(!kn)return P6(e),kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!QA(e.type,e.memoizedProps)),t&&(t=Ds)){if(t4(e))throw D7(),Error(gt(418));for(;t;)I7(e,t),t=tf(t.nextSibling)}if(P6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(gt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ds=tf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ds=null}}else Ds=Ms?tf(e.stateNode.nextSibling):null;return!0}function D7(){for(var e=Ds;e;)e=tf(e.nextSibling)}function q0(){Ds=Ms=null,kn=!1}function M3(e){Go===null?Go=[e]:Go.push(e)}var uQ=Wc.ReactCurrentBatchConfig;function Om(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(gt(309));var n=r.stateNode}if(!n)throw Error(gt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(gt(284));if(!r._owner)throw Error(gt(290,e))}return e}function qy(e,t){throw e=Object.prototype.toString.call(t),Error(gt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function N6(e){var t=e._init;return t(e._payload)}function j7(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=sf(v,b),v.index=0,v.sibling=null,v}function i(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,D){return b===null||b.tag!==6?(b=X_(w,v.mode,D),b.return=v,b):(b=a(b,w),b.return=v,b)}function l(v,b,w,D){var P=w.type;return P===e0?u(v,b,w.props.children,D,w.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ju&&N6(P)===b.type)?(D=a(b,w.props),D.ref=Om(v,b,w),D.return=v,D):(D=Wx(w.type,w.key,w.props,null,v.mode,D),D.ref=Om(v,b,w),D.return=v,D)}function c(v,b,w,D){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Q_(w,v.mode,D),b.return=v,b):(b=a(b,w.children||[]),b.return=v,b)}function u(v,b,w,D,P){return b===null||b.tag!==7?(b=Nh(w,v.mode,D,P),b.return=v,b):(b=a(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=X_(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dy:return w=Wx(b.type,b.key,b.props,null,v.mode,w),w.ref=Om(v,null,b),w.return=v,w;case Zd:return b=Q_(b,v.mode,w),b.return=v,b;case ju:var D=b._init;return f(v,D(b._payload),w)}if(Jm(b)||Em(b))return b=Nh(b,v.mode,w,null),b.return=v,b;qy(v,b)}return null}function h(v,b,w,D){var P=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(v,b,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dy:return w.key===P?l(v,b,w,D):null;case Zd:return w.key===P?c(v,b,w,D):null;case ju:return P=w._init,h(v,b,P(w._payload),D)}if(Jm(w)||Em(w))return P!==null?null:u(v,b,w,D,null);qy(v,w)}return null}function d(v,b,w,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(w)||null,o(b,v,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Dy:return v=v.get(D.key===null?w:D.key)||null,l(b,v,D,P);case Zd:return v=v.get(D.key===null?w:D.key)||null,c(b,v,D,P);case ju:var O=D._init;return d(v,b,w,O(D._payload),P)}if(Jm(D)||Em(D))return v=v.get(w)||null,u(b,v,D,P,null);qy(b,D)}return null}function g(v,b,w,D){for(var P=null,O=null,E=b,A=b=0,S=null;E!==null&&A<w.length;A++){E.index>A?(S=E,E=null):S=E.sibling;var I=h(v,E,w[A],D);if(I===null){E===null&&(E=S);break}e&&E&&I.alternate===null&&t(v,E),b=i(I,b,A),O===null?P=I:O.sibling=I,O=I,E=S}if(A===w.length)return r(v,E),kn&&oh(v,A),P;if(E===null){for(;A<w.length;A++)E=f(v,w[A],D),E!==null&&(b=i(E,b,A),O===null?P=E:O.sibling=E,O=E);return kn&&oh(v,A),P}for(E=n(v,E);A<w.length;A++)S=d(E,v,A,w[A],D),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?A:S.key),b=i(S,b,A),O===null?P=S:O.sibling=S,O=S);return e&&E.forEach(function(T){return t(v,T)}),kn&&oh(v,A),P}function m(v,b,w,D){var P=Em(w);if(typeof P!="function")throw Error(gt(150));if(w=P.call(w),w==null)throw Error(gt(151));for(var O=P=null,E=b,A=b=0,S=null,I=w.next();E!==null&&!I.done;A++,I=w.next()){E.index>A?(S=E,E=null):S=E.sibling;var T=h(v,E,I.value,D);if(T===null){E===null&&(E=S);break}e&&E&&T.alternate===null&&t(v,E),b=i(T,b,A),O===null?P=T:O.sibling=T,O=T,E=S}if(I.done)return r(v,E),kn&&oh(v,A),P;if(E===null){for(;!I.done;A++,I=w.next())I=f(v,I.value,D),I!==null&&(b=i(I,b,A),O===null?P=I:O.sibling=I,O=I);return kn&&oh(v,A),P}for(E=n(v,E);!I.done;A++,I=w.next())I=d(E,v,A,I.value,D),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?A:I.key),b=i(I,b,A),O===null?P=I:O.sibling=I,O=I);return e&&E.forEach(function(C){return t(v,C)}),kn&&oh(v,A),P}function y(v,b,w,D){if(typeof w=="object"&&w!==null&&w.type===e0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Dy:e:{for(var P=w.key,O=b;O!==null;){if(O.key===P){if(P=w.type,P===e0){if(O.tag===7){r(v,O.sibling),b=a(O,w.props.children),b.return=v,v=b;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ju&&N6(P)===O.type){r(v,O.sibling),b=a(O,w.props),b.ref=Om(v,O,w),b.return=v,v=b;break e}r(v,O);break}else t(v,O);O=O.sibling}w.type===e0?(b=Nh(w.props.children,v.mode,D,w.key),b.return=v,v=b):(D=Wx(w.type,w.key,w.props,null,v.mode,D),D.ref=Om(v,b,w),D.return=v,v=D)}return s(v);case Zd:e:{for(O=w.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(v,b.sibling),b=a(b,w.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=Q_(w,v.mode,D),b.return=v,v=b}return s(v);case ju:return O=w._init,y(v,b,O(w._payload),D)}if(Jm(w))return g(v,b,w,D);if(Em(w))return m(v,b,w,D);qy(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(v,b.sibling),b=a(b,w),b.return=v,v=b):(r(v,b),b=X_(w,v.mode,D),b.return=v,v=b),s(v)):r(v,b)}return y}var W0=j7(!0),L7=j7(!1),S2=Pf(null),A2=null,l0=null,R3=null;function F3(){R3=l0=A2=null}function $3(e){var t=S2.current;An(S2),e._currentValue=t}function n4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function T0(e,t){A2=e,R3=l0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(us=!0),e.firstContext=null)}function vo(e){var t=e._currentValue;if(R3!==e)if(e={context:e,memoizedValue:t,next:null},l0===null){if(A2===null)throw Error(gt(308));l0=e,A2.dependencies={lanes:0,firstContext:e}}else l0=l0.next=e;return t}var xh=null;function B3(e){xh===null?xh=[e]:xh.push(e)}function M7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,B3(t)):(r.next=a.next,a.next=r),t.interleaved=r,Nc(e,n)}function Nc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lu=!1;function V3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Nc(e,r)}return a=n.interleaved,a===null?(t.next=t,B3(n)):(t.next=a.next,a.next=t),n.interleaved=t,Nc(e,r)}function $x(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E3(e,r)}}function O6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function T2(e,t,r,n){var a=e.updateQueue;Lu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,d=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,d=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(d,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(d,f,h):g,h==null)break e;f=Mn({},f,h);break e;case 2:Lu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Vh|=s,e.lanes=s,e.memoizedState=f}}function I6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(gt(191,a));a.call(n)}}}var Cv={},Il=Pf(Cv),i1=Pf(Cv),s1=Pf(Cv);function bh(e){if(e===Cv)throw Error(gt(174));return e}function U3(e,t){switch(pn(s1,t),pn(i1,e),pn(Il,Cv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RA(t,e)}An(Il),pn(Il,t)}function H0(){An(Il),An(i1),An(s1)}function F7(e){bh(s1.current);var t=bh(Il.current),r=RA(t,e.type);t!==r&&(pn(i1,e),pn(Il,r))}function z3(e){i1.current===e&&(An(Il),An(i1))}var In=Pf(0);function E2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var q_=[];function q3(){for(var e=0;e<q_.length;e++)q_[e]._workInProgressVersionPrimary=null;q_.length=0}var Bx=Wc.ReactCurrentDispatcher,W_=Wc.ReactCurrentBatchConfig,Bh=0,jn=null,wa=null,ja=null,k2=!1,vg=!1,o1=0,fQ=0;function oi(){throw Error(gt(321))}function W3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!al(e[r],t[r]))return!1;return!0}function H3(e,t,r,n,a,i){if(Bh=i,jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bx.current=e===null||e.memoizedState===null?mQ:gQ,e=r(n,a),vg){i=0;do{if(vg=!1,o1=0,25<=i)throw Error(gt(301));i+=1,ja=wa=null,t.updateQueue=null,Bx.current=vQ,e=r(n,a)}while(vg)}if(Bx.current=C2,t=wa!==null&&wa.next!==null,Bh=0,ja=wa=jn=null,k2=!1,t)throw Error(gt(300));return e}function G3(){var e=o1!==0;return o1=0,e}function Tl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ja===null?jn.memoizedState=ja=e:ja=ja.next=e,ja}function yo(){if(wa===null){var e=jn.alternate;e=e!==null?e.memoizedState:null}else e=wa.next;var t=ja===null?jn.memoizedState:ja.next;if(t!==null)ja=t,wa=e;else{if(e===null)throw Error(gt(310));wa=e,e={memoizedState:wa.memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},ja===null?jn.memoizedState=ja=e:ja=ja.next=e}return ja}function l1(e,t){return typeof t=="function"?t(e):t}function H_(e){var t=yo(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=wa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Bh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,jn.lanes|=u,Vh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,al(n,t.memoizedState)||(us=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,jn.lanes|=i,Vh|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function G_(e){var t=yo(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);al(i,t.memoizedState)||(us=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $7(){}function B7(e,t){var r=jn,n=yo(),a=t(),i=!al(n.memoizedState,a);if(i&&(n.memoizedState=a,us=!0),n=n.queue,K3(z7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ja!==null&&ja.memoizedState.tag&1){if(r.flags|=2048,c1(9,U7.bind(null,r,n,a,t),void 0,null),Fa===null)throw Error(gt(349));Bh&30||V7(r,t,a)}return a}function V7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function U7(e,t,r,n){t.value=r,t.getSnapshot=n,q7(t)&&W7(e)}function z7(e,t,r){return r(function(){q7(t)&&W7(e)})}function q7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!al(e,r)}catch{return!0}}function W7(e){var t=Nc(e,1);t!==null&&tl(t,e,1,-1)}function D6(e){var t=Tl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l1,lastRenderedState:e},t.queue=e,e=e.dispatch=pQ.bind(null,jn,e),[t.memoizedState,e]}function c1(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function H7(){return yo().memoizedState}function Vx(e,t,r,n){var a=Tl();jn.flags|=e,a.memoizedState=c1(1|t,r,void 0,n===void 0?null:n)}function Iw(e,t,r,n){var a=yo();n=n===void 0?null:n;var i=void 0;if(wa!==null){var s=wa.memoizedState;if(i=s.destroy,n!==null&&W3(n,s.deps)){a.memoizedState=c1(t,r,i,n);return}}jn.flags|=e,a.memoizedState=c1(1|t,r,i,n)}function j6(e,t){return Vx(8390656,8,e,t)}function K3(e,t){return Iw(2048,8,e,t)}function G7(e,t){return Iw(4,2,e,t)}function K7(e,t){return Iw(4,4,e,t)}function Y7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function X7(e,t,r){return r=r!=null?r.concat([e]):null,Iw(4,4,Y7.bind(null,t,e),r)}function Y3(){}function Q7(e,t){var r=yo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&W3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function J7(e,t){var r=yo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&W3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Z7(e,t,r){return Bh&21?(al(r,t)||(r=a7(),jn.lanes|=r,Vh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,us=!0),e.memoizedState=r)}function hQ(e,t){var r=Qr;Qr=r!==0&&4>r?r:4,e(!0);var n=W_.transition;W_.transition={};try{e(!1),t()}finally{Qr=r,W_.transition=n}}function e9(){return yo().memoizedState}function dQ(e,t,r){var n=af(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},t9(e))r9(t,r);else if(r=M7(e,t,r,n),r!==null){var a=qi();tl(r,e,n,a),n9(r,t,n)}}function pQ(e,t,r){var n=af(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(t9(e))r9(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,al(o,s)){var l=t.interleaved;l===null?(a.next=a,B3(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=M7(e,t,a,n),r!==null&&(a=qi(),tl(r,e,n,a),n9(r,t,n))}}function t9(e){var t=e.alternate;return e===jn||t!==null&&t===jn}function r9(e,t){vg=k2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function n9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E3(e,r)}}var C2={readContext:vo,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},mQ={readContext:vo,useCallback:function(e,t){return Tl().memoizedState=[e,t===void 0?null:t],e},useContext:vo,useEffect:j6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vx(4194308,4,Y7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vx(4,2,e,t)},useMemo:function(e,t){var r=Tl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Tl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dQ.bind(null,jn,e),[n.memoizedState,e]},useRef:function(e){var t=Tl();return e={current:e},t.memoizedState=e},useState:D6,useDebugValue:Y3,useDeferredValue:function(e){return Tl().memoizedState=e},useTransition:function(){var e=D6(!1),t=e[0];return e=hQ.bind(null,e[1]),Tl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jn,a=Tl();if(kn){if(r===void 0)throw Error(gt(407));r=r()}else{if(r=t(),Fa===null)throw Error(gt(349));Bh&30||V7(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,j6(z7.bind(null,n,i,e),[e]),n.flags|=2048,c1(9,U7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Tl(),t=Fa.identifierPrefix;if(kn){var r=pc,n=dc;r=(n&~(1<<32-el(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=o1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gQ={readContext:vo,useCallback:Q7,useContext:vo,useEffect:K3,useImperativeHandle:X7,useInsertionEffect:G7,useLayoutEffect:K7,useMemo:J7,useReducer:H_,useRef:H7,useState:function(){return H_(l1)},useDebugValue:Y3,useDeferredValue:function(e){var t=yo();return Z7(t,wa.memoizedState,e)},useTransition:function(){var e=H_(l1)[0],t=yo().memoizedState;return[e,t]},useMutableSource:$7,useSyncExternalStore:B7,useId:e9,unstable_isNewReconciler:!1},vQ={readContext:vo,useCallback:Q7,useContext:vo,useEffect:K3,useImperativeHandle:X7,useInsertionEffect:G7,useLayoutEffect:K7,useMemo:J7,useReducer:G_,useRef:H7,useState:function(){return G_(l1)},useDebugValue:Y3,useDeferredValue:function(e){var t=yo();return wa===null?t.memoizedState=e:Z7(t,wa.memoizedState,e)},useTransition:function(){var e=G_(l1)[0],t=yo().memoizedState;return[e,t]},useMutableSource:$7,useSyncExternalStore:B7,useId:e9,unstable_isNewReconciler:!1};function Uo(e,t){if(e&&e.defaultProps){t=Mn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function a4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dw={isMounted:function(e){return(e=e._reactInternals)?nd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qi(),a=af(e),i=bc(n,a);i.payload=t,r!=null&&(i.callback=r),t=rf(e,i,a),t!==null&&(tl(t,e,a,n),$x(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qi(),a=af(e),i=bc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=rf(e,i,a),t!==null&&(tl(t,e,a,n),$x(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qi(),n=af(e),a=bc(r,n);a.tag=2,t!=null&&(a.callback=t),t=rf(e,a,n),t!==null&&(tl(t,e,n,r),$x(t,e,n))}};function L6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!t1(r,n)||!t1(a,i):!0}function a9(e,t,r){var n=!1,a=gf,i=t.contextType;return typeof i=="object"&&i!==null?i=vo(i):(a=ps(t)?Fh:Ci.current,n=t.contextTypes,i=(n=n!=null)?z0(e,a):gf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function M6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dw.enqueueReplaceState(t,t.state,null)}function i4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},V3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=vo(i):(i=ps(t)?Fh:Ci.current,a.context=z0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(a4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dw.enqueueReplaceState(a,a.state,null),T2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function G0(e,t){try{var r="",n=t;do r+=WY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function K_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function s4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yQ=typeof WeakMap=="function"?WeakMap:Map;function i9(e,t,r){r=bc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){N2||(N2=!0,g4=n),s4(e,t)},r}function s9(e,t,r){r=bc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){s4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){s4(e,t),typeof n!="function"&&(nf===null?nf=new Set([this]):nf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function R6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=IQ.bind(null,e,t,r),t.then(e,e))}function F6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bc(-1,1),t.tag=2,rf(r,t,1))),r.lanes|=1),e)}var xQ=Wc.ReactCurrentOwner,us=!1;function Fi(e,t,r,n){t.child=e===null?L7(t,null,r,n):W0(t,e.child,r,n)}function B6(e,t,r,n,a){r=r.render;var i=t.ref;return T0(t,a),n=H3(e,t,r,n,i,a),r=G3(),e!==null&&!us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oc(e,t,a)):(kn&&r&&j3(t),t.flags|=1,Fi(e,t,n,a),t.child)}function V6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!nk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,o9(e,t,i,n,a)):(e=Wx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:t1,r(s,n)&&e.ref===t.ref)return Oc(e,t,a)}return t.flags|=1,e=sf(i,n),e.ref=t.ref,e.return=t,t.child=e}function o9(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(t1(i,n)&&e.ref===t.ref)if(us=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(us=!0);else return t.lanes=e.lanes,Oc(e,t,a)}return o4(e,t,r,n,a)}function l9(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(u0,Cs),Cs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pn(u0,Cs),Cs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pn(u0,Cs),Cs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pn(u0,Cs),Cs|=n;return Fi(e,t,a,r),t.child}function c9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function o4(e,t,r,n,a){var i=ps(r)?Fh:Ci.current;return i=z0(t,i),T0(t,a),r=H3(e,t,r,n,i,a),n=G3(),e!==null&&!us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oc(e,t,a)):(kn&&n&&j3(t),t.flags|=1,Fi(e,t,r,a),t.child)}function U6(e,t,r,n,a){if(ps(r)){var i=!0;b2(t)}else i=!1;if(T0(t,a),t.stateNode===null)Ux(e,t),a9(t,r,n),i4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=vo(c):(c=ps(r)?Fh:Ci.current,c=z0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&M6(t,s,n,c),Lu=!1;var h=t.memoizedState;s.state=h,T2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ds.current||Lu?(typeof u=="function"&&(a4(t,r,u,n),l=t.memoizedState),(o=Lu||L6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,R7(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Uo(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=vo(l):(l=ps(r)?Fh:Ci.current,l=z0(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&M6(t,s,n,l),Lu=!1,h=t.memoizedState,s.state=h,T2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||ds.current||Lu?(typeof d=="function"&&(a4(t,r,d,n),g=t.memoizedState),(c=Lu||L6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return l4(e,t,r,n,i,a)}function l4(e,t,r,n,a,i){c9(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&k6(t,r,!1),Oc(e,t,i);n=t.stateNode,xQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=W0(t,e.child,null,i),t.child=W0(t,null,o,i)):Fi(e,t,o,i),t.memoizedState=n.state,a&&k6(t,r,!0),t.child}function u9(e){var t=e.stateNode;t.pendingContext?E6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&E6(e,t.context,!1),U3(e,t.containerInfo)}function z6(e,t,r,n,a){return q0(),M3(a),t.flags|=256,Fi(e,t,r,n),t.child}var c4={dehydrated:null,treeContext:null,retryLane:0};function u4(e){return{baseLanes:e,cachePool:null,transitions:null}}function f9(e,t,r){var n=t.pendingProps,a=In.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),pn(In,a&1),e===null)return r4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Mw(s,n,0,null),e=Nh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=u4(r),t.memoizedState=c4,e):X3(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return bQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=sf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=sf(o,i):(i=Nh(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?u4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=c4,n}return i=e.child,e=i.sibling,n=sf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function X3(e,t){return t=Mw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wy(e,t,r,n){return n!==null&&M3(n),W0(t,e.child,null,r),e=X3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=K_(Error(gt(422))),Wy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Mw({mode:"visible",children:n.children},a,0,null),i=Nh(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&W0(t,e.child,null,s),t.child.memoizedState=u4(s),t.memoizedState=c4,i);if(!(t.mode&1))return Wy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(gt(419)),n=K_(i,n,void 0),Wy(e,t,s,n)}if(o=(s&e.childLanes)!==0,us||o){if(n=Fa,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Nc(e,a),tl(n,e,a,-1))}return rk(),n=K_(Error(gt(421))),Wy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=DQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ds=tf(a.nextSibling),Ms=t,kn=!0,Go=null,e!==null&&(so[oo++]=dc,so[oo++]=pc,so[oo++]=$h,dc=e.id,pc=e.overflow,$h=t),t=X3(t,n.children),t.flags|=4096,t)}function q6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),n4(e.return,t,r)}function Y_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function h9(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Fi(e,t,n.children,r),n=In.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q6(e,r,t);else if(e.tag===19)q6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pn(In,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&E2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Y_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&E2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Y_(t,!0,r,null,i);break;case"together":Y_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ux(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(gt(153));if(t.child!==null){for(e=t.child,r=sf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wQ(e,t,r){switch(t.tag){case 3:u9(t),q0();break;case 5:F7(t);break;case 1:ps(t.type)&&b2(t);break;case 4:U3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;pn(S2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pn(In,In.current&1),t.flags|=128,null):r&t.child.childLanes?f9(e,t,r):(pn(In,In.current&1),e=Oc(e,t,r),e!==null?e.sibling:null);pn(In,In.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return h9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pn(In,In.current),n)break;return null;case 22:case 23:return t.lanes=0,l9(e,t,r)}return Oc(e,t,r)}var d9,f4,p9,m9;d9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};f4=function(){};p9=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,bh(Il.current);var i=null;switch(r){case"input":a=DA(e,a),n=DA(e,n),i=[];break;case"select":a=Mn({},a,{value:void 0}),n=Mn({},n,{value:void 0}),i=[];break;case"textarea":a=MA(e,a),n=MA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=y2)}FA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kg.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};m9=function(e,t,r,n){r!==n&&(t.flags|=4)};function Im(e,t){if(!kn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function li(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _Q(e,t,r){var n=t.pendingProps;switch(L3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(t),null;case 1:return ps(t.type)&&x2(),li(t),null;case 3:return n=t.stateNode,H0(),An(ds),An(Ci),q3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Go!==null&&(x4(Go),Go=null))),f4(e,t),li(t),null;case 5:z3(t);var a=bh(s1.current);if(r=t.type,e!==null&&t.stateNode!=null)p9(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(gt(166));return li(t),null}if(e=bh(Il.current),zy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Cl]=t,n[a1]=i,e=(t.mode&1)!==0,r){case"dialog":xn("cancel",n),xn("close",n);break;case"iframe":case"object":case"embed":xn("load",n);break;case"video":case"audio":for(a=0;a<eg.length;a++)xn(eg[a],n);break;case"source":xn("error",n);break;case"img":case"image":case"link":xn("error",n),xn("load",n);break;case"details":xn("toggle",n);break;case"input":ZN(n,i),xn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xn("invalid",n);break;case"textarea":t6(n,i),xn("invalid",n)}FA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Uy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Uy(n.textContent,o,e),a=["children",""+o]):Kg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&xn("scroll",n)}switch(r){case"input":jy(n),e6(n,i,!0);break;case"textarea":jy(n),r6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=y2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Cl]=t,e[a1]=n,d9(e,t,!1,!1),t.stateNode=e;e:{switch(s=$A(r,n),r){case"dialog":xn("cancel",e),xn("close",e),a=n;break;case"iframe":case"object":case"embed":xn("load",e),a=n;break;case"video":case"audio":for(a=0;a<eg.length;a++)xn(eg[a],e);a=n;break;case"source":xn("error",e),a=n;break;case"img":case"image":case"link":xn("error",e),xn("load",e),a=n;break;case"details":xn("toggle",e),a=n;break;case"input":ZN(e,n),a=DA(e,n),xn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Mn({},n,{value:void 0}),xn("invalid",e);break;case"textarea":t6(e,n),a=MA(e,n),xn("invalid",e);break;default:a=n}FA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?HF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yg(e,l):typeof l=="number"&&Yg(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kg.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xn("scroll",e):l!=null&&b3(e,i,l,s))}switch(r){case"input":jy(e),e6(e,n,!1);break;case"textarea":jy(e),r6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?w0(e,!!n.multiple,i,!1):n.defaultValue!=null&&w0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=y2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return li(t),null;case 6:if(e&&t.stateNode!=null)m9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gt(166));if(r=bh(s1.current),bh(Il.current),zy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Cl]=t,(i=n.nodeValue!==r)&&(e=Ms,e!==null))switch(e.tag){case 3:Uy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Cl]=t,t.stateNode=n}return li(t),null;case 13:if(An(In),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kn&&Ds!==null&&t.mode&1&&!(t.flags&128))D7(),q0(),t.flags|=98560,i=!1;else if(i=zy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(gt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(gt(317));i[Cl]=t}else q0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;li(t),i=!1}else Go!==null&&(x4(Go),Go=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||In.current&1?_a===0&&(_a=3):rk())),t.updateQueue!==null&&(t.flags|=4),li(t),null);case 4:return H0(),f4(e,t),e===null&&r1(t.stateNode.containerInfo),li(t),null;case 10:return $3(t.type._context),li(t),null;case 17:return ps(t.type)&&x2(),li(t),null;case 19:if(An(In),i=t.memoizedState,i===null)return li(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Im(i,!1);else{if(_a!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=E2(e),s!==null){for(t.flags|=128,Im(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pn(In,In.current&1|2),t.child}e=e.sibling}i.tail!==null&&ea()>K0&&(t.flags|=128,n=!0,Im(i,!1),t.lanes=4194304)}else{if(!n)if(e=E2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Im(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!kn)return li(t),null}else 2*ea()-i.renderingStartTime>K0&&r!==1073741824&&(t.flags|=128,n=!0,Im(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ea(),t.sibling=null,r=In.current,pn(In,n?r&1|2:r&1),t):(li(t),null);case 22:case 23:return tk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cs&1073741824&&(li(t),t.subtreeFlags&6&&(t.flags|=8192)):li(t),null;case 24:return null;case 25:return null}throw Error(gt(156,t.tag))}function SQ(e,t){switch(L3(t),t.tag){case 1:return ps(t.type)&&x2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return H0(),An(ds),An(Ci),q3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return z3(t),null;case 13:if(An(In),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(gt(340));q0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return An(In),null;case 4:return H0(),null;case 10:return $3(t.type._context),null;case 22:case 23:return tk(),null;case 24:return null;default:return null}}var Hy=!1,xi=!1,AQ=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function c0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Hn(e,t,n)}else r.current=null}function h4(e,t,r){try{r()}catch(n){Hn(e,t,n)}}var W6=!1;function TQ(e,t){if(YA=m2,e=b7(),D3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(XA={focusedElem:e,selectionRange:r},m2=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Uo(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(D){Hn(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return g=W6,W6=!1,g}function yg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&h4(t,r,i)}a=a.next}while(a!==n)}}function jw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function d4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function g9(e){var t=e.alternate;t!==null&&(e.alternate=null,g9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cl],delete t[a1],delete t[ZA],delete t[oQ],delete t[lQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v9(e){return e.tag===5||e.tag===3||e.tag===4}function H6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function p4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=y2));else if(n!==4&&(e=e.child,e!==null))for(p4(e,t,r),e=e.sibling;e!==null;)p4(e,t,r),e=e.sibling}function m4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(m4(e,t,r),e=e.sibling;e!==null;)m4(e,t,r),e=e.sibling}var Ga=null,qo=!1;function ku(e,t,r){for(r=r.child;r!==null;)y9(e,t,r),r=r.sibling}function y9(e,t,r){if(Ol&&typeof Ol.onCommitFiberUnmount=="function")try{Ol.onCommitFiberUnmount(Ew,r)}catch{}switch(r.tag){case 5:xi||c0(r,t);case 6:var n=Ga,a=qo;Ga=null,ku(e,t,r),Ga=n,qo=a,Ga!==null&&(qo?(e=Ga,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ga.removeChild(r.stateNode));break;case 18:Ga!==null&&(qo?(e=Ga,r=r.stateNode,e.nodeType===8?U_(e.parentNode,r):e.nodeType===1&&U_(e,r),Zg(e)):U_(Ga,r.stateNode));break;case 4:n=Ga,a=qo,Ga=r.stateNode.containerInfo,qo=!0,ku(e,t,r),Ga=n,qo=a;break;case 0:case 11:case 14:case 15:if(!xi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&h4(r,t,s),a=a.next}while(a!==n)}ku(e,t,r);break;case 1:if(!xi&&(c0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Hn(r,t,o)}ku(e,t,r);break;case 21:ku(e,t,r);break;case 22:r.mode&1?(xi=(n=xi)||r.memoizedState!==null,ku(e,t,r),xi=n):ku(e,t,r);break;default:ku(e,t,r)}}function G6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new AQ),t.forEach(function(n){var a=jQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function jo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ga=o.stateNode,qo=!1;break e;case 3:Ga=o.stateNode.containerInfo,qo=!0;break e;case 4:Ga=o.stateNode.containerInfo,qo=!0;break e}o=o.return}if(Ga===null)throw Error(gt(160));y9(i,s,a),Ga=null,qo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Hn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)x9(t,e),t=t.sibling}function x9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jo(t,e),wl(e),n&4){try{yg(3,e,e.return),jw(3,e)}catch(m){Hn(e,e.return,m)}try{yg(5,e,e.return)}catch(m){Hn(e,e.return,m)}}break;case 1:jo(t,e),wl(e),n&512&&r!==null&&c0(r,r.return);break;case 5:if(jo(t,e),wl(e),n&512&&r!==null&&c0(r,r.return),e.flags&32){var a=e.stateNode;try{Yg(a,"")}catch(m){Hn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&VF(a,i),$A(o,s);var c=$A(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?HF(a,f):u==="dangerouslySetInnerHTML"?qF(a,f):u==="children"?Yg(a,f):b3(a,u,f,c)}switch(o){case"input":jA(a,i);break;case"textarea":UF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?w0(a,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?w0(a,!!i.multiple,i.defaultValue,!0):w0(a,!!i.multiple,i.multiple?[]:"",!1))}a[a1]=i}catch(m){Hn(e,e.return,m)}}break;case 6:if(jo(t,e),wl(e),n&4){if(e.stateNode===null)throw Error(gt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Hn(e,e.return,m)}}break;case 3:if(jo(t,e),wl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zg(t.containerInfo)}catch(m){Hn(e,e.return,m)}break;case 4:jo(t,e),wl(e);break;case 13:jo(t,e),wl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Z3=ea())),n&4&&G6(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(xi=(c=xi)||u,jo(t,e),xi=c):jo(t,e),wl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Mt=e,u=e.child;u!==null;){for(f=Mt=u;Mt!==null;){switch(h=Mt,d=h.child,h.tag){case 0:case 11:case 14:case 15:yg(4,h,h.return);break;case 1:c0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Hn(n,r,m)}}break;case 5:c0(h,h.return);break;case 22:if(h.memoizedState!==null){Y6(f);continue}}d!==null?(d.return=h,Mt=d):Y6(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=WF("display",s))}catch(m){Hn(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Hn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jo(t,e),wl(e),n&4&&G6(e);break;case 21:break;default:jo(t,e),wl(e)}}function wl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(v9(r)){var n=r;break e}r=r.return}throw Error(gt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yg(a,""),n.flags&=-33);var i=H6(e);m4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=H6(e);p4(e,o,s);break;default:throw Error(gt(161))}}catch(l){Hn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EQ(e,t,r){Mt=e,b9(e)}function b9(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var a=Mt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Hy;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||xi;o=Hy;var c=xi;if(Hy=s,(xi=l)&&!c)for(Mt=a;Mt!==null;)s=Mt,l=s.child,s.tag===22&&s.memoizedState!==null?X6(a):l!==null?(l.return=s,Mt=l):X6(a);for(;i!==null;)Mt=i,b9(i),i=i.sibling;Mt=a,Hy=o,xi=c}K6(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Mt=i):K6(e)}}function K6(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xi||jw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Uo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&I6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}I6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}xi||t.flags&512&&d4(t)}catch(h){Hn(t,t.return,h)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function Y6(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function X6(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jw(4,t)}catch(l){Hn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Hn(t,a,l)}}var i=t.return;try{d4(t)}catch(l){Hn(t,i,l)}break;case 5:var s=t.return;try{d4(t)}catch(l){Hn(t,s,l)}}}catch(l){Hn(t,t.return,l)}if(t===e){Mt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Mt=o;break}Mt=t.return}}var kQ=Math.ceil,P2=Wc.ReactCurrentDispatcher,Q3=Wc.ReactCurrentOwner,fo=Wc.ReactCurrentBatchConfig,Dr=0,Fa=null,da=null,ei=0,Cs=0,u0=Pf(0),_a=0,u1=null,Vh=0,Lw=0,J3=0,xg=null,ls=null,Z3=0,K0=1/0,fc=null,N2=!1,g4=null,nf=null,Gy=!1,qu=null,O2=0,bg=0,v4=null,zx=-1,qx=0;function qi(){return Dr&6?ea():zx!==-1?zx:zx=ea()}function af(e){return e.mode&1?Dr&2&&ei!==0?ei&-ei:uQ.transition!==null?(qx===0&&(qx=a7()),qx):(e=Qr,e!==0||(e=window.event,e=e===void 0?16:f7(e.type)),e):1}function tl(e,t,r,n){if(50<bg)throw bg=0,v4=null,Error(gt(185));Tv(e,r,n),(!(Dr&2)||e!==Fa)&&(e===Fa&&(!(Dr&2)&&(Lw|=r),_a===4&&Fu(e,ei)),ms(e,n),r===1&&Dr===0&&!(t.mode&1)&&(K0=ea()+500,Ow&&Nf()))}function ms(e,t){var r=e.callbackNode;uX(e,t);var n=p2(e,e===Fa?ei:0);if(n===0)r!==null&&i6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&i6(r),t===1)e.tag===0?cQ(Q6.bind(null,e)):N7(Q6.bind(null,e)),iQ(function(){!(Dr&6)&&Nf()}),r=null;else{switch(i7(n)){case 1:r=T3;break;case 4:r=r7;break;case 16:r=d2;break;case 536870912:r=n7;break;default:r=d2}r=C9(r,w9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function w9(e,t){if(zx=-1,qx=0,Dr&6)throw Error(gt(327));var r=e.callbackNode;if(E0()&&e.callbackNode!==r)return null;var n=p2(e,e===Fa?ei:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=I2(e,n);else{t=n;var a=Dr;Dr|=2;var i=S9();(Fa!==e||ei!==t)&&(fc=null,K0=ea()+500,Ph(e,t));do try{NQ();break}catch(o){_9(e,o)}while(!0);F3(),P2.current=i,Dr=a,da!==null?t=0:(Fa=null,ei=0,t=_a)}if(t!==0){if(t===2&&(a=qA(e),a!==0&&(n=a,t=y4(e,a))),t===1)throw r=u1,Ph(e,0),Fu(e,n),ms(e,ea()),r;if(t===6)Fu(e,n);else{if(a=e.current.alternate,!(n&30)&&!CQ(a)&&(t=I2(e,n),t===2&&(i=qA(e),i!==0&&(n=i,t=y4(e,i))),t===1))throw r=u1,Ph(e,0),Fu(e,n),ms(e,ea()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(gt(345));case 2:lh(e,ls,fc);break;case 3:if(Fu(e,n),(n&130023424)===n&&(t=Z3+500-ea(),10<t)){if(p2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){qi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=JA(lh.bind(null,e,ls,fc),t);break}lh(e,ls,fc);break;case 4:if(Fu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-el(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=ea()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kQ(n/1960))-n,10<n){e.timeoutHandle=JA(lh.bind(null,e,ls,fc),n);break}lh(e,ls,fc);break;case 5:lh(e,ls,fc);break;default:throw Error(gt(329))}}}return ms(e,ea()),e.callbackNode===r?w9.bind(null,e):null}function y4(e,t){var r=xg;return e.current.memoizedState.isDehydrated&&(Ph(e,t).flags|=256),e=I2(e,t),e!==2&&(t=ls,ls=r,t!==null&&x4(t)),e}function x4(e){ls===null?ls=e:ls.push.apply(ls,e)}function CQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!al(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fu(e,t){for(t&=~J3,t&=~Lw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-el(t),n=1<<r;e[r]=-1,t&=~n}}function Q6(e){if(Dr&6)throw Error(gt(327));E0();var t=p2(e,0);if(!(t&1))return ms(e,ea()),null;var r=I2(e,t);if(e.tag!==0&&r===2){var n=qA(e);n!==0&&(t=n,r=y4(e,n))}if(r===1)throw r=u1,Ph(e,0),Fu(e,t),ms(e,ea()),r;if(r===6)throw Error(gt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lh(e,ls,fc),ms(e,ea()),null}function ek(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(K0=ea()+500,Ow&&Nf())}}function Uh(e){qu!==null&&qu.tag===0&&!(Dr&6)&&E0();var t=Dr;Dr|=1;var r=fo.transition,n=Qr;try{if(fo.transition=null,Qr=1,e)return e()}finally{Qr=n,fo.transition=r,Dr=t,!(Dr&6)&&Nf()}}function tk(){Cs=u0.current,An(u0)}function Ph(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aQ(r)),da!==null)for(r=da.return;r!==null;){var n=r;switch(L3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&x2();break;case 3:H0(),An(ds),An(Ci),q3();break;case 5:z3(n);break;case 4:H0();break;case 13:An(In);break;case 19:An(In);break;case 10:$3(n.type._context);break;case 22:case 23:tk()}r=r.return}if(Fa=e,da=e=sf(e.current,null),ei=Cs=t,_a=0,u1=null,J3=Lw=Vh=0,ls=xg=null,xh!==null){for(t=0;t<xh.length;t++)if(r=xh[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}xh=null}return e}function _9(e,t){do{var r=da;try{if(F3(),Bx.current=C2,k2){for(var n=jn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}k2=!1}if(Bh=0,ja=wa=jn=null,vg=!1,o1=0,Q3.current=null,r===null||r.return===null){_a=1,u1=t,da=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=ei,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=F6(s);if(d!==null){d.flags&=-257,$6(d,s,o,i,t),d.mode&1&&R6(i,c,t),t=d,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){R6(i,c,t),rk();break e}l=Error(gt(426))}}else if(kn&&o.mode&1){var y=F6(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$6(y,s,o,i,t),M3(G0(l,o));break e}}i=l=G0(l,o),_a!==4&&(_a=2),xg===null?xg=[i]:xg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=i9(i,l,t);O6(i,v);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nf===null||!nf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=s9(i,o,t);O6(i,D);break e}}i=i.return}while(i!==null)}T9(r)}catch(P){t=P,da===r&&r!==null&&(da=r=r.return);continue}break}while(!0)}function S9(){var e=P2.current;return P2.current=C2,e===null?C2:e}function rk(){(_a===0||_a===3||_a===2)&&(_a=4),Fa===null||!(Vh&268435455)&&!(Lw&268435455)||Fu(Fa,ei)}function I2(e,t){var r=Dr;Dr|=2;var n=S9();(Fa!==e||ei!==t)&&(fc=null,Ph(e,t));do try{PQ();break}catch(a){_9(e,a)}while(!0);if(F3(),Dr=r,P2.current=n,da!==null)throw Error(gt(261));return Fa=null,ei=0,_a}function PQ(){for(;da!==null;)A9(da)}function NQ(){for(;da!==null&&!tX();)A9(da)}function A9(e){var t=k9(e.alternate,e,Cs);e.memoizedProps=e.pendingProps,t===null?T9(e):da=t,Q3.current=null}function T9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=SQ(r,t),r!==null){r.flags&=32767,da=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_a=6,da=null;return}}else if(r=_Q(r,t,Cs),r!==null){da=r;return}if(t=t.sibling,t!==null){da=t;return}da=t=e}while(t!==null);_a===0&&(_a=5)}function lh(e,t,r){var n=Qr,a=fo.transition;try{fo.transition=null,Qr=1,OQ(e,t,r,n)}finally{fo.transition=a,Qr=n}return null}function OQ(e,t,r,n){do E0();while(qu!==null);if(Dr&6)throw Error(gt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(gt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(fX(e,i),e===Fa&&(da=Fa=null,ei=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gy||(Gy=!0,C9(d2,function(){return E0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=fo.transition,fo.transition=null;var s=Qr;Qr=1;var o=Dr;Dr|=4,Q3.current=null,TQ(e,r),x9(r,e),QX(XA),m2=!!YA,XA=YA=null,e.current=r,EQ(r),rX(),Dr=o,Qr=s,fo.transition=i}else e.current=r;if(Gy&&(Gy=!1,qu=e,O2=a),i=e.pendingLanes,i===0&&(nf=null),iX(r.stateNode),ms(e,ea()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(N2)throw N2=!1,e=g4,g4=null,e;return O2&1&&e.tag!==0&&E0(),i=e.pendingLanes,i&1?e===v4?bg++:(bg=0,v4=e):bg=0,Nf(),null}function E0(){if(qu!==null){var e=i7(O2),t=fo.transition,r=Qr;try{if(fo.transition=null,Qr=16>e?16:e,qu===null)var n=!1;else{if(e=qu,qu=null,O2=0,Dr&6)throw Error(gt(331));var a=Dr;for(Dr|=4,Mt=e.current;Mt!==null;){var i=Mt,s=i.child;if(Mt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Mt=c;Mt!==null;){var u=Mt;switch(u.tag){case 0:case 11:case 15:yg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Mt=f;else for(;Mt!==null;){u=Mt;var h=u.sibling,d=u.return;if(g9(u),u===c){Mt=null;break}if(h!==null){h.return=d,Mt=h;break}Mt=d}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Mt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Mt=s;else e:for(;Mt!==null;){if(i=Mt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yg(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Mt=v;break e}Mt=i.return}}var b=e.current;for(Mt=b;Mt!==null;){s=Mt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Mt=w;else e:for(s=b;Mt!==null;){if(o=Mt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jw(9,o)}}catch(P){Hn(o,o.return,P)}if(o===s){Mt=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,Mt=D;break e}Mt=o.return}}if(Dr=a,Nf(),Ol&&typeof Ol.onPostCommitFiberRoot=="function")try{Ol.onPostCommitFiberRoot(Ew,e)}catch{}n=!0}return n}finally{Qr=r,fo.transition=t}}return!1}function J6(e,t,r){t=G0(r,t),t=i9(e,t,1),e=rf(e,t,1),t=qi(),e!==null&&(Tv(e,1,t),ms(e,t))}function Hn(e,t,r){if(e.tag===3)J6(e,e,r);else for(;t!==null;){if(t.tag===3){J6(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nf===null||!nf.has(n))){e=G0(r,e),e=s9(t,e,1),t=rf(t,e,1),e=qi(),t!==null&&(Tv(t,1,e),ms(t,e));break}}t=t.return}}function IQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qi(),e.pingedLanes|=e.suspendedLanes&r,Fa===e&&(ei&r)===r&&(_a===4||_a===3&&(ei&130023424)===ei&&500>ea()-Z3?Ph(e,0):J3|=r),ms(e,t)}function E9(e,t){t===0&&(e.mode&1?(t=Ry,Ry<<=1,!(Ry&130023424)&&(Ry=4194304)):t=1);var r=qi();e=Nc(e,t),e!==null&&(Tv(e,t,r),ms(e,r))}function DQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),E9(e,r)}function jQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(gt(314))}n!==null&&n.delete(t),E9(e,r)}var k9;k9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ds.current)us=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return us=!1,wQ(e,t,r);us=!!(e.flags&131072)}else us=!1,kn&&t.flags&1048576&&O7(t,_2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ux(e,t),e=t.pendingProps;var a=z0(t,Ci.current);T0(t,r),a=H3(null,t,n,e,a,r);var i=G3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ps(n)?(i=!0,b2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,V3(t),a.updater=Dw,t.stateNode=a,a._reactInternals=t,i4(t,n,e,r),t=l4(null,t,n,!0,i,r)):(t.tag=0,kn&&i&&j3(t),Fi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ux(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=MQ(n),e=Uo(n,e),a){case 0:t=o4(null,t,n,e,r);break e;case 1:t=U6(null,t,n,e,r);break e;case 11:t=B6(null,t,n,e,r);break e;case 14:t=V6(null,t,n,Uo(n.type,e),r);break e}throw Error(gt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),o4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),U6(e,t,n,a,r);case 3:e:{if(u9(t),e===null)throw Error(gt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,R7(e,t),T2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=G0(Error(gt(423)),t),t=z6(e,t,n,r,a);break e}else if(n!==a){a=G0(Error(gt(424)),t),t=z6(e,t,n,r,a);break e}else for(Ds=tf(t.stateNode.containerInfo.firstChild),Ms=t,kn=!0,Go=null,r=L7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(q0(),n===a){t=Oc(e,t,r);break e}Fi(e,t,n,r)}t=t.child}return t;case 5:return F7(t),e===null&&r4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,QA(n,a)?s=null:i!==null&&QA(n,i)&&(t.flags|=32),c9(e,t),Fi(e,t,s,r),t.child;case 6:return e===null&&r4(t),null;case 13:return f9(e,t,r);case 4:return U3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=W0(t,null,n,r):Fi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),B6(e,t,n,a,r);case 7:return Fi(e,t,t.pendingProps,r),t.child;case 8:return Fi(e,t,t.pendingProps.children,r),t.child;case 12:return Fi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,pn(S2,n._currentValue),n._currentValue=s,i!==null)if(al(i.value,s)){if(i.children===a.children&&!ds.current){t=Oc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=bc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),n4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(gt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),n4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Fi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,T0(t,r),a=vo(a),n=n(a),t.flags|=1,Fi(e,t,n,r),t.child;case 14:return n=t.type,a=Uo(n,t.pendingProps),a=Uo(n.type,a),V6(e,t,n,a,r);case 15:return o9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),Ux(e,t),t.tag=1,ps(n)?(e=!0,b2(t)):e=!1,T0(t,r),a9(t,n,a),i4(t,n,a,r),l4(null,t,n,!0,e,r);case 19:return h9(e,t,r);case 22:return l9(e,t,r)}throw Error(gt(156,t.tag))};function C9(e,t){return t7(e,t)}function LQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function co(e,t,r,n){return new LQ(e,t,r,n)}function nk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MQ(e){if(typeof e=="function")return nk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_3)return 11;if(e===S3)return 14}return 2}function sf(e,t){var r=e.alternate;return r===null?(r=co(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")nk(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case e0:return Nh(r.children,a,i,t);case w3:s=8,a|=8;break;case PA:return e=co(12,r,t,a|2),e.elementType=PA,e.lanes=i,e;case NA:return e=co(13,r,t,a),e.elementType=NA,e.lanes=i,e;case OA:return e=co(19,r,t,a),e.elementType=OA,e.lanes=i,e;case FF:return Mw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MF:s=10;break e;case RF:s=9;break e;case _3:s=11;break e;case S3:s=14;break e;case ju:s=16,n=null;break e}throw Error(gt(130,e==null?e:typeof e,""))}return t=co(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Nh(e,t,r,n){return e=co(7,e,n,t),e.lanes=r,e}function Mw(e,t,r,n){return e=co(22,e,n,t),e.elementType=FF,e.lanes=r,e.stateNode={isHidden:!1},e}function X_(e,t,r){return e=co(6,e,null,t),e.lanes=r,e}function Q_(e,t,r){return t=co(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O_(0),this.expirationTimes=O_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ak(e,t,r,n,a,i,s,o,l){return e=new RQ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=co(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},V3(i),e}function FQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function P9(e){if(!e)return gf;e=e._reactInternals;e:{if(nd(e)!==e||e.tag!==1)throw Error(gt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(gt(171))}if(e.tag===1){var r=e.type;if(ps(r))return P7(e,r,t)}return t}function N9(e,t,r,n,a,i,s,o,l){return e=ak(r,n,!0,e,a,i,s,o,l),e.context=P9(null),r=e.current,n=qi(),a=af(r),i=bc(n,a),i.callback=t??null,rf(r,i,a),e.current.lanes=a,Tv(e,a,n),ms(e,n),e}function Rw(e,t,r,n){var a=t.current,i=qi(),s=af(a);return r=P9(r),t.context===null?t.context=r:t.pendingContext=r,t=bc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rf(a,t,s),e!==null&&(tl(e,a,s,i),$x(e,a,s)),s}function D2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ik(e,t){Z6(e,t),(e=e.alternate)&&Z6(e,t)}function $Q(){return null}var O9=typeof reportError=="function"?reportError:function(e){console.error(e)};function sk(e){this._internalRoot=e}Fw.prototype.render=sk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(gt(409));Rw(e,t,null,null)};Fw.prototype.unmount=sk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uh(function(){Rw(null,e,null,null)}),t[Pc]=null}};function Fw(e){this._internalRoot=e}Fw.prototype.unstable_scheduleHydration=function(e){if(e){var t=l7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ru.length&&t!==0&&t<Ru[r].priority;r++);Ru.splice(r,0,e),r===0&&u7(e)}};function ok(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $w(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eO(){}function BQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=D2(s);i.call(c)}}var s=N9(t,n,e,0,null,!1,!1,"",eO);return e._reactRootContainer=s,e[Pc]=s.current,r1(e.nodeType===8?e.parentNode:e),Uh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=D2(l);o.call(c)}}var l=ak(e,0,!1,null,null,!1,!1,"",eO);return e._reactRootContainer=l,e[Pc]=l.current,r1(e.nodeType===8?e.parentNode:e),Uh(function(){Rw(t,l,r,n)}),l}function Bw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=D2(s);o.call(l)}}Rw(t,s,e,a)}else s=BQ(r,t,e,a,n);return D2(s)}s7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zm(t.pendingLanes);r!==0&&(E3(t,r|1),ms(t,ea()),!(Dr&6)&&(K0=ea()+500,Nf()))}break;case 13:Uh(function(){var n=Nc(e,1);if(n!==null){var a=qi();tl(n,e,1,a)}}),ik(e,1)}};k3=function(e){if(e.tag===13){var t=Nc(e,134217728);if(t!==null){var r=qi();tl(t,e,134217728,r)}ik(e,134217728)}};o7=function(e){if(e.tag===13){var t=af(e),r=Nc(e,t);if(r!==null){var n=qi();tl(r,e,t,n)}ik(e,t)}};l7=function(){return Qr};c7=function(e,t){var r=Qr;try{return Qr=e,t()}finally{Qr=r}};VA=function(e,t,r){switch(t){case"input":if(jA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Nw(n);if(!a)throw Error(gt(90));BF(n),jA(n,a)}}}break;case"textarea":UF(e,r);break;case"select":t=r.value,t!=null&&w0(e,!!r.multiple,t,!1)}};YF=ek;XF=Uh;var VQ={usingClientEntryPoint:!1,Events:[kv,a0,Nw,GF,KF,ek]},Dm={findFiberByHostInstance:yh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UQ={bundleType:Dm.bundleType,version:Dm.version,rendererPackageName:Dm.rendererPackageName,rendererConfig:Dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZF(e),e===null?null:e.stateNode},findFiberByHostInstance:Dm.findFiberByHostInstance||$Q,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ky.isDisabled&&Ky.supportsFiber)try{Ew=Ky.inject(UQ),Ol=Ky}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VQ;Vs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ok(t))throw Error(gt(200));return FQ(e,t,null,r)};Vs.createRoot=function(e,t){if(!ok(e))throw Error(gt(299));var r=!1,n="",a=O9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ak(e,1,!1,null,null,r,!1,n,a),e[Pc]=t.current,r1(e.nodeType===8?e.parentNode:e),new sk(t)};Vs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(gt(188)):(e=Object.keys(e).join(","),Error(gt(268,e)));return e=ZF(t),e=e===null?null:e.stateNode,e};Vs.flushSync=function(e){return Uh(e)};Vs.hydrate=function(e,t,r){if(!$w(t))throw Error(gt(200));return Bw(null,e,t,!0,r)};Vs.hydrateRoot=function(e,t,r){if(!ok(e))throw Error(gt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=O9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=N9(t,null,e,1,r??null,a,!1,i,s),e[Pc]=t.current,r1(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Fw(t)};Vs.render=function(e,t,r){if(!$w(t))throw Error(gt(200));return Bw(null,e,t,!1,r)};Vs.unmountComponentAtNode=function(e){if(!$w(e))throw Error(gt(40));return e._reactRootContainer?(Uh(function(){Bw(null,null,e,!1,function(){e._reactRootContainer=null,e[Pc]=null})}),!0):!1};Vs.unstable_batchedUpdates=ek;Vs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$w(r))throw Error(gt(200));if(e==null||e._reactInternals===void 0)throw Error(gt(38));return Bw(e,t,r,!1,n)};Vs.version="18.3.1-next-f1338f8080-20240426";function I9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I9)}catch(e){console.error(e)}}I9(),IF.exports=Vs;var zQ=IF.exports,D9,tO=zQ;D9=tO.createRoot,tO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f1.apply(this,arguments)}var Wu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wu||(Wu={}));const rO="popstate";function qQ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return b4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:j2(a)}return HQ(t,r,null,e)}function Ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function j9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WQ(){return Math.random().toString(36).substr(2,8)}function nO(e,t){return{usr:e.state,key:e.key,idx:t}}function b4(e,t,r,n){return r===void 0&&(r=null),f1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mp(t):t,{state:r,key:t&&t.key||n||WQ()})}function j2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function HQ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Wu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(f1({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=Wu.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:o,location:m.location,delta:v})}function h(y,v){o=Wu.Push;let b=b4(m.location,y,v);c=u()+1;let w=nO(b,c),D=m.createHref(b);try{s.pushState(w,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}i&&l&&l({action:o,location:m.location,delta:1})}function d(y,v){o=Wu.Replace;let b=b4(m.location,y,v);c=u();let w=nO(b,c),D=m.createHref(b);s.replaceState(w,"",D),i&&l&&l({action:o,location:m.location,delta:0})}function g(y){let v=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:j2(y);return b=b.replace(/ $/,"%20"),Ln(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let m={get action(){return o},get location(){return e(a,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(rO,f),l=y,()=>{a.removeEventListener(rO,f),l=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:d,go(y){return s.go(y)}};return m}var aO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aO||(aO={}));function GQ(e,t,r){return r===void 0&&(r="/"),KQ(e,t,r,!1)}function KQ(e,t,r,n){let a=typeof t=="string"?Mp(t):t,i=Y0(a.pathname||"/",r);if(i==null)return null;let s=L9(e);YQ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=sJ(i);o=aJ(s[l],c,n)}return o}function L9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=of([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Ln(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),L9(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:rJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of M9(i.path))a(i,s,l)}),t}function M9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=M9(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function YQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XQ=/^:[\w-]+$/,QQ=3,JQ=2,ZQ=1,eJ=10,tJ=-2,iO=e=>e==="*";function rJ(e,t){let r=e.split("/"),n=r.length;return r.some(iO)&&(n+=tJ),t&&(n+=JQ),r.filter(a=>!iO(a)).reduce((a,i)=>a+(XQ.test(i)?QQ:i===""?ZQ:eJ),n)}function nJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function aJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=L2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=L2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:of([i,f.pathname]),pathnameBase:uJ(of([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=of([i,f.pathnameBase]))}return s}function L2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=iJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return d&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function iJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),j9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function sJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return j9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Y0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function oJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Mp(e):e;return{pathname:r?r.startsWith("/")?r:lJ(r,t):t,search:fJ(n),hash:hJ(a)}}function lJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function J_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lk(e,t){let r=cJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ck(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Mp(e):(a=f1({},e),Ln(!a.pathname||!a.pathname.includes("?"),J_("?","pathname","search",a)),Ln(!a.pathname||!a.pathname.includes("#"),J_("#","pathname","hash",a)),Ln(!a.search||!a.search.includes("#"),J_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=oJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const of=e=>e.join("/").replace(/\/\/+/g,"/"),uJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const R9=["post","put","patch","delete"];new Set(R9);const pJ=["get",...R9];new Set(pJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(this,arguments)}const Vw=Q.createContext(null),F9=Q.createContext(null),Hc=Q.createContext(null),Uw=Q.createContext(null),Gc=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),$9=Q.createContext(null);function mJ(e,t){let{relative:r}=t===void 0?{}:t;Rp()||Ln(!1);let{basename:n,navigator:a}=Q.useContext(Hc),{hash:i,pathname:s,search:o}=zw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:of([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Rp(){return Q.useContext(Uw)!=null}function Fp(){return Rp()||Ln(!1),Q.useContext(Uw).location}function B9(e){Q.useContext(Hc).static||Q.useLayoutEffect(e)}function Pv(){let{isDataRoute:e}=Q.useContext(Gc);return e?NJ():gJ()}function gJ(){Rp()||Ln(!1);let e=Q.useContext(Vw),{basename:t,future:r,navigator:n}=Q.useContext(Hc),{matches:a}=Q.useContext(Gc),{pathname:i}=Fp(),s=JSON.stringify(lk(a,r.v7_relativeSplatPath)),o=Q.useRef(!1);return B9(()=>{o.current=!0}),Q.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=ck(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:of([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const vJ=Q.createContext(null);function yJ(e){let t=Q.useContext(Gc).outlet;return t&&Q.createElement(vJ.Provider,{value:e},t)}function zw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=Q.useContext(Hc),{matches:a}=Q.useContext(Gc),{pathname:i}=Fp(),s=JSON.stringify(lk(a,n.v7_relativeSplatPath));return Q.useMemo(()=>ck(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function xJ(e,t){return bJ(e,t)}function bJ(e,t,r,n){Rp()||Ln(!1);let{navigator:a,static:i}=Q.useContext(Hc),{matches:s}=Q.useContext(Gc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fp(),f;if(t){var h;let v=typeof t=="string"?Mp(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Ln(!1),f=v}else f=u;let d=f.pathname||"/",g=d;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:GQ(e,{pathname:g}),y=TJ(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:of([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:of([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&y?Q.createElement(Uw.Provider,{value:{location:h1({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wu.Pop}},y):y}function wJ(){let e=PJ(),t=dJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),r?Q.createElement("pre",{style:a},r):null,null)}const _J=Q.createElement(wJ,null);class SJ extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Q.createElement(Gc.Provider,{value:this.props.routeContext},Q.createElement($9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AJ(e){let{routeContext:t,match:r,children:n}=e,a=Q.useContext(Vw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),Q.createElement(Gc.Provider,{value:t},n)}function TJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Ln(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:d}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let d,g=!1,m=null,y=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||_J,l&&(c<0&&h===0?(g=!0,y=null):c===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),b=()=>{let w;return d?w=m:g?w=y:f.route.Component?w=Q.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,Q.createElement(AJ,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Q.createElement(SJ,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var V9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(V9||{}),M2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(M2||{});function EJ(e){let t=Q.useContext(Vw);return t||Ln(!1),t}function kJ(e){let t=Q.useContext(F9);return t||Ln(!1),t}function CJ(e){let t=Q.useContext(Gc);return t||Ln(!1),t}function U9(e){let t=CJ(),r=t.matches[t.matches.length-1];return r.route.id||Ln(!1),r.route.id}function PJ(){var e;let t=Q.useContext($9),r=kJ(M2.UseRouteError),n=U9(M2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function NJ(){let{router:e}=EJ(V9.UseNavigateStable),t=U9(M2.UseNavigateStable),r=Q.useRef(!1);return B9(()=>{r.current=!0}),Q.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,h1({fromRouteId:t},i)))},[e,t])}function OJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function w4(e){let{to:t,replace:r,state:n,relative:a}=e;Rp()||Ln(!1);let{future:i,static:s}=Q.useContext(Hc),{matches:o}=Q.useContext(Gc),{pathname:l}=Fp(),c=Pv(),u=ck(t,lk(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return Q.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function IJ(e){return yJ(e.context)}function is(e){Ln(!1)}function DJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Wu.Pop,navigator:i,static:s=!1,future:o}=e;Rp()&&Ln(!1);let l=t.replace(/^\/*/,"/"),c=Q.useMemo(()=>({basename:l,navigator:i,static:s,future:h1({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Mp(n));let{pathname:u="/",search:f="",hash:h="",state:d=null,key:g="default"}=n,m=Q.useMemo(()=>{let y=Y0(u,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:d,key:g},navigationType:a}},[l,u,f,h,d,g,a]);return m==null?null:Q.createElement(Hc.Provider,{value:c},Q.createElement(Uw.Provider,{children:r,value:m}))}function jJ(e){let{children:t,location:r}=e;return xJ(_4(t),r)}new Promise(()=>{});function _4(e,t){t===void 0&&(t=[]);let r=[];return Q.Children.forEach(e,(n,a)=>{if(!Q.isValidElement(n))return;let i=[...t,a];if(n.type===Q.Fragment){r.push.apply(r,_4(n.props.children,i));return}n.type!==is&&Ln(!1),!n.props.index||!n.props.children||Ln(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=_4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R2(){return R2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R2.apply(this,arguments)}function z9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function LJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MJ(e,t){return e.button===0&&(!t||t==="_self")&&!LJ(e)}const RJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$J="6";try{window.__reactRouterVersion=$J}catch{}const BJ=Q.createContext({isTransitioning:!1}),VJ="startTransition",sO=IY[VJ];function UJ(e){let{basename:t,children:r,future:n,window:a}=e,i=Q.useRef();i.current==null&&(i.current=qQ({window:a,v5Compat:!0}));let s=i.current,[o,l]=Q.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=Q.useCallback(f=>{c&&sO?sO(()=>l(f)):l(f)},[l,c]);return Q.useLayoutEffect(()=>s.listen(u),[s,u]),Q.useEffect(()=>OJ(n),[n]),Q.createElement(DJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const zJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WJ=Q.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=z9(t,RJ),{basename:d}=Q.useContext(Hc),g,m=!1;if(typeof c=="string"&&qJ.test(c)&&(g=c,zJ))try{let w=new URL(window.location.href),D=c.startsWith("//")?new URL(w.protocol+c):new URL(c),P=Y0(D.pathname,d);D.origin===w.origin&&P!=null?c=P+D.search+D.hash:m=!0}catch{}let y=mJ(c,{relative:a}),v=GJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||v(w)}return Q.createElement("a",R2({},h,{href:g||y,onClick:m||i?n:b,ref:r,target:l}))}),Z_=Q.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=z9(t,FJ),h=zw(l,{relative:f.relative}),d=Fp(),g=Q.useContext(F9),{navigator:m,basename:y}=Q.useContext(Hc),v=g!=null&&KJ(h)&&c===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=d.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),D=D?D.toLowerCase():null,b=b.toLowerCase()),D&&y&&(D=Y0(D,y)||D);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let O=w===b||!s&&w.startsWith(b)&&w.charAt(P)==="/",E=D!=null&&(D===b||!s&&D.startsWith(b)&&D.charAt(b.length)==="/"),A={isActive:O,isPending:E,isTransitioning:v},S=O?n:void 0,I;typeof i=="function"?I=i(A):I=[i,O?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(A):o;return Q.createElement(WJ,R2({},f,{"aria-current":S,className:I,ref:r,style:T,to:l,viewTransition:c}),typeof u=="function"?u(A):u)});var S4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(S4||(S4={}));var oO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(oO||(oO={}));function HJ(e){let t=Q.useContext(Vw);return t||Ln(!1),t}function GJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Pv(),c=Fp(),u=zw(e,{relative:s});return Q.useCallback(f=>{if(MJ(f,r)){f.preventDefault();let h=n!==void 0?n:j2(c)===j2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function KJ(e,t){t===void 0&&(t={});let r=Q.useContext(BJ);r==null&&Ln(!1);let{basename:n}=HJ(S4.useViewTransitionState),a=zw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Y0(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Y0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return L2(a.pathname,s)!=null||L2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Zt=(e,t)=>{const r=Q.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>Q.createElement("svg",{ref:u,...YJ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${XJ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>Q.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=Zt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Zt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=Zt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Zt("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=Zt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=Zt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=Zt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Zt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=Zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Zt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Zt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=Zt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=Zt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=Zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=Zt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Zt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=Zt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=Zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=Zt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=Zt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=Zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=Zt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=Zt("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=Zt("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=Zt("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Zt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Zt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=Zt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Zt("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Zt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=Zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=Zt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=Zt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=Zt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=Zt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=Zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Zt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bZ=()=>{};var fO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},wZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},K9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,d=c&63;l||(d=64,s||(h=64)),n.push(r[u],r[f],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(G9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new _Z;const h=i<<2|o>>4;if(n.push(h),c!==64){const d=o<<4&240|c>>2;if(n.push(d),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SZ=function(e){const t=G9(e);return K9.encodeByteArray(t,!0)},B2=function(e){return SZ(e).replace(/\./g,"")},AZ=function(e){try{return K9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=()=>TZ().__FIREBASE_DEFAULTS__,kZ=()=>{if(typeof process>"u"||typeof fO>"u")return;const e=fO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},CZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&AZ(e[1]);return t&&JSON.parse(t)},uk=()=>{try{return bZ()||EZ()||kZ()||CZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},PZ=e=>{var t,r;return(r=(t=uk())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},NZ=e=>{const t=PZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Y9=()=>{var e;return(e=uk())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e){return e.endsWith(".cloudworkstations.dev")}async function IZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[B2(JSON.stringify(r)),B2(JSON.stringify(s)),""].join(".")}const wg={};function jZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(wg))wg[t]?e.emulator.push(t):e.prod.push(t);return e}function LZ(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let hO=!1;function X9(e,t){if(typeof window>"u"||typeof document>"u"||!fk(window.location.host)||wg[e]===t||wg[e]||hO)return;wg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=jZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{hO=!0,s()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=LZ(n),d=r("text"),g=document.getElementById(d)||document.createElement("span"),m=r("learnmore"),y=document.getElementById(m)||document.createElement("a"),v=r("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,m);const D=c();l(b,v),w.append(b,g,y,D),document.body.appendChild(w)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RZ(){var e;const t=(e=uk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FZ(){return!RZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $Z(){try{return typeof indexedDB=="object"}catch{return!1}}function BZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ="FirebaseError";class $p extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=VZ,Object.setPrototypeOf(this,$p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q9.prototype.create)}}class Q9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?UZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new $p(a,o,n)}}function UZ(e,t){return e.replace(zZ,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const zZ=/\{\$([^}]+)}/g;function V2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(dO(i)&&dO(s)){if(!V2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function dO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(e){return e&&e._delegate?e._delegate:e}class m1{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new OZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HZ(t))try{this.getOrInitializeService({instanceIdentifier:ch})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=ch){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ch){return this.instances.has(t)}getOptions(t=ch){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:WZ(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=ch){return this.component?this.component.multipleInstances?t:ch:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WZ(e){return e===ch?void 0:e}function HZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new qZ(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Er||(Er={}));const KZ={debug:Er.DEBUG,verbose:Er.VERBOSE,info:Er.INFO,warn:Er.WARN,error:Er.ERROR,silent:Er.SILENT},YZ=Er.INFO,XZ={[Er.DEBUG]:"log",[Er.VERBOSE]:"log",[Er.INFO]:"info",[Er.WARN]:"warn",[Er.ERROR]:"error"},QZ=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=XZ[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class J9{constructor(t){this.name=t,this._logLevel=YZ,this._logHandler=QZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Er))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KZ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Er.DEBUG,...t),this._logHandler(this,Er.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Er.VERBOSE,...t),this._logHandler(this,Er.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Er.INFO,...t),this._logHandler(this,Er.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Er.WARN,...t),this._logHandler(this,Er.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Er.ERROR,...t),this._logHandler(this,Er.ERROR,...t)}}const JZ=(e,t)=>t.some(r=>e instanceof r);let pO,mO;function ZZ(){return pO||(pO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eee(){return mO||(mO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z9=new WeakMap,k4=new WeakMap,e$=new WeakMap,eS=new WeakMap,hk=new WeakMap;function tee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(lf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&Z9.set(r,e)}).catch(()=>{}),hk.set(t,e),t}function ree(e){if(k4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});k4.set(e,t)}let C4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return k4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||e$.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return lf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function nee(e){C4=e(C4)}function aee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(tS(this),t,...r);return e$.set(n,t.sort?t.sort():[t]),lf(n)}:eee().includes(e)?function(...t){return e.apply(tS(this),t),lf(Z9.get(this))}:function(...t){return lf(e.apply(tS(this),t))}}function iee(e){return typeof e=="function"?aee(e):(e instanceof IDBTransaction&&ree(e),JZ(e,ZZ())?new Proxy(e,C4):e)}function lf(e){if(e instanceof IDBRequest)return tee(e);if(eS.has(e))return eS.get(e);const t=iee(e);return t!==e&&(eS.set(e,t),hk.set(t,e)),t}const tS=e=>hk.get(e);function see(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=lf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(lf(s.result),l.oldVersion,l.newVersion,lf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const oee=["get","getKey","getAll","getAllKeys","count"],lee=["put","add","delete","clear"],rS=new Map;function gO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rS.get(t))return rS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=lee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||oee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return rS.set(t,i),i}nee(e=>({...e,get:(t,r,n)=>gO(t,r)||e.get(t,r,n),has:(t,r)=>!!gO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(uee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function uee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const P4="@firebase/app",vO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new J9("@firebase/app"),fee="@firebase/app-compat",hee="@firebase/analytics-compat",dee="@firebase/analytics",pee="@firebase/app-check-compat",mee="@firebase/app-check",gee="@firebase/auth",vee="@firebase/auth-compat",yee="@firebase/database",xee="@firebase/data-connect",bee="@firebase/database-compat",wee="@firebase/functions",_ee="@firebase/functions-compat",See="@firebase/installations",Aee="@firebase/installations-compat",Tee="@firebase/messaging",Eee="@firebase/messaging-compat",kee="@firebase/performance",Cee="@firebase/performance-compat",Pee="@firebase/remote-config",Nee="@firebase/remote-config-compat",Oee="@firebase/storage",Iee="@firebase/storage-compat",Dee="@firebase/firestore",jee="@firebase/vertexai",Lee="@firebase/firestore-compat",Mee="firebase",Ree="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="[DEFAULT]",Fee={[P4]:"fire-core",[fee]:"fire-core-compat",[dee]:"fire-analytics",[hee]:"fire-analytics-compat",[mee]:"fire-app-check",[pee]:"fire-app-check-compat",[gee]:"fire-auth",[vee]:"fire-auth-compat",[yee]:"fire-rtdb",[xee]:"fire-data-connect",[bee]:"fire-rtdb-compat",[wee]:"fire-fn",[_ee]:"fire-fn-compat",[See]:"fire-iid",[Aee]:"fire-iid-compat",[Tee]:"fire-fcm",[Eee]:"fire-fcm-compat",[kee]:"fire-perf",[Cee]:"fire-perf-compat",[Pee]:"fire-rc",[Nee]:"fire-rc-compat",[Oee]:"fire-gcs",[Iee]:"fire-gcs-compat",[Dee]:"fire-fst",[Lee]:"fire-fst-compat",[jee]:"fire-vertex","fire-js":"fire-js",[Mee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Map,$ee=new Map,O4=new Map;function yO(e,t){try{e.container.addComponent(t)}catch(r){Ic.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function z2(e){const t=e.name;if(O4.has(t))return Ic.debug(`There were multiple attempts to register component ${t}.`),!1;O4.set(t,e);for(const r of U2.values())yO(r,e);for(const r of $ee.values())yO(r,e);return!0}function Bee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Vee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cf=new Q9("app","Firebase",Uee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new m1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee=Ree;function t$(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:N4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw cf.create("bad-app-name",{appName:String(a)});if(r||(r=Y9()),!r)throw cf.create("no-options");const i=U2.get(a);if(i){if(V2(r,i.options)&&V2(n,i.config))return i;throw cf.create("duplicate-app",{appName:a})}const s=new GZ(a);for(const l of O4.values())s.addComponent(l);const o=new zee(r,n,s);return U2.set(a,o),o}function Wee(e=N4){const t=U2.get(e);if(!t&&e===N4&&Y9())return t$();if(!t)throw cf.create("no-app",{appName:e});return t}function k0(e,t,r){var n;let a=(n=Fee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ic.warn(o.join(" "));return}z2(new m1(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee="firebase-heartbeat-database",Gee=1,g1="firebase-heartbeat-store";let nS=null;function r$(){return nS||(nS=see(Hee,Gee,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(g1)}catch(r){console.warn(r)}}}}).catch(e=>{throw cf.create("idb-open",{originalErrorMessage:e.message})})),nS}async function Kee(e){try{const r=(await r$()).transaction(g1),n=await r.objectStore(g1).get(n$(e));return await r.done,n}catch(t){if(t instanceof $p)Ic.warn(t.message);else{const r=cf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ic.warn(r.message)}}}async function xO(e,t){try{const n=(await r$()).transaction(g1,"readwrite");await n.objectStore(g1).put(t,n$(e)),await n.done}catch(r){if(r instanceof $p)Ic.warn(r.message);else{const n=cf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ic.warn(n.message)}}}function n$(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yee=1024,Xee=30;class Qee{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Zee(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Xee){const s=ete(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ic.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bO(),{heartbeatsToSend:n,unsentEntries:a}=Jee(this._heartbeatsCache.heartbeats),i=B2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Ic.warn(r),""}}}function bO(){return new Date().toISOString().substring(0,10)}function Jee(e,t=Yee){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),wO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),wO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Zee{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $Z()?BZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Kee(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return xO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return xO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function wO(e){return B2(JSON.stringify({version:2,heartbeats:e})).length}function ete(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tte(e){z2(new m1("platform-logger",t=>new cee(t),"PRIVATE")),z2(new m1("heartbeat",t=>new Qee(t),"PRIVATE")),k0(P4,vO,e),k0(P4,vO,"esm2017"),k0("fire-js","")}tte("");var rte="firebase",nte="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */k0(rte,nte,"app");var _O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uf,a$;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,A){function S(){}S.prototype=A.prototype,E.D=A.prototype,E.prototype=new S,E.prototype.constructor=E,E.C=function(I,T,C){for(var L=Array(arguments.length-2),H=2;H<arguments.length;H++)L[H-2]=arguments[H];return A.prototype[T].apply(I,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,A,S){S||(S=0);var I=Array(16);if(typeof A=="string")for(var T=0;16>T;++T)I[T]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(T=0;16>T;++T)I[T]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=E.g[0],S=E.g[1],T=E.g[2];var C=E.g[3],L=A+(C^S&(T^C))+I[0]+3614090360&4294967295;A=S+(L<<7&4294967295|L>>>25),L=C+(T^A&(S^T))+I[1]+3905402710&4294967295,C=A+(L<<12&4294967295|L>>>20),L=T+(S^C&(A^S))+I[2]+606105819&4294967295,T=C+(L<<17&4294967295|L>>>15),L=S+(A^T&(C^A))+I[3]+3250441966&4294967295,S=T+(L<<22&4294967295|L>>>10),L=A+(C^S&(T^C))+I[4]+4118548399&4294967295,A=S+(L<<7&4294967295|L>>>25),L=C+(T^A&(S^T))+I[5]+1200080426&4294967295,C=A+(L<<12&4294967295|L>>>20),L=T+(S^C&(A^S))+I[6]+2821735955&4294967295,T=C+(L<<17&4294967295|L>>>15),L=S+(A^T&(C^A))+I[7]+4249261313&4294967295,S=T+(L<<22&4294967295|L>>>10),L=A+(C^S&(T^C))+I[8]+1770035416&4294967295,A=S+(L<<7&4294967295|L>>>25),L=C+(T^A&(S^T))+I[9]+2336552879&4294967295,C=A+(L<<12&4294967295|L>>>20),L=T+(S^C&(A^S))+I[10]+4294925233&4294967295,T=C+(L<<17&4294967295|L>>>15),L=S+(A^T&(C^A))+I[11]+2304563134&4294967295,S=T+(L<<22&4294967295|L>>>10),L=A+(C^S&(T^C))+I[12]+1804603682&4294967295,A=S+(L<<7&4294967295|L>>>25),L=C+(T^A&(S^T))+I[13]+4254626195&4294967295,C=A+(L<<12&4294967295|L>>>20),L=T+(S^C&(A^S))+I[14]+2792965006&4294967295,T=C+(L<<17&4294967295|L>>>15),L=S+(A^T&(C^A))+I[15]+1236535329&4294967295,S=T+(L<<22&4294967295|L>>>10),L=A+(T^C&(S^T))+I[1]+4129170786&4294967295,A=S+(L<<5&4294967295|L>>>27),L=C+(S^T&(A^S))+I[6]+3225465664&4294967295,C=A+(L<<9&4294967295|L>>>23),L=T+(A^S&(C^A))+I[11]+643717713&4294967295,T=C+(L<<14&4294967295|L>>>18),L=S+(C^A&(T^C))+I[0]+3921069994&4294967295,S=T+(L<<20&4294967295|L>>>12),L=A+(T^C&(S^T))+I[5]+3593408605&4294967295,A=S+(L<<5&4294967295|L>>>27),L=C+(S^T&(A^S))+I[10]+38016083&4294967295,C=A+(L<<9&4294967295|L>>>23),L=T+(A^S&(C^A))+I[15]+3634488961&4294967295,T=C+(L<<14&4294967295|L>>>18),L=S+(C^A&(T^C))+I[4]+3889429448&4294967295,S=T+(L<<20&4294967295|L>>>12),L=A+(T^C&(S^T))+I[9]+568446438&4294967295,A=S+(L<<5&4294967295|L>>>27),L=C+(S^T&(A^S))+I[14]+3275163606&4294967295,C=A+(L<<9&4294967295|L>>>23),L=T+(A^S&(C^A))+I[3]+4107603335&4294967295,T=C+(L<<14&4294967295|L>>>18),L=S+(C^A&(T^C))+I[8]+1163531501&4294967295,S=T+(L<<20&4294967295|L>>>12),L=A+(T^C&(S^T))+I[13]+2850285829&4294967295,A=S+(L<<5&4294967295|L>>>27),L=C+(S^T&(A^S))+I[2]+4243563512&4294967295,C=A+(L<<9&4294967295|L>>>23),L=T+(A^S&(C^A))+I[7]+1735328473&4294967295,T=C+(L<<14&4294967295|L>>>18),L=S+(C^A&(T^C))+I[12]+2368359562&4294967295,S=T+(L<<20&4294967295|L>>>12),L=A+(S^T^C)+I[5]+4294588738&4294967295,A=S+(L<<4&4294967295|L>>>28),L=C+(A^S^T)+I[8]+2272392833&4294967295,C=A+(L<<11&4294967295|L>>>21),L=T+(C^A^S)+I[11]+1839030562&4294967295,T=C+(L<<16&4294967295|L>>>16),L=S+(T^C^A)+I[14]+4259657740&4294967295,S=T+(L<<23&4294967295|L>>>9),L=A+(S^T^C)+I[1]+2763975236&4294967295,A=S+(L<<4&4294967295|L>>>28),L=C+(A^S^T)+I[4]+1272893353&4294967295,C=A+(L<<11&4294967295|L>>>21),L=T+(C^A^S)+I[7]+4139469664&4294967295,T=C+(L<<16&4294967295|L>>>16),L=S+(T^C^A)+I[10]+3200236656&4294967295,S=T+(L<<23&4294967295|L>>>9),L=A+(S^T^C)+I[13]+681279174&4294967295,A=S+(L<<4&4294967295|L>>>28),L=C+(A^S^T)+I[0]+3936430074&4294967295,C=A+(L<<11&4294967295|L>>>21),L=T+(C^A^S)+I[3]+3572445317&4294967295,T=C+(L<<16&4294967295|L>>>16),L=S+(T^C^A)+I[6]+76029189&4294967295,S=T+(L<<23&4294967295|L>>>9),L=A+(S^T^C)+I[9]+3654602809&4294967295,A=S+(L<<4&4294967295|L>>>28),L=C+(A^S^T)+I[12]+3873151461&4294967295,C=A+(L<<11&4294967295|L>>>21),L=T+(C^A^S)+I[15]+530742520&4294967295,T=C+(L<<16&4294967295|L>>>16),L=S+(T^C^A)+I[2]+3299628645&4294967295,S=T+(L<<23&4294967295|L>>>9),L=A+(T^(S|~C))+I[0]+4096336452&4294967295,A=S+(L<<6&4294967295|L>>>26),L=C+(S^(A|~T))+I[7]+1126891415&4294967295,C=A+(L<<10&4294967295|L>>>22),L=T+(A^(C|~S))+I[14]+2878612391&4294967295,T=C+(L<<15&4294967295|L>>>17),L=S+(C^(T|~A))+I[5]+4237533241&4294967295,S=T+(L<<21&4294967295|L>>>11),L=A+(T^(S|~C))+I[12]+1700485571&4294967295,A=S+(L<<6&4294967295|L>>>26),L=C+(S^(A|~T))+I[3]+2399980690&4294967295,C=A+(L<<10&4294967295|L>>>22),L=T+(A^(C|~S))+I[10]+4293915773&4294967295,T=C+(L<<15&4294967295|L>>>17),L=S+(C^(T|~A))+I[1]+2240044497&4294967295,S=T+(L<<21&4294967295|L>>>11),L=A+(T^(S|~C))+I[8]+1873313359&4294967295,A=S+(L<<6&4294967295|L>>>26),L=C+(S^(A|~T))+I[15]+4264355552&4294967295,C=A+(L<<10&4294967295|L>>>22),L=T+(A^(C|~S))+I[6]+2734768916&4294967295,T=C+(L<<15&4294967295|L>>>17),L=S+(C^(T|~A))+I[13]+1309151649&4294967295,S=T+(L<<21&4294967295|L>>>11),L=A+(T^(S|~C))+I[4]+4149444226&4294967295,A=S+(L<<6&4294967295|L>>>26),L=C+(S^(A|~T))+I[11]+3174756917&4294967295,C=A+(L<<10&4294967295|L>>>22),L=T+(A^(C|~S))+I[2]+718787259&4294967295,T=C+(L<<15&4294967295|L>>>17),L=S+(C^(T|~A))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+C&4294967295}n.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var S=A-this.blockSize,I=this.B,T=this.h,C=0;C<A;){if(T==0)for(;C<=S;)a(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<A;)if(I[T++]=E.charCodeAt(C++),T==this.blockSize){a(this,I),T=0;break}}else for(;C<A;)if(I[T++]=E[C++],T==this.blockSize){a(this,I),T=0;break}}this.h=T,this.o+=A},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var S=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=S&255,S/=256;for(this.u(E),E=Array(16),A=S=0;4>A;++A)for(var I=0;32>I;I+=8)E[S++]=this.g[A]>>>I&255;return E};function i(E,A){var S=o;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=A(E)}function s(E,A){this.h=A;for(var S=[],I=!0,T=E.length-1;0<=T;T--){var C=E[T]|0;I&&C==A||(S[T]=C,I=!1)}this.g=S}var o={};function l(E){return-128<=E&&128>E?i(E,function(A){return new s([A|0],0>A?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return y(c(-E));for(var A=[],S=1,I=0;E>=S;I++)A[I]=E/S|0,S*=4294967296;return new s(A,0)}function u(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return y(u(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(A,8)),I=f,T=0;T<E.length;T+=8){var C=Math.min(8,E.length-T),L=parseInt(E.substring(T,T+C),A);8>C?(C=c(Math.pow(A,C)),I=I.j(C).add(c(L))):(I=I.j(S),I=I.add(c(L)))}return I}var f=l(0),h=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-y(this).m();for(var E=0,A=1,S=0;S<this.g.length;S++){var I=this.i(S);E+=(0<=I?I:4294967296+I)*A,A*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(m(this))return"-"+y(this).toString(E);for(var A=c(Math.pow(E,6)),S=this,I="";;){var T=D(S,A).g;S=v(S,T.j(A));var C=((0<S.g.length?S.g[0]:S.h)>>>0).toString(E);if(S=T,g(S))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function m(E){return E.h==-1}e.l=function(E){return E=v(this,E),m(E)?-1:g(E)?0:1};function y(E){for(var A=E.g.length,S=[],I=0;I<A;I++)S[I]=~E.g[I];return new s(S,~E.h).add(h)}e.abs=function(){return m(this)?y(this):this},e.add=function(E){for(var A=Math.max(this.g.length,E.g.length),S=[],I=0,T=0;T<=A;T++){var C=I+(this.i(T)&65535)+(E.i(T)&65535),L=(C>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);I=L>>>16,C&=65535,L&=65535,S[T]=L<<16|C}return new s(S,S[S.length-1]&-2147483648?-1:0)};function v(E,A){return E.add(y(A))}e.j=function(E){if(g(this)||g(E))return f;if(m(this))return m(E)?y(this).j(y(E)):y(y(this).j(E));if(m(E))return y(this.j(y(E)));if(0>this.l(d)&&0>E.l(d))return c(this.m()*E.m());for(var A=this.g.length+E.g.length,S=[],I=0;I<2*A;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<E.g.length;T++){var C=this.i(I)>>>16,L=this.i(I)&65535,H=E.i(T)>>>16,V=E.i(T)&65535;S[2*I+2*T]+=L*V,b(S,2*I+2*T),S[2*I+2*T+1]+=C*V,b(S,2*I+2*T+1),S[2*I+2*T+1]+=L*H,b(S,2*I+2*T+1),S[2*I+2*T+2]+=C*H,b(S,2*I+2*T+2)}for(I=0;I<A;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=A;I<2*A;I++)S[I]=0;return new s(S,0)};function b(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function w(E,A){this.g=E,this.h=A}function D(E,A){if(g(A))throw Error("division by zero");if(g(E))return new w(f,f);if(m(E))return A=D(y(E),A),new w(y(A.g),y(A.h));if(m(A))return A=D(E,y(A)),new w(y(A.g),A.h);if(30<E.g.length){if(m(E)||m(A))throw Error("slowDivide_ only works with positive integers.");for(var S=h,I=A;0>=I.l(E);)S=P(S),I=P(I);var T=O(S,1),C=O(I,1);for(I=O(I,2),S=O(S,2);!g(I);){var L=C.add(I);0>=L.l(E)&&(T=T.add(S),C=L),I=O(I,1),S=O(S,1)}return A=v(E,T.j(A)),new w(T,A)}for(T=f;0<=E.l(A);){for(S=Math.max(1,Math.floor(E.m()/A.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=c(S),L=C.j(A);m(L)||0<L.l(E);)S-=I,C=c(S),L=C.j(A);g(C)&&(C=h),T=T.add(C),E=v(E,L)}return new w(T,E)}e.A=function(E){return D(this,E).h},e.and=function(E){for(var A=Math.max(this.g.length,E.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)&E.i(I);return new s(S,this.h&E.h)},e.or=function(E){for(var A=Math.max(this.g.length,E.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)|E.i(I);return new s(S,this.h|E.h)},e.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)^E.i(I);return new s(S,this.h^E.h)};function P(E){for(var A=E.g.length+1,S=[],I=0;I<A;I++)S[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(S,E.h)}function O(E,A){var S=A>>5;A%=32;for(var I=E.g.length-S,T=[],C=0;C<I;C++)T[C]=0<A?E.i(C+S)>>>A|E.i(C+S+1)<<32-A:E.i(C+S);return new s(T,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,a$=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,uf=s}).apply(typeof _O<"u"?_O:typeof self<"u"?self:typeof window<"u"?window:{});var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i$,tg,s$,Gx,I4,o$,l$,c$;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,F,Y){return _==Array.prototype||_==Object.prototype||(_[F]=Y.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yy=="object"&&Yy];for(var F=0;F<_.length;++F){var Y=_[F];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var n=r(this);function a(_,F){if(F)e:{var Y=n;_=_.split(".");for(var he=0;he<_.length-1;he++){var Ie=_[he];if(!(Ie in Y))break e;Y=Y[Ie]}_=_[_.length-1],he=Y[_],F=F(he),F!=he&&F!=null&&t(Y,_,{configurable:!0,writable:!0,value:F})}}function i(_,F){_ instanceof String&&(_+="");var Y=0,he=!1,Ie={next:function(){if(!he&&Y<_.length){var qe=Y++;return{value:F(qe,_[qe]),done:!1}}return he=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}a("Array.prototype.values",function(_){return _||function(){return i(this,function(F,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(_){var F=typeof _;return F=F!="object"?F:_?Array.isArray(_)?"array":F:"null",F=="array"||F=="object"&&typeof _.length=="number"}function c(_){var F=typeof _;return F=="object"&&_!=null||F=="function"}function u(_,F,Y){return _.call.apply(_.bind,arguments)}function f(_,F,Y){if(!_)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,he),_.apply(F,Ie)}}return function(){return _.apply(F,arguments)}}function h(_,F,Y){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function d(_,F){var Y=Array.prototype.slice.call(arguments,1);return function(){var he=Y.slice();return he.push.apply(he,arguments),_.apply(this,he)}}function g(_,F){function Y(){}Y.prototype=F.prototype,_.aa=F.prototype,_.prototype=new Y,_.prototype.constructor=_,_.Qb=function(he,Ie,qe){for(var ht=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)ht[rr-2]=arguments[rr];return F.prototype[Ie].apply(he,ht)}}function m(_){const F=_.length;if(0<F){const Y=Array(F);for(let he=0;he<F;he++)Y[he]=_[he];return Y}return[]}function y(_,F){for(let Y=1;Y<arguments.length;Y++){const he=arguments[Y];if(l(he)){const Ie=_.length||0,qe=he.length||0;_.length=Ie+qe;for(let ht=0;ht<qe;ht++)_[Ie+ht]=he[ht]}else _.push(he)}}class v{constructor(F,Y){this.i=F,this.j=Y,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function b(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function D(_){return D[" "](_),_}D[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(_,F,Y){for(const he in _)F.call(Y,_[he],he,_)}function E(_,F){for(const Y in _)F.call(void 0,_[Y],Y,_)}function A(_){const F={};for(const Y in _)F[Y]=_[Y];return F}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(_,F){let Y,he;for(let Ie=1;Ie<arguments.length;Ie++){he=arguments[Ie];for(Y in he)_[Y]=he[Y];for(let qe=0;qe<S.length;qe++)Y=S[qe],Object.prototype.hasOwnProperty.call(he,Y)&&(_[Y]=he[Y])}}function T(_){var F=1;_=_.split(":");const Y=[];for(;0<F&&_.length;)Y.push(_.shift()),F--;return _.length&&Y.push(_.join(":")),Y}function C(_){o.setTimeout(()=>{throw _},0)}function L(){var _=B;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}class H{constructor(){this.h=this.g=null}add(F,Y){const he=V.get();he.set(F,Y),this.h?this.h.next=he:this.g=he,this.h=he}}var V=new v(()=>new J,_=>_.reset());class J{constructor(){this.next=this.g=this.h=null}set(F,Y){this.h=F,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,q=!1,B=new H,re=()=>{const _=o.Promise.resolve(void 0);te=()=>{_.then(ee)}};var ee=()=>{for(var _;_=L();){try{_.h.call(_.g)}catch(Y){C(Y)}var F=V;F.j(_),100>F.h&&(F.h++,_.next=F.g,F.g=_)}q=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Y=()=>{};o.addEventListener("test",Y,F),o.removeEventListener("test",Y,F)}catch{}return _}();function X(_,F){if(R.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Y=this.type=_.type,he=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget){if(P){e:{try{D(F.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(F=null)}}else Y=="mouseover"?F=_.fromElement:Y=="mouseout"&&(F=_.toElement);this.relatedTarget=F,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:G[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&X.aa.h.call(this)}}g(X,R);var G={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),se=0;function K(_,F,Y,he,Ie){this.listener=_,this.proxy=null,this.src=F,this.type=Y,this.capture=!!he,this.ha=Ie,this.key=++se,this.da=this.fa=!1}function oe(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function fe(_){this.src=_,this.g={},this.h=0}fe.prototype.add=function(_,F,Y,he,Ie){var qe=_.toString();_=this.g[qe],_||(_=this.g[qe]=[],this.h++);var ht=_e(_,F,he,Ie);return-1<ht?(F=_[ht],Y||(F.fa=!1)):(F=new K(F,this.src,qe,!!he,Ie),F.fa=Y,_.push(F)),F};function W(_,F){var Y=F.type;if(Y in _.g){var he=_.g[Y],Ie=Array.prototype.indexOf.call(he,F,void 0),qe;(qe=0<=Ie)&&Array.prototype.splice.call(he,Ie,1),qe&&(oe(F),_.g[Y].length==0&&(delete _.g[Y],_.h--))}}function _e(_,F,Y,he){for(var Ie=0;Ie<_.length;++Ie){var qe=_[Ie];if(!qe.da&&qe.listener==F&&qe.capture==!!Y&&qe.ha==he)return Ie}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Se={};function ie(_,F,Y,he,Ie){if(Array.isArray(F)){for(var qe=0;qe<F.length;qe++)ie(_,F[qe],Y,he,Ie);return null}return Y=ot(Y),_&&_[Z]?_.K(F,Y,c(he)?!!he.capture:!!he,Ie):ke(_,F,Y,!1,he,Ie)}function ke(_,F,Y,he,Ie,qe){if(!F)throw Error("Invalid event type");var ht=c(Ie)?!!Ie.capture:!!Ie,rr=Me(_);if(rr||(_[Ae]=rr=new fe(_)),Y=rr.add(F,Y,he,ht,qe),Y.proxy)return Y;if(he=Le(),Y.proxy=he,he.src=_,he.listener=Y,_.addEventListener)z||(Ie=ht),Ie===void 0&&(Ie=!1),_.addEventListener(F.toString(),he,Ie);else if(_.attachEvent)_.attachEvent(Re(F.toString()),he);else if(_.addListener&&_.removeListener)_.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Le(){function _(Y){return F.call(_.src,_.listener,Y)}const F=Ye;return _}function Be(_,F,Y,he,Ie){if(Array.isArray(F))for(var qe=0;qe<F.length;qe++)Be(_,F[qe],Y,he,Ie);else he=c(he)?!!he.capture:!!he,Y=ot(Y),_&&_[Z]?(_=_.i,F=String(F).toString(),F in _.g&&(qe=_.g[F],Y=_e(qe,Y,he,Ie),-1<Y&&(oe(qe[Y]),Array.prototype.splice.call(qe,Y,1),qe.length==0&&(delete _.g[F],_.h--)))):_&&(_=Me(_))&&(F=_.g[F.toString()],_=-1,F&&(_=_e(F,Y,he,Ie)),(Y=-1<_?F[_]:null)&&Xe(Y))}function Xe(_){if(typeof _!="number"&&_&&!_.da){var F=_.src;if(F&&F[Z])W(F.i,_);else{var Y=_.type,he=_.proxy;F.removeEventListener?F.removeEventListener(Y,he,_.capture):F.detachEvent?F.detachEvent(Re(Y),he):F.addListener&&F.removeListener&&F.removeListener(he),(Y=Me(F))?(W(Y,_),Y.h==0&&(Y.src=null,F[Ae]=null)):oe(_)}}}function Re(_){return _ in Se?Se[_]:Se[_]="on"+_}function Ye(_,F){if(_.da)_=!0;else{F=new X(F,this);var Y=_.listener,he=_.ha||_.src;_.fa&&Xe(_),_=Y.call(he,F)}return _}function Me(_){return _=_[Ae],_ instanceof fe?_:null}var Ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(_){return typeof _=="function"?_:(_[Ge]||(_[Ge]=function(F){return _.handleEvent(F)}),_[Ge])}function nt(){N.call(this),this.i=new fe(this),this.M=this,this.F=null}g(nt,N),nt.prototype[Z]=!0,nt.prototype.removeEventListener=function(_,F,Y,he){Be(this,_,F,Y,he)};function dt(_,F){var Y,he=_.F;if(he)for(Y=[];he;he=he.F)Y.push(he);if(_=_.M,he=F.type||F,typeof F=="string")F=new R(F,_);else if(F instanceof R)F.target=F.target||_;else{var Ie=F;F=new R(he,_),I(F,Ie)}if(Ie=!0,Y)for(var qe=Y.length-1;0<=qe;qe--){var ht=F.g=Y[qe];Ie=xt(ht,he,!0,F)&&Ie}if(ht=F.g=_,Ie=xt(ht,he,!0,F)&&Ie,Ie=xt(ht,he,!1,F)&&Ie,Y)for(qe=0;qe<Y.length;qe++)ht=F.g=Y[qe],Ie=xt(ht,he,!1,F)&&Ie}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var _=this.i,F;for(F in _.g){for(var Y=_.g[F],he=0;he<Y.length;he++)oe(Y[he]);delete _.g[F],_.h--}}this.F=null},nt.prototype.K=function(_,F,Y,he){return this.i.add(String(_),F,!1,Y,he)},nt.prototype.L=function(_,F,Y,he){return this.i.add(String(_),F,!0,Y,he)};function xt(_,F,Y,he){if(F=_.i.g[String(F)],!F)return!0;F=F.concat();for(var Ie=!0,qe=0;qe<F.length;++qe){var ht=F[qe];if(ht&&!ht.da&&ht.capture==Y){var rr=ht.listener,mr=ht.ha||ht.src;ht.fa&&W(_.i,ht),Ie=rr.call(mr,he)!==!1&&Ie}}return Ie&&!he.defaultPrevented}function wt(_,F,Y){if(typeof _=="function")Y&&(_=h(_,Y));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(_,F||0)}function pt(_){_.g=wt(()=>{_.g=null,_.i&&(_.i=!1,pt(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}class et extends N{constructor(F,Y){super(),this.m=F,this.l=Y,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(_){N.call(this),this.h=_,this.g={}}g(Bt,N);var Lt=[];function Hr(_){O(_.g,function(F,Y){this.g.hasOwnProperty(Y)&&Xe(F)},_),_.g={}}Bt.prototype.N=function(){Bt.aa.N.call(this),Hr(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=o.JSON.stringify,Je=o.JSON.parse,_t=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function kt(){}kt.prototype.h=null;function cr(_){return _.h||(_.h=_.i())}function ur(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){R.call(this,"d")}g(gn,R);function Or(){R.call(this,"c")}g(Or,R);var Vt={},br=null;function Ji(){return br=br||new nt}Vt.La="serverreachability";function Fn(_){R.call(this,Vt.La,_)}g(Fn,R);function Ca(_){const F=Ji();dt(F,new Fn(F))}Vt.STAT_EVENT="statevent";function Oi(_,F){R.call(this,Vt.STAT_EVENT,_),this.stat=F}g(Oi,R);function Dt(_){const F=Ji();dt(F,new Oi(F,_))}Vt.Ma="timingevent";function ii(_,F){R.call(this,Vt.Ma,_),this.size=F}g(ii,R);function ia(_,F){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},F)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function On(_,F,Y,he,Ie,qe){_.info(function(){if(_.g)if(qe)for(var ht="",rr=qe.split("&"),mr=0;mr<rr.length;mr++){var nr=rr[mr].split("=");if(1<nr.length){var Ur=nr[0];nr=nr[1];var on=Ur.split("_");ht=2<=on.length&&on[1]=="type"?ht+(Ur+"="+nr+"&"):ht+(Ur+"=redacted&")}}else ht=null;else ht=qe;return"XMLHTTP REQ ("+he+") [attempt "+Ie+"]: "+F+`
`+Y+`
`+ht})}function Tn(_,F,Y,he,Ie,qe,ht){_.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Ie+"]: "+F+`
`+Y+`
`+qe+" "+ht})}function le(_,F,Y,he){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+me(_,Y)+(he?" "+he:"")})}function xe(_,F){_.info(function(){return"TIMEOUT: "+F})}$n.prototype.info=function(){};function me(_,F){if(!_.g)return F;if(!F)return null;try{var Y=JSON.parse(F);if(Y){for(_=0;_<Y.length;_++)if(Array.isArray(Y[_])){var he=Y[_];if(!(2>he.length)){var Ie=he[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var qe=Ie[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var ht=1;ht<Ie.length;ht++)Ie[ht]=""}}}}return Ee(Y)}catch{return F}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function Fe(){}g(Fe,kt),Fe.prototype.g=function(){return new XMLHttpRequest},Fe.prototype.i=function(){return{}},be=new Fe;function He(_,F,Y,he){this.j=_,this.i=F,this.l=Y,this.R=he||1,this.U=new Bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}var Ve={},We={};function ut(_,F,Y){_.L=1,_.v=Xl(Di(F)),_.m=Y,_.P=!0,bt(_,null)}function bt(_,F){_.F=Date.now(),St(_),_.A=Di(_.v);var Y=_.A,he=_.R;Array.isArray(he)||(he=[String(he)]),Xt(Y.i,"t",he),_.C=0,Y=_.j.J,_.h=new $e,_.g=ne(_.j,Y?F:null,!_.m),0<_.O&&(_.M=new et(h(_.Y,_,_.g),_.O)),F=_.U,Y=_.g,he=_.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Lt[0]=Ie.toString()),Ie=Lt);for(var qe=0;qe<Ie.length;qe++){var ht=ie(Y,Ie[qe],he||F.handleEvent,!1,F.h||F);if(!ht)break;F.g[ht.key]=ht}F=_.H?A(_.H):{},_.m?(_.u||(_.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,F)):(_.u="GET",_.g.ea(_.A,_.u,null,F)),Ca(),On(_.i,_.u,_.A,_.l,_.R,_.m)}He.prototype.ca=function(_){_=_.target;const F=this.M;F&&va(_)==3?F.j():this.Y(_)},He.prototype.Y=function(_){try{if(_==this.g)e:{const on=va(this.g);var F=this.g.Ba();const Oo=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Sd(this.g)))){this.J||on!=4||F==7||(F==8||0>=Oo?Ca(3):Ca(2)),Sr(this);var Y=this.g.Z();this.X=Y;t:if(Ct(this)){var he=Sd(this.g);_="";var Ie=he.length,qe=va(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Ar(this);var ht="";break t}this.h.i=new o.TextDecoder}for(F=0;F<Ie;F++)this.h.h=!0,_+=this.h.i.decode(he[F],{stream:!(qe&&F==Ie-1)});he.length=0,this.h.g+=_,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=Y==200,Tn(this.i,this.u,this.A,this.l,this.R,on,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,mr=this.g;if((rr=mr.g?mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(rr)){var nr=rr;break t}}nr=null}if(Y=nr)le(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ii(this,Y);else{this.o=!1,this.s=3,Dt(12),en(this),Ar(this);break e}}if(this.P){Y=!0;let za;for(;!this.J&&this.C<ht.length;)if(za=mt(this,ht),za==We){on==4&&(this.s=4,Dt(14),Y=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(za==Ve){this.s=4,Dt(15),le(this.i,this.l,ht,"[Invalid Chunk]"),Y=!1;break}else le(this.i,this.l,za,null),Ii(this,za);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ht.length!=0||this.h.h||(this.s=1,Dt(16),Y=!1),this.o=this.o&&Y,!Y)le(this.i,this.l,ht,"[Invalid Chunked Response]"),en(this),Ar(this);else if(0<ht.length&&!this.W){this.W=!0;var Ur=this.j;Ur.g==this&&Ur.ba&&!Ur.M&&(Ur.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),du(Ur),Ur.M=!0,Dt(11))}}else le(this.i,this.l,ht,null),Ii(this,ht);on==4&&en(this),this.o&&!this.J&&(on==4?vl(this.j,this):(this.o=!1,St(this)))}else ml(this.g),Y==400&&0<ht.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),en(this),Ar(this)}}}catch{}finally{}};function Ct(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function mt(_,F){var Y=_.C,he=F.indexOf(`
`,Y);return he==-1?We:(Y=Number(F.substring(Y,he)),isNaN(Y)?Ve:(he+=1,he+Y>F.length?We:(F=F.slice(he,he+Y),_.C=he+Y,F)))}He.prototype.cancel=function(){this.J=!0,en(this)};function St(_){_.S=Date.now()+_.I,qt(_,_.I)}function qt(_,F){if(_.B!=null)throw Error("WatchDog timer not null");_.B=ia(h(_.ba,_),F)}function Sr(_){_.B&&(o.clearTimeout(_.B),_.B=null)}He.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(xe(this.i,this.A),this.L!=2&&(Ca(),Dt(17)),en(this),this.s=2,Ar(this)):qt(this,this.S-_)};function Ar(_){_.j.G==0||_.J||vl(_.j,_)}function en(_){Sr(_);var F=_.M;F&&typeof F.ma=="function"&&F.ma(),_.M=null,Hr(_.U),_.g&&(F=_.g,_.g=null,F.abort(),F.ma())}function Ii(_,F){try{var Y=_.j;if(Y.G!=0&&(Y.g==_||Va(Y.h,_))){if(!_.K&&Va(Y.h,_)&&Y.G==3){try{var he=Y.Da.g.parse(F)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Ie=he;if(Ie[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<_.F)No(Y),cu(Y);else break e;tc(Y),Dt(18)}}else Y.za=Ie[1],0<Y.za-Y.T&&37500>Ie[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=ia(h(Y.Za,Y),6e3));if(1>=xs(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else si(Y,11)}else if((_.K||Y.g==_)&&No(Y),!b(F))for(Ie=Y.Da.g.parse(F),F=0;F<Ie.length;F++){let nr=Ie[F];if(Y.T=nr[0],nr=nr[1],Y.G==2)if(nr[0]=="c"){Y.K=nr[1],Y.ia=nr[2];const Ur=nr[3];Ur!=null&&(Y.la=Ur,Y.j.info("VER="+Y.la));const on=nr[4];on!=null&&(Y.Aa=on,Y.j.info("SVER="+Y.Aa));const Oo=nr[5];Oo!=null&&typeof Oo=="number"&&0<Oo&&(he=1.5*Oo,Y.L=he,Y.j.info("backChannelRequestTimeoutMs_="+he)),he=Y;const za=_.g;if(za){const yl=za.g?za.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yl){var qe=he.h;qe.g||yl.indexOf("spdy")==-1&&yl.indexOf("quic")==-1&&yl.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(vn(qe,qe.h),qe.h=null))}if(he.D){const xl=za.g?za.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(he.ya=xl,Gr(he.I,he.D,xl))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-_.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),he=Y;var ht=_;if(he.qa=j(he,he.J?he.ia:null,he.W),ht.K){Vf(he.h,ht);var rr=ht,mr=he.L;mr&&(rr.I=mr),rr.B&&(Sr(rr),St(rr)),he.g=ht}else hu(he);0<Y.i.length&&uu(Y)}else nr[0]!="stop"&&nr[0]!="close"||si(Y,7);else Y.G==3&&(nr[0]=="stop"||nr[0]=="close"?nr[0]=="stop"?si(Y,7):Po(Y):nr[0]!="noop"&&Y.l&&Y.l.ta(nr),Y.v=0)}}Ca(4)}catch{}}var Ao=class{constructor(_,F){this.g=_,this.map=F}};function ys(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zi(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function xs(_){return _.h?1:_.g?_.g.size:0}function Va(_,F){return _.h?_.h==F:_.g?_.g.has(F):!1}function vn(_,F){_.g?_.g.add(F):_.h=F}function Vf(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}ys.prototype.cancel=function(){if(this.i=Uf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Uf(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let F=_.i;for(const Y of _.g.values())F=F.concat(Y.D);return F}return m(_.i)}function vd(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var F=[],Y=_.length,he=0;he<Y;he++)F.push(_[he]);return F}F=[],Y=0;for(he in _)F[Y++]=_[he];return F}function zf(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var F=[];_=_.length;for(var Y=0;Y<_;Y++)F.push(Y);return F}F=[],Y=0;for(const he in _)F[Y++]=he;return F}}}function yd(_,F){if(_.forEach&&typeof _.forEach=="function")_.forEach(F,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,F,void 0);else for(var Y=zf(_),he=vd(_),Ie=he.length,qe=0;qe<Ie;qe++)F.call(void 0,he[qe],Y&&Y[qe],_)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eu(_,F){if(_){_=_.split("&");for(var Y=0;Y<_.length;Y++){var he=_[Y].indexOf("="),Ie=null;if(0<=he){var qe=_[Y].substring(0,he);Ie=_[Y].substring(he+1)}else qe=_[Y];F(qe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Bn(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Bn){this.h=_.h,Yl(this,_.j),this.o=_.o,this.g=_.g,tu(this,_.s),this.l=_.l;var F=_.i,Y=new dl;Y.i=F.i,F.g&&(Y.g=new Map(F.g),Y.h=F.h),qf(this,Y),this.m=_.m}else _&&(F=String(_).match(es))?(this.h=!1,Yl(this,F[1]||"",!0),this.o=Ql(F[2]||""),this.g=Ql(F[3]||"",!0),tu(this,F[4]),this.l=Ql(F[5]||"",!0),qf(this,F[6]||"",!0),this.m=Ql(F[7]||"")):(this.h=!1,this.i=new dl(null,this.h))}Bn.prototype.toString=function(){var _=[],F=this.j;F&&_.push(To(F,xd,!0),":");var Y=this.g;return(Y||F=="file")&&(_.push("//"),(F=this.o)&&_.push(To(F,xd,!0),"@"),_.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&_.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&_.push("/"),_.push(To(Y,Y.charAt(0)=="/"?Eo:um,!0))),(Y=this.i.toString())&&_.push("?",Y),(Y=this.m)&&_.push("#",To(Y,nu)),_.join("")};function Di(_){return new Bn(_)}function Yl(_,F,Y){_.j=Y?Ql(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function tu(_,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);_.s=F}else _.s=null}function qf(_,F,Y){F instanceof dl?(_.i=F,fm(_.i,_.h)):(Y||(F=To(F,ru)),_.i=new dl(F,_.h))}function Gr(_,F,Y){_.i.set(F,Y)}function Xl(_){return Gr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Ql(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function To(_,F,Y){return typeof _=="string"?(_=encodeURI(_).replace(F,cm),Y&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function cm(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var xd=/[#\/\?@]/g,um=/[#\?:]/g,Eo=/[#\?]/g,ru=/[#\?@]/g,nu=/#/g;function dl(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function yn(_){_.g||(_.g=new Map,_.h=0,_.i&&eu(_.i,function(F,Y){_.add(decodeURIComponent(F.replace(/\+/g," ")),Y)}))}e=dl.prototype,e.add=function(_,F){yn(this),this.i=null,_=pl(this,_);var Y=this.g.get(_);return Y||this.g.set(_,Y=[]),Y.push(F),this.h+=1,this};function bd(_,F){yn(_),F=pl(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function Wf(_,F){return yn(_),F=pl(_,F),_.g.has(F)}e.forEach=function(_,F){yn(this),this.g.forEach(function(Y,he){Y.forEach(function(Ie){_.call(F,Ie,he,this)},this)},this)},e.na=function(){yn(this);const _=Array.from(this.g.values()),F=Array.from(this.g.keys()),Y=[];for(let he=0;he<F.length;he++){const Ie=_[he];for(let qe=0;qe<Ie.length;qe++)Y.push(F[he])}return Y},e.V=function(_){yn(this);let F=[];if(typeof _=="string")Wf(this,_)&&(F=F.concat(this.g.get(pl(this,_))));else{_=Array.from(this.g.values());for(let Y=0;Y<_.length;Y++)F=F.concat(_[Y])}return F},e.set=function(_,F){return yn(this),this.i=null,_=pl(this,_),Wf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},e.get=function(_,F){return _?(_=this.V(_),0<_.length?String(_[0]):F):F};function Xt(_,F,Y){bd(_,F),0<Y.length&&(_.i=null,_.g.set(pl(_,F),m(Y)),_.h+=Y.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(var Y=0;Y<F.length;Y++){var he=F[Y];const qe=encodeURIComponent(String(he)),ht=this.V(he);for(he=0;he<ht.length;he++){var Ie=qe;ht[he]!==""&&(Ie+="="+encodeURIComponent(String(ht[he]))),_.push(Ie)}}return this.i=_.join("&")};function pl(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function fm(_,F){F&&!_.j&&(yn(_),_.i=null,_.g.forEach(function(Y,he){var Ie=he.toLowerCase();he!=Ie&&(bd(this,he),Xt(this,Ie,Y))},_)),_.j=F}function zs(_,F){const Y=new $n;if(o.Image){const he=new Image;he.onload=d(bs,Y,"TestLoadImage: loaded",!0,F,he),he.onerror=d(bs,Y,"TestLoadImage: error",!1,F,he),he.onabort=d(bs,Y,"TestLoadImage: abort",!1,F,he),he.ontimeout=d(bs,Y,"TestLoadImage: timeout",!1,F,he),o.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=_}else F(!1)}function wd(_,F){const Y=new $n,he=new AbortController,Ie=setTimeout(()=>{he.abort(),bs(Y,"TestPingServer: timeout",!1,F)},1e4);fetch(_,{signal:he.signal}).then(qe=>{clearTimeout(Ie),qe.ok?bs(Y,"TestPingServer: ok",!0,F):bs(Y,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Ie),bs(Y,"TestPingServer: error",!1,F)})}function bs(_,F,Y,he,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),he(Y)}catch{}}function au(){this.g=new _t}function Hf(_,F,Y){const he=Y||"";try{yd(_,function(Ie,qe){let ht=Ie;c(Ie)&&(ht=Ee(Ie)),F.push(he+qe+"="+encodeURIComponent(ht))})}catch(Ie){throw F.push(he+"type="+encodeURIComponent("_badmap")),Ie}}function iu(_){this.l=_.Ub||null,this.j=_.eb||!1}g(iu,kt),iu.prototype.g=function(){return new su(this.l,this.j)},iu.prototype.i=function(_){return function(){return _}}({});function su(_,F){nt.call(this),this.D=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(su,nt),e=su.prototype,e.open=function(_,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=F,this.readyState=1,ws(this)},e.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(F.body=_),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},e.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_d(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function _d(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}e.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?ko(this):ws(this),this.readyState==3&&_d(this)}},e.Ra=function(_){this.g&&(this.response=this.responseText=_,ko(this))},e.Qa=function(_){this.g&&(this.response=_,ko(this))},e.ga=function(){this.g&&ko(this)};function ko(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ws(_)}e.setRequestHeader=function(_,F){this.u.append(_,F)},e.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var Y=F.next();!Y.done;)Y=Y.value,_.push(Y[0]+": "+Y[1]),Y=F.next();return _.join(`\r
`)};function ws(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Co(_){let F="";return O(_,function(Y,he){F+=he,F+=":",F+=Y,F+=`\r
`}),F}function Gf(_,F,Y){e:{for(he in Y){var he=!1;break e}he=!0}he||(Y=Co(Y),typeof _=="string"?Y!=null&&encodeURIComponent(String(Y)):Gr(_,F,Y))}function Vr(_){nt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Vr,nt);var Kf=/^https?$/i,ou=["POST","PUT"];e=Vr.prototype,e.Ha=function(_){this.J=_},e.ea=function(_,F,Y,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?cr(this.o):cr(be),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(qe){Yf(this,qe);return}if(_=Y||"",Y=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Ie in he)Y.set(Ie,he[Ie]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const qe of he.keys())Y.set(qe,he.get(qe));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(Y.keys()).find(qe=>qe.toLowerCase()=="content-type"),Ie=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ou,F,void 0))||he||Ie||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,ht]of Y)this.g.setRequestHeader(qe,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(_),this.u=!1}catch(qe){Yf(this,qe)}};function Yf(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.m=5,Xf(_),Jl(_)}function Xf(_){_.A||(_.A=!0,dt(_,"complete"),dt(_,"error"))}e.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,dt(this,"complete"),dt(this,"abort"),Jl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jl(this,!0)),Vr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qf(this):this.bb())},e.bb=function(){Qf(this)};function Qf(_){if(_.h&&typeof s<"u"&&(!_.v[1]||va(_)!=4||_.Z()!=2)){if(_.u&&va(_)==4)wt(_.Ea,0,_);else if(dt(_,"readystatechange"),va(_)==4){_.h=!1;try{const ht=_.Z();e:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var Y;if(!(Y=F)){var he;if(he=ht===0){var Ie=String(_.D).match(es)[1]||null;!Ie&&o.self&&o.self.location&&(Ie=o.self.location.protocol.slice(0,-1)),he=!Kf.test(Ie?Ie.toLowerCase():"")}Y=he}if(Y)dt(_,"complete"),dt(_,"success");else{_.m=6;try{var qe=2<va(_)?_.g.statusText:""}catch{qe=""}_.l=qe+" ["+_.Z()+"]",Xf(_)}}finally{Jl(_)}}}}function Jl(_,F){if(_.g){_s(_);const Y=_.g,he=_.v[0]?()=>{}:null;_.g=null,_.v=null,F||dt(_,"ready");try{Y.onreadystatechange=he}catch{}}}function _s(_){_.I&&(o.clearTimeout(_.I),_.I=null)}e.isActive=function(){return!!this.g};function va(_){return _.g?_.g.readyState:0}e.Z=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(_){if(this.g){var F=this.g.responseText;return _&&F.indexOf(_)==0&&(F=F.substring(_.length)),Je(F)}};function Sd(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function ml(_){const F={};_=(_.g&&2<=va(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<_.length;he++){if(b(_[he]))continue;var Y=T(_[he]);const Ie=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const qe=F[Ie]||[];F[Ie]=qe,qe.push(Y)}E(F,function(he){return he.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(_,F,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[_]||F}function lu(_){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,_),this.cb=Ua("retryDelaySeedMs",1e4,_),this.Wa=Ua("forwardChannelMaxRetries",2,_),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(_&&_.concurrentRequestLimit),this.Da=new au,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=lu.prototype,e.la=8,e.G=1,e.connect=function(_,F,Y,he){Dt(0),this.W=_,this.H=F||{},Y&&he!==void 0&&(this.H.OSID=Y,this.H.OAID=he),this.F=this.X,this.I=j(this,null,this.W),uu(this)};function Po(_){if(Zl(_),_.G==3){var F=_.U++,Y=Di(_.I);if(Gr(Y,"SID",_.K),Gr(Y,"RID",F),Gr(Y,"TYPE","terminate"),gl(_,Y),F=new He(_,_.j,F),F.L=2,F.v=Xl(Di(Y)),Y=!1,o.navigator&&o.navigator.sendBeacon)try{Y=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!Y&&o.Image&&(new Image().src=F.v,Y=!0),Y||(F.g=ne(F.j,null),F.g.ea(F.v)),F.F=Date.now(),St(F)}mu(_)}function cu(_){_.g&&(du(_),_.g.cancel(),_.g=null)}function Zl(_){cu(_),_.u&&(o.clearTimeout(_.u),_.u=null),No(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function uu(_){if(!Zi(_.h)&&!_.s){_.s=!0;var F=_.Ga;te||re(),q||(te(),q=!0),B.add(F,_),_.B=0}}function Jf(_,F){return xs(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=F.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=ia(h(_.Ga,_,F),pu(_,_.B)),_.B++,!0)}e.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ie=new He(this,this.j,_);let qe=this.o;if(this.S&&(qe?(qe=A(qe),I(qe,this.S)):qe=this.S),this.m!==null||this.O||(Ie.H=qe,qe=null),this.P)e:{for(var F=0,Y=0;Y<this.i.length;Y++){t:{var he=this.i[Y];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(F+=he,4096<F){F=Y;break e}if(F===4096||Y===this.i.length-1){F=Y+1;break e}}F=1e3}else F=1e3;F=ec(this,Ie,F),Y=Di(this.I),Gr(Y,"RID",_),Gr(Y,"CVER",22),this.D&&Gr(Y,"X-HTTP-Session-Id",this.D),gl(this,Y),qe&&(this.O?F="headers="+encodeURIComponent(String(Co(qe)))+"&"+F:this.m&&Gf(Y,this.m,qe)),vn(this.h,Ie),this.Ua&&Gr(Y,"TYPE","init"),this.P?(Gr(Y,"$req",F),Gr(Y,"SID","null"),Ie.T=!0,ut(Ie,Y,null)):ut(Ie,Y,F),this.G=2}}else this.G==3&&(_?fu(this,_):this.i.length==0||Zi(this.h)||fu(this))};function fu(_,F){var Y;F?Y=F.l:Y=_.U++;const he=Di(_.I);Gr(he,"SID",_.K),Gr(he,"RID",Y),Gr(he,"AID",_.T),gl(_,he),_.m&&_.o&&Gf(he,_.m,_.o),Y=new He(_,_.j,Y,_.B+1),_.m===null&&(Y.H=_.o),F&&(_.i=F.D.concat(_.i)),F=ec(_,Y,1e3),Y.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),vn(_.h,Y),ut(Y,he,F)}function gl(_,F){_.H&&O(_.H,function(Y,he){Gr(F,he,Y)}),_.l&&yd({},function(Y,he){Gr(F,he,Y)})}function ec(_,F,Y){Y=Math.min(_.i.length,Y);var he=_.l?h(_.l.Na,_.l,_):null;e:{var Ie=_.i;let qe=-1;for(;;){const ht=["count="+Y];qe==-1?0<Y?(qe=Ie[0].g,ht.push("ofs="+qe)):qe=0:ht.push("ofs="+qe);let rr=!0;for(let mr=0;mr<Y;mr++){let nr=Ie[mr].g;const Ur=Ie[mr].map;if(nr-=qe,0>nr)qe=Math.max(0,Ie[mr].g-100),rr=!1;else try{Hf(Ur,ht,"req"+nr+"_")}catch{he&&he(Ur)}}if(rr){he=ht.join("&");break e}}}return _=_.i.splice(0,Y),F.D=_,he}function hu(_){if(!_.g&&!_.u){_.Y=1;var F=_.Fa;te||re(),q||(te(),q=!0),B.add(F,_),_.v=0}}function tc(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=ia(h(_.Fa,_),pu(_,_.v)),_.v++,!0)}e.Fa=function(){if(this.u=null,Ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=ia(h(this.ab,this),_)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),cu(this),Ad(this))};function du(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Ad(_){_.g=new He(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var F=Di(_.qa);Gr(F,"RID","rpc"),Gr(F,"SID",_.K),Gr(F,"AID",_.T),Gr(F,"CI",_.F?"0":"1"),!_.F&&_.ja&&Gr(F,"TO",_.ja),Gr(F,"TYPE","xmlhttp"),gl(_,F),_.m&&_.o&&Gf(F,_.m,_.o),_.L&&(_.g.I=_.L);var Y=_.g;_=_.ia,Y.L=1,Y.v=Xl(Di(F)),Y.m=null,Y.P=!0,bt(Y,_)}e.Za=function(){this.C!=null&&(this.C=null,cu(this),tc(this),Dt(19))};function No(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function vl(_,F){var Y=null;if(_.g==F){No(_),du(_),_.g=null;var he=2}else if(Va(_.h,F))Y=F.D,Vf(_.h,F),he=1;else return;if(_.G!=0){if(F.o)if(he==1){Y=F.m?F.m.length:0,F=Date.now()-F.F;var Ie=_.B;he=Ji(),dt(he,new ii(he,Y)),uu(_)}else hu(_);else if(Ie=F.s,Ie==3||Ie==0&&0<F.X||!(he==1&&Jf(_,F)||he==2&&tc(_)))switch(Y&&0<Y.length&&(F=_.h,F.i=F.i.concat(Y)),Ie){case 1:si(_,5);break;case 4:si(_,10);break;case 3:si(_,6);break;default:si(_,2)}}}function pu(_,F){let Y=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Y*=2),Y*F}function si(_,F){if(_.j.info("Error code "+F),F==2){var Y=h(_.fb,_),he=_.Xa;const Ie=!he;he=new Bn(he||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Yl(he,"https"),Xl(he),Ie?zs(he.toString(),Y):wd(he.toString(),Y)}else Dt(2);_.G=0,_.l&&_.l.sa(F),mu(_),Zl(_)}e.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function mu(_){if(_.G=0,_.ka=[],_.l){const F=Uf(_.h);(F.length!=0||_.i.length!=0)&&(y(_.ka,F),y(_.ka,_.i),_.h.i.length=0,m(_.i),_.i.length=0),_.l.ra()}}function j(_,F,Y){var he=Y instanceof Bn?Di(Y):new Bn(Y);if(he.g!="")F&&(he.g=F+"."+he.g),tu(he,he.s);else{var Ie=o.location;he=Ie.protocol,F=F?F+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var qe=new Bn(null);he&&Yl(qe,he),F&&(qe.g=F),Ie&&tu(qe,Ie),Y&&(qe.l=Y),he=qe}return Y=_.D,F=_.ya,Y&&F&&Gr(he,Y,F),Gr(he,"VER",_.la),gl(_,he),he}function ne(_,F,Y){if(F&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=_.Ca&&!_.pa?new Vr(new iu({eb:Y})):new Vr(_.pa),F.Ha(_.J),F}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function we(){}e=we.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Te(){}Te.prototype.g=function(_,F){return new De(_,F)};function De(_,F){nt.call(this),this.g=new lu(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(_?_["X-WebChannel-Client-Profile"]=F.va:_={"X-WebChannel-Client-Profile":F.va}),this.g.S=_,(_=F&&F.Sb)&&!b(_)&&(this.g.m=_),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!b(F)&&(this.g.D=F,_=this.h,_!==null&&F in _&&(_=this.h,F in _&&delete _[F])),this.j=new Et(this)}g(De,nt),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){Po(this.g)},De.prototype.o=function(_){var F=this.g;if(typeof _=="string"){var Y={};Y.__data__=_,_=Y}else this.u&&(Y={},Y.__data__=Ee(_),_=Y);F.i.push(new Ao(F.Ya++,_)),F.G==3&&uu(F)},De.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,De.aa.N.call(this)};function Qe(_){gn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const Y in F){_=Y;break e}_=void 0}(this.i=_)&&(_=this.i,F=F!==null&&_ in F?F[_]:void 0),this.data=F}else this.data=_}g(Qe,gn);function ft(){Or.call(this),this.status=1}g(ft,Or);function Et(_){this.g=_}g(Et,we),Et.prototype.ua=function(){dt(this.g,"a")},Et.prototype.ta=function(_){dt(this.g,new Qe(_))},Et.prototype.sa=function(_){dt(this.g,new ft)},Et.prototype.ra=function(){dt(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,c$=function(){return new Te},l$=function(){return Ji()},o$=Vt,I4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,Gx=ge,ye.COMPLETE="complete",s$=ye,ur.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",nt.prototype.listen=nt.prototype.K,tg=ur,Vr.prototype.listenOnce=Vr.prototype.L,Vr.prototype.getLastError=Vr.prototype.Ka,Vr.prototype.getLastErrorCode=Vr.prototype.Ba,Vr.prototype.getStatus=Vr.prototype.Z,Vr.prototype.getResponseJson=Vr.prototype.Oa,Vr.prototype.getResponseText=Vr.prototype.oa,Vr.prototype.send=Vr.prototype.ea,Vr.prototype.setWithCredentials=Vr.prototype.Ha,i$=Vr}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});const SO="@firebase/firestore",AO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new J9("@firebase/firestore");function Gd(){return qh.logLevel}function jt(e,...t){if(qh.logLevel<=Er.DEBUG){const r=t.map(dk);qh.debug(`Firestore (${Bp}): ${e}`,...r)}}function Dc(e,...t){if(qh.logLevel<=Er.ERROR){const r=t.map(dk);qh.error(`Firestore (${Bp}): ${e}`,...r)}}function Z0(e,...t){if(qh.logLevel<=Er.WARN){const r=t.map(dk);qh.warn(`Firestore (${Bp}): ${e}`,...r)}}function dk(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,u$(e,n,r)}function u$(e,t,r){let n=`FIRESTORE (${Bp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Dc(n),new Error(n)}function Br(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||u$(t,a,n)}function er(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends $p{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ate{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(vi.UNAUTHENTICATED))}shutdown(){}}class ite{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ste{constructor(t){this.t=t,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Br(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Dl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Dl,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Dl)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Br(typeof n.accessToken=="string",31837,{l:n}),new f$(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Br(t===null||typeof t=="string",2055,{h:t}),new vi(t)}}class ote{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new ote(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Br(this.o===void 0,3512);const n=i=>{i.error!=null&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Br(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new TO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ute(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=ute(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function hr(e,t){return e<t?-1:e>t?1:0}function D4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return hr(n,a);{const i=h$(),s=fte(i.encode(EO(e,r)),i.encode(EO(t,r)));return s!==0?s:hr(n,a)}}r+=n>65535?2:1}return hr(e.length,t.length)}function EO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function fte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return hr(e[r],t[r]);return hr(e.length,t.length)}function ep(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=-62135596800,CO=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(t){return Ht.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*CO);return new Ht(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<kO)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CO}_compareTo(t){return this.seconds===t.seconds?hr(this.nanoseconds,t.nanoseconds):hr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-kO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{static fromTimestamp(t){return new tr(t)}static min(){return new tr(new Ht(0,0))}static max(){return new tr(new Ht(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__name__";class El{constructor(t,r,n){r===void 0?r=0:r>t.length&&Yt(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Yt(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return El.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof El?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=El.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return hr(t.length,r.length)}static compareSegments(t,r){const n=El.isNumericId(t),a=El.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?El.extractNumericId(t).compare(El.extractNumericId(r)):D4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return uf.fromString(t.substring(4,t.length-2))}}class _n extends El{construct(t,r,n){return new _n(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ot(rt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new _n(r)}static emptyPath(){return new _n([])}}const hte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ja extends El{construct(t,r,n){return new Ja(t,r,n)}static isValidIdentifier(t){return hte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ja.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PO}static keyField(){return new Ja([PO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Ot(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Ot(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ot(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Ot(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ja(r)}static emptyPath(){return new Ja([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.path=t}static fromPath(t){return new Ut(_n.fromString(t))}static fromName(t){return new Ut(_n.fromString(t).popFirst(5))}static empty(){return new Ut(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_n.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return _n.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ut(new _n(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=-1;function dte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=tr.fromTimestamp(n===1e9?new Ht(r+1,0):new Ht(r,n));return new vf(a,Ut.empty(),t)}function pte(e){return new vf(e.readTime,e.key,v1)}class vf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new vf(tr.min(),Ut.empty(),v1)}static max(){return new vf(tr.max(),Ut.empty(),v1)}}function mte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Ut.comparator(e.documentKey,t.documentKey),r!==0?r:hr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==gte)throw e;jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new st((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof st?r:st.resolve(r)}catch(r){return st.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):st.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):st.reject(r)}static resolve(t){return new st((r,n)=>{r(t)})}static reject(t){return new st((r,n)=>{n(t)})}static waitFor(t){return new st((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=st.resolve(!1);for(const n of t)r=r.next(a=>a?st.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new st((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new st((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function yte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Up(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}qw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=-1;function Ww(e){return e==null}function q2(e){return e===0&&1/e==-1/0}function xte(e){return typeof e=="number"&&Number.isInteger(e)&&!q2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="";function bte(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=NO(t)),t=wte(e.get(r),t);return NO(t)}function wte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case p$:r+="";break;default:r+=i}}return r}function NO(e){return e+p$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Of(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function _te(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function m$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,r){this.comparator=t,this.root=r||Xa.EMPTY}insert(t,r){return new Rn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Xa.BLACK,null,null))}remove(t){return new Rn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xa.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xy(this.root,t,this.comparator,!0)}}class Xy{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xa{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??Xa.RED,this.left=a??Xa.EMPTY,this.right=i??Xa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new Xa(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Xa.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Yt(27949);return t+(this.isRed()?0:1)}}Xa.EMPTY=null,Xa.RED=!0,Xa.BLACK=!1;Xa.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt(57766)}get value(){throw Yt(16141)}get color(){throw Yt(16727)}get left(){throw Yt(29726)}get right(){throw Yt(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new Xa(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t){this.comparator=t,this.data=new Rn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new IO(this.data.getIterator())}getIteratorFrom(t){return new IO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Ta)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ta(this.comparator);return r.data=t,r}}class IO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.fields=t,t.sort(Ja.comparator)}static empty(){return new js([])}unionWith(t){let r=new Ta(Ja.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new js(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ep(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new g$("Invalid base64 string: "+i):i}}(t);return new ai(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new ai(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return hr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const Ste=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yf(e){if(Br(!!e,39018),typeof e=="string"){let t=0;const r=Ste.exec(e);if(Br(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Zn(e.seconds),nanos:Zn(e.nanos)}}function Zn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xf(e){return typeof e=="string"?ai.fromBase64String(e):ai.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$="server_timestamp",y$="__type__",x$="__previous_value__",b$="__local_write_time__";function mk(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[y$])===null||r===void 0?void 0:r.stringValue)===v$}function Hw(e){const t=e.mapValue.fields[x$];return mk(t)?Hw(t):t}function y1(e){const t=yf(e.mapValue.fields[b$].timestampValue);return new Ht(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const W2="(default)";class x1{constructor(t,r){this.projectId=t,this.database=r||W2}static empty(){return new x1("","")}get isDefaultDatabase(){return this.database===W2}isEqual(t){return t instanceof x1&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="__type__",_$="__max__",Qy={mapValue:{fields:{__type__:{stringValue:_$}}}},S$="__vector__",H2="value";function bf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mk(e)?4:Ete(e)?9007199254740991:Tte(e)?10:11:Yt(28295,{value:e})}function Vl(e,t){if(e===t)return!0;const r=bf(e);if(r!==bf(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return y1(e).isEqual(y1(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=yf(a.timestampValue),o=yf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return xf(a.bytesValue).isEqual(xf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return Zn(a.geoPointValue.latitude)===Zn(i.geoPointValue.latitude)&&Zn(a.geoPointValue.longitude)===Zn(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Zn(a.integerValue)===Zn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Zn(a.doubleValue),o=Zn(i.doubleValue);return s===o?q2(s)===q2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return ep(e.arrayValue.values||[],t.arrayValue.values||[],Vl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(OO(s)!==OO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Vl(s[l],o[l])))return!1;return!0}(e,t);default:return Yt(52216,{left:e})}}function b1(e,t){return(e.values||[]).find(r=>Vl(r,t))!==void 0}function tp(e,t){if(e===t)return 0;const r=bf(e),n=bf(t);if(r!==n)return hr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return hr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Zn(i.integerValue||i.doubleValue),l=Zn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return DO(e.timestampValue,t.timestampValue);case 4:return DO(y1(e),y1(t));case 5:return D4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=xf(i),l=xf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=hr(o[c],l[c]);if(u!==0)return u}return hr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=hr(Zn(i.latitude),Zn(s.latitude));return o!==0?o:hr(Zn(i.longitude),Zn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return jO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},d=(o=f[H2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[H2])===null||l===void 0?void 0:l.arrayValue,m=hr(((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:jO(d,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===Qy.mapValue&&s===Qy.mapValue)return 0;if(i===Qy.mapValue)return 1;if(s===Qy.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=D4(l[f],u[f]);if(h!==0)return h;const d=tp(o[l[f]],c[u[f]]);if(d!==0)return d}return hr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Yt(23264,{Pe:r})}}function DO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return hr(e,t);const r=yf(e),n=yf(t),a=hr(r.seconds,n.seconds);return a!==0?a:hr(r.nanos,n.nanos)}function jO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=tp(r[a],n[a]);if(i)return i}return hr(r.length,n.length)}function rp(e){return j4(e)}function j4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=yf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return xf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Ut.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=j4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${j4(r.fields[s])}`;return a+"}"}(e.mapValue):Yt(61005,{value:e})}function Kx(e){switch(bf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hw(e);return t?16+Kx(t):16;case 5:return 2*e.stringValue.length;case 6:return xf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Kx(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Of(n.fields,(i,s)=>{a+=i.length+Kx(s)}),a}(e.mapValue);default:throw Yt(13486,{value:e})}}function LO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function L4(e){return!!e&&"integerValue"in e}function gk(e){return!!e&&"arrayValue"in e}function MO(e){return!!e&&"nullValue"in e}function RO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yx(e){return!!e&&"mapValue"in e}function Tte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[w$])===null||r===void 0?void 0:r.stringValue)===S$}function _g(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Of(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=_g(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=_g(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Ete(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===_$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.value=t}static empty(){return new cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Yx(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=_g(r)}setAll(t){let r=Ja.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=_g(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());Yx(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Vl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];Yx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Of(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new cs(_g(this.value))}}function A$(e){const t=[];return Of(e.fields,(r,n)=>{const a=new Ja([r]);if(Yx(n)){const i=A$(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new js(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new bi(t,0,tr.min(),tr.min(),tr.min(),cs.empty(),0)}static newFoundDocument(t,r,n,a){return new bi(t,1,r,tr.min(),n,a,0)}static newNoDocument(t,r){return new bi(t,2,r,tr.min(),tr.min(),cs.empty(),0)}static newUnknownDocument(t,r){return new bi(t,3,r,tr.min(),tr.min(),cs.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(tr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof bi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,r){this.position=t,this.inclusive=r}}function FO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=Ut.comparator(Ut.fromName(s.referenceValue),r.key):n=tp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function $O(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Vl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,r="asc"){this.field=t,this.dir=r}}function kte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${}class pa extends T${constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Pte(t,r,n):r==="array-contains"?new Ite(t,n):r==="in"?new Dte(t,n):r==="not-in"?new jte(t,n):r==="array-contains-any"?new Lte(t,n):new pa(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Nte(t,n):new Ote(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(tp(r,this.value)):r!==null&&bf(this.value)===bf(r)&&this.matchesComparison(tp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cl extends T${constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new cl(t,r)}matches(t){return E$(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function E$(e){return e.op==="and"}function k$(e){return Cte(e)&&E$(e)}function Cte(e){for(const t of e.filters)if(t instanceof cl)return!1;return!0}function M4(e){if(e instanceof pa)return e.field.canonicalString()+e.op.toString()+rp(e.value);if(k$(e))return e.filters.map(t=>M4(t)).join(",");{const t=e.filters.map(r=>M4(r)).join(",");return`${e.op}(${t})`}}function C$(e,t){return e instanceof pa?function(n,a){return a instanceof pa&&n.op===a.op&&n.field.isEqual(a.field)&&Vl(n.value,a.value)}(e,t):e instanceof cl?function(n,a){return a instanceof cl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&C$(s,a.filters[o]),!0):!1}(e,t):void Yt(19439)}function P$(e){return e instanceof pa?function(r){return`${r.field.canonicalString()} ${r.op} ${rp(r.value)}`}(e):e instanceof cl?function(r){return r.op.toString()+" {"+r.getFilters().map(P$).join(" ,")+"}"}(e):"Filter"}class Pte extends pa{constructor(t,r,n){super(t,r,n),this.key=Ut.fromName(n.referenceValue)}matches(t){const r=Ut.comparator(t.key,this.key);return this.matchesComparison(r)}}class Nte extends pa{constructor(t,r){super(t,"in",r),this.keys=N$("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Ote extends pa{constructor(t,r){super(t,"not-in",r),this.keys=N$("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function N$(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ut.fromName(n.referenceValue))}class Ite extends pa{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return gk(r)&&b1(r.arrayValue,this.value)}}class Dte extends pa{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&b1(this.value.arrayValue,r)}}class jte extends pa{constructor(t,r){super(t,"not-in",r)}matches(t){if(b1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!b1(this.value.arrayValue,r)}}class Lte extends pa{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!gk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>b1(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function BO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Mte(e,t,r,n,a,i,s)}function vk(e){const t=er(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>M4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Ww(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>rp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>rp(n)).join(",")),t.Ie=r}return t.Ie}function yk(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!kte(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!C$(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$O(e.startAt,t.startAt)&&$O(e.endAt,t.endAt)}function R4(e){return Ut.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Rte(e,t,r,n,a,i,s,o){return new zp(e,t,r,n,a,i,s,o)}function xk(e){return new zp(e)}function VO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function O$(e){return e.collectionGroup!==null}function Sg(e){const t=er(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ta(Ja.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new w1(i,n))}),r.has(Ja.keyField().canonicalString())||t.Ee.push(new w1(Ja.keyField(),n))}return t.Ee}function jl(e){const t=er(e);return t.de||(t.de=I$(t,Sg(e))),t.de}function Fte(e){const t=er(e);return t.Ae||(t.Ae=I$(t,e.explicitOrderBy)),t.Ae}function I$(e,t){if(e.limitType==="F")return BO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new w1(a.field,i)});const r=e.endAt?new G2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new G2(e.startAt.position,e.startAt.inclusive):null;return BO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function F4(e,t){const r=e.filters.concat([t]);return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function K2(e,t,r){return new zp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Gw(e,t){return yk(jl(e),jl(t))&&e.limitType===t.limitType}function D$(e){return`${vk(jl(e))}|lt:${e.limitType}`}function Kd(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>P$(a)).join(", ")}]`),Ww(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>rp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>rp(a)).join(",")),`Target(${n})`}(jl(e))}; limitType=${e.limitType})`}function Kw(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ut.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Sg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=FO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Sg(n),a)||n.endAt&&!function(s,o,l){const c=FO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Sg(n),a))}(e,t)}function $te(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function j$(e){return(t,r)=>{let n=!1;for(const a of Sg(e)){const i=Bte(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Bte(e,t,r){const n=e.field.isKeyField()?Ut.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?tp(l,c):Yt(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Yt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Of(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return m$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=new Rn(Ut.comparator);function jc(){return Vte}const L$=new Rn(Ut.comparator);function rg(...e){let t=L$;for(const r of e)t=t.insert(r.key,r);return t}function M$(e){let t=L$;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function wh(){return Ag()}function R$(){return Ag()}function Ag(){return new ad(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ute=new Rn(Ut.comparator),zte=new Ta(Ut.comparator);function yr(...e){let t=zte;for(const r of e)t=t.add(r);return t}const qte=new Ta(hr);function Wte(){return qte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q2(t)?"-0":t}}function F$(e){return{integerValue:""+e}}function Hte(e,t){return xte(t)?F$(t):bk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this._=void 0}}function Gte(e,t,r){return e instanceof _1?function(a,i){const s={fields:{[y$]:{stringValue:v$},[b$]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&mk(i)&&(i=Hw(i)),i&&(s.fields[x$]=i),{mapValue:s}}(r,t):e instanceof S1?B$(e,t):e instanceof A1?V$(e,t):function(a,i){const s=$$(a,i),o=UO(s)+UO(a.Re);return L4(s)&&L4(a.Re)?F$(o):bk(a.serializer,o)}(e,t)}function Kte(e,t,r){return e instanceof S1?B$(e,t):e instanceof A1?V$(e,t):r}function $$(e,t){return e instanceof Y2?function(n){return L4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class _1 extends Yw{}class S1 extends Yw{constructor(t){super(),this.elements=t}}function B$(e,t){const r=U$(t);for(const n of e.elements)r.some(a=>Vl(a,n))||r.push(n);return{arrayValue:{values:r}}}class A1 extends Yw{constructor(t){super(),this.elements=t}}function V$(e,t){let r=U$(t);for(const n of e.elements)r=r.filter(a=>!Vl(a,n));return{arrayValue:{values:r}}}class Y2 extends Yw{constructor(t,r){super(),this.serializer=t,this.Re=r}}function UO(e){return Zn(e.integerValue||e.doubleValue)}function U$(e){return gk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(t,r){this.field=t,this.transform=r}}function Xte(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof S1&&a instanceof S1||n instanceof A1&&a instanceof A1?ep(n.elements,a.elements,Vl):n instanceof Y2&&a instanceof Y2?Vl(n.Re,a.Re):n instanceof _1&&a instanceof _1}(e.transform,t.transform)}class Qte{constructor(t,r){this.version=t,this.transformResults=r}}class Hi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Hi}static exists(t){return new Hi(void 0,t)}static updateTime(t){return new Hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Xw{}function z$(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Qw(e.key,Hi.none()):new Nv(e.key,e.data,Hi.none());{const r=e.data,n=cs.empty();let a=new Ta(Ja.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new If(e.key,n,new js(a.toArray()),Hi.none())}}function Jte(e,t,r){e instanceof Nv?function(a,i,s){const o=a.value.clone(),l=qO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof If?function(a,i,s){if(!Xx(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=qO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(q$(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Tg(e,t,r,n){return e instanceof Nv?function(i,s,o,l){if(!Xx(i.precondition,s))return o;const c=i.value.clone(),u=WO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof If?function(i,s,o,l){if(!Xx(i.precondition,s))return o;const c=WO(i.fieldTransforms,l,s),u=s.data;return u.setAll(q$(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return Xx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Zte(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=$$(n.transform,a||null);i!=null&&(r===null&&(r=cs.empty()),r.set(n.field,i))}return r||null}function zO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&ep(n,a,(i,s)=>Xte(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nv extends Xw{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class If extends Xw{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function q$(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function qO(e,t,r){const n=new Map;Br(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Kte(s,o,r[a]))}return n}function WO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Gte(i,s,t))}return n}class Qw extends Xw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ere extends Xw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&Jte(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Tg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Tg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=R$();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=z$(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(tr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),yr())}isEqual(t){return this.batchId===t.batchId&&ep(this.mutations,t.mutations,(r,n)=>zO(r,n))&&ep(this.baseMutations,t.baseMutations,(r,n)=>zO(r,n))}}class wk{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Br(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Ute}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new wk(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ca,Tr;function ire(e){switch(e){case rt.OK:return Yt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Yt(15467,{code:e})}}function W$(e){if(e===void 0)return Dc("GRPC error has no .code"),rt.UNKNOWN;switch(e){case ca.OK:return rt.OK;case ca.CANCELLED:return rt.CANCELLED;case ca.UNKNOWN:return rt.UNKNOWN;case ca.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ca.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ca.INTERNAL:return rt.INTERNAL;case ca.UNAVAILABLE:return rt.UNAVAILABLE;case ca.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ca.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ca.NOT_FOUND:return rt.NOT_FOUND;case ca.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ca.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ca.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ca.ABORTED:return rt.ABORTED;case ca.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ca.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ca.DATA_LOSS:return rt.DATA_LOSS;default:return Yt(39323,{code:e})}}(Tr=ca||(ca={}))[Tr.OK=0]="OK",Tr[Tr.CANCELLED=1]="CANCELLED",Tr[Tr.UNKNOWN=2]="UNKNOWN",Tr[Tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tr[Tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tr[Tr.NOT_FOUND=5]="NOT_FOUND",Tr[Tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tr[Tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tr[Tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tr[Tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tr[Tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tr[Tr.ABORTED=10]="ABORTED",Tr[Tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tr[Tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tr[Tr.INTERNAL=13]="INTERNAL",Tr[Tr.UNAVAILABLE=14]="UNAVAILABLE",Tr[Tr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sre=new uf([4294967295,4294967295],0);function HO(e){const t=h$().encode(e),r=new a$;return r.update(t),new Uint8Array(r.digest())}function GO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new uf([r,n],0),new uf([a,i],0)]}class _k{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ng(`Invalid padding: ${r}`);if(n<0)throw new ng(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ng(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new ng(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=uf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(uf.fromNumber(n)));return a.compare(sre)===1&&(a=new uf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=HO(t),[n,a]=GO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new _k(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=HO(t),[n,a]=GO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class ng extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Ov.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Jw(tr.min(),a,new Rn(hr),jc(),yr())}}class Ov{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Ov(n,r,yr(),yr(),yr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class H${constructor(t,r){this.targetId=t,this.Ce=r}}class G${constructor(t,r,n=ai.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class KO{constructor(){this.Fe=0,this.Me=YO(),this.xe=ai.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=yr(),r=yr(),n=yr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Yt(38017,{changeType:i})}}),new Ov(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=YO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Br(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ore{constructor(t){this.ze=t,this.je=new Map,this.He=jc(),this.Je=Jy(),this.Ye=Jy(),this.Ze=new Rn(hr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:Yt(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(R4(i))if(n===0){const s=new Ut(i.path);this.tt(r,s,bi.newNoDocument(s,tr.min()))}else Br(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=xf(n).toUint8Array()}catch(l){if(l instanceof g$)return Z0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new _k(s,a,i)}catch(l){return Z0(l instanceof ng?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&R4(o.target)){const l=new Ut(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,bi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=yr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new Jw(t,r,this.Ze,this.He,n);return this.He=jc(),this.Je=Jy(),this.Ye=Jy(),this.Ze=new Rn(hr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new KO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Ta(hr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Ta(hr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||jt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new KO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function Jy(){return new Rn(Ut.comparator)}function YO(){return new Rn(Ut.comparator)}const lre={asc:"ASCENDING",desc:"DESCENDING"},cre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ure={and:"AND",or:"OR"};class fre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function $4(e,t){return e.useProto3Json||Ww(t)?t:{value:t}}function X2(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function K$(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hre(e,t){return X2(e,t.toTimestamp())}function Ll(e){return Br(!!e,49232),tr.fromTimestamp(function(r){const n=yf(r);return new Ht(n.seconds,n.nanos)}(e))}function Sk(e,t){return B4(e,t).canonicalString()}function B4(e,t){const r=function(a){return new _n(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Y$(e){const t=_n.fromString(e);return Br(tB(t),10190,{key:t.toString()}),t}function V4(e,t){return Sk(e.databaseId,t.path)}function aS(e,t){const r=Y$(t);if(r.get(1)!==e.databaseId.projectId)throw new Ot(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Ot(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Ut(Q$(r))}function X$(e,t){return Sk(e.databaseId,t)}function dre(e){const t=Y$(e);return t.length===4?_n.emptyPath():Q$(t)}function U4(e){return new _n(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Q$(e){return Br(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function XO(e,t,r){return{name:V4(e,t),fields:r.value.mapValue.fields}}function pre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Yt(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Br(u===void 0||typeof u=="string",58123),ai.fromBase64String(u||"")):(Br(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ai.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?rt.UNKNOWN:W$(c.code);return new Ot(u,c.message||"")}(s);r=new G$(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=aS(e,n.document.name),i=Ll(n.document.updateTime),s=n.document.createTime?Ll(n.document.createTime):tr.min(),o=new cs({mapValue:{fields:n.document.fields}}),l=bi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Qx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=aS(e,n.document),i=n.readTime?Ll(n.readTime):tr.min(),s=bi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Qx([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=aS(e,n.document),i=n.removedTargetIds||[];r=new Qx([],i,a,null)}else{if(!("filter"in t))return Yt(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new are(a,i),o=n.targetId;r=new H$(o,s)}}return r}function mre(e,t){let r;if(t instanceof Nv)r={update:XO(e,t.key,t.value)};else if(t instanceof Qw)r={delete:V4(e,t.key)};else if(t instanceof If)r={update:XO(e,t.key,t.data),updateMask:Are(t.fieldMask)};else{if(!(t instanceof ere))return Yt(16599,{ft:t.type});r={verify:V4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof _1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof S1)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof A1)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Y2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw Yt(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:hre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Yt(27497)}(e,t.precondition)),r}function gre(e,t){return e&&e.length>0?(Br(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Ll(a.updateTime):Ll(i);return s.isEqual(tr.min())&&(s=Ll(i)),new Qte(s,a.transformResults||[])}(r,t))):[]}function vre(e,t){return{documents:[X$(e,t.path)]}}function J$(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=X$(e,a);const i=function(c){if(c.length!==0)return eB(cl.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:$u(h.field),direction:wre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=$4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function yre(e,t,r,n){const{gt:a,parent:i}=J$(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:$u(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:$u(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function xre(e){let t=dre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Br(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=Z$(f);return h instanceof cl&&k$(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new w1(Yd(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Ww(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new G2(d,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,d=f.values||[];return new G2(d,h)}(r.endAt)),Rte(t,a,s,i,o,"F",l,c)}function bre(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Z$(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Yd(r.unaryFilter.field);return pa.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Yd(r.unaryFilter.field);return pa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yd(r.unaryFilter.field);return pa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yd(r.unaryFilter.field);return pa.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Yt(61313);default:return Yt(60726)}}(e):e.fieldFilter!==void 0?function(r){return pa.create(Yd(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Yt(58110);default:return Yt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return cl.create(r.compositeFilter.filters.map(n=>Z$(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Yt(1026)}}(r.compositeFilter.op))}(e):Yt(30097,{filter:e})}function wre(e){return lre[e]}function _re(e){return cre[e]}function Sre(e){return ure[e]}function $u(e){return{fieldPath:e.canonicalString()}}function Yd(e){return Ja.fromServerFormat(e.fieldPath)}function eB(e){return e instanceof pa?function(r){if(r.op==="=="){if(RO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NAN"}};if(MO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(RO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NOT_NAN"}};if(MO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$u(r.field),op:_re(r.op),value:r.value}}}(e):e instanceof cl?function(r){const n=r.getFilters().map(a=>eB(a));return n.length===1?n[0]:{compositeFilter:{op:Sre(r.op),filters:n}}}(e):Yt(54877,{filter:e})}function Are(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function tB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t,r,n,a,i=tr.min(),s=tr.min(),o=ai.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Hu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(t){this.wt=t}}function Ere(e){const t=xre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?K2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(){this.yn=new Cre}addToCollectionParentIndex(t,r){return this.yn.add(r),st.resolve()}getCollectionParents(t,r){return st.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return st.resolve()}deleteFieldIndex(t,r){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,r){return st.resolve()}getDocumentsMatchingTarget(t,r){return st.resolve(null)}getIndexType(t,r){return st.resolve(0)}getFieldIndexes(t,r){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,r){return st.resolve(vf.min())}getMinOffsetFromCollectionGroup(t,r){return st.resolve(vf.min())}updateCollectionGroup(t,r,n){return st.resolve()}updateIndexEntries(t,r){return st.resolve()}}class Cre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Ta(_n.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Ta(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rB=41943040;class os{static withCacheSize(t){return new os(t,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(rB,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new np(0)}static ir(){return new np(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="LruGarbageCollector",Pre=1048576;function ZO([e,t],[r,n]){const a=hr(e,r);return a===0?hr(t,n):a}class Nre{constructor(t){this.cr=t,this.buffer=new Ta(ZO),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();ZO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ore{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){jt(JO,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Up(r)?jt(JO,"Ignoring IndexedDB error during garbage collection: ",r):await Vp(r)}await this.Ir(3e5)})}}class Ire{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return st.resolve(qw.le);const n=new Nre(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(QO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QO):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Gd()<=Er.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Dre(e,t){return new Ire(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(){this.changes=new ad(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,bi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?st.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Tg(n.mutation,a,js.empty(),Ht.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,yr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=yr()){const a=wh();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=rg();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=wh();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,yr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=jc();const s=Ag(),o=function(){return Ag()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof If)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Tg(u.mutation,c,u.mutation.getFieldMask(),Ht.now())):s.set(c.key,js.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new Lre(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Ag();let a=new Rn((s,o)=>s-o),i=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||js.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||yr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=R$();u.forEach(h=>{if(!i.has(h)){const d=z$(r.get(h),n.get(h));d!==null&&f.set(h,d),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return st.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return Ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):O$(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):st.resolve(wh());let o=v1,l=i;return s.next(c=>st.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?st.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,yr())).next(u=>({batchId:o,changes:M$(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ut(r)).next(n=>{let a=rg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=rg();return this.indexManager.getCollectionParents(t,i).next(o=>st.forEach(o,l=>{const c=function(f,h){return new zp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,bi.newInvalidDocument(u)))});let o=rg();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Tg(u.mutation,c,js.empty(),Ht.now()),Kw(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return st.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Ll(a.createTime)}}(r)),st.resolve()}getNamedQuery(t,r){return st.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Ere(a.bundledQuery),readTime:Ll(a.readTime)}}(r)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(){this.overlays=new Rn(Ut.comparator),this.Or=new Map}getOverlay(t,r){return st.resolve(this.overlays.get(r))}getOverlays(t,r){const n=wh();return st.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),st.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),st.resolve()}getOverlaysForCollection(t,r,n){const a=wh(),i=r.length+1,s=new Ut(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return st.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new Rn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=wh(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=wh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return st.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new rre(r,n));let i=this.Or.get(r);i===void 0&&(i=yr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(){this.sessionToken=ai.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.Nr=new Ta(Oa.Br),this.Lr=new Ta(Oa.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Oa(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Oa(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new Ut(new _n([])),n=new Oa(r,t),a=new Oa(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new Ut(new _n([])),n=new Oa(r,t),a=new Oa(r,t+1);let i=yr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Oa(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Oa{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return Ut.comparator(t.key,r.key)||hr(t.Gr,r.Gr)}static kr(t,r){return hr(t.Gr,r.Gr)||Ut.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ta(Oa.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Oa(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return st.resolve(s)}lookupMutationBatch(t,r){return st.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return st.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?pk:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Oa(r,0),a=new Oa(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),st.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Ta(hr);return r.forEach(a=>{const i=new Oa(a,0),s=new Oa(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),st.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;Ut.isDocumentKey(i)||(i=i.child(""));const s=new Oa(new Ut(i),0);let o=new Ta(hr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),st.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Br(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return st.forEach(r.mutations,a=>{const i=new Oa(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Oa(r,0),a=this.zr.firstAfterOrEqual(n);return st.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(t){this.Zr=t,this.docs=function(){return new Rn(Ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return st.resolve(n?n.document.mutableCopy():bi.newInvalidDocument(r))}getEntries(t,r){let n=jc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():bi.newInvalidDocument(a))}),st.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=jc();const s=r.path,o=new Ut(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||mte(pte(u),n)<=0||(a.has(u.key)||Kw(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return st.resolve(i)}getAllFromCollectionGroup(t,r,n,a){Yt(9500)}Xr(t,r){return st.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Ure(this)}getSize(t){return st.resolve(this.size)}}class Ure extends jre{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),st.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(t){this.persistence=t,this.ei=new ad(r=>vk(r),yk),this.lastRemoteSnapshotVersion=tr.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ak,this.targetCount=0,this.ri=np.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),st.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new np(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,st.resolve()}updateTargetData(t,r){return this.ar(r),st.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),st.waitFor(i).next(()=>a)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return st.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),st.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),st.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),st.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return st.resolve(n)}containsKey(t,r){return st.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(t,r){this.ii={},this.overlays={},this.si=new qw(0),this.oi=!1,this.oi=!0,this._i=new $re,this.referenceDelegate=t(this),this.ai=new zre(this),this.indexManager=new kre,this.remoteDocumentCache=function(a){return new Vre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Tre(r),this.ci=new Rre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Fre,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new Bre(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){jt("MemoryPersistence","Starting transaction:",t);const a=new qre(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return st.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class qre extends vte{constructor(t){super(),this.currentSequenceNumber=t}}class Tk{constructor(t){this.persistence=t,this.Ti=new Ak,this.Ii=null}static Ei(t){return new Tk(t)}get di(){if(this.Ii)return this.Ii;throw Yt(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),st.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),st.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),st.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,n=>{const a=Ut.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,tr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return st.or([()=>st.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class Q2{constructor(t,r){this.persistence=t,this.Ri=new ad(n=>bte(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Dre(this,r)}static Ei(t,r){return new Q2(t,r)}li(){}hi(t){return st.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return st.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?st.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,tr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),st.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Kx(t.data.value)),r}gr(t,r,n){return st.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return st.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=yr(),a=yr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Ek(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return FZ()?8:yte(MZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Wre;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Gd()<=Er.DEBUG&&jt("QueryEngine","SDK will not create cache indexes for query:",Kd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Gd()<=Er.DEBUG&&jt("QueryEngine","Query:",Kd(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Gd()<=Er.DEBUG&&jt("QueryEngine","The SDK decides to create cache indexes for query:",Kd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jl(r))):st.resolve())}Rs(t,r){if(VO(r))return st.resolve(null);let n=jl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=K2(r,null,"F"),n=jl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=yr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,K2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return VO(r)||a.isEqual(tr.min())?st.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?st.resolve(null):(Gd()<=Er.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Kd(r)),this.ws(t,s,r,dte(a,v1)).next(o=>o))})}ps(t,r){let n=new Ta(j$(t));return r.forEach((a,i)=>{Kw(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Gd()<=Er.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",Kd(r)),this.As.getDocumentsMatchingQuery(t,r,vf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="LocalStore",Gre=3e8;class Kre{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new Rn(hr),this.Ds=new ad(i=>vk(i),yk),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Mre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function Yre(e,t,r,n){return new Kre(e,t,r,n)}async function aB(e,t){const r=er(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=yr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function Xre(e,t){const r=er(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let d=st.resolve();return h.forEach(g=>{d=d.next(()=>u.getEntry(l,g)).next(m=>{const y=c.docVersions.get(g);Br(y!==null,48541),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=yr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function iB(e){const t=er(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function Qre(e,t){const r=er(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(ai.EMPTY_BYTE_STRING,tr.min()).withLastLimboFreeSnapshotVersion(tr.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),a=a.insert(f,d),function(m,y,v){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Gre?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,d,u)&&o.push(r.ai.updateTargetData(i,d))});let l=jc(),c=yr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(Jre(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(tr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return st.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function Jre(e,t,r){let n=yr(),a=yr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=jc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(tr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):jt(kk,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function Zre(e,t){const r=er(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=pk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function ene(e,t){const r=er(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,st.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new Hu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function z4(e,t,r){const n=er(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Up(s))throw s;jt(kk,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function eI(e,t,r){const n=er(e);let a=tr.min(),i=yr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=er(l),h=f.Ds.get(u);return h!==void 0?st.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,jl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:tr.min(),r?i:yr())).next(o=>(tne(n,$te(t),o),{documents:o,Ns:i})))}function tne(e,t,r){let n=e.vs.get(t)||tr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class tI{constructor(){this.activeTargetIds=Wte()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rne{constructor(){this.So=new tI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new tI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="ConnectivityMonitor";class nI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){jt(rI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){jt(rI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy=null;function q4(){return Zy===null?Zy=function(){return 268435456+Math.round(2147483648*Math.random())}():Zy++,"0x"+Zy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="RestConnection",ane={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ine{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===W2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=q4(),o=this.$o(t,r.toUriEncodedString());jt(iS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=fk(c);return this.Ko(t,o,l,n,u).then(f=>(jt(iS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Z0(iS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=ane[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="WebChannelConnection";class one extends ine{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=q4();return new Promise((o,l)=>{const c=new i$;c.setWithCredentials(!0),c.listenOnce(s$.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gx.NO_ERROR:const f=c.getResponseJson();jt(ci,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Gx.TIMEOUT:jt(ci,`RPC '${t}' ${s} timed out`),l(new Ot(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Gx.HTTP_ERROR:const h=c.getStatus();if(jt(ci,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const m=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(b)>=0?b:rt.UNKNOWN}(g.status);l(new Ot(m,g.message))}else l(new Ot(rt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ot(rt.UNAVAILABLE,"Connection failed."));break;default:Yt(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{jt(ci,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);jt(ci,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=q4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=c$(),o=l$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");jt(ci,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,d=!1;const g=new sne({Go:y=>{d?jt(ci,`Not sending because RPC '${t}' stream ${a} is closed:`,y):(h||(jt(ci,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),jt(ci,`RPC '${t}' stream ${a} sending:`,y),f.send(y))},zo:()=>f.close()}),m=(y,v,b)=>{y.listen(v,w=>{try{b(w)}catch(D){setTimeout(()=>{throw D},0)}})};return m(f,tg.EventType.OPEN,()=>{d||(jt(ci,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,tg.EventType.CLOSE,()=>{d||(d=!0,jt(ci,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,tg.EventType.ERROR,y=>{d||(d=!0,Z0(ci,`RPC '${t}' stream ${a} transport errored. Name:`,y.name,"Message:",y.message),g.r_(new Ot(rt.UNAVAILABLE,"The operation could not be completed")))}),m(f,tg.EventType.MESSAGE,y=>{var v;if(!d){const b=y.data[0];Br(!!b,16349);const w=b,D=(w==null?void 0:w.error)||((v=w[0])===null||v===void 0?void 0:v.error);if(D){jt(ci,`RPC '${t}' stream ${a} received error:`,D);const P=D.status;let O=function(S){const I=ca[S];if(I!==void 0)return W$(I)}(P),E=D.message;O===void 0&&(O=rt.INTERNAL,E="Unknown error status: "+P+" with message "+D.message),d=!0,g.r_(new Ot(O,E)),f.close()}else jt(ci,`RPC '${t}' stream ${a} received:`,b),g.i_(b)}}),m(o,o$.STAT_EVENT,y=>{y.stat===I4.PROXY?jt(ci,`RPC '${t}' stream ${a} detected buffering proxy`):y.stat===I4.NOPROXY&&jt(ci,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function sS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e){return new fre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&jt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="PersistentStream";class oB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new sB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(Dc(r.toString()),Dc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Ot(rt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return jt(aI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(jt(aI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lne extends oB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=pre(this.serializer,t),n=function(i){if(!("targetChange"in i))return tr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?tr.min():s.readTime?Ll(s.readTime):tr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=U4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=R4(l)?{documents:vre(i,l)}:{query:J$(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=K$(i,s.resumeToken);const c=$4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(tr.min())>0){o.readTime=X2(i,s.snapshotVersion.toTimestamp());const c=$4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=bre(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=U4(this.serializer),r.removeTarget=t,this.F_(r)}}class cne extends oB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Br(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Br(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Br(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=gre(t.writeResults,t.commitTime),n=Ll(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=U4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>mre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{}class fne extends une{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Ot(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,B4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ot(rt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,B4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(rt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class hne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Dc(r),this.ea=!1):jt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="RemoteStore";class dne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{id(this)&&(jt(Wh,"Restarting streams for network reachability change."),await async function(l){const c=er(l);c.aa.add(4),await Iv(c),c.la.set("Unknown"),c.aa.delete(4),await e5(c)}(this))})}),this.la=new hne(n,a)}}async function e5(e){if(id(e))for(const t of e.ua)await t(!0)}async function Iv(e){for(const t of e.ua)await t(!1)}function lB(e,t){const r=er(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Ok(r)?Nk(r):qp(r).b_()&&Pk(r,t))}function Ck(e,t){const r=er(e),n=qp(r);r._a.delete(t),n.b_()&&cB(r,t),r._a.size===0&&(n.b_()?n.v_():id(r)&&r.la.set("Unknown"))}function Pk(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}qp(e).U_(t)}function cB(e,t){e.ha.Ke(t),qp(e).K_(t)}function Nk(e){e.ha=new ore({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),qp(e).start(),e.la.ta()}function Ok(e){return id(e)&&!qp(e).w_()&&e._a.size>0}function id(e){return er(e).aa.size===0}function uB(e){e.ha=void 0}async function pne(e){e.la.set("Online")}async function mne(e){e._a.forEach((t,r)=>{Pk(e,t)})}async function gne(e,t){uB(e),Ok(e)?(e.la.ia(t),Nk(e)):e.la.set("Unknown")}async function vne(e,t,r){if(e.la.set("Online"),t instanceof G$&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){jt(Wh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await J2(e,n)}else if(t instanceof Qx?e.ha.Xe(t):t instanceof H$?e.ha.ot(t):e.ha.nt(t),!r.isEqual(tr.min()))try{const n=await iB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(ai.EMPTY_BYTE_STRING,u.snapshotVersion)),cB(i,l);const f=new Hu(u.target,l,c,u.sequenceNumber);Pk(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){jt(Wh,"Failed to raise snapshot:",n),await J2(e,n)}}async function J2(e,t,r){if(!Up(t))throw t;e.aa.add(1),await Iv(e),e.la.set("Offline"),r||(r=()=>iB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{jt(Wh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await e5(e)})}function fB(e,t){return t().catch(r=>J2(e,r,t))}async function t5(e){const t=er(e),r=wf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:pk;for(;yne(t);)try{const a=await Zre(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,xne(t,a)}catch(a){await J2(t,a)}hB(t)&&dB(t)}function yne(e){return id(e)&&e.oa.length<10}function xne(e,t){e.oa.push(t);const r=wf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function hB(e){return id(e)&&!wf(e).w_()&&e.oa.length>0}function dB(e){wf(e).start()}async function bne(e){wf(e).H_()}async function wne(e){const t=wf(e);for(const r of e.oa)t.G_(r.mutations)}async function _ne(e,t,r){const n=e.oa.shift(),a=wk.from(n,t,r);await fB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await t5(e)}async function Sne(e,t){t&&wf(e).W_&&await async function(n,a){if(function(s){return ire(s)&&s!==rt.ABORTED}(a.code)){const i=n.oa.shift();wf(n).D_(),await fB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await t5(n)}}(e,t),hB(e)&&dB(e)}async function iI(e,t){const r=er(e);r.asyncQueue.verifyOperationInProgress(),jt(Wh,"RemoteStore received new credentials");const n=id(r);r.aa.add(3),await Iv(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await e5(r)}async function Ane(e,t){const r=er(e);t?(r.aa.delete(2),await e5(r)):t||(r.aa.add(2),await Iv(r),r.la.set("Unknown"))}function qp(e){return e.Pa||(e.Pa=function(r,n,a){const i=er(r);return i.Y_(),new lne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:pne.bind(null,e),Jo:mne.bind(null,e),Zo:gne.bind(null,e),Q_:vne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Ok(e)?Nk(e):e.la.set("Unknown")):(await e.Pa.stop(),uB(e))})),e.Pa}function wf(e){return e.Ta||(e.Ta=function(r,n,a){const i=er(r);return i.Y_(),new cne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:bne.bind(null,e),Zo:Sne.bind(null,e),z_:wne.bind(null,e),j_:_ne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await t5(e)):(await e.Ta.stop(),e.oa.length>0&&(jt(Wh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new Ik(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dk(e,t){if(Dc("AsyncQueue",`${t}: ${e}`),Up(e))return new Ot(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static emptySet(t){return new C0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Ut.comparator(r.key,n.key):(r,n)=>Ut.comparator(r.key,n.key),this.keyedMap=rg(),this.sortedSet=new Rn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof C0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new C0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.Ia=new Rn(Ut.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):Yt(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class ap{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new ap(t,r,C0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Ene{constructor(){this.queries=oI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=er(r),i=a.queries;a.queries=oI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Ot(rt.ABORTED,"Firestore shutting down"))}}function oI(){return new ad(e=>D$(e),Gw)}async function pB(e,t){const r=er(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Tne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=Dk(s,`Initialization of query '${Kd(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&jk(r)}async function mB(e,t){const r=er(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function kne(e,t){const r=er(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&jk(r)}function Cne(e,t,r){const n=er(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function jk(e){e.fa.forEach(t=>{t.next()})}var W4,lI;(lI=W4||(W4={})).ya="default",lI.Cache="cache";class gB{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new ap(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=ap.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==W4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(t){this.key=t}}class yB{constructor(t){this.key=t}}class Pne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=yr(),this.mutatedKeys=yr(),this.Ua=j$(t),this.Ka=new C0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new sI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),d=Kw(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let y=!1;h&&d?h.data.isEqual(d.data)?g!==m&&(n.track({type:3,doc:d}),y=!0):this.ja(h,d)||(n.track({type:2,doc:d}),y=!0,(l&&this.Ua(d,l)>0||c&&this.Ua(d,c)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),y=!0):h&&!d&&(n.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(d?(s=s.add(d),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(d,g){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt(20277,{Vt:y})}};return m(d)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new ap(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new sI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=yr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new yB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new vB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=yr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return ap.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Lk="SyncEngine";class Nne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class One{constructor(t){this.key=t,this.tu=!1}}class Ine{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new ad(o=>D$(o),Gw),this.iu=new Map,this.su=new Set,this.ou=new Rn(Ut.comparator),this._u=new Map,this.au=new Ak,this.uu={},this.cu=new Map,this.lu=np.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Dne(e,t,r=!0){const n=AB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await xB(n,t,r,!0),a}async function jne(e,t){const r=AB(e);await xB(r,t,!0,!1)}async function xB(e,t,r,n){const a=await ene(e.localStore,jl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Lne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&lB(e.remoteStore,a),o}async function Lne(e,t,r,n,a){e.Pu=(f,h,d)=>async function(m,y,v,b){let w=y.view.Ga(v);w.ys&&(w=await eI(m.localStore,y.query,!1).then(({documents:E})=>y.view.Ga(E,w)));const D=b&&b.targetChanges.get(y.targetId),P=b&&b.targetMismatches.get(y.targetId)!=null,O=y.view.applyChanges(w,m.isPrimaryClient,D,P);return uI(m,y.targetId,O.Ya),O.snapshot}(e,f,h,d);const i=await eI(e.localStore,t,!0),s=new Pne(t,i.Ns),o=s.Ga(i.documents),l=Ov.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);uI(e,r,c.Ya);const u=new Nne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Mne(e,t,r){const n=er(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Gw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await z4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Ck(n.remoteStore,a.targetId),H4(n,a.targetId)}).catch(Vp)):(H4(n,a.targetId),await z4(n.localStore,a.targetId,!0))}async function Rne(e,t){const r=er(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ck(r.remoteStore,n.targetId))}async function Fne(e,t,r){const n=Wne(e);try{const a=await function(s,o){const l=er(s),c=Ht.now(),u=o.reduce((d,g)=>d.add(g.key),yr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=jc(),m=yr();return l.Cs.getEntries(d,u).next(y=>{g=y,g.forEach((v,b)=>{b.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(y=>{f=y;const v=[];for(const b of o){const w=Zte(b,f.get(b.key).overlayedDocument);w!=null&&v.push(new If(b.key,w,A$(w.value.mapValue),Hi.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,v,o)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(d,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:M$(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new Rn(hr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await Dv(n,a.changes),await t5(n.remoteStore)}catch(a){const i=Dk(a,"Failed to persist write");r.reject(i)}}async function bB(e,t){const r=er(e);try{const n=await Qre(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(Br(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?Br(s.tu,14607):a.removedDocuments.size>0&&(Br(s.tu,42227),s.tu=!1))}),await Dv(r,n,t)}catch(n){await Vp(n)}}function cI(e,t,r){const n=er(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=er(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&jk(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function $ne(e,t,r){const n=er(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new Rn(Ut.comparator);s=s.insert(i,bi.newNoDocument(i,tr.min()));const o=yr().add(i),l=new Jw(tr.min(),new Map,new Rn(hr),s,o);await bB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),Mk(n)}else await z4(n.localStore,t,!1).then(()=>H4(n,t,r)).catch(Vp)}async function Bne(e,t){const r=er(e),n=t.batch.batchId;try{const a=await Xre(r.localStore,t);_B(r,n,null),wB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Dv(r,a)}catch(a){await Vp(a)}}async function Vne(e,t,r){const n=er(e);try{const a=await function(s,o){const l=er(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Br(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);_B(n,t,r),wB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Dv(n,a)}catch(a){await Vp(a)}}function wB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function _B(e,t,r){const n=er(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function H4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||SB(e,n)})}function SB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(Ck(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),Mk(e))}function uI(e,t,r){for(const n of r)n instanceof vB?(e.au.addReference(n.key,t),Une(e,n)):n instanceof yB?(jt(Lk,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||SB(e,n.key)):Yt(19791,{Iu:n})}function Une(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(jt(Lk,"New document in limbo: "+r),e.su.add(n),Mk(e))}function Mk(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new Ut(_n.fromString(t)),n=e.lu.next();e._u.set(n,new One(r)),e.ou=e.ou.insert(r,n),lB(e.remoteStore,new Hu(jl(xk(r.path)),n,"TargetPurposeLimboResolution",qw.le))}}async function Dv(e,t,r){const n=er(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=Ek.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=er(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>st.forEach(c,h=>st.forEach(h.ls,d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>st.forEach(h.hs,d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!Up(f))throw f;jt(kk,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const d=u.Ss.get(h),g=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function zne(e,t){const r=er(e);if(!r.currentUser.isEqual(t)){jt(Lk,"User change. New user:",t.toKey());const n=await aB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Ot(rt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Dv(r,n.Ms)}}function qne(e,t){const r=er(e),n=r._u.get(t);if(n&&n.tu)return yr().add(n.key);{let a=yr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function AB(e){const t=er(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$ne.bind(null,t),t.nu.Q_=kne.bind(null,t.eventManager),t.nu.Tu=Cne.bind(null,t.eventManager),t}function Wne(e){const t=er(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vne.bind(null,t),t}class Z2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zw(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return Yre(this.persistence,new Hre,t.initialUser,this.serializer)}Ru(t){return new nB(Tk.Ei,this.serializer)}Au(t){return new rne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Z2.provider={build:()=>new Z2};class Hne extends Z2{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Br(this.persistence.referenceDelegate instanceof Q2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ore(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new nB(n=>Q2.Ei(n,r),this.serializer)}}class G4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>cI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zne.bind(null,this.syncEngine),await Ane(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ene}()}createDatastore(t){const r=Zw(t.databaseInfo.databaseId),n=function(i){return new one(i)}(t.databaseInfo);return function(i,s,o,l){return new fne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new dne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>cI(this.syncEngine,r,0),function(){return nI.C()?new nI:new nne}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new Ine(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=er(a);jt(Wh,"RemoteStore shutting down."),i.aa.add(5),await Iv(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}G4.provider={build:()=>new G4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Dc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="FirestoreClient";class Gne{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=vi.UNAUTHENTICATED,this.clientId=d$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{jt(_f,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(jt(_f,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Dk(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function oS(e,t){e.asyncQueue.verifyOperationInProgress(),jt(_f,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await aB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function fI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Kne(e);jt(_f,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>iI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>iI(t.remoteStore,a)),e._onlineComponents=t}async function Kne(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){jt(_f,"Using user provided OfflineComponentProvider");try{await oS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Z0("Error using user provided cache. Falling back to memory cache: "+r),await oS(e,new Z2)}}else jt(_f,"Using default OfflineComponentProvider"),await oS(e,new Hne(void 0));return e._offlineComponents}async function Rk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(jt(_f,"Using user provided OnlineComponentProvider"),await fI(e,e._uninitializedComponentsProvider._online)):(jt(_f,"Using default OnlineComponentProvider"),await fI(e,new G4))),e._onlineComponents}function Yne(e){return Rk(e).then(t=>t.syncEngine)}function Xne(e){return Rk(e).then(t=>t.datastore)}async function EB(e){const t=await Rk(e),r=t.eventManager;return r.onListen=Dne.bind(null,t.syncEngine),r.onUnlisten=Mne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=jne.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Rne.bind(null,t.syncEngine),r}function Qne(e,t,r={}){const n=new Dl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new TB({next:h=>{u.yu(),s.enqueueAndForget(()=>mB(i,f));const d=h.docs.has(o);!d&&h.fromCache?c.reject(new Ot(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?c.reject(new Ot(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new gB(xk(o.path),u,{includeMetadataChanges:!0,Fa:!0});return pB(i,f)}(await EB(e),e.asyncQueue,t,r,n)),n.promise}function Jne(e,t,r={}){const n=new Dl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new TB({next:h=>{u.yu(),s.enqueueAndForget(()=>mB(i,f)),h.fromCache&&l.source==="server"?c.reject(new Ot(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new gB(o,u,{includeMetadataChanges:!0,Fa:!0});return pB(i,f)}(await EB(e),e.asyncQueue,t,r,n)),n.promise}function Zne(e,t,r){const n=new Dl;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await Xne(e);n.resolve(async function(s,o,l){var c;const u=er(s),{request:f,yt:h,parent:d}=yre(u.serializer,Fte(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,d,f,1)).filter(y=>!!y.result);Br(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((y,v)=>(y[h[v]]=m[v],y),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(e,t,r){if(!r)throw new Ot(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function eae(e,t,r,n){if(t===!0&&n===!0)throw new Ot(rt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function dI(e){if(!Ut.isDocumentKey(e))throw new Ot(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pI(e){if(Ut.isDocumentKey(e))throw new Ot(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function r5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Yt(12329,{type:typeof e})}function Fs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ot(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=r5(e);throw new Ot(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function tae(e,t){if(t<=0)throw new Ot(rt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="firestore.googleapis.com",mI=!0;class gI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ot(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PB,this.ssl=mI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:mI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Pre)throw new Ot(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class n5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ot(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ate;switch(n.type){case"firstParty":return new lte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ot(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,X9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=hI.get(r);n&&(jt("ComponentProvider","Removing Datastore"),hI.delete(r),n.terminate())}(this),Promise.resolve()}}function rae(e,t,r,n={}){var a;e=Fs(e,n5);const i=fk(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==PB&&s.host!==l&&Z0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!V2(c,o)&&(e._setSettings(c),i&&(IZ(`https://${l}`),X9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=vi.MOCK_USER;else{u=DZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ot(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new vi(h)}e._authCredentials=new ite(new f$(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Df(this.firestore,t,this._query)}}class Gi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gi(this.firestore,t,this._key)}}class ff extends Df{constructor(t,r,n){super(t,r,xk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gi(this.firestore,null,new Ut(t))}withConverter(t){return new ff(this.firestore,t,this._path)}}function Pt(e,t,...r){if(e=ll(e),CB("collection","path",t),e instanceof n5){const n=_n.fromString(t,...r);return pI(n),new ff(e,null,n)}{if(!(e instanceof Gi||e instanceof ff))throw new Ot(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_n.fromString(t,...r));return pI(n),new ff(e.firestore,null,n)}}function nn(e,t,...r){if(e=ll(e),arguments.length===1&&(t=d$.newId()),CB("doc","path",t),e instanceof n5){const n=_n.fromString(t,...r);return dI(n),new Gi(e,null,new Ut(n))}{if(!(e instanceof Gi||e instanceof ff))throw new Ot(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_n.fromString(t,...r));return dI(n),new Gi(e.firestore,e instanceof ff?e.converter:null,new Ut(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="AsyncQueue";class yI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new sB(this,"async_queue_retry"),this.ju=()=>{const n=sS();n&&jt(vI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=sS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=sS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Dl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Up(t))throw t;jt(vI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Dc("INTERNAL UNHANDLED ERROR: ",xI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=Ik.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&Yt(47125,{ec:xI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function xI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Kc extends n5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new yI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yI(t),this._firestoreClient=void 0,await t}}}function nae(e,t){const r=typeof e=="object"?e:Wee(),n=typeof e=="string"?e:W2,a=Bee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=NZ("firestore");i&&rae(a,...i)}return a}function jv(e){if(e._terminated)throw new Ot(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||aae(e),e._firestoreClient}function aae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Ate(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,kB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Gne(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class sae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ip(ai.fromBase64String(t))}catch(r){throw new Ot(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ip(ai.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Ot(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ja(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Ot(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Ot(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return hr(this._lat,t._lat)||hr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=/^__.*__$/;class lae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new If(t,this.data,this.fieldMask,r,this.fieldTransforms):new Nv(t,this.data,r,this.fieldTransforms)}}class NB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new If(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function OB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt(40011,{oc:e})}}class Bk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Bk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return eb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(OB(this.oc)&&oae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class cae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Zw(t)}dc(t,r,n,a=!1){return new Bk({oc:t,methodName:r,Ec:n,path:Ja.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mv(e){const t=e._freezeSettings(),r=Zw(e._databaseId);return new cae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Vk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);zk("Data must be an object, but it was:",s,n);const o=jB(n,s);let l,c;if(i.merge)l=new js(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=K4(t,f,r);if(!s.contains(h))throw new Ot(rt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);MB(u,h)||u.push(h)}l=new js(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new lae(new cs(o),l,c)}class Rv extends a5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rv}}class Uk extends a5{_toFieldTransform(t){return new Yte(t.path,new _1)}isEqual(t){return t instanceof Uk}}function IB(e,t,r,n){const a=e.dc(1,t,r);zk("Data must be an object, but it was:",a,n);const i=[],s=cs.empty();Of(n,(l,c)=>{const u=qk(t,l,r);c=ll(c);const f=a.hc(u);if(c instanceof Rv)i.push(u);else{const h=Fv(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new js(i);return new NB(s,o,a.fieldTransforms)}function DB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[K4(t,n,r)],l=[a];if(i.length%2!=0)throw new Ot(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(K4(t,i[h])),l.push(i[h+1]);const c=[],u=cs.empty();for(let h=o.length-1;h>=0;--h)if(!MB(c,o[h])){const d=o[h];let g=l[h];g=ll(g);const m=s.hc(d);if(g instanceof Rv)c.push(d);else{const y=Fv(g,m);y!=null&&(c.push(d),u.set(d,y))}}const f=new js(c);return new NB(u,f,s.fieldTransforms)}function uae(e,t,r,n=!1){return Fv(r,e.dc(n?4:3,t))}function Fv(e,t){if(LB(e=ll(e)))return zk("Unsupported field value:",t,e),jB(e,t);if(e instanceof a5)return function(n,a){if(!OB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Fv(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=ll(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Hte(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ht.fromDate(n);return{timestampValue:X2(a.serializer,i)}}if(n instanceof Ht){const i=new Ht(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:X2(a.serializer,i)}}if(n instanceof Fk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ip)return{bytesValue:K$(a.serializer,n._byteString)};if(n instanceof Gi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof $k)return function(s,o){return{mapValue:{fields:{[w$]:{stringValue:S$},[H2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return bk(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${r5(n)}`)}(e,t)}function jB(e,t){const r={};return m$(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Of(e,(n,a)=>{const i=Fv(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function LB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ht||e instanceof Fk||e instanceof ip||e instanceof Gi||e instanceof a5||e instanceof $k)}function zk(e,t,r){if(!LB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=r5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function K4(e,t,r){if((t=ll(t))instanceof Lv)return t._internalPath;if(typeof t=="string")return qk(e,t);throw eb("Field path arguments must be of type string or ",e,!1,void 0,r)}const fae=new RegExp("[~\\*/\\[\\]]");function qk(e,t,r){if(t.search(fae)>=0)throw eb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Lv(...t.split("."))._internalPath}catch{throw eb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function eb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Ot(rt.INVALID_ARGUMENT,o+e+l)}function MB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(i5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class hae extends RB{data(){return super.data()}}function i5(e,t){return typeof t=="string"?qk(e,t):t instanceof Lv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dae(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ot(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wk{}class Hk extends Wk{}function vr(e,t,...r){let n=[];t instanceof Wk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof Gk).length,o=i.filter(l=>l instanceof s5).length;if(s>1||s>0&&o>0)throw new Ot(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class s5 extends Hk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new s5(t,r,n)}_apply(t){const r=this._parse(t);return FB(t._query,r),new Df(t.firestore,t.converter,F4(t._query,r))}_parse(t){const r=Mv(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ot(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){wI(f,u);const g=[];for(const m of f)g.push(bI(l,i,m));h={arrayValue:{values:g}}}else h=bI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||wI(f,u),h=uae(o,s,f,u==="in"||u==="not-in");return pa.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function qr(e,t,r){const n=t,a=i5("where",e);return s5._create(a,n,r)}class Gk extends Wk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Gk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:cl.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)FB(s,l),s=F4(s,l)}(t._query,r),new Df(t.firestore,t.converter,F4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kk extends Hk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Kk(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Ot(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ot(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new w1(i,s)}(t._query,this._field,this._direction);return new Df(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new zp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Ma(e,t="asc"){const r=t,n=i5("orderBy",e);return Kk._create(n,r)}class Yk extends Hk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new Yk(t,r,n)}_apply(t){return new Df(t.firestore,t.converter,K2(t._query,this._limit,this._limitType))}}function Jx(e){return tae("limit",e),Yk._create("limit",e,"F")}function bI(e,t,r){if(typeof(r=ll(r))=="string"){if(r==="")throw new Ot(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O$(t)&&r.indexOf("/")!==-1)throw new Ot(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(_n.fromString(r));if(!Ut.isDocumentKey(n))throw new Ot(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return LO(e,new Ut(n))}if(r instanceof Gi)return LO(e,r._key);throw new Ot(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r5(r)}.`)}function wI(e,t){if(!Array.isArray(e)||e.length===0)throw new Ot(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Ot(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ot(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class pae{convertValue(t,r="none"){switch(bf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(xf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Yt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Of(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[H2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>Zn(s.doubleValue));return new $k(i)}convertGeoPoint(t){return new Fk(Zn(t.latitude),Zn(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Hw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(y1(t));default:return null}}convertTimestamp(t){const r=yf(t);return new Ht(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=_n.fromString(t);Br(tB(n),9688,{name:t});const a=new x1(n.get(1),n.get(3)),i=new Ut(n.popFirst(5));return a.isEqual(r)||Dc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function mae(){return new iae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $B extends RB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Zx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(i5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Zx extends $B{data(t={}){return super.data(t)}}class gae{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ag(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Zx(this._firestore,this._userDataWriter,n.key,n,new ag(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ot(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new Zx(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ag(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Zx(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ag(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:vae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function vae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(e){e=Fs(e,Gi);const t=Fs(e.firestore,Kc);return Qne(jv(t),e._key).then(r=>yae(t,e,r))}class Qk extends pae{constructor(t){super(),this.firestore=t}convertBytes(t){return new ip(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Gi(this.firestore,null,r)}}function dr(e){e=Fs(e,Df);const t=Fs(e.firestore,Kc),r=jv(t),n=new Qk(t);return dae(e._query),Jne(r,e._query).then(a=>new gae(t,n,e,a))}function ex(e,t,r){e=Fs(e,Gi);const n=Fs(e.firestore,Kc),a=Xk(e.converter,t,r);return $v(n,[Vk(Mv(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Hi.none())])}function Si(e,t,r,...n){e=Fs(e,Gi);const a=Fs(e.firestore,Kc),i=Mv(a);let s;return s=typeof(t=ll(t))=="string"||t instanceof Lv?DB(i,"updateDoc",e._key,t,r,n):IB(i,"updateDoc",e._key,t),$v(a,[s.toMutation(e._key,Hi.exists(!0))])}function sp(e){return $v(Fs(e.firestore,Kc),[new Qw(e._key,Hi.none())])}function kr(e,t){const r=Fs(e.firestore,Kc),n=nn(e),a=Xk(e.converter,t);return $v(r,[Vk(Mv(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Hi.exists(!1))]).then(()=>n)}function $v(e,t){return function(n,a){const i=new Dl;return n.asyncQueue.enqueueAndForget(async()=>Fne(await Yne(n),a,i)),i.promise}(jv(e),t)}function yae(e,t,r){const n=r.docs.get(t._key),a=new Qk(e);return new $B(e,a,t._key,n,new ag(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e){return xae(e,{count:mae()})}function xae(e,t){const r=Fs(e.firestore,Kc),n=jv(r),a=_te(t,(i,s)=>new nre(s,i.aggregateType,i._internalFieldPath));return Zne(n,e._query,a).then(i=>function(o,l,c){const u=new Qk(o);return new sae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Mv(t)}set(t,r,n){this._verifyNotCommitted();const a=lS(t,this._firestore),i=Xk(a.converter,r,n),s=Vk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Hi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=lS(t,this._firestore);let s;return s=typeof(r=ll(r))=="string"||r instanceof Lv?DB(this._dataReader,"WriteBatch.update",i._key,r,n,a):IB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Hi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=lS(t,this._firestore);return this._mutations=this._mutations.concat(new Qw(r._key,Hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lS(e,t){if((e=ll(e)).firestore!==t)throw new Ot(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return new Rv("deleteField")}function ig(){return new Uk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wae(e){return jv(e=Fs(e,Kc)),new bae(e,t=>$v(e,t))}(function(t,r=!0){(function(a){Bp=a})(qee),z2(new m1("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Kc(new ste(n.getProvider("auth-internal")),new cte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ot(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new x1(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),k0(SO,AO,t),k0(SO,AO,"esm2017")})();const _ae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Sae=t$(_ae),ct=nae(Sae),BB=Q.createContext(void 0),ga=()=>{const e=Q.useContext(BB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Aae=({children:e})=>{const[t,r]=Q.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=Q.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await dr(Pt(ct,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const d={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(d),localStorage.setItem("user",JSON.stringify(d));try{await kr(Pt(ct,"activityLogs"),{user:d.name,role:d.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),kr(Pt(ct,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return p.jsx(BB.Provider,{value:o,children:e})},VB=Q.createContext(void 0),Tae=({children:e})=>{const[t,r]=Q.useState(!0),n=()=>{r(!t)};return p.jsx(VB.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},Wr=()=>{const e=Q.useContext(VB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Zk=Q.createContext({});function Bv(e){const t=Q.useRef(null);return t.current===null&&(t.current=e()),t.current}const eC=typeof window<"u",tC=eC?Q.useLayoutEffect:Q.useEffect,o5=Q.createContext(null);function rC(e,t){e.indexOf(t)===-1&&e.push(t)}function l5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Lc=(e,t,r)=>r>t?t:r<e?e:r;let tb=()=>{};const Mc={},UB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function zB(e){return typeof e=="object"&&e!==null}const qB=e=>/^0[^.\s]+$/u.test(e);function nC(e){let t;return()=>(t===void 0&&(t=e()),t)}const po=e=>e,Eae=(e,t)=>r=>t(e(r)),Vv=(...e)=>e.reduce(Eae),op=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class aC{constructor(){this.subscriptions=[]}add(t){return rC(this.subscriptions,t),()=>l5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rl=e=>e*1e3,Ml=e=>e/1e3;function WB(e,t){return t?e*(1e3/t):0}const kae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},HB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Cae=1e-7,Pae=12;function Nae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=HB(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Cae&&++o<Pae);return s}function Uv(e,t,r,n){if(e===t&&r===n)return po;const a=i=>Nae(i,0,1,e,r);return i=>i===0||i===1?i:HB(a(i),t,n)}const GB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KB=e=>t=>1-e(1-t),YB=Uv(.33,1.53,.69,.99),iC=KB(YB),XB=GB(iC),QB=e=>(e*=2)<1?.5*iC(e):.5*(2-Math.pow(2,-10*(e-1))),sC=e=>1-Math.sin(Math.acos(e)),JB=KB(sC),ZB=GB(sC),Oae=Uv(.42,0,1,1),Iae=Uv(0,0,.58,1),eV=Uv(.42,0,.58,1),tV=e=>Array.isArray(e)&&typeof e[0]!="number";function rV(e,t){return tV(e)?e[kae(0,e.length,t)]:e}const nV=e=>Array.isArray(e)&&typeof e[0]=="number",SI={linear:po,easeIn:Oae,easeInOut:eV,easeOut:Iae,circIn:sC,circInOut:ZB,circOut:JB,backIn:iC,backInOut:XB,backOut:YB,anticipate:QB},Dae=e=>typeof e=="string",AI=e=>{if(nV(e)){tb(e.length===4);const[t,r,n,a]=e;return Uv(t,r,n,a)}else if(Dae(e))return tb(SI[e]!==void 0),SI[e];return e},tx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],TI={value:null,addProjectionMetrics:null};function jae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,d=!1)=>{const m=d&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&TI.value&&TI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Lae=40;function aV(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=tx.reduce((w,D)=>(w[D]=jae(i,t?D:void 0),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:g}=s,m=()=>{const w=Mc.useManualTiming?a.timestamp:performance.now();r=!1,Mc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,Lae),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),d.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:tx.reduce((w,D)=>{const P=s[D];return w[D]=(O,E=!1,A=!1)=>(r||y(),P.schedule(O,E,A)),w},{}),cancel:w=>{for(let D=0;D<tx.length;D++)s[tx[D]].cancel(w)},state:a,steps:s}}const{schedule:Nn,cancel:Rc,state:Ka,steps:cS}=aV(typeof requestAnimationFrame<"u"?requestAnimationFrame:po,!0);let e2;function Mae(){e2=void 0}const fs={now:()=>(e2===void 0&&fs.set(Ka.isProcessing||Mc.useManualTiming?Ka.timestamp:performance.now()),e2),set:e=>{e2=e,queueMicrotask(Mae)}},iV=e=>t=>typeof t=="string"&&t.startsWith(e),oC=iV("--"),Rae=iV("var(--"),lC=e=>Rae(e)?Fae.test(e.split("/*")[0].trim()):!1,Fae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},T1={...Wp,transform:e=>Lc(0,1,e)},rx={...Wp,default:1},Eg=e=>Math.round(e*1e5)/1e5,cC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $ae(e){return e==null}const Bae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uC=(e,t)=>r=>!!(typeof r=="string"&&Bae.test(r)&&r.startsWith(e)||t&&!$ae(r)&&Object.prototype.hasOwnProperty.call(r,t)),sV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(cC);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Vae=e=>Lc(0,255,e),uS={...Wp,transform:e=>Math.round(Vae(e))},_h={test:uC("rgb","red"),parse:sV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+uS.transform(e)+", "+uS.transform(t)+", "+uS.transform(r)+", "+Eg(T1.transform(n))+")"};function Uae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Y4={test:uC("#"),parse:Uae,transform:_h.transform},zv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Iu=zv("deg"),Rl=zv("%"),Qt=zv("px"),zae=zv("vh"),qae=zv("vw"),EI={...Rl,parse:e=>Rl.parse(e)/100,transform:e=>Rl.transform(e*100)},f0={test:uC("hsl","hue"),parse:sV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Rl.transform(Eg(t))+", "+Rl.transform(Eg(r))+", "+Eg(T1.transform(n))+")"},mi={test:e=>_h.test(e)||Y4.test(e)||f0.test(e),parse:e=>_h.test(e)?_h.parse(e):f0.test(e)?f0.parse(e):Y4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_h.transform(e):f0.transform(e)},Wae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cC))==null?void 0:t.length)||0)+(((r=e.match(Wae))==null?void 0:r.length)||0)>0}const oV="number",lV="color",Gae="var",Kae="var(",kI="${}",Yae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function E1(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Yae,l=>(mi.test(l)?(n.color.push(i),a.push(lV),r.push(mi.parse(l))):l.startsWith(Kae)?(n.var.push(i),a.push(Gae),r.push(l)):(n.number.push(i),a.push(oV),r.push(parseFloat(l))),++i,kI)).split(kI);return{values:r,split:o,indexes:n,types:a}}function cV(e){return E1(e).values}function uV(e){const{split:t,types:r}=E1(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===oV?i+=Eg(a[s]):o===lV?i+=mi.transform(a[s]):i+=a[s]}return i}}const Xae=e=>typeof e=="number"?0:e;function Qae(e){const t=cV(e);return uV(e)(t.map(Xae))}const Sf={test:Hae,parse:cV,createTransformer:uV,getAnimatableNone:Qae};function fS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Jae({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=fS(l,o,e+1/3),i=fS(l,o,e),s=fS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function rb(e,t){return r=>r>0?t:e}const Cn=(e,t,r)=>e+(t-e)*r,hS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Zae=[Y4,_h,f0],eie=e=>Zae.find(t=>t.test(e));function CI(e){const t=eie(e);if(!t)return!1;let r=t.parse(e);return t===f0&&(r=Jae(r)),r}const PI=(e,t)=>{const r=CI(e),n=CI(t);if(!r||!n)return rb(e,t);const a={...r};return i=>(a.red=hS(r.red,n.red,i),a.green=hS(r.green,n.green,i),a.blue=hS(r.blue,n.blue,i),a.alpha=Cn(r.alpha,n.alpha,i),_h.transform(a))},X4=new Set(["none","hidden"]);function tie(e,t){return X4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function rie(e,t){return r=>Cn(e,t,r)}function fC(e){return typeof e=="number"?rie:typeof e=="string"?lC(e)?rb:mi.test(e)?PI:iie:Array.isArray(e)?fV:typeof e=="object"?mi.test(e)?PI:nie:rb}function fV(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>fC(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function nie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=fC(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function aie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const iie=(e,t)=>{const r=Sf.createTransformer(t),n=E1(e),a=E1(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?X4.has(e)&&!a.values.length||X4.has(t)&&!n.values.length?tie(e,t):Vv(fV(aie(n,a),a.values),r):rb(e,t)};function hV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Cn(e,t,r):fC(e)(e,t)}const sie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Nn.update(t,r),stop:()=>Rc(t),now:()=>Ka.isProcessing?Ka.timestamp:fs.now()}},dV=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},nb=2e4;function hC(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<nb;)t+=r,n=e.next(t);return t>=nb?1/0:t}function pV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(hC(n),nb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ml(a)}}const oie=5;function mV(e,t,r){const n=Math.max(t-oie,0);return WB(r-e(n),t-n)}const Wn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dS=.001;function lie({duration:e=Wn.duration,bounce:t=Wn.bounce,velocity:r=Wn.velocity,mass:n=Wn.mass}){let a,i,s=1-t;s=Lc(Wn.minDamping,Wn.maxDamping,s),e=Lc(Wn.minDuration,Wn.maxDuration,Ml(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,d=Q4(c,s),g=Math.exp(-f);return dS-h/d*g},i=c=>{const f=c*s*e,h=f*r+r,d=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=Q4(Math.pow(c,2),s);return(-a(c)+dS>0?-1:1)*((h-d)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-dS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=uie(a,i,o);if(e=rl(e),isNaN(l))return{stiffness:Wn.stiffness,damping:Wn.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const cie=12;function uie(e,t,r){let n=r;for(let a=1;a<cie;a++)n=n-e(n)/t(n);return n}function Q4(e,t){return e*Math.sqrt(1-t*t)}const fie=["duration","bounce"],hie=["stiffness","damping","mass"];function NI(e,t){return t.some(r=>e[r]!==void 0)}function die(e){let t={velocity:Wn.velocity,stiffness:Wn.stiffness,damping:Wn.damping,mass:Wn.mass,isResolvedFromDuration:!1,...e};if(!NI(e,hie)&&NI(e,fie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Lc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Wn.mass,stiffness:a,damping:i}}else{const r=lie(e);t={...t,...r,mass:Wn.mass},t.isResolvedFromDuration=!0}return t}function k1(e=Wn.visualDuration,t=Wn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=die({...r,velocity:-Ml(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),y=s-i,v=Ml(Math.sqrt(l/u)),b=Math.abs(y)<5;n||(n=b?Wn.restSpeed.granular:Wn.restSpeed.default),a||(a=b?Wn.restDelta.granular:Wn.restDelta.default);let w;if(m<1){const P=Q4(v,m);w=O=>{const E=Math.exp(-m*v*O);return s-E*((g+m*v*y)/P*Math.sin(P*O)+y*Math.cos(P*O))}}else if(m===1)w=P=>s-Math.exp(-v*P)*(y+(g+v*y)*P);else{const P=v*Math.sqrt(m*m-1);w=O=>{const E=Math.exp(-m*v*O),A=Math.min(P*O,300);return s-E*((g+m*v*y)*Math.sinh(A)+P*y*Math.cosh(A))/P}}const D={calculatedDuration:d&&f||null,next:P=>{const O=w(P);if(d)o.done=P>=f;else{let E=P===0?g:0;m<1&&(E=P===0?rl(g):mV(w,P,O));const A=Math.abs(E)<=n,S=Math.abs(s-O)<=a;o.done=A&&S}return o.value=o.done?s:O,o},toString:()=>{const P=Math.min(hC(D),nb),O=dV(E=>D.next(P*E).value,P,30);return P+"ms "+O},toTransition:()=>{}};return D}k1.applyToOptions=e=>{const t=pV(e,100,k1);return e.ease=t.ease,e.duration=rl(t.duration),e.type="keyframes",e};function J4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},d=A=>o!==void 0&&A<o||l!==void 0&&A>l,g=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let m=r*t;const y=f+m,v=s===void 0?y:s(y);v!==y&&(m=v-f);const b=A=>-m*Math.exp(-A/n),w=A=>v+b(A),D=A=>{const S=b(A),I=w(A);h.done=Math.abs(S)<=c,h.value=h.done?v:I};let P,O;const E=A=>{d(h.value)&&(P=A,O=k1({keyframes:[h.value,g(h.value)],velocity:mV(w,A,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:A=>{let S=!1;return!O&&P===void 0&&(S=!0,D(A),E(A)),P!==void 0&&A>=P?O.next(A-P):(!S&&D(A),h)}}}function pie(e,t,r){const n=[],a=r||Mc.mix||hV,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||po:t;o=Vv(l,o)}n.push(o)}return n}function gV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(tb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=pie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=op(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Lc(e[0],e[i-1],u)):c}function vV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=op(0,t,n);e.push(Cn(r,1,a))}}function yV(e){const t=[0];return vV(t,e.length-1),t}function mie(e,t){return e.map(r=>r*t)}function gie(e,t){return e.map(()=>t||eV).splice(0,e.length-1)}function kg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=tV(n)?n.map(AI):AI(n),i={done:!1,value:t[0]},s=mie(r&&r.length===t.length?r:yV(t),e),o=gV(s,t,{ease:Array.isArray(a)?a:gie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const vie=e=>e!==null;function dC(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(vie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const yie={decay:J4,inertia:J4,tween:kg,keyframes:kg,spring:k1};function xV(e){typeof e.type=="string"&&(e.type=yie[e.type])}class pC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const xie=e=>e/100;class mC extends pC{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==fs.now()&&this.tick(fs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xV(t);const{type:r=kg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||kg;l!==kg&&typeof o[0]!="number"&&(this.mixKeyframes=Vv(xie,hV(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=hC(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:g,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,D=n;if(f){const A=Math.min(this.currentTime,a)/o;let S=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&S--,S=Math.min(S,f+1),!!(S%2)&&(h==="reverse"?(I=1-I,d&&(I-=d/o)):h==="mirror"&&(D=s)),w=Lc(0,1,I)*o}const P=b?{done:!1,value:u[0]}:D.next(w);i&&(P.value=i(P.value));let{done:O}=P;!b&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return E&&g!==J4&&(P.value=dC(u,this.options,y,this.speed)),m&&m(P.value),E&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Ml(this.calculatedDuration)}get time(){return Ml(this.currentTime)}set time(t){var r;t=rl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(fs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ml(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=sie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function bie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sh=e=>e*180/Math.PI,Z4=e=>{const t=Sh(Math.atan2(e[1],e[0]));return eT(t)},wie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Z4,rotateZ:Z4,skewX:e=>Sh(Math.atan(e[1])),skewY:e=>Sh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eT=e=>(e=e%360,e<0&&(e+=360),e),OI=Z4,II=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),DI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_ie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:II,scaleY:DI,scale:e=>(II(e)+DI(e))/2,rotateX:e=>eT(Sh(Math.atan2(e[6],e[5]))),rotateY:e=>eT(Sh(Math.atan2(-e[2],e[0]))),rotateZ:OI,rotate:OI,skewX:e=>Sh(Math.atan(e[4])),skewY:e=>Sh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tT(e){return e.includes("scale")?1:0}function rT(e,t){if(!e||e==="none")return tT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=_ie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=wie,a=o}if(!a)return tT(t);const i=n[t],s=a[1].split(",").map(Aie);return typeof i=="function"?i(s):s[i]}const Sie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return rT(r,t)};function Aie(e){return parseFloat(e.trim())}const Hp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gp=new Set(Hp),jI=e=>e===Wp||e===Qt,Tie=new Set(["x","y","z"]),Eie=Hp.filter(e=>!Tie.has(e));function kie(e){const t=[];return Eie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Oh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rT(t,"x"),y:(e,{transform:t})=>rT(t,"y")};Oh.translateX=Oh.x;Oh.translateY=Oh.y;const Ih=new Set;let nT=!1,aT=!1,iT=!1;function bV(){if(aT){const e=Array.from(Ih).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=kie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}aT=!1,nT=!1,Ih.forEach(e=>e.complete(iT)),Ih.clear()}function wV(){Ih.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aT=!0)})}function Cie(){iT=!0,wV(),bV(),iT=!1}class gC{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ih.add(this),nT||(nT=!0,Nn.read(wV),Nn.resolveKeyframes(bV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}bie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ih.delete(this)}cancel(){this.state==="scheduled"&&(Ih.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pie=e=>e.startsWith("--");function Nie(e,t,r){Pie(t)?e.style.setProperty(t,r):e.style[t]=r}const Oie=nC(()=>window.ScrollTimeline!==void 0),Iie={};function Die(e,t){const r=nC(e);return()=>Iie[t]??r()}const _V=Die(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,LI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sg([0,.65,.55,1]),circOut:sg([.55,0,1,.45]),backIn:sg([.31,.01,.66,-.59]),backOut:sg([.33,1.53,.69,.99])};function SV(e,t){if(e)return typeof e=="function"?_V()?dV(e,t):"ease-out":nV(e)?sg(e):Array.isArray(e)?e.map(r=>SV(r,t)||LI.easeOut):LI[e]}function jie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=SV(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function vC(e){return typeof e=="function"&&"applyToOptions"in e}function Lie({type:e,...t}){return vC(e)&&_V()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Mie extends pC{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,tb(typeof t.type!="string");const c=Lie(t);this.animation=jie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=dC(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Nie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ml(Number(t))}get time(){return Ml(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Oie()?(this.animation.timeline=t,po):r(this)}}const AV={anticipate:QB,backInOut:XB,circInOut:ZB};function Rie(e){return e in AV}function Fie(e){typeof e.ease=="string"&&Rie(e.ease)&&(e.ease=AV[e.ease])}const MI=10;class $ie extends Mie{constructor(t){Fie(t),xV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new mC({...s,autoplay:!1}),l=rl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-MI).value,o.sample(l).value,MI),o.stop()}}const RI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Sf.test(e)||e==="0")&&!e.startsWith("url("));function Bie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Vie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=RI(a,t),o=RI(i,t);return!s||!o?!1:Bie(e)||(r==="spring"||vC(r))&&n}function yC(e){return zB(e)&&"offsetHeight"in e}const Uie=new Set(["opacity","clipPath","filter","transform"]),zie=nC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!yC((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return zie()&&r&&Uie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Wie=40;class Hie extends pC{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=fs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},d=(u==null?void 0:u.KeyframeResolver)||gC;this.keyframeResolver=new d(o,(m,y,v)=>this.onKeyframesResolved(m,y,h,!v),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=fs.now(),Vie(t,i,s,o)||((Mc.instantAnimations||!l)&&(u==null||u(dC(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Wie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},d=!c&&qie(h)?new $ie({...h,element:h.motionValue.owner.current}):new mC(h);d.finished.then(()=>this.notifyFinished()).catch(po),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Cie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Gie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Kie extends Gie{then(t,r){return this.finished.finally(t).then(()=>{})}}const Yie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xie(e){const t=Yie.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function TV(e,t,r=1){const[n,a]=Xie(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return UB(s)?parseFloat(s):s}return lC(a)?TV(a,t,r+1):a}function xC(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const EV=new Set(["width","height","top","left","right","bottom",...Hp]),Qie={test:e=>e==="auto",parse:e=>e},kV=e=>t=>t.test(e),CV=[Wp,Qt,Rl,Iu,qae,zae,Qie],FI=e=>CV.find(kV(e));function Jie(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||qB(e):!0}const Zie=new Set(["brightness","contrast","saturate","opacity"]);function ese(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(cC)||[];if(!n)return e;const a=r.replace(n,"");let i=Zie.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const tse=/\b([a-z-]*)\(.*?\)/gu,sT={...Sf,getAnimatableNone:e=>{const t=e.match(tse);return t?t.map(ese).join(" "):e}},$I={...Wp,transform:Math.round},rse={rotate:Iu,rotateX:Iu,rotateY:Iu,rotateZ:Iu,scale:rx,scaleX:rx,scaleY:rx,scaleZ:rx,skew:Iu,skewX:Iu,skewY:Iu,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:T1,originX:EI,originY:EI,originZ:Qt},bC={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,backgroundPositionX:Qt,backgroundPositionY:Qt,...rse,zIndex:$I,fillOpacity:T1,strokeOpacity:T1,numOctaves:$I},nse={...bC,color:mi,backgroundColor:mi,outlineColor:mi,fill:mi,stroke:mi,borderColor:mi,borderTopColor:mi,borderRightColor:mi,borderBottomColor:mi,borderLeftColor:mi,filter:sT,WebkitFilter:sT},PV=e=>nse[e];function NV(e,t){let r=PV(e);return r!==sT&&(r=Sf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const ase=new Set(["auto","none","0"]);function ise(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!ase.has(i)&&E1(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=NV(r,a)}class sse extends gC{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),lC(c))){const u=TV(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!EV.has(n)||t.length!==2)return;const[a,i]=t,s=FI(a),o=FI(i);if(s!==o)if(jI(s)&&jI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Oh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Jie(t[a]))&&n.push(a);n.length&&ise(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Oh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function OV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const BI=30,ose=e=>!isNaN(parseFloat(e)),Cg={current:void 0};class lse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=fs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=fs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ose(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new aC);const n=this.events[t].add(r);return t==="change"?()=>{n(),Nn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Cg.current&&Cg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>BI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,BI);return WB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gh(e,t){return new lse(e,t)}const IV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:wC,cancel:vBe}=aV(queueMicrotask,!1),Vo={x:!1,y:!1};function DV(){return Vo.x||Vo.y}function cse(e){return e==="x"||e==="y"?Vo[e]?null:(Vo[e]=!0,()=>{Vo[e]=!1}):Vo.x||Vo.y?null:(Vo.x=Vo.y=!0,()=>{Vo.x=Vo.y=!1})}function jV(e,t){const r=OV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function VI(e){return!(e.pointerType==="touch"||DV())}function use(e,t,r={}){const[n,a,i]=jV(e,r),s=o=>{if(!VI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{VI(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const LV=(e,t)=>t?e===t?!0:LV(e,t.parentElement):!1,_C=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hse(e){return fse.has(e.tagName)||e.tabIndex!==-1}const t2=new WeakSet;function UI(e){return t=>{t.key==="Enter"&&e(t)}}function pS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=UI(()=>{if(t2.has(r))return;pS(r,"down");const a=UI(()=>{pS(r,"up")}),i=()=>pS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function zI(e){return _C(e)&&!DV()}function pse(e,t,r={}){const[n,a,i]=jV(e,r),s=o=>{const l=o.currentTarget;if(!zI(o))return;t2.add(l);const c=t(l,o),u=(d,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),t2.has(l)&&t2.delete(l),zI(d)&&typeof c=="function"&&c(d,{success:g})},f=d=>{u(d,l===window||l===document||r.useGlobalTarget||LV(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),yC(o)&&(o.addEventListener("focus",c=>dse(c,a)),!hse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function SC(e){return zB(e)&&"ownerSVGElement"in e}function MV(e){return SC(e)&&e.tagName==="svg"}function mse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=gV(a,i,s);return t?o(n):o}const Ra=e=>!!(e&&e.getVelocity),gse=[...CV,mi,Sf],vse=e=>gse.find(kV(e)),c5=Q.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class yse extends Q.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=yC(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xse({children:e,isPresent:t,anchorX:r}){const n=Q.useId(),a=Q.useRef(null),i=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=Q.useContext(c5);return Q.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[t]),p.jsx(yse,{isPresent:t,childRef:a,sizeRef:i,children:Q.cloneElement(e,{ref:a})})}const bse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=Bv(wse),c=Q.useId();let u=!0,f=Q.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const d of l.values())if(!d)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),Q.useMemo(()=>{l.forEach((h,d)=>l.set(d,!1))},[r]),Q.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=p.jsx(xse,{isPresent:r,anchorX:o,children:e})),p.jsx(o5.Provider,{value:f,children:e})};function wse(){return new Map}function RV(e=!0){const t=Q.useContext(o5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=Q.useId();Q.useEffect(()=>{if(e)return a(i)},[e]);const s=Q.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const nx=e=>e.key||"";function qI(e){const t=[];return Q.Children.forEach(e,r=>{Q.isValidElement(r)&&t.push(r)}),t}const FV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=RV(s),u=Q.useMemo(()=>qI(e),[e]),f=s&&!l?[]:u.map(nx),h=Q.useRef(!0),d=Q.useRef(u),g=Bv(()=>new Map),[m,y]=Q.useState(u),[v,b]=Q.useState(u);tC(()=>{h.current=!1,d.current=u;for(let P=0;P<v.length;P++){const O=nx(v[P]);f.includes(O)?g.delete(O):g.get(O)!==!0&&g.set(O,!1)}},[v,f.length,f.join("-")]);const w=[];if(u!==m){let P=[...u];for(let O=0;O<v.length;O++){const E=v[O],A=nx(E);f.includes(A)||(P.splice(O,0,E),w.push(E))}return i==="wait"&&w.length&&(P=w),b(qI(P)),y(u),null}const{forceRender:D}=Q.useContext(Zk);return p.jsx(p.Fragment,{children:v.map(P=>{const O=nx(P),E=s&&!l?!1:u===v||f.includes(O),A=()=>{if(g.has(O))g.set(O,!0);else return;let S=!0;g.forEach(I=>{I||(S=!1)}),S&&(D==null||D(),b(d.current),s&&(c==null||c()),n&&n())};return p.jsx(bse,{isPresent:E,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:E?void 0:A,anchorX:o,children:P},O)})})},$V=Q.createContext({strict:!1}),WI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lp={};for(const e in WI)lp[e]={isEnabled:t=>WI[e].some(r=>!!t[r])};function _se(e){for(const t in e)lp[t]={...lp[t],...e[t]}}const Sse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ab(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sse.has(e)}let BV=e=>!ab(e);function Ase(e){e&&(BV=t=>t.startsWith("on")?!ab(t):e(t))}try{Ase(require("@emotion/is-prop-valid").default)}catch{}function Tse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(BV(a)||r===!0&&ab(a)||!t&&!ab(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Ese(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const u5=Q.createContext({});function f5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function C1(e){return typeof e=="string"||Array.isArray(e)}const AC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],TC=["initial",...AC];function h5(e){return f5(e.animate)||TC.some(t=>C1(e[t]))}function VV(e){return!!(h5(e)||e.variants)}function kse(e,t){if(h5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||C1(r)?r:void 0,animate:C1(n)?n:void 0}}return e.inherit!==!1?t:{}}function Cse(e){const{initial:t,animate:r}=kse(e,Q.useContext(u5));return Q.useMemo(()=>({initial:t,animate:r}),[HI(t),HI(r)])}function HI(e){return Array.isArray(e)?e.join(" "):e}const Pse=Symbol.for("motionComponentSymbol");function h0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Nse(e,t,r){return Q.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):h0(r)&&(r.current=n))},[t])}const EC=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ose="framerAppearId",UV="data-"+EC(Ose),zV=Q.createContext({});function Ise(e,t,r,n,a){var m,y;const{visualElement:i}=Q.useContext(u5),s=Q.useContext($V),o=Q.useContext(o5),l=Q.useContext(c5).reducedMotion,c=Q.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=Q.useContext(zV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Dse(c.current,r,a,f);const h=Q.useRef(!1);Q.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const d=r[UV],g=Q.useRef(!!d&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,d))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,d)));return tC(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),wC.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),Q.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,d)}),g.current=!1))}),u}function Dse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:qV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&h0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function qV(e){if(e)return e.options.allowProjection!==!1?e.projection:qV(e.parent)}function jse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&_se(e);function i(o,l){let c;const u={...Q.useContext(c5),...o,layoutId:Lse(o)},{isStatic:f}=u,h=Cse(o),d=n(o,f);if(!f&&eC){Mse();const g=Rse(u);c=g.MeasureLayout,h.visualElement=Ise(a,d,u,t,g.ProjectionNode)}return p.jsxs(u5.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Nse(d,h.visualElement,l),d,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=Q.forwardRef(i);return s[Pse]=a,s}function Lse({layoutId:e}){const t=Q.useContext(Zk).id;return t&&e!==void 0?t+"-"+e:e}function Mse(e,t){Q.useContext($V).strict}function Rse(e){const{drag:t,layout:r}=lp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const P1={};function Fse(e){for(const t in e)P1[t]=e[t],oC(t)&&(P1[t].isCSSVariable=!0)}function WV(e,{layout:t,layoutId:r}){return Gp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!P1[e]||e==="opacity")}const $se={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bse=Hp.length;function Vse(e,t,r){let n="",a=!0;for(let i=0;i<Bse;i++){const s=Hp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=IV(o,bC[s]);if(!l){a=!1;const u=$se[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function kC(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Gp.has(l)){s=!0;continue}else if(oC(l)){a[l]=c;continue}else{const u=IV(c,bC[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Vse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const CC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HV(e,t,r){for(const n in t)!Ra(t[n])&&!WV(n,r)&&(e[n]=t[n])}function Use({transformTemplate:e},t){return Q.useMemo(()=>{const r=CC();return kC(r,t,e),Object.assign({},r.vars,r.style)},[t])}function zse(e,t){const r=e.style||{},n={};return HV(n,r,e),Object.assign(n,Use(e,t)),n}function qse(e,t){const r={},n=zse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Wse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hse={offset:"strokeDashoffset",array:"strokeDasharray"};function Gse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Wse:Hse;e[i.offset]=Qt.transform(-n);const s=Qt.transform(t),o=Qt.transform(r);e[i.array]=`${s} ${o}`}function GV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(kC(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Gse(f,a,i,s,!1)}const KV=()=>({...CC(),attrs:{}}),YV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Kse(e,t,r,n){const a=Q.useMemo(()=>{const i=KV();return GV(i,t,YV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};HV(i,e.style,e),a.style={...i,...a.style}}return a}const Yse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PC(e){return typeof e!="string"||e.includes("-")?!1:!!(Yse.indexOf(e)>-1||/[A-Z]/u.test(e))}function Xse(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(PC(r)?Kse:qse)(n,i,s,r),c=Tse(n,typeof r=="string",e),u=r!==Q.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=Q.useMemo(()=>Ra(f)?f.get():f,[f]);return Q.createElement(r,{...u,children:h})}}function GI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function NC(e,t,r,n){if(typeof t=="function"){const[a,i]=GI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=GI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function r2(e){return Ra(e)?e.get():e}function Qse({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Jse(r,n,a,e),renderState:t()}}const XV=e=>(t,r)=>{const n=Q.useContext(u5),a=Q.useContext(o5),i=()=>Qse(e,t,n,a);return r?i():Bv(i)};function Jse(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=r2(i[h]);let{initial:s,animate:o}=e;const l=h5(e),c=VV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!f5(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const g=NC(e,h[d]);if(g){const{transitionEnd:m,transition:y,...v}=g;for(const b in v){let w=v[b];if(Array.isArray(w)){const D=u?w.length-1:0;w=w[D]}w!==null&&(a[b]=w)}for(const b in m)a[b]=m[b]}}}return a}function OC(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Ra(n[s])||t.style&&Ra(t.style[s])||WV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const Zse={useVisualState:XV({scrapeMotionValuesFromProps:OC,createRenderState:CC})};function QV(e,t,r){const n=OC(e,t,r);for(const a in e)if(Ra(e[a])||Ra(t[a])){const i=Hp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const eoe={useVisualState:XV({scrapeMotionValuesFromProps:QV,createRenderState:KV})};function toe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...PC(n)?eoe:Zse,preloadedFeatures:e,useRender:Xse(a),createVisualElement:t,Component:n};return jse(s)}}function N1(e,t,r){const n=e.getProps();return NC(n,t,r!==void 0?r:n.custom,e)}const oT=e=>Array.isArray(e);function roe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Gh(r))}function noe(e){return oT(e)?e[e.length-1]||0:e}function aoe(e,t){const r=N1(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=noe(i[s]);roe(e,s,o)}}function ioe(e){return!!(Ra(e)&&e.add)}function lT(e,t){const r=e.getValue("willChange");if(ioe(r))return r.add(t);if(!r&&Mc.WillChange){const n=new Mc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function JV(e){return e.props[UV]}const soe=e=>e!==null;function ooe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(soe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const loe={type:"spring",stiffness:500,damping:25,restSpeed:10},coe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uoe={type:"keyframes",duration:.8},foe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hoe=(e,{keyframes:t})=>t.length>2?uoe:Gp.has(e)?e.startsWith("scale")?coe(t[1]):loe:foe;function doe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const IC=(e,t,r,n={},a,i)=>s=>{const o=xC(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-rl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};doe(o)||Object.assign(u,hoe(e,u)),u.duration&&(u.duration=rl(u.duration)),u.repeatDelay&&(u.repeatDelay=rl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Mc.instantAnimations||Mc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=ooe(u.keyframes,o);if(h!==void 0){Nn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new mC(u):new Hie(u)};function poe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function DC(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&poe(c,u))continue;const d={delay:r,...xC(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=JV(e);if(v){const b=window.MotionHandoffAnimation(v,u,Nn);b!==null&&(d.startTime=b,m=!0)}}lT(e,u),f.start(IC(u,f,h,e.shouldReduceMotion&&EV.has(u)?{type:!1}:d,e,m));const y=f.animation;y&&l.push(y)}return s&&Promise.all(l).then(()=>{Nn.update(()=>{s&&aoe(e,s)})}),l}function cT(e,t,r={}){var l;const n=N1(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(DC(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return moe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function moe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(goe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(cT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function goe(e,t){return e.sortNodePosition(t)}function voe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>cT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=cT(e,t,r);else{const a=typeof t=="function"?N1(e,t,r.custom):t;n=Promise.all(DC(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function ZV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const yoe=TC.length;function eU(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?eU(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<yoe;r++){const n=TC[r],a=e.props[n];(C1(a)||a===!1)&&(t[n]=a)}return t}const xoe=[...AC].reverse(),boe=AC.length;function woe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>voe(e,r,n)))}function _oe(e){let t=woe(e),r=KI(),n=!0;const a=l=>(c,u)=>{var h;const f=N1(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=eU(e.parent)||{},f=[],h=new Set;let d={},g=1/0;for(let y=0;y<boe;y++){const v=xoe[y],b=r[v],w=c[v]!==void 0?c[v]:u[v],D=C1(w),P=v===l?b.isActive:null;P===!1&&(g=y);let O=w===u[v]&&w!==c[v]&&D;if(O&&n&&e.manuallyAnimateOnMount&&(O=!1),b.protectedKeys={...d},!b.isActive&&P===null||!w&&!b.prevProp||f5(w)||typeof w=="boolean")continue;const E=Soe(b.prevProp,w);let A=E||v===l&&b.isActive&&!O&&D||y>g&&D,S=!1;const I=Array.isArray(w)?w:[w];let T=I.reduce(a(v),{});P===!1&&(T={});const{prevResolvedValues:C={}}=b,L={...C,...T},H=te=>{A=!0,h.has(te)&&(S=!0,h.delete(te)),b.needsAnimating[te]=!0;const q=e.getValue(te);q&&(q.liveStyle=!1)};for(const te in L){const q=T[te],B=C[te];if(d.hasOwnProperty(te))continue;let re=!1;oT(q)&&oT(B)?re=!ZV(q,B):re=q!==B,re?q!=null?H(te):h.add(te):q!==void 0&&h.has(te)?H(te):b.protectedKeys[te]=!0}b.prevProp=w,b.prevResolvedValues=T,b.isActive&&(d={...d,...T}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(O&&E)||S)&&f.push(...I.map(te=>({animation:te,options:{type:v}})))}if(h.size){const y={};if(typeof c.initial!="boolean"){const v=N1(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const b=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),y[v]=b??null}),f.push({animation:y})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=KI(),n=!0}}}function Soe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZV(t,e):!1}function ih(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KI(){return{animate:ih(!0),whileInView:ih(),whileHover:ih(),whileTap:ih(),whileDrag:ih(),whileFocus:ih(),exit:ih()}}class jf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Aoe extends jf{constructor(t){super(t),t.animationState||(t.animationState=_oe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();f5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Toe=0;class Eoe extends jf{constructor(){super(...arguments),this.id=Toe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const koe={animation:{Feature:Aoe},exit:{Feature:Eoe}};function O1(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function qv(e){return{point:{x:e.pageX,y:e.pageY}}}const Coe=e=>t=>_C(t)&&e(t,qv(t));function Pg(e,t,r,n){return O1(e,t,Coe(r),n)}function tU({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Poe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Noe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const rU=1e-4,Ooe=1-rU,Ioe=1+rU,nU=.01,Doe=0-nU,joe=0+nU;function Vi(e){return e.max-e.min}function Loe(e,t,r){return Math.abs(e-t)<=r}function YI(e,t,r,n=.5){e.origin=n,e.originPoint=Cn(t.min,t.max,e.origin),e.scale=Vi(r)/Vi(t),e.translate=Cn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Ooe&&e.scale<=Ioe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Doe&&e.translate<=joe||isNaN(e.translate))&&(e.translate=0)}function Ng(e,t,r,n){YI(e.x,t.x,r.x,n?n.originX:void 0),YI(e.y,t.y,r.y,n?n.originY:void 0)}function XI(e,t,r){e.min=r.min+t.min,e.max=e.min+Vi(t)}function Moe(e,t,r){XI(e.x,t.x,r.x),XI(e.y,t.y,r.y)}function QI(e,t,r){e.min=t.min-r.min,e.max=e.min+Vi(t)}function Og(e,t,r){QI(e.x,t.x,r.x),QI(e.y,t.y,r.y)}const JI=()=>({translate:0,scale:1,origin:0,originPoint:0}),d0=()=>({x:JI(),y:JI()}),ZI=()=>({min:0,max:0}),Un=()=>({x:ZI(),y:ZI()});function no(e){return[e("x"),e("y")]}function mS(e){return e===void 0||e===1}function uT({scale:e,scaleX:t,scaleY:r}){return!mS(e)||!mS(t)||!mS(r)}function uh(e){return uT(e)||aU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function aU(e){return e8(e.x)||e8(e.y)}function e8(e){return e&&e!=="0%"}function ib(e,t,r){const n=e-r,a=t*n;return r+a}function t8(e,t,r,n,a){return a!==void 0&&(e=ib(e,a,n)),ib(e,r,n)+t}function fT(e,t=0,r=1,n,a){e.min=t8(e.min,t,r,n,a),e.max=t8(e.max,t,r,n,a)}function iU(e,{x:t,y:r}){fT(e.x,t.translate,t.scale,t.originPoint),fT(e.y,r.translate,r.scale,r.originPoint)}const r8=.999999999999,n8=1.0000000000001;function Roe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&m0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,iU(e,s)),n&&uh(i.latestValues)&&m0(e,i.latestValues))}t.x<n8&&t.x>r8&&(t.x=1),t.y<n8&&t.y>r8&&(t.y=1)}function p0(e,t){e.min=e.min+t,e.max=e.max+t}function a8(e,t,r,n,a=.5){const i=Cn(e.min,e.max,a);fT(e,t,r,i,n)}function m0(e,t){a8(e.x,t.x,t.scaleX,t.scale,t.originX),a8(e.y,t.y,t.scaleY,t.scale,t.originY)}function sU(e,t){return tU(Noe(e.getBoundingClientRect(),t))}function Foe(e,t,r){const n=sU(e,r),{scroll:a}=t;return a&&(p0(n.x,a.offset.x),p0(n.y,a.offset.y)),n}const oU=({current:e})=>e?e.ownerDocument.defaultView:null,i8=(e,t)=>Math.abs(e-t);function $oe(e,t){const r=i8(e.x,t.x),n=i8(e.y,t.y);return Math.sqrt(r**2+n**2)}class lU{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=vS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=$oe(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:g}=f,{timestamp:m}=Ka;this.history.push({...g,timestamp:m});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=gS(h,this.transformPagePoint),Nn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=vS(f.type==="pointercancel"?this.lastMoveEventInfo:gS(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,y),g&&g(f,y)},!_C(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=qv(t),o=gS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ka;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,vS(o,this.history)),this.removeListeners=Vv(Pg(this.contextWindow,"pointermove",this.handlePointerMove),Pg(this.contextWindow,"pointerup",this.handlePointerUp),Pg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rc(this.updatePoint)}}function gS(e,t){return t?{point:t(e.point)}:e}function s8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vS({point:e},t){return{point:e,delta:s8(e,cU(t)),offset:s8(e,Boe(t)),velocity:Voe(t,.1)}}function Boe(e){return e[0]}function cU(e){return e[e.length-1]}function Voe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=cU(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>rl(t)));)r--;if(!n)return{x:0,y:0};const i=Ml(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Uoe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Cn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Cn(r,e,n.max):Math.min(e,r)),e}function o8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function zoe(e,{top:t,left:r,bottom:n,right:a}){return{x:o8(e.x,r,a),y:o8(e.y,t,n)}}function l8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function qoe(e,t){return{x:l8(e.x,t.x),y:l8(e.y,t.y)}}function Woe(e,t){let r=.5;const n=Vi(e),a=Vi(t);return a>n?r=op(t.min,t.max-n,e.min):n>a&&(r=op(e.min,e.max-a,t.min)),Lc(0,1,r)}function Hoe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const hT=.35;function Goe(e=hT){return e===!1?e=0:e===!0&&(e=hT),{x:c8(e,"left","right"),y:c8(e,"top","bottom")}}function c8(e,t,r){return{min:u8(e,t),max:u8(e,r)}}function u8(e,t){return typeof e=="number"?e:e[t]||0}const Koe=new WeakMap;class Yoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Un(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qv(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:g}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),no(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Rl.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(v=Vi(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),g&&Nn.postRender(()=>g(u,f)),lT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(d&&this.currentDirection===null){this.currentDirection=Xoe(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>no(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new lU(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:oU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Nn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ax(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Uoe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&h0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=zoe(n.layoutBox,t):this.constraints=!1,this.elastic=Goe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&no(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Hoe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!h0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Foe(n,a.root,this.visualElement.getTransformPagePoint());let s=qoe(a.layout.layoutBox,i);if(r){const o=r(Poe(s));this.hasMutatedConstraints=!!o,o&&(s=tU(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=no(u=>{if(!ax(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,d=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return lT(this.visualElement,t),n.start(IC(t,n,0,r,this.visualElement,!1))}stopAnimation(){no(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){no(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){no(r=>{const{drag:n}=this.getProps();if(!ax(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Cn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!h0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};no(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Woe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),no(s=>{if(!ax(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Cn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;Koe.set(this.visualElement,this);const t=this.visualElement.current,r=Pg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();h0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Nn.read(n);const s=O1(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(no(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=hT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ax(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Xoe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Qoe extends jf{constructor(t){super(t),this.removeGroupControls=po,this.removeListeners=po,this.controls=new Yoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||po}unmount(){this.removeGroupControls(),this.removeListeners()}}const f8=e=>(t,r)=>{e&&Nn.postRender(()=>e(t,r))};class Joe extends jf{constructor(){super(...arguments),this.removePointerDownListener=po}onPointerDown(t){this.session=new lU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:f8(t),onStart:f8(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Nn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Pg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const n2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qt.test(e))e=parseFloat(e);else return e;const r=h8(e,t.target.x),n=h8(e,t.target.y);return`${r}% ${n}%`}},Zoe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Sf.parse(e);if(a.length>5)return n;const i=Sf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Cn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class ele extends Q.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Fse(tle),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),n2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Nn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wC.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uU(e){const[t,r]=RV(),n=Q.useContext(Zk);return p.jsx(ele,{...e,layoutGroup:n,switchLayoutGroup:Q.useContext(zV),isPresent:t,safeToRemove:r})}const tle={borderRadius:{...jm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jm,borderTopRightRadius:jm,borderBottomLeftRadius:jm,borderBottomRightRadius:jm,boxShadow:Zoe};function fU(e,t,r){const n=Ra(e)?e:Gh(e);return n.start(IC("",n,t,r)),n.animation}const rle=(e,t)=>e.depth-t.depth;class nle{constructor(){this.children=[],this.isDirty=!1}add(t){rC(this.children,t),this.isDirty=!0}remove(t){l5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rle),this.isDirty=!1,this.children.forEach(t)}}function ale(e,t){const r=fs.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Rc(n),e(i-t))};return Nn.setup(n,!0),()=>Rc(n)}const hU=["TopLeft","TopRight","BottomLeft","BottomRight"],ile=hU.length,d8=e=>typeof e=="string"?parseFloat(e):e,p8=e=>typeof e=="number"||Qt.test(e);function sle(e,t,r,n,a,i){a?(e.opacity=Cn(0,r.opacity??1,ole(n)),e.opacityExit=Cn(t.opacity??1,0,lle(n))):i&&(e.opacity=Cn(t.opacity??1,r.opacity??1,n));for(let s=0;s<ile;s++){const o=`border${hU[s]}Radius`;let l=m8(t,o),c=m8(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||p8(l)===p8(c)?(e[o]=Math.max(Cn(d8(l),d8(c),n),0),(Rl.test(c)||Rl.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Cn(t.rotate||0,r.rotate||0,n))}function m8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ole=dU(0,.5,JB),lle=dU(.5,.95,po);function dU(e,t,r){return n=>n<e?0:n>t?1:r(op(e,t,n))}function g8(e,t){e.min=t.min,e.max=t.max}function Qs(e,t){g8(e.x,t.x),g8(e.y,t.y)}function v8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y8(e,t,r,n,a){return e-=t,e=ib(e,1/r,n),a!==void 0&&(e=ib(e,1/a,n)),e}function cle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Rl.test(t)&&(t=parseFloat(t),t=Cn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Cn(i.min,i.max,n);e===i&&(o-=t),e.min=y8(e.min,t,r,o,a),e.max=y8(e.max,t,r,o,a)}function x8(e,t,[r,n,a],i,s){cle(e,t[r],t[n],t[a],t.scale,i,s)}const ule=["x","scaleX","originX"],fle=["y","scaleY","originY"];function b8(e,t,r,n){x8(e.x,t,ule,r?r.x:void 0,n?n.x:void 0),x8(e.y,t,fle,r?r.y:void 0,n?n.y:void 0)}function w8(e){return e.translate===0&&e.scale===1}function pU(e){return w8(e.x)&&w8(e.y)}function _8(e,t){return e.min===t.min&&e.max===t.max}function hle(e,t){return _8(e.x,t.x)&&_8(e.y,t.y)}function S8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mU(e,t){return S8(e.x,t.x)&&S8(e.y,t.y)}function A8(e){return Vi(e.x)/Vi(e.y)}function T8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class dle{constructor(){this.members=[]}add(t){rC(this.members,t),t.scheduleRender()}remove(t){if(l5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ple(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),d&&(n+=`skewX(${d}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const yS=["","X","Y","Z"],mle={visibility:"hidden"},gle=1e3;let vle=0;function xS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function gU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=JV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Nn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&gU(n)}function vU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=vle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ble),this.nodes.forEach(Tle),this.nodes.forEach(Ele),this.nodes.forEach(wle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new nle)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new aC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=SC(s)&&!MV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=ale(f,250),n2.hasAnimatedSinceResize&&(n2.hasAnimatedSinceResize=!1,this.nodes.forEach(k8))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Ole,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!mU(this.targetLayout,d),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const w={...xC(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||k8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E8);return}this.isUpdating||this.nodes.forEach(Sle),this.isUpdating=!1,this.nodes.forEach(Ale),this.nodes.forEach(yle),this.nodes.forEach(xle),this.clearAllSnapshots();const o=fs.now();Ka.delta=Lc(0,1e3/60,o-Ka.timestamp),Ka.timestamp=o,Ka.isProcessing=!0,cS.update.process(Ka),cS.preRender.process(Ka),cS.render.process(Ka),Ka.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_le),this.sharedNodes.forEach(Cle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vi(this.snapshot.measuredBox.x)&&!Vi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!pU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||uh(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Ile(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Un();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Dle))){const{scroll:u}=this.root;u&&(p0(o.x,u.offset.x),p0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Un();if(Qs(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Qs(o,s),p0(o.x,f.offset.x),p0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Un();Qs(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&m0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),uh(u.latestValues)&&m0(l,u.latestValues)}return uh(this.latestValues)&&m0(l,this.latestValues),l}removeTransform(s){const o=Un();Qs(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!uh(c.latestValues))continue;uT(c.latestValues)&&c.updateSnapshot();const u=Un(),f=c.measurePageBox();Qs(u,f),b8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return uh(this.latestValues)&&b8(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ka.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Ka.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Og(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Un(),this.targetWithTransforms=Un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Moe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),iU(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Og(this.relativeTargetOrigin,this.target,d.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uT(this.parent.latestValues)||aU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ka.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Qs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Roe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Un());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v8(this.prevProjectionDelta.x,this.projectionDelta.x),v8(this.prevProjectionDelta.y,this.projectionDelta.y)),Ng(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!T8(this.projectionDelta.x,this.prevProjectionDelta.x)||!T8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=d0(),this.projectionDelta=d0(),this.projectionDeltaWithTransform=d0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=d0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Un(),d=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=d!==g,y=this.getStack(),v=!y||y.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(Nle));this.animationProgress=0;let w;this.mixTargetDelta=D=>{const P=D/1e3;C8(f.x,s.x,P),C8(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Og(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ple(this.relativeTarget,this.relativeTargetOrigin,h,P),w&&hle(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Un()),Qs(w,this.relativeTarget)),m&&(this.animationValues=u,sle(u,c,this.latestValues,P,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Rc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nn.update(()=>{n2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gh(0)),this.currentAnimation=fU(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&yU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Un();const f=Vi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Vi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Qs(o,l),m0(o,u),Ng(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new dle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&xS("z",s,c,this.animationValues);for(let u=0;u<yS.length;u++)xS(`rotate${yS[u]}`,s,c,this.animationValues),xS(`skew${yS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return mle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=r2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=r2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!uh(this.latestValues)&&(d.transform=l?l({},""):"none",this.hasProjected=!1),d}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=ple(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const d in P1){if(u[d]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:y}=P1[d],v=o.transform==="none"?u[d]:g(u[d],c);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=v}else y?this.options.visualElement.renderState.vars[d]=v:o[d]=v}return this.options.layoutId&&(o.pointerEvents=c===this?r2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(E8),this.root.sharedNodes.clear()}}}function yle(e){e.updateLayout()}function xle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?no(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Vi(h);h.min=n[f].min,h.max=h.min+d}):yU(i,t.layoutBox,n)&&no(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Vi(n[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const o=d0();Ng(o,n,t.layoutBox);const l=d0();s?Ng(l,e.applyTransform(a,!0),t.measuredBox):Ng(l,n,t.layoutBox);const c=!pU(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const g=Un();Og(g,t.layoutBox,h.layoutBox);const m=Un();Og(m,n,d.layoutBox),mU(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ble(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _le(e){e.clearSnapshot()}function E8(e){e.clearMeasurements()}function Sle(e){e.isLayoutDirty=!1}function Ale(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function k8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Tle(e){e.resolveTargetDelta()}function Ele(e){e.calcProjection()}function kle(e){e.resetSkewAndRotation()}function Cle(e){e.removeLeadSnapshot()}function C8(e,t,r){e.translate=Cn(t.translate,0,r),e.scale=Cn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function P8(e,t,r,n){e.min=Cn(t.min,r.min,n),e.max=Cn(t.max,r.max,n)}function Ple(e,t,r,n){P8(e.x,t.x,r.x,n),P8(e.y,t.y,r.y,n)}function Nle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ole={duration:.45,ease:[.4,0,.1,1]},N8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),O8=N8("applewebkit/")&&!N8("chrome/")?Math.round:po;function I8(e){e.min=O8(e.min),e.max=O8(e.max)}function Ile(e){I8(e.x),I8(e.y)}function yU(e,t,r){return e==="position"||e==="preserve-aspect"&&!Loe(A8(t),A8(r),.2)}function Dle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const jle=vU({attachResizeListener:(e,t)=>O1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bS={current:void 0},xU=vU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bS.current){const e=new jle({});e.mount(window),e.setOptions({layoutScroll:!0}),bS.current=e}return bS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lle={pan:{Feature:Joe},drag:{Feature:Qoe,ProjectionNode:xU,MeasureLayout:uU}};function D8(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Nn.postRender(()=>i(t,qv(t)))}class Mle extends jf{mount(){const{current:t}=this.node;t&&(this.unmount=use(t,(r,n)=>(D8(this.node,n,"Start"),a=>D8(this.node,a,"End"))))}unmount(){}}class Rle extends jf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vv(O1(this.node.current,"focus",()=>this.onFocus()),O1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j8(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Nn.postRender(()=>i(t,qv(t)))}class Fle extends jf{mount(){const{current:t}=this.node;t&&(this.unmount=pse(t,(r,n)=>(j8(this.node,n,"Start"),(a,{success:i})=>j8(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dT=new WeakMap,wS=new WeakMap,$le=e=>{const t=dT.get(e.target);t&&t(e)},Ble=e=>{e.forEach($le)};function Vle({root:e,...t}){const r=e||document;wS.has(r)||wS.set(r,{});const n=wS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Ble,{root:e,...t})),n[a]}function Ule(e,t,r){const n=Vle(t);return dT.set(e,r),n.observe(e),()=>{dT.delete(e),n.unobserve(e)}}const zle={some:0,all:1};class qle extends jf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:zle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Ule(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Wle(t,r))&&this.startObserver()}unmount(){}}function Wle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Hle={inView:{Feature:qle},tap:{Feature:Fle},focus:{Feature:Rle},hover:{Feature:Mle}},Gle={layout:{ProjectionNode:xU,MeasureLayout:uU}},pT={current:null},bU={current:!1};function Kle(){if(bU.current=!0,!!eC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pT.current=e.matches;e.addListener(t),t()}else pT.current=!1}const I1=new WeakMap;function Yle(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ra(a))e.addValue(n,a);else if(Ra(i))e.addValue(n,Gh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Gh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const L8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wU{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=fs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Nn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=h5(r),this.isVariantNode=VV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&Ra(d)&&d.set(l[h],!1)}}mount(t){this.current=t,I1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),bU.current||Kle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rc(this.notifyUpdate),Rc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Gp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Nn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lp){const r=lp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<L8.length;n++){const a=L8[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Yle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Gh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(UB(n)||qB(n))?n=parseFloat(n):!vse(n)&&Sf.test(r)&&(n=NV(t,r)),this.setBaseTarget(t,Ra(n)?n.get():n)),Ra(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=NC(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ra(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new aC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class _U extends wU{constructor(){super(...arguments),this.KeyframeResolver=sse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ra(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function SU(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Xle(e){return window.getComputedStyle(e)}class AU extends _U{constructor(){super(...arguments),this.type="html",this.renderInstance=SU}readValueFromInstance(t,r){var n;if(Gp.has(r))return(n=this.projection)!=null&&n.isProjecting?tT(r):Sie(t,r);{const a=Xle(t),i=(oC(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return sU(t,r)}build(t,r,n){kC(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return OC(t,r,n)}}const TU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qle(e,t,r,n){SU(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(TU.has(a)?a:EC(a),t.attrs[a])}class EU extends _U{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Un}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Gp.has(r)){const n=PV(r);return n&&n.default||0}return r=TU.has(r)?r:EC(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return QV(t,r,n)}build(t,r,n){GV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Qle(t,r,n,a)}mount(t){this.isSVGTag=YV(t.tagName),super.mount(t)}}const Jle=(e,t)=>PC(e)?new EU(t):new AU(t,{allowProjection:e!==Q.Fragment}),Zle=toe({...koe,...Hle,...Lle,...Gle},Jle),zn=Ese(Zle);function mT(e){const t=Bv(()=>Gh(e)),{isStatic:r}=Q.useContext(c5);if(r){const[,n]=Q.useState(e);Q.useEffect(()=>t.on("change",n),[])}return t}function kU(e,t){const r=mT(t()),n=()=>r.set(t());return n(),tC(()=>{const a=()=>Nn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Rc(n)}}),r}function ece(e){Cg.current=[],e();const t=kU(Cg.current,e);return Cg.current=void 0,t}function M8(e,t,r,n){if(typeof e=="function")return ece(e);const a=typeof t=="function"?t:mse(t,r,n);return Array.isArray(e)?R8(e,a):R8([e],([i])=>a(i))}function R8(e,t){const r=Bv(()=>[]);return kU(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function jC(e){return typeof e=="object"&&!Array.isArray(e)}function CU(e,t,r,n){return typeof e=="string"&&jC(t)?OV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function tce(e,t,r){return e*(t+1)}function F8(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function rce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(l5(e,a),n--)}}function nce(e,t,r,n,a,i){rce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Cn(a,i,n[s]),easing:rV(r,s)})}function ace(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function ice(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const sce="easeInOut";function oce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let d=0;d<e.length;d++){const g=e[d];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,F8(f,g.at,u,c));continue}let[m,y,v={}]=g;v.at!==void 0&&(f=F8(f,v.at,u,c));let b=0;const w=(D,P,O,E=0,A=0)=>{const S=lce(D),{delay:I=0,times:T=yV(S),type:C="keyframes",repeat:L,repeatType:H,repeatDelay:V=0,...J}=P;let{ease:te=t.ease||"easeOut",duration:q}=P;const B=typeof I=="function"?I(E,A):I,re=S.length,ee=vC(C)?C:a==null?void 0:a[C];if(re<=2&&ee){let X=100;if(re===2&&fce(S)){const se=S[1]-S[0];X=Math.abs(se)}const G={...J};q!==void 0&&(G.duration=rl(q));const Z=pV(G,X,ee);te=Z.ease,q=Z.duration}q??(q=i);const N=f+B;T.length===1&&T[0]===0&&(T[1]=1);const R=T.length-S.length;if(R>0&&vV(T,R),S.length===1&&S.unshift(null),L){q=tce(q,L);const X=[...S],G=[...T];te=Array.isArray(te)?[...te]:[te];const Z=[...te];for(let se=0;se<L;se++){S.push(...X);for(let K=0;K<X.length;K++)T.push(G[K]+(se+1)),te.push(K===0?"linear":rV(Z,K-1))}ace(T,L)}const z=N+q;nce(O,S,te,T,N,z),b=Math.max(B+q,b),h=Math.max(z,h)};if(Ra(m)){const D=$8(m,o);w(y,v,B8("default",D))}else{const D=CU(m,y,n,l),P=D.length;for(let O=0;O<P;O++){y=y,v=v;const E=D[O],A=$8(E,o);for(const S in y)w(y[S],cce(v,S),B8(S,A),O,P)}}u=f,f+=b}return o.forEach((d,g)=>{for(const m in d){const y=d[m];y.sort(ice);const v=[],b=[],w=[];for(let P=0;P<y.length;P++){const{at:O,value:E,easing:A}=y[P];v.push(E),b.push(op(0,h,O)),w.push(A||"easeOut")}b[0]!==0&&(b.unshift(0),v.unshift(v[0]),w.unshift(sce)),b[b.length-1]!==1&&(b.push(1),v.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const D=s.get(g);D.keyframes[m]=v,D.transition[m]={...t,duration:h,ease:w,times:b,...r}}}),s}function $8(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function B8(e,t){return t[e]||(t[e]=[]),t[e]}function lce(e){return Array.isArray(e)?e:[e]}function cce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const uce=e=>typeof e=="number",fce=e=>e.every(uce);function hce(e,t){return e in t}class dce extends wU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(hce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return Un()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function pce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=SC(e)&&!MV(e)?new EU(t):new AU(t);r.mount(e),I1.set(e,r)}function mce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new dce(t);r.mount(e),I1.set(e,r)}function gce(e,t){return Ra(e)||typeof e=="number"||typeof e=="string"&&!jC(t)}function PU(e,t,r,n){const a=[];if(gce(e,t))a.push(fU(e,jC(t)&&t.default||t,r&&(r.default||r)));else{const i=CU(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?pce:mce;I1.has(l)||c(l);const u=I1.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...DC(u,{...t,transition:f},{}))}}return a}function vce(e,t,r){const n=[];return oce(e,t,r,{spring:k1}).forEach(({keyframes:i,transition:s},o)=>{n.push(...PU(o,i,s))}),n}function yce(e){return Array.isArray(e)&&e.some(Array.isArray)}function xce(e){function t(r,n,a){let i=[];return yce(r)?i=vce(r,n,e):i=PU(r,n,a,e),new Kie(i)}return t}const V8=xce(),bce=()=>{const{user:e,logout:t}=ga(),r=Pv(),{isDarkMode:n}=Wr(),[a,i]=Q.useState(!1),s=h=>h.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:p.jsx(lZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:p.jsx(Wi,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:p.jsx(pZ,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:p.jsx(hZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:p.jsx(ZJ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:p.jsx(eZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:p.jsx(uZ,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:p.jsx(vZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:p.jsx(JJ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:p.jsx(QJ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:p.jsx(gZ,{size:20}),label:"Settings",roles:["admin","staff"]}].filter(h=>h.roles.includes(e.role)):[];return p.jsxs(zn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[p.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx(zn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:p.jsx(Z_,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:p.jsx(zn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),p.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,d)=>p.jsx(zn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:p.jsx("div",{className:"group relative",children:p.jsx(Z_,{to:h.to,className:({isActive:g})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${g?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:g})=>p.jsxs(p.Fragment,{children:[p.jsx(zn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),p.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${g?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),p.jsxs("div",{className:"flex items-center gap-4",children:[e&&p.jsxs(zn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),p.jsx(zn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsx(zn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx(cO,{size:20})})]}),p.jsx(zn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?p.jsx(J0,{size:24}):p.jsx(fZ,{size:24})})]})]})}),p.jsx(FV,{children:a&&p.jsx(zn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:p.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,d)=>p.jsx(zn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},children:p.jsx(Z_,{to:h.to,className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:p.jsxs(zn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,p.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),p.jsx(zn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(zn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),p.jsxs(zn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx(cO,{size:18}),p.jsx("span",{children:"Logout"})]})]})})]})})})]})},wce=()=>{const{isAuthenticated:e}=ga(),t=Pv(),{isDarkMode:r}=Wr();return Ne.useEffect(()=>{e||t("/login")},[e,t]),e?p.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[p.jsx(bce,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:p.jsx(IJ,{})})]}):null},NU=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=Q.useState(!1),[s,o]=Q.useState(!1);Q.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:p.jsx(A4,{className:"text-green-500",size:20}),error:p.jsx(uO,{className:"text-red-500",size:20}),warning:p.jsx(X0,{className:"text-yellow-500",size:20}),info:p.jsx(oZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return p.jsx("div",{className:"fixed top-4 right-4 z-50",children:p.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],p.jsx("p",{className:"text-sm font-medium",children:e}),p.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:p.jsx(uO,{size:18})})]})})},OU=Q.createContext(void 0),Yc=()=>{const e=Q.useContext(OU);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},_ce=({children:e})=>{const[t,r]=Q.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return p.jsxs(OU.Provider,{value:{showToast:n},children:[e,t&&p.jsx(NU,{message:t.message,type:t.type,onClose:a})]})},yt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=Wr(),l=i??o;return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsxs("div",{className:"relative",children:[r&&p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ne.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),p.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Du=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=Q.useState(!1),{isDarkMode:l}=Wr(),c=a??l,u=()=>{o(!s)};return p.jsxs("div",{className:"relative",children:[p.jsx(yt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),p.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?p.jsx(sZ,{size:18}):p.jsx(T4,{size:18})})]})},vt=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return p.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&p.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Sce=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState(""),[a,i]=Q.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=ga(),{showToast:u}=Yc(),{isDarkMode:f,toggleDarkMode:h}=Wr(),d=Pv();Q.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"?d("/add"):d("/"))},[o,c,d,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return p.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[p.jsx(zn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"max-w-md p-8 text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),p.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),p.jsx(zn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[p.jsx(dZ,{size:48,className:"mx-auto text-blue-600"}),p.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),p.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),p.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),p.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?p.jsx(W9,{size:20}):p.jsx(q9,{size:20})})]}),a&&p.jsx(zn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),p.jsxs("form",{onSubmit:g,className:"space-y-6",children:[p.jsx(yt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:p.jsx(E4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),p.jsx(Du,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),p.jsx(vt,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Ya=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=Wr(),i=mT(0),s=mT(0),o=M8(i,Math.round),l=M8(s,Math.round);return Ne.useEffect(()=>{if(typeof t=="number"){const c=V8(i,t,{duration:1});if(n){const u=V8(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),p.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),p.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?p.jsx(zn.span,{children:o}):t}),n&&p.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||p.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),p.jsx(zn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&p.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),p.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},Gu=()=>{const{isDarkMode:e}=Wr();return p.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),p.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:p.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),p.jsx("div",{className:"mt-4",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},_S=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=Wr();return p.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&p.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:p.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),p.jsx("div",{className:"p-6",children:t})]})};function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}function Ul(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Jr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function an(e){Jr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||$r(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ace(e,t){Jr(2,arguments);var r=an(e),n=Ul(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Tce(e,t){Jr(2,arguments);var r=an(e).getTime(),n=Ul(t);return new Date(r+n)}var Ece={};function Wv(){return Ece}function gT(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function sb(e){Jr(1,arguments);var t=an(e);return t.setHours(0,0,0,0),t}function a2(e,t){Jr(2,arguments);var r=an(e),n=an(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var IU=6e4,DU=36e5;function kce(e){return Jr(1,arguments),e instanceof Date||$r(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cce(e){if(Jr(1,arguments),!kce(e)&&typeof e!="number")return!1;var t=an(e);return!isNaN(Number(t))}function Pce(e,t){Jr(2,arguments);var r=an(e),n=an(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Nce(e,t){return Jr(2,arguments),an(e).getTime()-an(t).getTime()}var U8={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Oce="trunc";function Ice(e){return e?U8[e]:U8[Oce]}function D1(e){Jr(1,arguments);var t=an(e);return t.setHours(23,59,59,999),t}function Dce(e){Jr(1,arguments);var t=an(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function jce(e){Jr(1,arguments);var t=an(e);return D1(t).getTime()===Dce(t).getTime()}function Lce(e,t){Jr(2,arguments);var r=an(e),n=an(t),a=a2(r,n),i=Math.abs(Pce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=a2(r,n)===-a;jce(an(e))&&i===1&&a2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Mce(e,t,r){Jr(2,arguments);var n=Nce(e,t)/1e3;return Ice(void 0)(n)}function Rce(e,t){Jr(2,arguments);var r=Ul(t);return Tce(e,-r)}var Fce=864e5;function $ce(e){Jr(1,arguments);var t=an(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Fce)+1}function ob(e){Jr(1,arguments);var t=1,r=an(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function jU(e){Jr(1,arguments);var t=an(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=ob(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=ob(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Bce(e){Jr(1,arguments);var t=jU(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=ob(r);return n}var Vce=6048e5;function Uce(e){Jr(1,arguments);var t=an(e),r=ob(t).getTime()-Bce(t).getTime();return Math.round(r/Vce)+1}function lb(e,t){var r,n,a,i,s,o,l,c;Jr(1,arguments);var u=Wv(),f=Ul((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=an(e),d=h.getUTCDay(),g=(d<f?7:0)+d-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function LU(e,t){var r,n,a,i,s,o,l,c;Jr(1,arguments);var u=an(e),f=u.getUTCFullYear(),h=Wv(),d=Ul((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,d),g.setUTCHours(0,0,0,0);var m=lb(g,t),y=new Date(0);y.setUTCFullYear(f,0,d),y.setUTCHours(0,0,0,0);var v=lb(y,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=v.getTime()?f:f-1}function zce(e,t){var r,n,a,i,s,o,l,c;Jr(1,arguments);var u=Wv(),f=Ul((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=LU(e,t),d=new Date(0);d.setUTCFullYear(h,0,f),d.setUTCHours(0,0,0,0);var g=lb(d,t);return g}var qce=6048e5;function Wce(e,t){Jr(1,arguments);var r=an(e),n=lb(r,t).getTime()-zce(r,t).getTime();return Math.round(n/qce)+1}function Xr(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Cu={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Xr(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Xr(n+1,2)},d:function(t,r){return Xr(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Xr(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Xr(t.getUTCHours(),r.length)},m:function(t,r){return Xr(t.getUTCMinutes(),r.length)},s:function(t,r){return Xr(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Xr(i,r.length)}},$d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hce={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Cu.y(t,r)},Y:function(t,r,n,a){var i=LU(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return Xr(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Xr(s,r.length)},R:function(t,r){var n=jU(t);return Xr(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Xr(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Xr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Xr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Cu.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Xr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Wce(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Xr(i,r.length)},I:function(t,r,n){var a=Uce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Xr(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Cu.d(t,r)},D:function(t,r,n){var a=$ce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Xr(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Xr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Xr(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Xr(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=$d.noon:a===0?i=$d.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=$d.evening:a>=12?i=$d.afternoon:a>=4?i=$d.morning:i=$d.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Cu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Cu.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Xr(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Xr(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Cu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Cu.s(t,r)},S:function(t,r){return Cu.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return q8(s);case"XXXX":case"XX":return fh(s);case"XXXXX":case"XXX":default:return fh(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return q8(s);case"xxxx":case"xx":return fh(s);case"xxxxx":case"xxx":default:return fh(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+z8(s,":");case"OOOO":default:return"GMT"+fh(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+z8(s,":");case"zzzz":default:return"GMT"+fh(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return Xr(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return Xr(s,r.length)}};function z8(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+Xr(i,2)}function q8(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Xr(Math.abs(e)/60,2)}return fh(e,t)}function fh(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Xr(Math.floor(a/60),2),s=Xr(a%60,2);return n+i+r+s}var W8=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},MU=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Gce=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return W8(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",W8(a,r)).replace("{{time}}",MU(i,r))},Kce={p:MU,P:Gce},Yce=["D","DD"],Xce=["YY","YYYY"];function Qce(e){return Yce.indexOf(e)!==-1}function Jce(e){return Xce.indexOf(e)!==-1}function H8(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eue=function(t,r,n){var a,i=Zce[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function SS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var tue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aue={date:SS({formats:tue,defaultWidth:"full"}),time:SS({formats:rue,defaultWidth:"full"}),dateTime:SS({formats:nue,defaultWidth:"full"})},iue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sue=function(t,r,n,a){return iue[t]};function Lm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var oue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},due=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pue={ordinalNumber:due,era:Lm({values:oue,defaultWidth:"wide"}),quarter:Lm({values:lue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Lm({values:cue,defaultWidth:"wide"}),day:Lm({values:uue,defaultWidth:"wide"}),dayPeriod:Lm({values:fue,defaultWidth:"wide",formattingValues:hue,defaultFormattingWidth:"wide"})};function Mm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?gue(o,function(f){return f.test(s)}):mue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function mue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function gue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function vue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var yue=/^(\d+)(th|st|nd|rd)?/i,xue=/\d+/i,bue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wue={any:[/^b/i,/^(a|c)/i]},_ue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sue={any:[/1/i,/2/i,/3/i,/4/i]},Aue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Eue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nue={ordinalNumber:vue({matchPattern:yue,parsePattern:xue,valueCallback:function(t){return parseInt(t,10)}}),era:Mm({matchPatterns:bue,defaultMatchWidth:"wide",parsePatterns:wue,defaultParseWidth:"any"}),quarter:Mm({matchPatterns:_ue,defaultMatchWidth:"wide",parsePatterns:Sue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Mm({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Tue,defaultParseWidth:"any"}),day:Mm({matchPatterns:Eue,defaultMatchWidth:"wide",parsePatterns:kue,defaultParseWidth:"any"}),dayPeriod:Mm({matchPatterns:Cue,defaultMatchWidth:"any",parsePatterns:Pue,defaultParseWidth:"any"})},RU={code:"en-US",formatDistance:eue,formatLong:aue,formatRelative:sue,localize:pue,match:Nue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Oue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Iue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Due=/^'([^]*?)'?$/,jue=/''/g,Lue=/[a-zA-Z]/;function $t(e,t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,y;Jr(2,arguments);var v=String(t),b=Wv(),w=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:RU,D=Ul((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Ul((f=(h=(d=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&d!==void 0?d:b.weekStartsOn)!==null&&h!==void 0?h:(m=b.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var O=an(e);if(!Cce(O))throw new RangeError("Invalid time value");var E=gT(O),A=Rce(O,E),S={firstWeekContainsDate:D,weekStartsOn:P,locale:w,_originalDate:O},I=v.match(Iue).map(function(T){var C=T[0];if(C==="p"||C==="P"){var L=Kce[C];return L(T,w.formatLong)}return T}).join("").match(Oue).map(function(T){if(T==="''")return"'";var C=T[0];if(C==="'")return Mue(T);var L=Hce[C];if(L)return Jce(T)&&H8(T,t,String(e)),Qce(T)&&H8(T,t,String(e)),L(A,T,w.localize,S);if(C.match(Lue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return T}).join("");return I}function Mue(e){var t=e.match(Due);return t?t[1].replace(jue,"'"):e}function FU(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Rue(e){return FU({},e)}var G8=1440,Fue=2520,AS=43200,$ue=86400;function Bue(e,t,r){var n,a;Jr(2,arguments);var i=Wv(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:RU;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=a2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=FU(Rue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=an(t),u=an(e)):(c=an(e),u=an(t));var f=Mce(u,c),h=(gT(u)-gT(c))/1e3,d=Math.round((f-h)/60),g;if(d<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):d===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",d,l);if(d<45)return s.formatDistance("xMinutes",d,l);if(d<90)return s.formatDistance("aboutXHours",1,l);if(d<G8){var m=Math.round(d/60);return s.formatDistance("aboutXHours",m,l)}else{if(d<Fue)return s.formatDistance("xDays",1,l);if(d<AS){var y=Math.round(d/G8);return s.formatDistance("xDays",y,l)}else if(d<$ue)return g=Math.round(d/AS),s.formatDistance("aboutXMonths",g,l)}if(g=Lce(u,c),g<12){var v=Math.round(d/AS);return s.formatDistance("xMonths",v,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?s.formatDistance("aboutXYears",w,l):b<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function Vue(e,t){return Jr(1,arguments),Bue(e,Date.now(),t)}function or(e,t){Jr(2,arguments);var r=Ul(t);return Ace(e,-r)}function Uue(e,t){var r;Jr(1,arguments);var n=Ul((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Hue(e),i;if(a.date){var s=Gue(a.date,n);i=Kue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=Yue(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=Xue(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var ix={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,que=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Hue(e){var t={},r=e.split(ix.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ix.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ix.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=ix.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Gue(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Kue(e,t){if(t===null)return new Date(NaN);var r=e.match(zue);if(!r)return new Date(NaN);var n=!!r[4],a=Rm(r[1]),i=Rm(r[2])-1,s=Rm(r[3]),o=Rm(r[4]),l=Rm(r[5])-1;if(n)return tfe(t,o,l)?Que(t,o,l):new Date(NaN);var c=new Date(0);return!Zue(t,i,s)||!efe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Rm(e){return e?parseInt(e):1}function Yue(e){var t=e.match(que);if(!t)return NaN;var r=TS(t[1]),n=TS(t[2]),a=TS(t[3]);return rfe(r,n,a)?r*DU+n*IU+a*1e3:NaN}function TS(e){return e&&parseFloat(e.replace(",","."))||0}function Xue(e){if(e==="Z")return 0;var t=e.match(Wue);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return nfe(n,a)?r*(n*DU+a*IU):NaN}function Que(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Jue=[31,null,31,30,31,30,31,31,30,31,30,31];function $U(e){return e%400===0||e%4===0&&e%100!==0}function Zue(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Jue[t]||($U(e)?29:28))}function efe(e,t){return t>=1&&t<=($U(e)?366:365)}function tfe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function rfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function nfe(e,t){return t>=0&&t<=59}const afe=()=>{const[e,t]=Q.useState(!0),[r,n]=Q.useState([]),[a,i]=Q.useState([]),[s,o]=Q.useState([]),[l,c]=Q.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=Wr(),f=async()=>{t(!0);try{const m=new Date,y=or(m,30),v=or(m,1),b=m,w=vr(Pt(ct,"orders"),qr("createdAt",">=",Ht.fromDate(y)),qr("createdAt","<=",Ht.fromDate(m))),D=vr(Pt(ct,"orders"),qr("createdAt",">=",Ht.fromDate(v)),qr("createdAt","<=",Ht.fromDate(b))),P=vr(Pt(ct,"inventory")),O=vr(Pt(ct,"inventory"),qr("lastUpdated",">=",Ht.fromDate(v)),qr("lastUpdated","<=",Ht.fromDate(b))),[E,A,S,I]=await Promise.all([dr(w),dr(D),dr(P),dr(O)]),T=E.docs.map(Re=>({id:Re.id,...Re.data()})),C=A.docs.map(Re=>({id:Re.id,...Re.data()})),L=A.docs.length,H=S.docs.reduce((Re,Ye)=>{const Me=Ye.data();return Re+(Me.quantity||0)},0),V=I.docs.reduce((Re,Ye)=>{const Me=Ye.data();return Re+(Me.quantityChange||0)},0),J=S.docs.reduce((Re,Ye)=>{const Me=Ye.data();return Re+(Me.quantity||0)*(Me.price||0)},0),te=T.length,q=C.reduce((Re,Ye)=>Re+(Ye.totalAmount||0),0),B=vr(Pt(ct,"inventory")),ee=(await dr(B)).docs.map(Re=>({id:Re.id,...Re.data()})),N=ee.filter(Re=>Re.quantity<=10),R=ee.filter(Re=>Re.quantity>10&&Re.quantity<=25);console.log("All stock items:",ee),console.log("Critical items:",N),console.log("Low stock items:",R),i(N),o(R);const z=new Date,X=sb(z),G=D1(z),Z=sb(or(z,1)),se=D1(or(z,1)),K=vr(Pt(ct,"activityLogs"),qr("time",">=",X.toISOString()),qr("time","<=",G.toISOString())),oe=vr(Pt(ct,"activityLogs"),qr("time",">=",Z.toISOString()),qr("time","<=",se.toISOString())),[fe,W]=await Promise.all([dr(K),dr(oe)]),_e=fe.docs.map(Re=>Re.data()),Ae=W.docs.map(Re=>Re.data()),Se=_e.reduce((Re,Ye)=>{const Me=Ye.detail.match(/(\d+) units deducted/);return Re+(Me?parseInt(Me[1]):0)},0),ie=Ae.reduce((Re,Ye)=>{const Me=Ye.detail.match(/(\d+) units deducted/);return Re+(Me?parseInt(Me[1]):0)},0),ke=_e.reduce((Re,Ye)=>{const Me=Ye.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Re+(Me?parseInt(Me[1]):0)},0),Le=_e.reduce((Re,Ye)=>{const Me=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Me){const[,Ge,ot]=Me,nt=S.docs.find(dt=>dt.data().name===Ge);if(nt){const dt=nt.data().price||0;return Re+parseInt(ot)*dt}}return Re},0),Be=_e.reduce((Re,Ye)=>{const Me=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(Me)||/damaged/i.test(Me)||/damageditems/i.test(Me)||/damaged items/i.test(Me)){const Ge=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ot of Ge){const nt=Me.match(ot);if(nt)if(nt.length===3){const dt=parseInt(nt[1]),xt=parseInt(nt[2]);return Re+Math.abs(dt-xt)}else return Re+parseInt(nt[1])}return Re+1}return Re},0),Xe=Ae.reduce((Re,Ye)=>{const Me=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(Me)||/damaged/i.test(Me)||/damageditems/i.test(Me)||/damaged items/i.test(Me)){const Ge=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ot of Ge){const nt=Me.match(ot);if(nt)if(nt.length===3){const dt=parseInt(nt[1]),xt=parseInt(nt[2]);return Re+Math.abs(dt-xt)}else return Re+parseInt(nt[1])}return Re+1}return Re},0);c({totalOrders:te,totalStock:H,totalInventoryValue:J,todayDamagedProducts:Be,yesterdayDamagedProducts:Xe,yesterdayOrders:L,yesterdayStockChange:V,yesterdayRevenue:q,totalDeductions:Se,yesterdayDeductions:ie,todayStockAdditions:ke,todayInventoryValueAdditions:Le})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=vr(Pt(ct,"activityLogs"),Ma("time","desc"),Jx(5)),v=(await dr(m)).docs.map(b=>({id:b.id,...b.data()}));n(v)}catch(m){console.error("Error fetching recent activities:",m)}},d=async()=>{await Promise.all([f(),h()])};Q.useEffect(()=>{d()},[]);const g=()=>{const{isDarkMode:m}=Wr();return p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((y,v)=>p.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},v))]})};return p.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),p.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),p.jsx(vt,{variant:"secondary",onClick:d,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(ol,{size:16,className:e?"animate-spin":""})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?p.jsxs(p.Fragment,{children:[p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Ya,{title:"Total Stock",value:l.totalStock,icon:p.jsx(Q0,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:p.jsx(Wi,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),p.jsx(Ya,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:p.jsx(H9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),p.jsx(Ya,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:p.jsx(X0,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),p.jsx(Ya,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:p.jsx($2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:p.jsx(Wi,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(_S,{title:"Recent Activity",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):r.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.detail}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Vue(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),p.jsx(_S,{title:"Low Stock Items",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):s.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.name}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:p.jsx(_S,{title:"Critical Stock Items",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):a.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.name}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},Dn=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{const{isDarkMode:i}=Wr(),s=Q.useRef(null);if(Q.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};return e&&window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[e,t]),Q.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&t()};return e&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[e,t]),!e)return null;const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${o[a]} w-full ${i?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:`text-lg font-medium ${i?"text-white":"text-slate-900"}`,children:r}),p.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${i?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:p.jsx(J0,{size:20})})]}),p.jsx("div",{className:`${i?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},Fc=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=Q.useState(!1);return Q.useEffect(()=>{let i="",s=Date.now();const o=l=>{const c=Date.now();c-s>2e3&&(i=""),s=c,l.key==="Enter"&&i.length>0?(l.preventDefault(),r(i),i="",t()):l.key.length===1&&(i+=l.key)};return e&&(a(!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("keydown",o),a(!1)}},[e,r,t]),p.jsx(Dn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:p.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:p.jsx(il,{size:32,className:"text-blue-500"})}),p.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Click 'Start Scanning' to begin"}),!n&&p.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Start Scanning"})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var BU=1252,ife=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],LC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},MC=function(e){ife.indexOf(e)!=-1&&(BU=LC[0]=e)};function sfe(){MC(1252)}var Qo=function(e){MC(e)};function VU(){Qo(1200),sfe()}function K8(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function ofe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function UU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var og=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?ofe(e.slice(2)):t==254&&r==255?UU(e.slice(2)):t==65279?e.slice(1):e},sx=function(t){return String.fromCharCode(t)},Y8=function(t){return String.fromCharCode(t)},Bu,Ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function X8(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Ku.charAt(i)+Ku.charAt(s)+Ku.charAt(o)+Ku.charAt(l);return t}function $s(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Ku.indexOf(e.charAt(c++)),s=Ku.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Ku.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Ku.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var wr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),sd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Af(e){return wr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Q8(e){return wr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Yo=function(t){return wr?sd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function od(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function RC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return RC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Vu=wr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:sd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function lfe(e){for(var t=[],r=0,n=e.length+250,a=Af(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Af(65535),n=65530)}return t.push(a.slice(0,r)),Vu(t)}var Ki=/\u0000/g,lg=/[\u0001-\u0006]/g;function P0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Jo(e,t){var r=""+e;return r.length>=t?r:Gn("0",t-r.length)+r}function FC(e,t){var r=""+e;return r.length>=t?r:Gn(" ",t-r.length)+r}function cb(e,t){var r=""+e;return r.length>=t?r:r+Gn(" ",t-r.length)}function cfe(e,t){var r=""+Math.round(e);return r.length>=t?r:Gn("0",t-r.length)+r}function ufe(e,t){var r=""+e;return r.length>=t?r:Gn("0",t-r.length)+r}var J8=Math.pow(2,32);function Bd(e,t){if(e>J8||e<-J8)return cfe(e,t);var r=Math.round(e);return ufe(r,t)}function ub(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Z8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ES=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function ffe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var lr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},eD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},hfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function fb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Ah(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=yfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var zU=new Date(1899,11,31,0,0,0),dfe=zU.getTime(),pfe=new Date(1900,2,1,0,0,0);function qU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=pfe&&(r+=24*60*60*1e3),(r-(dfe+(e.getTimezoneOffset()-zU.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function $C(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gfe(e){var t=e<0?12:11,r=$C(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function vfe(e){var t=$C(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function j1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=gfe(e):t===10?r=e.toFixed(10).substr(0,12):r=vfe(e),$C(mfe(r.toUpperCase()))}function Kh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):j1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return xo(14,qU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function yfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function xfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return ES[r.m-1][1];case 5:return ES[r.m-1][0];default:return ES[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return Z8[r.q][0];default:return Z8[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Jo(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Jo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Jo(l,c):"";return u}function Yu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var WU=/%/g;function bfe(e,t,r){var n=t.replace(WU,""),a=t.length-n.length;return wc(e,n,r*Math.pow(10,2*a))+Gn("%",a)}function wfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return wc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function HU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+HU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var GU=/# (\?+)( ?)\/( ?)(\d+)/;function _fe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Gn(" ",e[1].length+1+e[4].length):FC(s,e[1].length)+e[2]+"/"+e[3]+Jo(o,e[4].length))}function Sfe(e,t,r){return r+(t===0?"":""+t)+Gn(" ",e[1].length+2+e[4].length)}var KU=/^#*0*\.([0#]+)/,YU=/\).*[0#]/,XU=/\(###\) ###\\?-####/;function $i(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function tD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function rD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Afe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Tfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ro(e,t,r){if(e.charCodeAt(0)===40&&!t.match(YU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ro("n",n,r):"("+ro("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return wfe(e,t,r);if(t.indexOf("%")!==-1)return bfe(e,t,r);if(t.indexOf("E")!==-1)return HU(t,r);if(t.charCodeAt(0)===36)return"$"+ro(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Bd(l,t.length);if(t.match(/^[#?]+$/))return a=Bd(r,0),a==="0"&&(a=""),a.length>t.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(GU))return _fe(i,l,c);if(t.match(/^#+0+$/))return c+Bd(l,t.length-t.indexOf("0"));if(i=t.match(KU))return a=tD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+$i(i[1])).replace(/\.$/,"."+$i(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Gn("0",$i(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+tD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Yu(Bd(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ro(e,t,-r):Yu(""+(Math.floor(r)+Afe(r,i[1].length)))+"."+Jo(rD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ro(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=P0(ro(e,t.replace(/[\\-]/g,""),r)),s=0,P0(P0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(XU))return a=ro(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=fb(l,Math.pow(10,s)-1,!1),a=""+c,u=wc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=cb(o[2],s),u.length<i[4].length&&(u=$i(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=fb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?FC(o[1],s)+i[2]+"/"+i[3]+cb(o[2],s):Gn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Bd(r,0),t.length<=a.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return $i(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=rD(r,i[1].length),r<0?"-"+ro(e,t,-r):Yu(Tfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Jo(0,3-g.length):"")+g})+"."+Jo(s,i[1].length);switch(t){case"###,##0.00":return ro(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Yu(Bd(l,0));return d!=="0"?c+d:"";case"###,###.00":return ro(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ro(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Efe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return wc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function kfe(e,t,r){var n=t.replace(WU,""),a=t.length-n.length;return wc(e,n,r*Math.pow(10,2*a))+Gn("%",a)}function QU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+QU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Sl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(YU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Sl("n",n,r):"("+Sl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Efe(e,t,r);if(t.indexOf("%")!==-1)return kfe(e,t,r);if(t.indexOf("E")!==-1)return QU(t,r);if(t.charCodeAt(0)===36)return"$"+Sl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Jo(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(GU))return Sfe(i,l,c);if(t.match(/^#+0+$/))return c+Jo(l,t.length-t.indexOf("0"));if(i=t.match(KU))return a=(""+r).replace(/^([^\.]+)$/,"$1."+$i(i[1])).replace(/\.$/,"."+$i(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Gn("0",$i(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Yu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Sl(e,t,-r):Yu(""+r)+"."+Gn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Sl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=P0(Sl(e,t.replace(/[\\-]/g,""),r)),s=0,P0(P0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(XU))return a=Sl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=fb(l,Math.pow(10,s)-1,!1),a=""+c,u=wc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=cb(o[2],s),u.length<i[4].length&&(u=$i(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=fb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?FC(o[1],s)+i[2]+"/"+i[3]+cb(o[2],s):Gn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return $i(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Sl(e,t,-r):Yu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Jo(0,3-g.length):"")+g})+"."+Jo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Yu(""+l);return d!=="0"?c+d:"";default:if(t.match(/\.[0#?]*$/))return Sl(e,t.slice(0,t.lastIndexOf(".")),r)+$i(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function wc(e,t,r){return(r|0)===r?Sl(e,t,r):ro(e,t,r)}function Cfe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var JU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Kp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ub(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(JU))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Pfe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!ub(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=e.charAt(++s),g=d==="("||d===")"?d:"t";a[a.length]={t:g,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Ah(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Ah(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=Ah(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(JU)){if(c==null&&(c=Ah(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Kp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var y=0,v=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",y<1&&(y=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[s].v.match(/[Hh]/)&&(y=1),y<2&&a[s].v.match(/[Mm]/)&&(y=2),y<3&&a[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=xfe(a[s].t.charCodeAt(0),a[s].v,c,v),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;w+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=Kh(t,r);break}var P="",O,E;if(w.length>0){w.charCodeAt(0)==40?(O=t<0&&w.charCodeAt(0)===45?-t:t,E=wc("n",w,O)):(O=t<0&&n>1?-t:t,E=wc("n",w,O),O<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),D=E.length-1;var A=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){A=s;break}var S=a.length;if(A===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=E.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=E.substr(0,D+1),D=-1),a[s].t="t",S=s);D>=0&&S<a.length&&(a[S].v=E.substr(0,D+1)+a[S].v)}else if(A!==a.length&&E.indexOf("E")===-1){for(D=E.indexOf(".")-1,s=A;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)D>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=E.charAt(D--)+P);a[s].v=P,a[s].t="t",S=s}for(D>=0&&S<a.length&&(a[S].v=E.substr(0,D+1)+a[S].v),D=E.indexOf(".")+1,s=A;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==A)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)D<E.length&&(P+=E.charAt(D++));a[s].v=P,a[s].t="t",S=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(O=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=wc(a[s].t,a[s].v,O),a[s].t="t");var I="";for(s=0;s!==a.length;++s)a[s]!=null&&(I+=a[s].v);return I}var nD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function aD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Nfe(e,t){var r=Cfe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(nD),o=r[1].match(nD);return aD(t,s)?[n,r[0]]:aD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function xo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:lr)[e],n==null&&(n=r.table&&r.table[eD[e]]||lr[eD[e]]),n==null&&(n=hfe[e]||"General");break}if(ub(n,0))return Kh(t,r);t instanceof Date&&(t=qU(t,r.date1904));var a=Nfe(n,t);if(ub(a[1]))return Kh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Pfe(a[1],t,r,a[0])}function Dh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(lr[r]==null){t<0&&(t=r);continue}if(lr[r]==e){t=r;break}}t<0&&(t=391)}return lr[t]=e,t}function ZU(){lr=ffe()}var Ofe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ez=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ife(e){var t=typeof e=="number"?lr[e]:e;return t=t.replace(ez,"(\\d+)"),new RegExp("^"+t+"$")}function Dfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(ez)||[]).forEach(function(f,h){var d=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var jfe=function(){var e={};e.version="1.2.0";function t(){for(var E=0,A=new Array(256),S=0;S!=256;++S)E=S,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,A[S]=E;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(E){var A=0,S=0,I=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)T[I]=E[I];for(I=0;I!=256;++I)for(S=E[I],A=256+I;A<4096;A+=256)S=T[A]=S>>>8^E[S&255];var C=[];for(I=1;I!=16;++I)C[I-1]=typeof Int32Array<"u"?T.subarray(I*256,I*256+256):T.slice(I*256,I*256+256);return C}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],g=a[9],m=a[10],y=a[11],v=a[12],b=a[13],w=a[14];function D(E,A){for(var S=A^-1,I=0,T=E.length;I<T;)S=S>>>8^r[(S^E.charCodeAt(I++))&255];return~S}function P(E,A){for(var S=A^-1,I=E.length-15,T=0;T<I;)S=w[E[T++]^S&255]^b[E[T++]^S>>8&255]^v[E[T++]^S>>16&255]^y[E[T++]^S>>>24]^m[E[T++]]^g[E[T++]]^d[E[T++]]^h[E[T++]]^f[E[T++]]^u[E[T++]]^c[E[T++]]^l[E[T++]]^o[E[T++]]^s[E[T++]]^i[E[T++]]^r[E[T++]];for(I+=15;T<I;)S=S>>>8^r[(S^E[T++])&255];return~S}function O(E,A){for(var S=A^-1,I=0,T=E.length,C=0,L=0;I<T;)C=E.charCodeAt(I++),C<128?S=S>>>8^r[(S^C)&255]:C<2048?(S=S>>>8^r[(S^(192|C>>6&31))&255],S=S>>>8^r[(S^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,L=E.charCodeAt(I++)&1023,S=S>>>8^r[(S^(240|C>>8&7))&255],S=S>>>8^r[(S^(128|C>>2&63))&255],S=S>>>8^r[(S^(128|L>>6&15|(C&3)<<4))&255],S=S>>>8^r[(S^(128|L&63))&255]):(S=S>>>8^r[(S^(224|C>>12&15))&255],S=S>>>8^r[(S^(128|C>>6&63))&255],S=S>>>8^r[(S^(128|C&63))&255]);return~S}return e.table=r,e.bstr=D,e.buf=P,e.str=O,e}(),Cr=function(){var t={};t.version="1.2.1";function r(le,xe){for(var me=le.split("/"),ge=xe.split("/"),ye=0,be=0,Fe=Math.min(me.length,ge.length);ye<Fe;++ye){if(be=me[ye].length-ge[ye].length)return be;if(me[ye]!=ge[ye])return me[ye]<ge[ye]?-1:1}return me.length-ge.length}function n(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:n(le.slice(0,-1));var xe=le.lastIndexOf("/");return xe===-1?le:le.slice(0,xe+1)}function a(le){if(le.charAt(le.length-1)=="/")return a(le.slice(0,-1));var xe=le.lastIndexOf("/");return xe===-1?le:le.slice(xe+1)}function i(le,xe){typeof xe=="string"&&(xe=new Date(xe));var me=xe.getHours();me=me<<6|xe.getMinutes(),me=me<<5|xe.getSeconds()>>>1,le.write_shift(2,me);var ge=xe.getFullYear()-1980;ge=ge<<4|xe.getMonth()+1,ge=ge<<5|xe.getDate(),le.write_shift(2,ge)}function s(le){var xe=le.read_shift(2)&65535,me=le.read_shift(2)&65535,ge=new Date,ye=me&31;me>>>=5;var be=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(be-1),ge.setDate(ye);var Fe=xe&31;xe>>>=5;var He=xe&63;return xe>>>=6,ge.setHours(xe),ge.setMinutes(He),ge.setSeconds(Fe<<1),ge}function o(le){Qa(le,0);for(var xe={},me=0;le.l<=le.length-4;){var ge=le.read_shift(2),ye=le.read_shift(2),be=le.l+ye,Fe={};switch(ge){case 21589:me=le.read_shift(1),me&1&&(Fe.mtime=le.read_shift(4)),ye>5&&(me&2&&(Fe.atime=le.read_shift(4)),me&4&&(Fe.ctime=le.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}le.l=be,xe[ge]=Fe}return xe}var l;function c(){return l||(l={})}function u(le,xe){if(le[0]==80&&le[1]==75)return ur(le,xe);if((le[0]|32)==109&&(le[1]|32)==105)return Oi(le,xe);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var me=3,ge=512,ye=0,be=0,Fe=0,He=0,$e=0,Ve=[],We=le.slice(0,512);Qa(We,0);var ut=f(We);switch(me=ut[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(ut[1]==0)return ur(le,xe);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(We=le.slice(0,ge),Qa(We,28));var bt=le.slice(0,ge);h(We,me);var Ct=We.read_shift(4,"i");if(me===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);We.l+=4,Fe=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),He=We.read_shift(4,"i"),ye=We.read_shift(4,"i"),$e=We.read_shift(4,"i"),be=We.read_shift(4,"i");for(var mt=-1,St=0;St<109&&(mt=We.read_shift(4,"i"),!(mt<0));++St)Ve[St]=mt;var qt=d(le,ge);y($e,be,qt,ge,Ve);var Sr=b(qt,Fe,Ve,ge);Sr[Fe].name="!Directory",ye>0&&He!==L&&(Sr[He].name="!MiniFAT"),Sr[Ve[0]].name="!FAT",Sr.fat_addrs=Ve,Sr.ssz=ge;var Ar={},en=[],Ii=[],Ao=[];w(Fe,Sr,qt,en,ye,Ar,Ii,He),g(Ii,Ao,en),en.shift();var ys={FileIndex:Ii,FullPaths:Ao};return xe&&xe.raw&&(ys.raw={header:bt,sectors:qt}),ys}function f(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(H,"Header Signature: "),le.l+=16;var xe=le.read_shift(2,"u");return[le.read_shift(2,"u"),xe]}function h(le,xe){var me=9;switch(le.l+=2,me=le.read_shift(2)){case 9:if(xe!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(xe!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function d(le,xe){for(var me=Math.ceil(le.length/xe)-1,ge=[],ye=1;ye<me;++ye)ge[ye-1]=le.slice(ye*xe,(ye+1)*xe);return ge[me-1]=le.slice(me*xe),ge}function g(le,xe,me){for(var ge=0,ye=0,be=0,Fe=0,He=0,$e=me.length,Ve=[],We=[];ge<$e;++ge)Ve[ge]=We[ge]=ge,xe[ge]=me[ge];for(;He<We.length;++He)ge=We[He],ye=le[ge].L,be=le[ge].R,Fe=le[ge].C,Ve[ge]===ge&&(ye!==-1&&Ve[ye]!==ye&&(Ve[ge]=Ve[ye]),be!==-1&&Ve[be]!==be&&(Ve[ge]=Ve[be])),Fe!==-1&&(Ve[Fe]=ge),ye!==-1&&ge!=Ve[ge]&&(Ve[ye]=Ve[ge],We.lastIndexOf(ye)<He&&We.push(ye)),be!==-1&&ge!=Ve[ge]&&(Ve[be]=Ve[ge],We.lastIndexOf(be)<He&&We.push(be));for(ge=1;ge<$e;++ge)Ve[ge]===ge&&(be!==-1&&Ve[be]!==be?Ve[ge]=Ve[be]:ye!==-1&&Ve[ye]!==ye&&(Ve[ge]=Ve[ye]));for(ge=1;ge<$e;++ge)if(le[ge].type!==0){if(He=ge,He!=Ve[He])do He=Ve[He],xe[ge]=xe[He]+"/"+xe[ge];while(He!==0&&Ve[He]!==-1&&He!=Ve[He]);Ve[ge]=-1}for(xe[0]+="/",ge=1;ge<$e;++ge)le[ge].type!==2&&(xe[ge]+="/")}function m(le,xe,me){for(var ge=le.start,ye=le.size,be=[],Fe=ge;me&&ye>0&&Fe>=0;)be.push(xe.slice(Fe*C,Fe*C+C)),ye-=C,Fe=gh(me,Fe*4);return be.length===0?ba(0):Vu(be).slice(0,le.size)}function y(le,xe,me,ge,ye){var be=L;if(le===L){if(xe!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Fe=me[le],He=(ge>>>2)-1;if(!Fe)return;for(var $e=0;$e<He&&(be=gh(Fe,$e*4))!==L;++$e)ye.push(be);y(gh(Fe,ge-4),xe-1,me,ge,ye)}}function v(le,xe,me,ge,ye){var be=[],Fe=[];ye||(ye=[]);var He=ge-1,$e=0,Ve=0;for($e=xe;$e>=0;){ye[$e]=!0,be[be.length]=$e,Fe.push(le[$e]);var We=me[Math.floor($e*4/ge)];if(Ve=$e*4&He,ge<4+Ve)throw new Error("FAT boundary crossed: "+$e+" 4 "+ge);if(!le[We])break;$e=gh(le[We],Ve)}return{nodes:be,data:pD([Fe])}}function b(le,xe,me,ge){var ye=le.length,be=[],Fe=[],He=[],$e=[],Ve=ge-1,We=0,ut=0,bt=0,Ct=0;for(We=0;We<ye;++We)if(He=[],bt=We+xe,bt>=ye&&(bt-=ye),!Fe[bt]){$e=[];var mt=[];for(ut=bt;ut>=0;){mt[ut]=!0,Fe[ut]=!0,He[He.length]=ut,$e.push(le[ut]);var St=me[Math.floor(ut*4/ge)];if(Ct=ut*4&Ve,ge<4+Ct)throw new Error("FAT boundary crossed: "+ut+" 4 "+ge);if(!le[St]||(ut=gh(le[St],Ct),mt[ut]))break}be[bt]={nodes:He,data:pD([$e])}}return be}function w(le,xe,me,ge,ye,be,Fe,He){for(var $e=0,Ve=ge.length?2:0,We=xe[le].data,ut=0,bt=0,Ct;ut<We.length;ut+=128){var mt=We.slice(ut,ut+128);Qa(mt,64),bt=mt.read_shift(2),Ct=qC(mt,0,bt-Ve),ge.push(Ct);var St={name:Ct,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},qt=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);qt!==0&&(St.ct=D(mt,mt.l-8));var Sr=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Sr!==0&&(St.mt=D(mt,mt.l-8)),St.start=mt.read_shift(4,"i"),St.size=mt.read_shift(4,"i"),St.size<0&&St.start<0&&(St.size=St.type=0,St.start=L,St.name=""),St.type===5?($e=St.start,ye>0&&$e!==L&&(xe[$e].name="!StreamData")):St.size>=4096?(St.storage="fat",xe[St.start]===void 0&&(xe[St.start]=v(me,St.start,xe.fat_addrs,xe.ssz)),xe[St.start].name=St.name,St.content=xe[St.start].data.slice(0,St.size)):(St.storage="minifat",St.size<0?St.size=0:$e!==L&&St.start!==L&&xe[$e]&&(St.content=m(St,xe[$e].data,(xe[He]||{}).data))),St.content&&Qa(St.content,0),be[Ct]=St,Fe.push(St)}}function D(le,xe){return new Date((Ns(le,xe+4)/1e7*Math.pow(2,32)+Ns(le,xe)/1e7-11644473600)*1e3)}function P(le,xe){return c(),u(l.readFileSync(le),xe)}function O(le,xe){var me=xe&&xe.type;switch(me||wr&&Buffer.isBuffer(le)&&(me="buffer"),me||"base64"){case"file":return P(le,xe);case"base64":return u(Yo($s(le)),xe);case"binary":return u(Yo(le),xe)}return u(le,xe)}function E(le,xe){var me=xe||{},ge=me.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=ge+"/",le.FileIndex[0]={name:ge,type:5}),me.CLSID&&(le.FileIndex[0].clsid=me.CLSID),A(le)}function A(le){var xe="Sh33tJ5";if(!Cr.find(le,"/"+xe)){var me=ba(4);me[0]=55,me[1]=me[3]=50,me[2]=54,le.FileIndex.push({name:xe,type:2,content:me,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+xe),S(le)}}function S(le,xe){E(le);for(var me=!1,ge=!1,ye=le.FullPaths.length-1;ye>=0;--ye){var be=le.FileIndex[ye];switch(be.type){case 0:ge?me=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(be.R*be.L*be.C)&&(me=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!xe)){var Fe=new Date(1987,1,19),He=0,$e=Object.create?Object.create(null):{},Ve=[];for(ye=0;ye<le.FullPaths.length;++ye)$e[le.FullPaths[ye]]=!0,le.FileIndex[ye].type!==0&&Ve.push([le.FullPaths[ye],le.FileIndex[ye]]);for(ye=0;ye<Ve.length;++ye){var We=n(Ve[ye][0]);ge=$e[We],ge||(Ve.push([We,{name:a(We).replace("/",""),type:1,clsid:J,ct:Fe,mt:Fe,content:null}]),$e[We]=!0)}for(Ve.sort(function(Ct,mt){return r(Ct[0],mt[0])}),le.FullPaths=[],le.FileIndex=[],ye=0;ye<Ve.length;++ye)le.FullPaths[ye]=Ve[ye][0],le.FileIndex[ye]=Ve[ye][1];for(ye=0;ye<Ve.length;++ye){var ut=le.FileIndex[ye],bt=le.FullPaths[ye];if(ut.name=a(bt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||J,ye===0)ut.C=Ve.length>1?1:-1,ut.size=0,ut.type=5;else if(bt.slice(-1)=="/"){for(He=ye+1;He<Ve.length&&n(le.FullPaths[He])!=bt;++He);for(ut.C=He>=Ve.length?-1:He,He=ye+1;He<Ve.length&&n(le.FullPaths[He])!=n(bt);++He);ut.R=He>=Ve.length?-1:He,ut.type=1}else n(le.FullPaths[ye+1]||"")==n(bt)&&(ut.R=ye+1),ut.type=2}}}function I(le,xe){var me=xe||{};if(me.fileType=="mad")return Dt(le,me);switch(S(le),me.fileType){case"zip":return gn(le,me)}var ge=function(Ct){for(var mt=0,St=0,qt=0;qt<Ct.FileIndex.length;++qt){var Sr=Ct.FileIndex[qt];if(Sr.content){var Ar=Sr.content.length;Ar>0&&(Ar<4096?mt+=Ar+63>>6:St+=Ar+511>>9)}}for(var en=Ct.FullPaths.length+3>>2,Ii=mt+7>>3,Ao=mt+127>>7,ys=Ii+St+en+Ao,Zi=ys+127>>7,xs=Zi<=109?0:Math.ceil((Zi-109)/127);ys+Zi+xs+127>>7>Zi;)xs=++Zi<=109?0:Math.ceil((Zi-109)/127);var Va=[1,xs,Zi,Ao,en,St,mt,0];return Ct.FileIndex[0].size=mt<<6,Va[7]=(Ct.FileIndex[0].start=Va[0]+Va[1]+Va[2]+Va[3]+Va[4]+Va[5])+(Va[6]+7>>3),Va}(le),ye=ba(ge[7]<<9),be=0,Fe=0;{for(be=0;be<8;++be)ye.write_shift(1,V[be]);for(be=0;be<8;++be)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),be=0;be<3;++be)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,ge[2]),ye.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:L),ye.write_shift(4,ge[3]),ye.write_shift(-4,ge[1]?ge[0]-1:L),ye.write_shift(4,ge[1]),be=0;be<109;++be)ye.write_shift(-4,be<ge[2]?ge[1]+be:-1)}if(ge[1])for(Fe=0;Fe<ge[1];++Fe){for(;be<236+Fe*127;++be)ye.write_shift(-4,be<ge[2]?ge[1]+be:-1);ye.write_shift(-4,Fe===ge[1]-1?L:Fe+1)}var He=function(Ct){for(Fe+=Ct;be<Fe-1;++be)ye.write_shift(-4,be+1);Ct&&(++be,ye.write_shift(-4,L))};for(Fe=be=0,Fe+=ge[1];be<Fe;++be)ye.write_shift(-4,te.DIFSECT);for(Fe+=ge[2];be<Fe;++be)ye.write_shift(-4,te.FATSECT);He(ge[3]),He(ge[4]);for(var $e=0,Ve=0,We=le.FileIndex[0];$e<le.FileIndex.length;++$e)We=le.FileIndex[$e],We.content&&(Ve=We.content.length,!(Ve<4096)&&(We.start=Fe,He(Ve+511>>9)));for(He(ge[6]+7>>3);ye.l&511;)ye.write_shift(-4,te.ENDOFCHAIN);for(Fe=be=0,$e=0;$e<le.FileIndex.length;++$e)We=le.FileIndex[$e],We.content&&(Ve=We.content.length,!(!Ve||Ve>=4096)&&(We.start=Fe,He(Ve+63>>6)));for(;ye.l&511;)ye.write_shift(-4,te.ENDOFCHAIN);for(be=0;be<ge[4]<<2;++be){var ut=le.FullPaths[be];if(!ut||ut.length===0){for($e=0;$e<17;++$e)ye.write_shift(4,0);for($e=0;$e<3;++$e)ye.write_shift(4,-1);for($e=0;$e<12;++$e)ye.write_shift(4,0);continue}We=le.FileIndex[be],be===0&&(We.start=We.size?We.start-1:L);var bt=be===0&&me.root||We.name;if(Ve=2*(bt.length+1),ye.write_shift(64,bt,"utf16le"),ye.write_shift(2,Ve),ye.write_shift(1,We.type),ye.write_shift(1,We.color),ye.write_shift(-4,We.L),ye.write_shift(-4,We.R),ye.write_shift(-4,We.C),We.clsid)ye.write_shift(16,We.clsid,"hex");else for($e=0;$e<4;++$e)ye.write_shift(4,0);ye.write_shift(4,We.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,We.start),ye.write_shift(4,We.size),ye.write_shift(4,0)}for(be=1;be<le.FileIndex.length;++be)if(We=le.FileIndex[be],We.size>=4096)if(ye.l=We.start+1<<9,wr&&Buffer.isBuffer(We.content))We.content.copy(ye,ye.l,0,We.size),ye.l+=We.size+511&-512;else{for($e=0;$e<We.size;++$e)ye.write_shift(1,We.content[$e]);for(;$e&511;++$e)ye.write_shift(1,0)}for(be=1;be<le.FileIndex.length;++be)if(We=le.FileIndex[be],We.size>0&&We.size<4096)if(wr&&Buffer.isBuffer(We.content))We.content.copy(ye,ye.l,0,We.size),ye.l+=We.size+63&-64;else{for($e=0;$e<We.size;++$e)ye.write_shift(1,We.content[$e]);for(;$e&63;++$e)ye.write_shift(1,0)}if(wr)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function T(le,xe){var me=le.FullPaths.map(function($e){return $e.toUpperCase()}),ge=me.map(function($e){var Ve=$e.split("/");return Ve[Ve.length-($e.slice(-1)=="/"?2:1)]}),ye=!1;xe.charCodeAt(0)===47?(ye=!0,xe=me[0].slice(0,-1)+xe):ye=xe.indexOf("/")!==-1;var be=xe.toUpperCase(),Fe=ye===!0?me.indexOf(be):ge.indexOf(be);if(Fe!==-1)return le.FileIndex[Fe];var He=!be.match(lg);for(be=be.replace(Ki,""),He&&(be=be.replace(lg,"!")),Fe=0;Fe<me.length;++Fe)if((He?me[Fe].replace(lg,"!"):me[Fe]).replace(Ki,"")==be||(He?ge[Fe].replace(lg,"!"):ge[Fe]).replace(Ki,"")==be)return le.FileIndex[Fe];return null}var C=64,L=-2,H="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(le,xe,me){c();var ge=I(le,me);l.writeFileSync(xe,ge)}function B(le){for(var xe=new Array(le.length),me=0;me<le.length;++me)xe[me]=String.fromCharCode(le[me]);return xe.join("")}function re(le,xe){var me=I(le,xe);switch(xe&&xe.type||"buffer"){case"file":return c(),l.writeFileSync(xe.filename,me),me;case"binary":return typeof me=="string"?me:B(me);case"base64":return X8(typeof me=="string"?me:B(me));case"buffer":if(wr)return Buffer.isBuffer(me)?me:sd(me);case"array":return typeof me=="string"?Yo(me):me}return me}var ee;function N(le){try{var xe=le.InflateRaw,me=new xe;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)ee=le;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function R(le,xe){if(!ee)return kt(le,xe);var me=ee.InflateRaw,ge=new me,ye=ge._processChunk(le.slice(le.l),ge._finishFlushFlag);return le.l+=ge.bytesRead,ye}function z(le){return ee?ee.deflateRawSync(le):pt(le)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function se(le){var xe=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(xe>>16|xe>>8|xe)&255}for(var K=typeof Uint8Array<"u",oe=K?new Uint8Array(256):[],fe=0;fe<256;++fe)oe[fe]=se(fe);function W(le,xe){var me=oe[le&255];return xe<=8?me>>>8-xe:(me=me<<8|oe[le>>8&255],xe<=16?me>>>16-xe:(me=me<<8|oe[le>>16&255],me>>>24-xe))}function _e(le,xe){var me=xe&7,ge=xe>>>3;return(le[ge]|(me<=6?0:le[ge+1]<<8))>>>me&3}function Ae(le,xe){var me=xe&7,ge=xe>>>3;return(le[ge]|(me<=5?0:le[ge+1]<<8))>>>me&7}function Se(le,xe){var me=xe&7,ge=xe>>>3;return(le[ge]|(me<=4?0:le[ge+1]<<8))>>>me&15}function ie(le,xe){var me=xe&7,ge=xe>>>3;return(le[ge]|(me<=3?0:le[ge+1]<<8))>>>me&31}function ke(le,xe){var me=xe&7,ge=xe>>>3;return(le[ge]|(me<=1?0:le[ge+1]<<8))>>>me&127}function Le(le,xe,me){var ge=xe&7,ye=xe>>>3,be=(1<<me)-1,Fe=le[ye]>>>ge;return me<8-ge||(Fe|=le[ye+1]<<8-ge,me<16-ge)||(Fe|=le[ye+2]<<16-ge,me<24-ge)||(Fe|=le[ye+3]<<24-ge),Fe&be}function Be(le,xe,me){var ge=xe&7,ye=xe>>>3;return ge<=5?le[ye]|=(me&7)<<ge:(le[ye]|=me<<ge&255,le[ye+1]=(me&7)>>8-ge),xe+3}function Xe(le,xe,me){var ge=xe&7,ye=xe>>>3;return me=(me&1)<<ge,le[ye]|=me,xe+1}function Re(le,xe,me){var ge=xe&7,ye=xe>>>3;return me<<=ge,le[ye]|=me&255,me>>>=8,le[ye+1]=me,xe+8}function Ye(le,xe,me){var ge=xe&7,ye=xe>>>3;return me<<=ge,le[ye]|=me&255,me>>>=8,le[ye+1]=me&255,le[ye+2]=me>>>8,xe+16}function Me(le,xe){var me=le.length,ge=2*me>xe?2*me:xe+5,ye=0;if(me>=xe)return le;if(wr){var be=Q8(ge);if(le.copy)le.copy(be);else for(;ye<le.length;++ye)be[ye]=le[ye];return be}else if(K){var Fe=new Uint8Array(ge);if(Fe.set)Fe.set(le);else for(;ye<me;++ye)Fe[ye]=le[ye];return Fe}return le.length=ge,le}function Ge(le){for(var xe=new Array(le),me=0;me<le;++me)xe[me]=0;return xe}function ot(le,xe,me){var ge=1,ye=0,be=0,Fe=0,He=0,$e=le.length,Ve=K?new Uint16Array(32):Ge(32);for(be=0;be<32;++be)Ve[be]=0;for(be=$e;be<me;++be)le[be]=0;$e=le.length;var We=K?new Uint16Array($e):Ge($e);for(be=0;be<$e;++be)Ve[ye=le[be]]++,ge<ye&&(ge=ye),We[be]=0;for(Ve[0]=0,be=1;be<=ge;++be)Ve[be+16]=He=He+Ve[be-1]<<1;for(be=0;be<$e;++be)He=le[be],He!=0&&(We[be]=Ve[He+16]++);var ut=0;for(be=0;be<$e;++be)if(ut=le[be],ut!=0)for(He=W(We[be],ge)>>ge-ut,Fe=(1<<ge+4-ut)-1;Fe>=0;--Fe)xe[He|Fe<<ut]=ut&15|be<<4;return ge}var nt=K?new Uint16Array(512):Ge(512),dt=K?new Uint16Array(32):Ge(32);if(!K){for(var xt=0;xt<512;++xt)nt[xt]=0;for(xt=0;xt<32;++xt)dt[xt]=0}(function(){for(var le=[],xe=0;xe<32;xe++)le.push(5);ot(le,dt,32);var me=[];for(xe=0;xe<=143;xe++)me.push(8);for(;xe<=255;xe++)me.push(9);for(;xe<=279;xe++)me.push(7);for(;xe<=287;xe++)me.push(8);ot(me,nt,288)})();var wt=function(){for(var xe=K?new Uint8Array(32768):[],me=0,ge=0;me<Z.length-1;++me)for(;ge<Z[me+1];++ge)xe[ge]=me;for(;ge<32768;++ge)xe[ge]=29;var ye=K?new Uint8Array(259):[];for(me=0,ge=0;me<G.length-1;++me)for(;ge<G[me+1];++ge)ye[ge]=me;function be(He,$e){for(var Ve=0;Ve<He.length;){var We=Math.min(65535,He.length-Ve),ut=Ve+We==He.length;for($e.write_shift(1,+ut),$e.write_shift(2,We),$e.write_shift(2,~We&65535);We-- >0;)$e[$e.l++]=He[Ve++]}return $e.l}function Fe(He,$e){for(var Ve=0,We=0,ut=K?new Uint16Array(32768):[];We<He.length;){var bt=Math.min(65535,He.length-We);if(bt<10){for(Ve=Be($e,Ve,+(We+bt==He.length)),Ve&7&&(Ve+=8-(Ve&7)),$e.l=Ve/8|0,$e.write_shift(2,bt),$e.write_shift(2,~bt&65535);bt-- >0;)$e[$e.l++]=He[We++];Ve=$e.l*8;continue}Ve=Be($e,Ve,+(We+bt==He.length)+2);for(var Ct=0;bt-- >0;){var mt=He[We];Ct=(Ct<<5^mt)&32767;var St=-1,qt=0;if((St=ut[Ct])&&(St|=We&-32768,St>We&&(St-=32768),St<We))for(;He[St+qt]==He[We+qt]&&qt<250;)++qt;if(qt>2){mt=ye[qt],mt<=22?Ve=Re($e,Ve,oe[mt+1]>>1)-1:(Re($e,Ve,3),Ve+=5,Re($e,Ve,oe[mt-23]>>5),Ve+=3);var Sr=mt<8?0:mt-4>>2;Sr>0&&(Ye($e,Ve,qt-G[mt]),Ve+=Sr),mt=xe[We-St],Ve=Re($e,Ve,oe[mt]>>3),Ve-=3;var Ar=mt<4?0:mt-2>>1;Ar>0&&(Ye($e,Ve,We-St-Z[mt]),Ve+=Ar);for(var en=0;en<qt;++en)ut[Ct]=We&32767,Ct=(Ct<<5^He[We])&32767,++We;bt-=qt-1}else mt<=143?mt=mt+48:Ve=Xe($e,Ve,1),Ve=Re($e,Ve,oe[mt]),ut[Ct]=We&32767,++We}Ve=Re($e,Ve,0)-1}return $e.l=(Ve+7)/8|0,$e.l}return function($e,Ve){return $e.length<8?be($e,Ve):Fe($e,Ve)}}();function pt(le){var xe=ba(50+Math.floor(le.length*1.1)),me=wt(le,xe);return xe.slice(0,me)}var et=K?new Uint16Array(32768):Ge(32768),Bt=K?new Uint16Array(32768):Ge(32768),Lt=K?new Uint16Array(128):Ge(128),Hr=1,Ee=1;function Je(le,xe){var me=ie(le,xe)+257;xe+=5;var ge=ie(le,xe)+1;xe+=5;var ye=Se(le,xe)+4;xe+=4;for(var be=0,Fe=K?new Uint8Array(19):Ge(19),He=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,Ve=K?new Uint8Array(8):Ge(8),We=K?new Uint8Array(8):Ge(8),ut=Fe.length,bt=0;bt<ye;++bt)Fe[X[bt]]=be=Ae(le,xe),$e<be&&($e=be),Ve[be]++,xe+=3;var Ct=0;for(Ve[0]=0,bt=1;bt<=$e;++bt)We[bt]=Ct=Ct+Ve[bt-1]<<1;for(bt=0;bt<ut;++bt)(Ct=Fe[bt])!=0&&(He[bt]=We[Ct]++);var mt=0;for(bt=0;bt<ut;++bt)if(mt=Fe[bt],mt!=0){Ct=oe[He[bt]]>>8-mt;for(var St=(1<<7-mt)-1;St>=0;--St)Lt[Ct|St<<mt]=mt&7|bt<<3}var qt=[];for($e=1;qt.length<me+ge;)switch(Ct=Lt[ke(le,xe)],xe+=Ct&7,Ct>>>=3){case 16:for(be=3+_e(le,xe),xe+=2,Ct=qt[qt.length-1];be-- >0;)qt.push(Ct);break;case 17:for(be=3+Ae(le,xe),xe+=3;be-- >0;)qt.push(0);break;case 18:for(be=11+ke(le,xe),xe+=7;be-- >0;)qt.push(0);break;default:qt.push(Ct),$e<Ct&&($e=Ct);break}var Sr=qt.slice(0,me),Ar=qt.slice(me);for(bt=me;bt<286;++bt)Sr[bt]=0;for(bt=ge;bt<30;++bt)Ar[bt]=0;return Hr=ot(Sr,et,286),Ee=ot(Ar,Bt,30),xe}function _t(le,xe){if(le[0]==3&&!(le[1]&3))return[Af(xe),2];for(var me=0,ge=0,ye=Q8(xe||1<<18),be=0,Fe=ye.length>>>0,He=0,$e=0;!(ge&1);){if(ge=Ae(le,me),me+=3,ge>>>1)ge>>1==1?(He=9,$e=5):(me=Je(le,me),He=Hr,$e=Ee);else{me&7&&(me+=8-(me&7));var Ve=le[me>>>3]|le[(me>>>3)+1]<<8;if(me+=32,Ve>0)for(!xe&&Fe<be+Ve&&(ye=Me(ye,be+Ve),Fe=ye.length);Ve-- >0;)ye[be++]=le[me>>>3],me+=8;continue}for(;;){!xe&&Fe<be+32767&&(ye=Me(ye,be+32767),Fe=ye.length);var We=Le(le,me,He),ut=ge>>>1==1?nt[We]:et[We];if(me+=ut&15,ut>>>=4,!(ut>>>8&255))ye[be++]=ut;else{if(ut==256)break;ut-=257;var bt=ut<8?0:ut-4>>2;bt>5&&(bt=0);var Ct=be+G[ut];bt>0&&(Ct+=Le(le,me,bt),me+=bt),We=Le(le,me,$e),ut=ge>>>1==1?dt[We]:Bt[We],me+=ut&15,ut>>>=4;var mt=ut<4?0:ut-2>>1,St=Z[ut];for(mt>0&&(St+=Le(le,me,mt),me+=mt),!xe&&Fe<Ct&&(ye=Me(ye,Ct+100),Fe=ye.length);be<Ct;)ye[be]=ye[be-St],++be}}}return xe?[ye,me+7>>>3]:[ye.slice(0,be),me+7>>>3]}function kt(le,xe){var me=le.slice(le.l||0),ge=_t(me,xe);return le.l+=ge[1],ge[0]}function cr(le,xe){if(le)typeof console<"u"&&console.error(xe);else throw new Error(xe)}function ur(le,xe){var me=le;Qa(me,0);var ge=[],ye=[],be={FileIndex:ge,FullPaths:ye};E(be,{root:xe.root});for(var Fe=me.length-4;(me[Fe]!=80||me[Fe+1]!=75||me[Fe+2]!=5||me[Fe+3]!=6)&&Fe>=0;)--Fe;me.l=Fe+4,me.l+=4;var He=me.read_shift(2);me.l+=6;var $e=me.read_shift(4);for(me.l=$e,Fe=0;Fe<He;++Fe){me.l+=20;var Ve=me.read_shift(4),We=me.read_shift(4),ut=me.read_shift(2),bt=me.read_shift(2),Ct=me.read_shift(2);me.l+=8;var mt=me.read_shift(4),St=o(me.slice(me.l+ut,me.l+ut+bt));me.l+=ut+bt+Ct;var qt=me.l;me.l=mt+4,Nr(me,Ve,We,be,St),me.l=qt}return be}function Nr(le,xe,me,ge,ye){le.l+=2;var be=le.read_shift(2),Fe=le.read_shift(2),He=s(le);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var $e=le.read_shift(4),Ve=le.read_shift(4),We=le.read_shift(4),ut=le.read_shift(2),bt=le.read_shift(2),Ct="",mt=0;mt<ut;++mt)Ct+=String.fromCharCode(le[le.l++]);if(bt){var St=o(le.slice(le.l,le.l+bt));(St[21589]||{}).mt&&(He=St[21589].mt),((ye||{})[21589]||{}).mt&&(He=ye[21589].mt)}le.l+=bt;var qt=le.slice(le.l,le.l+Ve);switch(Fe){case 8:qt=R(le,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var Sr=!1;be&8&&($e=le.read_shift(4),$e==134695760&&($e=le.read_shift(4),Sr=!0),Ve=le.read_shift(4),We=le.read_shift(4)),Ve!=xe&&cr(Sr,"Bad compressed size: "+xe+" != "+Ve),We!=me&&cr(Sr,"Bad uncompressed size: "+me+" != "+We),ia(ge,Ct,qt,{unsafe:!0,mt:He})}function gn(le,xe){var me=xe||{},ge=[],ye=[],be=ba(1),Fe=me.compression?8:0,He=0,$e=0,Ve=0,We=0,ut=0,bt=le.FullPaths[0],Ct=bt,mt=le.FileIndex[0],St=[],qt=0;for($e=1;$e<le.FullPaths.length;++$e)if(Ct=le.FullPaths[$e].slice(bt.length),mt=le.FileIndex[$e],!(!mt.size||!mt.content||Ct=="Sh33tJ5")){var Sr=We,Ar=ba(Ct.length);for(Ve=0;Ve<Ct.length;++Ve)Ar.write_shift(1,Ct.charCodeAt(Ve)&127);Ar=Ar.slice(0,Ar.l),St[ut]=jfe.buf(mt.content,0);var en=mt.content;Fe==8&&(en=z(en)),be=ba(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,He),be.write_shift(2,Fe),mt.mt?i(be,mt.mt):be.write_shift(4,0),be.write_shift(-4,St[ut]),be.write_shift(4,en.length),be.write_shift(4,mt.content.length),be.write_shift(2,Ar.length),be.write_shift(2,0),We+=be.length,ge.push(be),We+=Ar.length,ge.push(Ar),We+=en.length,ge.push(en),be=ba(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,He),be.write_shift(2,Fe),be.write_shift(4,0),be.write_shift(-4,St[ut]),be.write_shift(4,en.length),be.write_shift(4,mt.content.length),be.write_shift(2,Ar.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,Sr),qt+=be.l,ye.push(be),qt+=Ar.length,ye.push(Ar),++ut}return be=ba(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,ut),be.write_shift(2,ut),be.write_shift(4,qt),be.write_shift(4,We),be.write_shift(2,0),Vu([Vu(ge),Vu(ye),be])}var Or={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Vt(le,xe){if(le.ctype)return le.ctype;var me=le.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Or[ge[1]]||xe&&(ge=(me=xe).match(/[\.\\]([^\.\\])+$/),ge&&Or[ge[1]])?Or[ge[1]]:"application/octet-stream"}function br(le){for(var xe=X8(le),me=[],ge=0;ge<xe.length;ge+=76)me.push(xe.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function Ji(le){var xe=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var We=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});xe=xe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),xe.charAt(0)==`
`&&(xe="=0D"+xe.slice(1)),xe=xe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=xe.split(`\r
`),ye=0;ye<ge.length;++ye){var be=ge[ye];if(be.length==0){me.push("");continue}for(var Fe=0;Fe<be.length;){var He=76,$e=be.slice(Fe,Fe+He);$e.charAt(He-1)=="="?He--:$e.charAt(He-2)=="="?He-=2:$e.charAt(He-3)=="="&&(He-=3),$e=be.slice(Fe,Fe+He),Fe+=He,Fe<be.length&&($e+="="),me.push($e)}}return me.join(`\r
`)}function Fn(le){for(var xe=[],me=0;me<le.length;++me){for(var ge=le[me];me<=le.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+le[++me];xe.push(ge)}for(var ye=0;ye<xe.length;++ye)xe[ye]=xe[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Yo(xe.join(`\r
`))}function Ca(le,xe,me){for(var ge="",ye="",be="",Fe,He=0;He<10;++He){var $e=xe[He];if(!$e||$e.match(/^\s*$/))break;var Ve=$e.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":ge=Ve[2].trim();break;case"content-type":be=Ve[2].trim();break;case"content-transfer-encoding":ye=Ve[2].trim();break}}switch(++He,ye.toLowerCase()){case"base64":Fe=Yo($s(xe.slice(He).join("")));break;case"quoted-printable":Fe=Fn(xe.slice(He));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var We=ia(le,ge.slice(me.length),Fe,{unsafe:!0});be&&(We.ctype=be)}function Oi(le,xe){if(B(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=xe&&xe.root||"",ge=(wr&&Buffer.isBuffer(le)?le.toString("binary"):B(le)).split(`\r
`),ye=0,be="";for(ye=0;ye<ge.length;++ye)if(be=ge[ye],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),me||(me=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),be.slice(0,me.length)!=me););var Fe=(ge[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var He="--"+(Fe[1]||""),$e=[],Ve=[],We={FileIndex:$e,FullPaths:Ve};E(We);var ut,bt=0;for(ye=0;ye<ge.length;++ye){var Ct=ge[ye];Ct!==He&&Ct!==He+"--"||(bt++&&Ca(We,ge.slice(ut,ye),me),ut=ye)}return We}function Dt(le,xe){var me=xe||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],be=le.FullPaths[0],Fe=be,He=le.FileIndex[0],$e=1;$e<le.FullPaths.length;++$e)if(Fe=le.FullPaths[$e].slice(be.length),He=le.FileIndex[$e],!(!He.size||!He.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qt){return"_x"+qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qt){return"_u"+qt.charCodeAt(0).toString(16)+"_"});for(var Ve=He.content,We=wr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):B(Ve),ut=0,bt=Math.min(1024,We.length),Ct=0,mt=0;mt<=bt;++mt)(Ct=We.charCodeAt(mt))>=32&&Ct<128&&++ut;var St=ut>=bt*4/5;ye.push(ge),ye.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Fe),ye.push("Content-Transfer-Encoding: "+(St?"quoted-printable":"base64")),ye.push("Content-Type: "+Vt(He,Fe)),ye.push(""),ye.push(St?Ji(We):br(We))}return ye.push(ge+`--\r
`),ye.join(`\r
`)}function ii(le){var xe={};return E(xe,le),xe}function ia(le,xe,me,ge){var ye=ge&&ge.unsafe;ye||E(le);var be=!ye&&Cr.find(le,xe);if(!be){var Fe=le.FullPaths[0];xe.slice(0,Fe.length)==Fe?Fe=xe:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+xe).replace("//","/")),be={name:a(xe),type:2},le.FileIndex.push(be),le.FullPaths.push(Fe),ye||Cr.utils.cfb_gc(le)}return be.content=me,be.size=me?me.length:0,ge&&(ge.CLSID&&(be.clsid=ge.CLSID),ge.mt&&(be.mt=ge.mt),ge.ct&&(be.ct=ge.ct)),be}function $n(le,xe){E(le);var me=Cr.find(le,xe);if(me){for(var ge=0;ge<le.FileIndex.length;++ge)if(le.FileIndex[ge]==me)return le.FileIndex.splice(ge,1),le.FullPaths.splice(ge,1),!0}return!1}function On(le,xe,me){E(le);var ge=Cr.find(le,xe);if(ge){for(var ye=0;ye<le.FileIndex.length;++ye)if(le.FileIndex[ye]==ge)return le.FileIndex[ye].name=a(me),le.FullPaths[ye]=me,!0}return!1}function Tn(le){S(le,!0)}return t.find=T,t.read=O,t.parse=u,t.write=re,t.writeFile=q,t.utils={cfb_new:ii,cfb_add:ia,cfb_del:$n,cfb_mov:On,cfb_gc:Tn,ReadShift:Ig,CheckField:_z,prep_blob:Qa,bconcat:Vu,use_zlib:N,_deflateRaw:pt,_inflateRaw:kt,consts:te},t}();function Lfe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function zl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function BC(e){for(var t=[],r=zl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var hb=new Date(1899,11,30,0,0,0);function Yi(e,t){var r=e.getTime(),n=hb.getTime()+(e.getTimezoneOffset()-hb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var tz=new Date,Mfe=hb.getTime()+(tz.getTimezoneOffset()-hb.getTimezoneOffset())*6e4,iD=tz.getTimezoneOffset();function d5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Mfe),t.getTimezoneOffset()!==iD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-iD)*6e4),t}function Rfe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var sD=new Date("2017-02-19T19:06:09.000Z"),rz=isNaN(sD.getFullYear())?new Date("2/19/17"):sD,Ffe=rz.getFullYear()==2017;function $a(e,t){var r=new Date(e);if(Ffe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Yh(e,t){if(wr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ug(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ug(UU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ug(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ug(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ti(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ti(e[r]));return t}function Gn(e,t){for(var r="";r.length<t;)r+=e;return r}function nl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var $fe=["january","february","march","april","may","june","july","august","september","october","november","december"];function cp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&$fe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Bfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function nz(e){return e?e.content&&e.type?Yh(e.content,!0):e.data?og(e.data):e.asNodeBuffer&&wr?og(e.asNodeBuffer().toString("binary")):e.asBinary?og(e.asBinary()):e._data&&e._data.getContent?og(Yh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function az(e){if(!e)return null;if(e.data)return K8(e.data);if(e.asNodeBuffer&&wr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?K8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Vfe(e){return e&&e.name.slice(-4)===".bin"?az(e):nz(e)}function ao(e,t){for(var r=e.FullPaths||zl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function VC(e,t){var r=ao(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ua(e,t,r){if(!r)return Vfe(VC(e,t));if(!t)return null;try{return ua(e,t)}catch{return null}}function Os(e,t,r){if(!r)return nz(VC(e,t));if(!t)return null;try{return Os(e,t)}catch{return null}}function Ufe(e,t,r){return az(VC(e,t))}function oD(e){for(var t=e.FullPaths||zl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function zfe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return wr?n=sd(r):n=lfe(r),Cr.utils.cfb_add(e,t,n)}Cr.utils.cfb_add(e,t,r)}else e.file(t,r)}function iz(e,t){switch(t.type){case"base64":return Cr.read(e,{type:"base64"});case"binary":return Cr.read(e,{type:"binary"});case"buffer":case"array":return Cr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function cg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var sz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,qfe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,lD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Wfe=/<[^>]*>/g,Ni=sz.match(lD)?lD:Wfe,Hfe=/<\w*:/,Gfe=/<(\/?)\w+:/;function Jt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(qfe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function Wl(e){return e.replace(Gfe,"<$1")}var oz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Kfe=BC(oz),jr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return oz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Yfe=/[&<>'"]/g,Xfe=/[\u0000-\u001f]/g;function UC(e){var t=e+"";return t.replace(Yfe,function(r){return Kfe[r]}).replace(/\n/g,"<br/>").replace(Xfe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var cD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function En(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function kS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function uD(e){var t=Af(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function fD(e){return sd(e,"binary").toString("utf8")}var ox="foo bar bazâð£",mn=wr&&(fD(ox)==kS(ox)&&fD||uD(ox)==kS(ox)&&uD)||kS,ug=wr?function(e){return sd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},L1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),lz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Qfe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Jfe=/<\/?(?:vt:)?variant>/g,Zfe=/<(?:vt:)([^>]*)>([\s\S]*)</;function hD(e,t){var r=Jt(e),n=e.match(Qfe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Jfe,"").match(Zfe);s&&a.push({v:mn(s[2]),t:s[1]})}),a}var ehe=/(^\s|\s$|\n)/;function the(e){return zl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function rhe(e,t,r){return"<"+e+(r!=null?the(r):"")+(t!=null?(t.match(ehe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function zC(e){if(wr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return mn(od(RC(e)));throw new Error("Bad input format: expected Buffer or string")}var M1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,nhe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ahe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ihe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function she(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var dD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},pD=wr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:sd(t)})):dD(e)}:dD,mD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(mc(e,a)));return n.join("").replace(Ki,"")},qC=wr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ki,""):mD(e,t,r)}:mD,gD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},cz=wr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):gD(e,t,r)}:gD,vD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Xd(e,a)));return n.join("")},Hv=wr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):vD(t,r,n)}:vD,uz=function(e,t){var r=Ns(e,t);return r>0?Hv(e,t+4,t+4+r-1):""},fz=uz,hz=function(e,t){var r=Ns(e,t);return r>0?Hv(e,t+4,t+4+r-1):""},dz=hz,pz=function(e,t){var r=2*Ns(e,t);return r>0?Hv(e,t+4,t+4+r-1):""},mz=pz,gz=function(t,r){var n=Ns(t,r);return n>0?qC(t,r+4,r+4+n):""},vz=gz,yz=function(e,t){var r=Ns(e,t);return r>0?Hv(e,t+4,t+4+r):""},xz=yz,bz=function(e,t){return ihe(e,t)},db=bz,wz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};wr&&(fz=function(t,r){if(!Buffer.isBuffer(t))return uz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},dz=function(t,r){if(!Buffer.isBuffer(t))return hz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},mz=function(t,r){if(!Buffer.isBuffer(t))return pz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},vz=function(t,r){if(!Buffer.isBuffer(t))return gz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},xz=function(t,r){if(!Buffer.isBuffer(t))return yz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},db=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):bz(t,r)},wz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Xd=function(e,t){return e[t]},mc=function(e,t){return e[t+1]*256+e[t]},ohe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ns=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},gh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},lhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ig(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,wr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(mc(this,c)),c+=2;e*=2;break;case"utf8":r=Hv(this,this.l,this.l+e);break;case"utf16le":e*=2,r=qC(this,this.l,this.l+e);break;case"wstr":return Ig.call(this,e,"dbcs");case"lpstr-ansi":r=fz(this,this.l),e=4+Ns(this,this.l);break;case"lpstr-cp":r=dz(this,this.l),e=4+Ns(this,this.l);break;case"lpwstr":r=mz(this,this.l),e=4+2*Ns(this,this.l);break;case"lpp4":e=4+Ns(this,this.l),r=vz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ns(this,this.l),r=xz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Xd(this,this.l+e++))!==0;)i.push(sx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=mc(this,this.l+e))!==0;)i.push(sx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Xd(this,c),this.l=c+1,o=Ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(sx(mc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Xd(this,c),this.l=c+1,o=Ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(sx(Xd(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Xd(this,this.l),this.l++,n;case 2:return n=(t==="i"?ohe:mc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?gh:lhe)(this,this.l),this.l+=4,n):(a=Ns(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=db(this,this.l):a=db([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=cz(this,this.l,e);break}}return this.l+=e,r}var che=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},uhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},fhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function hhe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)fhe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,che(this,t,this.l);break;case 8:if(n=8,r==="f"){she(this,t,this.l);break}case 16:break;case-4:n=4,uhe(this,t,this.l);break}return this.l+=n,this}function _z(e,t){var r=cz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Qa(e,t){e.l=t,e.read_shift=Ig,e.chk=_z,e.write_shift=hhe}function Pi(e,t){e.l+=t}function ba(e){var t=Af(e);return Qa(t,0),t}function Xc(e,t,r){if(e){var n,a,i;Qa(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=xb[o]||xb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function vT(){var e=[],t=wr?256:2048,r=function(c){var u=ba(c);return Qa(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Vu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Dg(e,t,r){var n=ti(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function yD(e,t,r){var n=ti(e);return n.s=Dg(n.s,t.s,r),n.e=Dg(n.e,t.s,r),n}function jg(e,t){if(e.cRel&&e.c<0)for(e=ti(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ti(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ir(e);return!e.cRel&&e.cRel!=null&&(r=mhe(r)),!e.rRel&&e.rRel!=null&&(r=dhe(r)),r}function CS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Sa(e.s.c)+":"+(e.e.cRel?"":"$")+Sa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ri(e.s.r)+":"+(e.e.rRel?"":"$")+ri(e.e.r):jg(e.s,t.biff)+":"+jg(e.e,t.biff)}function WC(e){return parseInt(phe(e),10)-1}function ri(e){return""+(e+1)}function dhe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function phe(e){return e.replace(/\$(\d+)$/,"$1")}function HC(e){for(var t=ghe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Sa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function mhe(e){return e.replace(/^([A-Z])/,"$$$1")}function ghe(e){return e.replace(/^\$([A-Z])/,"$1")}function vhe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ui(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ir(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Yp(e){var t=e.indexOf(":");return t==-1?{s:Ui(e),e:Ui(e)}:{s:Ui(e.slice(0,t)),e:Ui(e.slice(t+1))}}function Pr(e,t){return typeof t>"u"||typeof t=="number"?Pr(e.s,e.e):(typeof e!="string"&&(e=ir(e)),typeof t!="string"&&(t=ir(t)),e==t?e:e+":"+t)}function Yn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function xD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=xo(e.z,r?Yi(t):t)}catch{}try{return e.w=xo((e.XF||{}).numFmtId||(r?14:0),r?Yi(t):t)}catch{return""+t}}function $c(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ud[e.v]||e.v:t==null?xD(e,e.v):xD(e,t))}function Lf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Sz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ui(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Yn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var d={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))d=t[f][h];else if(Array.isArray(d.v)&&(d.f=t[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||lr[14],n.cellDates?(d.t="d",d.w=xo(d.z,Yi(d.v))):(d.t="n",d.v=Yi(d.v),d.w=xo(d.z,d.v))):d.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(d.z=i[g][m].z),i[g][m]=d;else{var y=ir({c:m,r:g});i[y]&&i[y].z&&(d.z=i[y].z),i[y]=d}}}return c.s.c<1e7&&(i["!ref"]=Pr(c)),i}function Xp(e,t){return Sz(null,e,t)}function yhe(e){return e.read_shift(4,"i")}function ki(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xhe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function GC(e,t){var r=e.l,n=e.read_shift(1),a=ki(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(xhe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var bhe=GC;function wo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ld(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var whe=ki;function KC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var _he=ki,yT=KC;function YC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?db([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):gh(t,0)>>2;return r?a/100:a}function Az(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var cd=Az;function Ai(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function She(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=jh[a];c&&(t.rgb=F1(c));break;case 2:t.rgb=F1([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ahe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Tz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function The(e){return Tz(e,1)}function Ehe(e){return Tz(e,2)}var XC=2,ss=3,lx=11,bD=12,pb=19,cx=64,khe=65,Che=71,Phe=4108,Nhe=4126,Ia=80,Ez=81,Ohe=[Ia,Ez],Ihe={1:{n:"CodePage",t:XC},2:{n:"Category",t:Ia},3:{n:"PresentationFormat",t:Ia},4:{n:"ByteCount",t:ss},5:{n:"LineCount",t:ss},6:{n:"ParagraphCount",t:ss},7:{n:"SlideCount",t:ss},8:{n:"NoteCount",t:ss},9:{n:"HiddenCount",t:ss},10:{n:"MultimediaClipCount",t:ss},11:{n:"ScaleCrop",t:lx},12:{n:"HeadingPairs",t:Phe},13:{n:"TitlesOfParts",t:Nhe},14:{n:"Manager",t:Ia},15:{n:"Company",t:Ia},16:{n:"LinksUpToDate",t:lx},17:{n:"CharacterCount",t:ss},19:{n:"SharedDoc",t:lx},22:{n:"HyperlinksChanged",t:lx},23:{n:"AppVersion",t:ss,p:"version"},24:{n:"DigSig",t:khe},26:{n:"ContentType",t:Ia},27:{n:"ContentStatus",t:Ia},28:{n:"Language",t:Ia},29:{n:"Version",t:Ia},255:{},2147483648:{n:"Locale",t:pb},2147483651:{n:"Behavior",t:pb},1919054434:{}},Dhe={1:{n:"CodePage",t:XC},2:{n:"Title",t:Ia},3:{n:"Subject",t:Ia},4:{n:"Author",t:Ia},5:{n:"Keywords",t:Ia},6:{n:"Comments",t:Ia},7:{n:"Template",t:Ia},8:{n:"LastAuthor",t:Ia},9:{n:"RevNumber",t:Ia},10:{n:"EditTime",t:cx},11:{n:"LastPrinted",t:cx},12:{n:"CreatedDate",t:cx},13:{n:"ModifiedDate",t:cx},14:{n:"PageCount",t:ss},15:{n:"WordCount",t:ss},16:{n:"CharCount",t:ss},17:{n:"Thumbnail",t:Che},18:{n:"Application",t:Ia},19:{n:"DocSecurity",t:ss},255:{},2147483648:{n:"Locale",t:pb},2147483651:{n:"Behavior",t:pb},1919054434:{}},wD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},jhe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Lhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Mhe=Lhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jh=ti(Mhe),ud={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},_D={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Rhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Fhe(e){var t=Rhe();if(!e||!e.match)return t;var r={};if((e.match(Ni)||[]).forEach(function(n){var a=Jt(n);switch(a[0].replace(Hfe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[_D[a.ContentType]]!==void 0&&t[_D[a.ContentType]].push(a.PartName);break}}),t.xmlns!==nhe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var g0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function xT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Lg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ni)||[]).forEach(function(a){var i=Jt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:cg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var $he="application/vnd.oasis.opendocument.spreadsheet";function Bhe(e,t){for(var r=zC(e),n,a;n=M1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Jt(n[0],!1),a.path=="/"&&a.type!==$he)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Mg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Vhe=function(){for(var e=new Array(Mg.length),t=0;t<Mg.length;++t){var r=Mg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Cz(e){var t={};e=mn(e);for(var r=0;r<Mg.length;++r){var n=Mg[r],a=e.match(Vhe[r]);a!=null&&a.length>0&&(t[n[1]]=jr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=$a(t[n[1]]))}return t}var Uhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Pz(e,t,r,n){var a=[];if(typeof e=="string")a=hD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?hD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function zhe(e,t,r){var n={};return t||(t={}),e=mn(e),Uhe.forEach(function(a){var i=(e.match(L1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=jr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Pz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var qhe=/<[^>]+>[^<]*/g;function Whe(e,t){var r={},n="",a=e.match(qhe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Jt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=jr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=jr(u);break;case"bool":r[n]=En(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=$a(u);break;case"cy":case"error":r[n]=jr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Hhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},PS;function Ghe(e,t,r){PS||(PS=BC(Hhe)),t=PS[t]||t,e[t]=r}function QC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Nz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Oz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Iz(e,t,r){return t===31?Oz(e):Nz(e,t,r)}function bT(e,t,r){return Iz(e,t,r===!1?0:4)}function Khe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Iz(e,t,0)}function Yhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ki,""),e.l-a&2&&(e.l+=2)}return r}function Xhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ki,"");return r}function Qhe(e){var t=e.l,r=mb(e,Ez);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=mb(e,ss);return[r,n]}function Jhe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Qhe(e));return r}function SD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ki,"").replace(lg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Dz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Zhe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function mb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==bD&&n!==t&&Ohe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===bD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Nz(e,n,4).replace(Ki,"");case 31:return Oz(e);case 64:return QC(e);case 65:return Dz(e);case 71:return Zhe(e);case 80:return bT(e,n,!i.raw).replace(Ki,"");case 81:return Khe(e,n).replace(Ki,"");case 4108:return Jhe(e);case 4126:case 4127:return n==4127?Yhe(e):Xhe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function AD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(b,w){return b[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var d=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,d=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(d=!1,e.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=mb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Qo(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=mb(e,XC),Qo(o),l!==-1){var m=e.l;e.l=i[l][1],c=SD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=SD(e,o)}else{var y=c[i[s][0]],v;switch(e[e.l]){case 65:e.l+=4,v=Dz(e);break;case 30:e.l+=4,v=bT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=bT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=Jn(e,4);break;case 64:e.l+=4,v=$a(QC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=v}}return e.l=r+n,h}function TD(e,t,r){var n=e.content;if(!n)return{};Qa(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Cr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=AD(n,t),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=AD(n,null)}catch{}for(d in g)h[d]=g[d];return h.FMTID=[i,s],h}function Pu(e,t){return e.read_shift(t),null}function ede(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Jn(e,t){return e.read_shift(t)===1}function fa(e){return e.read_shift(2,"u")}function jz(e,t){return ede(e,t,fa)}function tde(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Gv(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function rde(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Xh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Kv(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Xh(e,n,r)}function fd(e,t,r){if(r.biff>5)return Kv(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function nde(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function ade(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ki,"");return n&&(e.l+=24),a}function ide(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Ki,"");return r+s}function sde(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return ade(e);case"0303000000000000c000000000000046":return ide(e);default:throw new Error("Unsupported Moniker "+r)}}function ux(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ki,""):"";return r}function ode(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=ux(e,r-e.l)),a&128&&(s=ux(e,r-e.l)),(a&257)===257&&(o=ux(e,r-e.l)),(a&257)===1&&(l=sde(e,r-e.l)),a&8&&(c=ux(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=QC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function Lz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Mz(e,t){var r=Lz(e);return r[3]=0,r}function Hl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function lde(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function cde(e,t,r){return t===0?"":fd(e,t,r)}function ude(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Rz(e){var t=e.read_shift(2),r=YC(e);return[t,r]}function fde(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Gv(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function p5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Fz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var hde=Fz;function $z(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function dde(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function pde(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ui(e){e.l+=2,e.l+=e.read_shift(2)}var mde={0:ui,4:ui,5:ui,6:ui,7:pde,8:ui,9:ui,10:ui,11:ui,12:ui,13:dde,14:ui,15:ui,16:ui,17:ui,18:ui,19:ui,20:ui,21:$z};function gde(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(mde[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function fx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function vde(e,t){return t===0||e.read_shift(2),1200}function yde(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=fd(e,0,r);return e.read_shift(t+n-e.l),a}function xde(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function bde(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Gv(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function wde(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(rde(e));return i.Count=n,i.Unique=a,i}function _de(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Sde(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Ade(e){var t=lde(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Tde(e){return e.read_shift(2),e.read_shift(4)}function ED(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Ede(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function kde(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Cde(){}function Pde(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Gv(e,0,r),n}function Nde(e){var t=Hl(e);return t.isst=e.read_shift(4),t}function Ode(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Hl(e);r.biff==2&&e.l++;var i=Kv(e,n-e.l,r);return a.val=i,a}function Ide(e,t,r){var n=e.read_shift(2),a=fd(e,0,r);return[n,a]}var Dde=fd;function kD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function jde(e){var t=e.read_shift(2),r=e.read_shift(2),n=Rz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Lde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Rz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Mde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Rde(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=jhe[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Fde(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Rde(e,t,n.fStyle,r),n}function $de(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function CD(e,t,r){var n=Hl(e);(r.biff==2||t==9)&&++e.l;var a=tde(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Bde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Hl(e),a=Ai(e);return n.val=a,n}var PD=cde;function Vde(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Xh(e,i),o=[];n>e.l;)o.push(Kv(e));return[i,a,s,o]}function ND(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=fde(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Ude=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function OD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Xh(e,s,r);a&32&&(c=Ude[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:Sge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Bz(e,t,r){if(r.biff<8)return zde(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ude(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function zde(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Gv(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function qde(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Xh(e,n,r),s=Xh(e,a,r);return[i,s]}function Wde(e,t,r){var n=Fz(e);e.l++;var a=e.read_shift(1);return t-=8,[Age(e,t,r),a,n]}function ID(e,t,r){var n=hde(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,wge(e,t,r)]}function Hde(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Gde(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=fd(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Kde(e,t,r){return Gde(e,t,r)}function Yde(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(p5(e));return r}function Xde(e,t,r){if(r&&r.biff<8)return Jde(e,t,r);var n=$z(e),a=gde(e,t-22,n[1]);return{cmo:n,ft:a}}var Qde={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Jde(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Qde[n]||Pi)(e,t,r)),{cmo:[a,n,i],ft:s}}function Zde(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=nde(e,6,r);var o=e.read_shift(2);e.read_shift(2),fa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Xh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function e0e(e,t){var r=p5(e);e.l+=16;var n=ode(e,t-24);return[r,n]}function t0e(e,t){e.read_shift(2);var r=p5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ki,""),[r,n]}function r0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=wD[r]||r,r=e.read_shift(2),t[1]=wD[r]||r,t}function n0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Mz(e));return r}function a0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Mz(e));return r}function i0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Vz(e,t,r){if(!r.cellStyles)return Pi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function s0e(e,t){var r={};return t<32||(e.l+=16,r.header=Ai(e),r.footer=Ai(e),e.l+=2),r}function o0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var l0e=Hl,c0e=jz,u0e=Kv;function f0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function h0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Hl(e);++e.l;var a=fd(e,t-7,r);return n.t="str",n.val=a,n}function d0e(e){var t=Hl(e);++e.l;var r=Ai(e);return t.t="n",t.val=r,t}function p0e(e){var t=Hl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function m0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function g0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function v0e(e,t,r){var n=e.l+t,a=Hl(e),i=e.read_shift(2),s=Xh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var y0e=[2,3,48,49,131,139,140,245],DD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=BC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Af(1);switch(l.type){case"base64":u=Yo($s(o));break;case"binary":u=Yo(o);break;case"buffer":case"array":u=o;break}Qa(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,y=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(y=u.read_shift(2));var v=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var w=[],D={},P=Math.min(u.length,f==2?521:y-10-(d?264:0)),O=g?32:11;u.l<P&&u[u.l]!=13;)switch(D={},D.name=Bu.utils.decode(b,u.slice(u.l,u.l+O)).replace(/[\u0000\r\n].*$/g,""),u.l+=O,D.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),f==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&w.push(D),f!=2&&(u.l+=g?13:14),D.type){case"B":(!d||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var E=0,A=0;for(c[0]=[],A=0;A!=w.length;++A)c[0][A]=w[A].name;for(;m-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,c[++E]=[],A=0,A=0;A!=w.length;++A){var S=u.slice(u.l,u.l+w[A].len);u.l+=w[A].len,Qa(S,0);var I=Bu.utils.decode(b,S);switch(w[A].type){case"C":I.trim().length&&(c[E][A]=I.replace(/\s+$/,""));break;case"D":I.length===8?c[E][A]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):c[E][A]=I;break;case"F":c[E][A]=parseFloat(I.trim());break;case"+":case"I":c[E][A]=g?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":c[E][A]=!0;break;case"N":case"F":c[E][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][A]="##MEMO##"+(g?parseInt(I.trim(),10):S.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(c[E][A]=+I||0);break;case"@":c[E][A]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[E][A]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[E][A]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][A]=-S.read_shift(-8,"f");break;case"B":if(d&&w[A].len==8){c[E][A]=S.read_shift(8,"f");break}case"G":case"P":S.l+=w[A].len;break;case"0":if(w[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Xp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Lf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Qo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=vT(),f=kT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),g=o["!cols"]||[],m=0,y=0,v=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++v;continue}if(h[m]!=null){if(++v,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(y=0;y<1024;++y)if(h.indexOf(h[m]+"_"+y)==-1){h[m]+="_"+y;break}}}}var w=Yn(o["!ref"]),D=[],P=[],O=[];for(m=0;m<=w.e.c-w.s.c;++m){var E="",A="",S=0,I=[];for(y=0;y<d.length;++y)d[y][m]!=null&&I.push(d[y][m]);if(I.length==0||h[m]==null){D[m]="?";continue}for(y=0;y<I.length;++y){switch(typeof I[y]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=I[y]instanceof Date?"D":"C";break;default:A="C"}S=Math.max(S,String(I[y]).length),E=E&&E!=A?"C":A}S>250&&(S=250),A=((g[m]||{}).DBF||{}).type,A=="C"&&g[m].DBF.len>S&&(S=g[m].DBF.len),E=="B"&&A=="N"&&(E="N",O[m]=g[m].DBF.dec,S=g[m].DBF.len),P[m]=E=="C"||A=="N"?S:i[E]||0,b+=P[m],D[m]=E}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,d.length),T.write_shift(2,296+32*v),T.write_shift(2,b),m=0;m<4;++m)T.write_shift(4,0);for(T.write_shift(4,0|(+t[BU]||3)<<8),m=0,y=0;m<h.length;++m)if(h[m]!=null){var C=u.next(32),L=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,L,"sbcs"),C.write_shift(1,D[m]=="?"?"C":D[m],"sbcs"),C.write_shift(4,y),C.write_shift(1,P[m]||i[D[m]]||0),C.write_shift(1,O[m]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),y+=P[m]||i[D[m]]||0}var H=u.next(264);for(H.write_shift(4,13),m=0;m<65;++m)H.write_shift(4,0);for(m=0;m<d.length;++m){var V=u.next(b);for(V.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(D[y]){case"L":V.write_shift(1,d[m][y]==null?63:d[m][y]?84:70);break;case"B":V.write_shift(8,d[m][y]||0,"f");break;case"N":var J="0";for(typeof d[m][y]=="number"&&(J=d[m][y].toFixed(O[y]||0)),v=0;v<P[y]-J.length;++v)V.write_shift(1,32);V.write_shift(1,J,"sbcs");break;case"D":d[m][y]?(V.write_shift(4,("0000"+d[m][y].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(d[m][y].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+d[m][y].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var te=String(d[m][y]!=null?d[m][y]:"").slice(0,P[y]);for(V.write_shift(1,te,"sbcs"),v=0;v<P[y]-te.length;++v)V.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),x0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+zl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var g=e[d];return typeof g=="number"?Y8(g):g},n=function(h,d,g){var m=d.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:Y8(m)};e["|"]=254;function a(h,d){switch(d.type){case"base64":return i($s(h),d);case"binary":return i(h,d);case"buffer":return i(wr&&Buffer.isBuffer(h)?h.toString("binary"):od(h),d);case"array":return i(Yh(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var g=h.split(/[\n\r]+/),m=-1,y=-1,v=0,b=0,w=[],D=[],P=null,O={},E=[],A=[],S=[],I=0,T;for(+d.codepage>=0&&Qo(+d.codepage);v!==g.length;++v){I=0;var C=g[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=C.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),H=L[0],V;if(C.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&D.push(C.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,te=!1,q=!1,B=!1,re=-1,ee=-1;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"A":break;case"X":y=parseInt(L[b].slice(1))-1,te=!0;break;case"Y":for(m=parseInt(L[b].slice(1))-1,te||(y=0),T=w.length;T<=m;++T)w[T]=[];break;case"K":V=L[b].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(nl(V))?isNaN(cp(V).getDate())||(V=$a(V)):(V=nl(V),P!==null&&Kp(P)&&(V=d5(V))),J=!0;break;case"E":B=!0;var N=N0(L[b].slice(1),{r:m,c:y});w[m][y]=[w[m][y],N];break;case"S":q=!0,w[m][y]=[w[m][y],"S5S"];break;case"G":break;case"R":re=parseInt(L[b].slice(1))-1;break;case"C":ee=parseInt(L[b].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+C)}if(J&&(w[m][y]&&w[m][y].length==2?w[m][y][0]=V:w[m][y]=V,P=null),q){if(B)throw new Error("SYLK shared formula cannot have own formula");var R=re>-1&&w[re][ee];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");w[m][y][1]=Qz(R[1],{r:m-re,c:y-ee})}break;case"F":var z=0;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"X":y=parseInt(L[b].slice(1))-1,++z;break;case"Y":for(m=parseInt(L[b].slice(1))-1,T=w.length;T<=m;++T)w[T]=[];break;case"M":I=parseInt(L[b].slice(1))/20;break;case"F":break;case"G":break;case"P":P=D[parseInt(L[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=L[b].slice(1).split(" "),T=parseInt(S[0],10);T<=parseInt(S[1],10);++T)I=parseInt(S[2],10),A[T-1]=I===0?{hidden:!0}:{wch:I},up(A[T-1]);break;case"C":y=parseInt(L[b].slice(1))-1,A[y]||(A[y]={});break;case"R":m=parseInt(L[b].slice(1))-1,E[m]||(E[m]={}),I>0?(E[m].hpt=I,E[m].hpx=$1(I)):I===0&&(E[m].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+C)}z<1&&(P=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+C)}}return E.length>0&&(O["!rows"]=E),A.length>0&&(O["!cols"]=A),d&&d.sheetRows&&(w=w.slice(0,d.sheetRows)),[w,O]}function s(h,d){var g=a(h,d),m=g[0],y=g[1],v=Xp(m,d);return zl(y).forEach(function(b){v[b]=y[b]}),v}function o(h,d){return Lf(s(h,d),d)}function l(h,d,g,m){var y="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+ime(h.f,{r:g,c:m}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,d){d.forEach(function(g,m){var y="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=vb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=yb(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,d){d.forEach(function(g,m){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*Kz(g.hpx)+";"),y.length>2&&h.push(y+"R"+(m+1))})}function f(h,d){var g=["ID;PWXL;N;E"],m=[],y=Yn(h["!ref"]),v,b=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var D=y.s.r;D<=y.e.r;++D)for(var P=y.s.c;P<=y.e.c;++P){var O=ir({r:D,c:P});v=b?(h[D]||[])[P]:h[O],!(!v||v.v==null&&(!v.f||v.F))&&m.push(l(v,h,D,P))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),b0e=function(){function e(i,s){switch(s.type){case"base64":return t($s(i),s);case"binary":return t(i,s);case"buffer":return t(wr&&Buffer.isBuffer(i)?i.toString("binary"):od(i),s);case"array":return t(Yh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+d){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(nl(g))?isNaN(cp(g).getDate())?f[l][c]=g:f[l][c]=$a(g):f[l][c]=nl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Xp(e(i,s),s)}function n(i,s){return Lf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Yn(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=ir({r:d,c:g});if(f=h?(l[d]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,y,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=xo(f.z||lr[14],Yi($a(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var v=`\r
`,b=c.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),w0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var d=f.split(`
`),g=-1,m=-1,y=0,v=[];y!==d.length;++y){var b=d[y].trim().split(":");if(b[0]==="cell"){var w=Ui(b[1]);if(v.length<=w.r)for(g=v.length;g<=w.r;++g)v[g]||(v[g]=[]);switch(g=w.r,m=w.c,b[2]){case"t":v[g][m]=e(b[3]);break;case"v":v[g][m]=+b[3];break;case"vtf":var D=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[g][m]=!!+b[4];break;default:v[g][m]=+b[4];break}b[2]=="vtf"&&(v[g][m]=[v[g][m],D])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return Xp(r(f,h),h)}function a(f,h){return Lf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],g,m="",y=Yp(f["!ref"]),v=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var w=y.s.c;w<=y.e.c;++w)if(m=ir({r:b,c:w}),g=v?(f[b]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(d=["cell",m,"t"],g.t){case"s":case"str":d.push(t(g.v));break;case"n":g.f?(d[2]="vtf",d[3]="n",d[4]=g.v,d[5]=t(g.f)):(d[2]="v",d[3]=g.v);break;case"b":d[2]="vt"+(g.f?"f":"c"),d[3]="nl",d[4]=g.v?"1":"0",d[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=Yi($a(g.v));d[2]="vtc",d[3]="nd",d[4]=""+D,d[5]=g.w||xo(g.z||lr[14],D);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),R1=function(){function e(u,f,h,d,g){g.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(nl(u))?isNaN(cp(u).getDate())?f[h][d]=u:f[h][d]=$a(u):f[h][d]=nl(u))}function t(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var y=10,v=0,b=0;b<=m;++b)v=g[b].indexOf(" "),v==-1?v=g[b].length:v++,y=Math.max(y,v);for(b=0;b<=m;++b){d[b]=[];var w=0;for(e(g[b].slice(0,y).trim(),d,b,w,h),w=1;w<=(g[b].length-y)/10+1;++w)e(g[b].slice(y+(w-1)*10,y+w*10).trim(),d,b,w,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,g=0;d<u.length;++d)(g=u.charCodeAt(d))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d]);if(!g.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d])}return g.sort(function(m,y){return m[0]-y[0]||n[m[1]]-n[y[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},d="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var y=0,v=0,b=0,w=0,D=0,P=d.charCodeAt(0),O=!1,E=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=h.dateNF!=null?Ife(h.dateNF):null;function I(){var T=u.slice(w,D),C={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)C.t="z";else if(h.raw)C.t="s",C.v=T;else if(T.trim().length===0)C.t="s",C.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(C.t="s",C.v=T.slice(2,-1).replace(/""/g,'"')):ome(T)?(C.t="n",C.f=T.slice(1)):(C.t="s",C.v=T);else if(T=="TRUE")C.t="b",C.v=!0;else if(T=="FALSE")C.t="b",C.v=!1;else if(!isNaN(b=nl(T)))C.t="n",h.cellText!==!1&&(C.w=T),C.v=b;else if(!isNaN(cp(T).getDate())||S&&T.match(S)){C.z=h.dateNF||lr[14];var L=0;S&&T.match(S)&&(T=Dfe(T,h.dateNF,T.match(S)||[]),L=1),h.cellDates?(C.t="d",C.v=$a(T,L)):(C.t="n",C.v=Yi($a(T,L))),h.cellText!==!1&&(C.w=xo(C.z,C.v instanceof Date?Yi(C.v):C.v)),h.cellNF||delete C.z}else C.t="s",C.v=T;if(C.t=="z"||(h.dense?(g[y]||(g[y]=[]),g[y][v]=C):g[ir({c:v,r:y})]=C),w=D+1,A=u.charCodeAt(w),m.e.c<v&&(m.e.c=v),m.e.r<y&&(m.e.r=y),E==P)++v;else if(v=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;D<u.length;++D)switch(E=u.charCodeAt(D)){case 34:A===34&&(O=!O);break;case P:case 10:case 13:if(!O&&I())break e;break}return D-w>0&&I(),g["!ref"]=Pr(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Xp(t(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:iP(u,f);switch(f.type){case"base64":h=$s(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Bu<"u"?h=Bu.utils.decode(f.codepage,u):h=wr&&Buffer.isBuffer(u)?u.toString("binary"):od(u);break;case"array":h=Yh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=mn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=mn(h):f.type=="binary"&&typeof Bu<"u"&&f.codepage&&(h=Bu.utils.decode(f.codepage,Bu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?w0e.to_sheet(f.type=="string"?h:mn(h),f):s(h,f)}function l(u,f){return Lf(o(u,f),f)}function c(u){for(var f=[],h=Yn(u["!ref"]),d,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var y=[],v=h.s.c;v<=h.e.c;++v){var b=ir({r:m,c:v});if(d=g?(u[m]||[])[v]:u[b],!d||d.v==null){y.push("          ");continue}for(var w=(d.w||($c(d),d.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(v===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function _0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=x0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return R1.to_workbook(e,t)}}var Rg=function(){function e(N,R,z){if(N){Qa(N,N.l||0);for(var X=z.Enum||re;N.l<N.length;){var G=N.read_shift(2),Z=X[G]||X[65535],se=N.read_shift(2),K=N.l+se,oe=Z.f&&Z.f(N,se,z);if(N.l=K,R(oe,Z,G))return}}}function t(N,R){switch(R.type){case"base64":return r(Yo($s(N)),R);case"binary":return r(Yo(N),R);case"buffer":case"array":return r(N,R)}throw"Unsupported type "+R.type}function r(N,R){if(!N)return N;var z=R||{},X=z.dense?[]:{},G="Sheet1",Z="",se=0,K={},oe=[],fe=[],W={s:{r:0,c:0},e:{r:0,c:0}},_e=z.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)z.Enum=re,e(N,function(ke,Le,Be){switch(Be){case 0:z.vers=ke,ke>=4096&&(z.qpro=!0);break;case 6:W=ke;break;case 204:ke&&(Z=ke);break;case 222:Z=ke;break;case 15:case 51:z.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:Be==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=z.dateNF||lr[14],z.cellDates&&(ke[1].t="d",ke[1].v=d5(ke[1].v))),z.qpro&&ke[3]>se&&(X["!ref"]=Pr(W),K[G]=X,oe.push(G),X=z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},se=ke[3],G=Z||"Sheet"+(se+1),Z="");var Xe=z.dense?(X[ke[0].r]||[])[ke[0].c]:X[ir(ke[0])];if(Xe){Xe.t=ke[1].t,Xe.v=ke[1].v,ke[1].z!=null&&(Xe.z=ke[1].z),ke[1].f!=null&&(Xe.f=ke[1].f);break}z.dense?(X[ke[0].r]||(X[ke[0].r]=[]),X[ke[0].r][ke[0].c]=ke[1]):X[ir(ke[0])]=ke[1];break}},z);else if(N[2]==26||N[2]==14)z.Enum=ee,N[2]==14&&(z.qpro=!0,N.l=0),e(N,function(ke,Le,Be){switch(Be){case 204:G=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>se&&(X["!ref"]=Pr(W),K[G]=X,oe.push(G),X=z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},se=ke[3],G="Sheet"+(se+1)),_e>0&&ke[0].r>=_e)break;z.dense?(X[ke[0].r]||(X[ke[0].r]=[]),X[ke[0].r][ke[0].c]=ke[1]):X[ir(ke[0])]=ke[1],W.e.c<ke[0].c&&(W.e.c=ke[0].c),W.e.r<ke[0].r&&(W.e.r=ke[0].r);break;case 27:ke[14e3]&&(fe[ke[14e3][0]]=ke[14e3][1]);break;case 1537:fe[ke[0]]=ke[1],ke[0]==se&&(G=ke[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(X["!ref"]=Pr(W),K[Z||G]=X,oe.push(Z||G),!fe.length)return{SheetNames:oe,Sheets:K};for(var Ae={},Se=[],ie=0;ie<fe.length;++ie)K[oe[ie]]?(Se.push(fe[ie]||oe[ie]),Ae[fe[ie]]=K[fe[ie]]||K[oe[ie]]):(Se.push(fe[ie]),Ae[fe[ie]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Ae}}function n(N,R){var z=R||{};if(+z.codepage>=0&&Qo(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var X=vT(),G=Yn(N["!ref"]),Z=Array.isArray(N),se=[];Mo(X,0,i(1030)),Mo(X,6,l(G));for(var K=Math.min(G.e.r,8191),oe=G.s.r;oe<=K;++oe)for(var fe=ri(oe),W=G.s.c;W<=G.e.c;++W){oe===G.s.r&&(se[W]=Sa(W));var _e=se[W]+fe,Ae=Z?(N[oe]||[])[W]:N[_e];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")(Ae.v|0)==Ae.v&&Ae.v>=-32768&&Ae.v<=32767?Mo(X,13,d(oe,W,Ae.v)):Mo(X,14,m(oe,W,Ae.v));else{var Se=$c(Ae);Mo(X,15,f(oe,W,Se.slice(0,239)))}}return Mo(X,1),X.end()}function a(N,R){var z=R||{};if(+z.codepage>=0&&Qo(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var X=vT();Mo(X,0,s(N));for(var G=0,Z=0;G<N.SheetNames.length;++G)(N.Sheets[N.SheetNames[G]]||{})["!ref"]&&Mo(X,27,B(N.SheetNames[G],Z++));var se=0;for(G=0;G<N.SheetNames.length;++G){var K=N.Sheets[N.SheetNames[G]];if(!(!K||!K["!ref"])){for(var oe=Yn(K["!ref"]),fe=Array.isArray(K),W=[],_e=Math.min(oe.e.r,8191),Ae=oe.s.r;Ae<=_e;++Ae)for(var Se=ri(Ae),ie=oe.s.c;ie<=oe.e.c;++ie){Ae===oe.s.r&&(W[ie]=Sa(ie));var ke=W[ie]+Se,Le=fe?(K[Ae]||[])[ie]:K[ke];if(!(!Le||Le.t=="z"))if(Le.t=="n")Mo(X,23,I(Ae,ie,se,Le.v));else{var Be=$c(Le);Mo(X,22,E(Ae,ie,se,Be.slice(0,239)))}}++se}}return Mo(X,1),X.end()}function i(N){var R=ba(2);return R.write_shift(2,N),R}function s(N){var R=ba(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var z=0,X=0,G=0,Z=0;Z<N.SheetNames.length;++Z){var se=N.SheetNames[Z],K=N.Sheets[se];if(!(!K||!K["!ref"])){++G;var oe=Yp(K["!ref"]);z<oe.e.r&&(z=oe.e.r),X<oe.e.c&&(X=oe.e.c)}}return z>8191&&(z=8191),R.write_shift(2,z),R.write_shift(1,G),R.write_shift(1,X),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(N,R,z){var X={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&z.qpro?(X.s.c=N.read_shift(1),N.l++,X.s.r=N.read_shift(2),X.e.c=N.read_shift(1),N.l++,X.e.r=N.read_shift(2),X):(X.s.c=N.read_shift(2),X.s.r=N.read_shift(2),R==12&&z.qpro&&(N.l+=2),X.e.c=N.read_shift(2),X.e.r=N.read_shift(2),R==12&&z.qpro&&(N.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function l(N){var R=ba(8);return R.write_shift(2,N.s.c),R.write_shift(2,N.s.r),R.write_shift(2,N.e.c),R.write_shift(2,N.e.r),R}function c(N,R,z){var X=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(X[0].c=N.read_shift(1),X[3]=N.read_shift(1),X[0].r=N.read_shift(2),N.l+=2):(X[2]=N.read_shift(1),X[0].c=N.read_shift(2),X[0].r=N.read_shift(2)),X}function u(N,R,z){var X=N.l+R,G=c(N,R,z);if(G[1].t="s",z.vers==20768){N.l++;var Z=N.read_shift(1);return G[1].v=N.read_shift(Z,"utf8"),G}return z.qpro&&N.l++,G[1].v=N.read_shift(X-N.l,"cstr"),G}function f(N,R,z){var X=ba(7+z.length);X.write_shift(1,255),X.write_shift(2,R),X.write_shift(2,N),X.write_shift(1,39);for(var G=0;G<X.length;++G){var Z=z.charCodeAt(G);X.write_shift(1,Z>=128?95:Z)}return X.write_shift(1,0),X}function h(N,R,z){var X=c(N,R,z);return X[1].v=N.read_shift(2,"i"),X}function d(N,R,z){var X=ba(7);return X.write_shift(1,255),X.write_shift(2,R),X.write_shift(2,N),X.write_shift(2,z,"i"),X}function g(N,R,z){var X=c(N,R,z);return X[1].v=N.read_shift(8,"f"),X}function m(N,R,z){var X=ba(13);return X.write_shift(1,255),X.write_shift(2,R),X.write_shift(2,N),X.write_shift(8,z,"f"),X}function y(N,R,z){var X=N.l+R,G=c(N,R,z);if(G[1].v=N.read_shift(8,"f"),z.qpro)N.l=X;else{var Z=N.read_shift(2);D(N.slice(N.l,N.l+Z),G),N.l+=Z}return G}function v(N,R,z){var X=R&32768;return R&=-32769,R=(X?N:0)+(R>=8192?R-16384:R),(X?"":"$")+(z?Sa(R):ri(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(N,R){Qa(N,0);for(var z=[],X=0,G="",Z="",se="",K="";N.l<N.length;){var oe=N[N.l++];switch(oe){case 0:z.push(N.read_shift(8,"f"));break;case 1:Z=v(R[0].c,N.read_shift(2),!0),G=v(R[0].r,N.read_shift(2),!1),z.push(Z+G);break;case 2:{var fe=v(R[0].c,N.read_shift(2),!0),W=v(R[0].r,N.read_shift(2),!1);Z=v(R[0].c,N.read_shift(2),!0),G=v(R[0].r,N.read_shift(2),!1),z.push(fe+W+":"+Z+G)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(N.read_shift(2));break;case 6:{for(var _e="";oe=N[N.l++];)_e+=String.fromCharCode(oe);z.push('"'+_e.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:K=z.pop(),se=z.pop(),z.push(["AND","OR"][oe-20]+"("+se+","+K+")");break;default:if(oe<32&&w[oe])K=z.pop(),se=z.pop(),z.push(se+w[oe]+K);else if(b[oe]){if(X=b[oe][1],X==69&&(X=N[N.l++]),X>z.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+z.join("|")+"|");return}var Ae=z.slice(-X);z.length-=X,z.push(b[oe][0]+"("+Ae.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}z.length==1?R[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function P(N){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=N.read_shift(2),R[3]=N[N.l++],R[0].c=N[N.l++],R}function O(N,R){var z=P(N);return z[1].t="s",z[1].v=N.read_shift(R-4,"cstr"),z}function E(N,R,z,X){var G=ba(6+X.length);G.write_shift(2,N),G.write_shift(1,z),G.write_shift(1,R),G.write_shift(1,39);for(var Z=0;Z<X.length;++Z){var se=X.charCodeAt(Z);G.write_shift(1,se>=128?95:se)}return G.write_shift(1,0),G}function A(N,R){var z=P(N);z[1].v=N.read_shift(2);var X=z[1].v>>1;if(z[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return z[1].v=X,z}function S(N,R){var z=P(N),X=N.read_shift(4),G=N.read_shift(4),Z=N.read_shift(2);if(Z==65535)return X===0&&G===3221225472?(z[1].t="e",z[1].v=15):X===0&&G===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var se=Z&32768;return Z=(Z&32767)-16446,z[1].v=(1-se*2)*(G*Math.pow(2,Z+32)+X*Math.pow(2,Z)),z}function I(N,R,z,X){var G=ba(14);if(G.write_shift(2,N),G.write_shift(1,z),G.write_shift(1,R),X==0)return G.write_shift(4,0),G.write_shift(4,0),G.write_shift(2,65535),G;var Z=0,se=0,K=0,oe=0;return X<0&&(Z=1,X=-X),se=Math.log2(X)|0,X/=Math.pow(2,se-31),oe=X>>>0,oe&2147483648||(X/=2,++se,oe=X>>>0),X-=oe,oe|=2147483648,oe>>>=0,X*=Math.pow(2,32),K=X>>>0,G.write_shift(4,K),G.write_shift(4,oe),se+=16383+(Z?32768:0),G.write_shift(2,se),G}function T(N,R){var z=S(N);return N.l+=R-14,z}function C(N,R){var z=P(N),X=N.read_shift(4);return z[1].v=X>>6,z}function L(N,R){var z=P(N),X=N.read_shift(8,"f");return z[1].v=X,z}function H(N,R){var z=L(N);return N.l+=R-10,z}function V(N,R){return N[N.l+R-1]==0?N.read_shift(R,"cstr"):""}function J(N,R){var z=N[N.l++];z>R-1&&(z=R-1);for(var X="";X.length<z;)X+=String.fromCharCode(N[N.l++]);return X}function te(N,R,z){if(!(!z.qpro||R<21)){var X=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var G=N.read_shift(R-21,"cstr");return[X,G]}}function q(N,R){for(var z={},X=N.l+R;N.l<X;){var G=N.read_shift(2);if(G==14e3){for(z[G]=[0,""],z[G][0]=N.read_shift(2);N[N.l];)z[G][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return z}function B(N,R){var z=ba(5+N.length);z.write_shift(2,14e3),z.write_shift(2,R);for(var X=0;X<N.length;++X){var G=N.charCodeAt(X);z[z.l++]=G>127?95:G}return z[z.l++]=0,z}var re={0:{n:"BOF",f:fa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function S0e(e){var t={},r=e.match(Ni),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Jt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=LC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var A0e=function(){var e=L1("t"),t=L1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:jr(s[1])},l=i.match(t);return l&&(o.s=S0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),T0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),E0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,k0e=/<(?:\w+:)?r>/,C0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function JC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=jr(mn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=mn(e),r&&(n.h=UC(n.t))):e.match(k0e)&&(n.r=mn(e),n.t=jr(mn((e.replace(C0e,"").match(E0e)||[]).join("").replace(Ni,""))),r&&(n.h=T0e(A0e(n.r)))),n):{t:""}}var P0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,N0e=/<(?:\w+:)?(?:si|sstItem)>/g,O0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function I0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(P0e);if(a){n=a[2].replace(N0e,"").split(O0e);for(var i=0;i!=n.length;++i){var s=JC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Jt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function D0e(e){return[e.read_shift(4),e.read_shift(4)]}function j0e(e,t){var r=[],n=!1;return Xc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Uz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function _c(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function L0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=_c(e,4),t.U=_c(e,4),t.W=_c(e,4),t}function M0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function R0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(M0e(e));return t}function F0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function $0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=_c(e,4),t.U=_c(e,4),t.W=_c(e,4),t}function B0e(e){var t=$0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function zz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function qz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function V0e(e){var t=_c(e);switch(t.Minor){case 2:return[t.Minor,U0e(e)];case 3:return[t.Minor,z0e()];case 4:return[t.Minor,q0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function U0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=zz(e,r),a=qz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function z0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function q0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ni,function(i){var s=Jt(i);switch(Wl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function W0e(e,t){var r={},n=r.EncryptionVersionInfo=_c(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=zz(e,a),t-=a,r.EncryptionVerifier=qz(e,t),r}function H0e(e){var t={},r=t.EncryptionVersionInfo=_c(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function G0e(e){var t=0,r,n=Uz(e),a=n.length+1,i,s,o,l,c;for(r=Af(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Wz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Uz(s),l=i(o),c=o.length,u=Af(16),f=0;f!=16;++f)u[f]=0;var h,d,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),K0e=function(e,t,r,n,a){a||(a=t),n||(n=Wz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Y0e=function(e){var t=0,r=Wz(e);return function(n){var a=K0e("",n,t,r);return t=a[1],a[0]}};function X0e(e,t,r,n){var a={key:fa(e),verificationBytes:fa(e)};return r.password&&(a.verifier=G0e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Y0e(r.password)),a}function Q0e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=H0e(e):n.Data=W0e(e,t),n}function J0e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Q0e(e,t-2,n):X0e(e,r.biff>=8?t:t-2,r,n),n}var Z0e=function(){function e(a,i){switch(i.type){case"base64":return t($s(a),i);case"binary":return t(a,i);case"buffer":return t(wr&&Buffer.isBuffer(a)?a.toString("binary"):od(a),i);case"array":return t(Yh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var y=u.slice(d,h.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++m,y.length){var v={v:y,t:"s"};Array.isArray(o)?o[f][m]=v:o[ir({r:f,c:m})]=v}break}d=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=Pr(c),o}function r(a,i){return Lf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Yn(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=ir({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||($c(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function epe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function F1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function tpe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function rpe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function gb(e,t){if(t===0)return e;var r=tpe(epe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),F1(rpe(r))}var Hz=6,npe=15,ape=1,Bi=Hz;function vb(e){return Math.floor((e+Math.round(128/Bi)/256)*Bi)}function yb(e){return Math.floor((e-5)/Bi*100+.5)/100}function wT(e){return Math.round((e*Bi+5)/Bi*256)/256}function NS(e){return wT(yb(vb(e)))}function ZC(e){var t=Math.abs(e-NS(e)),r=Bi;if(t>.005)for(Bi=ape;Bi<npe;++Bi)Math.abs(e-NS(e))<=t&&(t=Math.abs(e-NS(e)),r=Bi);Bi=r}function up(e){e.width?(e.wpx=vb(e.width),e.wch=yb(e.wpx),e.MDW=Bi):e.wpx?(e.wch=yb(e.wpx),e.width=wT(e.wch),e.MDW=Bi):typeof e.wch=="number"&&(e.width=wT(e.wch),e.wpx=vb(e.width),e.MDW=Bi),e.customWidth&&delete e.customWidth}var ipe=96,Gz=ipe;function Kz(e){return e*96/Gz}function $1(e){return e*Gz/96}var spe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function ope(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ni)||[]).forEach(function(s){var o=Jt(s);switch(Wl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=En(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=En(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function lpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ni)||[]).forEach(function(s){var o=Jt(s);switch(Wl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function cpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ni)||[]).forEach(function(s){var o=Jt(s);switch(Wl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=mn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?En(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?En(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?En(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?En(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?En(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?En(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?En(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=LC[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=En(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=jh[a.color.index];a.color.index==81&&(l=jh[1]),l||(l=jh[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=gb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function upe(e,t,r){t.NumberFmt=[];for(var n=zl(lr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=lr[n[a]];var i=e[0].match(Ni);if(i)for(a=0;a<i.length;++a){var s=Jt(i[a]);switch(Wl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=jr(mn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Dh(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var hx=["numFmtId","fillId","fontId","borderId","xfId"],dx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function fpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ni)||[]).forEach(function(i){var s=Jt(i),o=0;switch(Wl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<hx.length;++o)n[hx[o]]&&(n[hx[o]]=parseInt(n[hx[o]],10));for(o=0;o<dx.length;++o)n[dx[o]]&&(n[dx[o]]=En(n[dx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=En(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var hpe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&upe(f,u,c),(f=o.match(a))&&cpe(f,u,l,c),(f=o.match(n))&&lpe(f,u,l,c),(f=o.match(i))&&ope(f,u,l,c),(f=o.match(r))&&fpe(f,u,c),u}}();function dpe(e,t){var r=e.read_shift(2),n=ki(e);return[r,n]}function ppe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Ahe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=She(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ki(e),n}var mpe=Pi;function gpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var vpe=Pi;function ype(e,t,r){var n={};n.NumberFmt=[];for(var a in lr)n.NumberFmt[a]=lr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Xc(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Dh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=gb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var xpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ni)||[]).forEach(function(a){var i=Jt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[xpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function wpe(){}function _pe(){}var Spe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Ape=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Tpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Epe(e,t,r){t.themeElements={};var n;[["clrScheme",Spe,bpe],["fontScheme",Ape,wpe],["fmtScheme",Tpe,_pe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var kpe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Yz(e,t){(!e||e.length===0)&&(e=Cpe());var r,n={};if(!(r=e.match(kpe)))throw new Error("themeElements not found in theme");return Epe(r[0],n,t),n.raw=e,n}function Cpe(e,t){var r=[sz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ppe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=iz(i,{type:"array"})}catch{return}var o=Os(s,"theme/theme/theme1.xml",!0);if(o)return Yz(o,r)}}function Npe(e){return e.read_shift(4)}function Ope(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Ipe(e,4);break;case 2:t.xclrValue=Lz(e);break;case 3:t.xclrValue=Npe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Ipe(e,t){return Pi(e,t)}function Dpe(e,t){return Pi(e,t)}function jpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Ope(e);break;case 6:n[1]=Dpe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Lpe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(jpe(e,r-e.l));return{ixfe:n,ext:i}}function Mpe(e,t){t.forEach(function(r){switch(r[0]){}})}function Rpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ki(e)}}function Fpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function $pe(e){return e.l+=4,e.read_shift(4)!=0}function Bpe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Xc(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Vpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ni,function(o){var l=Jt(o);switch(Wl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Upe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ni)||[]).forEach(function(n){var a=Jt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function zpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ir(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function qpe(e,t,r){var n=[];return Xc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Wpe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Xc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Hpe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function jD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Ui(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=Yn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Pr(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Gpe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Jt(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Ui(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&JC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Kpe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ni,function(o,l){var c=Jt(o);switch(Wl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Ype(e,t){var r=[],n=!1;return e.replace(Ni,function(i){var s=Jt(i);switch(Wl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Xpe(e){var t={};t.iauthor=e.read_shift(4);var r=cd(e);return t.rfx=r.s,t.ref=ir(r.s),e.l+=16,t}var Qpe=ki;function Jpe(e,t){var r=[],n=[],a={},i=!1;return Xc(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Zpe="application/vnd.ms-office.vbaProject";function eme(e){var t=Cr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Cr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Cr.write(t)}function tme(){return{"!type":"dialog"}}function rme(){return{"!type":"dialog"}}function nme(){return{"!type":"macro"}}function ame(){return{"!type":"macro"}}var N0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Sa(u)+(l?"":"$")+ri(c)}return function(a,i){return t=i,a.replace(e,r)}}(),Xz=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ime=function(){return function(t,r){return t.replace(Xz,function(n,a,i,s,o,l){var c=HC(s)-(i?0:r.c),u=WC(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function Qz(e,t){return e.replace(Xz,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Sa(HC(i)+t.c))+(s=="$"?s+o:ri(WC(o)+t.r))})}function sme(e,t,r){var n=Yp(t),a=n.s,i=Ui(r),s={r:i.r-a.r,c:i.c-a.c};return Qz(e,s)}function ome(e){return e.length!=1}function LD(e){return e.replace(/_xlfn\./g,"")}function la(e){e.l+=1}function Tf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Jz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Zz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Tf(e),o=Tf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Zz(e){var t=Tf(e),r=Tf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function lme(e,t,r){if(r.biff<8)return Zz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Tf(e),s=Tf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function eq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return cme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Tf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function cme(e){var t=Tf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function ume(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function fme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return hme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function hme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function dme(e,t,r){var n=(e[e.l++]&96)>>5,a=Jz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function pme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Jz(e,i,r);return[n,a,s]}function mme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function gme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function vme(e,t,r){var n=(e[e.l++]&96)>>5,a=lme(e,t-1,r);return[n,a]}function yme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function MD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function xme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function bme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function wme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function _me(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Sme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function tq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Ame(e){return e.read_shift(2),tq(e)}function Tme(e){return e.read_shift(2),tq(e)}function Eme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=eq(e,0,r);return[n,a]}function kme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=fme(e,0,r);return[n,a]}function Cme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=eq(e,0,r);return[n,a,i]}function Pme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Nge[a],aq[a],n]}function Nme(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Ome(e);return[a,(i[0]===0?aq:Pge)[i[1]]]}function Ome(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Ime(e,t,r){e.l+=r&&r.biff==2?3:4}function Dme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function jme(e){return e.l++,ud[e.read_shift(1)]}function Lme(e){return e.l++,e.read_shift(2)}function Mme(e){return e.l++,e.read_shift(1)!==0}function Rme(e){return e.l++,Ai(e)}function Fme(e,t,r){return e.l++,Gv(e,t-1,r)}function $me(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Jn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ud[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ai(e);break;case 2:r[1]=fd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Bme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?cd:p5)(e));return a}function Vme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=$me(e,r.biff);return s}function Ume(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function zme(e,t,r){if(r.biff==5)return qme(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function qme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Wme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Hme(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Gme(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Kme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Yme=Pi,Xme=Pi,Qme=Pi;function Yv(e,t,r){return e.l+=2,[ume(e)]}function eP(e){return e.l+=6,[]}var Jme=Yv,Zme=eP,ege=eP,tge=Yv;function rq(e){return e.l+=2,[fa(e),e.read_shift(2)&1]}var rge=Yv,nge=rq,age=eP,ige=Yv,sge=Yv,oge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function lge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=oge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function cge(e){return e.l+=2,[e.read_shift(4)]}function uge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function fge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function hge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function dge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function pge(e){return e.l+=4,[0,0]}var RD={1:{n:"PtgExp",f:Dme},2:{n:"PtgTbl",f:Qme},3:{n:"PtgAdd",f:la},4:{n:"PtgSub",f:la},5:{n:"PtgMul",f:la},6:{n:"PtgDiv",f:la},7:{n:"PtgPower",f:la},8:{n:"PtgConcat",f:la},9:{n:"PtgLt",f:la},10:{n:"PtgLe",f:la},11:{n:"PtgEq",f:la},12:{n:"PtgGe",f:la},13:{n:"PtgGt",f:la},14:{n:"PtgNe",f:la},15:{n:"PtgIsect",f:la},16:{n:"PtgUnion",f:la},17:{n:"PtgRange",f:la},18:{n:"PtgUplus",f:la},19:{n:"PtgUminus",f:la},20:{n:"PtgPercent",f:la},21:{n:"PtgParen",f:la},22:{n:"PtgMissArg",f:la},23:{n:"PtgStr",f:Fme},26:{n:"PtgSheet",f:uge},27:{n:"PtgEndSheet",f:fge},28:{n:"PtgErr",f:jme},29:{n:"PtgBool",f:Mme},30:{n:"PtgInt",f:Lme},31:{n:"PtgNum",f:Rme},32:{n:"PtgArray",f:yme},33:{n:"PtgFunc",f:Pme},34:{n:"PtgFuncVar",f:Nme},35:{n:"PtgName",f:Ume},36:{n:"PtgRef",f:Eme},37:{n:"PtgArea",f:dme},38:{n:"PtgMemArea",f:Wme},39:{n:"PtgMemErr",f:Yme},40:{n:"PtgMemNoMem",f:Xme},41:{n:"PtgMemFunc",f:Hme},42:{n:"PtgRefErr",f:Gme},43:{n:"PtgAreaErr",f:mme},44:{n:"PtgRefN",f:kme},45:{n:"PtgAreaN",f:vme},46:{n:"PtgMemAreaN",f:hge},47:{n:"PtgMemNoMemN",f:dge},57:{n:"PtgNameX",f:zme},58:{n:"PtgRef3d",f:Cme},59:{n:"PtgArea3d",f:pme},60:{n:"PtgRefErr3d",f:Kme},61:{n:"PtgAreaErr3d",f:gme},255:{}},mge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},gge={1:{n:"PtgElfLel",f:rq},2:{n:"PtgElfRw",f:ige},3:{n:"PtgElfCol",f:Jme},6:{n:"PtgElfRwV",f:sge},7:{n:"PtgElfColV",f:tge},10:{n:"PtgElfRadical",f:rge},11:{n:"PtgElfRadicalS",f:age},13:{n:"PtgElfColS",f:Zme},15:{n:"PtgElfColSV",f:ege},16:{n:"PtgElfRadicalLel",f:nge},25:{n:"PtgList",f:lge},29:{n:"PtgSxName",f:cge},255:{}},vge={0:{n:"PtgAttrNoop",f:pge},1:{n:"PtgAttrSemi",f:Sme},2:{n:"PtgAttrIf",f:wme},4:{n:"PtgAttrChoose",f:xme},8:{n:"PtgAttrGoto",f:bme},16:{n:"PtgAttrSum",f:Ime},32:{n:"PtgAttrBaxcel",f:MD},33:{n:"PtgAttrBaxcel",f:MD},64:{n:"PtgAttrSpace",f:Ame},65:{n:"PtgAttrSpaceSemi",f:Tme},128:{n:"PtgAttrIfError",f:_me},255:{}};function Xv(e,t,r,n){if(n.biff<8)return Pi(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Vme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Bme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Pi(e,t)),i}function Qv(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=RD[i]||RD[mge[i]],(i===24||i===25)&&(a=(i===24?gge:vge)[e[e.l+1]]),!a||!a.f?Pi(e,t):s.push([a.n,a.f(e,t,r)]);return s}function yge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var xge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function bge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function nq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function FD(e,t,r){var n=nq(e,t,r);return n=="#REF"?n:bge(n,r)}function yi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,y="",v=0,b=e[0].length;v<b;++v){var w=e[0][v];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:y=Gn(" ",e[0][m][1][1]);break;case 1:y=Gn("\r",e[0][m][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+y,m=-1}o.push(c+xge[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Dg(w[1][1],s,a),o.push(jg(u,i));break;case"PtgRefN":u=r?Dg(w[1][1],r,a):w[1][1],o.push(jg(u,i));break;case"PtgRef3d":f=w[1][1],u=Dg(w[1][2],s,a),g=FD(n,f,a),o.push(g+"!"+jg(u,i));break;case"PtgFunc":case"PtgFuncVar":var D=w[1][0],P=w[1][1];D||(D=0),D&=127;var O=D==0?[]:o.slice(-D);o.length-=D,P==="User"&&(P=O.shift()),o.push(P+"("+O.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":d=yD(w[1][1],r?{s:r}:s,a),o.push(CS(d,a));break;case"PtgArea":d=yD(w[1][1],s,a),o.push(CS(d,a));break;case"PtgArea3d":f=w[1][1],d=w[1][2],g=FD(n,f,a),o.push(g+"!"+CS(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],A=E?E.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var S=w[1][1];h=w[1][2];var I;if(a.biff<=5)S<0&&(S=-S),n[S]&&(I=n[S][h]);else{var T="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][h]&&n[S][h].itab>0&&(T=n.SheetNames[n[S][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[S]&&n[S][h])T+=n[S][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var C=(nq(n,S,a)||"").split(";;");C[h-1]?T=C[h-1]:T+="SH33TJSERRX"}o.push(T);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var L="(",H=")";if(m>=0){switch(y="",e[0][m][1][0]){case 2:L=Gn(" ",e[0][m][1][1])+L;break;case 3:L=Gn("\r",e[0][m][1][1])+L;break;case 4:H=Gn(" ",e[0][m][1][1])+H;break;case 5:H=Gn("\r",e[0][m][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(L+o.pop()+H);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var V={c:r.c,r:r.r};if(n.sharedf[ir(u)]){var J=n.sharedf[ir(u)];o.push(yi(J,s,V,n,a))}else{var te=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(yi(c[1],s,V,n,a)),te=!0;break}te||o.push(w[1])}break;case"PtgArray":o.push("{"+yge(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&q.indexOf(e[0][v][0])==-1){w=e[0][m];var B=!0;switch(w[1][0]){case 4:B=!1;case 0:y=Gn(" ",w[1][1]);break;case 5:B=!1;case 1:y=Gn("\r",w[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((B?y:"")+o.pop()+(B?"":y)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function wge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Pi(e,t-2)];var o=Qv(e,s,r);return t!==s+a&&(i=Xv(e,t-s-a,o,r)),e.l=n,[o,i]}function _ge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Pi(e,t-2)];var o=Qv(e,s,r);return t!==s+a&&(i=Xv(e,t-s-a,o,r)),e.l=n,[o,i]}function Sge(e,t,r,n){var a=e.l+t,i=Qv(e,n,r),s;return a!==e.l&&(s=Xv(e,a-e.l,i,r)),[i,s]}function Age(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Qv(e,i,r);return i==65535?[[],Pi(e,t-2)]:(t!==i+2&&(a=Xv(e,n-i-2,s,r)),[s,a])}function Tge(e){var t;if(mc(e,e.l+6)!==65535)return[Ai(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function OS(e,t,r){var n=e.l+t,a=Hl(e);r.biff==2&&++e.l;var i=Tge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=_ge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function m5(e,t,r){var n=e.read_shift(4),a=Qv(e,n,r),i=e.read_shift(4),s=i>0?Xv(e,i,a,r):null;return[a,s]}var Ege=m5,g5=m5,kge=m5,Cge=m5,Pge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},aq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Nge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $D(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function IS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Fg={},O0={};function $g(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function iq(e,t,r,n,a,i){try{n.cellNF&&(e.z=lr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=$a(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(lr[t]==null&&Dh(Ofe[t]||"General",t),e.t==="e")e.w=e.w||ud[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j1(e.v);else if(e.t==="d"){var s=Yi(e.v);(s|0)===s?e.w=s.toString(10):e.w=j1(s)}else{if(e.v===void 0)return"";e.w=Kh(e.v,O0)}else e.t==="d"?e.w=xo(t,Yi(e.v),O0):e.w=xo(t,e.v,O0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=gb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=gb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Oge(e,t){var r=Yn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Pr(r))}var Ige=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Dge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,jge=/<(?:\w:)?hyperlink [^>]*>/mg,Lge=/"(\w*:\w*)"/,Mge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Rge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Fge=/<(?:\w:)?pageMargins[^>]*\/>/g,sq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,$ge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Bge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Vge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Dge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(sq);h?tP(h[0],o,a,r):(h=c.match($ge))&&Uge(h[0],h[1]||"",o,a,r);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var g=c.slice(d,d+50).match(Lge);g&&Oge(o,g[1])}var m=c.match(Bge);m&&m[1]&&Kge(m[1],a);var y=[];if(t.cellStyles){var v=c.match(Mge);v&&Wge(y,v)}f&&Yge(f[1],o,t,l,i,s);var b=u.match(Rge);b&&(o["!autofilter"]=Hge(b[0]));var w=[],D=u.match(Ige);if(D)for(d=0;d!=D.length;++d)w[d]=Yn(D[d].slice(D[d].indexOf('"')+1));var P=u.match(jge);P&&zge(o,P,n);var O=u.match(Fge);if(O&&(o["!margins"]=qge(Jt(O[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Pr(l)),t.sheetRows>0&&o["!ref"]){var E=Yn(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Pr(E))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function tP(e,t,r,n){var a=Jt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=jr(mn(a.codeName)))}function Uge(e,t,r,n,a){tP(e.slice(0,e.indexOf(">")),r,n,a)}function zge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Jt(mn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+jr(i.location))):(i.Target="#"+jr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Yn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=ir({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function qge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Wge(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Jt(t[n],!0);a.hidden&&(a.hidden=En(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,ZC(a.width)),up(a);i<=s;)e[i++]=ti(a)}}function Hge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Gge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Kge(e,t){t.Views||(t.Views=[{}]),(e.match(Gge)||[]).forEach(function(r,n){var a=Jt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),En(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Yge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=L1("v"),s=L1("f");return function(l,c,u,f,h,d){for(var g=0,m="",y=[],v=[],b=0,w=0,D=0,P="",O,E,A=0,S=0,I,T,C=0,L=0,H=Array.isArray(d.CellXf),V,J=[],te=[],q=Array.isArray(c),B=[],re={},ee=!1,N=!!u.sheetStubs,R=l.split(t),z=0,X=R.length;z!=X;++z){m=R[z].trim();var G=m.length;if(G!==0){var Z=0;e:for(g=0;g<G;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(E=Jt(m.slice(Z,g),!0),A=E.r!=null?parseInt(E.r,10):A+1,S=-1,u.sheetRows&&u.sheetRows<A)continue;re={},ee=!1,E.ht&&(ee=!0,re.hpt=parseFloat(E.ht),re.hpx=$1(re.hpt)),E.hidden=="1"&&(ee=!0,re.hidden=!0),E.outlineLevel!=null&&(ee=!0,re.level=+E.outlineLevel),ee&&(B[A-1]=re)}break;case"<":Z=g;break}if(Z>=g)break;if(E=Jt(m.slice(Z,g),!0),A=E.r!=null?parseInt(E.r,10):A+1,S=-1,!(u.sheetRows&&u.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),u&&u.cellStyles&&(re={},ee=!1,E.ht&&(ee=!0,re.hpt=parseFloat(E.ht),re.hpx=$1(re.hpt)),E.hidden=="1"&&(ee=!0,re.hidden=!0),E.outlineLevel!=null&&(ee=!0,re.level=+E.outlineLevel),ee&&(B[A-1]=re)),y=m.slice(g).split(e);for(var se=0;se!=y.length&&y[se].trim().charAt(0)=="<";++se);for(y=y.slice(se),g=0;g!=y.length;++g)if(m=y[g].trim(),m.length!==0){if(v=m.match(r),b=g,w=0,D=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,v!=null&&v.length===2){for(b=0,P=v[1],w=0;w!=P.length&&!((D=P.charCodeAt(w)-64)<1||D>26);++w)b=26*b+D;--b,S=b}else++S;for(w=0;w!=m.length&&m.charCodeAt(w)!==62;++w);if(++w,E=Jt(m.slice(0,w),!0),E.r||(E.r=ir({r:A-1,c:S})),P=m.slice(w),O={t:""},(v=P.match(i))!=null&&v[1]!==""&&(O.v=jr(v[1])),u.cellFormula){if((v=P.match(s))!=null&&v[1]!==""){if(O.f=jr(mn(v[1])).replace(/\r\n/g,`
`),u.xlfn||(O.f=LD(O.f)),v[0].indexOf('t="array"')>-1)O.F=(P.match(a)||[])[1],O.F.indexOf(":")>-1&&J.push([Yn(O.F),O.F]);else if(v[0].indexOf('t="shared"')>-1){T=Jt(v[0]);var K=jr(mn(v[1]));u.xlfn||(K=LD(K)),te[parseInt(T.si,10)]=[T,K,E.r]}}else(v=P.match(/<f[^>]*\/>/))&&(T=Jt(v[0]),te[T.si]&&(O.f=sme(te[T.si][1],te[T.si][2],E.r)));var oe=Ui(E.r);for(w=0;w<J.length;++w)oe.r>=J[w][0].s.r&&oe.r<=J[w][0].e.r&&oe.c>=J[w][0].s.c&&oe.c<=J[w][0].e.c&&(O.F=J[w][1])}if(E.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(N)O.t="z";else continue;else O.t=E.t||"n";switch(f.s.c>S&&(f.s.c=S),f.e.c<S&&(f.e.c=S),O.t){case"n":if(O.v==""||O.v==null){if(!N)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!N)continue;O.t="z"}else I=Fg[parseInt(O.v,10)],O.v=I.t,O.r=I.r,u.cellHTML&&(O.h=I.h);break;case"str":O.t="s",O.v=O.v!=null?mn(O.v):"",u.cellHTML&&(O.h=UC(O.v));break;case"inlineStr":v=P.match(n),O.t="s",v!=null&&(I=JC(v[1]))?(O.v=I.t,u.cellHTML&&(O.h=I.h)):O.v="";break;case"b":O.v=En(O.v);break;case"d":u.cellDates?O.v=$a(O.v,1):(O.v=Yi($a(O.v,1)),O.t="n");break;case"e":(!u||u.cellText!==!1)&&(O.w=O.v),O.v=kz[O.v];break}if(C=L=0,V=null,H&&E.s!==void 0&&(V=d.CellXf[E.s],V!=null&&(V.numFmtId!=null&&(C=V.numFmtId),u.cellStyles&&V.fillId!=null&&(L=V.fillId))),iq(O,C,L,u,h,d),u.cellDates&&H&&O.t=="n"&&Kp(lr[C])&&(O.t="d",O.v=d5(O.v)),E.cm&&u.xlmeta){var fe=(u.xlmeta.Cell||[])[+E.cm-1];fe&&fe.type=="XLDAPR"&&(O.D=!0)}if(q){var W=Ui(E.r);c[W.r]||(c[W.r]=[]),c[W.r][W.c]=O}else c[E.r]=O}}}}B.length>0&&(c["!rows"]=B)}}();function Xge(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Qge=cd;function Jge(){}function Zge(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=whe(e),r}function e1e(e){var t=wo(e);return[t]}function t1e(e){var t=ld(e);return[t]}function r1e(e){var t=wo(e),r=e.read_shift(1);return[t,r,"b"]}function n1e(e){var t=ld(e),r=e.read_shift(1);return[t,r,"b"]}function a1e(e){var t=wo(e),r=e.read_shift(1);return[t,r,"e"]}function i1e(e){var t=ld(e),r=e.read_shift(1);return[t,r,"e"]}function s1e(e){var t=wo(e),r=e.read_shift(4);return[t,r,"s"]}function o1e(e){var t=ld(e),r=e.read_shift(4);return[t,r,"s"]}function l1e(e){var t=wo(e),r=Ai(e);return[t,r,"n"]}function oq(e){var t=ld(e),r=Ai(e);return[t,r,"n"]}function c1e(e){var t=wo(e),r=YC(e);return[t,r,"n"]}function u1e(e){var t=ld(e),r=YC(e);return[t,r,"n"]}function f1e(e){var t=wo(e),r=GC(e);return[t,r,"is"]}function h1e(e){var t=wo(e),r=ki(e);return[t,r,"str"]}function d1e(e){var t=ld(e),r=ki(e);return[t,r,"str"]}function p1e(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=g5(e,n-e.l,r);s[3]=yi(o,null,a,r.supbooks,r)}else e.l=n;return s}function m1e(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=g5(e,n-e.l,r);s[3]=yi(o,null,a,r.supbooks,r)}else e.l=n;return s}function g1e(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=Ai(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=g5(e,n-e.l,r);s[3]=yi(o,null,a,r.supbooks,r)}else e.l=n;return s}function v1e(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=ki(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=g5(e,n-e.l,r);s[3]=yi(o,null,a,r.supbooks,r)}else e.l=n;return s}var y1e=cd;function x1e(e,t){var r=e.l+t,n=cd(e),a=KC(e),i=ki(e),s=ki(e),o=ki(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function b1e(){}function w1e(e,t,r){var n=e.l+t,a=Az(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Ege(e,n-e.l,r);s[1]=o}else e.l=n;return s}function _1e(e,t,r){var n=e.l+t,a=cd(e),i=[a];if(r.cellFormula){var s=Cge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var S1e=["left","right","top","bottom","header","footer"];function A1e(e){var t={};return S1e.forEach(function(r){t[r]=Ai(e)}),t}function T1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function E1e(){}function k1e(){}function C1e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,g,m,y,v,b,w,D,P,O=[];o.biff=12,o["!row"]=0;var E=0,A=!1,S=[],I={},T=o.supbooks||a.supbooks||[[]];if(T.sharedf=I,T.arrayf=S,T.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!o.supbooks&&(o.supbooks=T,a.Names))for(var C=0;C<a.Names.length;++C)T[0][C+1]=a.Names[C];var L=[],H=[],V=!1;xb[16]={n:"BrtShortReal",f:oq};var J;if(Xc(e,function(B,re,ee){if(!h)switch(ee){case 148:c=B;break;case 0:d=B,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),D=ri(y=d.r),o["!row"]=d.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=$1(B.hpt)),H[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:B[2]},B[2]){case"n":g.v=B[1];break;case"s":w=Fg[B[1]],g.v=w.t,g.r=w.r;break;case"b":g.v=!!B[1];break;case"e":g.v=B[1],o.cellText!==!1&&(g.w=ud[g.v]);break;case"str":g.t="s",g.v=B[1];break;case"is":g.t="s",g.v=B[1].t;break}if((m=s.CellXf[B[0].iStyleRef])&&iq(g,m.numFmtId,null,o,i,s),v=B[0].c==-1?v+1:B[0].c,o.dense?(l[y]||(l[y]=[]),l[y][v]=g):l[Sa(v)+D]=g,o.cellFormula){for(A=!1,E=0;E<S.length;++E){var N=S[E];d.r>=N[0].s.r&&d.r<=N[0].e.r&&v>=N[0].s.c&&v<=N[0].e.c&&(g.F=Pr(N[0]),A=!0)}!A&&B.length>3&&(g.f=B[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),o.cellDates&&m&&g.t=="n"&&Kp(lr[m.numFmtId])){var R=Ah(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}J&&(J.type=="XLDAPR"&&(g.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},v=B[0].c==-1?v+1:B[0].c,o.dense?(l[y]||(l[y]=[]),l[y][v]=g):l[Sa(v)+D]=g,u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),J&&(J.type=="XLDAPR"&&(g.D=!0),J=void 0);break;case 176:O.push(B);break;case 49:J=((o.xlmeta||{}).Cell||[])[B-1];break;case 494:var z=n["!id"][B.relId];for(z?(B.Target=z.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=z):B.relId==""&&(B.Target="#"+B.loc),y=B.rfx.s.r;y<=B.rfx.e.r;++y)for(v=B.rfx.s.c;v<=B.rfx.e.c;++v)o.dense?(l[y]||(l[y]=[]),l[y][v]||(l[y][v]={t:"z",v:void 0}),l[y][v].l=B):(b=ir({c:v,r:y}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=B);break;case 426:if(!o.cellFormula)break;S.push(B),P=o.dense?l[y][v]:l[Sa(v)+D],P.f=yi(B[1],u,{r:d.r,c:v},T,o),P.F=Pr(B[0]);break;case 427:if(!o.cellFormula)break;I[ir(B[0].s)]=B[1],P=o.dense?l[y][v]:l[Sa(v)+D],P.f=yi(B[1],u,{r:d.r,c:v},T,o);break;case 60:if(!o.cellStyles)break;for(;B.e>=B.s;)L[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},V||(V=!0,ZC(B.w/256)),up(L[B.e+1]);break;case 161:l["!autofilter"]={ref:Pr(B)};break;case 476:l["!margins"]=B;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),B.name&&(a.Sheets[r].CodeName=B.name),(B.above||B.left)&&(l["!outline"]={above:B.above,left:B.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),B.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!re.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Pr(c||u)),o.sheetRows&&l["!ref"]){var te=Yn(l["!ref"]);o.sheetRows<=+te.e.r&&(te.e.r=o.sheetRows-1,te.e.r>u.e.r&&(te.e.r=u.e.r),te.e.r<te.s.r&&(te.s.r=te.e.r),te.e.c>u.e.c&&(te.e.c=u.e.c),te.e.c<te.s.c&&(te.s.c=te.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Pr(te))}return O.length>0&&(l["!merges"]=O),L.length>0&&(l["!cols"]=L),H.length>0&&(l["!rows"]=H),l}function P1e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=jr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function N1e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=P1e(f);u.s.r=u.s.c=0,u.e.c=o,c=Sa(o),h[0].forEach(function(d,g){s[c+ri(g)]={t:"n",v:d,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Pr(u)),s}function O1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(sq);return o&&tP(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function I1e(e,t){e.l+=10;var r=ki(e);return{name:r}}function D1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Xc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var lq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],j1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],L1e=[],M1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function BD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=En(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function VD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=En(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function cq(e){VD(e.WBProps,lq),VD(e.CalcPr,M1e),BD(e.WBView,j1e),BD(e.Sheets,L1e),O0.date1904=En(e.WBProps.date1904)}var R1e="][*?/\\".split("");function F1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return R1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var $1e=/<\w+:workbook/;function B1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ni,function(l,c){var u=Jt(l);switch(Wl(u[0])){case"<?xml":break;case"<workbook":l.match($1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":lq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=En(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=mn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=jr(mn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=mn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),En(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=jr(mn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),ahe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return cq(r),r}function V1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=yT(e),r.name=ki(e),r}function U1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ki(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function z1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function q1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=_he(e),s=kge(e,0,r),o=KC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function W1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],xb[16]={n:"BrtFRTArchID$",f:z1e},Xc(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=yi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),cq(r),r.Names=i,r.supbooks=s,r}function H1e(e,t,r){return t.slice(-4)===".bin"?W1e(e,r):B1e(e,r)}function G1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?C1e(e,n,r,a,i,s,o):Vge(e,n,r,a,i,s,o)}function K1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?D1e(e,n,r,a,i):O1e(e,n,r,a,i)}function Y1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?nme():ame()}function X1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?tme():rme()}function Q1e(e,t,r,n){return t.slice(-4)===".bin"?ype(e,r,n):hpe(e,r,n)}function J1e(e,t,r){return Yz(e,r)}function Z1e(e,t,r){return t.slice(-4)===".bin"?j0e(e,r):I0e(e,r)}function eve(e,t,r){return t.slice(-4)===".bin"?Jpe(e,r):Gpe(e,r)}function tve(e,t,r){return t.slice(-4)===".bin"?qpe(e):Upe(e)}function rve(e,t,r,n){return r.slice(-4)===".bin"?Wpe(e,t,r,n):void 0}function nve(e,t,r){return t.slice(-4)===".bin"?Bpe(e,t,r):Vpe(e,t,r)}var uq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,fq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Lo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(uq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(fq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function ave(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(uq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(fq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Bg;function ive(e,t){var r=Bg[e]||jr(e);return r==="General"?Kh(t):xo(r,t)}function sve(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=En(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=$a(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[jr(t)]=a}function ove(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||ud[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j1(e.v):e.w=Kh(e.v):e.w=ive(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Bg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Kp(n)){var a=Ah(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function lve(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=spe[n.Pattern]||n.Pattern)}e[t.ID]=t}function cve(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=En(e);break;case"String":n.t="s",n.r=cD(jr(e)),n.v=e.indexOf("<")>-1?jr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=($a(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=jr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=kz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=cD(t||e));break}if(ove(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=jr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=N0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=N0("RC:RC",a):n.ArrayRange&&(n.F=N0(n.ArrayRange,a),l.push([Yn(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(d.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function uve(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function DS(e,t){var r=t||{};ZU();var n=og(zC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=mn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=ti(r);return s.type="string",R1.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Le){a.indexOf("<"+Le)>=0&&(i=!0)}),i)return xve(n,r);Bg={"General Number":"General","General Date":lr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":lr[15],"Short Date":lr[14],"Long Time":lr[19],"Medium Time":lr[18],"Short Time":lr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:lr[2],Standard:lr[4],Percent:lr[10],Scientific:lr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},d="",g={},m={},y=Lo('<Data ss:Type="String">'),v=0,b=0,w=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},O={},E="",A=0,S=[],I={},T={},C=0,L=[],H=[],V={},J=[],te,q=!1,B=[],re=[],ee={},N=0,R=0,z={Sheets:[],WBProps:{date1904:!1}},X={};M1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var G="";o=M1.exec(n);)switch(o[3]=(G=o[3]).toLowerCase()){case"data":if(G=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?cve(n.slice(v,o.index),E,y,l[l.length-1][0]=="comment"?V:g,{c:b,r:w},P,J[b],m,B,r):(E="",y=Lo(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(H.length>0&&(g.c=H),(!r.sheetRows||r.sheetRows>w)&&g.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=g):h[Sa(b)+ri(w)]=g),g.HRef&&(g.l={Target:jr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(N=b+(parseInt(g.MergeAcross,10)|0),R=w+(parseInt(g.MergeDown,10)|0),S.push({s:{c:b,r:w},e:{c:N,r:R}})),!r.sheetStubs)g.MergeAcross?b=N+1:++b;else if(g.MergeAcross||g.MergeDown){for(var Z=b;Z<=N;++Z)for(var se=w;se<=R;++se)(Z>b||se>w)&&(r.dense?(h[se]||(h[se]=[]),h[se][Z]={t:"z"}):h[Sa(Z)+ri(se)]={t:"z"});b=N+1}else++b;else g=ave(o[0]),g.Index&&(b=+g.Index-1),b<D.s.c&&(D.s.c=b),b>D.e.c&&(D.e.c=b),o[0].slice(-2)==="/>"&&++b,H=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<D.s.r&&(D.s.r=w),w>D.e.r&&(D.e.r=w),o[0].slice(-2)==="/>"&&(m=Lo(o[0]),m.Index&&(w=+m.Index-1)),b=0,++w):(m=Lo(o[0]),m.Index&&(w=+m.Index-1),ee={},(m.AutoFitHeight=="0"||m.Height)&&(ee.hpx=parseInt(m.Height,10),ee.hpt=Kz(ee.hpx),re[w]=ee),m.Hidden=="1"&&(ee.hidden=!0,re[w]=ee));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(h["!ref"]=Pr(D),r.sheetRows&&r.sheetRows<=D.e.r&&(h["!fullref"]=h["!ref"],D.e.r=r.sheetRows-1,h["!ref"]=Pr(D))),S.length&&(h["!merges"]=S),J.length>0&&(h["!cols"]=J),re.length>0&&(h["!rows"]=re),u[d]=h}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([o[3],!1]),c=Lo(o[0]),d=jr(c.Name),h=r.dense?[]:{},S=[],B=[],re=[],X={name:d,Hidden:0},z.Sheets.push(X);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),J=[],q=!1}break;case"style":o[1]==="/"?lve(P,O,r):O=Lo(o[0]);break;case"numberformat":O.nf=jr(Lo(o[0]).Format||"General"),Bg[O.nf]&&(O.nf=Bg[O.nf]);for(var K=0;K!=392&&lr[K]!=O.nf;++K);if(K==392){for(K=57;K!=392;++K)if(lr[K]==null){Dh(O.nf,K);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(te=Lo(o[0]),te.Hidden&&(te.hidden=!0,delete te.Hidden),te.Width&&(te.wpx=parseInt(te.Width,10)),!q&&te.wpx>10){q=!0,Bi=Hz;for(var oe=0;oe<J.length;++oe)J[oe]&&up(J[oe])}q&&up(te),J[te.Index-1||J.length]=te;for(var fe=0;fe<+te.Span;++fe)J[J.length]=ti(te);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var W=Jt(o[0]),_e={Name:W.Name,Ref:N0(W.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(_e.Sheet=z.Sheets.length-1),z.Names.push(_e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=Lo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Ghe(I,G,n.slice(C,o.index)):C=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));uve(V),H.push(V)}else l.push([o[3],!1]),c=Lo(o[0]),V={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ae=Lo(o[0]);h["!autofilter"]={ref:N0(Ae.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return GD(n,r);var Se=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(C,o.index)){case"SheetHidden":X.Hidden=1;break;case"SheetVeryHidden":X.Hidden=2;break}else C=o.index+o[0].length;break;case"header":h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+Jt(o[0]).Margin)||(h["!margins"].header=+Jt(o[0]).Margin);break;case"footer":h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+Jt(o[0]).Margin)||(h["!margins"].footer=+Jt(o[0]).Margin);break;case"pagemargins":var ie=Jt(o[0]);h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+ie.Top)||(h["!margins"].top=+ie.Top),isNaN(+ie.Left)||(h["!margins"].left=+ie.Left),isNaN(+ie.Right)||(h["!margins"].right=+ie.Right),isNaN(+ie.Bottom)||(h["!margins"].bottom=+ie.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?sve(T,G,L,n.slice(C,o.index)):(L=o,C=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ke={};return!r.bookSheets&&!r.bookProps&&(ke.Sheets=u),ke.SheetNames=f,ke.Workbook=z,ke.SSF=ti(lr),ke.Props=I,ke.Custprops=T,ke}function _T(e,t){switch(aP(t=t||{}),t.type||"base64"){case"base64":return DS($s(e),t);case"binary":case"buffer":case"file":return DS(e,t);case"array":return DS(od(e),t)}}function fve(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=The(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Ehe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var hve=[60,1084,2066,2165,2175];function dve(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=mc(r,r.l),c=ST[l],u=0;c!=null&&hve.indexOf(l)>-1;)i=mc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=ST[l=mc(r,r.l)];var f=Vu(s);Qa(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function _l(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=lr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||ud[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j1(e.v):e.w=Kh(e.v):e.w=xo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Kp(lr[n]||String(n))){var a=Ah(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function px(e,t,r){return{v:e,ixfe:t,t:r}}function pve(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,g,m,y,v={},b=[],w,D,P=[],O=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},S=function(pt){return pt<8?jh[pt]:pt<64&&O[pt-8]||jh[pt]},I=function(pt,et,Bt){var Lt=et.XF.data;if(!(!Lt||!Lt.patternType||!Bt||!Bt.cellStyles)){et.s={},et.s.patternType=Lt.patternType;var Hr;(Hr=F1(S(Lt.icvFore)))&&(et.s.fgColor={rgb:Hr}),(Hr=F1(S(Lt.icvBack)))&&(et.s.bgColor={rgb:Hr})}},T=function(pt,et,Bt){if(!(ee>1)&&!(Bt.sheetRows&&pt.r>=Bt.sheetRows)){if(Bt.cellStyles&&et.XF&&et.XF.data&&I(pt,et,Bt),delete et.ixfe,delete et.XF,f=pt,h=ir(pt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),pt.r<s.s.r&&(s.s.r=pt.r),pt.c<s.s.c&&(s.s.c=pt.c),pt.r+1>s.e.r&&(s.e.r=pt.r+1),pt.c+1>s.e.c&&(s.e.c=pt.c+1),Bt.cellFormula&&et.f){for(var Lt=0;Lt<b.length;++Lt)if(!(b[Lt][0].s.c>pt.c||b[Lt][0].s.r>pt.r)&&!(b[Lt][0].e.c<pt.c||b[Lt][0].e.r<pt.r)){et.F=Pr(b[Lt][0]),(b[Lt][0].s.c!=pt.c||b[Lt][0].s.r!=pt.r)&&delete et.f,et.f&&(et.f=""+yi(b[Lt][1],s,pt,B,C));break}}Bt.dense?(a[pt.r]||(a[pt.r]=[]),a[pt.r][pt.c]=et):a[h]=et}},C={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(C.password=t.password);var L,H=[],V=[],J=[],te=[],q=!1,B=[];B.SheetNames=C.snames,B.sharedf=C.sharedf,B.arrayf=C.arrayf,B.names=[],B.XTI=[];var re=0,ee=0,N=0,R=[],z=[],X;C.codepage=1200,Qo(1200);for(var G=!1;e.l<e.length-1;){var Z=e.l,se=e.read_shift(2);if(se===0&&re===10)break;var K=e.l===e.length?0:e.read_shift(2),oe=ST[se];if(oe&&oe.f){if(t.bookSheets&&re===133&&se!==133)break;if(re=se,oe.r===2||oe.r==12){var fe=e.read_shift(2);if(K-=2,!C.enc&&fe!==se&&((fe&255)<<8|fe>>8)!==se)throw new Error("rt mismatch: "+fe+"!="+se);oe.r==12&&(e.l+=10,K-=10)}var W={};if(se===10?W=oe.f(e,K,C):W=dve(se,oe,e,K,C),ee==0&&[9,521,1033,2057].indexOf(re)===-1)continue;switch(se){case 34:r.opts.Date1904=E.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(e.l=0),C.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=W;break;case 66:var _e=Number(W);switch(_e){case 21010:_e=1200;break;case 32768:_e=1e4;break;case 32769:_e=1252;break}Qo(C.codepage=_e),G=!0;break;case 317:C.rrtabid=W;break;case 25:C.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:C.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(a["!type"]="dialog"),W.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),W.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(W);break;case 430:B.push([W]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(W);break;case 24:case 536:X={Name:W.Name,Ref:yi(W.rgce,s,null,B,C)},W.itab>0&&(X.Sheet=W.itab-1),B.names.push(X),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(z[W.itab-1]={ref:Pr(W.rgce[0][0][1][2])});break;case 22:C.ExternCount=W;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(W),B.XTI=B.XTI.concat(W);break;case 2196:if(C.biff<8)break;X!=null&&(X.Comment=W[1]);break;case 18:a["!protect"]=W;break;case 19:W!==0&&C.WTF&&console.error("Password verifier: "+W);break;case 133:i[W.pos]=W,C.snames.push(W.name);break;case 10:{if(--ee)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Pr(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ae=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Pr(s),s.e.r=Ae}s.e.r++,s.e.c++}H.length>0&&(a["!merges"]=H),V.length>0&&(a["!objects"]=V),J.length>0&&(a["!cols"]=J),te.length>0&&(a["!rows"]=te),E.Sheets.push(A)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),C.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(C.biff=5,G=!0,Qo(C.codepage=28591)),C.biff==8&&W.BIFFVer==0&&W.dt==16&&(C.biff=2),ee++)break;if(a=t.dense?[]:{},C.biff<8&&!G&&(G=!0,Qo(C.codepage=t.codepage||1252)),C.biff<5||W.BIFFVer==0&&W.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-K,name:c};i[Se.pos]=Se,C.snames.push(c)}else c=(i[Z]||{name:""}).name;W.dt==32&&(a["!type"]="chart"),W.dt==64&&(a["!type"]="macro"),H=[],V=[],C.arrayf=b=[],J=[],te=[],q=!1,A={Hidden:(i[Z]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[W.r]||[])[W.c]:a[ir({c:W.c,r:W.r})])&&++W.c,w={ixfe:W.ixfe,XF:P[W.ixfe]||{},v:W.val,t:"n"},N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 5:case 517:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.val,t:W.t},N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 638:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.rknum,t:"n"},N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 189:for(var ie=W.c;ie<=W.C;++ie){var ke=W.rkrec[ie-W.c][0];w={ixfe:ke,XF:P[ke],v:W.rkrec[ie-W.c][1],t:"n"},N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:ie,r:W.r},w,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(w=px(W.val,W.cell.ixfe,W.tt),w.XF=P[w.ixfe],t.cellFormula){var Le=W.formula;if(Le&&Le[0]&&Le[0][0]&&Le[0][0][0]=="PtgExp"){var Be=Le[0][0][1][0],Xe=Le[0][0][1][1],Re=ir({r:Be,c:Xe});v[Re]?w.f=""+yi(W.formula,s,W.cell,B,C):w.F=((t.dense?(a[Be]||[])[Xe]:a[Re])||{}).F}else w.f=""+yi(W.formula,s,W.cell,B,C)}N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T(W.cell,w,t),o=W}break;case 7:case 519:if(o)o.val=W,w=px(W,o.cell.ixfe,"s"),w.XF=P[w.ixfe],t.cellFormula&&(w.f=""+yi(o.formula,s,o.cell,B,C)),N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(W);var Ye=ir(W[0].s);if(d=t.dense?(a[W[0].s.r]||[])[W[0].s.c]:a[Ye],t.cellFormula&&d){if(!o||!Ye||!d)break;d.f=""+yi(W[1],s,W[0],B,C),d.F=Pr(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;v[ir(o.cell)]=W[0],d=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[ir(o.cell)],(d||{}).f=""+yi(W[0],s,f,B,C)}}break;case 253:w=px(l[W.isst].t,W.ixfe,"s"),l[W.isst].h&&(w.h=l[W.isst].h),w.XF=P[w.ixfe],N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:W.ixfe,XF:P[W.ixfe],t:"z"},N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t));break;case 190:if(t.sheetStubs)for(var Me=W.c;Me<=W.C;++Me){var Ge=W.ixfe[Me-W.c];w={ixfe:Ge,XF:P[Ge],t:"z"},N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:Me,r:W.r},w,t)}break;case 214:case 516:case 4:w=px(W.val,W.ixfe,"s"),w.XF=P[w.ixfe],N>0&&(w.z=R[w.ixfe>>8&63]),_l(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 0:case 512:ee===1&&(s=W);break;case 252:l=W;break;case 1054:if(C.biff==4){R[N++]=W[1];for(var ot=0;ot<N+163&&lr[ot]!=W[1];++ot);ot>=163&&Dh(W[1],N+163)}else Dh(W[1],W[0]);break;case 30:{R[N++]=W;for(var nt=0;nt<N+163&&lr[nt]!=W;++nt);nt>=163&&Dh(W,N+163)}break;case 229:H=H.concat(W);break;case 93:V[W.cmo[0]]=C.lastobj=W;break;case 438:C.lastobj.TxO=W;break;case 127:C.lastobj.ImData=W;break;case 440:for(y=W[0].s.r;y<=W[0].e.r;++y)for(m=W[0].s.c;m<=W[0].e.c;++m)d=t.dense?(a[y]||[])[m]:a[ir({c:m,r:y})],d&&(d.l=W[1]);break;case 2048:for(y=W[0].s.r;y<=W[0].e.r;++y)for(m=W[0].s.c;m<=W[0].e.c;++m)d=t.dense?(a[y]||[])[m]:a[ir({c:m,r:y})],d&&d.l&&(d.l.Tooltip=W[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;d=t.dense?(a[W[0].r]||[])[W[0].c]:a[ir(W[0])];var dt=V[W[2]];d||(t.dense?(a[W[0].r]||(a[W[0].r]=[]),d=a[W[0].r][W[0].c]={t:"z"}):d=a[ir(W[0])]={t:"z"},s.e.r=Math.max(s.e.r,W[0].r),s.s.r=Math.min(s.s.r,W[0].r),s.e.c=Math.max(s.e.c,W[0].c),s.s.c=Math.min(s.s.c,W[0].c)),d.c||(d.c=[]),g={a:W[1],t:dt.TxO.t},d.c.push(g)}break;case 2173:Mpe(P[W.ixfe],W.ext);break;case 125:{if(!C.cellStyles)break;for(;W.e>=W.s;)J[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},q||(q=!0,ZC(W.w/256)),up(J[W.e+1])}break;case 520:{var xt={};W.level!=null&&(te[W.r]=xt,xt.level=W.level),W.hidden&&(te[W.r]=xt,xt.hidden=!0),W.hpt&&(te[W.r]=xt,xt.hpt=W.hpt,xt.hpx=$1(W.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||$g(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[se]]=W;break;case 161:a["!margins"]||$g(a["!margins"]={}),a["!margins"].header=W.header,a["!margins"].footer=W.footer;break;case 574:W.RTL&&(E.Views[0].RTL=!0);break;case 146:O=W;break;case 2198:L=W;break;case 140:D=W;break;case 442:c?A.CodeName=W||A.name:E.WBProps.CodeName=W||"ThisWorkbook";break}}else oe||console.error("Missing Info for XLS Record 0x"+se.toString(16)),e.l+=K}return r.SheetNames=zl(i).sort(function(wt,pt){return Number(wt)-Number(pt)}).map(function(wt){return i[wt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(wt,pt){r.Sheets[r.SheetNames[pt]]["!autofilter"]=wt}),r.Strings=l,r.SSF=ti(lr),C.enc&&(r.Encryption=C.enc),L&&(r.Themes=L),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),B.names.length>0&&(E.Names=B.names),r.Workbook=E,r}var UD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function mve(e,t,r){var n=Cr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=TD(n,Ihe,UD.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Cr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=TD(s,Dhe,UD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Pz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function hq(e,t){t||(t={}),aP(t),VU(),t.codepage&&MC(t.codepage);var r,n;if(e.FullPaths){if(Cr.find(e,"/encryption"))throw new Error("File is password-protected");r=Cr.find(e,"!CompObj"),n=Cr.find(e,"/Workbook")||Cr.find(e,"/Book")}else{switch(t.type){case"base64":e=Yo($s(e));break;case"binary":e=Yo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Qa(e,0),n={content:e}}var a,i;if(r&&fve(r),t.bookProps&&!t.bookSheets)a={};else{var s=wr?"buffer":"array";if(n&&n.content)a=pve(n.content,t);else if((i=Cr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Rg.to_workbook(i.content,(t.type=s,t));else if((i=Cr.find(e,"NativeContent_MAIN"))&&i.content)a=Rg.to_workbook(i.content,(t.type=s,t));else throw(i=Cr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Cr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=eme(e))}var o={};return e.FullPaths&&mve(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var xb={0:{f:Xge},1:{f:e1e},2:{f:c1e},3:{f:a1e},4:{f:r1e},5:{f:l1e},6:{f:h1e},7:{f:s1e},8:{f:v1e},9:{f:g1e},10:{f:p1e},11:{f:m1e},12:{f:t1e},13:{f:u1e},14:{f:i1e},15:{f:n1e},16:{f:oq},17:{f:d1e},18:{f:o1e},19:{f:GC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:q1e},40:{},42:{},43:{f:ppe},44:{f:dpe},45:{f:mpe},46:{f:vpe},47:{f:gpe},48:{},49:{f:yhe},50:{},51:{f:Fpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Vz},62:{f:f1e},63:{f:zpe},64:{f:E1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Pi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:T1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Zge},148:{f:Qge,p:16},151:{f:b1e},152:{},153:{f:U1e},154:{},155:{},156:{f:V1e},157:{},158:{},159:{T:1,f:D0e},160:{T:-1},161:{T:1,f:cd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:y1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Rpe},336:{T:-1},337:{f:$pe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:yT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Bz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:w1e},427:{f:_1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:A1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Jge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:x1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:yT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Qpe},633:{T:1},634:{T:-1},635:{T:1,f:Xpe},636:{T:-1},637:{f:bhe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:I1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:k1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ST={6:{f:OS},10:{f:Pu},12:{f:fa},13:{f:fa},14:{f:Jn},15:{f:Jn},16:{f:Ai},17:{f:Jn},18:{f:Jn},19:{f:fa},20:{f:PD},21:{f:PD},23:{f:Bz},24:{f:OD},25:{f:Jn},26:{},27:{},28:{f:Kde},29:{},34:{f:Jn},35:{f:ND},38:{f:Ai},39:{f:Ai},40:{f:Ai},41:{f:Ai},42:{f:Jn},43:{f:Jn},47:{f:J0e},49:{f:Pde},51:{f:fa},60:{},61:{f:Ede},64:{f:Jn},65:{f:Cde},66:{f:fa},77:{},80:{},81:{},82:{},85:{f:fa},89:{},90:{},91:{},92:{f:yde},93:{f:Xde},94:{},95:{f:Jn},96:{},97:{},99:{f:Jn},125:{f:Vz},128:{f:$de},129:{f:xde},130:{f:fa},131:{f:Jn},132:{f:Jn},133:{f:bde},134:{},140:{f:r0e},141:{f:fa},144:{},146:{f:a0e},151:{},152:{},153:{},154:{},155:{},156:{f:fa},157:{},158:{},160:{f:c0e},161:{f:s0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Lde},190:{f:Mde},193:{f:Pu},197:{},198:{},199:{},200:{},201:{},202:{f:Jn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:fa},220:{},221:{f:Jn},222:{},224:{f:Fde},225:{f:vde},226:{f:Pu},227:{},229:{f:Yde},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:wde},253:{f:Nde},255:{f:_de},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:jz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Jn},353:{f:Pu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Vde},431:{f:Jn},432:{},433:{},434:{},437:{},438:{f:Zde},439:{f:Jn},440:{f:e0e},441:{},442:{f:Kv},443:{},444:{f:fa},445:{},446:{},448:{f:Pu},449:{f:Tde,r:2},450:{f:Pu},512:{f:kD},513:{f:l0e},515:{f:Bde},516:{f:Ode},517:{f:CD},519:{f:u0e},520:{f:Sde},523:{},545:{f:ID},549:{f:ED},566:{},574:{f:kde},638:{f:jde},659:{},1048:{},1054:{f:Ide},1084:{},1212:{f:Wde},2048:{f:t0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:fx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Pu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:i0e,r:12},2173:{f:Lpe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Jn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:qde,r:12},2197:{},2198:{f:Ppe,r:12},2199:{},2200:{},2201:{},2202:{f:Hde,r:12},2203:{f:Pu},2204:{},2205:{},2206:{},2207:{},2211:{f:Ade},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:fa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:o0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:n0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:kD},1:{},2:{f:p0e},3:{f:d0e},4:{f:h0e},5:{f:CD},7:{f:m0e},8:{},9:{f:fx},11:{},22:{f:fa},30:{f:Dde},31:{},32:{},33:{f:ID},36:{},37:{f:ED},50:{f:g0e},62:{},52:{},67:{},68:{f:fa},69:{},86:{},126:{},127:{f:f0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:v0e},223:{},234:{},354:{},421:{},518:{f:OS},521:{f:fx},536:{f:OD},547:{f:ND},561:{},579:{},1030:{f:OS},1033:{f:fx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Mo(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&wz(r)&&e.push(r)}}function zD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Bfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),y=m.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var v=m.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var b=v[o].trim();if(b.match(/<t[dh]/i)){for(var w=b,D=0;w.charAt(0)=="<"&&(D=w.indexOf(">"))>-1;)w=w.slice(D+1);for(var P=0;P<g.length;++P){var O=g[P];O.s.c==u&&O.s.r<c&&c<=O.e.r&&(u=O.e.c+1,P=-1)}var E=Jt(b.slice(0,b.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var A=E.t||E["data-t"]||"";if(!w.length){u+=h;continue}if(w=lz(w),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!w.length){u+=h;continue}var S={t:"s",v:w};r.raw||!w.trim().length||A=="s"||(w==="TRUE"?S={t:"b",v:!0}:w==="FALSE"?S={t:"b",v:!1}:isNaN(nl(w))?isNaN(cp(w).getDate())||(S={t:"d",v:$a(w)},r.cellDates||(S={t:"n",v:Yi(S.v)}),S.z=r.dateNF||lr[14]):S={t:"n",v:nl(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=S):n[ir({r:c,c:u})]=S,u+=h}}}}return n["!ref"]=Pr(d),g.length&&(n["!merges"]=g),n}function gve(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=ir({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||UC(f.w||($c(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(rhe("td",h,d))}}var g="<tr>";return g+i.join("")+"</tr>"}var vve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yve="</body></html>";function xve(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Lf(zD(r[0],t),t);var n=sP();return r.forEach(function(a,i){oP(n,zD(a,t),"Sheet"+(i+1))}),n}function bve(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function wve(e,t){var r=t||{},n=r.header!=null?r.header:vve,a=r.footer!=null?r.footer:yve,i=[n],s=Yp(e["!ref"]);r.dense=Array.isArray(e),i.push(bve(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(gve(e,s,o,r));return i.push("</table>"+a),i.join("")}function dq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Ui(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Yp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=e["!rows"]||(e["!rows"]=[]),g=0,m=0,y=0,v=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var D=o[g];if(qD(D)){if(n.display)continue;d[m]={hidden:!0}}var P=D.children;for(y=v=0;y<P.length;++y){var O=P[y];if(!(n.display&&qD(O))){var E=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):lz(O.innerHTML),A=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<f.length;++h){var S=f[h];S.s.c==v+i&&S.s.r<m+a&&m+a<=S.e.r&&(v=S.e.c+1-i,h=-1)}w=+O.getAttribute("colspan")||1,((b=+O.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:v+i},e:{r:m+a+(b||1)-1,c:v+i+(w||1)-1}});var I={t:"s",v:E},T=O.getAttribute("data-t")||O.getAttribute("t")||"";E!=null&&(E.length==0?I.t=T||"z":n.raw||E.trim().length==0||T=="s"||(E==="TRUE"?I={t:"b",v:!0}:E==="FALSE"?I={t:"b",v:!1}:isNaN(nl(E))?isNaN(cp(E).getDate())||(I={t:"d",v:$a(E)},n.cellDates||(I={t:"n",v:Yi(I.v)}),I.z=n.dateNF||lr[14]):I={t:"n",v:nl(E)})),I.z===void 0&&A!=null&&(I.z=A);var C="",L=O.getElementsByTagName("A");if(L&&L.length)for(var H=0;H<L.length&&!(L[H].hasAttribute("href")&&(C=L[H].getAttribute("href"),C.charAt(0)!="#"));++H);C&&C.charAt(0)!="#"&&(I.l={Target:C}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][v+i]=I):e[ir({c:v+i,r:m+a})]=I,c.e.c<v+i&&(c.e.c=v+i),v+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=Pr(c),m>=l&&(e["!fullref"]=Pr((c.e.r=o.length-g+m-1+a,c))),e}function pq(e,t){var r=t||{},n=r.dense?[]:{};return dq(n,e,t)}function _ve(e,t){return Lf(pq(e,t),t)}function qD(e){var t="",r=Sve(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Sve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Ave(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=jr(t.replace(/<[^>]*>/g,""));return[r]}var WD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function mq(e,t){var r=t||{},n=zC(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],g=r.dense?[]:{},m,y,v={value:""},b="",w=0,D=[],P=-1,O=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,S={},I=[],T={},C=0,L=0,H=[],V=1,J=1,te=[],q={Names:[]},B={},re=["",""],ee=[],N={},R="",z=0,X=!1,G=!1,Z=0;for(M1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=M1.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?g["!ref"]=Pr(E):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(g["!fullref"]=g["!ref"],E.e.r=r.sheetRows-1,g["!ref"]=Pr(E)),I.length&&(g["!merges"]=I),H.length&&(g["!rows"]=H),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=g,G=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Jt(m[0],!1),P=O=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,g=r.dense?[]:{},I=[],H=[],G=!0);break;case"table-row-group":m[1]==="/"?--A:++A;break;case"table-row":case"行":if(m[1]==="/"){P+=V,V=1;break}if(f=Jt(m[0],!1),f.行号?P=f.行号-1:P==-1&&(P=0),V=+f["number-rows-repeated"]||1,V<10)for(Z=0;Z<V;++Z)A>0&&(H[P+Z]={level:A});O=-1;break;case"covered-table-cell":m[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][O]={t:"z"}):g[ir({r:P,c:O})]={t:"z"}),b="",D=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++O,v=Jt(m[0],!1),J=parseInt(v["number-columns-repeated"]||"1",10),y={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(y.f=$D(jr(v.formula))),(v.数据类型||v["value-type"])=="string"&&(y.t="s",y.v=jr(v["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][O]=y):g[ir({r:P,c:O})]=y),O+=J-1;else if(m[1]!=="/"){++O,b="",w=0,D=[],J=1;var se=V?P+V-1:P;if(O>E.e.c&&(E.e.c=O),O<E.s.c&&(E.s.c=O),P<E.s.r&&(E.s.r=P),se>E.e.r&&(E.e.r=se),v=Jt(m[0],!1),ee=[],N={},y={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=jr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(C=parseInt(v["number-matrix-rows-spanned"],10)||0,L=parseInt(v["number-matrix-columns-spanned"],10)||0,T={s:{r:P,c:O},e:{r:P+C-1,c:O+L-1}},y.F=Pr(T),te.push([T,y.F])),v.formula)y.f=$D(v.formula);else for(Z=0;Z<te.length;++Z)P>=te[Z][0].s.r&&P<=te[Z][0].e.r&&O>=te[Z][0].s.c&&O<=te[Z][0].e.c&&(y.F=te[Z][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(C=parseInt(v["number-rows-spanned"],10)||0,L=parseInt(v["number-columns-spanned"],10)||0,T={s:{r:P,c:O},e:{r:P+C-1,c:O+L-1}},I.push(T)),v["number-columns-repeated"]&&(J=parseInt(v["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=En(v["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(v.value);break;case"percentage":y.t="n",y.v=parseFloat(v.value);break;case"currency":y.t="n",y.v=parseFloat(v.value);break;case"date":y.t="d",y.v=$a(v["date-value"]),r.cellDates||(y.t="n",y.v=Yi(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=Rfe(v["time-value"])/86400,r.cellDates&&(y.t="d",y.v=d5(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(v.数据数值);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",v["string-value"]!=null&&(b=jr(v["string-value"]),D=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(X=!1,y.t==="s"&&(y.v=b||"",D.length&&(y.R=D),X=w==0),B.Target&&(y.l=B),ee.length>0&&(y.c=ee,ee=[]),b&&r.cellText!==!1&&(y.w=b),X&&(y.t="z",delete y.v),(!X||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var K=0;K<V;++K){if(J=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(g[P+K]||(g[P+K]=[]),g[P+K][O]=K==0?y:ti(y);--J>0;)g[P+K][O+J]=ti(y);else for(g[ir({r:P+K,c:O})]=y;--J>0;)g[ir({r:P+K,c:O+J})]=ti(y);E.e.c<=O&&(E.e.c=O)}J=parseInt(v["number-columns-repeated"]||"1",10),O+=J-1,J=0,y={},b="",D=[]}B={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;N.t=b,D.length&&(N.R=D),N.a=R,ee.push(N)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",z=0,b="",w=0,D=[];break;case"creator":m[1]==="/"?R=n.slice(z,m.index):z=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",w=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(S[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Jt(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Jt(m[0],!1),l+=WD[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Jt(m[0],!1),l+=WD[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Jt(m[0],!1),re=IS(s["cell-range-address"]);var oe={Name:s.name,Ref:re[0]+"!"+re[1]};G&&(oe.Sheet=d.length),q.Names.push(oe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!v||!v["string-value"])){var fe=Ave(n.slice(w,m.index));b=(b.length>0?b+`
`:"")+fe[0]}else Jt(m[0],!1),w=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{re=IS(Jt(m[0])["target-range-address"]),h[re[0]]["!autofilter"]={ref:re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(B=Jt(m[0],!1),!B.href)break;B.Target=jr(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(re=IS(B.Target.slice(1)),B.Target="#"+re[0]+"!"+re[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var W={Sheets:h,SheetNames:d,Workbook:q};return r.bookSheets&&delete W.Sheets,W}function HD(e,t){t=t||{},ao(e,"META-INF/manifest.xml")&&Bhe(ua(e,"META-INF/manifest.xml"),t);var r=Os(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=mq(mn(r),t);return ao(e,"meta.xml")&&(n.Props=Cz(ua(e,"meta.xml"))),n}function GD(e,t){return mq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function rP(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function AT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):mn(od(e))}function TT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function KD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Tve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function B1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ea(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ei(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=B1(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=B1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function nP(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Eve(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=B1(e,n),i=Ei(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ea(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Ei(o.data),c=Ea(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Ea(i[3][0].data)>>>0>0),r.push(s)}return r}function kve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=B1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[TT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=TT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Cve(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(kve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return TT(t)}function Pve(e,t,r,n){var a=rP(e),i=a.getUint32(4,!0),s=(n>1?12:8)+KD(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=KD(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Nve(e,t,r){var n=rP(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=Tve(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Ove(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Pve(e,t,r,e[0]);case 5:return Nve(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function hf(e){var t=Ei(e);return B1(t[1][0].data)}function YD(e,t){var r=Ei(t.data),n=Ea(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Ei(s.data),l=Ea(o[1][0].data)>>>0;switch(n){case 1:i[l]=AT(o[3][0].data);break;case 8:{var c=e[hf(o[9][0].data)][0],u=Ei(c.data),f=e[hf(u[1][0].data)][0],h=Ea(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=Ei(f.data);i[l]=d[3].map(function(g){return AT(g.data)}).join("")}break}}),i}function Ive(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g,m,y=Ei(e),v=Ea(y[1][0].data)>>>0,b=Ea(y[2][0].data)>>>0,w=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Ea(y[8][0].data)>0||!1,D,P;if((i=(a=y[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=y[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&t!=1)D=(d=(h=y[4])==null?void 0:h[0])==null?void 0:d.data,P=(m=(g=y[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=w?4:1,E=rP(D),A=[],S=0;S<D.length/2;++S){var I=E.getUint16(S*2,!0);I<65535&&A.push([S,I])}if(A.length!=b)throw"Expected ".concat(b," cells, found ").concat(A.length);var T=[];for(S=0;S<A.length-1;++S)T[A[S][0]]=P.subarray(A[S][1]*O,A[S+1][1]*O);return A.length>=1&&(T[A[A.length-1][0]]=P.subarray(A[A.length-1][1]*O)),{R:v,cells:T}}function Dve(e,t){var r,n=Ei(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ea(n[7][0].data)>>>0>0?1:0:-1,i=nP(n[5],function(s){return Ive(s,a)});return{nrows:Ea(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function jve(e,t,r){var n,a=Ei(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ea(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ea(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Pr(i);var s=Ei(a[4][0].data),o=YD(e,e[hf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?YD(e,e[hf(s[17][0].data)][0]):[],c=Ei(s[3][0].data),u=0;c[1].forEach(function(f){var h=Ei(f.data),d=e[hf(h[2][0].data)][0],g=Ea(d.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=Dve(e,d);m.data.forEach(function(y,v){y.forEach(function(b,w){var D=ir({r:u+v,c:w}),P=Ove(b,o,l);P&&(r[D]=P)})}),u+=m.nrows})}function Lve(e,t){var r=Ei(t.data),n={"!ref":"A1"},a=e[hf(r[2][0].data)],i=Ea(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return jve(e,a[0],n),n}function Mve(e,t){var r,n=Ei(t.data),a={name:(r=n[1])!=null&&r[0]?AT(n[1][0].data):"",sheets:[]},i=nP(n[2],hf);return i.forEach(function(s){e[s].forEach(function(o){var l=Ea(o.meta[1][0].data);l==6e3&&a.sheets.push(Lve(e,o))})}),a}function Rve(e,t){var r=sP(),n=Ei(t.data),a=nP(n[1],hf);if(a.forEach(function(i){e[i].forEach(function(s){var o=Ea(s.meta[1][0].data);if(o==2){var l=Mve(e,s);l.sheets.forEach(function(c,u){oP(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function jS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Cve(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Eve(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ea(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Ea(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Rve(i,o)}function Fve(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function aP(e){Fve([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function $ve(e){return g0.WS.indexOf(e)>-1?"sheet":e==g0.CS?"chart":e==g0.DS?"dialog":e==g0.MS?"macro":e&&e.length?e:"sheet"}function Bve(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,$ve(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Vve(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Lg(Os(e,r,!0),t);var h=ua(e,t),d;switch(o){case"sheet":d=G1e(h,t,a,l,i[n],c,u,f);break;case"chart":if(d=K1e(h,t,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var g=cg(d["!drawel"].Target,t),m=xT(g),y=Hpe(Os(e,g,!0),Lg(Os(e,m,!0),g)),v=cg(y,g),b=xT(v);d=N1e(Os(e,v,!0),v,l,Lg(Os(e,b,!0),v),c,d);break;case"macro":d=Y1e(h,t,a,l,i[n],c,u,f);break;case"dialog":d=X1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var w=[];i&&i[n]&&zl(i[n]).forEach(function(D){var P="";if(i[n][D].Type==g0.CMNT){P=cg(i[n][D].Target,t);var O=eve(ua(e,P,!0),P,l);if(!O||!O.length)return;jD(d,O,!1)}i[n][D].Type==g0.TCMNT&&(P=cg(i[n][D].Target,t),w=w.concat(Kpe(ua(e,P,!0),l)))}),w&&w.length&&jD(d,w,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function Js(e){return e.charAt(0)=="/"?e.slice(1):e}function Uve(e,t){if(ZU(),t=t||{},aP(t),ao(e,"META-INF/manifest.xml")||ao(e,"objectdata.xml"))return HD(e,t);if(ao(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof jS<"u"){if(e.FileIndex)return jS(e);var r=Cr.utils.cfb_new();return oD(e).forEach(function(H){zfe(r,H,Ufe(e,H))}),jS(r)}throw new Error("Unsupported NUMBERS file")}if(!ao(e,"[Content_Types].xml"))throw ao(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ao(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=oD(e),a=Fhe(Os(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ua(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ua(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Fg=[],a.sst)try{Fg=Z1e(ua(e,Js(a.sst)),a.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&a.themes.length&&(l=J1e(Os(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=Q1e(ua(e,Js(a.style)),a.style,l,t))}a.links.map(function(H){try{var V=Lg(Os(e,xT(Js(H))),H);return rve(ua(e,Js(H)),V,H,t)}catch{}});var u=H1e(ua(e,Js(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ua(e,Js(a.coreprops[0]),!0),h&&(f=Cz(h)),a.extprops.length!==0&&(h=ua(e,Js(a.extprops[0]),!0),h&&zhe(h,f,t)));var d={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Os(e,Js(a.custprops[0]),!0),h&&(d=Whe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(V){return V.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=d),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=tve(ua(e,Js(a.calcchain)),a.calcchain));var y=0,v={},b,w;{var D=u.Sheets;f.Worksheets=D.length,f.SheetNames=[];for(var P=0;P!=D.length;++P)f.SheetNames[P]=D[P].name}var O=i?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");ao(e,A)||(A="xl/_rels/workbook."+O+".rels");var S=Lg(Os(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=nve(ua(e,Js(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Ype(ua(e,Js(a.people[0])),t)),S&&(S=Bve(S,u.Sheets));var I=ua(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var T="sheet";if(S&&S[y]?(b="xl/"+S[y][1].replace(/[\/]?xl\//,""),ao(e,b)||(b=S[y][1]),ao(e,b)||(b=A.replace(/_rels\/.*$/,"")+S[y][1]),T=S[y][2]):(b="xl/worksheets/sheet"+(y+1-I)+"."+O,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var C=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==y&&(C=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==f.SheetNames[y].toLowerCase()&&(C=1);if(!C)continue e}}Vve(e,b,w,f.SheetNames[y],y,v,s,T,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:Fg,Styles:c,Themes:l,SSF:ti(lr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(H,V){H=H.replace(/^Root Entry[\/]/,""),g.keys.push(H),g.files[H]=e.FileIndex[V]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=ua(e,Js(a.vba[0]),!0):a.defaults&&a.defaults.bin===Zpe&&(g.vbaraw=ua(e,"xl/vbaProject.bin",!0))),g}function zve(e,t){var r=t||{},n="Workbook",a=Cr.find(e,n);try{if(n="/!DataSpaces/Version",a=Cr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(L0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Cr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=R0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Cr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=F0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Cr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);B0e(a.content)}catch{}if(n="/EncryptionInfo",a=Cr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=V0e(a.content);if(n="/EncryptedPackage",a=Cr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function iP(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=$s(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qve(e,t){return Cr.find(e,"EncryptedPackage")?zve(e,t):hq(e,t)}function Wve(e,t){var r,n=e,a=t||{};return a.type||(a.type=wr&&Buffer.isBuffer(e)?"buffer":"base64"),r=iz(n,a),Uve(r,a)}function gq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return _T(e.slice(r),t);default:break e}return R1.to_workbook(e,t)}function Hve(e,t){var r="",n=iP(e,t);switch(t.type){case"base64":r=$s(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Yh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=mn(r)),t.type="binary",gq(r,t)}function Gve(e,t){var r=e;return t.type=="base64"&&(r=$s(r)),r=Bu.utils.decode(1200,r.slice(2),"str"),t.type="binary",gq(r,t)}function Kve(e){return e.match(/[^\x00-\x7F]/)?ug(e):e}function LS(e,t,r,n){return n?(r.type="string",R1.to_workbook(e,r)):R1.to_workbook(t,r)}function ET(e,t){VU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return ET(new Uint8Array(e),(r=ti(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),O0={},r.dateNF&&(O0.dateNF=r.dateNF),r.type||(r.type=wr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=wr?"buffer":"binary",n=Lfe(e),typeof Uint8Array<"u"&&!wr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Kve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=ti(r),r.type="array",ET(RC(n),r)}switch((a=iP(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return qve(Cr.read(n,r),r);break;case 9:if(a[1]<=8)return hq(n,r);break;case 60:return _T(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return _0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return b0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Wve(n,r):LS(e,n,r,i);case 239:return a[3]===60?_T(n,r):LS(e,n,r,i);case 255:if(a[1]===254)return Gve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Rg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Rg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return DD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Z0e.to_workbook(n,r);break;case 10:case 13:case 32:return Hve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return y0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?DD.to_workbook(n,r):LS(e,n,r,i)}function Yve(e,t,r,n,a,i,s,o){var l=ri(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var d=t.s.c;d<=t.e.c;++d){var g=s?e[r][d]:e[n[d]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[d]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&m===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:$c(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function kT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Yn(u);break;case"number":l=Yn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=ri(l.s.r),h=[],d=[],g=0,m=0,y=Array.isArray(e),v=l.s.r,b=0,w={};y&&!e[v]&&(e[v]=[]);var D=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(D[b]||{}).hidden)switch(h[b]=Sa(b),r=y?e[v][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=$c(r,null,c),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[b]=o}for(v=l.s.r+a;v<=l.e.r;++v)if(!(P[v]||{}).hidden){var O=Yve(e,l,v,h,n,i,y,c);(O.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[g++]=O.row)}return d.length=g,d}var XD=/"/g;function Xve(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=ri(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=o.dense?(e[r]||[])[h]:e[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:$c(d,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(XD,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(XD,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function vq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Yn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Sa(g));for(var m=0,y=a.s.r;y<=a.e.r;++y)(d[y]||{}).hidden||(u=Xve(e,a,y,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function Qve(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=vq(e,t);return r}function Jve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Yn(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Sa(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=ri(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function yq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ui(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Yn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],d=0;t.forEach(function(m,y){zl(m).forEach(function(v){(d=h.indexOf(v))==-1&&(h[d=h.length]=v);var b=m[v],w="z",D="",P=ir({c:o+d,r:s+y+a});c=V1(i,P),b&&typeof b=="object"&&!(b instanceof Date)?i[P]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=Yi(b)),D=n.dateNF||lr[14]):b===null&&n.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,D&&(c.z=D)):i[P]=c={t:w,v:b},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=ri(s);if(a)for(d=0;d<h.length;++d)i[Sa(d+o)+g]={t:"s",v:h[d]};return i["!ref"]=Pr(u),i}function Zve(e,t){return yq(null,e,t)}function V1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ui(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?V1(e,ir(t)):V1(e,ir({r:t,c:r||0}))}function eye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function sP(){return{SheetNames:[],Sheets:{}}}function oP(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(F1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function tye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=eye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function rye(e,t){return e.z=t,e}function xq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function nye(e,t,r){return xq(e,"#"+t,r)}function aye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function iye(e,t,r,n){for(var a=typeof t!="string"?t:Yn(t),i=typeof t=="string"?t:Pr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=V1(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var sye={encode_col:Sa,encode_row:ri,encode_cell:ir,encode_range:Pr,decode_col:HC,decode_row:WC,split_cell:vhe,decode_cell:Ui,decode_range:Yp,format_cell:$c,sheet_add_aoa:Sz,sheet_add_json:yq,sheet_add_dom:dq,aoa_to_sheet:Xp,json_to_sheet:Zve,table_to_sheet:pq,table_to_book:_ve,sheet_to_csv:vq,sheet_to_txt:Qve,sheet_to_json:kT,sheet_to_html:wve,sheet_to_formulae:Jve,sheet_to_row_object_array:kT,sheet_get_cell:V1,book_new:sP,book_append_sheet:oP,book_set_sheet_visibility:tye,cell_set_number_format:rye,cell_set_hyperlink:xq,cell_set_internal_link:nye,cell_add_comment:aye,sheet_set_array_formula:iye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},bq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Xm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var I=P(S);I.chunkSize=parseInt(I.chunkSize),S.step||S.chunk||(I.chunkSize=null),this._handle=new m(I),(this._handle.streamer=this)._config=I}).call(this,A),this.parseChunk=function(S,I){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let L=this._config.newline;L||(C=this._config.quoteChar||'"',L=this._handle.guessLineEndings(S,C)),S=[...S.split(L).slice(T)].join(L)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(S))!==void 0&&(S=C),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+S,C=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=C.meta.cursor,T=(this._finished||(this._partialLine=T.substring(S-this._baseIndex),this._baseIndex=S),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:C,workerId:c.WORKER_ID,finished:T});else if(E(this._config.chunk)&&!I){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!T||!E(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(S){E(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function f(A){var S;(A=A||{}).chunkSize||(A.chunkSize=c.RemoteChunkSize),u.call(this,A),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=O(this._chunkLoaded,this),S.onerror=O(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,T=this._config.downloadRequestHeaders;for(I in T)S.setRequestHeader(I,T[I])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+C));try{S.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(I){I=S.statusText||I,this._sendError(new Error(I))}}function h(A){(A=A||{}).chunkSize||(A.chunkSize=c.LocalChunkSize),u.call(this,A);var S,I,T=typeof FileReader<"u";this.stream=function(C){this._input=C,I=C.slice||C.webkitSlice||C.mozSlice,T?((S=new FileReader).onload=O(this._chunkLoaded,this),S.onerror=O(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),C=I.call(C,this._start,L)),S.readAsText(C,this._config.encoding));T||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(S.error)}}function d(A){var S;u.call(this,A=A||{}),this.stream=function(I){return S=I,this._nextChunk()},this._nextChunk=function(){var I,T;if(!this._finished)return I=this._config.chunkSize,S=I?(T=S.substring(0,I),S.substring(I)):(T=S,""),this._finished=!S,this.parseChunk(T)}}function g(A){u.call(this,A=A||{});var S=[],I=!0,T=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):I=!0},this._streamData=O(function(C){try{S.push(typeof C=="string"?C:C.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(L){this._streamError(L)}},this),this._streamError=O(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=O(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(A){var S,I,T,C,L=Math.pow(2,53),H=-L,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,q=0,B=0,re=!1,ee=!1,N=[],R={data:[],errors:[],meta:{}};function z(se){return A.skipEmptyLines==="greedy"?se.join("").trim()==="":se.length===1&&se[0].length===0}function X(){if(R&&T&&(Z("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),T=!1),A.skipEmptyLines&&(R.data=R.data.filter(function(fe){return!z(fe)})),G()){let fe=function(W,_e){E(A.transformHeader)&&(W=A.transformHeader(W,_e)),N.push(W)};if(R)if(Array.isArray(R.data[0])){for(var se=0;G()&&se<R.data.length;se++)R.data[se].forEach(fe);R.data.splice(0,1)}else R.data.forEach(fe)}function K(fe,W){for(var _e=A.header?{}:[],Ae=0;Ae<fe.length;Ae++){var Se=Ae,ie=fe[Ae],ie=((ke,Le)=>(Be=>(A.dynamicTypingFunction&&A.dynamicTyping[Be]===void 0&&(A.dynamicTyping[Be]=A.dynamicTypingFunction(Be)),(A.dynamicTyping[Be]||A.dynamicTyping)===!0))(ke)?Le==="true"||Le==="TRUE"||Le!=="false"&&Le!=="FALSE"&&((Be=>{if(V.test(Be)&&(Be=parseFloat(Be),H<Be&&Be<L))return 1})(Le)?parseFloat(Le):J.test(Le)?new Date(Le):Le===""?null:Le):Le)(Se=A.header?Ae>=N.length?"__parsed_extra":N[Ae]:Se,ie=A.transform?A.transform(ie,Se):ie);Se==="__parsed_extra"?(_e[Se]=_e[Se]||[],_e[Se].push(ie)):_e[Se]=ie}return A.header&&(Ae>N.length?Z("FieldMismatch","TooManyFields","Too many fields: expected "+N.length+" fields but parsed "+Ae,B+W):Ae<N.length&&Z("FieldMismatch","TooFewFields","Too few fields: expected "+N.length+" fields but parsed "+Ae,B+W)),_e}var oe;R&&(A.header||A.dynamicTyping||A.transform)&&(oe=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(K),oe=R.data.length):R.data=K(R.data,0),A.header&&R.meta&&(R.meta.fields=N),B+=oe)}function G(){return A.header&&N.length===0}function Z(se,K,oe,fe){se={type:se,code:K,message:oe},fe!==void 0&&(se.row=fe),R.errors.push(se)}E(A.step)&&(C=A.step,A.step=function(se){R=se,G()?X():(X(),R.data.length!==0&&(q+=se.data.length,A.preview&&q>A.preview?I.abort():(R.data=R.data[0],C(R,te))))}),this.parse=function(se,K,oe){var fe=A.quoteChar||'"',fe=(A.newline||(A.newline=this.guessLineEndings(se,fe)),T=!1,A.delimiter?E(A.delimiter)&&(A.delimiter=A.delimiter(se),R.meta.delimiter=A.delimiter):((fe=((W,_e,Ae,Se,ie)=>{var ke,Le,Be,Xe;ie=ie||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Re=0;Re<ie.length;Re++){for(var Ye,Me=ie[Re],Ge=0,ot=0,nt=0,dt=(Be=void 0,new v({comments:Se,delimiter:Me,newline:_e,preview:10}).parse(W)),xt=0;xt<dt.data.length;xt++)Ae&&z(dt.data[xt])?nt++:(Ye=dt.data[xt].length,ot+=Ye,Be===void 0?Be=Ye:0<Ye&&(Ge+=Math.abs(Ye-Be),Be=Ye));0<dt.data.length&&(ot/=dt.data.length-nt),(Le===void 0||Ge<=Le)&&(Xe===void 0||Xe<ot)&&1.99<ot&&(Le=Ge,ke=Me,Xe=ot)}return{successful:!!(A.delimiter=ke),bestDelimiter:ke}})(se,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=fe.bestDelimiter:(T=!0,A.delimiter=c.DefaultDelimiter),R.meta.delimiter=A.delimiter),P(A));return A.preview&&A.header&&fe.preview++,S=se,I=new v(fe),R=I.parse(S,K,oe),X(),re?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,I.abort(),S=E(A.chunk)?"":S.substring(I.getCharIndex())},this.resume=function(){te.streamer._halted?(re=!1,te.streamer.parseChunk(S,!0)):setTimeout(te.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,I.abort(),R.meta.aborted=!0,E(A.complete)&&A.complete(R),S=""},this.guessLineEndings=function(W,fe){W=W.substring(0,1048576);var fe=new RegExp(y(fe)+"([^]*?)"+y(fe),"gm"),oe=(W=W.replace(fe,"")).split("\r"),fe=W.split(`
`),W=1<fe.length&&fe[0].length<oe[0].length;if(oe.length===1||W)return`
`;for(var _e=0,Ae=0;Ae<oe.length;Ae++)oe[Ae][0]===`
`&&_e++;return _e>=oe.length/2?`\r
`:"\r"}}function y(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(A){var S=(A=A||{}).delimiter,I=A.newline,T=A.comments,C=A.step,L=A.preview,H=A.fastMode,V=null,J=!1,te=A.quoteChar==null?'"':A.quoteChar,q=te;if(A.escapeChar!==void 0&&(q=A.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),T===S)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var B=0,re=!1;this.parse=function(ee,N,R){if(typeof ee!="string")throw new Error("Input must be a string");var z=ee.length,X=S.length,G=I.length,Z=T.length,se=E(C),K=[],oe=[],fe=[],W=B=0;if(!ee)return Ge();if(H||H!==!1&&ee.indexOf(te)===-1){for(var _e=ee.split(I),Ae=0;Ae<_e.length;Ae++){if(fe=_e[Ae],B+=fe.length,Ae!==_e.length-1)B+=I.length;else if(R)return Ge();if(!T||fe.substring(0,Z)!==T){if(se){if(K=[],Xe(fe.split(S)),ot(),re)return Ge()}else Xe(fe.split(S));if(L&&L<=Ae)return K=K.slice(0,L),Ge(!0)}}return Ge()}for(var Se=ee.indexOf(S,B),ie=ee.indexOf(I,B),ke=new RegExp(y(q)+y(te),"g"),Le=ee.indexOf(te,B);;)if(ee[B]===te)for(Le=B,B++;;){if((Le=ee.indexOf(te,Le+1))===-1)return R||oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:B}),Ye();if(Le===z-1)return Ye(ee.substring(B,Le).replace(ke,te));if(te===q&&ee[Le+1]===q)Le++;else if(te===q||Le===0||ee[Le-1]!==q){Se!==-1&&Se<Le+1&&(Se=ee.indexOf(S,Le+1));var Be=Re((ie=ie!==-1&&ie<Le+1?ee.indexOf(I,Le+1):ie)===-1?Se:Math.min(Se,ie));if(ee.substr(Le+1+Be,X)===S){fe.push(ee.substring(B,Le).replace(ke,te)),ee[B=Le+1+Be+X]!==te&&(Le=ee.indexOf(te,B)),Se=ee.indexOf(S,B),ie=ee.indexOf(I,B);break}if(Be=Re(ie),ee.substring(Le+1+Be,Le+1+Be+G)===I){if(fe.push(ee.substring(B,Le).replace(ke,te)),Me(Le+1+Be+G),Se=ee.indexOf(S,B),Le=ee.indexOf(te,B),se&&(ot(),re))return Ge();if(L&&K.length>=L)return Ge(!0);break}oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:B}),Le++}}else if(T&&fe.length===0&&ee.substring(B,B+Z)===T){if(ie===-1)return Ge();B=ie+G,ie=ee.indexOf(I,B),Se=ee.indexOf(S,B)}else if(Se!==-1&&(Se<ie||ie===-1))fe.push(ee.substring(B,Se)),B=Se+X,Se=ee.indexOf(S,B);else{if(ie===-1)break;if(fe.push(ee.substring(B,ie)),Me(ie+G),se&&(ot(),re))return Ge();if(L&&K.length>=L)return Ge(!0)}return Ye();function Xe(nt){K.push(nt),W=B}function Re(nt){var dt=0;return dt=nt!==-1&&(nt=ee.substring(Le+1,nt))&&nt.trim()===""?nt.length:dt}function Ye(nt){return R||(nt===void 0&&(nt=ee.substring(B)),fe.push(nt),B=z,Xe(fe),se&&ot()),Ge()}function Me(nt){B=nt,Xe(fe),fe=[],ie=ee.indexOf(I,B)}function Ge(nt){if(A.header&&!N&&K.length&&!J){var dt=K[0],xt=Object.create(null),wt=new Set(dt);let pt=!1;for(let et=0;et<dt.length;et++){let Bt=dt[et];if(xt[Bt=E(A.transformHeader)?A.transformHeader(Bt,et):Bt]){let Lt,Hr=xt[Bt];for(;Lt=Bt+"_"+Hr,Hr++,wt.has(Lt););wt.add(Lt),dt[et]=Lt,xt[Bt]++,pt=!0,(V=V===null?{}:V)[Lt]=Bt}else xt[Bt]=1,dt[et]=Bt;wt.add(Bt)}pt&&console.warn("Duplicate headers found and renamed."),J=!0}return{data:K,errors:oe,meta:{delimiter:S,linebreak:I,aborted:re,truncated:!!nt,cursor:W+(N||0),renamedHeaders:V}}}function ot(){C(Ge()),K=[],oe=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return B}}function b(A){var S=A.data,I=o[S.workerId],T=!1;if(S.error)I.userError(S.error,S.file);else if(S.results&&S.results.data){var C={abort:function(){T=!0,w(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(E(I.userStep)){for(var L=0;L<S.results.data.length&&(I.userStep({data:S.results.data[L],errors:S.results.errors,meta:S.results.meta},C),!T);L++);delete S.results}else E(I.userChunk)&&(I.userChunk(S.results,C,S.file),delete S.results)}S.finished&&!T&&w(S.workerId,S.results)}function w(A,S){var I=o[A];E(I.userComplete)&&I.userComplete(S),I.terminate(),delete o[A]}function D(){throw new Error("Not implemented.")}function P(A){if(typeof A!="object"||A===null)return A;var S,I=Array.isArray(A)?[]:{};for(S in A)I[S]=P(A[S]);return I}function O(A,S){return function(){A.apply(S,arguments)}}function E(A){return typeof A=="function"}return c.parse=function(A,S){var I=(S=S||{}).dynamicTyping||!1;if(E(I)&&(S.dynamicTypingFunction=I,I={}),S.dynamicTyping=I,S.transform=!!E(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof A=="string"?(A=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(A),I=new(S.download?f:d)(S)):A.readable===!0&&E(A.read)&&E(A.on)?I=new g(S):(n.File&&A instanceof File||A instanceof Object)&&(I=new h(S)),I.stream(A);(I=(()=>{var T;return!!c.WORKERS_SUPPORTED&&(T=(()=>{var C=n.URL||n.webkitURL||null,L=r.toString();return c.BLOB_URL||(c.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(T=new n.Worker(T)).onmessage=b,T.id=l++,o[T.id]=T)})()).userStep=S.step,I.userChunk=S.chunk,I.userComplete=S.complete,I.userError=S.error,S.step=E(S.step),S.chunk=E(S.chunk),S.complete=E(S.complete),S.error=E(S.error),delete S.worker,I.postMessage({input:A,config:S,workerId:I.id})},c.unparse=function(A,S){var I=!1,T=!0,C=",",L=`\r
`,H='"',V=H+H,J=!1,te=null,q=!1,B=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(N){return S.delimiter.indexOf(N)!==-1}).length||(C=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(I=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(J=S.skipEmptyLines),typeof S.newline=="string"&&(L=S.newline),typeof S.quoteChar=="string"&&(H=S.quoteChar),typeof S.header=="boolean"&&(T=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");te=S.columns}S.escapeChar!==void 0&&(V=S.escapeChar+H),S.escapeFormulae instanceof RegExp?q=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(H),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return re(null,A,J);if(typeof A[0]=="object")return re(te||Object.keys(A[0]),A,J)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||te),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),re(A.fields||[],A.data||[],J);throw new Error("Unable to serialize unrecognized input");function re(N,R,z){var X="",G=(typeof N=="string"&&(N=JSON.parse(N)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(N)&&0<N.length),Z=!Array.isArray(R[0]);if(G&&T){for(var se=0;se<N.length;se++)0<se&&(X+=C),X+=ee(N[se],se);0<R.length&&(X+=L)}for(var K=0;K<R.length;K++){var oe=(G?N:R[K]).length,fe=!1,W=G?Object.keys(R[K]).length===0:R[K].length===0;if(z&&!G&&(fe=z==="greedy"?R[K].join("").trim()==="":R[K].length===1&&R[K][0].length===0),z==="greedy"&&G){for(var _e=[],Ae=0;Ae<oe;Ae++){var Se=Z?N[Ae]:Ae;_e.push(R[K][Se])}fe=_e.join("").trim()===""}if(!fe){for(var ie=0;ie<oe;ie++){0<ie&&!W&&(X+=C);var ke=G&&Z?N[ie]:ie;X+=ee(R[K][ke],ie)}K<R.length-1&&(!z||0<oe&&!W)&&(X+=L)}}return X}function ee(N,R){var z,X;return N==null?"":N.constructor===Date?JSON.stringify(N).slice(1,25):(X=!1,q&&typeof N=="string"&&q.test(N)&&(N="'"+N,X=!0),z=N.toString().replace(B,V),(X=X||I===!0||typeof I=="function"&&I(N,R)||Array.isArray(I)&&I[R]||((G,Z)=>{for(var se=0;se<Z.length;se++)if(-1<G.indexOf(Z[se]))return!0;return!1})(z,c.BAD_DELIMITERS)||-1<z.indexOf(C)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?H+z+H:z)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=v,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=d,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(A){var S=A.config||{},I=[];return this.each(function(L){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)I.push({file:this.files[H],inputElem:this,instanceConfig:a.extend({},S)})}),T(),this;function T(){if(I.length===0)E(A.complete)&&A.complete();else{var L,H,V,J,te=I[0];if(E(A.before)){var q=A.before(te.file,te.inputElem);if(typeof q=="object"){if(q.action==="abort")return L="AbortError",H=te.file,V=te.inputElem,J=q.reason,void(E(A.error)&&A.error({name:L},H,V,J));if(q.action==="skip")return void C();typeof q.config=="object"&&(te.instanceConfig=a.extend(te.instanceConfig,q.config))}else if(q==="skip")return void C()}var B=te.instanceConfig.complete;te.instanceConfig.complete=function(re){E(B)&&B(re,te.file,te.inputElem),C()},c.parse(te.file,te.instanceConfig)}}function C(){I.splice(0,1),T()}}),s&&(n.onmessage=function(A){A=A.data,c.WORKER_ID===void 0&&A&&(c.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=c.parse(A.input,A.config))&&n.postMessage({workerId:c.WORKER_ID,results:A,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(d.prototype)).constructor=d,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(bq);var oye=bq.exports;const lye=sn(oye),wq=()=>{const{user:e}=ga(),{isDarkMode:t}=Wr(),[r,n]=Q.useState(!1),[a,i]=Q.useState([]),[s,o]=Q.useState(!1),[l,c]=Q.useState({name:"",unit:"",barcode:""}),[u,f]=Q.useState(null),[h,d]=Q.useState(null),[g,m]=Q.useState(!1),[y,v]=Q.useState(!1),[b,w]=Q.useState(null),[D,P]=Q.useState(null),[O,E]=Q.useState(!1),[A,S]=Q.useState(""),[I,T]=Q.useState(null),[C,L]=Q.useState(null),H=Ne.useRef(null),[V,J]=Q.useState(null);Q.useEffect(()=>{te(),q()},[]);const te=async G=>{o(!0);try{let Z;if(G&&G.trim()!==""){const se=vr(Pt(ct,"scannedProducts"),qr("name",">=",G),qr("name","<=",G+""),Ma("name"),Jx(100)),K=vr(Pt(ct,"scannedProducts"),qr("barcode",">=",G),qr("barcode","<=",G+""),Ma("barcode"),Jx(100)),[oe,fe]=await Promise.all([dr(se),dr(K)]),W=[...oe.docs,...fe.docs].reduce((_e,Ae)=>(_e.some(Se=>Se.id===Ae.id)||_e.push(Ae),_e),[]);i(W.map(_e=>{const Ae=_e.data();return{id:_e.id,name:Ae.name,unit:Ae.unit,barcode:Ae.barcode,createdAt:Ae.createdAt instanceof Ht?Ae.createdAt.toDate():new Date(Ae.createdAt)}}))}else{Z=vr(Pt(ct,"scannedProducts"),Ma("createdAt","desc"),Jx(100));const K=(await dr(Z)).docs.map(oe=>{const fe=oe.data();return{id:oe.id,name:fe.name,unit:fe.unit,barcode:fe.barcode,createdAt:fe.createdAt instanceof Ht?fe.createdAt.toDate():new Date(fe.createdAt)}});i(K)}}catch{f("Failed to fetch products")}finally{o(!1)}},q=async()=>{try{const G=Pt(ct,"scannedProducts"),Z=await Jk(G);J(Z.data().count)}catch{J(null)}},B=G=>{G?(c({name:G.name||"",unit:G.unit||"",barcode:G.barcode||""}),d(G)):(c({name:"",unit:"",barcode:""}),d(null)),n(!0),f(null)},re=()=>{n(!1),f(null)},ee=G=>{c({...l,[G.target.name]:G.target.value})},N=async G=>{c(Z=>({...Z,barcode:G})),m(!1),w(null),v(!0);try{const se=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${G}`,oe=await(await fetch(se)).json();if(oe&&oe.items&&oe.items.length>0){const fe=oe.items[0];c(W=>({...W,name:fe.title||W.name}))}else w("No product info found for this barcode.")}catch{w("Failed to fetch product info.")}finally{v(!1)}},R=async G=>{if(G.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("All fields are required");return}o(!0);try{const Z=l.name.toUpperCase();if(h){const se=nn(ct,"scannedProducts",h.id);if(await Si(se,{name:Z,unit:l.unit,barcode:l.barcode}),e&&h){const K=[];h.name!==Z&&K.push(`name from "${h.name}" to "${Z}"`),h.unit!==l.unit&&K.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&K.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),K.length>0&&await kr(Pt(ct,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Z}": ${K.join(", ")}`,time:new Date().toISOString()})}}else await kr(Pt(ct,"scannedProducts"),{name:Z,unit:l.unit,barcode:l.barcode,createdAt:Ht.fromDate(new Date)}),e&&await kr(Pt(ct,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Z}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),d(null),te()}catch{f("Failed to save product")}finally{o(!1)}},z=async()=>{if(D){E(!0);try{const G=a.find(Z=>Z.id===D);await sp(nn(ct,"scannedProducts",D)),e&&G&&await kr(Pt(ct,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${G.name}" with barcode ${G.barcode}`,time:new Date().toISOString()}),P(null),te()}catch{}finally{E(!1)}}},X=async G=>{var K;const Z=(K=G.target.files)==null?void 0:K[0];if(!Z)return;let se=[];try{if(Z.name.endsWith(".csv")){const oe=await Z.text(),W=lye.parse(oe,{header:!0}).data;se=W.map(Ae=>{var Se,ie,ke;return{name:((Se=Ae.Description)==null?void 0:Se.toString().trim())||"",unit:((ie=Ae.Unit)==null?void 0:ie.toString().trim())||"",barcode:((ke=Ae.EAN)==null?void 0:ke.toString().trim())||""}}).filter(Ae=>Ae.name||Ae.unit||Ae.barcode);const _e=W.length-se.length;_e>0&&(console.log(`${_e} rows skipped (all columns empty).`),L({type:"error",message:`${_e} rows skipped (all columns empty).`}))}else if(Z.name.endsWith(".xlsx")){const oe=await Z.arrayBuffer(),fe=ET(oe,{type:"array"}),W=fe.Sheets[fe.SheetNames[0]],_e=sye.sheet_to_json(W);se=_e.map(Se=>{var ie,ke,Le;return{name:((ie=Se.Description)==null?void 0:ie.toString().trim())||"",unit:((ke=Se.Unit)==null?void 0:ke.toString().trim())||"",barcode:((Le=Se.EAN)==null?void 0:Le.toString().trim())||""}}).filter(Se=>Se.name||Se.unit||Se.barcode);const Ae=_e.length-se.length;Ae>0&&(console.log(`${Ae} rows skipped (all columns empty).`),L({type:"error",message:`${Ae} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),L({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(se.length===0){console.log("No valid products found in file."),L({type:"error",message:"No valid products found in file."});return}for(const oe of se)await kr(Pt(ct,"scannedProducts"),{name:oe.name.toUpperCase(),unit:oe.unit,barcode:oe.barcode,createdAt:Ht.fromDate(new Date)});e&&await kr(Pt(ct,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${se.length} products from file "${Z.name}"`,time:new Date().toISOString()}),L({type:"success",message:`Uploaded ${se.length} products successfully!`}),console.log(`Uploaded ${se.length} products successfully!`),te()}catch{console.log("Failed to upload products."),L({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"?p.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):p.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",V!==null?V:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),p.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[p.jsx(vt,{variant:"secondary",onClick:()=>te(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:p.jsx(ol,{size:18,className:s?"animate-spin":""})}),p.jsx(vt,{icon:p.jsx(xZ,{size:18}),onClick:()=>{var G;return(G=H.current)==null?void 0:G.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),p.jsx("input",{type:"file",accept:".csv,.xlsx",ref:H,onChange:X,style:{display:"none"}}),p.jsx(vt,{icon:p.jsx(Wi,{size:18}),onClick:()=>B(),className:"w-full md:w-auto",children:"Add Product"})]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(yt,{type:"text",placeholder:"Search by name or barcode",value:A,onChange:G=>{const Z=G.target.value;S(Z),te(Z.toUpperCase())},className:"pl-10",fullWidth:!0}),p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:p.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[p.jsx("circle",{cx:"7",cy:"7",r:"6"}),p.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),p.jsx(Dn,{isOpen:r,onClose:re,title:h?"Edit Product":"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsx(yt,{label:"Product Name",name:"name",value:l.name,onChange:ee,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(yt,{label:"Unit",name:"unit",value:l.unit,onChange:ee,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(yt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:ee,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!y){w(null),v(!0);try{await N(l.barcode)}finally{v(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:y,children:y?p.jsx(lo,{size:18,className:"animate-spin text-blue-500"}):p.jsx(il,{size:18,className:"text-blue-500"})})]}),u&&p.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&p.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),y&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(lo,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(vt,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),p.jsx(vt,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),p.jsx(Fc,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:N}),p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:p.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[p.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?p.jsx("tr",{children:p.jsx("td",{colSpan:5,style:{border:0,padding:0},children:p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(lo,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):a.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((G,Z)=>p.jsxs(zn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Z*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>T(G),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:G.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:G.unit}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:G.barcode}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:$t(G.createdAt,"MMM d, yyyy, h:mm a")}),p.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[p.jsx("button",{onClick:se=>{se.stopPropagation(),B(G)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:p.jsx(sl,{size:16})}),p.jsx("button",{onClick:se=>{se.stopPropagation(),P(G.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:O&&D===G.id,children:p.jsx(ho,{size:16})})]})]},G.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(lo,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):a.length===0?p.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(G=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>T(G),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:G.name}),p.jsx("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:G.unit})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vt,{variant:"ghost",size:"sm",onClick:Z=>{Z.stopPropagation(),B(G)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(sl,{size:16})}),p.jsx(vt,{variant:"ghost",size:"sm",onClick:Z=>{Z.stopPropagation(),P(G.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:O&&D===G.id,children:p.jsx(ho,{size:16})})]})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:G.barcode})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:$t(G.createdAt,"MMM d, yyyy, h:mm a")})]})]},G.id))}),p.jsx(Dn,{isOpen:!!D,onClose:()=>P(null),title:"Delete Product",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{children:"Are you sure you want to delete this product?"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(vt,{variant:"secondary",onClick:()=>P(null),disabled:O,children:"Cancel"}),p.jsxs(vt,{variant:"danger",onClick:z,isLoading:O,className:"flex items-center justify-center",children:[O&&p.jsx(lo,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),p.jsx(Dn,{isOpen:!!I,onClose:()=>T(null),title:I?I.name:"Product Details",size:"xl",children:I&&p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:$t(I.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),C&&p.jsx(NU,{type:C.type,message:C.message,onClose:()=>L(null)})]})]})},cye=()=>{const{user:e}=ga();if(!e)return null;switch(e.role){case"admin":return p.jsx(afe,{});case"staff":return p.jsx(wq,{});default:return null}},Fr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=Wr();return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>p.jsx("option",{value:o.value,children:o.label},o.value))}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},uye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=ga(),[a,i]=Q.useState({name:"",unit:"",barcode:""}),[s,o]=Q.useState(null),[l,c]=Q.useState(!1),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState(null),y=D=>{i({...a,[D.target.name]:D.target.value})},v=async D=>{i(P=>({...P,barcode:D})),f(!1),m(null),d(!0);try{const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,A=await(await fetch(O)).json();if(A&&A.items&&A.items.length>0){const S=A.items[0];i(I=>({...I,name:S.title||I.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{d(!1)}},b=async D=>{if(D.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await kr(Pt(ct,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:Ht.fromDate(new Date)}),n&&await kr(Pt(ct,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},w=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return p.jsxs(p.Fragment,{children:[p.jsx(Dn,{isOpen:e,onClose:w,title:"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:b,className:"space-y-4",children:[p.jsx(yt,{label:"Product Name",name:"name",value:a.name,onChange:y,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(yt,{label:"Unit",name:"unit",value:a.unit,onChange:y,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(yt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:y,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),d(!0);try{await v(a.barcode)}finally{d(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?p.jsx(lo,{size:18,className:"animate-spin text-blue-500"}):p.jsx(il,{size:18,className:"text-blue-500"})})]}),s&&p.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&p.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(lo,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(vt,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),p.jsx(vt,{type:"submit",isLoading:l,children:"Add"})]})]})}),p.jsx(Fc,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:v})]})},fye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=Wr();return p.jsx(Dn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(d1,{size:24}),p.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(vt,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),p.jsx(vt,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},hye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],dye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),MS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],pye=({onSubmit:e,isLoading:t=!1,existingStockItems:r})=>{const{user:n}=ga(),[a,i]=Q.useState({name:"",price:"",unit:"",supplier:MS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"fba",storeName:"supply & serve"}),[s,o]=Q.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[l,c]=Q.useState({}),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState(""),{isDarkMode:y}=Wr(),[v,b]=Q.useState(null),[w,D]=Q.useState(!1),[P,O]=Q.useState(null),[E,A]=Q.useState(!1),[S,I]=Q.useState(""),[T,C]=Q.useState(!1),[L,H]=Q.useState(null),[V,J]=Q.useState(null),[te,q]=Q.useState(!1),[B,re]=Q.useState(""),[ee,N]=Q.useState(!1),R=Q.useRef(null),z=ie=>{const{name:ke,value:Le}=ie.target;i(Be=>({...Be,[ke]:Le})),ke==="supplier"&&(A(Le==="other"),Le!=="other"&&I("")),l[ke]&&c(Be=>{const Xe={...Be};return delete Xe[ke],Xe}),ke==="barcode"&&Le.length===13&&!w?(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{Le.length===13&&K(Le)},500)):ke==="barcode"&&Le.length!==13&&R.current&&(clearTimeout(R.current),R.current=null)},X=(ie,ke,Le)=>{o(Be=>{const Xe=[...Be];return Xe[ie]={...Xe[ie],[ke]:Le},Xe})},G=()=>{o(ie=>[...ie,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Z=ie=>{o(ke=>ke.filter((Le,Be)=>Be!==ie))},se=async ie=>{i(Le=>({...Le,barcode:ie})),b(null),O(null),D(!0);let ke=!1;try{const Le=vr(Pt(ct,"scannedProducts"),qr("barcode","==",ie)),Be=await dr(Le);if(Be.empty){const Re=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${ie}`,Me=await(await fetch(Re)).json();if(Me&&Me.items&&Me.items.length>0){const Ge=Me.items[0];i(ot=>({...ot,name:Ge.title||ot.name})),b("Product name auto-filled from external database."),ke=!0}else b("No product found for this barcode. Please enter details manually.")}else{const Xe=Be.docs[0].data();i(Re=>({...Re,name:Xe.name||Re.name,unit:Xe.unit||Re.unit})),b("Product name and unit auto-filled from scanned products."),ke=!0}}catch{O("Failed to fetch product info."),b("Failed to search for product. Please enter details manually.")}finally{D(!1),!ke&&ie.length===13&&setTimeout(()=>{K(ie)},100)}},K=async ie=>{const ke=ie||a.barcode;if(!(!ke||w)){O(null),D(!0);try{const Le=vr(Pt(ct,"scannedProducts"),qr("barcode","==",ke)),Be=await dr(Le);if(!Be.empty){const Ge=Be.docs[0].data();i(ot=>({...ot,name:Ge.name||ot.name,unit:Ge.unit||ot.unit})),b("Product name and unit auto-filled from scanned products."),D(!1);return}const Re=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${ke}`,Me=await(await fetch(Re)).json();if(Me&&Me.items&&Me.items.length>0){const Ge=Me.items[0];i(ot=>({...ot,name:Ge.title||ot.name})),b("Product name auto-filled from UPC database.")}else O("No product info found for this barcode.")}catch{O("Failed to fetch product info.")}finally{D(!1)}}},oe=()=>{const ie={};return a.name.trim()||(ie.name="Product name is required"),s.forEach((ke,Le)=>{ke.quantity?(isNaN(Number(ke.quantity))||Number(ke.quantity)<0)&&(ie[`location_${Le}_quantity`]="Quantity must be a positive number"):ie[`location_${Le}_quantity`]="Quantity is required"}),c(ie),Object.keys(ie).length===0},fe=async ie=>{if(ie.preventDefault(),oe()){const ke=a.supplier||MS[0].value,Le=a.storeName||"supply & serve",Be=s.map(Re=>({name:a.name,quantity:parseInt(Re.quantity),price:(n==null?void 0:n.role)==="admin"?parseFloat(a.price):0,unit:a.unit||null,supplier:ke==="other"?S:ke,locationCode:Re.locationCode,shelfNumber:Re.shelfNumber,asin:a.asin||null,status:a.status,damagedItems:parseInt(a.damagedItems),barcode:a.barcode||null,fulfillmentType:a.fulfillmentType,lastUpdated:new Date,storeName:Le==="other"?g:Le})),Xe=Be.find(Re=>r.some(Ye=>Ye.name.trim().toLowerCase()===Re.name.trim().toLowerCase()&&(Ye.barcode||"")===(Re.barcode||"")&&Ye.locationCode===Re.locationCode&&Ye.shelfNumber===Re.shelfNumber));if(Xe){J({name:Xe.name,location:`${Xe.locationCode}-${Xe.shelfNumber}`}),H(Be),C(!0);return}try{await e(Be)}catch(Re){console.error("Error adding stock:",Re)}}},W=async()=>{if(L){try{await e(L)}catch(ie){console.error("Error adding stock:",ie)}C(!1),H(null),J(null)}},_e=()=>{C(!1),H(null),J(null)},Ae=()=>{N(!0)},Se=()=>{re("Product has been successfully added to the database!"),q(!0)};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Product Name",name:"name",value:a.name,onChange:z,error:l.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx("div",{children:p.jsx(Fr,{label:"Supplier",name:"supplier",value:a.supplier,onChange:z,options:MS,required:!0,fullWidth:!0})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==null?void 0:n.role)==="admin"&&p.jsx(yt,{label:"Price",name:"price",type:"number",value:a.price,onChange:z,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!E&&p.jsx(yt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:z,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),E&&p.jsx(yt,{label:"Other Supplier",value:S,onChange:ie=>I(ie.target.value),placeholder:"Enter supplier name",required:E,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E&&p.jsx(yt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:z,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),p.jsx(vt,{type:"button",onClick:G,variant:"primary",icon:p.jsx(Wi,{size:18}),children:"Add Location"})]}),s.map((ie,ke)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[p.jsx(Fr,{label:"Location Code",value:ie.locationCode,onChange:Le=>X(ke,"locationCode",Le.target.value),options:hye,required:!0,fullWidth:!0}),p.jsx(Fr,{label:"Shelf Number",value:ie.shelfNumber,onChange:Le=>X(ke,"shelfNumber",Le.target.value),options:dye,required:!0,fullWidth:!0}),p.jsx(yt,{label:"Quantity",type:"number",value:ie.quantity,onChange:Le=>X(ke,"quantity",Le.target.value),error:l[`location_${ke}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),s.length>1&&p.jsx(vt,{type:"button",onClick:()=>Z(ke),variant:"danger",icon:p.jsx(ho,{size:18}),children:"Remove"})]},ke))]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Fr,{label:"Fulfillment Type",name:"fulfillmentType",value:a.fulfillmentType,onChange:z,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(n==null?void 0:n.role)==="admin"?p.jsx(Fr,{label:"Status",name:"status",value:a.status,onChange:z,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(yt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(yt,{label:"Barcode",name:"barcode",value:a.barcode||"",onChange:z,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:()=>K(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:w,children:w?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(il,{size:18,className:"text-blue-500"})})]}),p.jsx(yt,{label:"ASIN (seperated by commas, if multiple)",name:"asin",value:a.asin,onChange:z,placeholder:"Enter Amazon ASIN",fullWidth:!0}),P&&p.jsxs("div",{className:"text-red-500 text-sm",children:[P," Please enter details manually."]}),v&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:v})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx("div",{children:p.jsx(Fr,{label:"Store Name",value:a.storeName,onChange:ie=>{const ke=ie.target.value;i(Le=>({...Le,storeName:ke})),d(ke==="other"),ke!=="other"&&m("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})})}),h&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${y?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(yt,{type:"text",value:g,onChange:ie=>m(ie.target.value),placeholder:"Enter store name",required:h})]})}),p.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(vt,{type:"button",onClick:Ae,variant:"primary",icon:p.jsx(Wi,{size:18}),children:"Add New Product"}),p.jsx(vt,{type:"submit",isLoading:t,variant:"success",icon:p.jsx(Wi,{size:18}),children:"Confirm"})]})})]}),p.jsx(Fc,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:se}),p.jsx(uye,{isOpen:ee,onClose:()=>N(!1),onSuccess:Se}),p.jsx(fye,{isOpen:T,onClose:_e,onConfirm:W,title:"Duplicate Stock Detected",message:V?`A product with the same name and barcode already exists at location ${V.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),p.jsx(Dn,{isOpen:te,onClose:()=>q(!1),title:"Success!",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[p.jsx(rZ,{size:24}),p.jsx("p",{className:y?"text-slate-200":"text-slate-700",children:B})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsx(vt,{variant:"primary",onClick:()=>q(!1),children:"OK"})})]})})]})},mye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],gye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),vye=["supply & serve","APHY","AZTEC","ZK"],QD=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],yye=({item:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const{isDarkMode:a}=Wr(),{user:i}=ga(),[s,o]=Q.useState(null),l=e.storeName,c=l&&!vye.includes(l),u=QD.some(L=>L.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[d,g]=Q.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,y]=Q.useState(c),[v,b]=Q.useState(c?l:""),[w,D]=Q.useState(f==="other"),[P,O]=Q.useState(h),[E,A]=Q.useState(!1),S=L=>{const{name:H,value:V}=L.target;if(H==="damagedItems"){const J=Number(V),te=Number(d.quantity);if(J<0){o("Damaged items cannot be negative");return}o(null),g(q=>({...q,damagedItems:V,quantity:(te-(J-Number(q.damagedItems))).toString()}));return}H==="supplier"&&(D(V==="other"),V!=="other"&&O("")),g(J=>({...J,[H]:V}))},I=L=>{g(H=>({...H,barcode:L})),A(!1)},T=async L=>{if(L.preventDefault(),C())try{const H={id:e.id,name:d.name,quantity:parseInt(d.quantity),price:(i==null?void 0:i.role)==="admin"?parseFloat(d.price):e.price,unit:d.unit||null,supplier:d.supplier==="other"?P:d.supplier||null,locationCode:d.locationCode,shelfNumber:d.shelfNumber,asin:d.asin||null,status:(i==null?void 0:i.role)==="admin"?d.status:"pending",damagedItems:parseInt(d.damagedItems),fulfillmentType:d.fulfillmentType,lastUpdated:new Date,storeName:d.storeName==="other"?v:d.storeName,barcode:d.barcode||null};await t(H,e)}catch(H){console.error("Error updating stock:",H),o("Failed to update stock. Please try again.")}},C=()=>d.name.trim()?!d.quantity||parseInt(d.quantity)<0?(o("Quantity must be a positive number"),!1):(i==null?void 0:i.role)==="admin"&&(!d.price||parseFloat(d.price)<0)?(o("Price must be a positive number"),!1):!d.locationCode||!d.shelfNumber?(o("Location and shelf number are required"),!1):(o(null),!0):(o("Product name is required"),!1);return p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Product Name",name:"name",value:d.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"?p.jsx(Fr,{label:"Status",name:"status",value:d.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(yt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"&&p.jsx(yt,{label:"Price",name:"price",type:"number",value:d.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),p.jsx(yt,{label:"Unit (Optional)",name:"unit",value:d.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),p.jsx(Fr,{label:"Fulfillment Type",name:"fulfillmentType",value:d.fulfillmentType,onChange:S,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Fr,{label:"Location Code",name:"locationCode",value:d.locationCode,onChange:S,options:mye,required:!0,fullWidth:!0}),p.jsx(Fr,{label:"Shelf Number",name:"shelfNumber",value:d.shelfNumber,onChange:S,options:gye,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(yt,{label:"Barcode",name:"barcode",value:d.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44},disabled:(i==null?void 0:i.role)!=="admin"}),(i==null?void 0:i.role)==="admin"&&p.jsx("button",{type:"button",onClick:()=>A(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(il,{size:18,className:"text-blue-500"})})]}),p.jsx(yt,{label:"ASIN",name:"asin",value:d.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{children:p.jsx(Fr,{label:"Supplier",name:"supplier",value:d.supplier,onChange:S,options:QD,required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),p.jsx(Fr,{value:d.storeName,onChange:L=>{const H=L.target.value;g(V=>({...V,storeName:H})),y(H==="other"),H!=="other"&&b("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&p.jsx(yt,{label:"Other Supplier",value:P,onChange:L=>O(L.target.value),placeholder:"Enter supplier name",required:w,fullWidth:!0}),m&&!w&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(yt,{type:"text",value:v,onChange:L=>b(L.target.value),placeholder:"Enter store name",required:m})]}),m&&w&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(yt,{type:"text",value:v,onChange:L=>b(L.target.value),placeholder:"Enter store name",required:m})]}),p.jsxs("div",{children:[p.jsx(yt,{label:"Damaged Items",name:"damagedItems",type:"number",value:d.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:s?"border-red-500 focus:border-red-500":""}),s&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(vt,{type:"submit",isLoading:n,icon:p.jsx(Wi,{size:18}),children:"Update Product"})}),p.jsx(Fc,{isOpen:E,onClose:()=>A(!1),onBarcodeScanned:I})]})},xye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],bye=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],wye=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=Q.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[i,s]=Q.useState({}),[o,l]=Q.useState(!1),[c,u]=Q.useState(null),[f,h]=Q.useState(!1),[d,g]=Q.useState(null),m=Q.useRef(null),y=O=>{const{name:E,value:A}=O.target;a(S=>({...S,[E]:A})),i[E]&&s(S=>{const I={...S};return delete I[E],I}),E==="barcode"&&A.length===13&&!f?(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{A.length===13&&w(A)},500)):E==="barcode"&&A.length!==13&&m.current&&(clearTimeout(m.current),m.current=null)},v=()=>{l(!0)},b=async O=>{a(A=>({...A,barcode:O})),u(null),g(null),h(!0);let E=!1;try{const A=vr(Pt(ct,"scannedProducts"),qr("barcode","==",O)),S=await dr(A);if(S.empty){const T=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${O}`,L=await(await fetch(T)).json();if(L&&L.items&&L.items.length>0){const H=L.items[0];a(V=>({...V,name:H.title||V.name})),u("Product name auto-filled from external database."),E=!0}else u("No product found for this barcode. Please enter details manually.")}else{const I=S.docs[0].data();a(T=>({...T,name:I.name||T.name})),u("Product name auto-filled from scanned products."),E=!0}}catch{g("Failed to fetch product info."),u("Failed to search for product. Please enter details manually.")}finally{h(!1),!E&&O.length===13&&setTimeout(()=>{w(O)},100)}},w=async O=>{const E=O||n.barcode;if(!(!E||f)){g(null),h(!0);try{const A=vr(Pt(ct,"scannedProducts"),qr("barcode","==",E)),S=await dr(A);if(S.empty){const T=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${E}`,L=await(await fetch(T)).json();if(L&&L.items&&L.items.length>0){const H=L.items[0];a(V=>({...V,name:H.title||V.name})),u("Product name auto-filled from external database.")}else g("No product info found for this barcode.")}else{const I=S.docs[0].data();a(T=>({...T,name:I.name||T.name})),u("Product name auto-filled from scanned products.")}}catch{g("Failed to fetch product info.")}finally{h(!1)}}},D=()=>{const O={};return n.name.trim()||(O.name="Product name is required"),n.locationCode||(O.locationCode="Location is required"),n.shelfNumber||(O.shelfNumber="Shelf number is required"),(!n.quantity||parseInt(n.quantity)<=0)&&(O.quantity="Quantity must be greater than 0"),s(O),Object.keys(O).length===0},P=async O=>{if(O.preventDefault(),!D())return;const E={name:n.name.toUpperCase(),quantity:parseInt(n.quantity),price:0,supplier:"not set",lastUpdated:new Date,locationCode:n.locationCode,shelfNumber:n.shelfNumber,barcode:n.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([E]),t()}catch(A){console.error("Error adding stock:",A)}};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.jsx(yt,{label:"Product Name",name:"name",value:n.name,onChange:y,placeholder:"Enter product name",error:i.name,required:!0,fullWidth:!0}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Fr,{label:"Location Code",name:"locationCode",value:n.locationCode,onChange:y,options:xye,error:i.locationCode,required:!0,fullWidth:!0}),p.jsx(Fr,{label:"Shelf Number",name:"shelfNumber",value:n.shelfNumber,onChange:y,options:bye,error:i.shelfNumber,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(yt,{label:"Barcode",name:"barcode",value:n.barcode,onChange:y,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(n.barcode.trim()&&!f){g(null),h(!0);try{await w()}finally{h(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:f,children:f?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(il,{size:18,className:"text-blue-500"})})]}),d&&p.jsxs("div",{className:"text-red-500 text-sm",children:[d," Please enter details manually."]}),c&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:c}),f&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),p.jsx(yt,{label:"Quantity",name:"quantity",type:"number",value:n.quantity,onChange:y,placeholder:"Enter quantity",error:i.quantity,min:"1",required:!0,fullWidth:!0}),p.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[p.jsx(vt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(vt,{type:"submit",isLoading:r,icon:p.jsx(Wi,{size:18}),children:"Quick Add"}),p.jsx(vt,{type:"button",onClick:v,variant:"primary",icon:p.jsx(il,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),p.jsx(Fc,{isOpen:o,onClose:()=>l(!1),onBarcodeScanned:b})]})},lP=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=Wr(),{user:a}=ga();return r?p.jsx(Dn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:p.jsxs("div",{className:"w-full",children:[p.jsx("div",{className:"mb-4 flex items-center justify-between",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),p.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),p.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>p.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:$t(r.lastUpdated,"MMM d, yyyy")})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),p.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),p.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),p.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[p.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),p.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[p.jsx("span",{children:"0"}),p.jsx("span",{children:"Critical: <10"}),p.jsx("span",{children:"Low: 10-25"}),p.jsx("span",{children:"25+"})]})]})]})}):null},bb=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=Wr();return p.jsx(Dn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(d1,{size:24}),p.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(vt,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),p.jsx(vt,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},_ye=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,locationCode:a,shelfNumber:i,existingProducts:s,newProductName:o})=>{const l=s.length,c=s.reduce((u,f)=>u+f.quantity,0);return p.jsx(Dn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(d1,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",p.jsxs("strong",{children:[a,"-",i]})," already contains products."]}),p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),p.jsx("ul",{className:"mt-2 space-y-1",children:s.map((u,f)=>p.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",u.name," (",u.quantity," units)"]},f))}),p.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",l," product",l!==1?"s":""," (",c," units)"]})]}),p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",p.jsx("strong",{children:o})," to this location?"]})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(vt,{variant:"secondary",onClick:n,children:"Cancel"}),p.jsx(vt,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Sye=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState(""),[a,i]=Q.useState("name"),[s,o]=Q.useState(!1),[l,c]=Q.useState(!1),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState(!1),[y,v]=Q.useState(null),[b,w]=Q.useState([]),[D,P]=Q.useState(new Set),[O,E]=Q.useState(!1),{showToast:A}=Yc(),{isDarkMode:S}=Wr(),{user:I}=ga(),[T,C]=Q.useState(!1),[L,H]=Q.useState(null),[V,J]=Q.useState(!1),[te,q]=Q.useState(!1),[B,re]=Q.useState(null),[ee,N]=Q.useState(null),[R,z]=Q.useState(null),[X,G]=Q.useState(!1),[Z,se]=Q.useState("all"),[K,oe]=Q.useState(!1),[fe,W]=Q.useState(null);Q.useEffect(()=>{const Ee=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ee)}},[e]);const _e=Q.useCallback(async()=>{m(!0);try{const Ee=vr(Pt(ct,"inventory"),Ma("name")),_t=(await dr(Ee)).docs.map(kt=>{const cr=kt.data();return{id:kt.id,...cr,lastUpdated:cr.lastUpdated instanceof Ht?cr.lastUpdated.toDate():new Date(cr.lastUpdated)}});w(_t)}catch(Ee){console.error("Error fetching stock items:",Ee),A("Failed to fetch stock items","error")}finally{m(!1)}},[A]),Ae=Q.useCallback(async()=>{try{const Ee=Pt(ct,"inventory"),Je=await Jk(Ee);W(Je.data().count)}catch{W(null)}},[]);Q.useEffect(()=>{_e(),Ae()},[_e,Ae]),Q.useEffect(()=>{const Ee=Je=>{const _t=Je.target;_t.closest(".store-filter-dropdown")||G(!1),_t.closest(".status-filter-dropdown")||oe(!1)};return(X||K)&&document.addEventListener("mousedown",Ee),()=>{document.removeEventListener("mousedown",Ee)}},[X,K]);const Se=Q.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),ie=Q.useMemo(()=>["supply & serve","APHY","AZTEC","ZK"],[]),ke=Q.useMemo(()=>{const Ee=r.toLowerCase();return b.filter(Je=>{const _t=Je.name.toLowerCase().includes(Ee),kt=`${Je.locationCode} - ${Je.shelfNumber}`.toLowerCase().includes(Ee),cr=Je.asin?Je.asin.split(",").some(Or=>Or.trim().toLowerCase().includes(Ee)):!1,ur=Je.barcode?Je.barcode.toLowerCase().includes(Ee):!1,Nr=R?R.storeName==="other"?!ie.includes(Je.storeName)&&Je.fulfillmentType===R.fulfillmentType:Je.storeName===R.storeName&&Je.fulfillmentType===R.fulfillmentType:!0,gn=Z==="all"||Je.status===Z;return(_t||kt||cr||ur)&&Nr&&gn}).sort((Je,_t)=>a==="name"?Je.name.localeCompare(_t.name):a==="quantity"?_t.quantity-Je.quantity:a==="price"?_t.price-Je.price:a==="date"?new Date(_t.lastUpdated).getTime()-new Date(Je.lastUpdated).getTime():0)},[b,r,R,Z,a,ie]),Le=Q.useCallback((Ee,Je)=>b.filter(_t=>_t.locationCode===Ee&&_t.shelfNumber===Je),[b]),Be=Q.useCallback(async Ee=>{const Je=[];for(const _t of Ee){const kt=Le(_t.locationCode,_t.shelfNumber);kt.length>0&&Je.push({locationCode:_t.locationCode,shelfNumber:_t.shelfNumber,products:kt})}if(Je.length>0){const _t=Je[0];N({locationCode:_t.locationCode,shelfNumber:_t.shelfNumber,existingProducts:_t.products,newProductName:Ee[0].name}),re(Ee),q(!0);return}await Xe(Ee)},[Le]),Xe=Q.useCallback(async Ee=>{m(!0);try{const Je=[];for(const _t of Ee){const kt=await kr(Pt(ct,"inventory"),{..._t,lastUpdated:Ht.fromDate(new Date)});Je.push({..._t,id:kt.id,lastUpdated:new Date})}if(I){const _t=Ee.reduce((cr,ur)=>cr+ur.quantity,0),kt=Ee.map(cr=>`${cr.quantity} at ${cr.locationCode}-${cr.shelfNumber}`).join(", ");await kr(Pt(ct,"activityLogs"),{user:I.name,role:I.role,detail:`added new product "${Ee[0].name}" with total quantity ${_t} (${kt})`,time:new Date().toISOString()})}w(_t=>[..._t,...Je]),o(!1),J(!1),A("Stock items added successfully","success")}catch(Je){console.error("Error adding stock:",Je),A("Failed to add stock items","error")}finally{m(!1)}},[I,A]),Re=Q.useCallback(async()=>{B&&(await Xe(B),q(!1),re(null),N(null))},[B,Xe]),Ye=Q.useCallback(()=>{q(!1),re(null),N(null)},[]),Me=Q.useCallback(async(Ee,Je)=>{m(!0);try{const _t=new Date,kt={},cr=[];if(Ee.name!==Je.name&&(kt.name=Ee.name,cr.push(`name from "${Je.name}" to "${Ee.name}"`)),Ee.price!==Je.price){kt.price=Ee.price;const ur=Number(Je.price||0).toFixed(2),Nr=Number(Ee.price||0).toFixed(2);cr.push(`price from £${ur} to £${Nr}`)}if((Ee.locationCode!==Je.locationCode||Ee.shelfNumber!==Je.shelfNumber)&&(kt.locationCode=Ee.locationCode,kt.shelfNumber=Ee.shelfNumber,cr.push(`location from ${Je.locationCode}-${Je.shelfNumber} to ${Ee.locationCode}-${Ee.shelfNumber}`)),Ee.supplier!==Je.supplier&&(kt.supplier=Ee.supplier,cr.push(`supplier from "${Je.supplier||"none"}" to "${Ee.supplier||"none"}"`)),Ee.asin!==Je.asin&&(kt.asin=Ee.asin,cr.push(`ASIN from "${Je.asin||"none"}" to "${Ee.asin||"none"}"`)),Ee.status!==Je.status&&(kt.status=Ee.status,cr.push(`status from "${Je.status}" to "${Ee.status}"`)),Ee.damagedItems!==Je.damagedItems&&(kt.damagedItems=Ee.damagedItems,cr.push(`damaged items from ${Je.damagedItems} to ${Ee.damagedItems}`)),Ee.fulfillmentType!==Je.fulfillmentType&&(kt.fulfillmentType=Ee.fulfillmentType,cr.push(`fulfillment type from "${Je.fulfillmentType.toUpperCase()}" to "${Ee.fulfillmentType.toUpperCase()}"`)),Ee.storeName!==Je.storeName&&(kt.storeName=Ee.storeName,cr.push(`store name from "${Je.storeName}" to "${Ee.storeName}"`)),Ee.unit!==Je.unit&&(kt.unit=Ee.unit,cr.push(`unit from "${Je.unit||"none"}" to "${Ee.unit||"none"}"`)),Object.keys(kt).length>0){const ur=nn(ct,"inventory",Ee.id);await Si(ur,{...kt,lastUpdated:Ht.fromDate(_t)}),I&&cr.length>0&&await kr(Pt(ct,"activityLogs"),{user:I.name,role:I.role,detail:`edited product "${Ee.name}": ${cr.join(", ")}`,time:_t.toISOString()});const Nr=b.map(gn=>gn.id===Ee.id?{...gn,...kt,lastUpdated:_t}:gn);w(Nr),A("Stock details updated successfully","success"),c(!1),v(null)}if(Ee.quantity>Je.quantity)H({itemId:Ee.id,newQuantity:Ee.quantity}),C(!0),c(!1);else if(Ee.quantity!==Je.quantity){const ur=nn(ct,"inventory",Ee.id);await Si(ur,{quantity:Ee.quantity,lastUpdated:Ht.fromDate(_t)}),I&&await kr(Pt(ct,"activityLogs"),{user:I.name,role:I.role,detail:`edited product "${Ee.name}": quantity from ${Je.quantity} to ${Ee.quantity}`,time:_t.toISOString()});const Nr=b.map(gn=>gn.id===Ee.id?{...gn,quantity:Ee.quantity,lastUpdated:_t}:gn);w(Nr),A("Stock quantity updated","success"),c(!1),v(null)}else c(!1),v(null)}catch(_t){console.error("Error updating stock:",_t),A("Failed to update stock item","error")}finally{m(!1)}},[b,I,A]),Ge=Q.useCallback(async()=>{if(L){m(!0);try{const{itemId:Ee,newQuantity:Je}=L,_t=new Date,kt=b.find(Nr=>Nr.id===Ee),cr=nn(ct,"inventory",Ee);await Si(cr,{quantity:Je,lastUpdated:Ht.fromDate(_t)}),I&&kt&&await kr(Pt(ct,"activityLogs"),{user:I.name,role:I.role,detail:`edited product "${kt.name}": quantity from ${kt.quantity} to ${Je}`,time:_t.toISOString()});const ur=b.map(Nr=>Nr.id===Ee?{...Nr,quantity:Je,lastUpdated:_t}:Nr);w(ur),A("Stock quantity updated successfully","success"),v(null)}catch(Ee){console.error("Error updating quantity:",Ee),A("Failed to update quantity","error")}finally{m(!1),C(!1),H(null)}}},[L,b,I,A]),ot=Q.useCallback(async Ee=>{m(!0);try{const Je=b.find(_t=>_t.id===Ee);await sp(nn(ct,"inventory",Ee)),I&&Je&&await kr(Pt(ct,"activityLogs"),{user:I.name,role:I.role,detail:`deleted product "${Je.name}" (${Je.quantity} units) from location ${Je.locationCode}-${Je.shelfNumber}`,time:new Date().toISOString()}),w(b.filter(_t=>_t.id!==Ee)),f(!1),v(null),A("Stock item deleted successfully","success")}catch(Je){console.error("Error deleting stock:",Je),A("Failed to delete stock item","error")}finally{m(!1)}},[b,I,A]),nt=Q.useCallback(Ee=>{v(Ee)},[]),dt=Q.useCallback((Ee,Je)=>{Ee.stopPropagation(),v(Je),c(!0)},[]),xt=Q.useCallback((Ee,Je)=>{Ee.stopPropagation(),v(Je),f(!0)},[]),wt=Q.useCallback(()=>{D.size===ke.length?P(new Set):P(new Set(ke.map(Ee=>Ee.id)))},[ke,D.size]),pt=Q.useCallback(Ee=>{const Je=new Set(D);Je.has(Ee)?Je.delete(Ee):Je.add(Ee),P(Je)},[D]),et=Q.useCallback(async()=>{if(D.size!==0){m(!0);try{const Ee=b.filter(_t=>D.has(_t.id)),Je=Array.from(D).map(_t=>sp(nn(ct,"inventory",_t)));if(await Promise.all(Je),I){const _t=Ee.map(kt=>`"${kt.name}" (${kt.quantity} units) from ${kt.locationCode}-${kt.shelfNumber}`).join(", ");await kr(Pt(ct,"activityLogs"),{user:I.name,role:I.role,detail:`Bulk deleted ${D.size} products: ${_t}`,time:new Date().toISOString()})}w(b.filter(_t=>!D.has(_t.id))),P(new Set),E(!1),d(!1),A(`Successfully deleted ${D.size} items`,"success")}catch(Ee){console.error("Error deleting items:",Ee),A("Failed to delete selected items","error")}finally{m(!1)}}},[y,b,I,A]),Bt=Q.useCallback(async()=>{if(D.size!==0){m(!0);try{const Ee=b.filter(_t=>D.has(_t.id)&&_t.status==="pending");if(Ee.length===0){A("No pending items selected to activate","error");return}const Je=Ee.map(_t=>Si(nn(ct,"inventory",_t.id),{status:"active",lastUpdated:Ht.fromDate(new Date)}));if(await Promise.all(Je),I){const _t=Ee.map(kt=>`"${kt.name}" from ${kt.locationCode}-${kt.shelfNumber}`).join(", ");await kr(Pt(ct,"activityLogs"),{user:I.name,role:I.role,detail:`Bulk activated ${Ee.length} pending products: ${_t}`,time:new Date().toISOString()})}w(b.map(_t=>D.has(_t.id)&&_t.status==="pending"?{..._t,status:"active",lastUpdated:new Date}:_t)),P(new Set),E(!1),A(`Successfully activated ${Ee.length} items`,"success")}catch(Ee){console.error("Error activating items:",Ee),A("Failed to activate selected items","error")}finally{m(!1)}}},[y,b,I,A]),Lt=Q.useCallback(()=>{E(!O),O||P(new Set)},[O]),Hr=Q.useCallback(({item:Ee})=>p.jsxs("tr",{className:`hover:${S?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>nt(Ee),children:[O&&p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,onClick:Je=>Je.stopPropagation(),children:p.jsx("input",{type:"checkbox",checked:D.has(Ee.id),onChange:()=>pt(Ee.id),className:`h-4 w-4 text-blue-600 rounded ${S?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-blue-400":"text-blue-700"} font-medium`,children:Ee.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ee.status==="active"?"Active":"Pending"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ee.fulfillmentType.toUpperCase()})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:[Ee.locationCode," - ",Ee.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:Ee.asin?Ee.asin.split(",").length>3?Ee.asin.split(",").slice(0,3).map(Je=>Je.trim()).join(", ")+"...":Ee.asin.split(",").map(Je=>Je.trim()).join(", "):"-"}),(I==null?void 0:I.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("td",{className:`px-4 py-3 text-right text-sm ${S?"text-slate-200":"text-slate-900"}`,children:Number(Ee.price)>0?`£${Number(Ee.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-right text-sm ${S?"text-slate-200":"text-slate-900"}`,children:Number(Ee.quantity*Ee.price)>0?`£${Number(Ee.quantity*Ee.price).toFixed(2)}`:"(Not set)"})]}),p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ee.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ee.quantity>10&&Ee.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:"Low Stock"}),p.jsx("span",{children:Ee.quantity})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:$t(new Date(Ee.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("button",{onClick:Je=>dt(Je,Ee),className:`p-1 ${S?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(sl,{size:16})}),p.jsx("button",{onClick:Je=>xt(Je,Ee),className:`p-1 ${S?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx(ho,{size:16})})]})})]},Ee.id),[O,D,S,I,nt,pt,dt,xt]);return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:`text-2xl font-bold ${S?"text-white":"text-gray-900"}`,children:"Inbound"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${S?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",fe!==null?fe:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${S?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:O?p.jsxs(p.Fragment,{children:[Z==="pending"&&p.jsxs(vt,{onClick:Bt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:g||D.size===0,children:[p.jsx(mZ,{size:16}),"Go Live (",D.size,")"]}),p.jsxs(vt,{onClick:()=>d(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:g||D.size===0,children:[p.jsx(ho,{size:16}),"Delete Selected (",D.size,")"]}),p.jsx(vt,{onClick:Lt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsxs(vt,{onClick:Lt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Hx,{size:16}),"Select Items"]}),p.jsxs(vt,{variant:"secondary",onClick:()=>J(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Wi,{size:16}),"Quick Add"]}),p.jsxs(vt,{variant:"primary",onClick:()=>o(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Wi,{size:16}),"Add New Stock"]})]})})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(yt,{type:"text",placeholder:"Search by name, location, ASIN or barcode",value:e,onChange:Ee=>t(Ee.target.value),className:"pl-10"})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Fr,{value:a,onChange:Ee=>i(Ee.target.value),options:Se})}),p.jsxs("div",{className:"relative status-filter-dropdown",children:[p.jsxs(vt,{variant:"secondary",onClick:()=>oe(!K),className:`flex items-center gap-2 ${Z!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[Z==="all"?"Status Filter":Z==="active"?"Active":"Pending",p.jsx(p1,{size:16})]}),K&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Z==="all"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{se("all"),oe(!1)},children:"All"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Z==="active"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{se("active"),oe(!1)},children:"Active"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Z==="pending"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{se("pending"),oe(!1)},children:"Pending"}),p.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{se("all"),oe(!1)},children:"Clear Filter"})})]})})]}),p.jsxs("div",{className:"relative store-filter-dropdown",children:[p.jsxs(vt,{variant:"secondary",onClick:()=>G(!X),className:`flex items-center gap-2 ${R?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[R?`${R.storeName==="other"?"Other":R.storeName} - ${R.fulfillmentType.toUpperCase()}`:"Store Filter",p.jsx(p1,{size:16})]}),X&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(Ee=>p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===Ee?S?"bg-slate-700":"bg-slate-100":""}`,children:Ee}),p.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===Ee&&(R==null?void 0:R.fulfillmentType)==="fba"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{z({storeName:Ee,fulfillmentType:"fba"}),G(!1)},children:"FBA"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===Ee&&(R==null?void 0:R.fulfillmentType)==="mf"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{z({storeName:Ee,fulfillmentType:"mf"}),G(!1)},children:"MF"})]})]},Ee)),p.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{z(null),G(!1)},children:"Clear Filter"})})]})})]}),p.jsx(vt,{variant:"secondary",onClick:_e,className:`flex items-center gap-2 ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:p.jsx(ol,{size:16,className:g?"animate-spin":""})})]}),g?p.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(lo,{className:`w-8 h-8 ${S?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:S?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):ke.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${S?"divide-slate-700":"divide-slate-200"} ${S?"bg-slate-800":"bg-white"} rounded-lg border ${S?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:S?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[O&&p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:D.size===ke.length,onChange:wt,className:`h-4 w-4 text-blue-600 rounded ${S?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),p.jsx("span",{children:"Select"})]})}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(I==null?void 0:I.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${S?"divide-slate-700":"divide-slate-200"}`,children:ke.map((Ee,Je)=>p.jsx(Hr,{item:Ee,index:Je},Ee.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-4",children:ke.map(Ee=>p.jsxs("div",{className:`rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>nt(Ee),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${S?"text-blue-400":"text-blue-700"}`,children:Ee.name}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ee.status==="active"?"Active":"Pending"}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ee.fulfillmentType.toUpperCase()})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[Ee.locationCode," - ",Ee.shelfNumber]})]}),p.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:Ee.quantity})]}),Ee.asin&&p.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:Ee.asin})]}),(I==null?void 0:I.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(Ee.price)>0?`£${Number(Ee.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Total: ",p.jsx("span",{className:"font-medium",children:Number(Ee.quantity*Ee.price)>0?`£${Number(Ee.quantity*Ee.price).toFixed(2)}`:"(Not set)"})]})]}),p.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:$t(new Date(Ee.lastUpdated),"MMM d, yyyy")})]})]}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[p.jsxs(vt,{size:"sm",variant:"secondary",onClick:Je=>{Je.stopPropagation(),dt(Je,Ee)},children:[p.jsx(sl,{size:14})," Edit"]}),p.jsxs(vt,{size:"sm",variant:"danger",onClick:Je=>{Je.stopPropagation(),xt(Je,Ee)},children:[p.jsx(ho,{size:14})," Delete"]})]})]},Ee.id))})]}):p.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:S?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(Dn,{isOpen:s,onClose:()=>o(!1),title:"Add New Stock Item",size:"xl",children:p.jsx(pye,{onSubmit:Be,isLoading:g,existingStockItems:b})}),p.jsx(Dn,{isOpen:V,onClose:()=>J(!1),title:"Quick Add Stock",size:"md",children:p.jsx(wye,{onSubmit:Be,onClose:()=>J(!1),isLoading:g})}),p.jsx(Dn,{isOpen:l,onClose:()=>c(!1),title:"Edit Stock",size:"xl",children:y&&p.jsx(yye,{item:y,onSubmit:Me,onCancel:()=>c(!1),isLoading:g})}),y&&p.jsx(bb,{isOpen:u,onClose:()=>{f(!1),v(null)},onConfirm:()=>ot(y.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${y.name}"? This action cannot be undone.`,isLoading:g}),y&&!l&&!u&&!T&&p.jsx(lP,{isOpen:!!y,onClose:()=>v(null),item:y}),p.jsx(bb,{isOpen:h,onClose:()=>{d(!1),P(new Set)},onConfirm:et,title:"Delete Selected Items",message:`Are you sure you want to delete ${D.size} selected item${D.size>1?"s":""}? This action cannot be undone.`,isLoading:g}),p.jsx(Dn,{isOpen:T,onClose:()=>{C(!1),H(null)},title:"Confirm Quantity Update",children:p.jsxs("div",{children:[p.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),p.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[p.jsx(vt,{variant:"secondary",onClick:()=>{C(!1),H(null)},children:"No"}),p.jsx(vt,{onClick:Ge,isLoading:g,children:"Yes"})]})]})}),ee&&p.jsx(_ye,{isOpen:te,onClose:Ye,onConfirm:Re,onCancel:Ye,locationCode:ee.locationCode,shelfNumber:ee.shelfNumber,existingProducts:ee.existingProducts,newProductName:ee.newProductName})]})},Aye=()=>{const{isDarkMode:e}=Wr(),{showToast:t}=Yc(),{user:r}=ga();ga();const[n,a]=Q.useState(!1),[i,s]=Q.useState([]),[o,l]=Q.useState(""),[c,u]=Q.useState(null),[f,h]=Q.useState(""),[d,g]=Q.useState(null),[m,y]=Q.useState("all"),[v,b]=Q.useState("all"),[w,D]=Q.useState(!1),[P,O]=Q.useState(!1),[E,A]=Q.useState(null),S=async ee=>{if(r)try{await kr(Pt(ct,"activityLogs"),{user:r.name,role:r.role,detail:ee,time:new Date().toISOString()})}catch(N){console.error("Failed to log activity:",N)}},I=Q.useCallback(async()=>{a(!0);try{const ee=vr(Pt(ct,"inventory"),Ma("name")),R=(await dr(ee)).docs.map(z=>{const X=z.data();return{id:z.id,...X,lastUpdated:X.lastUpdated instanceof Ht?X.lastUpdated.toDate():new Date(X.lastUpdated)}});s(R)}catch(ee){console.error("Failed to fetch inventory",ee),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),T=Q.useCallback(async()=>{try{const ee=Pt(ct,"inventory"),N=await Jk(ee);g(N.data().count)}catch{g(null)}},[]);Q.useEffect(()=>{I(),T()},[I,T]),Q.useEffect(()=>{const ee=N=>{const R=N.target;R.closest(".damage-filter-dropdown")||D(!1),R.closest(".duplicate-filter-dropdown")||O(!1)};return(w||P)&&document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[w,P]);const C=Q.useMemo(()=>{const ee={};for(const N of i){const R=(N.name||"").trim().toLowerCase();if(!R)continue;const z=`${N.locationCode||""}-${N.shelfNumber||""}`.trim().toLowerCase();ee[R]||(ee[R]=new Set),ee[R].add(z)}return ee},[i]),H=((ee,N)=>{const[R,z]=Q.useState(ee);return Q.useEffect(()=>{const X=setTimeout(()=>z(ee),N);return()=>clearTimeout(X)},[ee,N]),R})(o,300),V=Q.useMemo(()=>{const ee=H.trim().toLowerCase();return i.filter(N=>{var W,_e;const R=((W=N.name)==null?void 0:W.toLowerCase())||"",z=(N.asin||"").toLowerCase(),X=(N.barcode||"").toLowerCase(),G=ee?R.includes(ee)||z.includes(ee)||X.includes(ee):!0,Z=m==="all"?!0:m==="damaged"?(N.damagedItems||0)>0:(N.damagedItems||0)<=0,se=(N.name||"").trim().toLowerCase(),oe=(se&&((_e=C[se])==null?void 0:_e.size)||0)>1;return G&&Z&&(v==="all"?!0:v==="duplicates"?oe:!oe)})},[i,H,m,v,C]),J=Q.useMemo(()=>H.trim()?V.reduce((ee,N)=>ee+(N.quantity||0),0):0,[V,H]),te=Q.useMemo(()=>{var K;const ee=V.length;let N=0,R=0,z=0,X=0,G=0;for(const oe of V){(oe.damagedItems||0)>0&&N++,oe.status==="active"&&R++,oe.status==="pending"&&z++,Number(oe.price)>0&&X++;const fe=(oe.name||"").trim().toLowerCase();(fe&&((K=C[fe])==null?void 0:K.size)||0)>1&&G++}const Z=ee-G,se=ee-X;return{total:ee,damaged:N,duplicates:G,unique:Z,active:R,pending:z,priceSet:X,noPrice:se}},[V,C]),q=ee=>{u(ee.id),h(ee.price!=null?String(ee.price):"")},B=()=>{u(null),h("")},re=async ee=>{const N=Number(f);if(Number.isNaN(N)||N<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,z=nn(ct,"inventory",ee.id);await Si(z,{price:N,lastUpdated:Ht.fromDate(R)}),await S(`updated price for ${ee.name} (barcode: ${ee.barcode}) from £${ee.price||0} to £${N.toFixed(2)}`),s(X=>X.map(G=>G.id===ee.id?{...G,price:N,lastUpdated:R}:G)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return p.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[p.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[p.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",d!==null?d:p.jsx("span",{className:"animate-pulse",children:"..."})]}),p.jsxs(vt,{variant:"secondary",onClick:()=>{I(),T()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[p.jsx(ol,{size:14,className:n?"animate-spin":""}),p.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[H.trim()?p.jsx(Ya,{title:"Total Quantity",value:J,icon:p.jsx(Q0,{size:20,className:"text-blue-600"})}):p.jsx(Ya,{title:"Products",value:te.total,icon:p.jsx(Q0,{size:20,className:"text-blue-600"})}),p.jsx(Ya,{title:"Damaged",value:te.damaged,icon:p.jsx(X0,{size:20,className:"text-blue-600"})}),p.jsx(Ya,{title:"Duplicates",value:te.duplicates,icon:p.jsx(iZ,{size:20,className:"text-blue-600"})}),p.jsx(Ya,{title:"Unique",value:te.unique,icon:p.jsx(A4,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[p.jsx(Ya,{title:"Active",value:te.active,icon:p.jsx(A4,{size:20,className:"text-blue-600"})}),p.jsx(Ya,{title:"Pending",value:te.pending,icon:p.jsx(X0,{size:20,className:"text-blue-600"})}),p.jsx(Ya,{title:"With Price",value:te.priceSet,icon:p.jsx($2,{size:20,className:"text-blue-600"})}),p.jsx(Ya,{title:"No Price",value:te.noPrice,icon:p.jsx($2,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(zh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(yt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:ee=>l(ee.target.value),className:"pl-10 text-sm sm:text-base"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[p.jsxs(vt,{variant:"secondary",onClick:()=>D(!w),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),p.jsx(p1,{size:16})]}),w&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y("all"),D(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y("damaged"),D(!1)},children:"Damaged"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y("notDamaged"),D(!1)},children:"Not Damaged"})]})})]}),p.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[p.jsxs(vt,{variant:"secondary",onClick:()=>O(!P),className:`flex items-center justify-between gap-2 w-full ${v!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:v==="all"?"Duplicates: All":v==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),p.jsx(p1,{size:16})]}),P&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${v==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("all"),O(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${v==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("duplicates"),O(!1)},children:"Duplicates Only"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${v==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("unique"),O(!1)},children:"Unique Only"})]})})]})]})]}),n?p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[p.jsx(lo,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):V.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),p.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:V.map(ee=>p.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:ee.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:ee.asin?ee.asin.split(",").length>3?ee.asin.split(",").slice(0,3).map(N=>N.trim()).join(", ")+"...":ee.asin.split(",").map(N=>N.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===ee.id?p.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:N=>N.stopPropagation(),children:[p.jsx(yt,{type:"number",step:"0.01",value:f,onChange:N=>h(N.target.value),className:"w-28 text-right"}),p.jsx(vt,{size:"sm",onClick:()=>re(ee),isLoading:n,children:p.jsx(lO,{size:14})}),p.jsx(vt,{size:"sm",variant:"secondary",onClick:B,disabled:n,children:p.jsx(J0,{size:14})})]}):p.jsx("button",{onClick:N=>{N.stopPropagation(),q(ee)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(ee.price)>0?`£${Number(ee.price).toFixed(2)}`:"(Not set)"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:ee.quantity}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:ee.barcode||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:p.jsx("button",{onClick:()=>A(ee),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:p.jsx(T4,{size:16})})})]},ee.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-3",children:V.map(ee=>{var N;return p.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-start gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:ee.name}),p.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:((N=ee.asin)==null?void 0:N.split(",")[0])||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",p.jsx("span",{className:"font-medium",children:ee.barcode||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",p.jsx("span",{className:"font-medium",children:ee.quantity})]})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(ee.price)>0?`£${Number(ee.price).toFixed(2)}`:"No price"}),p.jsxs("div",{className:"flex gap-1",children:[c===ee.id?p.jsxs(p.Fragment,{children:[p.jsx(vt,{size:"sm",onClick:()=>re(ee),isLoading:n,children:p.jsx(lO,{size:12})}),p.jsx(vt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),B()},disabled:n,children:p.jsx(J0,{size:12})})]}):p.jsx(vt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q(ee)},children:p.jsx(sl,{size:12})}),p.jsx(vt,{size:"sm",variant:"secondary",onClick:()=>A(ee),children:p.jsx(T4,{size:12})})]})]})]}),c===ee.id&&p.jsx("div",{className:"mt-1",children:p.jsx(yt,{type:"number",step:"0.01",value:f,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},ee.id)})})]}):p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),E&&p.jsx(lP,{isOpen:!!E,onClose:()=>A(null),item:E})]})},Tye=()=>{const{isDarkMode:e}=Wr(),{showToast:t}=Yc(),{user:r}=ga(),[n,a]=Q.useState(!1),[i,s]=Q.useState([]),[o,l]=Q.useState(!1),[c,u]=Q.useState(null),[f,h]=Q.useState(!1),[d,g]=Q.useState([]),[m,y]=Q.useState(!1),[v,b]=Q.useState(null),[w,D]=Q.useState(!1),[P,O]=Q.useState(""),[E,A]=Q.useState(null),S=i.filter(Z=>w?Z.status==="completed":Z.status!=="completed"),I=async Z=>{if(r)try{await kr(Pt(ct,"activityLogs"),{user:r.name,role:r.role,detail:Z,time:new Date().toISOString()})}catch(se){console.error("Failed to log activity:",se)}},T=Q.useCallback(async()=>{a(!0);try{const Z=vr(Pt(ct,"jobs"),Ma("createdAt","desc")),K=(await dr(Z)).docs.map(oe=>{const fe=oe.data();return{id:oe.id,jobId:fe.jobId||"",createdAt:fe.createdAt instanceof Ht?fe.createdAt.toDate():new Date,createdBy:fe.createdBy||"Unknown",status:fe.status||"picking",picker:fe.picker??null,packer:fe.packer??null,items:Array.isArray(fe.items)?fe.items.map(W=>({barcode:String(W.barcode||""),name:W.name??null,asin:W.asin??null,quantity:Number(W.quantity||1),verified:!!W.verified})):[]}});s(K)}catch(Z){console.error(Z),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);Q.useEffect(()=>{T()},[T]);const C=()=>{g([]),O(""),h(!0)},L=async Z=>{try{const se=vr(Pt(ct,"inventory"),qr("barcode","==",Z));return!(await dr(se)).empty}catch(se){return console.error("Error checking barcode:",se),!1}},H=async Z=>{if(!await L(Z)){t(`Product with barcode ${Z} does not exist`,"error");return}V(Z),y(!1)},V=Z=>{g(se=>{const K=se.findIndex(oe=>oe.barcode===Z);if(K>=0){const oe=[...se];return oe[K]={...oe[K],quantity:oe[K].quantity+1},oe}return[...se,{barcode:Z,quantity:1,verified:!1}]})},J=Z=>{g(se=>se.filter(K=>K.barcode!==Z))},te=(Z,se)=>{se<1||(g(K=>K.map(oe=>oe.barcode===Z?{...oe,quantity:se}:oe)),A(null))},q=async Z=>{Z.preventDefault();const se=P.trim();if(!se)return;if(!await L(se)){t(`Product with barcode ${se} does not exist`,"error");return}V(se),O("")},B=async()=>{if(d.length===0){t("Scan at least one item","error");return}a(!0);try{const Z=Date.now().toString(),se=await kr(Pt(ct,"jobs"),{jobId:Z,createdAt:ig(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:d});await Si(se,{docId:se.id}),await I(`created new job ${Z} with ${d.length} items (${d.reduce((K,oe)=>K+oe.quantity,0)} total units)`),t(`Job ${Z} created and awaiting pack`,"success"),h(!1),g([]),T()}catch(Z){console.error(Z),t("Failed to create job","error")}finally{a(!1)}},re=async Z=>{if(!c)return;if(!await L(Z)){t(`Product with barcode ${Z} does not exist`,"error");return}try{const K=nn(ct,"jobs",c),oe=await Hh(K);if(!oe.exists())return;const fe=oe.data(),W=Array.isArray(fe.items)?fe.items.map(Ae=>({barcode:String(Ae.barcode||""),name:Ae.name??null,asin:Ae.asin??null,quantity:Number(Ae.quantity||1),verified:!!Ae.verified})):[],_e=W.findIndex(Ae=>Ae.barcode===Z);_e>=0?W[_e]={...W[_e],quantity:(W[_e].quantity||0)+1}:W.push({barcode:Z,quantity:1,verified:!1}),await Si(K,{items:W}),t("Scanned added to job","success"),l(!1),T()}catch(K){console.error(K),t("Failed adding scan to job","error")}},ee=async Z=>{try{await Si(nn(ct,"jobs",Z.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||Z.picker||null}),await I(`completed picking for job ${Z.jobId} with ${Z.items.length} items (${Z.items.reduce((se,K)=>se+K.quantity,0)} total units)`),t(`Job ${Z.jobId} completed and awaiting pack`,"success"),T()}catch{t("Failed to update job","error")}},N=async(Z,se,K,oe)=>{oe==null||oe.preventDefault(),oe==null||oe.stopPropagation();try{const fe=nn(ct,"jobs",Z.id),W=await Hh(fe);if(!W.exists())return;const _e=W.data(),Ae=Array.isArray(_e.items)?_e.items.map(ie=>({barcode:String(ie.barcode||""),name:ie.name??null,asin:ie.asin??null,quantity:Number(ie.quantity||1),verified:!!ie.verified})):[],Se=Ae.findIndex(ie=>ie.barcode===se);Se>=0&&(Ae[Se]={...Ae[Se],verified:K},await Si(fe,{items:Ae}),s(ie=>ie.map(ke=>ke.id===Z.id?{...ke,items:Ae}:ke)))}catch{t("Failed to verify item","error")}},R=async Z=>{try{await Si(nn(ct,"jobs",Z.id),{status:"completed",packer:(r==null?void 0:r.name)||Z.packer||null}),await I(`completed packing for job ${Z.jobId} with ${Z.items.length} items (${Z.items.reduce((se,K)=>se+K.quantity,0)} total units)`),t(`Job ${Z.jobId} completed and awaiting pack`,"success"),T()}catch{t("Failed to complete job","error")}},z=Z=>{b(Z)},X=async()=>{if(v)try{await I(`deleted job ${v.jobId} (status: ${v.status} with ${v.items.length} items (${v.items.reduce((Z,se)=>Z+se.quantity,0)} total units))`),await sp(nn(ct,"jobs",v.id)),t("Job deleted","success"),b(null),T()}catch{t("Failed to delete job","error")}},G=({job:Z})=>{const se=Z.status==="awaiting_pack",K=Z.status==="picking",oe=Z.status==="completed";return p.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[p.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-1 sm:p-2 rounded-lg`,children:p.jsx(aZ,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),p.jsxs("div",{children:[p.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:["Job ",Z.jobId]}),p.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs`,children:["Created by ",Z.createdBy," • ",Z.createdAt.toLocaleString()]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${oe?"bg-green-100 text-green-700":se?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:oe?"Completed":se?"Awaiting Pack":"Picking"}),p.jsx(vt,{variant:"secondary",onClick:T,size:"sm",children:p.jsx(ol,{size:14})}),p.jsx(vt,{variant:"danger",onClick:()=>z(Z),size:"sm",children:p.jsx(ho,{size:14})})]})]})}),p.jsxs("div",{className:"p-3 sm:p-4 space-y-3",children:[p.jsx("div",{className:"flex items-center gap-2",children:K&&p.jsxs(vt,{onClick:()=>{u(Z.id),l(!0)},className:"flex items-center gap-1",size:"sm",children:[p.jsx(il,{size:14})," Scan"]})}),p.jsxs("div",{className:"space-y-2",children:[Z.items.map(fe=>p.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${e?"bg-slate-700":"bg-slate-100"}`,children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium truncate`,children:fe.barcode}),p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs`,children:["Qty: ",fe.quantity]})]}),se&&p.jsxs("label",{className:`flex items-center gap-2 text-sm cursor-pointer ${e?"text-white":"text-slate-700"}`,children:[p.jsx("input",{type:"checkbox",checked:fe.verified,onChange:W=>N(Z,fe.barcode,W.target.checked,W),onClick:W=>W.stopPropagation(),className:"w-4 h-4"}),p.jsx("span",{className:"sm:inline hidden",children:"Verify"})]})]},fe.barcode)),Z.items.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm`,children:"No items scanned yet."})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[K&&p.jsxs(vt,{onClick:()=>ee(Z),size:"sm",className:"flex items-center gap-1",children:[p.jsx(Hx,{size:14})," Finish Picking"]}),se&&p.jsxs(vt,{onClick:()=>R(Z),size:"sm",className:"flex items-center gap-1",children:[p.jsx(Hx,{size:14})," Complete Job"]})]})]})]})};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[w?"Completed":"Active"," Jobs"]}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx(vt,{variant:"secondary",onClick:T,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:p.jsx(ol,{size:16,className:n?"animate-spin":""})}),p.jsxs(vt,{onClick:C,className:"flex items-center gap-1",size:"sm",children:[p.jsx(Wi,{size:16})," ",p.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),p.jsx(vt,{variant:w?"primary":"secondary",onClick:()=>D(!w),size:"sm",children:w?"Show Active Jobs":"Show Completed Jobs"})]})]}),p.jsxs("div",{className:"space-y-4",children:[S.map(Z=>p.jsx(G,{job:Z},Z.id)),i.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"}`,children:w?"No completed jobs.":"No active jobs."})]}),p.jsx(Fc,{isOpen:o,onClose:()=>l(!1),onBarcodeScanned:re}),p.jsx(Dn,{isOpen:f,onClose:()=>h(!1),title:"Start Picking",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),p.jsxs("form",{onSubmit:q,className:"flex gap-2",children:[p.jsx(yt,{name:"manualBarcode",value:P,onChange:Z=>O(Z.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),p.jsxs(vt,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[p.jsx(Wi,{size:16})," Add"]})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.jsxs(vt,{onClick:()=>y(!0),className:"flex items-center gap-1 justify-center",size:"sm",children:[p.jsx(il,{size:16})," Scan Item"]}),p.jsxs(vt,{onClick:B,disabled:d.length===0,className:"flex items-center gap-1 justify-center",size:"sm",children:[p.jsx(Hx,{size:16})," Finish Picking"]})]}),p.jsxs("div",{className:"max-h-64 overflow-auto space-y-2",children:[d.map(Z=>p.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${e?"bg-slate-800":"bg-slate-100"}`,children:[p.jsx("div",{className:"flex-1 min-w-0",children:p.jsx("div",{className:"text-sm truncate flex-1",children:Z.barcode})}),p.jsxs("div",{className:"flex items-center gap-2",children:[(E==null?void 0:E.barcode)===Z.barcode?p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(yt,{type:"number",value:E.quantity,onChange:se=>A({barcode:Z.barcode,quantity:parseInt(se.target.value)||1}),className:"w-16 text-center",min:"1"}),p.jsx(vt,{size:"sm",onClick:()=>te(Z.barcode,E.quantity),className:"h-8",children:"✓"})]}):p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-sm",children:["Qty: ",Z.quantity]}),p.jsx(vt,{variant:"secondary",size:"sm",onClick:()=>A({barcode:Z.barcode,quantity:Z.quantity}),className:"h-8",children:"Edit"})]}),p.jsx(vt,{variant:"danger",size:"sm",onClick:()=>J(Z.barcode),className:"h-8",children:p.jsx(J0,{size:14})})]})]},Z.barcode)),d.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]})]})}),p.jsx(Fc,{isOpen:m,onClose:()=>y(!1),onBarcodeScanned:H}),p.jsx(bb,{isOpen:!!v,onClose:()=>b(null),onConfirm:X,title:"Delete Job",message:v?`Are you sure you want to delete Job ${v.jobId}? This action cannot be undone.`:"",isLoading:!1})]})},Eye=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return p.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},_q=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return p.jsx(Eye,{variant:t(),children:r()})},kye=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=Wr();return p.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),p.jsxs("div",{className:"flex items-center gap-2",children:[r,p.jsx(_q,{status:e.status})]})]}),p.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),p.jsx("div",{className:"space-y-1 mb-3",children:p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),p.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),p.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[p.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:$t(e.createdAt,"MMM d, yyyy")}),p.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},Cye=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),p.jsx(Dn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),p.jsx("div",{className:"mt-1",children:p.jsx(_q,{status:r.status})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),p.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),p.jsx("p",{className:"text-slate-800",children:r.createdAt?$t(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),p.jsx("p",{className:"text-slate-800",children:r.updatedAt?$t(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),p.jsx("p",{className:"text-slate-800",children:r.shippedTime?$t(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),p.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[p.jsx("thead",{className:"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),p.jsx("tfoot",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),p.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),p.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),p.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,wb=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:or(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:or(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:or(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:or(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:or(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:or(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:or(new Date,6),locationCode:"D2",shelfNumber:4}],Pye=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:or(new Date,1),updatedAt:or(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:or(new Date,2),updatedAt:or(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:or(new Date,5),updatedAt:or(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:or(new Date,10),updatedAt:or(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:or(new Date,15),updatedAt:or(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];Pye.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:$t(or(new Date,29-t),"MMM dd"),amount:r}});or(new Date,1),or(new Date,1),or(new Date,3),or(new Date,4),or(new Date,5);const Nye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Oye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],RS={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},JD={street:"",city:"",state:"",zipCode:"",country:""};function Iye(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const Dye=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,ZD=e=>Dye(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},jye=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=Q.useState(""),[s,o]=Q.useState(""),[l,c]=Q.useState("pending"),[u,f]=Q.useState(""),[h,d]=Q.useState([{...RS}]),[g,m]=Q.useState({...JD}),[y,v]=Q.useState({...JD}),[b,w]=Q.useState("Credit Card"),[D,P]=Q.useState(""),[O,E]=Q.useState([]),[A,S]=Q.useState(!1);Q.useEffect(()=>{e&&(i(Iye()),f($t(new Date,"yyyy-MM-dd")),d([{...RS}]),c("pending"))},[e]),Q.useEffect(()=>{e&&(async()=>{S(!0);try{const J=vr(Pt(ct,"inventory"),Ma("name")),q=(await dr(J)).docs.map(B=>({id:B.id,...B.data()}));E(q.length>0?q:wb)}catch{E(wb)}finally{S(!1)}})()},[e]);const I=(V,J,te)=>{d(q=>q.map((B,re)=>{if(re!==V)return B;if(J==="productName"){const ee=O.find(N=>N.name===te);return ee?{...B,productId:ee.id,productName:ee.name,unitPrice:ee.price,quantity:1,totalPrice:ee.price*1}:B}if(J==="quantity"){const ee=Number(te);return{...B,quantity:ee,totalPrice:B.unitPrice*ee}}return{...B,[J]:te}}))},T=()=>{d([...h,{...RS}])},C=V=>{d(J=>J.filter((te,q)=>q!==V))},L=(V,J,te)=>{V==="shipping"?m(q=>({...ZD(q),[J]:te})):v(q=>({...ZD(q),[J]:te}))},H=V=>{if(V.preventDefault(),h.some(q=>!q.productId||!q.productName)){alert("Please select a product for each order item.");return}const J=new Date,te={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):J,updatedAt:J,items:h.map((q,B)=>({...q,id:`item${B+1}`})),shippingAddress:g,billingAddress:y,paymentMethod:b,totalAmount:h.reduce((q,B)=>q+(B.totalPrice||0),0)};D&&(te.notes=D),r(te),t()};return p.jsx(Dn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:p.jsxs("form",{onSubmit:H,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(yt,{label:"Customer Name",value:s,onChange:V=>o(V.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Fr,{label:"Status",value:l,onChange:V=>c(V.target.value),options:Nye,required:!0,fullWidth:!0,disabled:!0}),p.jsx(Fr,{label:"Payment Method",value:b,onChange:V=>w(V.target.value),options:Oye,required:!0,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx(yt,{label:"Order Date",type:"date",value:u,onChange:V=>f(V.target.value),required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((V,J)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx(Fr,{label:"Product Name",value:V.productName,onChange:te=>I(J,"productName",te.target.value),options:[{value:"",label:"Select product..."},...O.map(te=>({value:te.name,label:te.name}))],required:!0,fullWidth:!0,disabled:A}),p.jsx(yt,{label:"Quantity",type:"number",value:V.quantity,onChange:te=>I(J,"quantity",Number(te.target.value)),min:1,required:!0,fullWidth:!0,disabled:!V.productName}),p.jsx(yt,{label:"Unit Price",type:"number",value:V.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(yt,{label:"Total Price",type:"number",value:V.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(vt,{type:"button",variant:"danger",size:"sm",icon:p.jsx(ho,{size:16}),onClick:()=>C(J),children:"Remove"})]},J)),p.jsx(vt,{type:"button",variant:"primary",icon:p.jsx(Wi,{size:16}),onClick:T,disabled:A,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(yt,{label:"Street",value:g.street,onChange:V=>L("shipping","street",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"City",value:g.city,onChange:V=>L("shipping","city",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"State",value:g.state,onChange:V=>L("shipping","state",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Zip Code",value:g.zipCode,onChange:V=>L("shipping","zipCode",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Country",value:g.country,onChange:V=>L("shipping","country",V.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(yt,{label:"Street",value:y.street,onChange:V=>L("billing","street",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"City",value:y.city,onChange:V=>L("billing","city",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"State",value:y.state,onChange:V=>L("billing","state",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Zip Code",value:y.zipCode,onChange:V=>L("billing","zipCode",V.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Country",value:y.country,onChange:V=>L("billing","country",V.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(yt,{label:"Notes (optional)",value:D,onChange:V=>P(V.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(vt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(vt,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Lye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Mye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],ej={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},tj={street:"",city:"",state:"",zipCode:"",country:""},Rye=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=Q.useState(""),[o,l]=Q.useState(""),[c,u]=Q.useState("pending"),[f,h]=Q.useState(""),[d,g]=Q.useState(""),[m,y]=Q.useState([{...ej}]),[v,b]=Q.useState({...tj}),[w,D]=Q.useState({...tj}),[P,O]=Q.useState("Credit Card"),[E,A]=Q.useState(""),[S,I]=Q.useState([]),[T,C]=Q.useState(!1);Q.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h($t(a.createdAt,"yyyy-MM-dd")),y(a.items.map(re=>({...re}))),b(a.shippingAddress),D(a.billingAddress),O(a.paymentMethod),A(a.notes||""),a.status==="shipped"&&a.shippedTime?g($t(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),Q.useEffect(()=>{e&&(async()=>{C(!0);try{const ee=vr(Pt(ct,"inventory"),Ma("name")),R=(await dr(ee)).docs.map(z=>({id:z.id,...z.data()}));I(R.length>0?R:wb)}catch{I(wb)}finally{C(!1)}})()},[e]);const L=(re,ee,N)=>{y(R=>R.map((z,X)=>{if(X!==re)return z;if(ee==="productName"){const G=S.find(Z=>Z.name===N);return G?{...z,productId:G.id,productName:G.name,unitPrice:G.price,quantity:1,totalPrice:G.price*1}:z}if(ee==="quantity"){const G=Number(N);return{...z,quantity:G,totalPrice:z.unitPrice*G}}return{...z,[ee]:N}}))},H=()=>{y([...m,{...ej}])},V=re=>{y(ee=>ee.filter((N,R)=>R!==re))},J=(re,ee,N)=>{re==="shipping"?b(R=>({...B(R),[ee]:N})):D(R=>({...B(R),[ee]:N}))},te=re=>{if(re.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const ee={orderNumber:i,customerName:o,status:c,items:m.map((R,z)=>{let X;return typeof R.id=="string"&&R.id?X=R.id:X=`item${z+1}`,{...R,id:X}}),shippingAddress:v,billingAddress:w,paymentMethod:P,totalAmount:m.reduce((R,z)=>R+(z.totalPrice||0),0)};E&&(ee.notes=E),c==="shipped"&&d?ee.shippedTime=Uue(d):a!=null&&a.shippedTime&&c!=="shipped"&&(ee.shippedTime=null);const N={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...ee};r(N),t()},q=re=>typeof re=="object"&&re!==null&&!Array.isArray(re)&&"street"in re&&"city"in re&&"state"in re&&"zipCode"in re&&"country"in re,B=re=>q(re)?re:{street:"",city:"",state:"",zipCode:"",country:""};return p.jsx(Dn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:p.jsxs("form",{onSubmit:te,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(yt,{label:"Customer Name",value:o,onChange:re=>l(re.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Fr,{label:"Status",value:c,onChange:re=>u(re.target.value),options:Lye,required:!0,fullWidth:!0}),p.jsx(Fr,{label:"Payment Method",value:P,onChange:re=>O(re.target.value),options:Mye,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Order Date",type:"date",value:f,onChange:re=>h(re.target.value),required:!0,fullWidth:!0}),c==="shipped"&&p.jsx(yt,{label:"Shipped Time",type:"datetime-local",value:d,onChange:re=>g(re.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((re,ee)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx(Fr,{label:"Product Name",value:re.productName,onChange:N=>L(ee,"productName",N.target.value),options:[{value:"",label:"Select product..."},...S.map(N=>({value:N.name,label:N.name}))],required:!0,fullWidth:!0,disabled:T}),p.jsx(yt,{label:"Quantity",type:"number",value:re.quantity,onChange:N=>L(ee,"quantity",Number(N.target.value)),min:1,required:!0,fullWidth:!0,disabled:!re.productName}),p.jsx(yt,{label:"Unit Price",type:"number",value:re.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(yt,{label:"Total Price",type:"number",value:re.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(vt,{type:"button",variant:"danger",size:"sm",icon:p.jsx(ho,{size:16}),onClick:()=>V(ee),children:"Remove"})]},ee)),p.jsx(vt,{type:"button",variant:"primary",icon:p.jsx(Wi,{size:16}),onClick:H,disabled:T,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(yt,{label:"Street",value:v.street,onChange:re=>J("shipping","street",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"City",value:v.city,onChange:re=>J("shipping","city",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"State",value:v.state,onChange:re=>J("shipping","state",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Zip Code",value:v.zipCode,onChange:re=>J("shipping","zipCode",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Country",value:v.country,onChange:re=>J("shipping","country",re.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(yt,{label:"Street",value:w.street,onChange:re=>J("billing","street",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"City",value:w.city,onChange:re=>J("billing","city",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"State",value:w.state,onChange:re=>J("billing","state",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Zip Code",value:w.zipCode,onChange:re=>J("billing","zipCode",re.target.value),required:!0,fullWidth:!0}),p.jsx(yt,{label:"Country",value:w.country,onChange:re=>J("billing","country",re.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(yt,{label:"Notes (optional)",value:E,onChange:re=>A(re.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(vt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(vt,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},Fye=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState("all"),[a,i]=Q.useState("date"),[s,o]=Q.useState(null),[l,c]=Q.useState("grid"),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState([]),[y,v]=Q.useState(null),[b,w]=Q.useState(!1),{showToast:D}=Yc(),{user:P}=ga(),{isDarkMode:O}=Wr(),E=async()=>{d(!0);try{const q=vr(Pt(ct,"orders"),Ma("createdAt","desc")),re=(await dr(q)).docs.map(ee=>{const N=ee.data();return{id:ee.id,orderNumber:N.orderNumber||"",customerName:N.customerName||"",items:N.items||[],status:N.status||"pending",createdAt:N.createdAt instanceof Ht?N.createdAt.toDate():new Date(N.createdAt),updatedAt:N.updatedAt instanceof Ht?N.updatedAt.toDate():new Date(N.updatedAt),shippingAddress:N.shippingAddress||{},billingAddress:N.billingAddress||{},paymentMethod:N.paymentMethod||"",totalAmount:N.totalAmount||0,notes:N.notes||"",shippedTime:N.shippedTime instanceof Ht?N.shippedTime.toDate():N.shippedTime?new Date(N.shippedTime):void 0}});m(re)}catch(q){console.error("Error fetching orders:",q),D("Failed to fetch orders","error")}finally{d(!1)}};Q.useEffect(()=>{E()},[]);const A=g.filter(q=>{const B=q.orderNumber.toLowerCase().includes(e.toLowerCase())||q.customerName.toLowerCase().includes(e.toLowerCase()),re=r==="all"||q.status===r;return B&&re}).sort((q,B)=>a==="date"?new Date(B.createdAt).getTime()-new Date(q.createdAt).getTime():a==="amount"?B.totalAmount-q.totalAmount:0),S=q=>{o(q)},I=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],T=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],C=async q=>{d(!0);try{console.log("Adding new order with status:",q.status),await kr(Pt(ct,"orders"),{...q,createdAt:ig(),updatedAt:ig()}),await kr(Pt(ct,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${q.orderNumber} for '${q.customerName}' with ${q.items.length} items (${q.items.map(B=>`${B.quantity} ${B.productName}`).join(", ")}) - Total: $${q.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),q.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await mx(q.items,!0)),await E(),f(!1),D("Order added successfully!","success")}catch(B){console.error("Error in handleAddOrder:",B),alert("Error adding order: "+((B==null?void 0:B.message)||B))}finally{d(!1)}},L=async q=>{d(!0);try{const B=nn(ct,"orders",q.id),ee=(await Hh(B)).data();console.log("Previous order status:",ee==null?void 0:ee.status),console.log("New order status:",q.status);const N={status:q.status,updatedAt:ig()},R=[];if((ee==null?void 0:ee.status)!==q.status&&R.push(`status from "${ee==null?void 0:ee.status}" to "${q.status}"`),(ee==null?void 0:ee.customerName)!==q.customerName&&R.push(`customer from "${ee==null?void 0:ee.customerName}" to "${q.customerName}"`),JSON.stringify(ee==null?void 0:ee.items)!==JSON.stringify(q.items)){const X=[];q.items.forEach(G=>{const Z=ee==null?void 0:ee.items.find(se=>se.id===G.id);Z?Z.quantity!==G.quantity&&X.push(`changed ${G.productName} quantity from ${Z.quantity} to ${G.quantity}`):X.push(`added ${G.quantity} ${G.productName}`)}),ee==null||ee.items.forEach(G=>{q.items.find(Z=>Z.id===G.id)||X.push(`removed ${G.quantity} ${G.productName}`)}),X.length>0&&R.push(`items: ${X.join(", ")}`)}(ee==null?void 0:ee.totalAmount)!==q.totalAmount&&R.push(`total amount from $${ee==null?void 0:ee.totalAmount.toFixed(2)} to $${q.totalAmount.toFixed(2)}`),q.status==="shipped"&&(ee==null?void 0:ee.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await mx(q.items,!0),q.shippedTime?N.shippedTime=Ht.fromDate(q.shippedTime):N.shippedTime=ig()):(ee==null?void 0:ee.status)==="shipped"&&q.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await mx(q.items,!1),N.shippedTime=_I()):(q.status==="cancelled"||q.status==="returned")&&(ee==null?void 0:ee.status)!=="cancelled"&&(ee==null?void 0:ee.status)!=="returned"?(console.log(`Status changed to ${q.status}, restoring inventory...`),await mx(q.items,!1),N.shippedTime=_I()):ee!=null&&ee.shippedTime&&(N.shippedTime=Ht.fromDate(ee.shippedTime));const{...z}=q;Object.assign(N,z),await Si(B,N),R.length>0&&await kr(Pt(ct,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${q.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await E(),v(null),D("Order updated successfully!","success")}catch(B){console.error("Error updating order:",B),D("Failed to update order","error")}finally{d(!1)}},H=()=>{v(null)},V=async q=>{d(!0);try{const B=nn(ct,"orders",q),ee=(await Hh(B)).data();ee&&(await kr(Pt(ct,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${ee.orderNumber} for '${ee.customerName}' with ${ee.items.length} items (${ee.items.map(N=>`${N.quantity} ${N.productName}`).join(", ")}) - Total: $${ee.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await sp(B),await E(),w(!1),o(null),D("Order deleted successfully!","success"))}catch(B){console.error("Error deleting order:",B),D("Failed to delete order","error")}finally{d(!1)}},J=(q,B)=>{q.stopPropagation(),o(B),w(!0)},te=(q,B)=>{q.stopPropagation(),v(B)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-slate-800"}`,children:"Current Orders"}),p.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),p.jsx(vt,{onClick:()=>f(!0),className:"flex items-center gap-2",children:p.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsx("div",{className:"md:flex-1",children:p.jsx(yt,{placeholder:"Search by order number or customer...",value:e,onChange:q=>t(q.target.value),icon:p.jsx(zh,{size:18}),fullWidth:!0})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Fr,{options:I,value:r,onChange:q=>n(q.target.value)}),p.jsx(Fr,{options:T,value:a,onChange:q=>i(q.target.value)})]})]}),p.jsx("div",{className:"flex justify-end mb-4",children:p.jsxs("div",{className:"relative inline-block",children:[p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":O?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[p.jsx(cZ,{size:18,className:"inline mr-1"})," Grid"]}),p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":O?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[p.jsx(yZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[p.jsx(lo,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-500"} animate-spin`}),p.jsx("p",{className:`mt-2 ${O?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?A.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(q=>p.jsx("div",{className:"flex flex-col",children:p.jsx(kye,{order:q,onClick:()=>S(q),editButton:p.jsx("button",{onClick:B=>te(B,q),className:`p-2 ${O?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:p.jsx(sl,{className:`w-4 h-4 ${O?"text-blue-400":"text-blue-500"}`})})})},q.id))}):p.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):A.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[p.jsx("thead",{className:O?"bg-slate-900":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`${O?"divide-slate-700":"divide-slate-200"}`,children:A.map(q=>p.jsxs("tr",{className:`${O?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>S(q),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:q.orderNumber}),p.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-300":"text-slate-800"}`,children:q.customerName}),p.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-300":"text-slate-800"} capitalize`,children:q.status}),p.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-300":"text-slate-800"}`,children:new Date(q.createdAt).toLocaleDateString()}),p.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${O?"text-slate-200":"text-slate-900"} text-right`,children:["$",q.totalAmount.toFixed(2)]}),p.jsx("td",{className:"px-4 py-3 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:B=>{B.stopPropagation(),v(q)},className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(sl,{size:16})}),p.jsx("button",{onClick:B=>J(B,q),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx(ho,{size:16})})]})})]},q.id))})]})}):p.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&p.jsx(Cye,{isOpen:!!s,onClose:()=>o(null),order:s}),p.jsx(jye,{isOpen:u,onClose:()=>f(!1),onAdd:C,isLoading:h}),p.jsx(Rye,{isOpen:!!y,onClose:H,onEdit:L,isLoading:h,order:y}),s&&p.jsx(bb,{isOpen:b,onClose:()=>{w(!1),o(null)},onConfirm:()=>V(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},mx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=wae(ct),n=[];for(const a of e){const i=nn(ct,"inventory",a.productId),s=await Hh(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await kr(Pt(ct,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},Sq=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=Wr(),[o,l]=Q.useState(!1),c=d=>{const g=d.target.value?new Date(d.target.value):null;r(g)},u=d=>{const g=d.target.value?new Date(d.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${$t(e,"MMM d, yyyy")} - ${$t(t,"MMM d, yyyy")}`:e?`From ${$t(e,"MMM d, yyyy")}`:t?`To ${$t(t,"MMM d, yyyy")}`:"Select date range";return p.jsxs("div",{className:`relative ${i}`,children:[p.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[p.jsx(tZ,{className:"h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&p.jsx("button",{onClick:d=>{d.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",children:p.jsx(J0,{className:"h-3 w-3"})})]}),o&&p.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),p.jsx("input",{type:"date",value:e?$t(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),p.jsx("input",{type:"date",value:t?$t(t,"yyyy-MM-dd"):"",onChange:u,min:e?$t(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[p.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),p.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},$ye="modulepreload",Bye=function(e){return"/"+e},rj={},CT=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Bye(l),l in rj)return;rj[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":$ye,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Ti=Uint8Array,Ls=Uint16Array,cP=Int32Array,v5=new Ti([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y5=new Ti([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PT=new Ti([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Aq=function(e,t){for(var r=new Ls(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new cP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Tq=Aq(v5,2),Eq=Tq.b,NT=Tq.r;Eq[28]=258,NT[258]=28;var kq=Aq(y5,0),Vye=kq.b,nj=kq.r,OT=new Ls(32768);for(var Sn=0;Sn<32768;++Sn){var Nu=(Sn&43690)>>1|(Sn&21845)<<1;Nu=(Nu&52428)>>2|(Nu&13107)<<2,Nu=(Nu&61680)>>4|(Nu&3855)<<4,OT[Sn]=((Nu&65280)>>8|(Nu&255)<<8)>>1}var Fl=function(e,t,r){for(var n=e.length,a=0,i=new Ls(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Ls(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Ls(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[OT[f]>>l]=c}else for(o=new Ls(n),a=0;a<n;++a)e[a]&&(o[a]=OT[s[e[a]-1]++]>>15-e[a]);return o},Ef=new Ti(288);for(var Sn=0;Sn<144;++Sn)Ef[Sn]=8;for(var Sn=144;Sn<256;++Sn)Ef[Sn]=9;for(var Sn=256;Sn<280;++Sn)Ef[Sn]=7;for(var Sn=280;Sn<288;++Sn)Ef[Sn]=8;var U1=new Ti(32);for(var Sn=0;Sn<32;++Sn)U1[Sn]=5;var Uye=Fl(Ef,9,0),zye=Fl(Ef,9,1),qye=Fl(U1,5,0),Wye=Fl(U1,5,1),FS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ro=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},$S=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},uP=function(e){return(e+7)/8|0},Cq=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ti(e.subarray(t,r))},Hye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zo=function(e,t,r){var n=new Error(t||Hye[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,zo),!r)throw n;return n},Gye=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Ti(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Ti(a*3));var c=function(fe){var W=r.length;if(fe>W){var _e=new Ti(Math.max(W*2,fe));_e.set(r),r=_e}},u=t.f||0,f=t.p||0,h=t.b||0,d=t.l,g=t.d,m=t.m,y=t.n,v=a*8;do{if(!d){u=Ro(e,f,1);var b=Ro(e,f+1,3);if(f+=3,b)if(b==1)d=zye,g=Wye,m=9,y=5;else if(b==2){var O=Ro(e,f,31)+257,E=Ro(e,f+10,15)+4,A=O+Ro(e,f+5,31)+1;f+=14;for(var S=new Ti(A),I=new Ti(19),T=0;T<E;++T)I[PT[T]]=Ro(e,f+T*3,7);f+=E*3;for(var C=FS(I),L=(1<<C)-1,H=Fl(I,C,1),T=0;T<A;){var V=H[Ro(e,f,L)];f+=V&15;var w=V>>4;if(w<16)S[T++]=w;else{var J=0,te=0;for(w==16?(te=3+Ro(e,f,3),f+=2,J=S[T-1]):w==17?(te=3+Ro(e,f,7),f+=3):w==18&&(te=11+Ro(e,f,127),f+=7);te--;)S[T++]=J}}var q=S.subarray(0,O),B=S.subarray(O);m=FS(q),y=FS(B),d=Fl(q,m,1),g=Fl(B,y,1)}else zo(1);else{var w=uP(f)+4,D=e[w-4]|e[w-3]<<8,P=w+D;if(P>a){l&&zo(0);break}o&&c(h+D),r.set(e.subarray(w,P),h),t.b=h+=D,t.p=f=P*8,t.f=u;continue}if(f>v){l&&zo(0);break}}o&&c(h+131072);for(var re=(1<<m)-1,ee=(1<<y)-1,N=f;;N=f){var J=d[$S(e,f)&re],R=J>>4;if(f+=J&15,f>v){l&&zo(0);break}if(J||zo(2),R<256)r[h++]=R;else if(R==256){N=f,d=null;break}else{var z=R-254;if(R>264){var T=R-257,X=v5[T];z=Ro(e,f,(1<<X)-1)+Eq[T],f+=X}var G=g[$S(e,f)&ee],Z=G>>4;G||zo(3),f+=G&15;var B=Vye[Z];if(Z>3){var X=y5[Z];B+=$S(e,f)&(1<<X)-1,f+=X}if(f>v){l&&zo(0);break}o&&c(h+131072);var se=h+z;if(h<B){var K=i-B,oe=Math.min(B,se);for(K+h<0&&zo(3);h<oe;++h)r[h]=n[K+h]}for(;h<se;++h)r[h]=r[h-B]}}t.l=d,t.p=N,t.b=h,t.f=u,d&&(u=1,t.m=m,t.d=g,t.n=y)}while(!u);return h!=r.length&&s?Cq(r,0,h):r.subarray(0,h)},cc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Fm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},BS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Nq,l:0};if(a==1){var s=new Ti(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,O){return P.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var d=new Ls(h+1),g=IT(r[u-1],d,0);if(g>t){var n=0,m=0,y=g-t,v=1<<y;for(i.sort(function(O,E){return d[E.s]-d[O.s]||O.f-E.f});n<a;++n){var b=i[n].s;if(d[b]>t)m+=v-(1<<g-d[b]),d[b]=t;else break}for(m>>=y;m>0;){var w=i[n].s;d[w]<t?m-=1<<t-d[w]++-1:++n}for(;n>=0&&m;--n){var D=i[n].s;d[D]==t&&(--d[D],++m)}g=t}return{t:new Ti(d),l:g}},IT=function(e,t,r){return e.s==-1?Math.max(IT(e.l,t,r+1),IT(e.r,t,r+1)):t[e.s]=r},aj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ls(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},$m=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Pq=function(e,t,r){var n=r.length,a=uP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},ij=function(e,t,r,n,a,i,s,o,l,c,u){cc(t,u++,r),++a[256];for(var f=BS(a,15),h=f.t,d=f.l,g=BS(i,15),m=g.t,y=g.l,v=aj(h),b=v.c,w=v.n,D=aj(m),P=D.c,O=D.n,E=new Ls(19),A=0;A<b.length;++A)++E[b[A]&31];for(var A=0;A<P.length;++A)++E[P[A]&31];for(var S=BS(E,7),I=S.t,T=S.l,C=19;C>4&&!I[PT[C-1]];--C);var L=c+5<<3,H=$m(a,Ef)+$m(i,U1)+s,V=$m(a,h)+$m(i,m)+s+14+3*C+$m(E,I)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&L<=H&&L<=V)return Pq(t,u,e.subarray(l,l+c));var J,te,q,B;if(cc(t,u,1+(V<H)),u+=2,V<H){J=Fl(h,d,0),te=h,q=Fl(m,y,0),B=m;var re=Fl(I,T,0);cc(t,u,w-257),cc(t,u+5,O-1),cc(t,u+10,C-4),u+=14;for(var A=0;A<C;++A)cc(t,u+3*A,I[PT[A]]);u+=3*C;for(var ee=[b,P],N=0;N<2;++N)for(var R=ee[N],A=0;A<R.length;++A){var z=R[A]&31;cc(t,u,re[z]),u+=I[z],z>15&&(cc(t,u,R[A]>>5&127),u+=R[A]>>12)}}else J=Uye,te=Ef,q=qye,B=U1;for(var A=0;A<o;++A){var X=n[A];if(X>255){var z=X>>18&31;Fm(t,u,J[z+257]),u+=te[z+257],z>7&&(cc(t,u,X>>23&31),u+=v5[z]);var G=X&31;Fm(t,u,q[G]),u+=B[G],G>3&&(Fm(t,u,X>>5&8191),u+=y5[G])}else Fm(t,u,J[X]),u+=te[X]}return Fm(t,u,J[256]),u+te[256]},Kye=new cP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Nq=new Ti(0),Yye=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Ti(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=Kye[t-1],h=f>>13,d=f&8191,g=(1<<r)-1,m=i.p||new Ls(32768),y=i.h||new Ls(g+1),v=Math.ceil(r/3),b=2*v,w=function(Ae){return(e[Ae]^e[Ae+1]<<v^e[Ae+2]<<b)&g},D=new cP(25e3),P=new Ls(288),O=new Ls(32),E=0,A=0,S=i.i||0,I=0,T=i.w||0,C=0;S+2<s;++S){var L=w(S),H=S&32767,V=y[L];if(m[H]=V,y[L]=H,T<=S){var J=s-S;if((E>7e3||I>24576)&&(J>423||!c)){u=ij(e,l,0,D,P,O,A,I,C,S-C,u),I=E=A=0,C=S;for(var te=0;te<286;++te)P[te]=0;for(var te=0;te<30;++te)O[te]=0}var q=2,B=0,re=d,ee=H-V&32767;if(J>2&&L==w(S-ee))for(var N=Math.min(h,J)-1,R=Math.min(32767,S),z=Math.min(258,J);ee<=R&&--re&&H!=V;){if(e[S+q]==e[S+q-ee]){for(var X=0;X<z&&e[S+X]==e[S+X-ee];++X);if(X>q){if(q=X,B=ee,X>N)break;for(var G=Math.min(ee,X-2),Z=0,te=0;te<G;++te){var se=S-ee+te&32767,K=m[se],oe=se-K&32767;oe>Z&&(Z=oe,V=se)}}}H=V,V=m[H],ee+=H-V&32767}if(B){D[I++]=268435456|NT[q]<<18|nj[B];var fe=NT[q]&31,W=nj[B]&31;A+=v5[fe]+y5[W],++P[257+fe],++O[W],T=S+q,++E}else D[I++]=e[S],++P[e[S]]}}for(S=Math.max(S,T);S<s;++S)D[I++]=e[S],++P[e[S]];u=ij(e,l,c,D,P,O,A,I,C,S-C,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=y,i.p=m,i.i=S,i.w=T)}else{for(var S=i.w||0;S<s+c;S+=65535){var _e=S+65535;_e>=s&&(l[u/8|0]=c,_e=s),u=Pq(l,u+1,e.subarray(S,_e))}i.i=s}return Cq(o,0,n+uP(u)+a)},Oq=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Xye=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Ti(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Yye(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Iq=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Qye=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Oq();a.p(t.dictionary),Iq(e,2,a.d())}},Jye=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&zo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&zo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function DT(e,t){t||(t={});var r=Oq();r.p(e);var n=Xye(e,t,t.dictionary?6:2,4);return Qye(n,t),Iq(n,n.length-4,r.d()),n}function Zye(e,t){return Gye(e.subarray(Jye(e,t),-4),{i:2},t,t)}var exe=typeof TextDecoder<"u"&&new TextDecoder,txe=0;try{exe.decode(Nq,{stream:!0}),txe=1}catch{}var Kt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function VS(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var cn={log:VS,warn:function(e){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):VS.call(null,arguments))},error:function(e){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):VS(e))}};function US(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){hh(n.response,t,r)},n.onerror=function(){cn.error("could not download file")},n.send()}function sj(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function gx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Vg,jT,hh=Kt.saveAs||((typeof window>"u"?"undefined":$r(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Kt.URL||Kt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?sj(a.href)?US(e,t,r):gx(a,a.target="_blank"):gx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){gx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(sj(e))US(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){gx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:$r(i)!=="object"&&(cn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return US(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Kt.HTMLElement)||Kt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":$r(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=Kt.URL||Kt.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Dq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=fi(r,n,a,i,t[0],7,-680876936),i=fi(i,r,n,a,t[1],12,-389564586),a=fi(a,i,r,n,t[2],17,606105819),n=fi(n,a,i,r,t[3],22,-1044525330),r=fi(r,n,a,i,t[4],7,-176418897),i=fi(i,r,n,a,t[5],12,1200080426),a=fi(a,i,r,n,t[6],17,-1473231341),n=fi(n,a,i,r,t[7],22,-45705983),r=fi(r,n,a,i,t[8],7,1770035416),i=fi(i,r,n,a,t[9],12,-1958414417),a=fi(a,i,r,n,t[10],17,-42063),n=fi(n,a,i,r,t[11],22,-1990404162),r=fi(r,n,a,i,t[12],7,1804603682),i=fi(i,r,n,a,t[13],12,-40341101),a=fi(a,i,r,n,t[14],17,-1502002290),r=hi(r,n=fi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=hi(i,r,n,a,t[6],9,-1069501632),a=hi(a,i,r,n,t[11],14,643717713),n=hi(n,a,i,r,t[0],20,-373897302),r=hi(r,n,a,i,t[5],5,-701558691),i=hi(i,r,n,a,t[10],9,38016083),a=hi(a,i,r,n,t[15],14,-660478335),n=hi(n,a,i,r,t[4],20,-405537848),r=hi(r,n,a,i,t[9],5,568446438),i=hi(i,r,n,a,t[14],9,-1019803690),a=hi(a,i,r,n,t[3],14,-187363961),n=hi(n,a,i,r,t[8],20,1163531501),r=hi(r,n,a,i,t[13],5,-1444681467),i=hi(i,r,n,a,t[2],9,-51403784),a=hi(a,i,r,n,t[7],14,1735328473),r=di(r,n=hi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=di(i,r,n,a,t[8],11,-2022574463),a=di(a,i,r,n,t[11],16,1839030562),n=di(n,a,i,r,t[14],23,-35309556),r=di(r,n,a,i,t[1],4,-1530992060),i=di(i,r,n,a,t[4],11,1272893353),a=di(a,i,r,n,t[7],16,-155497632),n=di(n,a,i,r,t[10],23,-1094730640),r=di(r,n,a,i,t[13],4,681279174),i=di(i,r,n,a,t[0],11,-358537222),a=di(a,i,r,n,t[3],16,-722521979),n=di(n,a,i,r,t[6],23,76029189),r=di(r,n,a,i,t[9],4,-640364487),i=di(i,r,n,a,t[12],11,-421815835),a=di(a,i,r,n,t[15],16,530742520),r=pi(r,n=di(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=pi(i,r,n,a,t[7],10,1126891415),a=pi(a,i,r,n,t[14],15,-1416354905),n=pi(n,a,i,r,t[5],21,-57434055),r=pi(r,n,a,i,t[12],6,1700485571),i=pi(i,r,n,a,t[3],10,-1894986606),a=pi(a,i,r,n,t[10],15,-1051523),n=pi(n,a,i,r,t[1],21,-2054922799),r=pi(r,n,a,i,t[8],6,1873313359),i=pi(i,r,n,a,t[15],10,-30611744),a=pi(a,i,r,n,t[6],15,-1560198380),n=pi(n,a,i,r,t[13],21,1309151649),r=pi(r,n,a,i,t[4],6,-145523070),i=pi(i,r,n,a,t[11],10,-1120210379),a=pi(a,i,r,n,t[2],15,718787259),n=pi(n,a,i,r,t[9],21,-343485551),e[0]=Xu(r,e[0]),e[1]=Xu(n,e[1]),e[2]=Xu(a,e[2]),e[3]=Xu(i,e[3])}function x5(e,t,r,n,a,i){return t=Xu(Xu(t,e),Xu(n,i)),Xu(t<<a|t>>>32-a,r)}function fi(e,t,r,n,a,i,s){return x5(t&r|~t&n,e,t,a,i,s)}function hi(e,t,r,n,a,i,s){return x5(t&n|r&~n,e,t,a,i,s)}function di(e,t,r,n,a,i,s){return x5(t^r^n,e,t,a,i,s)}function pi(e,t,r,n,a,i,s){return x5(r^(t|~n),e,t,a,i,s)}function jq(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)zS(n,rxe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(zS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,zS(n,a),n}function rxe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Vg=Kt.atob.bind(Kt),jT=Kt.btoa.bind(Kt);var oj="0123456789abcdef".split("");function nxe(e){for(var t="",r=0;r<4;r++)t+=oj[e>>8*r+4&15]+oj[e>>8*r&15];return t}function axe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function LT(e){return jq(e).map(axe).join("")}var ixe=function(e){for(var t=0;t<e.length;t++)e[t]=nxe(e[t]);return e.join("")}(jq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xu(e,t){if(ixe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function MT(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,d=0,g="";for(l=0;l<f;l++)d=(d+(u=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=u,s=o[(o[h]+o[d])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lj={print:4,modify:8,copy:16,"annot-forms":32};function Qd(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(lj.perm!==void 0)throw new Error("Invalid permission: "+o);a+=lj[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=LT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=MT(this.encryptionKey,this.padding)}function Jd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function cj(e){if($r(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){Kt.console&&cn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function _b(e){if(!(this instanceof _b))return new _b(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Lq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function vh(e,t,r,n,a){if(!(this instanceof vh))return new vh(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Lq.call(this,n,a)}function v0(e,t,r,n,a){if(!(this instanceof v0))return new v0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Lq.call(this,n,a)}function Gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;$r(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=cj;var g="1.3",m=d.__private__.getPdfVersion=function(){return g};d.__private__.setPdfVersion=function(j){g=j};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return y};var v=d.__private__.getPageFormat=function(j){return y[j]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function D(){this.saveGraphicsState(),ie(new Dt(et,0,0,-et,0,si()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),c="n",w=b.ADVANCED}function P(){this.restoreGraphicsState(),c="S",w=b.COMPAT}var O=d.__private__.combineFontStyleAndFontWeight=function(j,ne){if(j=="bold"&&ne=="normal"||j=="bold"&&ne==400||j=="normal"&&ne=="italic"||j=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(j=ne==400||ne==="normal"?j==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||j!=="normal"?(ne==700?"bold":ne)+""+j:"bold"),j};d.advancedAPI=function(j){var ne=w===b.COMPAT;return ne&&D.call(this),typeof j!="function"||(j(this),ne&&P.call(this)),this},d.compatAPI=function(j){var ne=w===b.ADVANCED;return ne&&P.call(this),typeof j!="function"||(j(this),ne&&D.call(this)),this},d.isAdvancedAPI=function(){return w===b.ADVANCED};var E,A=function(j){if(w!==b.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=d.roundToPrecision=d.__private__.roundToPrecision=function(j,ne){var we=t||ne;if(isNaN(j)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(we).replace(/0+$/,"")};E=d.hpf=d.__private__.hpf=typeof l=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return S(j,l)}:l==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return S(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return S(j,16)};var I=d.f2=d.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return S(j,2)},T=d.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return S(j,3)},C=d.scale=d.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?j*et:w===b.ADVANCED?j:void 0},L=function(j){return w===b.COMPAT?si()-j:w===b.ADVANCED?j:void 0},H=function(j){return C(L(j))};d.__private__.setPrecision=d.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var V,J="00000000000000000000000000000000",te=d.__private__.getFileId=function(){return J},q=d.__private__.setFileId=function(j){return J=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(yn=new Qd(u.userPermissions,u.userPassword,u.ownerPassword,J)),J};d.setFileId=function(j){return q(j),this},d.getFileId=function(){return te()};var B=d.__private__.convertDateToPDFDate=function(j){var ne=j.getTimezoneOffset(),we=ne<0?"+":"-",Te=Math.floor(Math.abs(ne/60)),De=Math.abs(ne%60),Qe=[we,z(Te),"'",z(De),"'"].join("");return["D:",j.getFullYear(),z(j.getMonth()+1),z(j.getDate()),z(j.getHours()),z(j.getMinutes()),z(j.getSeconds()),Qe].join("")},re=d.__private__.convertPDFDateToDate=function(j){var ne=parseInt(j.substr(2,4),10),we=parseInt(j.substr(6,2),10)-1,Te=parseInt(j.substr(8,2),10),De=parseInt(j.substr(10,2),10),Qe=parseInt(j.substr(12,2),10),ft=parseInt(j.substr(14,2),10);return new Date(ne,we,Te,De,Qe,ft,0)},ee=d.__private__.setCreationDate=function(j){var ne;if(j===void 0&&(j=new Date),j instanceof Date)ne=B(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=j}return V=ne},N=d.__private__.getCreationDate=function(j){var ne=V;return j==="jsDate"&&(ne=re(V)),ne};d.setCreationDate=function(j){return ee(j),this},d.getCreationDate=function(j){return N(j)};var R,z=d.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},X=d.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},G=0,Z=[],se=[],K=0,oe=[],fe=[],W=!1,_e=se,Ae=function(){G=0,K=0,se=[],Z=[],oe=[],me=Tn(),ge=Tn()};d.__private__.setCustomOutputDestination=function(j){W=!0,_e=j};var Se=function(j){W||(_e=j)};d.__private__.resetCustomOutputDestination=function(){W=!1,_e=se};var ie=d.__private__.out=function(j){return j=j.toString(),K+=j.length+1,_e.push(j),_e},ke=d.__private__.write=function(j){return ie(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Le=d.__private__.getArrayBuffer=function(j){for(var ne=j.length,we=new ArrayBuffer(ne),Te=new Uint8Array(we);ne--;)Te[ne]=j.charCodeAt(ne);return we},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Be};var Xe=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(j){return Xe=w===b.ADVANCED?j/et:j,this};var Re,Ye=d.__private__.getFontSize=d.getFontSize=function(){return w===b.COMPAT?Xe:Xe*et},Me=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(j){return Me=j,this},d.__private__.getR2L=d.getR2L=function(){return Me};var Ge,ot=d.__private__.setZoomMode=function(j){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))Re=j;else if(isNaN(j)){if(ne.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');Re=j}else Re=parseInt(j,10)};d.__private__.getZoomMode=function(){return Re};var nt,dt=d.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Ge=j};d.__private__.getPageMode=function(){return Ge};var xt=d.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');nt=j};d.__private__.getLayoutMode=function(){return nt},d.__private__.setDisplayMode=d.setDisplayMode=function(j,ne,we){return ot(j),xt(ne),dt(we),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(j){if(Object.keys(wt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[j]},d.__private__.getDocumentProperties=function(){return wt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(j){for(var ne in wt)wt.hasOwnProperty(ne)&&j[ne]&&(wt[ne]=j[ne]);return this},d.__private__.setDocumentProperty=function(j,ne){if(Object.keys(wt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[j]=ne};var pt,et,Bt,Lt,Hr,Ee={},Je={},_t=[],kt={},cr={},ur={},Nr={},gn=null,Or=0,Vt=[],br=new cj(d),Ji=e.hotfixes||[],Fn={},Ca={},Oi=[],Dt=function j(ne,we,Te,De,Qe,ft){if(!(this instanceof j))return new j(ne,we,Te,De,Qe,ft);isNaN(ne)&&(ne=1),isNaN(we)&&(we=0),isNaN(Te)&&(Te=0),isNaN(De)&&(De=1),isNaN(Qe)&&(Qe=0),isNaN(ft)&&(ft=0),this._matrix=[ne,we,Te,De,Qe,ft]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(j)},Dt.prototype.multiply=function(j){var ne=j.sx*this.sx+j.shy*this.shx,we=j.sx*this.shy+j.shy*this.sy,Te=j.shx*this.sx+j.sy*this.shx,De=j.shx*this.shy+j.sy*this.sy,Qe=j.tx*this.sx+j.ty*this.shx+this.tx,ft=j.tx*this.shy+j.ty*this.sy+this.ty;return new Dt(ne,we,Te,De,Qe,ft)},Dt.prototype.decompose=function(){var j=this.sx,ne=this.shy,we=this.shx,Te=this.sy,De=this.tx,Qe=this.ty,ft=Math.sqrt(j*j+ne*ne),Et=(j/=ft)*we+(ne/=ft)*Te;we-=j*Et,Te-=ne*Et;var _=Math.sqrt(we*we+Te*Te);return Et/=_,j*(Te/=_)<ne*(we/=_)&&(j=-j,ne=-ne,Et=-Et,ft=-ft),{scale:new Dt(ft,0,0,_,0,0),translate:new Dt(1,0,0,1,De,Qe),rotate:new Dt(j,ne,-ne,j,0,0),skew:new Dt(1,0,Et,1,0,0)}},Dt.prototype.toString=function(j){return this.join(" ")},Dt.prototype.inversed=function(){var j=this.sx,ne=this.shy,we=this.shx,Te=this.sy,De=this.tx,Qe=this.ty,ft=1/(j*Te-ne*we),Et=Te*ft,_=-ne*ft,F=-we*ft,Y=j*ft;return new Dt(Et,_,F,Y,-Et*De-F*Qe,-_*De-Y*Qe)},Dt.prototype.applyToPoint=function(j){var ne=j.x*this.sx+j.y*this.shx+this.tx,we=j.x*this.shy+j.y*this.sy+this.ty;return new ec(ne,we)},Dt.prototype.applyToRectangle=function(j){var ne=this.applyToPoint(j),we=this.applyToPoint(new ec(j.x+j.w,j.y+j.h));return new hu(ne.x,ne.y,we.x-ne.x,we.y-ne.y)},Dt.prototype.clone=function(){var j=this.sx,ne=this.shy,we=this.shx,Te=this.sy,De=this.tx,Qe=this.ty;return new Dt(j,ne,we,Te,De,Qe)},d.Matrix=Dt;var ii=d.matrixMult=function(j,ne){return ne.multiply(j)},ia=new Dt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ia;var $n=function(j,ne){if(!cr[j]){var we=(ne instanceof vh?"Sh":"P")+(Object.keys(kt).length+1).toString(10);ne.id=we,cr[j]=we,kt[we]=ne,br.publish("addPattern",ne)}};d.ShadingPattern=vh,d.TilingPattern=v0,d.addShadingPattern=function(j,ne){return A("addShadingPattern()"),$n(j,ne),this},d.beginTilingPattern=function(j){A("beginTilingPattern()"),du(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},d.endTilingPattern=function(j,ne){A("endTilingPattern()"),ne.stream=fe[R].join(`
`),$n(j,ne),br.publish("endTilingPattern",ne),Oi.pop().restore()};var On=d.__private__.newObject=function(){var j=Tn();return le(j,!0),j},Tn=d.__private__.newObjectDeferred=function(){return G++,Z[G]=function(){return K},G},le=function(j,ne){return ne=typeof ne=="boolean"&&ne,Z[j]=K,ne&&ie(j+" 0 obj"),j},xe=d.__private__.newAdditionalObject=function(){var j={objId:Tn(),content:""};return oe.push(j),j},me=Tn(),ge=Tn(),ye=d.__private__.decodeColorString=function(j){var ne=j.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var we=parseFloat(ne[0]);ne=[we,we,we,"r"]}for(var Te="#",De=0;De<3;De++)Te+=("0"+Math.floor(255*parseFloat(ne[De])).toString(16)).slice(-2);return Te},be=d.__private__.encodeColorString=function(j){var ne;typeof j=="string"&&(j={ch1:j});var we=j.ch1,Te=j.ch2,De=j.ch3,Qe=j.ch4,ft=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Et=new Dq(we);if(Et.ok)we=Et.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var _=parseInt(we.substr(1),16);we=_>>16&255,Te=_>>8&255,De=255&_}if(Te===void 0||Qe===void 0&&we===Te&&Te===De)if(typeof we=="string")ne=we+" "+ft[0];else switch(j.precision){case 2:ne=I(we/255)+" "+ft[0];break;case 3:default:ne=T(we/255)+" "+ft[0]}else if(Qe===void 0||$r(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return ne=["1.","1.","1.",ft[1]].join(" ");if(typeof we=="string")ne=[we,Te,De,ft[1]].join(" ");else switch(j.precision){case 2:ne=[I(we/255),I(Te/255),I(De/255),ft[1]].join(" ");break;default:case 3:ne=[T(we/255),T(Te/255),T(De/255),ft[1]].join(" ")}}else if(typeof we=="string")ne=[we,Te,De,Qe,ft[2]].join(" ");else switch(j.precision){case 2:ne=[I(we),I(Te),I(De),I(Qe),ft[2]].join(" ");break;case 3:default:ne=[T(we),T(Te),T(De),T(Qe),ft[2]].join(" ")}return ne},Fe=d.__private__.getFilters=function(){return s},He=d.__private__.putStream=function(j){var ne=(j=j||{}).data||"",we=j.filters||Fe(),Te=j.alreadyAppliedFilters||[],De=j.addLength1||!1,Qe=ne.length,ft=j.objectId,Et=function(rr){return rr};if(u!==null&&ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Et=yn.encryptor(ft,0));var _={};we===!0&&(we=["FlateEncode"]);var F=j.additionalKeyValues||[],Y=(_=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(ne,we):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(_.data.length!==0&&(F.push({key:"Length",value:_.data.length}),De===!0&&F.push({key:"Length1",value:Qe})),Y.length!=0)if(Y.split("/").length-1==1)F.push({key:"Filter",value:Y});else{F.push({key:"Filter",value:"["+Y+"]"});for(var he=0;he<F.length;he+=1)if(F[he].key==="DecodeParms"){for(var Ie=[],qe=0;qe<_.reverseChain.split("/").length-1;qe+=1)Ie.push("null");Ie.push(F[he].value),F[he].value="["+Ie.join(" ")+"]"}}ie("<<");for(var ht=0;ht<F.length;ht++)ie("/"+F[ht].key+" "+F[ht].value);ie(">>"),_.data.length!==0&&(ie("stream"),ie(Et(_.data)),ie("endstream"))},$e=d.__private__.putPage=function(j){var ne=j.number,we=j.data,Te=j.objId,De=j.contentsObjId;le(Te,!0),ie("<</Type /Page"),ie("/Parent "+j.rootDictionaryObjId+" 0 R"),ie("/Resources "+j.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(E(j.mediaBox.bottomLeftX))+" "+parseFloat(E(j.mediaBox.bottomLeftY))+" "+E(j.mediaBox.topRightX)+" "+E(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&ie("/CropBox ["+E(j.cropBox.bottomLeftX)+" "+E(j.cropBox.bottomLeftY)+" "+E(j.cropBox.topRightX)+" "+E(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&ie("/BleedBox ["+E(j.bleedBox.bottomLeftX)+" "+E(j.bleedBox.bottomLeftY)+" "+E(j.bleedBox.topRightX)+" "+E(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&ie("/TrimBox ["+E(j.trimBox.bottomLeftX)+" "+E(j.trimBox.bottomLeftY)+" "+E(j.trimBox.topRightX)+" "+E(j.trimBox.topRightY)+"]"),j.artBox!==null&&ie("/ArtBox ["+E(j.artBox.bottomLeftX)+" "+E(j.artBox.bottomLeftY)+" "+E(j.artBox.topRightX)+" "+E(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&ie("/UserUnit "+j.userUnit),br.publish("putPage",{objId:Te,pageContext:Vt[ne],pageNumber:ne,page:we}),ie("/Contents "+De+" 0 R"),ie(">>"),ie("endobj");var Qe=we.join(`
`);return w===b.ADVANCED&&(Qe+=`
Q`),le(De,!0),He({data:Qe,filters:Fe(),objectId:De}),ie("endobj"),Te},Ve=d.__private__.putPages=function(){var j,ne,we=[];for(j=1;j<=Or;j++)Vt[j].objId=Tn(),Vt[j].contentsObjId=Tn();for(j=1;j<=Or;j++)we.push($e({number:j,data:fe[j],objId:Vt[j].objId,contentsObjId:Vt[j].contentsObjId,mediaBox:Vt[j].mediaBox,cropBox:Vt[j].cropBox,bleedBox:Vt[j].bleedBox,trimBox:Vt[j].trimBox,artBox:Vt[j].artBox,userUnit:Vt[j].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));le(me,!0),ie("<</Type /Pages");var Te="/Kids [";for(ne=0;ne<Or;ne++)Te+=we[ne]+" 0 R ";ie(Te+"]"),ie("/Count "+Or),ie(">>"),ie("endobj"),br.publish("postPutPages")},We=function(j){br.publish("putFont",{font:j,out:ie,newObject:On,putStream:He}),j.isAlreadyPutted!==!0&&(j.objectNumber=On(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Jd(j.postScriptName)),ie("/Subtype /Type1"),typeof j.encoding=="string"&&ie("/Encoding /"+j.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},ut=function(){for(var j in Ee)Ee.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&We(Ee[j])},bt=function(j){j.objectNumber=On();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[E(j.x),E(j.y),E(j.x+j.width),E(j.y+j.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var we=j.pages[1].join(`
`);He({data:we,additionalKeyValues:ne,objectId:j.objectNumber}),ie("endobj")},Ct=function(){for(var j in Fn)Fn.hasOwnProperty(j)&&bt(Fn[j])},mt=function(j,ne){var we,Te=[],De=1/(ne-1);for(we=0;we<1;we+=De)Te.push(we);if(Te.push(1),j[0].offset!=0){var Qe={offset:0,color:j[0].color};j.unshift(Qe)}if(j[j.length-1].offset!=1){var ft={offset:1,color:j[j.length-1].color};j.push(ft)}for(var Et="",_=0,F=0;F<Te.length;F++){for(we=Te[F];we>j[_+1].offset;)_++;var Y=j[_].offset,he=(we-Y)/(j[_+1].offset-Y),Ie=j[_].color,qe=j[_+1].color;Et+=X(Math.round((1-he)*Ie[0]+he*qe[0]).toString(16))+X(Math.round((1-he)*Ie[1]+he*qe[1]).toString(16))+X(Math.round((1-he)*Ie[2]+he*qe[2]).toString(16))}return Et.trim()},St=function(j,ne){ne||(ne=21);var we=On(),Te=mt(j.colors,ne),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+ne+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:Te,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),ie("endobj"),j.objectNumber=On(),ie("<< /ShadingType "+j.type),ie("/ColorSpace /DeviceRGB");var Qe="/Coords ["+E(parseFloat(j.coords[0]))+" "+E(parseFloat(j.coords[1]))+" ";j.type===2?Qe+=E(parseFloat(j.coords[2]))+" "+E(parseFloat(j.coords[3])):Qe+=E(parseFloat(j.coords[2]))+" "+E(parseFloat(j.coords[3]))+" "+E(parseFloat(j.coords[4]))+" "+E(parseFloat(j.coords[5])),ie(Qe+="]"),j.matrix&&ie("/Matrix ["+j.matrix.toString()+"]"),ie("/Function "+we+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},qt=function(j,ne){var we=Tn(),Te=On();ne.push({resourcesOid:we,objectOid:Te}),j.objectNumber=Te;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+j.boundingBox.map(E).join(" ")+"]"}),De.push({key:"XStep",value:E(j.xStep)}),De.push({key:"YStep",value:E(j.yStep)}),De.push({key:"Resources",value:we+" 0 R"}),j.matrix&&De.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),He({data:j.stream,additionalKeyValues:De,objectId:j.objectNumber}),ie("endobj")},Sr=function(j){var ne;for(ne in kt)kt.hasOwnProperty(ne)&&(kt[ne]instanceof vh?St(kt[ne]):kt[ne]instanceof v0&&qt(kt[ne],j))},Ar=function(j){for(var ne in j.objectNumber=On(),ie("<<"),j)switch(ne){case"opacity":ie("/ca "+I(j[ne]));break;case"stroke-opacity":ie("/CA "+I(j[ne]))}ie(">>"),ie("endobj")},en=function(){var j;for(j in ur)ur.hasOwnProperty(j)&&Ar(ur[j])},Ii=function(){for(var j in ie("/XObject <<"),Fn)Fn.hasOwnProperty(j)&&Fn[j].objectNumber>=0&&ie("/"+j+" "+Fn[j].objectNumber+" 0 R");br.publish("putXobjectDict"),ie(">>")},Ao=function(){yn.oid=On(),ie("<<"),ie("/Filter /Standard"),ie("/V "+yn.v),ie("/R "+yn.r),ie("/U <"+yn.toHexString(yn.U)+">"),ie("/O <"+yn.toHexString(yn.O)+">"),ie("/P "+yn.P),ie(">>"),ie("endobj")},ys=function(){for(var j in ie("/Font <<"),Ee)Ee.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&ie("/"+j+" "+Ee[j].objectNumber+" 0 R");ie(">>")},Zi=function(){if(Object.keys(kt).length>0){for(var j in ie("/Shading <<"),kt)kt.hasOwnProperty(j)&&kt[j]instanceof vh&&kt[j].objectNumber>=0&&ie("/"+j+" "+kt[j].objectNumber+" 0 R");br.publish("putShadingPatternDict"),ie(">>")}},xs=function(j){if(Object.keys(kt).length>0){for(var ne in ie("/Pattern <<"),kt)kt.hasOwnProperty(ne)&&kt[ne]instanceof d.TilingPattern&&kt[ne].objectNumber>=0&&kt[ne].objectNumber<j&&ie("/"+ne+" "+kt[ne].objectNumber+" 0 R");br.publish("putTilingPatternDict"),ie(">>")}},Va=function(){if(Object.keys(ur).length>0){var j;for(j in ie("/ExtGState <<"),ur)ur.hasOwnProperty(j)&&ur[j].objectNumber>=0&&ie("/"+j+" "+ur[j].objectNumber+" 0 R");br.publish("putGStateDict"),ie(">>")}},vn=function(j){le(j.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ys(),Zi(),xs(j.objectOid),Va(),Ii(),ie(">>"),ie("endobj")},Vf=function(){var j=[];ut(),en(),Ct(),Sr(j),br.publish("putResources"),j.forEach(vn),vn({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),br.publish("postPutResources")},Uf=function(){br.publish("putAdditionalObjects");for(var j=0;j<oe.length;j++){var ne=oe[j];le(ne.objId,!0),ie(ne.content),ie("endobj")}br.publish("postPutAdditionalObjects")},vd=function(j){Je[j.fontName]=Je[j.fontName]||{},Je[j.fontName][j.fontStyle]=j.id},zf=function(j,ne,we,Te,De){var Qe={id:"F"+(Object.keys(Ee).length+1).toString(10),postScriptName:j,fontName:ne,fontStyle:we,encoding:Te,isStandardFont:De||!1,metadata:{}};return br.publish("addFont",{font:Qe,instance:this}),Ee[Qe.id]=Qe,vd(Qe),Qe.id},yd=function(j){for(var ne=0,we=Be.length;ne<we;ne++){var Te=zf.call(this,j[ne][0],j[ne][1],j[ne][2],Be[ne][3],!0);f===!1&&(h[Te]=!0);var De=j[ne][0].split("-");vd({id:Te,fontName:De[0],fontStyle:De[1]||""})}br.publish("addFonts",{fonts:Ee,dictionary:Je})},es=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(Te){var ne=Te.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var we="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Kt.console)throw new Error(we);Kt.console.error(we,Te),Kt.alert&&alert(we)}},j.foo.bar=j,j.foo},eu=function(j,ne){var we,Te,De,Qe,ft,Et,_,F,Y;if(De=(ne=ne||{}).sourceEncoding||"Unicode",ft=ne.outputEncoding,(ne.autoencode||ft)&&Ee[pt].metadata&&Ee[pt].metadata[De]&&Ee[pt].metadata[De].encoding&&(Qe=Ee[pt].metadata[De].encoding,!ft&&Ee[pt].encoding&&(ft=Ee[pt].encoding),!ft&&Qe.codePages&&(ft=Qe.codePages[0]),typeof ft=="string"&&(ft=Qe[ft]),ft)){for(_=!1,Et=[],we=0,Te=j.length;we<Te;we++)(F=ft[j.charCodeAt(we)])?Et.push(String.fromCharCode(F)):Et.push(j[we]),Et[we].charCodeAt(0)>>8&&(_=!0);j=Et.join("")}for(we=j.length;_===void 0&&we!==0;)j.charCodeAt(we-1)>>8&&(_=!0),we--;if(!_)return j;for(Et=ne.noBOM?[]:[254,255],we=0,Te=j.length;we<Te;we++){if((Y=(F=j.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(Y),Et.push(F-(Y<<8))}return String.fromCharCode.apply(void 0,Et)},Bn=d.__private__.pdfEscape=d.pdfEscape=function(j,ne){return eu(j,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Di=d.__private__.beginPage=function(j){fe[++Or]=[],Vt[Or]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},qf(Or),Se(fe[R])},Yl=function(j,ne){var we,Te,De;switch(r=ne||r,typeof j=="string"&&(we=v(j.toLowerCase()),Array.isArray(we)&&(Te=we[0],De=we[1])),Array.isArray(j)&&(Te=j[0]*et,De=j[1]*et),isNaN(Te)&&(Te=a[0],De=a[1]),(Te>14400||De>14400)&&(cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),De=Math.min(14400,De)),a=[Te,De],r.substr(0,1)){case"l":De>Te&&(a=[De,Te]);break;case"p":Te>De&&(a=[De,Te])}Di(a),Yf(Kf),ie(Ua),Jf!==0&&ie(Jf+" J"),fu!==0&&ie(fu+" j"),br.publish("addPage",{pageNumber:Or})},tu=function(j){j>0&&j<=Or&&(fe.splice(j,1),Vt.splice(j,1),Or--,R>Or&&(R=Or),this.setPage(R))},qf=function(j){j>0&&j<=Or&&(R=j)},Gr=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return fe.length-1},Xl=function(j,ne,we){var Te,De=void 0;return we=we||{},j=j!==void 0?j:Ee[pt].fontName,ne=ne!==void 0?ne:Ee[pt].fontStyle,Te=j.toLowerCase(),Je[Te]!==void 0&&Je[Te][ne]!==void 0?De=Je[Te][ne]:Je[j]!==void 0&&Je[j][ne]!==void 0?De=Je[j][ne]:we.disableWarning===!1&&cn.warn("Unable to look up font label for font '"+j+"', '"+ne+"'. Refer to getFontList() for available fonts."),De||we.noFallback||(De=Je.times[ne])==null&&(De=Je.times.normal),De},Ql=d.__private__.putInfo=function(){var j=On(),ne=function(Te){return Te};for(var we in u!==null&&(ne=yn.encryptor(j,0)),ie("<<"),ie("/Producer ("+Bn(ne("jsPDF "+Gt.version))+")"),wt)wt.hasOwnProperty(we)&&wt[we]&&ie("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Bn(ne(wt[we]))+")");ie("/CreationDate ("+Bn(ne(V))+")"),ie(">>"),ie("endobj")},To=d.__private__.putCatalog=function(j){var ne=(j=j||{}).rootDictionaryObjId||me;switch(On(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+ne+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+Re;we.substr(we.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+I(Re)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Ge&&ie("/PageMode /"+Ge),br.publish("putCatalog"),ie(">>"),ie("endobj")},cm=d.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(G+1)),ie("/Root "+G+" 0 R"),ie("/Info "+(G-1)+" 0 R"),u!==null&&ie("/Encrypt "+yn.oid+" 0 R"),ie("/ID [ <"+J+"> <"+J+"> ]"),ie(">>")},xd=d.__private__.putHeader=function(){ie("%PDF-"+g),ie("%ºß¬à")},um=d.__private__.putXRef=function(){var j="0000000000";ie("xref"),ie("0 "+(G+1)),ie("0000000000 65535 f ");for(var ne=1;ne<=G;ne++)typeof Z[ne]=="function"?ie((j+Z[ne]()).slice(-10)+" 00000 n "):Z[ne]!==void 0?ie((j+Z[ne]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Eo=d.__private__.buildDocument=function(){Ae(),Se(se),br.publish("buildDocument"),xd(),Ve(),Uf(),Vf(),u!==null&&Ao(),Ql(),To();var j=K;return um(),cm(),ie("startxref"),ie(""+j),ie("%%EOF"),Se(fe[R]),se.join(`
`)},ru=d.__private__.getBlob=function(j){return new Blob([Le(j)],{type:"application/pdf"})},nu=d.output=d.__private__.output=es(function(j,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",j){case void 0:return Eo();case"save":d.save(ne.filename);break;case"arraybuffer":return Le(Eo());case"blob":return ru(Eo());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(ru(Eo()))||void 0;cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Te=Eo();try{we=jT(Te)}catch{we=jT(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+ne.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(De=ne.pdfObjectUrl,Qe="");var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Et=Kt.open();return Et!==null&&Et.document.write(ft),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',F=Kt.open();if(F!==null){F.document.write(_);var Y=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=ne.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Y.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Ie=Kt.open();if(Ie!==null&&(Ie.document.write(he),Ie.document.title=ne.filename),Ie||typeof safari>"u")return Ie;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",ne);default:return null}}),dl=function(j){return Array.isArray(Ji)===!0&&Ji.indexOf(j)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var yn=null;ee(),q();var bd=function(j){return u!==null?yn.encryptor(j,0):function(ne){return ne}},Wf=d.__private__.getPageInfo=d.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[j].objId,pageNumber:j,pageContext:Vt[j]}},Xt=d.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Vt)if(Vt[ne].objId===j)break;return Wf(ne)},pl=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Vt[R].objId,pageNumber:R,pageContext:Vt[R]}};d.addPage=function(){return Yl.apply(this,arguments),this},d.setPage=function(){return qf.apply(this,arguments),Se.call(this,fe[R]),this},d.insertPage=function(j){return this.addPage(),this.movePage(R,j),this},d.movePage=function(j,ne){var we,Te;if(j>ne){we=fe[j],Te=Vt[j];for(var De=j;De>ne;De--)fe[De]=fe[De-1],Vt[De]=Vt[De-1];fe[ne]=we,Vt[ne]=Te,this.setPage(ne)}else if(j<ne){we=fe[j],Te=Vt[j];for(var Qe=j;Qe<ne;Qe++)fe[Qe]=fe[Qe+1],Vt[Qe]=Vt[Qe+1];fe[ne]=we,Vt[ne]=Te,this.setPage(ne)}return this},d.deletePage=function(){return tu.apply(this,arguments),this},d.__private__.text=d.text=function(j,ne,we,Te,De){var Qe,ft,Et,_,F,Y,he,Ie,qe,ht=(Te=Te||{}).scope||this;if(typeof j=="number"&&typeof ne=="number"&&(typeof we=="string"||Array.isArray(we))){var rr=we;we=ne,ne=j,j=rr}if(arguments[3]instanceof Dt?(A("The transform parameter of text() with a Matrix value"),qe=De):(Et=arguments[4],_=arguments[5],$r(he=arguments[3])==="object"&&he!==null||(typeof Et=="string"&&(_=Et,Et=null),typeof he=="string"&&(_=he,he=null),typeof he=="number"&&(Et=he,he=null),Te={flags:he,angle:Et,align:_})),isNaN(ne)||isNaN(we)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return ht;var mr="",nr=!1,Ur=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Vr,on=ht.internal.scaleFactor;function Oo(fn){return fn=fn.split("	").join(Array(Te.TabLen||9).join(" ")),Bn(fn,he)}function za(fn){for(var hn,Qn=fn.concat(),ya=[],ic=Qn.length;ic--;)typeof(hn=Qn.shift())=="string"?ya.push(hn):Array.isArray(fn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?ya.push(hn[0]):ya.push([hn[0],hn[1],hn[2]]);return ya}function yl(fn,hn){var Qn;if(typeof fn=="string")Qn=hn(fn)[0];else if(Array.isArray(fn)){for(var ya,ic,xm=fn.concat(),Dd=[],hy=xm.length;hy--;)typeof(ya=xm.shift())=="string"?Dd.push(hn(ya)[0]):Array.isArray(ya)&&typeof ya[0]=="string"&&(ic=hn(ya[0],ya[1],ya[2]),Dd.push([ic[0],ic[1],ic[2]]));Qn=Dd}return Qn}var xl=!1,hm=!0;if(typeof j=="string")xl=!0;else if(Array.isArray(j)){var dm=j.concat();ft=[];for(var Td,qa=dm.length;qa--;)(typeof(Td=dm.shift())!="string"||Array.isArray(Td)&&typeof Td[0]!="string")&&(hm=!1);xl=hm}if(xl===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Ed=Xe/ht.internal.scaleFactor,kd=Ed*(Ur-1);switch(Te.baseline){case"bottom":we-=kd;break;case"top":we+=Ed-kd;break;case"hanging":we+=Ed-2*kd;break;case"middle":we+=Ed/2-kd}if((Y=Te.maxWidth||0)>0&&(typeof j=="string"?j=ht.splitTextToSize(j,Y):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(fn,hn){return fn.concat(ht.splitTextToSize(hn,Y))},[]))),Qe={text:j,x:ne,y:we,options:Te,mutex:{pdfEscape:Bn,activeFontKey:pt,fonts:Ee,activeFontSize:Xe}},br.publish("preProcessText",Qe),j=Qe.text,Et=(Te=Qe.options).angle,!(qe instanceof Dt)&&Et&&typeof Et=="number"){Et*=Math.PI/180,Te.rotationDirection===0&&(Et=-Et),w===b.ADVANCED&&(Et=-Et);var Cd=Math.cos(Et),pm=Math.sin(Et);qe=new Dt(Cd,pm,-pm,Cd,0,0)}else Et&&Et instanceof Dt&&(qe=Et);w!==b.ADVANCED||qe||(qe=ia),(F=Te.charSpace||Zl)!==void 0&&(mr+=E(C(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ie=Te.horizontalScale)!==void 0&&(mr+=E(100*Ie)+` Tz
`),Te.lang;var ts=-1,l_=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,mm=ht.internal.getCurrentPageInfo().pageContext;switch(l_){case 0:case!1:case"fill":ts=0;break;case 1:case!0:case"stroke":ts=1;break;case 2:case"fillThenStroke":ts=2;break;case 3:case"invisible":ts=3;break;case 4:case"fillAndAddForClipping":ts=4;break;case 5:case"strokeAndAddPathForClipping":ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ts=6;break;case 7:case"addToPathForClipping":ts=7}var ly=mm.usedRenderingMode!==void 0?mm.usedRenderingMode:-1;ts!==-1?mr+=ts+` Tr
`:ly!==-1&&(mr+=`0 Tr
`),ts!==-1&&(mm.usedRenderingMode=ts),_=Te.align||"left";var qs,Pd=Xe*Ur,cy=ht.internal.pageSize.getWidth(),uy=Ee[pt];F=Te.charSpace||Zl,Y=Te.maxWidth||0,he=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var gu=[],Zf=function(fn){return ht.getStringUnitWidth(fn,{font:uy,charSpace:F,fontSize:Xe,doKerning:!1})*Xe/on};if(Object.prototype.toString.call(j)==="[object Array]"){var rs;ft=za(j),_!=="left"&&(qs=ft.map(Zf));var ji,vu=0;if(_==="right"){ne-=qs[0],j=[],qa=ft.length;for(var rc=0;rc<qa;rc++)rc===0?(ji=_s(ne),rs=va(we)):(ji=C(vu-qs[rc]),rs=-Pd),j.push([ft[rc],ji,rs]),vu=qs[rc]}else if(_==="center"){ne-=qs[0]/2,j=[],qa=ft.length;for(var nc=0;nc<qa;nc++)nc===0?(ji=_s(ne),rs=va(we)):(ji=C((vu-qs[nc])/2),rs=-Pd),j.push([ft[nc],ji,rs]),vu=qs[nc]}else if(_==="left"){j=[],qa=ft.length;for(var Nd=0;Nd<qa;Nd++)j.push(ft[Nd])}else if(_==="justify"&&uy.encoding==="Identity-H"){j=[],qa=ft.length,Y=Y!==0?Y:cy;for(var ac=0,Xn=0;Xn<qa;Xn++)if(rs=Xn===0?va(we):-Pd,ji=Xn===0?_s(ne):ac,Xn<qa-1){var gm=C((Y-qs[Xn])/(ft[Xn].split(" ").length-1)),Li=ft[Xn].split(" ");j.push([Li[0]+" ",ji,rs]),ac=0;for(var Ws=1;Ws<Li.length;Ws++){var Od=(Zf(Li[Ws-1]+" "+Li[Ws])-Zf(Li[Ws]))*on+gm;Ws==Li.length-1?j.push([Li[Ws],Od,0]):j.push([Li[Ws]+" ",Od,0]),ac-=Od}}else j.push([ft[Xn],ji,rs]);j.push(["",ac,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],qa=ft.length,Y=Y!==0?Y:cy,Xn=0;Xn<qa;Xn++)rs=Xn===0?va(we):-Pd,ji=Xn===0?_s(ne):0,Xn<qa-1?gu.push(E(C((Y-qs[Xn])/(ft[Xn].split(" ").length-1)))):gu.push(0),j.push([ft[Xn],ji,rs])}}var fy=typeof Te.R2L=="boolean"?Te.R2L:Me;fy===!0&&(j=yl(j,function(fn,hn,Qn){return[fn.split("").reverse().join(""),hn,Qn]})),Qe={text:j,x:ne,y:we,options:Te,mutex:{pdfEscape:Bn,activeFontKey:pt,fonts:Ee,activeFontSize:Xe}},br.publish("postProcessText",Qe),j=Qe.text,nr=Qe.mutex.isHex||!1;var vm=Ee[pt].encoding;vm!=="WinAnsiEncoding"&&vm!=="StandardEncoding"||(j=yl(j,function(fn,hn,Qn){return[Oo(fn),hn,Qn]})),ft=za(j),j=[];for(var eh,th,yu,rh=0,Id=1,nh=Array.isArray(ft[0])?Id:rh,xu="",ym=function(fn,hn,Qn){var ya="";return Qn instanceof Dt?(Qn=typeof Te.angle=="number"?ii(Qn,new Dt(1,0,0,1,fn,hn)):ii(new Dt(1,0,0,1,fn,hn),Qn),w===b.ADVANCED&&(Qn=ii(new Dt(1,0,0,-1,0,0),Qn)),ya=Qn.join(" ")+` Tm
`):ya=E(fn)+" "+E(hn)+` Td
`,ya},Hs=0;Hs<ft.length;Hs++){switch(xu="",nh){case Id:yu=(nr?"<":"(")+ft[Hs][0]+(nr?">":")"),eh=parseFloat(ft[Hs][1]),th=parseFloat(ft[Hs][2]);break;case rh:yu=(nr?"<":"(")+ft[Hs]+(nr?">":")"),eh=_s(ne),th=va(we)}gu!==void 0&&gu[Hs]!==void 0&&(xu=gu[Hs]+` Tw
`),Hs===0?j.push(xu+ym(eh,th,qe)+yu):nh===rh?j.push(xu+yu):nh===Id&&j.push(xu+ym(eh,th,qe)+yu)}j=nh===rh?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var Gs=`BT
/`;return Gs+=pt+" "+Xe+` Tf
`,Gs+=E(Xe*Ur)+` TL
`,Gs+=Po+`
`,Gs+=mr,Gs+=j,ie(Gs+="ET"),h[pt]=!0,ht};var fm=d.__private__.clip=d.clip=function(j){return ie(j==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return fm("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ie("n"),this};var zs=d.__private__.isValidStyle=function(j){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(ne=!0),ne};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(j){return zs(j)&&(c=j),this};var wd=d.__private__.getStyle=d.getStyle=function(j){var ne=c;switch(j){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=j}return ne},bs=d.close=function(){return ie("h"),this};d.stroke=function(){return ie("S"),this},d.fill=function(j){return au("f",j),this},d.fillEvenOdd=function(j){return au("f*",j),this},d.fillStroke=function(j){return au("B",j),this},d.fillStrokeEvenOdd=function(j){return au("B*",j),this};var au=function(j,ne){$r(ne)==="object"?su(ne,j):ie(j)},Hf=function(j){j===null||w===b.ADVANCED&&j===void 0||(j=wd(j),ie(j))};function iu(j,ne,we,Te,De){var Qe=new v0(ne||this.boundingBox,we||this.xStep,Te||this.yStep,this.gState,De||this.matrix);Qe.stream=this.stream;var ft=j+"$$"+this.cloneIndex+++"$$";return $n(ft,Qe),Qe}var su=function(j,ne){var we=cr[j.key],Te=kt[we];if(Te instanceof vh)ie("q"),ie(_d(ne)),Te.gState&&d.setGState(Te.gState),ie(j.matrix.toString()+" cm"),ie("/"+we+" sh"),ie("Q");else if(Te instanceof v0){var De=new Dt(1,0,0,-1,0,si());j.matrix&&(De=De.multiply(j.matrix||ia),we=iu.call(Te,j.key,j.boundingBox,j.xStep,j.yStep,De).id),ie("q"),ie("/Pattern cs"),ie("/"+we+" scn"),Te.gState&&d.setGState(Te.gState),ie(ne),ie("Q")}},_d=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ko=d.moveTo=function(j,ne){return ie(E(C(j))+" "+E(H(ne))+" m"),this},ws=d.lineTo=function(j,ne){return ie(E(C(j))+" "+E(H(ne))+" l"),this},Co=d.curveTo=function(j,ne,we,Te,De,Qe){return ie([E(C(j)),E(H(ne)),E(C(we)),E(H(Te)),E(C(De)),E(H(Qe)),"c"].join(" ")),this};d.__private__.line=d.line=function(j,ne,we,Te,De){if(isNaN(j)||isNaN(ne)||isNaN(we)||isNaN(Te)||!zs(De))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[we-j,Te-ne]],j,ne,[1,1],De||"S"):this.lines([[we-j,Te-ne]],j,ne,[1,1]).stroke()},d.__private__.lines=d.lines=function(j,ne,we,Te,De,Qe){var ft,Et,_,F,Y,he,Ie,qe,ht,rr,mr,nr;if(typeof j=="number"&&(nr=we,we=ne,ne=j,j=nr),Te=Te||[1,1],Qe=Qe||!1,isNaN(ne)||isNaN(we)||!Array.isArray(j)||!Array.isArray(Te)||!zs(De)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ko(ne,we),ft=Te[0],Et=Te[1],F=j.length,rr=ne,mr=we,_=0;_<F;_++)(Y=j[_]).length===2?(rr=Y[0]*ft+rr,mr=Y[1]*Et+mr,ws(rr,mr)):(he=Y[0]*ft+rr,Ie=Y[1]*Et+mr,qe=Y[2]*ft+rr,ht=Y[3]*Et+mr,rr=Y[4]*ft+rr,mr=Y[5]*Et+mr,Co(he,Ie,qe,ht,rr,mr));return Qe&&bs(),Hf(De),this},d.path=function(j){for(var ne=0;ne<j.length;ne++){var we=j[ne],Te=we.c;switch(we.op){case"m":ko(Te[0],Te[1]);break;case"l":ws(Te[0],Te[1]);break;case"c":Co.apply(this,Te);break;case"h":bs()}}return this},d.__private__.rect=d.rect=function(j,ne,we,Te,De){if(isNaN(j)||isNaN(ne)||isNaN(we)||isNaN(Te)||!zs(De))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Te=-Te),ie([E(C(j)),E(H(ne)),E(C(we)),E(C(Te)),"re"].join(" ")),Hf(De),this},d.__private__.triangle=d.triangle=function(j,ne,we,Te,De,Qe,ft){if(isNaN(j)||isNaN(ne)||isNaN(we)||isNaN(Te)||isNaN(De)||isNaN(Qe)||!zs(ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-j,Te-ne],[De-we,Qe-Te],[j-De,ne-Qe]],j,ne,[1,1],ft,!0),this},d.__private__.roundedRect=d.roundedRect=function(j,ne,we,Te,De,Qe,ft){if(isNaN(j)||isNaN(ne)||isNaN(we)||isNaN(Te)||isNaN(De)||isNaN(Qe)||!zs(ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*we),Qe=Math.min(Qe,.5*Te),this.lines([[we-2*De,0],[De*Et,0,De,Qe-Qe*Et,De,Qe],[0,Te-2*Qe],[0,Qe*Et,-De*Et,Qe,-De,Qe],[2*De-we,0],[-De*Et,0,-De,-Qe*Et,-De,-Qe],[0,2*Qe-Te],[0,-Qe*Et,De*Et,-Qe,De,-Qe]],j+De,ne,[1,1],ft,!0),this},d.__private__.ellipse=d.ellipse=function(j,ne,we,Te,De){if(isNaN(j)||isNaN(ne)||isNaN(we)||isNaN(Te)||!zs(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*we,ft=4/3*(Math.SQRT2-1)*Te;return ko(j+we,ne),Co(j+we,ne-ft,j+Qe,ne-Te,j,ne-Te),Co(j-Qe,ne-Te,j-we,ne-ft,j-we,ne),Co(j-we,ne+ft,j-Qe,ne+Te,j,ne+Te),Co(j+Qe,ne+Te,j+we,ne+ft,j+we,ne),Hf(De),this},d.__private__.circle=d.circle=function(j,ne,we,Te){if(isNaN(j)||isNaN(ne)||isNaN(we)||!zs(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,ne,we,we,Te)},d.setFont=function(j,ne,we){return we&&(ne=O(ne,we)),pt=Xl(j,ne,{disableWarning:!1}),this};var Gf=d.__private__.getFont=d.getFont=function(){return Ee[Xl.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var j,ne,we={};for(j in Je)if(Je.hasOwnProperty(j))for(ne in we[j]=[],Je[j])Je[j].hasOwnProperty(ne)&&we[j].push(ne);return we},d.addFont=function(j,ne,we,Te,De){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(we=O(we,Te)),De=De||"Identity-H",zf.call(this,j,ne,we,De)};var Vr,Kf=e.lineWidth||.200025,ou=d.__private__.getLineWidth=d.getLineWidth=function(){return Kf},Yf=d.__private__.setLineWidth=d.setLineWidth=function(j){return Kf=j,ie(E(C(j))+" w"),this};d.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(j,ne){if(j=j||[],ne=ne||0,isNaN(ne)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(we){return E(C(we))}).join(" "),ne=E(C(ne)),ie("["+j+"] "+ne+" d"),this};var Xf=d.__private__.getLineHeight=d.getLineHeight=function(){return Xe*Vr};d.__private__.getLineHeight=d.getLineHeight=function(){return Xe*Vr};var Qf=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Vr=j),this},Jl=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Vr};Qf(e.lineHeight);var _s=d.__private__.getHorizontalCoordinate=function(j){return C(j)},va=d.__private__.getVerticalCoordinate=function(j){return w===b.ADVANCED?j:Vt[R].mediaBox.topRightY-Vt[R].mediaBox.bottomLeftY-C(j)},Sd=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(j){return E(_s(j))},ml=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(j){return E(va(j))},Ua=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ye(Ua)},d.__private__.setStrokeColor=d.setDrawColor=function(j,ne,we,Te){return Ua=be({ch1:j,ch2:ne,ch3:we,ch4:Te,pdfColorType:"draw",precision:2}),ie(Ua),this};var lu=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ye(lu)},d.__private__.setFillColor=d.setFillColor=function(j,ne,we,Te){return lu=be({ch1:j,ch2:ne,ch3:we,ch4:Te,pdfColorType:"fill",precision:2}),ie(lu),this};var Po=e.textColor||"0 g",cu=d.__private__.getTextColor=d.getTextColor=function(){return ye(Po)};d.__private__.setTextColor=d.setTextColor=function(j,ne,we,Te){return Po=be({ch1:j,ch2:ne,ch3:we,ch4:Te,pdfColorType:"text",precision:3}),this};var Zl=e.charSpace,uu=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Zl||0)};d.__private__.setCharSpace=d.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zl=j,this};var Jf=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(j){var ne=d.CapJoinStyles[j];if(ne===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jf=ne,ie(ne+" J"),this};var fu=0;d.__private__.setLineJoin=d.setLineJoin=function(j){var ne=d.CapJoinStyles[j];if(ne===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fu=ne,ie(ne+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(E(C(j))+" M"),this},d.GState=_b,d.setGState=function(j){(j=typeof j=="string"?ur[Nr[j]]:gl(null,j)).equals(gn)||(ie("/"+j.id+" gs"),gn=j)};var gl=function(j,ne){if(!j||!Nr[j]){var we=!1;for(var Te in ur)if(ur.hasOwnProperty(Te)&&ur[Te].equals(ne)){we=!0;break}if(we)ne=ur[Te];else{var De="GS"+(Object.keys(ur).length+1).toString(10);ur[De]=ne,ne.id=De}return j&&(Nr[j]=ne.id),br.publish("addGState",ne),ne}};d.addGState=function(j,ne){return gl(j,ne),this},d.saveGraphicsState=function(){return ie("q"),_t.push({key:pt,size:Xe,color:Po}),this},d.restoreGraphicsState=function(){ie("Q");var j=_t.pop();return pt=j.key,Xe=j.size,Po=j.color,gn=null,this},d.setCurrentTransformationMatrix=function(j){return ie(j.toString()+" cm"),this},d.comment=function(j){return ie("#"+j),this};var ec=function(j,ne){var we=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(Qe){isNaN(Qe)||(we=parseFloat(Qe))}});var Te=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Qe){isNaN(Qe)||(Te=parseFloat(Qe))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Qe){De=Qe.toString()}}),this},hu=function(j,ne,we,Te){ec.call(this,j,ne),this.type="rect";var De=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(ft){isNaN(ft)||(De=parseFloat(ft))}});var Qe=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(ft){isNaN(ft)||(Qe=parseFloat(ft))}}),this},tc=function(){this.page=Or,this.currentPage=R,this.pages=fe.slice(0),this.pagesContext=Vt.slice(0),this.x=Bt,this.y=Lt,this.matrix=Hr,this.width=vl(R),this.height=si(R),this.outputDestination=_e,this.id="",this.objectNumber=-1};tc.prototype.restore=function(){Or=this.page,R=this.currentPage,Vt=this.pagesContext,fe=this.pages,Bt=this.x,Lt=this.y,Hr=this.matrix,pu(R,this.width),mu(R,this.height),_e=this.outputDestination};var du=function(j,ne,we,Te,De){Oi.push(new tc),Or=R=0,fe=[],Bt=j,Lt=ne,Hr=De,Di([we,Te])},Ad=function(j){if(Ca[j])Oi.pop().restore();else{var ne=new tc,we="Xo"+(Object.keys(Fn).length+1).toString(10);ne.id=we,Ca[j]=we,Fn[we]=ne,br.publish("addFormObject",ne),Oi.pop().restore()}};for(var No in d.beginFormObject=function(j,ne,we,Te,De){return du(j,ne,we,Te,De),this},d.endFormObject=function(j){return Ad(j),this},d.doFormObject=function(j,ne){var we=Fn[Ca[j]];return ie("q"),ie(ne.toString()+" cm"),ie("/"+we.id+" Do"),ie("Q"),this},d.getFormObject=function(j){var ne=Fn[Ca[j]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},d.save=function(j,ne){return j=j||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(hh(ru(Eo()),j),typeof hh.unload=="function"&&Kt.setTimeout&&setTimeout(hh.unload,911),this):new Promise(function(we,Te){try{var De=hh(ru(Eo()),j);typeof hh.unload=="function"&&Kt.setTimeout&&setTimeout(hh.unload,911),we(De)}catch(Qe){Te(Qe.message)}})},Gt.API)Gt.API.hasOwnProperty(No)&&(No==="events"&&Gt.API.events.length?function(j,ne){var we,Te,De;for(De=ne.length-1;De!==-1;De--)we=ne[De][0],Te=ne[De][1],j.subscribe.apply(j,[we].concat(typeof Te=="function"?[Te]:Te))}(br,Gt.API.events):d[No]=Gt.API[No]);var vl=d.getPageWidth=function(j){return(Vt[j=j||R].mediaBox.topRightX-Vt[j].mediaBox.bottomLeftX)/et},pu=d.setPageWidth=function(j,ne){Vt[j].mediaBox.topRightX=ne*et+Vt[j].mediaBox.bottomLeftX},si=d.getPageHeight=function(j){return(Vt[j=j||R].mediaBox.topRightY-Vt[j].mediaBox.bottomLeftY)/et},mu=d.setPageHeight=function(j,ne){Vt[j].mediaBox.topRightY=ne*et+Vt[j].mediaBox.bottomLeftY};return d.internal={pdfEscape:Bn,getStyle:wd,getFont:Gf,getFontSize:Ye,getCharSpace:uu,getTextColor:cu,getLineHeight:Xf,getLineHeightFactor:Jl,getLineWidth:ou,write:ke,getHorizontalCoordinate:_s,getVerticalCoordinate:va,getCoordinateString:Sd,getVerticalCoordinateString:ml,collections:{},newObject:On,newAdditionalObject:xe,newObjectDeferred:Tn,newObjectDeferredBegin:le,getFilters:Fe,putStream:He,events:br,scaleFactor:et,pageSize:{getWidth:function(){return vl(R)},setWidth:function(j){pu(R,j)},getHeight:function(){return si(R)},setHeight:function(j){mu(R,j)}},encryptionOptions:u,encryption:yn,getEncryptor:bd,output:nu,getNumberOfPages:Gr,pages:fe,out:ie,f2:I,f3:T,getPageInfo:Wf,getPageInfoByObjId:Xt,getCurrentPageInfo:pl,getPDFVersion:m,Point:ec,Rectangle:hu,Matrix:Dt,hasHotfix:dl},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return vl(R)},set:function(j){pu(R,j)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return si(R)},set:function(j){mu(R,j)},enumerable:!0,configurable:!0}),yd.call(d,Be),pt="F1",Yl(a,r),br.publish("initialized"),d}Qd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Qd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Qd.prototype.processOwnerPassword=function(e,t){return MT(LT(t).substr(0,5),e)},Qd.prototype.encryptor=function(e,t){var r=LT(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return MT(r,n)}},_b.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||$r(e)!==$r(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Gt.API={events:[]},Gt.version="3.0.1";var qn=Gt.API,fP=1,hd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ar=function(e){return e.toFixed(2)},Ou=function(e){return e.toFixed(5)};qn.__acroform__={};var gs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},uj=function(e){return e*fP},Al=function(e){var t=new Rq,r=Ft.internal.getHeight(e)||0,n=Ft.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ar(n)),Number(ar(r))],t},sxe=qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},oxe=qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},lxe=qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ta=qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lxe(e,t-1)},ra=qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sxe(e,t-1)},na=qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oxe(e,t-1)},cxe=qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(ar(l.lowerLeft_X)),Number(ar(l.lowerLeft_Y)),Number(ar(l.upperRight_X)),Number(ar(l.upperRight_Y))]},uxe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=RT(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ar(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Al(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},RT=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,s=Ft.internal.getHeight(e)||0;s=s<0?-s:s;var o=Ft.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(T,C,L){if(T+1<a.length){var H=C+" "+a[T+1][0];return vx(H,e,L).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=vx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,d=h+=2,g=0,m=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+vx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",b=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var D=!1;if(a[w].length!==1&&y!==a[w].length-1){if((f+2)*(b+2)+2>s)continue e;v+=a[w][y],D=!0,m=w,w--}else{v=(v+=a[w][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var P=parseInt(w),O=l(P,v,i),E=w>=a.length-1;if(O&&!E){v+=" ",y=0;continue}if(O||E){if(E)m=P;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;m=P}}for(var A="",S=g;S<=m;S++){var I=a[S];if(e.multiline){if(S===m){A+=I[y]+" ",y=(y+1)%I.length;continue}if(S===g){A+=I[I.length-1]+" ";continue}}A+=I[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=vx(A,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=ar(c)+" "+ar(d)+` Td
`,t+="("+hd(A)+`) Tj
`,t+=-ar(c)+` 0 Td
`,d=-(i+2),u=0,g=D?m:m+1,b++,v=""}break}return n.text=t,n.fontSize=i,n},vx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},fxe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hxe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},dxe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),$r(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},pxe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ul.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fxe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Fq,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&hxe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=cxe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ft.createDefaultAppearanceStream(o),$r(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=uxe(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var g=d[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=d)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&dxe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Mq=qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),$r(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+hd(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+hd(n(e))+")"},Pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pl.prototype.toString=function(){return this.objId+" 0 R"},Pl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Pl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Mq(a,this.objId,this.scope)}):a instanceof Pl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Rq=function(){Pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};gs(Rq,Pl);var Fq=function(){Pl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+hd(r(e))+")"}},set:function(r){e=r}})};gs(Fq,Pl);var ul=function e(){Pl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ta(t,3)},set:function(v){v?this.F=ra(t,3):this.F=na(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Sb)return;i="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+hd(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/fP:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Sb||this instanceof Lh))return qS(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof La?h:qS(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof La?v:v.substr(0,1)==="("?Vd(v.substr(1,v.length-2)):Vd(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof La?Vd(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof La?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof La?d:qS(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof La?v:v.substr(0,1)==="("?Vd(v.substr(1,v.length-2)):Vd(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof La?Vd(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof La?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(v){v=!!v,m=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,1)},set:function(v){v?this.Ff=ra(this.Ff,1):this.Ff=na(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,2)},set:function(v){v?this.Ff=ra(this.Ff,2):this.Ff=na(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,3)},set:function(v){v?this.Ff=ra(this.Ff,3):this.Ff=na(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};gs(ul,Pl);var I0=function(){ul.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Mq(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,18)},set:function(r){r?this.Ff=ra(this.Ff,18):this.Ff=na(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ra(this.Ff,19):this.Ff=na(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,20)},set:function(r){r?(this.Ff=ra(this.Ff,20),t.sort()):this.Ff=na(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,22)},set:function(r){r?this.Ff=ra(this.Ff,22):this.Ff=na(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,23)},set:function(r){r?this.Ff=ra(this.Ff,23):this.Ff=na(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,27)},set:function(r){r?this.Ff=ra(this.Ff,27):this.Ff=na(this.Ff,27)}}),this.hasAppearanceStream=!1};gs(I0,ul);var D0=function(){I0.call(this),this.fontName="helvetica",this.combo=!1};gs(D0,I0);var j0=function(){D0.call(this),this.combo=!0};gs(j0,D0);var i2=function(){j0.call(this),this.edit=!0};gs(i2,j0);var La=function(){ul.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,15)},set:function(r){r?this.Ff=ra(this.Ff,15):this.Ff=na(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,16)},set:function(r){r?this.Ff=ra(this.Ff,16):this.Ff=na(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,17)},set:function(r){r?this.Ff=ra(this.Ff,17):this.Ff=na(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,26)},set:function(r){r?this.Ff=ra(this.Ff,26):this.Ff=na(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+hd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){$r(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};gs(La,ul);var s2=function(){La.call(this),this.pushButton=!0};gs(s2,La);var L0=function(){La.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};gs(L0,La);var Sb=function(){var e,t;ul.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+hd(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){$r(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gs(Sb,ul),L0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},L0.prototype.createOption=function(e){var t=new Sb;return t.Parent=this,t.optionName=e,this.Kids.push(t),mxe.call(this.scope,t),t};var o2=function(){La.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};gs(o2,La);var Lh=function(){ul.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,13)},set:function(t){t?this.Ff=ra(this.Ff,13):this.Ff=na(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,21)},set:function(t){t?this.Ff=ra(this.Ff,21):this.Ff=na(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,23)},set:function(t){t?this.Ff=ra(this.Ff,23):this.Ff=na(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,24)},set:function(t){t?this.Ff=ra(this.Ff,24):this.Ff=na(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,25)},set:function(t){t?this.Ff=ra(this.Ff,25):this.Ff=na(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,26)},set:function(t){t?this.Ff=ra(this.Ff,26):this.Ff=na(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gs(Lh,ul);var l2=function(){Lh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,14)},set:function(e){e?this.Ff=ra(this.Ff,14):this.Ff=na(this.Ff,14)}}),this.password=!0};gs(l2,Lh);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Al(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=RT(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ar(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Al(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ft.internal.getHeight(e),s=Ft.internal.getWidth(e),o=RT(e,e.caption);return a.push("1 g"),a.push("0 0 "+ar(s)+" "+ar(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ar(s-1)+" "+ar(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ar(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Al(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ft.RadioButton.Circle.YesNormal,t.D[e]=Ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Al(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ft.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ou(Ft.internal.getWidth(e)/2)+" "+Ou(Ft.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Al(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5)),s=Number((n*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ou(Ft.internal.getWidth(e)/2)+" "+Ou(Ft.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ou(Ft.internal.getWidth(e)/2)+" "+Ou(Ft.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Al(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ou(Ft.internal.getWidth(e)/2)+" "+Ou(Ft.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ft.RadioButton.Cross.YesNormal,t.D[e]=Ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Al(e);t.scope=e.scope;var r=[],n=Ft.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ar(Ft.internal.getWidth(e)-2)+" "+ar(Ft.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ar(n.x1.x)+" "+ar(n.x1.y)+" m"),r.push(ar(n.x2.x)+" "+ar(n.x2.y)+" l"),r.push(ar(n.x4.x)+" "+ar(n.x4.y)+" m"),r.push(ar(n.x3.x)+" "+ar(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Al(e);t.scope=e.scope;var r=Ft.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ar(Ft.internal.getWidth(e)-2)+" "+ar(Ft.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ar(r.x1.x)+" "+ar(r.x1.y)+" m"),n.push(ar(r.x2.x)+" "+ar(r.x2.y)+" l"),n.push(ar(r.x4.x)+" "+ar(r.x4.y)+" m"),n.push(ar(r.x3.x)+" "+ar(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Al(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ft.internal.getWidth(e),r=Ft.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ft.internal.getWidth=function(e){var t=0;return $r(e)==="object"&&(t=uj(e.Rect[2])),t},Ft.internal.getHeight=function(e){var t=0;return $r(e)==="object"&&(t=uj(e.Rect[3])),t};var mxe=qn.addField=function(e){if(pxe(this,e),!(e instanceof ul))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=I0,qn.AcroFormListBox=D0,qn.AcroFormComboBox=j0,qn.AcroFormEditBox=i2,qn.AcroFormButton=La,qn.AcroFormPushButton=s2,qn.AcroFormRadioButton=L0,qn.AcroFormCheckBox=o2,qn.AcroFormTextField=Lh,qn.AcroFormPasswordField=l2,qn.AcroFormAppearance=Ft,qn.AcroForm={ChoiceField:I0,ListBox:D0,ComboBox:j0,EditBox:i2,Button:La,PushButton:s2,RadioButton:L0,CheckBox:o2,TextField:Lh,PasswordField:l2,Appearance:Ft},Gt.AcroForm={ChoiceField:I0,ListBox:D0,ComboBox:j0,EditBox:i2,Button:La,PushButton:s2,RadioButton:L0,CheckBox:o2,TextField:Lh,PasswordField:l2,Appearance:Ft};function $q(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,C){var L,H,V,J,te,q=t;if((C=C||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(O(T))for(te in r)for(V=r[te],L=0;L<V.length;L+=1){for(J=!0,H=0;H<V[L].length;H+=1)if(V[L][H]!==void 0&&V[L][H]!==T[H]){J=!1;break}if(J===!0){q=te;break}}else for(te in r)for(V=r[te],L=0;L<V.length;L+=1){for(J=!0,H=0;H<V[L].length;H+=1)if(V[L][H]!==void 0&&V[L][H]!==T.charCodeAt(H)){J=!1;break}if(J===!0){q=te;break}}return q===t&&C!==t&&(q=C),q},a=function T(C){for(var L=this.internal.write,H=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:C.width}),J.push({key:"Height",value:C.height}),C.colorSpace===y.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===y.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var te="",q=0,B=C.transparency.length;q<B;q++)te+=C.transparency[q]+" "+C.transparency[q]+" ";J.push({key:"Mask",value:"["+te+"]"})}C.sMask!==void 0&&J.push({key:"SMask",value:C.objectId+1+" 0 R"});var re=C.filter!==void 0?["/"+C.filter]:void 0;if(H({data:C.data,additionalKeyValues:J,alreadyAppliedFilters:re,objectId:C.objectId}),L("endobj"),"sMask"in C&&C.sMask!==void 0){var ee="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,N={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ee,data:C.sMask};"filter"in C&&(N.filter=C.filter),T.call(this,N)}if(C.colorSpace===y.INDEXED){var R=this.internal.newObject();H({data:A(new Uint8Array(C.palette)),objectId:R}),L("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var C in T)a.call(this,T[C])},s=function(){var T,C=this.internal.collections.addImage_images,L=this.internal.write;for(var H in C)L("/I"+(T=C[H]).index,T.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections.addImage_images;return o.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return $r(T)==="object"&&T.nodeType===1},h=function(T,C){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return Vg(unescape(L).split("base64,").pop());var H=e.loadFile(L,!0);if(H!==void 0)return H}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var V;switch(C){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return Vg(T.toDataURL(V,1).split("base64,").pop())}},d=function(T){var C=this.internal.collections.addImage_images;if(C){for(var L in C)if(T===C[L].alias)return C[L]}},g=function(T,C,L){return T||C||(T=-96,C=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),C<0&&(C=-1*L.height*72/C/this.internal.scaleFactor),T===0&&(T=C*L.width/L.height),C===0&&(C=T*L.height/L.width),[T,C]},m=function(T,C,L,H,V,J){var te=g.call(this,L,H,V),q=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,re=l.call(this);if(L=te[0],H=te[1],re[V.index]=V,J){J*=Math.PI/180;var ee=Math.cos(J),N=Math.sin(J),R=function(X){return X.toFixed(4)},z=[R(ee),R(N),R(-1*N),R(ee),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,q(T),B(C+H),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([q(L),"0","0",q(H),"0","0","cm"].join(" "))):this.internal.write([q(L),"0","0",q(H),q(T),B(C+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(T){var C,L,H=0;if(typeof T=="string")for(L=T.length,C=0;C<L;C++)H=(H<<5)-H+T.charCodeAt(C),H|=0;else if(O(T))for(L=T.byteLength/2,C=0;C<L;C++)H=(H<<5)-H+T[C],H|=0;return H},w=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var C=!0;return T.length===0&&(C=!1),T.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(C=!1),C},D=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var C=T.indexOf(",");return C<0?null:T.substring(0,C).trim().endsWith("base64")?T.substring(C+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return P()&&T instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(T){return P()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},E=e.__addimage__.binaryStringToUint8Array=function(T){for(var C=T.length,L=new Uint8Array(C),H=0;H<C;H++)L[H]=T.charCodeAt(H);return L},A=e.__addimage__.arrayBufferToBinaryString=function(T){for(var C="",L=O(T)?T:new Uint8Array(T),H=0;H<L.length;H+=8192)C+=String.fromCharCode.apply(null,L.subarray(H,H+8192));return C};e.addImage=function(){var T,C,L,H,V,J,te,q,B;if(typeof arguments[1]=="number"?(C=t,L=arguments[1],H=arguments[2],V=arguments[3],J=arguments[4],te=arguments[5],q=arguments[6],B=arguments[7]):(C=arguments[1],L=arguments[2],H=arguments[3],V=arguments[4],J=arguments[5],te=arguments[6],q=arguments[7],B=arguments[8]),$r(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var re=T;T=re.imageData,C=re.format||C||t,L=re.x||L||0,H=re.y||H||0,V=re.w||re.width||V,J=re.h||re.height||J,te=re.alias||te,q=re.compression||q,B=re.rotation||re.angle||B}var ee=this.internal.getFilters();if(q===void 0&&ee.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(L)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var N=S.call(this,T,C,te,q);return m.call(this,L,H,V,J,N,B),this};var S=function(T,C,L,H){var V,J,te;if(typeof T=="string"&&n(T)===t){T=unescape(T);var q=I(T,!1);(q!==""||(q=e.loadFile(T,!0))!==void 0)&&(T=q)}if(f(T)&&(T=h(T,C)),C=n(T,C),!u(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((te=L)==null||te.length===0)&&(L=function(B){return typeof B=="string"||O(B)?b(B):O(B.data)?b(B.data):null}(T)),(V=d.call(this,L))||(P()&&(T instanceof Uint8Array||C==="RGBA"||(J=T,T=E(T))),V=this["process"+C.toUpperCase()](T,c.call(this),L,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in e.image_compression?B:v.NONE}(H),J)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},I=e.__addimage__.convertBase64ToBinaryString=function(T,C){C=typeof C!="boolean"||C;var L,H="";if(typeof T=="string"){var V;L=(V=D(T))!==null&&V!==void 0?V:T;try{H=Vg(L)}catch(J){if(C)throw w(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(T){var C,L,H="";if(f(T)&&(T=h(T)),typeof T=="string"&&n(T)===t&&((H=I(T,!1))===""&&(H=e.loadFile(T)||""),T=H),L=n(T),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!P()||T instanceof Uint8Array||(T=E(T)),!(C=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=L,C}})(Gt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(v(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(v(b))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Gt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var y=0,v=r,b="",w=0;for(y=0;y<m.length;y+=1)v[m.charCodeAt(y)]!==void 0?(w++,typeof(v=v[m.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(v),v=r,w=0),y===m.length-1&&(v=r,b+=m.charAt(y-(w-1)),y-=w-1,w=0)):(v=r,b+=m.charAt(y-w),y-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,y,v){return s(m)?i(m)===!1?-1:!c(m)||!s(y)&&!s(v)||!s(v)&&o(y)||o(m)&&!s(y)||o(m)&&l(y)||o(m)&&o(y)?0:u(m)&&s(y)&&!o(y)&&s(v)&&c(v)?3:o(m)||!s(v)?1:2:-1},d=function(m){var y=0,v=0,b=0,w="",D="",P="",O=(m=m||"").split("\\s+"),E=[];for(y=0;y<O.length;y+=1){for(E.push(""),v=0;v<O[y].length;v+=1)w=O[y][v],D=O[y][v-1],P=O[y][v+1],s(w)?(b=h(w,D,P),E[y]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):E[y]+=w;E[y]=f(E[y])}return E.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var b=0;for(v=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?v.push([d(y[b][0]),y[b][1],y[b][2]]):v.push([d(y[b])]);m=v}else m=d(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(Gt.API),Gt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Gt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,g=0,m=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,D){return w.concat(y.splitTextToSize(D,v))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)d<(m=this.getStringUnitWidth(l[b],{font:f})*u)&&(d=m);return d!==0&&(g=l.length),{w:d/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,g,m,y,v=[],b=[],w=[],D={},P={},O=[],E=[],A=(h=h||{}).autoSize||!1,S=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,L=h.headerBackgroundColor||"#c8c8c8",H=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=H,this.setFontSize(I),f==null)b=v=Object.keys(u[0]),w=v.map(function(){return"left"});else if(Array.isArray(f)&&$r(f[0])==="object")for(v=f.map(function(re){return re.name}),b=f.map(function(re){return re.prompt||re.name||""}),w=f.map(function(re){return re.align||"left"}),d=0;d<f.length;d+=1)P[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,w=v.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<v.length;d+=1){for(D[y=v[d]]=u.map(function(re){return re[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[y],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)O.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[y]=Math.max.apply(null,O)+C+C,O=[]}if(S){var V={};for(d=0;d<v.length;d+=1)V[v[d]]={},V[v[d]].text=b[d],V[v[d]].align=w[d];var J=o.call(this,V,P);E=v.map(function(re){return new i(l,c,P[re],J,V[re].text,void 0,V[re].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var te=f.reduce(function(re,ee){return re[ee.name]=ee.align,re},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var q=o.call(this,u[d],P);for(m=0;m<v.length;m+=1){var B=u[d][v[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:m,data:B},this),s.call(this,new i(l,c,P[v[m]],q,B,d+2,te[v[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var g=l[d];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,g){return Math.max(d,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Gt.API);var Bq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],FT=$q(Vq),Uq=[100,200,300,400,500,600,700,800,900],gxe=$q(Uq);function $T(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Bq[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof FT[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function fj(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var vxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yxe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},vxe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=$T(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+dj(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=FT[l],f=u<=FT.normal?-1:1,h=fj(c,Vq,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=Bq[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=gxe[l],f=fj(c,Uq,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+dj(i)+"'.");return s}function pj(e){return e.trimLeft()}function xxe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function bxe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var yx,mj,gj,WS=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new s,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new s,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=N;Object.defineProperty(this,"pdf",{get:function(){return R}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Se){z=!!Se}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Se){X=!!Se}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(Se){isNaN(Se)||(G=Se)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(Se){isNaN(Se)||(Z=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var ie;typeof Se=="number"?ie=[Se,Se,Se,Se]:((ie=new Array(4))[0]=Se[0],ie[1]=Se.length>=2?Se[1]:ie[0],ie[2]=Se.length>=3?Se[2]:ie[0],ie[3]=Se.length>=4?Se[3]:ie[1]),c.margin=ie}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(Se){se=Se}});var K=0;Object.defineProperty(this,"lastBreak",{get:function(){return K},set:function(Se){K=Se}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(Se){oe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return fe},set:function(Se){fe=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ie;ie=h(Se),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ie=h(Se);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var W=null;function _e(Se,ie){if(W===null){var ke=function(Le){var Be=[];return Object.keys(Le).forEach(function(Xe){Le[Xe].forEach(function(Re){var Ye=null;switch(Re){case"bold":Ye={family:Xe,weight:"bold"};break;case"italic":Ye={family:Xe,style:"italic"};break;case"bolditalic":Ye={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:Xe}}Ye!==null&&(Ye.ref={name:Xe,style:Re},Be.push(Ye))})}),Be}(Se.getFontList());W=function(Le){for(var Be={},Xe=0;Xe<Le.length;++Xe){var Re=$T(Le[Xe]),Ye=Re.family,Me=Re.stretch,Ge=Re.style,ot=Re.weight;Be[Ye]=Be[Ye]||{},Be[Ye][Me]=Be[Ye][Me]||{},Be[Ye][Me][Ge]=Be[Ye][Me][Ge]||{},Be[Ye][Me][Ge][ot]=Re}return Be}(ke.concat(ie))}return W}var Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(Se){W=null,Ae=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ie;if(this.ctx.font=Se,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var ke=ie[1];ie[2];var Le=ie[3],Be=ie[4];ie[5];var Xe=ie[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Re==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var Ye=function(wt){var pt,et,Bt=[],Lt=wt.trim();if(Lt==="")return WS;if(Lt in hj)return[hj[Lt]];for(;Lt!=="";){switch(et=null,pt=(Lt=pj(Lt)).charAt(0)){case'"':case"'":et=xxe(Lt.substring(1),pt);break;default:et=bxe(Lt)}if(et===null||(Bt.push(et[0]),(Lt=pj(et[1]))!==""&&Lt.charAt(0)!==","))return WS;Lt=Lt.replace(/^,/,"")}return Bt}(Xe);if(this.fontFaces){var Me=yxe(_e(this.pdf,this.fontFaces),Ye.map(function(wt){return{family:wt,stretch:"normal",weight:Le,style:ke}}));this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var Ge="";(Le==="bold"||parseInt(Le,10)>=700||ke==="bold")&&(Ge="bold"),ke==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var ot="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ye.length;dt++){if(this.pdf.internal.getFont(Ye[dt],Ge,{noFallback:!0,disableWarning:!0})!==void 0){ot=Ye[dt];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(Ye[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Ye[dt],Ge="bold";else if(this.pdf.internal.getFont(Ye[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Ye[dt],Ge="normal";break}}if(ot===""){for(var xt=0;xt<Ye.length;xt++)if(nt[Ye[xt]]){ot=nt[Ye[xt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(N){this.lineDash=N},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){D.call(this,"fill",!1)},f.prototype.stroke=function(){D.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(N,R));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(N,R)},f.prototype.closePath=function(){var N=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&$r(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){N=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(N.x,N.y)},f.prototype.lineTo=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(N,R));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},f.prototype.quadraticCurveTo=function(N,R,z,X){if(isNaN(z)||isNaN(X)||isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new s(z,X)),Z=this.ctx.transform.applyToPoint(new s(N,R));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},f.prototype.bezierCurveTo=function(N,R,z,X,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(N)||isNaN(R)||isNaN(z)||isNaN(X))throw cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new s(G,Z)),K=this.ctx.transform.applyToPoint(new s(N,R)),oe=this.ctx.transform.applyToPoint(new s(z,X));this.path.push({type:"bct",x1:K.x,y1:K.y,x2:oe.x,y2:oe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},f.prototype.arc=function(N,R,z,X,G,Z){if(isNaN(N)||isNaN(R)||isNaN(z)||isNaN(X)||isNaN(G))throw cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new s(N,R));N=se.x,R=se.y;var K=this.ctx.transform.applyToPoint(new s(0,z)),oe=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(K.x-oe.x,2)+Math.pow(K.y-oe.y,2))}Math.abs(G-X)>=2*Math.PI&&(X=0,G=2*Math.PI),this.path.push({type:"arc",x:N,y:R,radius:z,startAngle:X,endAngle:G,counterclockwise:Z})},f.prototype.arcTo=function(N,R,z,X,G){throw new Error("arcTo not implemented.")},f.prototype.rect=function(N,R,z,X){if(isNaN(N)||isNaN(R)||isNaN(z)||isNaN(X))throw cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,R),this.lineTo(N+z,R),this.lineTo(N+z,R+X),this.lineTo(N,R+X),this.lineTo(N,R),this.lineTo(N+z,R),this.lineTo(N,R)},f.prototype.fillRect=function(N,R,z,X){if(isNaN(N)||isNaN(R)||isNaN(z)||isNaN(X))throw cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,R,z,X),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},f.prototype.strokeRect=function(N,R,z,X){if(isNaN(N)||isNaN(R)||isNaN(z)||isNaN(X))throw cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(N,R,z,X),this.stroke())},f.prototype.clearRect=function(N,R,z,X){if(isNaN(N)||isNaN(R)||isNaN(z)||isNaN(X))throw cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,R,z,X))},f.prototype.save=function(N){N=typeof N!="boolean"||N;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},f.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(R),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(N){var R,z,X,G;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))R=0,z=0,X=0,G=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(Z!==null)R=parseInt(Z[1]),z=parseInt(Z[2]),X=parseInt(Z[3]),G=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)R=parseInt(Z[1]),z=parseInt(Z[2]),X=parseInt(Z[3]),G=parseFloat(Z[4]);else{if(G=1,typeof N=="string"&&N.charAt(0)!=="#"){var se=new Dq(N);N=se.ok?se.toHex():"#000000"}N.length===4?(R=N.substring(1,2),R+=R,z=N.substring(2,3),z+=z,X=N.substring(3,4),X+=X):(R=N.substring(1,3),z=N.substring(3,5),X=N.substring(5,7)),R=parseInt(R,16),z=parseInt(z,16),X=parseInt(X,16)}}return{r:R,g:z,b:X,a:G,style:N}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(N,R,z,X){if(isNaN(R)||isNaN(z)||typeof N!="string")throw cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!d.call(this)){var G=q(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;C.call(this,{text:N,x:R,y:z,scale:Z,angle:G,align:this.textAlign,maxWidth:X})}},f.prototype.strokeText=function(N,R,z,X){if(isNaN(R)||isNaN(z)||typeof N!="string")throw cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){X=isNaN(X)?void 0:X;var G=q(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;C.call(this,{text:N,x:R,y:z,scale:Z,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:X})}},f.prototype.measureText=function(N){if(typeof N!="string")throw cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,z=this.pdf.internal.scaleFactor,X=R.internal.getFontSize(),G=R.getStringUnitWidth(N)*X/R.internal.scaleFactor,Z=function(se){var K=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return K}}),this};return new Z({width:G*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(N,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(N){if(isNaN(N))throw cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,N,R);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(N,R,z,X,G,Z){if(isNaN(N)||isNaN(R)||isNaN(z)||isNaN(X)||isNaN(G)||isNaN(Z))throw cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new l(N,R,z,X,G,Z);this.ctx.transform=this.ctx.transform.multiply(se)},f.prototype.setTransform=function(N,R,z,X,G,Z){N=isNaN(N)?1:N,R=isNaN(R)?0:R,z=isNaN(z)?0:z,X=isNaN(X)?1:X,G=isNaN(G)?0:G,Z=isNaN(Z)?0:Z,this.ctx.transform=new l(N,R,z,X,G,Z)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(N,R,z,X,G,Z,se,K,oe){var fe=this.pdf.getImageProperties(N),W=1,_e=1,Ae=1,Se=1;X!==void 0&&K!==void 0&&(Ae=K/X,Se=oe/G,W=fe.width/X*K/X,_e=fe.height/G*oe/G),Z===void 0&&(Z=R,se=z,R=0,z=0),X!==void 0&&K===void 0&&(K=X,oe=G),X===void 0&&K===void 0&&(K=fe.width,oe=fe.height);for(var ie,ke=this.ctx.transform.decompose(),Le=q(ke.rotate.shx),Be=new l,Xe=(Be=(Be=(Be=Be.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new o(Z-R*Ae,se-z*Se,X*W,G*_e)),Re=y.call(this,Xe),Ye=[],Me=0;Me<Re.length;Me+=1)Ye.indexOf(Re[Me])===-1&&Ye.push(Re[Me]);if(w(Ye),this.autoPaging)for(var Ge=Ye[0],ot=Ye[Ye.length-1],nt=Ge;nt<ot+1;nt++){this.pdf.setPage(nt);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=nt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=nt===1?0:wt+(nt-2)*pt;if(this.ctx.clip_path.length!==0){var Bt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ie,this.posX+this.margin[3],-et+xt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Bt}var Lt=JSON.parse(JSON.stringify(Xe));Lt=b([Lt],this.posX+this.margin[3],-et+xt+this.ctx.prevPageLastElemOffset)[0];var Hr=(nt>Ge||nt<ot)&&m.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,pt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Le),Hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,Le)};var y=function(N,R,z){var X=[];R=R||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":X.push(Math.floor((N.y+G)/z)+1);break;case"arc":X.push(Math.floor((N.y+G-N.radius)/z)+1),X.push(Math.floor((N.y+G+N.radius)/z)+1);break;case"qct":var Z=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);X.push(Math.floor((Z.y+G)/z)+1),X.push(Math.floor((Z.y+Z.h+G)/z)+1);break;case"bct":var se=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);X.push(Math.floor((se.y+G)/z)+1),X.push(Math.floor((se.y+se.h+G)/z)+1);break;case"rect":X.push(Math.floor((N.y+G)/z)+1),X.push(Math.floor((N.y+N.h+G)/z)+1)}for(var K=0;K<X.length;K+=1)for(;this.pdf.internal.getNumberOfPages()<X[K];)v.call(this);return X},v=function(){var N=this.fillStyle,R=this.strokeStyle,z=this.font,X=this.lineCap,G=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=R,this.font=z,this.lineCap=X,this.lineWidth=G,this.lineJoin=Z},b=function(N,R,z){for(var X=0;X<N.length;X++)switch(N[X].type){case"bct":N[X].x2+=R,N[X].y2+=z;case"qct":N[X].x1+=R,N[X].y1+=z;case"mt":case"lt":case"arc":default:N[X].x+=R,N[X].y+=z}return N},w=function(N){return N.sort(function(R,z){return R-z})},D=function(N,R){for(var z,X,G=this.fillStyle,Z=this.strokeStyle,se=this.lineCap,K=this.lineWidth,oe=Math.abs(K*this.ctx.transform.scaleX),fe=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Ae=[],Se=0;Se<_e.length;Se++)if(_e[Se].x!==void 0)for(var ie=y.call(this,_e[Se]),ke=0;ke<ie.length;ke+=1)Ae.indexOf(ie[ke])===-1&&Ae.push(ie[ke]);for(var Le=0;Le<Ae.length;Le++)for(;this.pdf.internal.getNumberOfPages()<Ae[Le];)v.call(this);if(w(Ae),this.autoPaging)for(var Be=Ae[0],Xe=Ae[Ae.length-1],Re=Be;Re<Xe+1;Re++){this.pdf.setPage(Re),this.fillStyle=G,this.strokeStyle=Z,this.lineCap=se,this.lineWidth=oe,this.lineJoin=fe;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=Re===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Re===1?0:Ge+(Re-2)*ot;if(this.ctx.clip_path.length!==0){var dt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(z,this.posX+this.margin[3],-nt+Me+this.ctx.prevPageLastElemOffset),P.call(this,N,!0),this.path=dt}if(X=JSON.parse(JSON.stringify(W)),this.path=b(X,this.posX+this.margin[3],-nt+Me+this.ctx.prevPageLastElemOffset),R===!1||Re===0){var xt=(Re>Be||Re<Xe)&&m.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,ot,null).clip().discardPath()),P.call(this,N,R),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=K}else this.lineWidth=oe,P.call(this,N,R),this.lineWidth=K;this.path=W},P=function(N,R){if((N!=="stroke"||R||!g.call(this))&&(N==="stroke"||R||!d.call(this))){for(var z,X,G=[],Z=this.path,se=0;se<Z.length;se++){var K=Z[se];switch(K.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:K,deltas:[],abs:[]});break;case"lt":var oe=G.length;if(Z[se-1]&&!isNaN(Z[se-1].x)&&(z=[K.x-Z[se-1].x,K.y-Z[se-1].y],oe>0)){for(;oe>=0;oe--)if(G[oe-1].close!==!0&&G[oe-1].begin!==!0){G[oe-1].deltas.push(z),G[oe-1].abs.push(K);break}}break;case"bct":z=[K.x1-Z[se-1].x,K.y1-Z[se-1].y,K.x2-Z[se-1].x,K.y2-Z[se-1].y,K.x-Z[se-1].x,K.y-Z[se-1].y],G[G.length-1].deltas.push(z);break;case"qct":var fe=Z[se-1].x+2/3*(K.x1-Z[se-1].x),W=Z[se-1].y+2/3*(K.y1-Z[se-1].y),_e=K.x+2/3*(K.x1-K.x),Ae=K.y+2/3*(K.y1-K.y),Se=K.x,ie=K.y;z=[fe-Z[se-1].x,W-Z[se-1].y,_e-Z[se-1].x,Ae-Z[se-1].y,Se-Z[se-1].x,ie-Z[se-1].y],G[G.length-1].deltas.push(z);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(K)}}X=R?null:N==="stroke"?"stroke":"fill";for(var ke=!1,Le=0;Le<G.length;Le++)if(G[Le].arc)for(var Be=G[Le].abs,Xe=0;Xe<Be.length;Xe++){var Re=Be[Xe];Re.type==="arc"?A.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,R,!ke):L.call(this,Re.x,Re.y),ke=!0}else if(G[Le].close===!0)this.pdf.internal.out("h"),ke=!1;else if(G[Le].begin!==!0){var Ye=G[Le].start.x,Me=G[Le].start.y;H.call(this,G[Le].deltas,Ye,Me),ke=!0}X&&S.call(this,X),R&&I.call(this)}},O=function(N){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-z;case"top":return N+R-z;case"hanging":return N+R-2*z;case"middle":return N+R/2-z;case"ideographic":return N;case"alphabetic":default:return N}},E=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(R,z){this.colorStops.push([R,z])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(N,R,z,X,G,Z,se,K,oe){for(var fe=J.call(this,z,X,G,Z),W=0;W<fe.length;W++){var _e=fe[W];W===0&&(oe?T.call(this,_e.x1+N,_e.y1+R):L.call(this,_e.x1+N,_e.y1+R)),V.call(this,N,R,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}K?I.call(this):S.call(this,se)},S=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(N,R){this.pdf.internal.out(r(N)+" "+n(R)+" m")},C=function(N){var R;switch(N.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var z=this.pdf.getTextDimensions(N.text),X=O.call(this,N.y),G=E.call(this,X)-z.h,Z=this.ctx.transform.applyToPoint(new s(N.x,X)),se=this.ctx.transform.decompose(),K=new l;K=(K=(K=K.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var oe,fe,W,_e=this.ctx.transform.applyToRectangle(new o(N.x,X,z.w,z.h)),Ae=K.applyToRectangle(new o(N.x,G,z.w,z.h)),Se=y.call(this,Ae),ie=[],ke=0;ke<Se.length;ke+=1)ie.indexOf(Se[ke])===-1&&ie.push(Se[ke]);if(w(ie),this.autoPaging)for(var Le=ie[0],Be=ie[ie.length-1],Xe=Le;Xe<Be+1;Xe++){this.pdf.setPage(Xe);var Re=Xe===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],Ge=Me-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],nt=ot-this.margin[3],dt=Xe===1?0:Ye+(Xe-2)*Ge;if(this.ctx.clip_path.length!==0){var xt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(oe,this.posX+this.margin[3],-1*dt+Re),P.call(this,"fill",!0),this.path=xt}var wt=b([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-dt+Re+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*N.scale),W=this.lineWidth,this.lineWidth=W*N.scale);var pt=this.autoPaging!=="text";if(pt||wt.y+wt.h<=Me){if(pt||wt.y>=Re&&wt.x<=ot){var et=pt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||ot-wt.x)[0],Bt=b([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-dt+Re+this.ctx.prevPageLastElemOffset)[0],Lt=pt&&(Xe>Le||Xe<Be)&&m.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Ge,null).clip().discardPath()),this.pdf.text(et,Bt.x,Bt.y,{angle:N.angle,align:R,renderingMode:N.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else wt.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-wt.y);N.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=W)}else N.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*N.scale),W=this.lineWidth,this.lineWidth=W*N.scale),this.pdf.text(N.text,Z.x+this.posX,Z.y+this.posY,{angle:N.angle,align:R,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=W)},L=function(N,R,z,X){z=z||0,X=X||0,this.pdf.internal.out(r(N+z)+" "+n(R+X)+" l")},H=function(N,R,z){return this.pdf.lines(N,R,z,null,null)},V=function(N,R,z,X,G,Z,se,K){this.pdf.internal.out([t(a(z+N)),t(i(X+R)),t(a(G+N)),t(i(Z+R)),t(a(se+N)),t(i(K+R)),"c"].join(" "))},J=function(N,R,z,X){for(var G=2*Math.PI,Z=Math.PI/2;R>z;)R-=G;var se=Math.abs(z-R);se<G&&X&&(se=G-se);for(var K=[],oe=X?-1:1,fe=R;se>1e-5;){var W=fe+oe*Math.min(se,Z);K.push(te.call(this,N,fe,W)),se-=Math.abs(W-fe),fe=W}return K},te=function(N,R,z){var X=(z-R)/2,G=N*Math.cos(X),Z=N*Math.sin(X),se=G,K=-Z,oe=se*se+K*K,fe=oe+se*G+K*Z,W=4/3*(Math.sqrt(2*oe*fe)-fe)/(se*Z-K*G),_e=se-W*K,Ae=K+W*se,Se=_e,ie=-Ae,ke=X+R,Le=Math.cos(ke),Be=Math.sin(ke);return{x1:N*Math.cos(R),y1:N*Math.sin(R),x2:_e*Le-Ae*Be,y2:_e*Be+Ae*Le,x3:Se*Le-ie*Be,y3:Se*Be+ie*Le,x4:N*Math.cos(z),y4:N*Math.sin(z)}},q=function(N){return 180*N/Math.PI},B=function(N,R,z,X,G,Z){var se=N+.5*(z-N),K=R+.5*(X-R),oe=G+.5*(z-G),fe=Z+.5*(X-Z),W=Math.min(N,G,se,oe),_e=Math.max(N,G,se,oe),Ae=Math.min(R,Z,K,fe),Se=Math.max(R,Z,K,fe);return new o(W,Ae,_e-W,Se-Ae)},re=function(N,R,z,X,G,Z,se,K){var oe,fe,W,_e,Ae,Se,ie,ke,Le,Be,Xe,Re,Ye,Me,Ge=z-N,ot=X-R,nt=G-z,dt=Z-X,xt=se-G,wt=K-Z;for(fe=0;fe<41;fe++)Le=(ie=(W=N+(oe=fe/40)*Ge)+oe*((Ae=z+oe*nt)-W))+oe*(Ae+oe*(G+oe*xt-Ae)-ie),Be=(ke=(_e=R+oe*ot)+oe*((Se=X+oe*dt)-_e))+oe*(Se+oe*(Z+oe*wt-Se)-ke),fe==0?(Xe=Le,Re=Be,Ye=Le,Me=Be):(Xe=Math.min(Xe,Le),Re=Math.min(Re,Be),Ye=Math.max(Ye,Le),Me=Math.max(Me,Be));return new o(Math.round(Xe),Math.round(Re),Math.round(Ye-Xe),Math.round(Me-Re))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,R,z=(N=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:R}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Gt.API),function(e){var t=function(i){var s,o,l,c,u,f,h,d,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,d+33,g+33,m+33)):o.push(122);return function(y,v){for(var b=v;b>0;b--)y.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",d=255,g="charCodeAt",m="slice",y="replace";for(i[m](-2),i=i[m](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(v,b){for(var w=b;w>0;w--)v.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=DT(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Gt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(g){var m=g.length,y=[],v=String.fromCharCode;for(h=0;h<m;h+=1)y.push(v(255&g.charCodeAt(h)));return y.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Gt.API),function(e){function t(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):CT(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):CT(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=$r(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],g=d.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Gt.getPageSize=function(s,o,l){if($r(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var d,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(d=m,m=g,g=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(d=m,m=g,g=d)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map($T):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(Gt.API),Gt.API.addJS=function(e){return gj=e,this.internal.events.subscribe("postPutResources",function(){yx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yx!==void 0&&mj!==void 0&&this.internal.out("/Names <</JavaScript "+yx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Gt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=d,t.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),m={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}d=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Gt.API);var Ud,xx,vj,yj,xj,wxe=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,d,g,m,y,v,b,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var D,P;for(P=[],D=0;D<4;++D)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(y=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,y.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,d,g){var m,y,v,b,w,D,P,O,E,A,S,I,T,C,L,H,V,J,te,q,B,re=Math.ceil((c.width-f)/d),ee=Math.ceil((c.height-h)/g),N=c.width==re&&c.height==ee;for(C=s*re,I=N?o:new Uint8Array(C*ee),D=i.length,T=0,y=0;T<ee&&l<D;){switch(i[l++]){case 0:for(b=V=0;V<C;b=V+=1)I[y++]=i[l++];break;case 1:for(b=J=0;J<C;b=J+=1)m=i[l++],w=b<s?0:I[y-s],I[y++]=(m+w)%256;break;case 2:for(b=te=0;te<C;b=te+=1)m=i[l++],v=(b-b%s)/s,L=T&&I[(T-1)*C+v*s+b%s],I[y++]=(L+m)%256;break;case 3:for(b=q=0;q<C;b=q+=1)m=i[l++],v=(b-b%s)/s,w=b<s?0:I[y-s],L=T&&I[(T-1)*C+v*s+b%s],I[y++]=(m+Math.floor((w+L)/2))%256;break;case 4:for(b=B=0;B<C;b=B+=1)m=i[l++],v=(b-b%s)/s,w=b<s?0:I[y-s],T===0?L=H=0:(L=I[(T-1)*C+v*s+b%s],H=v&&I[(T-1)*C+(v-1)*s+b%s]),P=w+L-H,O=Math.abs(P-w),A=Math.abs(P-L),S=Math.abs(P-H),E=O<=A&&O<=S?w:A<=S?L:H,I[y++]=(m+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!N){var R=((h+T*g)*c.width+f)*s,z=T*C;for(b=0;b<re;b+=1){for(var X=0;X<s;X+=1)o[R++]=I[z++];R+=(d-1)*s}}T++}}return i=Zye(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,d;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,d,g,m,y,v;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)d=m?4*s[u/4]:h,y=f[d++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=o?f[d++]:255,h=d;else for(;u<g;)d=m?4*s[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=o?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Kt)==="[object Window]"){try{t=Kt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,d;if(this.animation){for(d=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var d,g;if(d=o++%c,g=l[d],h.renderFrame(i,d),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function _xe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,d=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),d=m>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,D=e[t++],P=D>>6&1,O=1<<(7&D)+1,E=o,A=l,S=!1;D>>7&&(S=!0,E=t,A=O,t+=3*O);var I=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}u.push({x:y,y:v,width:b,height:w,has_local_palette:S,palette_offset:E,palette_size:A,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!P,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,L){var H=this.frameInfo(C),V=H.width*H.height,J=new Uint8Array(V);bj(e,H.data_offset,J,V);var te=H.palette_offset,q=H.transparent_index;q===null&&(q=256);var B=H.width,re=r-B,ee=B,N=4*(H.y*r+H.x),R=4*((H.y+H.height)*r+H.x),z=N,X=4*re;H.interlaced===!0&&(X+=4*r*7);for(var G=8,Z=0,se=J.length;Z<se;++Z){var K=J[Z];if(ee===0&&(ee=B,(z+=X)>=R&&(X=4*re+4*r*(G-1),z=N+(B+re)*(G<<1),G>>=1)),K===q)z+=4;else{var oe=e[te+3*K],fe=e[te+3*K+1],W=e[te+3*K+2];L[z++]=W,L[z++]=fe,L[z++]=oe,L[z++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(C,L){var H=this.frameInfo(C),V=H.width*H.height,J=new Uint8Array(V);bj(e,H.data_offset,J,V);var te=H.palette_offset,q=H.transparent_index;q===null&&(q=256);var B=H.width,re=r-B,ee=B,N=4*(H.y*r+H.x),R=4*((H.y+H.height)*r+H.x),z=N,X=4*re;H.interlaced===!0&&(X+=4*r*7);for(var G=8,Z=0,se=J.length;Z<se;++Z){var K=J[Z];if(ee===0&&(ee=B,(z+=X)>=R&&(X=4*re+4*r*(G-1),z=N+(B+re)*(G<<1),G>>=1)),K===q)z+=4;else{var oe=e[te+3*K],fe=e[te+3*K+1],W=e[te+3*K+2];L[z++]=oe,L[z++]=fe,L[z++]=W,L[z++]=255}--ee}}}function bj(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,d=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&d!==0;)f|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var y=f&c;if(f>>=l,u-=l,y!==i){if(y===s)break;for(var v=y<o?y:m,b=0,w=v;w>i;)w=g[w]>>8,++b;var D=w;if(h+b+(v!==y?1:0)>n)return void cn.log("Warning, gif stream longer than expected.");r[h++]=D;var P=h+=b;for(v!==y&&(r[h++]=D),w=v;b--;)w=g[w],r[--P]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=y}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function HS(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),g=new Array(64),m=[],y=0,v=7,b=new Array(64),w=new Array(64),D=new Array(64),P=new Array(256),O=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(N,R){for(var z=0,X=0,G=new Array,Z=1;Z<=16;Z++){for(var se=1;se<=N[Z];se++)G[R[X]]=[],G[R[X]][0]=z,G[R[X]][1]=Z,X++,z++;z*=2}return G}function te(N){for(var R=N[0],z=N[1]-1;z>=0;)R&1<<z&&(y|=1<<v),z--,--v<0&&(y==255?(q(255),q(0)):q(y),v=7,y=0)}function q(N){m.push(N)}function B(N){q(N>>8&255),q(255&N)}function re(N,R,z,X,G){for(var Z,se=G[0],K=G[240],oe=function(Be,Xe){var Re,Ye,Me,Ge,ot,nt,dt,xt,wt,pt,et=0;for(wt=0;wt<8;++wt){Re=Be[et],Ye=Be[et+1],Me=Be[et+2],Ge=Be[et+3],ot=Be[et+4],nt=Be[et+5],dt=Be[et+6];var Bt=Re+(xt=Be[et+7]),Lt=Re-xt,Hr=Ye+dt,Ee=Ye-dt,Je=Me+nt,_t=Me-nt,kt=Ge+ot,cr=Ge-ot,ur=Bt+kt,Nr=Bt-kt,gn=Hr+Je,Or=Hr-Je;Be[et]=ur+gn,Be[et+4]=ur-gn;var Vt=.707106781*(Or+Nr);Be[et+2]=Nr+Vt,Be[et+6]=Nr-Vt;var br=.382683433*((ur=cr+_t)-(Or=Ee+Lt)),Ji=.5411961*ur+br,Fn=1.306562965*Or+br,Ca=.707106781*(gn=_t+Ee),Oi=Lt+Ca,Dt=Lt-Ca;Be[et+5]=Dt+Ji,Be[et+3]=Dt-Ji,Be[et+1]=Oi+Fn,Be[et+7]=Oi-Fn,et+=8}for(et=0,wt=0;wt<8;++wt){Re=Be[et],Ye=Be[et+8],Me=Be[et+16],Ge=Be[et+24],ot=Be[et+32],nt=Be[et+40],dt=Be[et+48];var ii=Re+(xt=Be[et+56]),ia=Re-xt,$n=Ye+dt,On=Ye-dt,Tn=Me+nt,le=Me-nt,xe=Ge+ot,me=Ge-ot,ge=ii+xe,ye=ii-xe,be=$n+Tn,Fe=$n-Tn;Be[et]=ge+be,Be[et+32]=ge-be;var He=.707106781*(Fe+ye);Be[et+16]=ye+He,Be[et+48]=ye-He;var $e=.382683433*((ge=me+le)-(Fe=On+ia)),Ve=.5411961*ge+$e,We=1.306562965*Fe+$e,ut=.707106781*(be=le+On),bt=ia+ut,Ct=ia-ut;Be[et+40]=Ct+Ve,Be[et+24]=Ct-Ve,Be[et+8]=bt+We,Be[et+56]=bt-We,et++}for(wt=0;wt<64;++wt)pt=Be[wt]*Xe[wt],d[wt]=pt>0?pt+.5|0:pt-.5|0;return d}(N,R),fe=0;fe<64;++fe)g[E[fe]]=oe[fe];var W=g[0]-z;z=g[0],W==0?te(X[0]):(te(X[h[Z=32767+W]]),te(f[Z]));for(var _e=63;_e>0&&g[_e]==0;)_e--;if(_e==0)return te(se),z;for(var Ae,Se=1;Se<=_e;){for(var ie=Se;g[Se]==0&&Se<=_e;)++Se;var ke=Se-ie;if(ke>=16){Ae=ke>>4;for(var Le=1;Le<=Ae;++Le)te(K);ke&=15}Z=32767+g[Se],te(G[(ke<<4)+h[Z]]),te(f[Z]),Se++}return _e!=63&&te(se),z}function ee(N){N=Math.min(Math.max(N,1),100),i!=N&&(function(R){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var G=s((z[X]*R+50)/100);G=Math.min(Math.max(G,1),255),o[E[X]]=G}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var K=s((Z[se]*R+50)/100);K=Math.min(Math.max(K,1),255),l[E[se]]=K}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fe=0,W=0;W<8;W++)for(var _e=0;_e<8;_e++)c[fe]=1/(o[E[fe]]*oe[W]*oe[_e]*8),u[fe]=1/(l[E[fe]]*oe[W]*oe[_e]*8),fe++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),i=N)}this.encode=function(N,R){R&&ee(R),m=new Array,y=0,v=7,B(65496),B(65504),B(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),B(1),B(1),q(0),q(0),function(){B(65499),B(132),q(0);for(var Ye=0;Ye<64;Ye++)q(o[Ye]);q(1);for(var Me=0;Me<64;Me++)q(l[Me])}(),function(Ye,Me){B(65472),B(17),q(8),B(Me),B(Ye),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(N.width,N.height),function(){B(65476),B(418),q(0);for(var Ye=0;Ye<16;Ye++)q(A[Ye+1]);for(var Me=0;Me<=11;Me++)q(S[Me]);q(16);for(var Ge=0;Ge<16;Ge++)q(I[Ge+1]);for(var ot=0;ot<=161;ot++)q(T[ot]);q(1);for(var nt=0;nt<16;nt++)q(C[nt+1]);for(var dt=0;dt<=11;dt++)q(L[dt]);q(17);for(var xt=0;xt<16;xt++)q(H[xt+1]);for(var wt=0;wt<=161;wt++)q(V[wt])}(),B(65498),B(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var z=0,X=0,G=0;y=0,v=7,this.encode.displayName="_encode_";for(var Z,se,K,oe,fe,W,_e,Ae,Se,ie=N.data,ke=N.width,Le=N.height,Be=4*ke,Xe=0;Xe<Le;){for(Z=0;Z<Be;){for(fe=Be*Xe+Z,_e=-1,Ae=0,Se=0;Se<64;Se++)W=fe+(Ae=Se>>3)*Be+(_e=4*(7&Se)),Xe+Ae>=Le&&(W-=Be*(Xe+1+Ae-Le)),Z+_e>=Be&&(W-=Z+_e-Be+4),se=ie[W++],K=ie[W++],oe=ie[W++],b[Se]=(O[se]+O[K+256>>0]+O[oe+512>>0]>>16)-128,w[Se]=(O[se+768>>0]+O[K+1024>>0]+O[oe+1280>>0]>>16)-128,D[Se]=(O[se+1280>>0]+O[K+1536>>0]+O[oe+1792>>0]>>16)-128;z=re(b,c,z,t,n),X=re(w,u,X,r,a),G=re(D,u,G,r,a),Z+=32}Xe+=8}if(v>=0){var Re=[];Re[1]=v+1,Re[0]=(1<<v+1)-1,te(Re)}return B(65497),new Uint8Array(m)},e=e||50,function(){for(var N=String.fromCharCode,R=0;R<256;R++)P[R]=N(R)}(),t=J(A,S),r=J(C,L),n=J(I,T),a=J(H,V),function(){for(var N=1,R=2,z=1;z<=15;z++){for(var X=N;X<R;X++)h[32767+X]=z,f[32767+X]=[],f[32767+X][1]=z,f[32767+X][0]=X;for(var G=-(R-1);G<=-N;G++)h[32767+G]=z,f[32767+G]=[],f[32767+G][1]=z,f[32767+G][0]=R-1+G;N<<=1,R<<=1}}(),function(){for(var N=0;N<256;N++)O[N]=19595*N,O[N+256>>0]=38470*N,O[N+512>>0]=7471*N+32768,O[N+768>>0]=-11059*N,O[N+1024>>0]=-21709*N,O[N+1280>>0]=32768*N+8421375,O[N+1536>>0]=-27439*N,O[N+1792>>0]=-5329*N}(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wj(e){function t(A){if(!A)throw Error("assert :P")}function r(A,S,I){for(var T=0;4>T;T++)if(A[S+T]!=I.charCodeAt(T))return!0;return!1}function n(A,S,I,T,C){for(var L=0;L<C;L++)A[S+L]=I[T+L]}function a(A,S,I,T){for(var C=0;C<T;C++)A[S+C]=I}function i(A){return new Int32Array(A)}function s(A,S){for(var I=[],T=0;T<A;T++)I.push(new S);return I}function o(A,S){var I=[];return function T(C,L,H){for(var V=H[L],J=0;J<V&&(C.push(H.length>L+1?[]:new S),!(H.length<L+1));J++)T(C[J],L+1,H)}(I,0,A),I}var l=function(){var A=this;function S(x,k){for(var M=1<<k-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function I(x,k,M,U,ae){t(!(U%M));do x[k+(U-=M)]=ae;while(0<U)}function T(x,k,M,U,ae){if(t(2328>=ae),512>=ae)var ce=i(512);else if((ce=i(ae))==null)return 0;return function(ue,de,pe,ve,Ce,Ue){var ze,je,it=de,Ke=1<<pe,Pe=i(16),Oe=i(16);for(t(Ce!=0),t(ve!=null),t(ue!=null),t(0<pe),je=0;je<Ce;++je){if(15<ve[je])return 0;++Pe[ve[je]]}if(Pe[0]==Ce)return 0;for(Oe[1]=0,ze=1;15>ze;++ze){if(Pe[ze]>1<<ze)return 0;Oe[ze+1]=Oe[ze]+Pe[ze]}for(je=0;je<Ce;++je)ze=ve[je],0<ve[je]&&(Ue[Oe[ze]++]=je);if(Oe[15]==1)return(ve=new C).g=0,ve.value=Ue[0],I(ue,it,1,Ke,ve),Ke;var tt,lt=-1,at=Ke-1,It=0,Tt=1,zt=1,Nt=1<<pe;for(je=0,ze=1,Ce=2;ze<=pe;++ze,Ce<<=1){if(Tt+=zt<<=1,0>(zt-=Pe[ze]))return 0;for(;0<Pe[ze];--Pe[ze])(ve=new C).g=ze,ve.value=Ue[je++],I(ue,it+It,Ce,Nt,ve),It=S(It,ze)}for(ze=pe+1,Ce=2;15>=ze;++ze,Ce<<=1){if(Tt+=zt<<=1,0>(zt-=Pe[ze]))return 0;for(;0<Pe[ze];--Pe[ze]){if(ve=new C,(It&at)!=lt){for(it+=Nt,tt=1<<(lt=ze)-pe;15>lt&&!(0>=(tt-=Pe[lt]));)++lt,tt<<=1;Ke+=Nt=1<<(tt=lt-pe),ue[de+(lt=It&at)].g=tt+pe,ue[de+lt].value=it-de-lt}ve.g=ze-pe,ve.value=Ue[je++],I(ue,it+(It>>pe),Ce,Nt,ve),It=S(It,ze)}}return Tt!=2*Oe[15]-1?0:Ke}(x,k,M,U,ae,ce)}function C(){this.value=this.g=0}function L(){this.value=this.g=0}function H(){this.G=s(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(qa,L)}function V(x,k,M,U){t(x!=null),t(k!=null),t(2147483648>U),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=k,x.pa=M,x.Jd=k,x.Yc=M+U,x.Zc=4<=U?M+U-4+1:M,Z(x)}function J(x,k){for(var M=0;0<k--;)M|=K(x,128)<<k;return M}function te(x,k){var M=J(x,k);return se(x)?-M:M}function q(x,k,M,U){var ae,ce=0;for(t(x!=null),t(k!=null),t(4294967288>U),x.Sb=U,x.Ra=0,x.u=0,x.h=0,4<U&&(U=4),ae=0;ae<U;++ae)ce+=k[M+ae]<<8*ae;x.Ra=ce,x.bb=U,x.oa=k,x.pa=M}function B(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Cd-8>>>0,++x.bb,x.u-=8;z(x)&&(x.h=1,x.u=0)}function re(x,k){if(t(0<=k),!x.h&&k<=kd){var M=R(x)&Ed[k];return x.u+=k,B(x),M}return x.h=1,x.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&Cd-1)>>>0}function z(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Cd}function X(x,k){x.u=k,x.h=z(x)}function G(x){x.u>=pm&&(t(x.u>=pm),B(x))}function Z(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function se(x){return J(x,1)}function K(x,k){var M=x.Ca;0>x.b&&Z(x);var U=x.b,ae=M*k>>>8,ce=(x.I>>>U>ae)+0;for(ce?(M-=ae,x.I-=ae+1<<U>>>0):M=ae+1,U=M,ae=0;256<=U;)ae+=8,U>>=8;return U=7^ae+ts[U],x.b-=U,x.Ca=(M<<U)-1,ce}function oe(x,k,M){x[k+0]=M>>24&255,x[k+1]=M>>16&255,x[k+2]=M>>8&255,x[k+3]=M>>0&255}function fe(x,k){return x[k+0]<<0|x[k+1]<<8}function W(x,k){return fe(x,k)|x[k+2]<<16}function _e(x,k){return fe(x,k)|fe(x,k+2)<<16}function Ae(x,k){var M=1<<k;return t(x!=null),t(0<k),x.X=i(M),x.X==null?0:(x.Mb=32-k,x.Xa=k,1)}function Se(x,k){t(x!=null),t(k!=null),t(x.Xa==k.Xa),n(k.X,0,x.X,0,1<<k.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function ke(x,k,M,U){t(M!=null),t(U!=null);var ae=M[0],ce=U[0];return ae==0&&(ae=(x*ce+k/2)/k),ce==0&&(ce=(k*ae+x/2)/x),0>=ae||0>=ce?0:(M[0]=ae,U[0]=ce,1)}function Le(x,k){return x+(1<<k)-1>>>k}function Be(x,k){return((4278255360&x)+(4278255360&k)>>>0&4278255360)+((16711935&x)+(16711935&k)>>>0&16711935)>>>0}function Xe(x,k){A[k]=function(M,U,ae,ce,ue,de,pe){var ve;for(ve=0;ve<ue;++ve){var Ce=A[x](de[pe+ve-1],ae,ce+ve);de[pe+ve]=Be(M[U+ve],Ce)}}}function Re(){this.ud=this.hd=this.jd=0}function Ye(x,k){return((4278124286&(x^k))>>>1)+(x&k)>>>0}function Me(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ge(x,k){return Me(x+(x-k+.5>>1))}function ot(x,k,M){return Math.abs(k-M)-Math.abs(x-M)}function nt(x,k,M,U,ae,ce,ue){for(U=ce[ue-1],M=0;M<ae;++M)ce[ue+M]=U=Be(x[k+M],U)}function dt(x,k,M,U,ae){var ce;for(ce=0;ce<M;++ce){var ue=x[k+ce],de=ue>>8&255,pe=16711935&(pe=(pe=16711935&ue)+((de<<16)+de));U[ae+ce]=(4278255360&ue)+pe>>>0}}function xt(x,k){k.jd=x>>0&255,k.hd=x>>8&255,k.ud=x>>16&255}function wt(x,k,M,U,ae,ce){var ue;for(ue=0;ue<U;++ue){var de=k[M+ue],pe=de>>>8,ve=de,Ce=255&(Ce=(Ce=de>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));ve=255&(ve=(ve=ve+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(Ce<<24>>24)>>>5)),ae[ce+ue]=(4278255360&de)+(Ce<<16)+ve}}function pt(x,k,M,U,ae){A[k]=function(ce,ue,de,pe,ve,Ce,Ue,ze,je){for(pe=Ue;pe<ze;++pe)for(Ue=0;Ue<je;++Ue)ve[Ce++]=ae(de[U(ce[ue++])])},A[x]=function(ce,ue,de,pe,ve,Ce,Ue){var ze=8>>ce.b,je=ce.Ea,it=ce.K[0],Ke=ce.w;if(8>ze)for(ce=(1<<ce.b)-1,Ke=(1<<ze)-1;ue<de;++ue){var Pe,Oe=0;for(Pe=0;Pe<je;++Pe)Pe&ce||(Oe=U(pe[ve++])),Ce[Ue++]=ae(it[Oe&Ke]),Oe>>=ze}else A["VP8LMapColor"+M](pe,ve,it,Ke,Ce,Ue,ue,de,je)}}function et(x,k,M,U,ae){for(M=k+M;k<M;){var ce=x[k++];U[ae++]=ce>>16&255,U[ae++]=ce>>8&255,U[ae++]=ce>>0&255}}function Bt(x,k,M,U,ae){for(M=k+M;k<M;){var ce=x[k++];U[ae++]=ce>>16&255,U[ae++]=ce>>8&255,U[ae++]=ce>>0&255,U[ae++]=ce>>24&255}}function Lt(x,k,M,U,ae){for(M=k+M;k<M;){var ce=(ue=x[k++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;U[ae++]=ce,U[ae++]=ue}}function Hr(x,k,M,U,ae){for(M=k+M;k<M;){var ce=(ue=x[k++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;U[ae++]=ce,U[ae++]=ue}}function Ee(x,k,M,U,ae){for(M=k+M;k<M;){var ce=x[k++];U[ae++]=ce>>0&255,U[ae++]=ce>>8&255,U[ae++]=ce>>16&255}}function Je(x,k,M,U,ae,ce){if(ce==0)for(M=k+M;k<M;)oe(U,((ce=x[k++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),ae+=32;else n(U,ae,x,k,M)}function _t(x,k){A[k][0]=A[x+"0"],A[k][1]=A[x+"1"],A[k][2]=A[x+"2"],A[k][3]=A[x+"3"],A[k][4]=A[x+"4"],A[k][5]=A[x+"5"],A[k][6]=A[x+"6"],A[k][7]=A[x+"7"],A[k][8]=A[x+"8"],A[k][9]=A[x+"9"],A[k][10]=A[x+"10"],A[k][11]=A[x+"11"],A[k][12]=A[x+"12"],A[k][13]=A[x+"13"],A[k][14]=A[x+"0"],A[k][15]=A[x+"0"]}function kt(x){return x==f_||x==h_||x==yy||x==d_}function cr(){this.eb=[],this.size=this.A=this.fb=0}function ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new cr,this.f.kb=new ur,this.sd=null}function gn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function br(x,k){var M=x.T,U=k.ba.f.RGBA,ae=U.eb,ce=U.fb+x.ka*U.A,ue=Ys[k.ba.S],de=x.y,pe=x.O,ve=x.f,Ce=x.N,Ue=x.ea,ze=x.W,je=k.cc,it=k.dc,Ke=k.Mc,Pe=k.Nc,Oe=x.ka,tt=x.ka+x.T,lt=x.U,at=lt+1>>1;for(Oe==0?ue(de,pe,null,null,ve,Ce,Ue,ze,ve,Ce,Ue,ze,ae,ce,null,null,lt):(ue(k.ec,k.fc,de,pe,je,it,Ke,Pe,ve,Ce,Ue,ze,ae,ce-U.A,ae,ce,lt),++M);Oe+2<tt;Oe+=2)je=ve,it=Ce,Ke=Ue,Pe=ze,Ce+=x.Rc,ze+=x.Rc,ce+=2*U.A,ue(de,(pe+=2*x.fa)-x.fa,de,pe,je,it,Ke,Pe,ve,Ce,Ue,ze,ae,ce-U.A,ae,ce,lt);return pe+=x.fa,x.j+tt<x.o?(n(k.ec,k.fc,de,pe,lt),n(k.cc,k.dc,ve,Ce,at),n(k.Mc,k.Nc,Ue,ze,at),M--):1&tt||ue(de,pe,null,null,ve,Ce,Ue,ze,ve,Ce,Ue,ze,ae,ce+U.A,null,null,lt),M}function Ji(x,k,M){var U=x.F,ae=[x.J];if(U!=null){var ce=x.U,ue=k.ba.S,de=ue==vy||ue==yy;k=k.ba.f.RGBA;var pe=[0],ve=x.ka;pe[0]=x.T,x.Kb&&(ve==0?--pe[0]:(--ve,ae[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-ve));var Ce=k.eb;ve=k.fb+ve*k.A,x=hn(U,ae[0],x.width,ce,pe,Ce,ve+(de?0:3),k.A),t(M==pe),x&&kt(ue)&&Gs(Ce,ve,de,ce,pe,k.A)}return 0}function Fn(x){var k=x.ma,M=k.ba.S,U=11>M,ae=M==my||M==gy||M==vy||M==u_||M==12||kt(M);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!hm(k.Oa,x,ae?11:12))return 0;if(ae&&kt(M)&&ft(),x.da)alert("todo:use_scaling");else{if(U){if(k.Ib=Vt,x.Kb){if(M=x.U+1>>1,k.memory=i(x.U+2*M),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+x.U,k.Mc=k.cc,k.Nc=k.dc+M,k.Ib=br,ft()}}else alert("todo:EmitYUV");ae&&(k.Jb=Ji,U&&De())}if(U&&!PN){for(x=0;256>x;++x)QK[x]=89858*(x-128)+by>>xy,eY[x]=-22014*(x-128)+by,ZK[x]=-45773*(x-128),JK[x]=113618*(x-128)+by>>xy;for(x=wm;x<g_;++x)k=76283*(x-16)+by>>xy,tY[x-wm]=Ur(k,255),rY[x-wm]=Ur(k+8>>4,15);PN=1}return 1}function Ca(x){var k=x.ma,M=x.U,U=x.T;return t(!(1&x.ka)),0>=M||0>=U?0:(M=k.Ib(x,k),k.Jb!=null&&k.Jb(x,k,M),k.Dc+=M,1)}function Oi(x){x.ma.memory=null}function Dt(x,k,M,U){return re(x,8)!=47?0:(k[0]=re(x,14)+1,M[0]=re(x,14)+1,U[0]=re(x,1),re(x,3)!=0?0:!x.h)}function ii(x,k){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+re(k,M)+1}function ia(x,k){return 120<k?k-120:1<=(M=((M=RK[k-1])>>4)*x+(8-(15&M)))?M:1;var M}function $n(x,k,M){var U=R(M),ae=x[k+=255&U].g-8;return 0<ae&&(X(M,M.u+8),U=R(M),k+=x[k].value,k+=U&(1<<ae)-1),X(M,M.u+x[k].g),x[k].value}function On(x,k,M){return M.g+=x.g,M.value+=x.value<<k>>>0,t(8>=M.g),x.g}function Tn(x,k,M){var U=x.xc;return t((k=U==0?0:x.vc[x.md*(M>>U)+(k>>U)])<x.Wb),x.Ya[k]}function le(x,k,M,U){var ae=x.ab,ce=x.c*k,ue=x.C;k=ue+k;var de=M,pe=U;for(U=x.Ta,M=x.Ua;0<ae--;){var ve=x.gc[ae],Ce=ue,Ue=k,ze=de,je=pe,it=(pe=U,de=M,ve.Ea);switch(t(Ce<Ue),t(Ue<=ve.nc),ve.hc){case 2:ly(ze,je,(Ue-Ce)*it,pe,de);break;case 0:var Ke=Ce,Pe=Ue,Oe=pe,tt=de,lt=(Nt=ve).Ea;Ke==0&&(l_(ze,je,null,null,1,Oe,tt),nt(ze,je+1,0,0,lt-1,Oe,tt+1),je+=lt,tt+=lt,++Ke);for(var at=1<<Nt.b,It=at-1,Tt=Le(lt,Nt.b),zt=Nt.K,Nt=Nt.w+(Ke>>Nt.b)*Tt;Ke<Pe;){var Rr=zt,Kr=Nt,Ir=1;for(mm(ze,je,Oe,tt-lt,1,Oe,tt);Ir<lt;){var gr=(Ir&~It)+at;gr>lt&&(gr=lt),(0,gu[Rr[Kr++]>>8&15])(ze,je+ +Ir,Oe,tt+Ir-lt,gr-Ir,Oe,tt+Ir),Ir=gr}je+=lt,tt+=lt,++Ke&It||(Nt+=Tt)}Ue!=ve.nc&&n(pe,de-it,pe,de+(Ue-Ce-1)*it,it);break;case 1:for(it=ze,Pe=je,lt=(ze=ve.Ea)-(tt=ze&~(Oe=(je=1<<ve.b)-1)),Ke=Le(ze,ve.b),at=ve.K,ve=ve.w+(Ce>>ve.b)*Ke;Ce<Ue;){for(It=at,Tt=ve,zt=new Re,Nt=Pe+tt,Rr=Pe+ze;Pe<Nt;)xt(It[Tt++],zt),Zf(zt,it,Pe,je,pe,de),Pe+=je,de+=je;Pe<Rr&&(xt(It[Tt++],zt),Zf(zt,it,Pe,lt,pe,de),Pe+=lt,de+=lt),++Ce&Oe||(ve+=Ke)}break;case 3:if(ze==pe&&je==de&&0<ve.b){for(Pe=pe,ze=it=de+(Ue-Ce)*it-(tt=(Ue-Ce)*Le(ve.Ea,ve.b)),je=pe,Oe=de,Ke=[],tt=(lt=tt)-1;0<=tt;--tt)Ke[tt]=je[Oe+tt];for(tt=lt-1;0<=tt;--tt)Pe[ze+tt]=Ke[tt];qs(ve,Ce,Ue,pe,it,pe,de)}else qs(ve,Ce,Ue,ze,je,pe,de)}de=U,pe=M}pe!=M&&n(U,M,de,pe,ce)}function xe(x,k){var M=x.V,U=x.Ba+x.c*x.C,ae=k-x.C;if(t(k<=x.l.o),t(16>=ae),0<ae){var ce=x.l,ue=x.Ta,de=x.Ua,pe=ce.width;if(le(x,ae,M,U),ae=de=[de],t((M=x.C)<(U=k)),t(ce.v<ce.va),U>ce.o&&(U=ce.o),M<ce.j){var ve=ce.j-M;M=ce.j,ae[0]+=ve*pe}if(M>=U?M=0:(ae[0]+=4*ce.v,ce.ka=M-ce.j,ce.U=ce.va-ce.v,ce.T=U-M,M=1),M){if(de=de[0],11>(M=x.ca).S){var Ce=M.f.RGBA,Ue=(U=M.S,ae=ce.U,ce=ce.T,ve=Ce.eb,Ce.A),ze=ce;for(Ce=Ce.fb+x.Ma*Ce.A;0<ze--;){var je=ue,it=de,Ke=ae,Pe=ve,Oe=Ce;switch(U){case py:rs(je,it,Ke,Pe,Oe);break;case my:ji(je,it,Ke,Pe,Oe);break;case f_:ji(je,it,Ke,Pe,Oe),Gs(Pe,Oe,0,Ke,1,0);break;case xN:nc(je,it,Ke,Pe,Oe);break;case gy:Je(je,it,Ke,Pe,Oe,1);break;case h_:Je(je,it,Ke,Pe,Oe,1),Gs(Pe,Oe,0,Ke,1,0);break;case vy:Je(je,it,Ke,Pe,Oe,0);break;case yy:Je(je,it,Ke,Pe,Oe,0),Gs(Pe,Oe,1,Ke,1,0);break;case u_:vu(je,it,Ke,Pe,Oe);break;case d_:vu(je,it,Ke,Pe,Oe),fn(Pe,Oe,Ke,1,0);break;case bN:rc(je,it,Ke,Pe,Oe);break;default:t(0)}de+=pe,Ce+=Ue}x.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=k,t(x.C<=x.i)}function me(x){var k;if(0<x.ua)return 0;for(k=0;k<x.Wb;++k){var M=x.Ya[k].G,U=x.Ya[k].H;if(0<M[1][U[1]+0].g||0<M[2][U[2]+0].g||0<M[3][U[3]+0].g)return 0}return 1}function ge(x,k,M,U,ae,ce){if(x.Z!=0){var ue=x.qd,de=x.rd;for(t(wu[x.Z]!=null);k<M;++k)wu[x.Z](ue,de,U,ae,U,ae,ce),ue=U,de=ae,ae+=ce;x.qd=ue,x.rd=de}}function ye(x,k){var M=x.l.ma,U=M.Z==0||M.Z==1?x.l.j:x.C;if(U=x.C<U?U:x.C,t(k<=x.l.o),k>U){var ae=x.l.width,ce=M.ca,ue=M.tb+ae*U,de=x.V,pe=x.Ba+x.c*U,ve=x.gc;t(x.ab==1),t(ve[0].hc==3),cy(ve[0],U,k,de,pe,ce,ue),ge(M,U,k,ce,ue,ae)}x.C=x.Ma=k}function be(x,k,M,U,ae,ce,ue){var de=x.$/U,pe=x.$%U,ve=x.m,Ce=x.s,Ue=M+x.$,ze=Ue;ae=M+U*ae;var je=M+U*ce,it=280+Ce.ua,Ke=x.Pb?de:16777216,Pe=0<Ce.ua?Ce.Wa:null,Oe=Ce.wc,tt=Ue<je?Tn(Ce,pe,de):null;t(x.C<ce),t(je<=ae);var lt=!1;e:for(;;){for(;lt||Ue<je;){var at=0;if(de>=Ke){var It=Ue-M;t((Ke=x).Pb),Ke.wd=Ke.m,Ke.xd=It,0<Ke.s.ua&&Se(Ke.s.Wa,Ke.s.vb),Ke=de+$K}if(pe&Oe||(tt=Tn(Ce,pe,de)),t(tt!=null),tt.Qb&&(k[Ue]=tt.qb,lt=!0),!lt)if(G(ve),tt.jc){at=ve,It=k;var Tt=Ue,zt=tt.pd[R(at)&qa-1];t(tt.jc),256>zt.g?(X(at,at.u+zt.g),It[Tt]=zt.value,at=0):(X(at,at.u+zt.g-256),t(256<=zt.value),at=zt.value),at==0&&(lt=!0)}else at=$n(tt.G[0],tt.H[0],ve);if(ve.h)break;if(lt||256>at){if(!lt)if(tt.nd)k[Ue]=(tt.qb|at<<8)>>>0;else{if(G(ve),lt=$n(tt.G[1],tt.H[1],ve),G(ve),It=$n(tt.G[2],tt.H[2],ve),Tt=$n(tt.G[3],tt.H[3],ve),ve.h)break;k[Ue]=(Tt<<24|lt<<16|at<<8|It)>>>0}if(lt=!1,++Ue,++pe>=U&&(pe=0,++de,ue!=null&&de<=ce&&!(de%16)&&ue(x,de),Pe!=null))for(;ze<Ue;)at=k[ze++],Pe.X[(506832829*at&4294967295)>>>Pe.Mb]=at}else if(280>at){if(at=ii(at-256,ve),It=$n(tt.G[4],tt.H[4],ve),G(ve),It=ia(U,It=ii(It,ve)),ve.h)break;if(Ue-M<It||ae-Ue<at)break e;for(Tt=0;Tt<at;++Tt)k[Ue+Tt]=k[Ue+Tt-It];for(Ue+=at,pe+=at;pe>=U;)pe-=U,++de,ue!=null&&de<=ce&&!(de%16)&&ue(x,de);if(t(Ue<=ae),pe&Oe&&(tt=Tn(Ce,pe,de)),Pe!=null)for(;ze<Ue;)at=k[ze++],Pe.X[(506832829*at&4294967295)>>>Pe.Mb]=at}else{if(!(at<it))break e;for(lt=at-280,t(Pe!=null);ze<Ue;)at=k[ze++],Pe.X[(506832829*at&4294967295)>>>Pe.Mb]=at;at=Ue,t(!(lt>>>(It=Pe).Xa)),k[at]=It.X[lt],lt=!0}lt||t(ve.h==z(ve))}if(x.Pb&&ve.h&&Ue<ae)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Se(x.s.vb,x.s.Wa);else{if(ve.h)break e;ue!=null&&ue(x,de>ce?ce:de),x.a=0,x.$=Ue-M}return 1}return x.a=3,0}function Fe(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var k=x.Wa;k!=null&&(k.X=null),x.vb=null,t(x!=null)}function He(){var x=new Ad;return x==null?null:(x.a=0,x.xb=SN,_t("Predictor","VP8LPredictors"),_t("Predictor","VP8LPredictors_C"),_t("PredictorAdd","VP8LPredictorsAdd"),_t("PredictorAdd","VP8LPredictorsAdd_C"),ly=dt,Zf=wt,rs=et,ji=Bt,vu=Lt,rc=Hr,nc=Ee,A.VP8LMapColor32b=Pd,A.VP8LMapColor8b=uy,x)}function $e(x,k,M,U,ae){var ce=1,ue=[x],de=[k],pe=U.m,ve=U.s,Ce=null,Ue=0;e:for(;;){if(M)for(;ce&&re(pe,1);){var ze=ue,je=de,it=U,Ke=1,Pe=it.m,Oe=it.gc[it.ab],tt=re(Pe,2);if(it.Oc&1<<tt)ce=0;else{switch(it.Oc|=1<<tt,Oe.hc=tt,Oe.Ea=ze[0],Oe.nc=je[0],Oe.K=[null],++it.ab,t(4>=it.ab),tt){case 0:case 1:Oe.b=re(Pe,3)+2,Ke=$e(Le(Oe.Ea,Oe.b),Le(Oe.nc,Oe.b),0,it,Oe.K),Oe.K=Oe.K[0];break;case 3:var lt,at=re(Pe,8)+1,It=16<at?0:4<at?1:2<at?2:3;if(ze[0]=Le(Oe.Ea,It),Oe.b=It,lt=Ke=$e(at,1,0,it,Oe.K)){var Tt,zt=at,Nt=Oe,Rr=1<<(8>>Nt.b),Kr=i(Rr);if(Kr==null)lt=0;else{var Ir=Nt.K[0],gr=Nt.w;for(Kr[0]=Nt.K[0][0],Tt=1;Tt<1*zt;++Tt)Kr[Tt]=Be(Ir[gr+Tt],Kr[Tt-1]);for(;Tt<4*Rr;++Tt)Kr[Tt]=0;Nt.K[0]=null,Nt.K[0]=Kr,lt=1}}Ke=lt;break;case 2:break;default:t(0)}ce=Ke}}if(ue=ue[0],de=de[0],ce&&re(pe,1)&&!(ce=1<=(Ue=re(pe,4))&&11>=Ue)){U.a=3;break e}var ln;if(ln=ce)t:{var tn,sr,sa,ns=U,oa=ue,as=de,Yr=Ue,As=M,Ts=ns.m,Pa=ns.s,Wa=[null],Mi=1,Xs=0,bl=FK[Yr];r:for(;;){if(As&&re(Ts,1)){var Na=re(Ts,3)+2,oc=Le(oa,Na),ah=Le(as,Na),jd=oc*ah;if(!$e(oc,ah,0,ns,Wa))break r;for(Wa=Wa[0],Pa.xc=Na,tn=0;tn<jd;++tn){var _u=Wa[tn]>>8&65535;Wa[tn]=_u,_u>=Mi&&(Mi=_u+1)}}if(Ts.h)break r;for(sr=0;5>sr;++sr){var Vn=wN[sr];!sr&&0<Yr&&(Vn+=1<<Yr),Xs<Vn&&(Xs=Vn)}var v_=s(Mi*bl,C),IN=Mi,DN=s(IN,H);if(DN==null)var _y=null;else t(65536>=IN),_y=DN;var _m=i(Xs);if(_y==null||_m==null||v_==null){ns.a=1;break r}var Sy=v_;for(tn=sa=0;tn<Mi;++tn){var Do=_y[tn],Ld=Do.G,Md=Do.H,jN=0,Ay=1,LN=0;for(sr=0;5>sr;++sr){Vn=wN[sr],Ld[sr]=Sy,Md[sr]=sa,!sr&&0<Yr&&(Vn+=1<<Yr);a:{var Ty,y_=Vn,Ey=ns,Sm=_m,iY=Sy,sY=sa,x_=0,Su=Ey.m,oY=re(Su,1);if(a(Sm,0,0,y_),oY){var lY=re(Su,1)+1,cY=re(Su,1),MN=re(Su,cY==0?1:8);Sm[MN]=1,lY==2&&(Sm[MN=re(Su,8)]=1);var ky=1}else{var RN=i(19),FN=re(Su,4)+4;if(19<FN){Ey.a=3;var Cy=0;break a}for(Ty=0;Ty<FN;++Ty)RN[MK[Ty]]=re(Su,3);var b_=void 0,Am=void 0,$N=Ey,uY=RN,Py=y_,BN=Sm,w_=0,Au=$N.m,VN=8,UN=s(128,C);n:for(;T(UN,0,7,uY,19);){if(re(Au,1)){var fY=2+2*re(Au,3);if((b_=2+re(Au,fY))>Py)break n}else b_=Py;for(Am=0;Am<Py&&b_--;){G(Au);var zN=UN[0+(127&R(Au))];X(Au,Au.u+zN.g);var Rd=zN.value;if(16>Rd)BN[Am++]=Rd,Rd!=0&&(VN=Rd);else{var hY=Rd==16,qN=Rd-16,dY=jK[qN],WN=re(Au,DK[qN])+dY;if(Am+WN>Py)break n;for(var pY=hY?VN:0;0<WN--;)BN[Am++]=pY}}w_=1;break n}w_||($N.a=3),ky=w_}(ky=ky&&!Su.h)&&(x_=T(iY,sY,8,Sm,y_)),ky&&x_!=0?Cy=x_:(Ey.a=3,Cy=0)}if(Cy==0)break r;if(Ay&&LK[sr]==1&&(Ay=Sy[sa].g==0),jN+=Sy[sa].g,sa+=Cy,3>=sr){var Tm,__=_m[0];for(Tm=1;Tm<Vn;++Tm)_m[Tm]>__&&(__=_m[Tm]);LN+=__}}if(Do.nd=Ay,Do.Qb=0,Ay&&(Do.qb=(Ld[3][Md[3]+0].value<<24|Ld[1][Md[1]+0].value<<16|Ld[2][Md[2]+0].value)>>>0,jN==0&&256>Ld[0][Md[0]+0].value&&(Do.Qb=1,Do.qb+=Ld[0][Md[0]+0].value<<8)),Do.jc=!Do.Qb&&6>LN,Do.jc){var Ny,lc=Do;for(Ny=0;Ny<qa;++Ny){var Tu=Ny,Eu=lc.pd[Tu],Oy=lc.G[0][lc.H[0]+Tu];256<=Oy.value?(Eu.g=Oy.g+256,Eu.value=Oy.value):(Eu.g=0,Eu.value=0,Tu>>=On(Oy,8,Eu),Tu>>=On(lc.G[1][lc.H[1]+Tu],16,Eu),Tu>>=On(lc.G[2][lc.H[2]+Tu],0,Eu),On(lc.G[3][lc.H[3]+Tu],24,Eu))}}}Pa.vc=Wa,Pa.Wb=Mi,Pa.Ya=_y,Pa.yc=v_,ln=1;break t}ln=0}if(!(ce=ln)){U.a=3;break e}if(0<Ue){if(ve.ua=1<<Ue,!Ae(ve.Wa,Ue)){U.a=1,ce=0;break e}}else ve.ua=0;var S_=U,HN=ue,mY=de,A_=S_.s,T_=A_.xc;if(S_.c=HN,S_.i=mY,A_.md=Le(HN,T_),A_.wc=T_==0?-1:(1<<T_)-1,M){U.xb=HK;break e}if((Ce=i(ue*de))==null){U.a=1,ce=0;break e}ce=(ce=be(U,Ce,0,ue,de,de,null))&&!pe.h;break e}return ce?(ae!=null?ae[0]=Ce:(t(Ce==null),t(M)),U.$=0,M||Fe(ve)):Fe(ve),ce}function Ve(x,k){var M=x.c*x.i,U=M+k+16*k;return t(x.c<=k),x.V=i(U),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+k,1)}function We(x,k){var M=x.C,U=k-M,ae=x.V,ce=x.Ba+x.c*M;for(t(k<=x.l.o);0<U;){var ue=16<U?16:U,de=x.l.ma,pe=x.l.width,ve=pe*ue,Ce=de.ca,Ue=de.tb+pe*M,ze=x.Ta,je=x.Ua;le(x,ue,ae,ce),Qn(ze,je,Ce,Ue,ve),ge(de,M,M+ue,Ce,Ue,pe),U-=ue,ae+=ue*x.c,M+=ue}t(M==k),x.C=x.Ma=k}function ut(){this.ub=this.yd=this.td=this.Rb=0}function bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ct(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function mt(){this.Yb=function(){var x=[];return function k(M,U,ae){for(var ce=ae[U],ue=0;ue<ce&&(M.push(ae.length>U+1?[]:0),!(ae.length<U+1));ue++)k(M[ue],U+1,ae)}(x,0,[3,11]),x}()}function St(){this.jb=i(3),this.Wc=o([4,8],mt),this.Xc=o([4,17],mt)}function qt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Sr(){this.ld=this.La=this.dd=this.tc=0}function Ar(){this.Na=this.la=0}function en(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ii(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ao(){this.uc=this.M=this.Nb=0,this.wa=Array(new Sr),this.Y=0,this.ya=Array(new Ii),this.aa=0,this.l=new xs}function ys(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Zi(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new ut,this.Kc=new bt,this.ed=new qt,this.Qa=new Ct,this.Ic=this.$c=this.Aa=0,this.D=new Ao,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ee),this.ia=0,this.pb=s(4,en),this.Pa=new St,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ys),this.Hd=0,this.rb=Array(new Ar),this.sb=0,this.wa=Array(new Sr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ii),this.L=this.aa=0,this.gd=o([4,2],Sr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Va(){var x=new Zi;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,bm||(bm=vd)),x}function vn(x,k,M){return x.a==0&&(x.a=k,x.sc=M,x.cb=0),0}function Vf(x,k,M){return 3<=M&&x[k+0]==157&&x[k+1]==1&&x[k+2]==42}function Uf(x,k){if(x==null)return 0;if(x.a=0,x.sc="OK",k==null)return vn(x,2,"null VP8Io passed to VP8GetHeaders()");var M=k.data,U=k.w,ae=k.ha;if(4>ae)return vn(x,7,"Truncated header.");var ce=M[U+0]|M[U+1]<<8|M[U+2]<<16,ue=x.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return vn(x,3,"Incorrect keyframe parameters.");if(!ue.yd)return vn(x,4,"Frame not displayable.");U+=3,ae-=3;var de=x.Kc;if(ue.Rb){if(7>ae)return vn(x,7,"cannot parse picture header");if(!Vf(M,U,ae))return vn(x,3,"Bad code word");de.c=16383&(M[U+4]<<8|M[U+3]),de.Td=M[U+4]>>6,de.i=16383&(M[U+6]<<8|M[U+5]),de.Ud=M[U+6]>>6,U+=7,ae-=7,x.za=de.c+15>>4,x.Ub=de.i+15>>4,k.width=de.c,k.height=de.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((ce=x.Pa).jb,0,255,ce.jb.length),t((ce=x.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,a(ce.Zb,0,0,ce.Zb.length),a(ce.Lb,0,0,ce.Lb)}if(ue.ub>ae)return vn(x,7,"bad partition length");V(ce=x.m,M,U,ue.ub),U+=ue.ub,ae-=ue.ub,ue.Rb&&(de.Ld=se(ce),de.Kd=se(ce)),de=x.Qa;var pe,ve=x.Pa;if(t(ce!=null),t(de!=null),de.Cb=se(ce),de.Cb){if(de.Bb=se(ce),se(ce)){for(de.Fb=se(ce),pe=0;4>pe;++pe)de.Zb[pe]=se(ce)?te(ce,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=se(ce)?te(ce,6):0}if(de.Bb)for(pe=0;3>pe;++pe)ve.jb[pe]=se(ce)?J(ce,8):255}else de.Bb=0;if(ce.Ka)return vn(x,3,"cannot parse segment header");if((de=x.ed).zd=se(ce),de.Tb=J(ce,6),de.wb=J(ce,3),de.Pc=se(ce),de.Pc&&se(ce)){for(ve=0;4>ve;++ve)se(ce)&&(de.vd[ve]=te(ce,6));for(ve=0;4>ve;++ve)se(ce)&&(de.od[ve]=te(ce,6))}if(x.L=de.Tb==0?0:de.zd?1:2,ce.Ka)return vn(x,3,"cannot parse filter header");var Ce=ae;if(ae=pe=U,U=pe+Ce,de=Ce,x.Xb=(1<<J(x.m,2))-1,Ce<3*(ve=x.Xb))M=7;else{for(pe+=3*ve,de-=3*ve,Ce=0;Ce<ve;++Ce){var Ue=M[ae+0]|M[ae+1]<<8|M[ae+2]<<16;Ue>de&&(Ue=de),V(x.Jc[+Ce],M,pe,Ue),pe+=Ue,de-=Ue,ae+=3}V(x.Jc[+ve],M,pe,de),M=pe<U?0:5}if(M!=0)return vn(x,M,"cannot parse partitions");for(M=J(pe=x.m,7),ae=se(pe)?te(pe,4):0,U=se(pe)?te(pe,4):0,de=se(pe)?te(pe,4):0,ve=se(pe)?te(pe,4):0,pe=se(pe)?te(pe,4):0,Ce=x.Qa,Ue=0;4>Ue;++Ue){if(Ce.Cb){var ze=Ce.Zb[Ue];Ce.Fb||(ze+=M)}else{if(0<Ue){x.pb[Ue]=x.pb[0];continue}ze=M}var je=x.pb[Ue];je.Sc[0]=p_[Ur(ze+ae,127)],je.Sc[1]=m_[Ur(ze+0,127)],je.Eb[0]=2*p_[Ur(ze+U,127)],je.Eb[1]=101581*m_[Ur(ze+de,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=p_[Ur(ze+ve,117)],je.Qc[1]=m_[Ur(ze+pe,127)],je.lc=ze+pe}if(!ue.Rb)return vn(x,4,"Not a key frame.");for(se(ce),ue=x.Pa,M=0;4>M;++M){for(ae=0;8>ae;++ae)for(U=0;3>U;++U)for(de=0;11>de;++de)ve=K(ce,qK[M][ae][U][de])?J(ce,8):UK[M][ae][U][de],ue.Wc[M][ae].Yb[U][de]=ve;for(ae=0;17>ae;++ae)ue.Xc[M][ae]=ue.Wc[M][WK[ae]]}return x.kc=se(ce),x.kc&&(x.Bd=J(ce,8)),x.cb=1}function vd(x,k,M,U,ae,ce,ue){var de=k[ae].Yb[M];for(M=0;16>ae;++ae){if(!K(x,de[M+0]))return ae;for(;!K(x,de[M+1]);)if(de=k[++ae].Yb[0],M=0,ae==16)return 16;var pe=k[ae+1].Yb;if(K(x,de[M+2])){var ve=x,Ce=0;if(K(ve,(ze=de)[(Ue=M)+3]))if(K(ve,ze[Ue+6])){for(de=0,Ue=2*(Ce=K(ve,ze[Ue+8]))+(ze=K(ve,ze[Ue+9+Ce])),Ce=0,ze=BK[Ue];ze[de];++de)Ce+=Ce+K(ve,ze[de]);Ce+=3+(8<<Ue)}else K(ve,ze[Ue+7])?(Ce=7+2*K(ve,165),Ce+=K(ve,145)):Ce=5+K(ve,159);else Ce=K(ve,ze[Ue+4])?3+K(ve,ze[Ue+5]):2;de=pe[2]}else Ce=1,de=pe[1];pe=ue+VK[ae],0>(ve=x).b&&Z(ve);var Ue,ze=ve.b,je=(Ue=ve.Ca>>1)-(ve.I>>ze)>>31;--ve.b,ve.Ca+=je,ve.Ca|=1,ve.I-=(Ue+1&je)<<ze,ce[pe]=((Ce^je)-je)*U[(0<ae)+0]}return 16}function zf(x){var k=x.rb[x.sb-1];k.la=0,k.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function yd(x,k){if(x==null)return 0;if(k==null)return vn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Uf(x,k))return 0;if(t(x.cb),k.ac==null||k.ac(k)){k.ob&&(x.L=0);var M=wy[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=k.v-M>>4,x.zb=k.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=k.o+15+M>>4,x.Hb=k.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var U=x.ed;for(M=0;4>M;++M){var ae;if(x.Qa.Cb){var ce=x.Qa.Lb[M];x.Qa.Fb||(ce+=U.Tb)}else ce=U.Tb;for(ae=0;1>=ae;++ae){var ue=x.gd[M][ae],de=ce;if(U.Pc&&(de+=U.vd[0],ae&&(de+=U.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<U.wb&&(pe=4<U.wb?pe>>2:pe>>1)>9-U.wb&&(pe=9-U.wb),1>pe&&(pe=1),ue.dd=pe,ue.tc=2*de+pe,ue.ld=40<=de?2:15<=de?1:0}else ue.tc=0;ue.La=ae}}}M=0}else vn(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=aY);e:{M=x.Ic,U=4*(pe=x.za);var ve=32*pe,Ce=pe+1,Ue=0<x.L?pe*(0<x.Aa?2:1):0,ze=(x.Aa==2?2:1)*pe;if((ue=U+832+(ae=3*(16*M+wy[x.L])/2*ve)+(ce=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=ue)M=0;else{if(ue>x.Vb){if(x.Vb=0,x.Ec=i(ue),x.Fc=0,x.Ec==null){M=vn(x,1,"no memory during frame initialization.");break e}x.Vb=ue}ue=x.Ec,de=x.Fc,x.Ac=ue,x.Bc=de,de+=U,x.Gd=s(ve,ys),x.Hd=0,x.rb=s(Ce+1,Ar),x.sb=1,x.wa=Ue?s(Ue,Sr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=ue,x.pc=de,de+=832,x.ya=s(ze,Ii),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(ve=wy[x.L])*x.R,ve=ve/2*x.B,x.sa=ue,x.ta=de+pe,x.qa=x.sa,x.ra=x.ta+16*M*x.R+ve,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+ve,x.$c=0,de+=ae,x.mb=ce?ue:null,x.nb=ce?de:null,t(de+ce<=x.Fc+x.Vb),zf(x),a(x.Ac,x.Bc,0,U),M=1}}if(M){if(k.ka=0,k.y=x.sa,k.O=x.ta,k.f=x.qa,k.N=x.ra,k.ea=x.Ha,k.Vd=x.Ia,k.fa=x.R,k.Rc=x.B,k.F=null,k.J=0,!hy){for(M=-255;255>=M;++M)ya[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)ic[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)xm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Dd[255+M]=0>M?0:255<M?255:M;hy=1}Nd=Ql,ac=tu,gm=qf,Li=Gr,Ws=Xl,Xn=Yl,Od=lu,fy=Po,vm=uu,eh=Jf,th=cu,yu=Zl,rh=fu,Id=gl,nh=Jl,xu=_s,ym=va,Hs=Sd,Io[0]=zs,Io[1]=cm,Io[2]=pl,Io[3]=fm,Io[4]=wd,Io[5]=au,Io[6]=bs,Io[7]=Hf,Io[8]=su,Io[9]=iu,bu[0]=dl,bu[1]=um,bu[2]=Eo,bu[3]=ru,bu[4]=yn,bu[5]=bd,bu[6]=Wf,sc[0]=Co,sc[1]=xd,sc[2]=_d,sc[3]=ko,sc[4]=Vr,sc[5]=Gf,sc[6]=Kf,M=1}else M=0}M&&(M=function(je,it){for(je.M=0;je.M<je.Va;++je.M){var Ke,Pe=je.Jc[je.M&je.Xb],Oe=je.m,tt=je;for(Ke=0;Ke<tt.za;++Ke){var lt=Oe,at=tt,It=at.Ac,Tt=at.Bc+4*Ke,zt=at.zc,Nt=at.ya[at.aa+Ke];if(at.Qa.Bb?Nt.$b=K(lt,at.Pa.jb[0])?2+K(lt,at.Pa.jb[2]):K(lt,at.Pa.jb[1]):Nt.$b=0,at.kc&&(Nt.Ad=K(lt,at.Bd)),Nt.Za=!K(lt,145)+0,Nt.Za){var Rr=Nt.Ob,Kr=0;for(at=0;4>at;++at){var Ir,gr=zt[0+at];for(Ir=0;4>Ir;++Ir){gr=zK[It[Tt+Ir]][gr];for(var ln=_N[K(lt,gr[0])];0<ln;)ln=_N[2*ln+K(lt,gr[ln])];gr=-ln,It[Tt+Ir]=gr}n(Rr,Kr,It,Tt,4),Kr+=4,zt[0+at]=gr}}else gr=K(lt,156)?K(lt,128)?1:3:K(lt,163)?2:0,Nt.Ob[0]=gr,a(It,Tt,gr,4),a(zt,0,gr,4);Nt.Dd=K(lt,142)?K(lt,114)?K(lt,183)?1:3:2:0}if(tt.m.Ka)return vn(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(tt=Pe,lt=(Oe=je).rb[Oe.sb-1],It=Oe.rb[Oe.sb+Oe.ja],Ke=Oe.ya[Oe.aa+Oe.ja],Tt=Oe.kc?Ke.Ad:0)lt.la=It.la=0,Ke.Za||(lt.Na=It.Na=0),Ke.Hc=0,Ke.Gc=0,Ke.ia=0;else{var tn,sr;if(lt=It,It=tt,Tt=Oe.Pa.Xc,zt=Oe.ya[Oe.aa+Oe.ja],Nt=Oe.pb[zt.$b],at=zt.ad,Rr=0,Kr=Oe.rb[Oe.sb-1],gr=Ir=0,a(at,Rr,0,384),zt.Za)var sa=0,ns=Tt[3];else{ln=i(16);var oa=lt.Na+Kr.Na;if(oa=bm(It,Tt[1],oa,Nt.Eb,0,ln,0),lt.Na=Kr.Na=(0<oa)+0,1<oa)Nd(ln,0,at,Rr);else{var as=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)at[Rr+ln]=as}sa=1,ns=Tt[0]}var Yr=15&lt.la,As=15&Kr.la;for(ln=0;4>ln;++ln){var Ts=1&As;for(as=sr=0;4>as;++as)Yr=Yr>>1|(Ts=(oa=bm(It,ns,oa=Ts+(1&Yr),Nt.Sc,sa,at,Rr))>sa)<<7,sr=sr<<2|(3<oa?3:1<oa?2:at[Rr+0]!=0),Rr+=16;Yr>>=4,As=As>>1|Ts<<7,Ir=(Ir<<8|sr)>>>0}for(ns=Yr,sa=As>>4,tn=0;4>tn;tn+=2){for(sr=0,Yr=lt.la>>4+tn,As=Kr.la>>4+tn,ln=0;2>ln;++ln){for(Ts=1&As,as=0;2>as;++as)oa=Ts+(1&Yr),Yr=Yr>>1|(Ts=0<(oa=bm(It,Tt[2],oa,Nt.Qc,0,at,Rr)))<<3,sr=sr<<2|(3<oa?3:1<oa?2:at[Rr+0]!=0),Rr+=16;Yr>>=2,As=As>>1|Ts<<5}gr|=sr<<4*tn,ns|=Yr<<4<<tn,sa|=(240&As)<<tn}lt.la=ns,Kr.la=sa,zt.Hc=Ir,zt.Gc=gr,zt.ia=43690&gr?0:Nt.ia,Tt=!(Ir|gr)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[Ke.$b][Ke.Za],Oe.wa[Oe.Y+Oe.ja].La|=!Tt),tt.Ka)return vn(je,7,"Premature end-of-file encountered.")}if(zf(je),Oe=it,tt=1,Ke=(Pe=je).D,lt=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(Ke.M=Pe.M,Ke.uc=lt,yl(Pe,Ke),tt=1,Ke=(sr=Pe.D).Nb,lt=(gr=wy[Pe.L])*Pe.R,It=gr/2*Pe.B,ln=16*Ke*Pe.R,as=8*Ke*Pe.B,Tt=Pe.sa,zt=Pe.ta-lt+ln,Nt=Pe.qa,at=Pe.ra-It+as,Rr=Pe.Ha,Kr=Pe.Ia-It+as,As=(Yr=sr.M)==0,Ir=Yr>=Pe.Va-1,Pe.Aa==2&&yl(Pe,sr),sr.uc)for(Ts=(oa=Pe).D.M,t(oa.D.uc),sr=oa.yb;sr<oa.Hb;++sr){sa=sr,ns=Ts;var Pa=(Wa=(Vn=oa).D).Nb;tn=Vn.R;var Wa=Wa.wa[Wa.Y+sa],Mi=Vn.sa,Xs=Vn.ta+16*Pa*tn+16*sa,bl=Wa.dd,Na=Wa.tc;if(Na!=0)if(t(3<=Na),Vn.L==1)0<sa&&xu(Mi,Xs,tn,Na+4),Wa.La&&Hs(Mi,Xs,tn,Na),0<ns&&nh(Mi,Xs,tn,Na+4),Wa.La&&ym(Mi,Xs,tn,Na);else{var oc=Vn.B,ah=Vn.qa,jd=Vn.ra+8*Pa*oc+8*sa,_u=Vn.Ha,Vn=Vn.Ia+8*Pa*oc+8*sa;Pa=Wa.ld,0<sa&&(fy(Mi,Xs,tn,Na+4,bl,Pa),eh(ah,jd,_u,Vn,oc,Na+4,bl,Pa)),Wa.La&&(yu(Mi,Xs,tn,Na,bl,Pa),Id(ah,jd,_u,Vn,oc,Na,bl,Pa)),0<ns&&(Od(Mi,Xs,tn,Na+4,bl,Pa),vm(ah,jd,_u,Vn,oc,Na+4,bl,Pa)),Wa.La&&(th(Mi,Xs,tn,Na,bl,Pa),rh(ah,jd,_u,Vn,oc,Na,bl,Pa))}}if(Pe.ia&&alert("todo:DitherRow"),Oe.put!=null){if(sr=16*Yr,Yr=16*(Yr+1),As?(Oe.y=Pe.sa,Oe.O=Pe.ta+ln,Oe.f=Pe.qa,Oe.N=Pe.ra+as,Oe.ea=Pe.Ha,Oe.W=Pe.Ia+as):(sr-=gr,Oe.y=Tt,Oe.O=zt,Oe.f=Nt,Oe.N=at,Oe.ea=Rr,Oe.W=Kr),Ir||(Yr-=gr),Yr>Oe.o&&(Yr=Oe.o),Oe.F=null,Oe.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&sr<Yr&&(Oe.J=mu(Pe,Oe,sr,Yr-sr),Oe.F=Pe.mb,Oe.F==null&&Oe.F.length==0)){tt=vn(Pe,3,"Could not decode alpha data.");break e}sr<Oe.j&&(gr=Oe.j-sr,sr=Oe.j,t(!(1&gr)),Oe.O+=Pe.R*gr,Oe.N+=Pe.B*(gr>>1),Oe.W+=Pe.B*(gr>>1),Oe.F!=null&&(Oe.J+=Oe.width*gr)),sr<Yr&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=sr-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=Yr-sr,tt=Oe.put(Oe))}Ke+1!=Pe.Ic||Ir||(n(Pe.sa,Pe.ta-lt,Tt,zt+16*Pe.R,lt),n(Pe.qa,Pe.ra-It,Nt,at+8*Pe.B,It),n(Pe.Ha,Pe.Ia-It,Rr,Kr+8*Pe.B,It))}if(!tt)return vn(je,6,"Output aborted.")}return 1}(x,k)),k.bc!=null&&k.bc(k),M&=1}return M?(x.cb=0,M):0}function es(x,k,M,U,ae){ae=x[k+M+32*U]+(ae>>3),x[k+M+32*U]=-256&ae?0>ae?0:255:ae}function eu(x,k,M,U,ae,ce){es(x,k,0,M,U+ae),es(x,k,1,M,U+ce),es(x,k,2,M,U-ce),es(x,k,3,M,U-ae)}function Bn(x){return(20091*x>>16)+x}function Di(x,k,M,U){var ae,ce=0,ue=i(16);for(ae=0;4>ae;++ae){var de=x[k+0]+x[k+8],pe=x[k+0]-x[k+8],ve=(35468*x[k+4]>>16)-Bn(x[k+12]),Ce=Bn(x[k+4])+(35468*x[k+12]>>16);ue[ce+0]=de+Ce,ue[ce+1]=pe+ve,ue[ce+2]=pe-ve,ue[ce+3]=de-Ce,ce+=4,k++}for(ae=ce=0;4>ae;++ae)de=(x=ue[ce+0]+4)+ue[ce+8],pe=x-ue[ce+8],ve=(35468*ue[ce+4]>>16)-Bn(ue[ce+12]),es(M,U,0,0,de+(Ce=Bn(ue[ce+4])+(35468*ue[ce+12]>>16))),es(M,U,1,0,pe+ve),es(M,U,2,0,pe-ve),es(M,U,3,0,de-Ce),ce++,U+=32}function Yl(x,k,M,U){var ae=x[k+0]+4,ce=35468*x[k+4]>>16,ue=Bn(x[k+4]),de=35468*x[k+1]>>16;eu(M,U,0,ae+ue,x=Bn(x[k+1]),de),eu(M,U,1,ae+ce,x,de),eu(M,U,2,ae-ce,x,de),eu(M,U,3,ae-ue,x,de)}function tu(x,k,M,U,ae){Di(x,k,M,U),ae&&Di(x,k+16,M,U+4)}function qf(x,k,M,U){ac(x,k+0,M,U,1),ac(x,k+32,M,U+128,1)}function Gr(x,k,M,U){var ae;for(x=x[k+0]+4,ae=0;4>ae;++ae)for(k=0;4>k;++k)es(M,U,k,ae,x)}function Xl(x,k,M,U){x[k+0]&&Li(x,k+0,M,U),x[k+16]&&Li(x,k+16,M,U+4),x[k+32]&&Li(x,k+32,M,U+128),x[k+48]&&Li(x,k+48,M,U+128+4)}function Ql(x,k,M,U){var ae,ce=i(16);for(ae=0;4>ae;++ae){var ue=x[k+0+ae]+x[k+12+ae],de=x[k+4+ae]+x[k+8+ae],pe=x[k+4+ae]-x[k+8+ae],ve=x[k+0+ae]-x[k+12+ae];ce[0+ae]=ue+de,ce[8+ae]=ue-de,ce[4+ae]=ve+pe,ce[12+ae]=ve-pe}for(ae=0;4>ae;++ae)ue=(x=ce[0+4*ae]+3)+ce[3+4*ae],de=ce[1+4*ae]+ce[2+4*ae],pe=ce[1+4*ae]-ce[2+4*ae],ve=x-ce[3+4*ae],M[U+0]=ue+de>>3,M[U+16]=ve+pe>>3,M[U+32]=ue-de>>3,M[U+48]=ve-pe>>3,U+=64}function To(x,k,M){var U,ae=k-32,ce=Ss,ue=255-x[ae-1];for(U=0;U<M;++U){var de,pe=ce,ve=ue+x[k-1];for(de=0;de<M;++de)x[k+de]=pe[ve+x[ae+de]];k+=32}}function cm(x,k){To(x,k,4)}function xd(x,k){To(x,k,8)}function um(x,k){To(x,k,16)}function Eo(x,k){var M;for(M=0;16>M;++M)n(x,k+32*M,x,k-32,16)}function ru(x,k){var M;for(M=16;0<M;--M)a(x,k,x[k-1],16),k+=32}function nu(x,k,M){var U;for(U=0;16>U;++U)a(k,M+32*U,x,16)}function dl(x,k){var M,U=16;for(M=0;16>M;++M)U+=x[k-1+32*M]+x[k+M-32];nu(U>>5,x,k)}function yn(x,k){var M,U=8;for(M=0;16>M;++M)U+=x[k-1+32*M];nu(U>>4,x,k)}function bd(x,k){var M,U=8;for(M=0;16>M;++M)U+=x[k+M-32];nu(U>>4,x,k)}function Wf(x,k){nu(128,x,k)}function Xt(x,k,M){return x+2*k+M+2>>2}function pl(x,k){var M,U=k-32;for(U=new Uint8Array([Xt(x[U-1],x[U+0],x[U+1]),Xt(x[U+0],x[U+1],x[U+2]),Xt(x[U+1],x[U+2],x[U+3]),Xt(x[U+2],x[U+3],x[U+4])]),M=0;4>M;++M)n(x,k+32*M,U,0,U.length)}function fm(x,k){var M=x[k-1],U=x[k-1+32],ae=x[k-1+64],ce=x[k-1+96];oe(x,k+0,16843009*Xt(x[k-1-32],M,U)),oe(x,k+32,16843009*Xt(M,U,ae)),oe(x,k+64,16843009*Xt(U,ae,ce)),oe(x,k+96,16843009*Xt(ae,ce,ce))}function zs(x,k){var M,U=4;for(M=0;4>M;++M)U+=x[k+M-32]+x[k-1+32*M];for(U>>=3,M=0;4>M;++M)a(x,k+32*M,U,4)}function wd(x,k){var M=x[k-1+0],U=x[k-1+32],ae=x[k-1+64],ce=x[k-1-32],ue=x[k+0-32],de=x[k+1-32],pe=x[k+2-32],ve=x[k+3-32];x[k+0+96]=Xt(U,ae,x[k-1+96]),x[k+1+96]=x[k+0+64]=Xt(M,U,ae),x[k+2+96]=x[k+1+64]=x[k+0+32]=Xt(ce,M,U),x[k+3+96]=x[k+2+64]=x[k+1+32]=x[k+0+0]=Xt(ue,ce,M),x[k+3+64]=x[k+2+32]=x[k+1+0]=Xt(de,ue,ce),x[k+3+32]=x[k+2+0]=Xt(pe,de,ue),x[k+3+0]=Xt(ve,pe,de)}function bs(x,k){var M=x[k+1-32],U=x[k+2-32],ae=x[k+3-32],ce=x[k+4-32],ue=x[k+5-32],de=x[k+6-32],pe=x[k+7-32];x[k+0+0]=Xt(x[k+0-32],M,U),x[k+1+0]=x[k+0+32]=Xt(M,U,ae),x[k+2+0]=x[k+1+32]=x[k+0+64]=Xt(U,ae,ce),x[k+3+0]=x[k+2+32]=x[k+1+64]=x[k+0+96]=Xt(ae,ce,ue),x[k+3+32]=x[k+2+64]=x[k+1+96]=Xt(ce,ue,de),x[k+3+64]=x[k+2+96]=Xt(ue,de,pe),x[k+3+96]=Xt(de,pe,pe)}function au(x,k){var M=x[k-1+0],U=x[k-1+32],ae=x[k-1+64],ce=x[k-1-32],ue=x[k+0-32],de=x[k+1-32],pe=x[k+2-32],ve=x[k+3-32];x[k+0+0]=x[k+1+64]=ce+ue+1>>1,x[k+1+0]=x[k+2+64]=ue+de+1>>1,x[k+2+0]=x[k+3+64]=de+pe+1>>1,x[k+3+0]=pe+ve+1>>1,x[k+0+96]=Xt(ae,U,M),x[k+0+64]=Xt(U,M,ce),x[k+0+32]=x[k+1+96]=Xt(M,ce,ue),x[k+1+32]=x[k+2+96]=Xt(ce,ue,de),x[k+2+32]=x[k+3+96]=Xt(ue,de,pe),x[k+3+32]=Xt(de,pe,ve)}function Hf(x,k){var M=x[k+0-32],U=x[k+1-32],ae=x[k+2-32],ce=x[k+3-32],ue=x[k+4-32],de=x[k+5-32],pe=x[k+6-32],ve=x[k+7-32];x[k+0+0]=M+U+1>>1,x[k+1+0]=x[k+0+64]=U+ae+1>>1,x[k+2+0]=x[k+1+64]=ae+ce+1>>1,x[k+3+0]=x[k+2+64]=ce+ue+1>>1,x[k+0+32]=Xt(M,U,ae),x[k+1+32]=x[k+0+96]=Xt(U,ae,ce),x[k+2+32]=x[k+1+96]=Xt(ae,ce,ue),x[k+3+32]=x[k+2+96]=Xt(ce,ue,de),x[k+3+64]=Xt(ue,de,pe),x[k+3+96]=Xt(de,pe,ve)}function iu(x,k){var M=x[k-1+0],U=x[k-1+32],ae=x[k-1+64],ce=x[k-1+96];x[k+0+0]=M+U+1>>1,x[k+2+0]=x[k+0+32]=U+ae+1>>1,x[k+2+32]=x[k+0+64]=ae+ce+1>>1,x[k+1+0]=Xt(M,U,ae),x[k+3+0]=x[k+1+32]=Xt(U,ae,ce),x[k+3+32]=x[k+1+64]=Xt(ae,ce,ce),x[k+3+64]=x[k+2+64]=x[k+0+96]=x[k+1+96]=x[k+2+96]=x[k+3+96]=ce}function su(x,k){var M=x[k-1+0],U=x[k-1+32],ae=x[k-1+64],ce=x[k-1+96],ue=x[k-1-32],de=x[k+0-32],pe=x[k+1-32],ve=x[k+2-32];x[k+0+0]=x[k+2+32]=M+ue+1>>1,x[k+0+32]=x[k+2+64]=U+M+1>>1,x[k+0+64]=x[k+2+96]=ae+U+1>>1,x[k+0+96]=ce+ae+1>>1,x[k+3+0]=Xt(de,pe,ve),x[k+2+0]=Xt(ue,de,pe),x[k+1+0]=x[k+3+32]=Xt(M,ue,de),x[k+1+32]=x[k+3+64]=Xt(U,M,ue),x[k+1+64]=x[k+3+96]=Xt(ae,U,M),x[k+1+96]=Xt(ce,ae,U)}function _d(x,k){var M;for(M=0;8>M;++M)n(x,k+32*M,x,k-32,8)}function ko(x,k){var M;for(M=0;8>M;++M)a(x,k,x[k-1],8),k+=32}function ws(x,k,M){var U;for(U=0;8>U;++U)a(k,M+32*U,x,8)}function Co(x,k){var M,U=8;for(M=0;8>M;++M)U+=x[k+M-32]+x[k-1+32*M];ws(U>>4,x,k)}function Gf(x,k){var M,U=4;for(M=0;8>M;++M)U+=x[k+M-32];ws(U>>3,x,k)}function Vr(x,k){var M,U=4;for(M=0;8>M;++M)U+=x[k-1+32*M];ws(U>>3,x,k)}function Kf(x,k){ws(128,x,k)}function ou(x,k,M){var U=x[k-M],ae=x[k+0],ce=3*(ae-U)+c_[1020+x[k-2*M]-x[k+M]],ue=dy[112+(ce+4>>3)];x[k-M]=Ss[255+U+dy[112+(ce+3>>3)]],x[k+0]=Ss[255+ae-ue]}function Yf(x,k,M,U){var ae=x[k+0],ce=x[k+M];return Ks[255+x[k-2*M]-x[k-M]]>U||Ks[255+ce-ae]>U}function Xf(x,k,M,U){return 4*Ks[255+x[k-M]-x[k+0]]+Ks[255+x[k-2*M]-x[k+M]]<=U}function Qf(x,k,M,U,ae){var ce=x[k-3*M],ue=x[k-2*M],de=x[k-M],pe=x[k+0],ve=x[k+M],Ce=x[k+2*M],Ue=x[k+3*M];return 4*Ks[255+de-pe]+Ks[255+ue-ve]>U?0:Ks[255+x[k-4*M]-ce]<=ae&&Ks[255+ce-ue]<=ae&&Ks[255+ue-de]<=ae&&Ks[255+Ue-Ce]<=ae&&Ks[255+Ce-ve]<=ae&&Ks[255+ve-pe]<=ae}function Jl(x,k,M,U){var ae=2*U+1;for(U=0;16>U;++U)Xf(x,k+U,M,ae)&&ou(x,k+U,M)}function _s(x,k,M,U){var ae=2*U+1;for(U=0;16>U;++U)Xf(x,k+U*M,1,ae)&&ou(x,k+U*M,1)}function va(x,k,M,U){var ae;for(ae=3;0<ae;--ae)Jl(x,k+=4*M,M,U)}function Sd(x,k,M,U){var ae;for(ae=3;0<ae;--ae)_s(x,k+=4,M,U)}function ml(x,k,M,U,ae,ce,ue,de){for(ce=2*ce+1;0<ae--;){if(Qf(x,k,M,ce,ue))if(Yf(x,k,M,de))ou(x,k,M);else{var pe=x,ve=k,Ce=M,Ue=pe[ve-2*Ce],ze=pe[ve-Ce],je=pe[ve+0],it=pe[ve+Ce],Ke=pe[ve+2*Ce],Pe=27*(tt=c_[1020+3*(je-ze)+c_[1020+Ue-it]])+63>>7,Oe=18*tt+63>>7,tt=9*tt+63>>7;pe[ve-3*Ce]=Ss[255+pe[ve-3*Ce]+tt],pe[ve-2*Ce]=Ss[255+Ue+Oe],pe[ve-Ce]=Ss[255+ze+Pe],pe[ve+0]=Ss[255+je-Pe],pe[ve+Ce]=Ss[255+it-Oe],pe[ve+2*Ce]=Ss[255+Ke-tt]}k+=U}}function Ua(x,k,M,U,ae,ce,ue,de){for(ce=2*ce+1;0<ae--;){if(Qf(x,k,M,ce,ue))if(Yf(x,k,M,de))ou(x,k,M);else{var pe=x,ve=k,Ce=M,Ue=pe[ve-Ce],ze=pe[ve+0],je=pe[ve+Ce],it=dy[112+((Ke=3*(ze-Ue))+4>>3)],Ke=dy[112+(Ke+3>>3)],Pe=it+1>>1;pe[ve-2*Ce]=Ss[255+pe[ve-2*Ce]+Pe],pe[ve-Ce]=Ss[255+Ue+Ke],pe[ve+0]=Ss[255+ze-it],pe[ve+Ce]=Ss[255+je-Pe]}k+=U}}function lu(x,k,M,U,ae,ce){ml(x,k,M,1,16,U,ae,ce)}function Po(x,k,M,U,ae,ce){ml(x,k,1,M,16,U,ae,ce)}function cu(x,k,M,U,ae,ce){var ue;for(ue=3;0<ue;--ue)Ua(x,k+=4*M,M,1,16,U,ae,ce)}function Zl(x,k,M,U,ae,ce){var ue;for(ue=3;0<ue;--ue)Ua(x,k+=4,1,M,16,U,ae,ce)}function uu(x,k,M,U,ae,ce,ue,de){ml(x,k,ae,1,8,ce,ue,de),ml(M,U,ae,1,8,ce,ue,de)}function Jf(x,k,M,U,ae,ce,ue,de){ml(x,k,1,ae,8,ce,ue,de),ml(M,U,1,ae,8,ce,ue,de)}function fu(x,k,M,U,ae,ce,ue,de){Ua(x,k+4*ae,ae,1,8,ce,ue,de),Ua(M,U+4*ae,ae,1,8,ce,ue,de)}function gl(x,k,M,U,ae,ce,ue,de){Ua(x,k+4,1,ae,8,ce,ue,de),Ua(M,U+4,1,ae,8,ce,ue,de)}function ec(){this.ba=new Nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function du(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new C}function Ad(){this.xb=this.a=0,this.l=new xs,this.ca=new Nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new du,this.ab=0,this.gc=s(4,tc),this.Oc=0}function No(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vl(x,k,M,U,ae,ce,ue){for(x=x==null?0:x[k+0],k=0;k<ue;++k)ae[ce+k]=x+M[U+k]&255,x=ae[ce+k]}function pu(x,k,M,U,ae,ce,ue){var de;if(x==null)vl(null,null,M,U,ae,ce,ue);else for(de=0;de<ue;++de)ae[ce+de]=x[k+de]+M[U+de]&255}function si(x,k,M,U,ae,ce,ue){if(x==null)vl(null,null,M,U,ae,ce,ue);else{var de,pe=x[k+0],ve=pe,Ce=pe;for(de=0;de<ue;++de)ve=Ce+(pe=x[k+de])-ve,Ce=M[U+de]+(-256&ve?0>ve?0:255:ve)&255,ve=pe,ae[ce+de]=Ce}}function mu(x,k,M,U){var ae=k.width,ce=k.o;if(t(x!=null&&k!=null),0>M||0>=U||M+U>ce)return null;if(!x.Cc){if(x.ga==null){var ue;if(x.ga=new No,(ue=x.ga==null)||(ue=k.width*k.o,t(x.Gb.length==0),x.Gb=i(ue),x.Uc=0,x.Gb==null?ue=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ue=1),ue=!ue),!ue){ue=x.ga;var de=x.Fa,pe=x.P,ve=x.qc,Ce=x.mb,Ue=x.nb,ze=pe+1,je=ve-1,it=ue.l;if(t(de!=null&&Ce!=null&&k!=null),wu[0]=null,wu[1]=vl,wu[2]=pu,wu[3]=si,ue.ca=Ce,ue.tb=Ue,ue.c=k.width,ue.i=k.height,t(0<ue.c&&0<ue.i),1>=ve)k=0;else if(ue.$a=de[pe+0]>>0&3,ue.Z=de[pe+0]>>2&3,ue.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||pe)k=0;else if(it.put=Ca,it.ac=Fn,it.bc=Oi,it.ma=ue,it.width=k.width,it.height=k.height,it.Da=k.Da,it.v=k.v,it.va=k.va,it.j=k.j,it.o=k.o,ue.$a)e:{t(ue.$a==1),k=He();t:for(;;){if(k==null){k=0;break e}if(t(ue!=null),ue.mc=k,k.c=ue.c,k.i=ue.i,k.l=ue.l,k.l.ma=ue,k.l.width=ue.c,k.l.height=ue.i,k.a=0,q(k.m,de,ze,je),!$e(ue.c,ue.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&me(k.s)?(ue.ic=1,de=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(de),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(ue.ic=0,k=Ve(k,ue.c)),!k))break t;k=1;break e}ue.mc=null,k=0}else k=je>=ue.c*ue.i;ue=!k}if(ue)return null;x.ga.Lc!=1?x.Ga=0:U=ce-M}t(x.ga!=null),t(M+U<=ce);e:{if(k=(de=x.ga).c,ce=de.l.o,de.$a==0){if(ze=x.rc,je=x.Vc,it=x.Fa,pe=x.P+1+M*k,ve=x.mb,Ce=x.nb+M*k,t(pe<=x.P+x.qc),de.Z!=0)for(t(wu[de.Z]!=null),ue=0;ue<U;++ue)wu[de.Z](ze,je,it,pe,ve,Ce,k),ze=ve,je=Ce,Ce+=k,pe+=k;else for(ue=0;ue<U;++ue)n(ve,Ce,it,pe,k),ze=ve,je=Ce,Ce+=k,pe+=k;x.rc=ze,x.Vc=je}else{if(t(de.mc!=null),k=M+U,t((ue=de.mc)!=null),t(k<=ue.i),ue.C>=k)k=1;else if(de.ic||De(),de.ic){de=ue.V,ze=ue.Ba,je=ue.c;var Ke=ue.i,Pe=(it=1,pe=ue.$/je,ve=ue.$%je,Ce=ue.m,Ue=ue.s,ue.$),Oe=je*Ke,tt=je*k,lt=Ue.wc,at=Pe<tt?Tn(Ue,ve,pe):null;t(Pe<=Oe),t(k<=Ke),t(me(Ue));t:for(;;){for(;!Ce.h&&Pe<tt;){if(ve&lt||(at=Tn(Ue,ve,pe)),t(at!=null),G(Ce),256>(Ke=$n(at.G[0],at.H[0],Ce)))de[ze+Pe]=Ke,++Pe,++ve>=je&&(ve=0,++pe<=k&&!(pe%16)&&ye(ue,pe));else{if(!(280>Ke)){it=0;break t}Ke=ii(Ke-256,Ce);var It,Tt=$n(at.G[4],at.H[4],Ce);if(G(Ce),!(Pe>=(Tt=ia(je,Tt=ii(Tt,Ce)))&&Oe-Pe>=Ke)){it=0;break t}for(It=0;It<Ke;++It)de[ze+Pe+It]=de[ze+Pe+It-Tt];for(Pe+=Ke,ve+=Ke;ve>=je;)ve-=je,++pe<=k&&!(pe%16)&&ye(ue,pe);Pe<tt&&ve&lt&&(at=Tn(Ue,ve,pe))}t(Ce.h==z(Ce))}ye(ue,pe>k?k:pe);break t}!it||Ce.h&&Pe<Oe?(it=0,ue.a=Ce.h?5:3):ue.$=Pe,k=it}else k=be(ue,ue.V,ue.Ba,ue.c,ue.i,k,We);if(!k){U=0;break e}}M+U>=ce&&(x.Cc=1),U=1}if(!U)return null;if(x.Cc&&((U=x.ga)!=null&&(U.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*ae}function j(x,k,M,U,ae,ce){for(;0<ae--;){var ue,de=x,pe=k+(M?1:0),ve=x,Ce=k+(M?0:3);for(ue=0;ue<U;++ue){var Ue=ve[Ce+4*ue];Ue!=255&&(Ue*=32897,de[pe+4*ue+0]=de[pe+4*ue+0]*Ue>>23,de[pe+4*ue+1]=de[pe+4*ue+1]*Ue>>23,de[pe+4*ue+2]=de[pe+4*ue+2]*Ue>>23)}k+=ce}}function ne(x,k,M,U,ae){for(;0<U--;){var ce;for(ce=0;ce<M;++ce){var ue=x[k+2*ce+0],de=15&(ve=x[k+2*ce+1]),pe=4369*de,ve=(240&ve|ve>>4)*pe>>16;x[k+2*ce+0]=(240&ue|ue>>4)*pe>>16&240|(15&ue|ue<<4)*pe>>16>>4&15,x[k+2*ce+1]=240&ve|de}k+=ae}}function we(x,k,M,U,ae,ce,ue,de){var pe,ve,Ce=255;for(ve=0;ve<ae;++ve){for(pe=0;pe<U;++pe){var Ue=x[k+pe];ce[ue+4*pe]=Ue,Ce&=Ue}k+=M,ue+=de}return Ce!=255}function Te(x,k,M,U,ae){var ce;for(ce=0;ce<ae;++ce)M[U+ce]=x[k+ce]>>8}function De(){Gs=j,fn=ne,hn=we,Qn=Te}function Qe(x,k,M){A[x]=function(U,ae,ce,ue,de,pe,ve,Ce,Ue,ze,je,it,Ke,Pe,Oe,tt,lt){var at,It=lt-1>>1,Tt=de[pe+0]|ve[Ce+0]<<16,zt=Ue[ze+0]|je[it+0]<<16;t(U!=null);var Nt=3*Tt+zt+131074>>2;for(k(U[ae+0],255&Nt,Nt>>16,Ke,Pe),ce!=null&&(Nt=3*zt+Tt+131074>>2,k(ce[ue+0],255&Nt,Nt>>16,Oe,tt)),at=1;at<=It;++at){var Rr=de[pe+at]|ve[Ce+at]<<16,Kr=Ue[ze+at]|je[it+at]<<16,Ir=Tt+Rr+zt+Kr+524296,gr=Ir+2*(Rr+zt)>>3;Nt=gr+Tt>>1,Tt=(Ir=Ir+2*(Tt+Kr)>>3)+Rr>>1,k(U[ae+2*at-1],255&Nt,Nt>>16,Ke,Pe+(2*at-1)*M),k(U[ae+2*at-0],255&Tt,Tt>>16,Ke,Pe+(2*at-0)*M),ce!=null&&(Nt=Ir+zt>>1,Tt=gr+Kr>>1,k(ce[ue+2*at-1],255&Nt,Nt>>16,Oe,tt+(2*at-1)*M),k(ce[ue+2*at+0],255&Tt,Tt>>16,Oe,tt+(2*at+0)*M)),Tt=Rr,zt=Kr}1&lt||(Nt=3*Tt+zt+131074>>2,k(U[ae+lt-1],255&Nt,Nt>>16,Ke,Pe+(lt-1)*M),ce!=null&&(Nt=3*zt+Tt+131074>>2,k(ce[ue+lt-1],255&Nt,Nt>>16,Oe,tt+(lt-1)*M)))}}function ft(){Ys[py]=GK,Ys[my]=AN,Ys[xN]=KK,Ys[gy]=TN,Ys[vy]=EN,Ys[u_]=kN,Ys[bN]=YK,Ys[f_]=AN,Ys[h_]=TN,Ys[yy]=EN,Ys[d_]=kN}function Et(x){return x&~XK?0>x?0:255:x>>CN}function _(x,k){return Et((19077*x>>8)+(26149*k>>8)-14234)}function F(x,k,M){return Et((19077*x>>8)-(6419*k>>8)-(13320*M>>8)+8708)}function Y(x,k){return Et((19077*x>>8)+(33050*k>>8)-17685)}function he(x,k,M,U,ae){U[ae+0]=_(x,M),U[ae+1]=F(x,k,M),U[ae+2]=Y(x,k)}function Ie(x,k,M,U,ae){U[ae+0]=Y(x,k),U[ae+1]=F(x,k,M),U[ae+2]=_(x,M)}function qe(x,k,M,U,ae){var ce=F(x,k,M);k=ce<<3&224|Y(x,k)>>3,U[ae+0]=248&_(x,M)|ce>>5,U[ae+1]=k}function ht(x,k,M,U,ae){var ce=240&Y(x,k)|15;U[ae+0]=240&_(x,M)|F(x,k,M)>>4,U[ae+1]=ce}function rr(x,k,M,U,ae){U[ae+0]=255,he(x,k,M,U,ae+1)}function mr(x,k,M,U,ae){Ie(x,k,M,U,ae),U[ae+3]=255}function nr(x,k,M,U,ae){he(x,k,M,U,ae),U[ae+3]=255}function Ur(x,k){return 0>x?0:x>k?k:x}function on(x,k,M){A[x]=function(U,ae,ce,ue,de,pe,ve,Ce,Ue){for(var ze=Ce+(-2&Ue)*M;Ce!=ze;)k(U[ae+0],ce[ue+0],de[pe+0],ve,Ce),k(U[ae+1],ce[ue+0],de[pe+0],ve,Ce+M),ae+=2,++ue,++pe,Ce+=2*M;1&Ue&&k(U[ae+0],ce[ue+0],de[pe+0],ve,Ce)}}function Oo(x,k,M){return M==0?x==0?k==0?6:5:k==0?4:0:M}function za(x,k,M,U,ae){switch(x>>>30){case 3:ac(k,M,U,ae,0);break;case 2:Xn(k,M,U,ae);break;case 1:Li(k,M,U,ae)}}function yl(x,k){var M,U,ae=k.M,ce=k.Nb,ue=x.oc,de=x.pc+40,pe=x.oc,ve=x.pc+584,Ce=x.oc,Ue=x.pc+600;for(M=0;16>M;++M)ue[de+32*M-1]=129;for(M=0;8>M;++M)pe[ve+32*M-1]=129,Ce[Ue+32*M-1]=129;for(0<ae?ue[de-1-32]=pe[ve-1-32]=Ce[Ue-1-32]=129:(a(ue,de-32-1,127,21),a(pe,ve-32-1,127,9),a(Ce,Ue-32-1,127,9)),U=0;U<x.za;++U){var ze=k.ya[k.aa+U];if(0<U){for(M=-1;16>M;++M)n(ue,de+32*M-4,ue,de+32*M+12,4);for(M=-1;8>M;++M)n(pe,ve+32*M-4,pe,ve+32*M+4,4),n(Ce,Ue+32*M-4,Ce,Ue+32*M+4,4)}var je=x.Gd,it=x.Hd+U,Ke=ze.ad,Pe=ze.Hc;if(0<ae&&(n(ue,de-32,je[it].y,0,16),n(pe,ve-32,je[it].f,0,8),n(Ce,Ue-32,je[it].ea,0,8)),ze.Za){var Oe=ue,tt=de-32+16;for(0<ae&&(U>=x.za-1?a(Oe,tt,je[it].y[15],4):n(Oe,tt,je[it+1].y,0,4)),M=0;4>M;M++)Oe[tt+128+M]=Oe[tt+256+M]=Oe[tt+384+M]=Oe[tt+0+M];for(M=0;16>M;++M,Pe<<=2)Oe=ue,tt=de+NN[M],Io[ze.Ob[M]](Oe,tt),za(Pe,Ke,16*+M,Oe,tt)}else if(Oe=Oo(U,ae,ze.Ob[0]),bu[Oe](ue,de),Pe!=0)for(M=0;16>M;++M,Pe<<=2)za(Pe,Ke,16*+M,ue,de+NN[M]);for(M=ze.Gc,Oe=Oo(U,ae,ze.Dd),sc[Oe](pe,ve),sc[Oe](Ce,Ue),Pe=Ke,Oe=pe,tt=ve,255&(ze=M>>0)&&(170&ze?gm(Pe,256,Oe,tt):Ws(Pe,256,Oe,tt)),ze=Ce,Pe=Ue,255&(M>>=8)&&(170&M?gm(Ke,320,ze,Pe):Ws(Ke,320,ze,Pe)),ae<x.Ub-1&&(n(je[it].y,0,ue,de+480,16),n(je[it].f,0,pe,ve+224,8),n(je[it].ea,0,Ce,Ue+224,8)),M=8*ce*x.B,je=x.sa,it=x.ta+16*U+16*ce*x.R,Ke=x.qa,ze=x.ra+8*U+M,Pe=x.Ha,Oe=x.Ia+8*U+M,M=0;16>M;++M)n(je,it+M*x.R,ue,de+32*M,16);for(M=0;8>M;++M)n(Ke,ze+M*x.B,pe,ve+32*M,8),n(Pe,Oe+M*x.B,Ce,Ue+32*M,8)}}function xl(x,k,M,U,ae,ce,ue,de,pe){var ve=[0],Ce=[0],Ue=0,ze=pe!=null?pe.kd:0,je=pe??new hu;if(x==null||12>M)return 7;je.data=x,je.w=k,je.ha=M,k=[k],M=[M],je.gb=[je.gb];e:{var it=k,Ke=M,Pe=je.gb;if(t(x!=null),t(Ke!=null),t(Pe!=null),Pe[0]=0,12<=Ke[0]&&!r(x,it[0],"RIFF")){if(r(x,it[0]+8,"WEBP")){Pe=3;break e}var Oe=_e(x,it[0]+4);if(12>Oe||4294967286<Oe){Pe=3;break e}if(ze&&Oe>Ke[0]-8){Pe=7;break e}Pe[0]=Oe,it[0]+=12,Ke[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Oe=0<je.gb[0],M=M[0];;){e:{var tt=x;Ke=k,Pe=M;var lt=ve,at=Ce,It=it=[0];if((Nt=Ue=[Ue])[0]=0,8>Pe[0])Pe=7;else{if(!r(tt,Ke[0],"VP8X")){if(_e(tt,Ke[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Tt=_e(tt,Ke[0]+8),zt=1+W(tt,Ke[0]+12);if(2147483648<=zt*(tt=1+W(tt,Ke[0]+15))){Pe=3;break e}It!=null&&(It[0]=Tt),lt!=null&&(lt[0]=zt),at!=null&&(at[0]=tt),Ke[0]+=18,Pe[0]-=18,Nt[0]=1}Pe=0}}if(Ue=Ue[0],it=it[0],Pe!=0)return Pe;if(Ke=!!(2&it),!Oe&&Ue)return 3;if(ce!=null&&(ce[0]=!!(16&it)),ue!=null&&(ue[0]=Ke),de!=null&&(de[0]=0),ue=ve[0],it=Ce[0],Ue&&Ke&&pe==null){Pe=0;break}if(4>M){Pe=7;break}if(Oe&&Ue||!Oe&&!Ue&&!r(x,k[0],"ALPH")){M=[M],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{Tt=x,Pe=k,Oe=M;var Nt=je.gb;lt=je.na,at=je.P,It=je.Sa,zt=22,t(Tt!=null),t(Oe!=null),tt=Pe[0];var Rr=Oe[0];for(t(lt!=null),t(It!=null),lt[0]=null,at[0]=null,It[0]=0;;){if(Pe[0]=tt,Oe[0]=Rr,8>Rr){Pe=7;break e}var Kr=_e(Tt,tt+4);if(4294967286<Kr){Pe=3;break e}var Ir=8+Kr+1&-2;if(zt+=Ir,0<Nt&&zt>Nt){Pe=3;break e}if(!r(Tt,tt,"VP8 ")||!r(Tt,tt,"VP8L")){Pe=0;break e}if(Rr[0]<Ir){Pe=7;break e}r(Tt,tt,"ALPH")||(lt[0]=Tt,at[0]=tt+8,It[0]=Kr),tt+=Ir,Rr-=Ir}}if(M=M[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Pe!=0)break}M=[M],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Nt=x,Pe=k,Oe=M,lt=je.gb[0],at=je.Ja,It=je.xa,Tt=Pe[0],tt=!r(Nt,Tt,"VP8 "),zt=!r(Nt,Tt,"VP8L"),t(Nt!=null),t(Oe!=null),t(at!=null),t(It!=null),8>Oe[0])Pe=7;else{if(tt||zt){if(Nt=_e(Nt,Tt+4),12<=lt&&Nt>lt-12){Pe=3;break e}if(ze&&Nt>Oe[0]-8){Pe=7;break e}at[0]=Nt,Pe[0]+=8,Oe[0]-=8,It[0]=zt}else It[0]=5<=Oe[0]&&Nt[Tt+0]==47&&!(Nt[Tt+4]>>5),at[0]=Oe[0];Pe=0}if(M=M[0],je.Ja=je.Ja[0],je.xa=je.xa[0],k=k[0],Pe!=0)break;if(4294967286<je.Ja)return 3;if(de==null||Ke||(de[0]=je.xa?2:1),ue=[ue],it=[it],je.xa){if(5>M){Pe=7;break}de=ue,ze=it,Ke=ce,x==null||5>M?x=0:5<=M&&x[k+0]==47&&!(x[k+4]>>5)?(Oe=[0],Nt=[0],lt=[0],q(at=new N,x,k,M),Dt(at,Oe,Nt,lt)?(de!=null&&(de[0]=Oe[0]),ze!=null&&(ze[0]=Nt[0]),Ke!=null&&(Ke[0]=lt[0]),x=1):x=0):x=0}else{if(10>M){Pe=7;break}de=it,x==null||10>M||!Vf(x,k+3,M-3)?x=0:(ze=x[k+0]|x[k+1]<<8|x[k+2]<<16,Ke=16383&(x[k+7]<<8|x[k+6]),x=16383&(x[k+9]<<8|x[k+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=je.Ja||!Ke||!x?x=0:(ue&&(ue[0]=Ke),de&&(de[0]=x),x=1))}if(!x||(ue=ue[0],it=it[0],Ue&&(ve[0]!=ue||Ce[0]!=it)))return 3;pe!=null&&(pe[0]=je,pe.offset=k-pe.w,t(4294967286>k-pe.w),t(pe.offset==pe.ha-M));break}return Pe==0||Pe==7&&Ue&&pe==null?(ce!=null&&(ce[0]|=je.na!=null&&0<je.na.length),U!=null&&(U[0]=ue),ae!=null&&(ae[0]=it),0):Pe}function hm(x,k,M){var U=k.width,ae=k.height,ce=0,ue=0,de=U,pe=ae;if(k.Da=x!=null&&0<x.Da,k.Da&&(de=x.cd,pe=x.bd,ce=x.v,ue=x.j,11>M||(ce&=-2,ue&=-2),0>ce||0>ue||0>=de||0>=pe||ce+de>U||ue+pe>ae))return 0;if(k.v=ce,k.j=ue,k.va=ce+de,k.o=ue+pe,k.U=de,k.T=pe,k.da=x!=null&&0<x.da,k.da){if(!ke(de,pe,M=[x.ib],ce=[x.hb]))return 0;k.ib=M[0],k.hb=ce[0]}return k.ob=x!=null&&x.ob,k.Kb=x==null||!x.Sd,k.da&&(k.ob=k.ib<3*U/4&&k.hb<3*ae/4,k.Kb=0),1}function dm(x){if(x==null)return 2;if(11>x.S){var k=x.f.RGBA;k.fb+=(x.height-1)*k.A,k.A=-k.A}else k=x.f.kb,x=x.height,k.O+=(x-1)*k.fa,k.fa=-k.fa,k.N+=(x-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(x-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(x-1)*k.lb,k.lb=-k.lb);return 0}function Td(x,k,M,U){if(U==null||0>=x||0>=k)return 2;if(M!=null){if(M.Da){var ae=M.cd,ce=M.bd,ue=-2&M.v,de=-2&M.j;if(0>ue||0>de||0>=ae||0>=ce||ue+ae>x||de+ce>k)return 2;x=ae,k=ce}if(M.da){if(!ke(x,k,ae=[M.ib],ce=[M.hb]))return 2;x=ae[0],k=ce[0]}}U.width=x,U.height=k;e:{var pe=U.width,ve=U.height;if(x=U.S,0>=pe||0>=ve||!(x>=py&&13>x))x=2;else{if(0>=U.Rd&&U.sd==null){ue=ce=ae=k=0;var Ce=(de=pe*ON[x])*ve;if(11>x||(ce=(ve+1)/2*(k=(pe+1)/2),x==12&&(ue=(ae=pe)*ve)),(ve=i(Ce+2*ce+ue))==null){x=1;break e}U.sd=ve,11>x?((pe=U.f.RGBA).eb=ve,pe.fb=0,pe.A=de,pe.size=Ce):((pe=U.f.kb).y=ve,pe.O=0,pe.fa=de,pe.Fd=Ce,pe.f=ve,pe.N=0+Ce,pe.Ab=k,pe.Cd=ce,pe.ea=ve,pe.W=0+Ce+ce,pe.Db=k,pe.Ed=ce,x==12&&(pe.F=ve,pe.J=0+Ce+2*ce),pe.Tc=ue,pe.lb=ae)}if(k=1,ae=U.S,ce=U.width,ue=U.height,ae>=py&&13>ae)if(11>ae)x=U.f.RGBA,k&=(de=Math.abs(x.A))*(ue-1)+ce<=x.size,k&=de>=ce*ON[ae],k&=x.eb!=null;else{x=U.f.kb,de=(ce+1)/2,Ce=(ue+1)/2,pe=Math.abs(x.fa),ve=Math.abs(x.Ab);var Ue=Math.abs(x.Db),ze=Math.abs(x.lb),je=ze*(ue-1)+ce;k&=pe*(ue-1)+ce<=x.Fd,k&=ve*(Ce-1)+de<=x.Cd,k=(k&=Ue*(Ce-1)+de<=x.Ed)&pe>=ce&ve>=de&Ue>=de,k&=x.y!=null,k&=x.f!=null,k&=x.ea!=null,ae==12&&(k&=ze>=ce,k&=je<=x.Tc,k&=x.F!=null)}else k=0;x=k?0:2}}return x!=0||M!=null&&M.fd&&(x=dm(U)),x}var qa=64,Ed=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],kd=24,Cd=32,pm=8,ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(x){return x},A.Predictor2=function(x,k,M){return k[M+0]},A.Predictor3=function(x,k,M){return k[M+1]},A.Predictor4=function(x,k,M){return k[M-1]},A.Predictor5=function(x,k,M){return Ye(Ye(x,k[M+1]),k[M+0])},A.Predictor6=function(x,k,M){return Ye(x,k[M-1])},A.Predictor7=function(x,k,M){return Ye(x,k[M+0])},A.Predictor8=function(x,k,M){return Ye(k[M-1],k[M+0])},A.Predictor9=function(x,k,M){return Ye(k[M+0],k[M+1])},A.Predictor10=function(x,k,M){return Ye(Ye(x,k[M-1]),Ye(k[M+0],k[M+1]))},A.Predictor11=function(x,k,M){var U=k[M+0];return 0>=ot(U>>24&255,x>>24&255,(k=k[M-1])>>24&255)+ot(U>>16&255,x>>16&255,k>>16&255)+ot(U>>8&255,x>>8&255,k>>8&255)+ot(255&U,255&x,255&k)?U:x},A.Predictor12=function(x,k,M){var U=k[M+0];return(Me((x>>24&255)+(U>>24&255)-((k=k[M-1])>>24&255))<<24|Me((x>>16&255)+(U>>16&255)-(k>>16&255))<<16|Me((x>>8&255)+(U>>8&255)-(k>>8&255))<<8|Me((255&x)+(255&U)-(255&k)))>>>0},A.Predictor13=function(x,k,M){var U=k[M-1];return(Ge((x=Ye(x,k[M+0]))>>24&255,U>>24&255)<<24|Ge(x>>16&255,U>>16&255)<<16|Ge(x>>8&255,U>>8&255)<<8|Ge(x>>0&255,U>>0&255))>>>0};var l_=A.PredictorAdd0;A.PredictorAdd1=nt,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var mm=A.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ly,qs=A.ColorIndexInverseTransform,Pd=A.MapARGB,cy=A.VP8LColorIndexInverseTransformAlpha,uy=A.MapAlpha,gu=A.VP8LPredictorsAdd=[];gu.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Zf,rs,ji,vu,rc,nc,Nd,ac,Xn,gm,Li,Ws,Od,fy,vm,eh,th,yu,rh,Id,nh,xu,ym,Hs,Gs,fn,hn,Qn,ya=i(511),ic=i(2041),xm=i(225),Dd=i(767),hy=0,c_=ic,dy=xm,Ss=Dd,Ks=ya,py=0,my=1,xN=2,gy=3,vy=4,u_=5,bN=6,f_=7,h_=8,yy=9,d_=10,DK=[2,3,7],jK=[3,3,11],wN=[280,256,256,256,40],LK=[0,1,1,1,0],MK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],FK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$K=8,p_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],m_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bm=null,BK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_N=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],UK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],WK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bu=[],Io=[],sc=[],HK=1,SN=2,wu=[],Ys=[];Qe("UpsampleRgbLinePair",he,3),Qe("UpsampleBgrLinePair",Ie,3),Qe("UpsampleRgbaLinePair",nr,4),Qe("UpsampleBgraLinePair",mr,4),Qe("UpsampleArgbLinePair",rr,4),Qe("UpsampleRgba4444LinePair",ht,2),Qe("UpsampleRgb565LinePair",qe,2);var GK=A.UpsampleRgbLinePair,KK=A.UpsampleBgrLinePair,AN=A.UpsampleRgbaLinePair,TN=A.UpsampleBgraLinePair,EN=A.UpsampleArgbLinePair,kN=A.UpsampleRgba4444LinePair,YK=A.UpsampleRgb565LinePair,xy=16,by=1<<xy-1,wm=-227,g_=482,CN=6,XK=(256<<CN)-1,PN=0,QK=i(256),JK=i(256),ZK=i(256),eY=i(256),tY=i(g_-wm),rY=i(g_-wm);on("YuvToRgbRow",he,3),on("YuvToBgrRow",Ie,3),on("YuvToRgbaRow",nr,4),on("YuvToBgraRow",mr,4),on("YuvToArgbRow",rr,4),on("YuvToRgba4444Row",ht,2),on("YuvToRgb565Row",qe,2);var NN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wy=[0,2,8],nY=[8,7,6,4,4,2,2,2,1,1,1,1],aY=1;this.WebPDecodeRGBA=function(x,k,M,U,ae){var ce=my,ue=new ec,de=new Nr;ue.ba=de,de.S=ce,de.width=[de.width],de.height=[de.height];var pe=de.width,ve=de.height,Ce=new gn;if(Ce==null||x==null)var Ue=2;else t(Ce!=null),Ue=xl(x,k,M,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Ue!=0?pe=0:(pe!=null&&(pe[0]=Ce.width[0]),ve!=null&&(ve[0]=Ce.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],U!=null&&(U[0]=de.width),ae!=null&&(ae[0]=de.height);e:{if(U=new xs,(ae=new hu).data=x,ae.w=k,ae.ha=M,ae.kd=1,k=[0],t(ae!=null),((x=xl(ae.data,ae.w,ae.ha,null,null,null,k,null,ae))==0||x==7)&&k[0]&&(x=4),(k=x)==0){if(t(ue!=null),U.data=ae.data,U.w=ae.w+ae.offset,U.ha=ae.ha-ae.offset,U.put=Ca,U.ac=Fn,U.bc=Oi,U.ma=ue,ae.xa){if((x=He())==null){ue=1;break e}if(function(ze,je){var it=[0],Ke=[0],Pe=[0];t:for(;;){if(ze==null)return 0;if(je==null)return ze.a=2,0;if(ze.l=je,ze.a=0,q(ze.m,je.data,je.w,je.ha),!Dt(ze.m,it,Ke,Pe)){ze.a=3;break t}if(ze.xb=SN,je.width=it[0],je.height=Ke[0],!$e(it[0],Ke[0],1,ze,null))break t;return 1}return t(ze.a!=0),0}(x,U)){if(U=(k=Td(U.width,U.height,ue.Oa,ue.ba))==0){t:{U=x;r:for(;;){if(U==null){U=0;break t}if(t(U.s.yc!=null),t(U.s.Ya!=null),t(0<U.s.Wb),t((M=U.l)!=null),t((ae=M.ma)!=null),U.xb!=0){if(U.ca=ae.ba,U.tb=ae.tb,t(U.ca!=null),!hm(ae.Oa,M,gy)){U.a=2;break r}if(!Ve(U,M.width)||M.da)break r;if((M.da||kt(U.ca.S))&&De(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&De()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!Ae(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!be(U,U.V,U.Ba,U.c,U.i,M.o,xe))break r;ae.Dc=U.Ma,U=1;break t}t(U.a!=0),U=0}U=!U}U&&(k=x.a)}else k=x.a}else{if((x=new Va)==null){ue=1;break e}if(x.Fa=ae.na,x.P=ae.P,x.qc=ae.Sa,Uf(x,U)){if((k=Td(U.width,U.height,ue.Oa,ue.ba))==0){if(x.Aa=0,M=ue.Oa,t((ae=x)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(ve=Ce=0;4>ve;++ve)12>(Ue=ae.pb[ve]).lc&&(Ue.ia=pe*nY[0>Ue.lc?0:Ue.lc]>>3),Ce|=Ue.ia;Ce&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=M.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}yd(x,U)||(k=x.a)}}else k=x.a}k==0&&ue.Oa!=null&&ue.Oa.fd&&(k=dm(ue.ba))}ue=k}ce=ue!=0?null:11>ce?de.f.RGBA.eb:de.f.kb.y}else ce=null;return ce};var ON=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,S){for(var I="",T=0;T<4;T++)I+=String.fromCharCode(A[S++]);return I}function u(A,S){return(A[S+0]<<0|A[S+1]<<8|A[S+2]<<16)>>>0}function f(A,S){return(A[S+0]<<0|A[S+1]<<8|A[S+2]<<16|A[S+3]<<24)>>>0}new l;var h=[0],d=[0],g=[],m=new l,y=e,v=function(A,S){var I={},T=0,C=!1,L=0,H=0;if(I.frames=[],!function(R,z,X,G){for(var Z=0;Z<G;Z++)if(R[z+Z]!=X.charCodeAt(Z))return!0;return!1}(A,S,"RIFF",4)){for(f(A,S+=4),S+=8;S<A.length;){var V=c(A,S),J=f(A,S+=4);S+=4;var te=J+(1&J);switch(V){case"VP8 ":case"VP8L":I.frames[T]===void 0&&(I.frames[T]={}),(re=I.frames[T]).src_off=C?H:S-8,re.src_size=L+J+8,T++,C&&(C=!1,L=0,H=0);break;case"VP8X":(re=I.header={}).feature_flags=A[S];var q=S+4;re.canvas_width=1+u(A,q),q+=3,re.canvas_height=1+u(A,q),q+=3;break;case"ALPH":C=!0,L=te+8,H=S-8;break;case"ANIM":(re=I.header).bgcolor=f(A,S),q=S+4,re.loop_count=(ee=A)[(N=q)+0]<<0|ee[N+1]<<8,q+=2;break;case"ANMF":var B,re;(re=I.frames[T]={}).offset_x=2*u(A,S),S+=3,re.offset_y=2*u(A,S),S+=3,re.width=1+u(A,S),S+=3,re.height=1+u(A,S),S+=3,re.duration=u(A,S),S+=3,B=A[S++],re.dispose=1&B,re.blend=B>>1&1}V!="ANMF"&&(S+=te)}var ee,N;return I}}(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,w=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],d=[b.canvas_width];for(var D=0;D<w.length&&w[D].blend!=0;D++);}var P=w[0],O=m.WebPDecodeRGBA(y,P.src_off,P.src_size,d,h);P.rgba=O,P.imgwidth=d[0],P.imgheight=h[0];for(var E=0;E<d[0]*h[0]*4;E++)g[E]=O[E];return this.width=d,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof DT=="function"},r=function(h,d,g,m){var y=4,v=s;switch(m){case e.image_compression.FAST:y=1,v=i;break;case e.image_compression.MEDIUM:y=6,v=o;break;case e.image_compression.SLOW:y=9,v=l}h=n(h,d,g,v);var b=DT(h,{level:y});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,d,g,m){for(var y,v,b,w=h.length/d,D=new Uint8Array(h.length+w),P=u(),O=0;O<w;O+=1){if(b=O*d,y=h.subarray(b,b+d),m)D.set(m(y,g,v),b+O);else{for(var E,A=P.length,S=[];E<A;E+=1)S[E]=P[E](y,g,v);var I=f(S.concat());D.set(S[I],b+O)}v=y}return D},a=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var g,m=[],y=h.length;m[0]=1;for(var v=0;v<y;v+=1)g=h[v-d]||0,m[v+1]=h[v]-g+256&255;return m},s=function(h,d,g){var m,y=[],v=h.length;y[0]=2;for(var b=0;b<v;b+=1)m=g&&g[b]||0,y[b+1]=h[b]-m+256&255;return y},o=function(h,d,g){var m,y,v=[],b=h.length;v[0]=3;for(var w=0;w<b;w+=1)m=h[w-d]||0,y=g&&g[w]||0,v[w+1]=h[w]+256-(m+y>>>1)&255;return v},l=function(h,d,g){var m,y,v,b,w=[],D=h.length;w[0]=4;for(var P=0;P<D;P+=1)m=h[P-d]||0,y=g&&g[P]||0,v=g&&g[P-d]||0,b=c(m,y,v),w[P+1]=h[P]-b+256&255;return w},c=function(h,d,g){if(h===d&&d===g)return h;var m=Math.abs(d-g),y=Math.abs(h-g),v=Math.abs(h+d-g-g);return m<=y&&m<=v?h:y<=v?d:g},u=function(){return[a,i,s,o,l]},f=function(h){var d=h.map(function(g){return g.reduce(function(m,y){return m+Math.abs(y)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(h,d,g,m){var y,v,b,w,D,P,O,E,A,S,I,T,C,L,H,V=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new wxe(h)).imgData,v=b.bits,y=b.colorSpace,D=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){A=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,I=new Uint8Array(A*b.colors),S=new Uint8Array(A);var te,q=b.pixelBitlength-b.bits;for(L=0,H=0;L<A;L++){for(C=E[L],te=0;te<q;)I[H++]=C>>>te&255,te+=b.bits;S[L]=C>>>te&255}}if(b.bits===16){A=(E=new Uint32Array(b.decodePixels().buffer)).length,I=new Uint8Array(A*(32/b.pixelBitlength)*b.colors),S=new Uint8Array(A*(32/b.pixelBitlength)),T=b.colors>1,L=0,H=0;for(var B=0;L<A;)C=E[L++],I[H++]=C>>>0&255,T&&(I[H++]=C>>>16&255,C=E[L++],I[H++]=C>>>0&255),S[B++]=C>>>16&255;v=8}m!==e.image_compression.NONE&&t()?(h=r(I,b.width*b.colors,b.colors,m),O=r(S,b.width,1,m)):(h=I,O=S,V=void 0)}if(b.colorType===3&&(y=this.color_spaces.INDEXED,P=b.palette,b.transparency.indexed)){var re=b.transparency.indexed,ee=0;for(L=0,A=re.length;L<A;++L)ee+=re[L];if((ee/=255)===A-1&&re.indexOf(0)!==-1)w=[re.indexOf(0)];else if(ee!==A){for(E=b.decodePixels(),S=new Uint8Array(E.length),L=0,A=E.length;L<A;L++)S[L]=re[E[L]];O=r(S,b.width,1)}}var N=function(R){var z;switch(R){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(m);return V===this.decode.FLATE_DECODE&&(J="/Predictor "+N+" "),J+="/Colors "+D+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:g,data:h,index:d,filter:V,decodeParameters:J,transparency:w,palette:P,sMask:O,predictor:N,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:y}}}})(Gt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new _xe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new HS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Gt.API),Fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){cn.log("bit decode error:"+r)}},Fo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Fo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Fo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Fo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Fo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Fo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Fo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Fo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Fo(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new HS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Gt.API),wj.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new wj(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new HS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Gt.API),Gt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],d=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=d}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ud=Gt.API,xx=Ud.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,d=e.length,g=0,m=o[0]||l,y=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&$r(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,y.push((o[n]||m)/l+h)),g=n;return y},vj=Ud.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Ud.processArabic&&(e=Ud.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:xx.apply(this,arguments).reduce(function(i,s){return i+s},0)},yj=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},xj=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,d=0,g=0,m=e.split(" "),y=xx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),b=[];m.map(function(D){(D=D.split(/\s*\n/)).length>1?b=b.concat(D.map(function(P,O){return(O&&P.length?`
`:"")+P})):b.push(D[0])}),m=b,l=vj.apply(this,[v,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+d+(g=(a=xx.apply(this,[n,r])).reduce(function(D,P){return D+P},0))>t||w){if(g>t){for(o=yj.apply(this,[n,a,t-(h+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,P){return D+P},0)}else u=[n];f.push(u),h=g+l,d=y}else u.push(n),h+=d+g,d=y}return c=l?function(D,P){return(P?v:"")+D.join(" ")}:function(D){return D.join(" ")},f.map(c)},Ud.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(xj.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,d,g,m,y=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?d="'"+v+"'":(v=parseInt(v,10),d=(d=i(v).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if($r(h)!=="object")throw new Error("Don't know what to do with value type "+$r(h)+".");g=s(h)}y.push(d+g)}return y.push("}"),y.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,g,m,y={},v=1,b=y,w=[],D="",P="",O=f.length-1,E=1;E<O;E+=1)(m=f[E])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([b,g]),b={},g=void 0):m=="}"?((d=w.pop())[0][d[1]]=b,g=void 0,b=d[0]):m=="-"?v=-1:g===void 0?r.hasOwnProperty(m)?(D+=r[m],g=parseInt(D,16)*v,v=1,D=""):D+=m:r.hasOwnProperty(m)?(P+=r[m],b[g]=parseInt(P,16)*v,v=1,g=void 0,P=""):P+=m;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Gt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Vg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Gt),function(e){function t(){return(Kt.canvg?Promise.resolve(Kt.canvg):CT(()=>import("./index.es-CdaCtsOt.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Gt.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),Gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var y,v=!1;for(y=0;y<g.length;y+=1)g[y]===m&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if($r(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Gt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(d,g){return d-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",g=0;g<h.length;g++)d+=String.fromCharCode(h[g]);var m=c();u({data:d,addLength1:!0,objectId:m}),l("endobj");var y=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Jd(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Jd(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Jd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var y=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Jd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Jd(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,g=f.fonts,m=d,y="",v=0,b="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,m=d,Array.isArray(o)&&(b=o[0]),v=0;v<b.length;v+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?y+=b[v]:y+="";var D="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?D=h(y,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(D=r(y,g[m])),f.isHex=!0,{text:D,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Gt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Gt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var D=function(T){var C=T.charCodeAt(),L=C>>8,H=m[L];return H!==void 0?f[256*H+(255&C)]:L===252||L===253?"AL":v.test(L)?"L":L===8?"R":"N"},P=function(T){for(var C,L=0;L<T.length;L++){if((C=D(T.charAt(L)))==="L")return!1;if(C==="R")return!0}return!1},O=function(T,C,L,H){var V,J,te,q,B=C[H];switch(B){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(B="AN");break;case"AL":b=!0,B="R";break;case"WS":B="N";break;case"CS":H<1||H+1>=C.length||(V=L[H-1])!=="EN"&&V!=="AN"||(J=C[H+1])!=="EN"&&J!=="AN"?B="N":b&&(J="AN"),B=J===V?J:"N";break;case"ES":B=(V=H>0?L[H-1]:"B")==="EN"&&H+1<C.length&&C[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&L[H-1]==="EN"){B="EN";break}if(b){B="N";break}for(te=H+1,q=C.length;te<q&&C[te]==="ET";)te++;B=te<q&&C[te]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=C.length,te=H+1;te<q&&C[te]==="NSM";)te++;if(te<q){var re=T[H],ee=re>=1425&&re<=2303||re===64286;if(V=C[te],ee&&(V==="R"||V==="AL")){B="R";break}}}B=H<1||(V=C[H-1])==="B"?"N":L[H-1];break;case"B":b=!1,a=!0,B=w;break;case"S":i=!0,B="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":B="N"}return B},E=function(T,C,L){var H=T.split("");return L&&A(H,L,{hiLevel:w}),H.reverse(),C&&C.reverse(),H.join("")},A=function(T,C,L){var H,V,J,te,q,B=-1,re=T.length,ee=0,N=[],R=w?d:h,z=[];for(b=!1,a=!1,i=!1,V=0;V<re;V++)z[V]=D(T[V]);for(J=0;J<re;J++){if(q=ee,N[J]=O(T,z,N,J),H=240&(ee=R[q][g[N[J]]]),ee&=15,C[J]=te=R[ee][5],H>0)if(H===16){for(V=B;V<J;V++)C[V]=1;B=-1}else B=-1;if(R[ee][6])B===-1&&(B=J);else if(B>-1){for(V=B;V<J;V++)C[V]=te;B=-1}z[J]==="B"&&(C[J]=0),L.hiLevel|=te}i&&function(X,G,Z){for(var se=0;se<Z;se++)if(X[se]==="S"){G[se]=w;for(var K=se-1;K>=0&&X[K]==="WS";K--)G[K]=w}}(z,C,re)},S=function(T,C,L,H,V){if(!(V.hiLevel<T)){if(T===1&&w===1&&!a)return C.reverse(),void(L&&L.reverse());for(var J,te,q,B,re=C.length,ee=0;ee<re;){if(H[ee]>=T){for(q=ee+1;q<re&&H[q]>=T;)q++;for(B=ee,te=q-1;B<te;B++,te--)J=C[B],C[B]=C[te],C[te]=J,L&&(J=L[B],L[B]=L[te],L[te]=J);ee=q}ee++}}},I=function(T,C,L){var H=T.split(""),V={hiLevel:w};return L||(L=[]),A(H,L,V),function(J,te,q){if(q.hiLevel!==0&&u)for(var B,re=0;re<J.length;re++)te[re]===1&&(B=y.indexOf(J[re]))>=0&&(J[re]=y[B+1])}(H,L,V),S(2,H,C,L,V),S(1,H,C,L,V),H.join("")};return this.__bidiEngine__.doBidiReorder=function(T,C,L){if(function(V,J){if(J)for(var te=0;te<V.length;te++)J[te]=te;o===void 0&&(o=P(V)),c===void 0&&(c=P(V))}(T,C),s||!l||c)if(s&&l&&o^c)w=o?1:0,T=E(T,C,L);else if(!s&&l&&c)w=o?1:0,T=I(T,C,L),T=E(T,C);else if(!s||o||l||c){if(s&&!l&&o^c)T=E(T,C),o?(w=0,T=I(T,C,L)):(w=1,T=I(T,C,L),T=E(T,C));else if(s&&o&&!l&&c)w=1,T=I(T,C,L),T=E(T,C);else if(!s&&!l&&o^c){var H=u;o?(w=1,T=I(T,C,L),w=0,u=!1,T=I(T,C,L),u=H):(w=0,T=I(T,C,L),T=E(T,C),w=1,u=!1,T=I(T,C,L),u=H,T=E(T,C))}}else w=0,T=I(T,C,L);else w=o?1:0,T=I(T,C,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Gt),Gt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new kf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Rxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Sxe(this.contents),this.head=new Txe(this),this.name=new Nxe(this),this.cmap=new zq(this),this.toUnicode={},this.hhea=new Exe(this),this.maxp=new Oxe(this),this.hmtx=new Ixe(this),this.post=new Cxe(this),this.os2=new kxe(this),this.loca=new Mxe(this),this.glyf=new Dxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var fl,kf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Sxe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,d,g,m;for(m in d=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),u=16*d-f,(a=new kf).writeInt(this.scalarType),a.writeShort(d),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*d,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=qq.call(r);r.length%4;)r.push(0);for(i=new kf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),Axe={}.hasOwnProperty,Gl=function(e,t){for(var r in t)Axe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};fl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Txe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new kf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),_j=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,y,v,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),c=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),u=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,P;for(P=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)P.push(t.readUInt16());return P}(),l=v=0,w=i.length;v<w;l=++v)for(y=i[l],n=b=g=m[l];g<=y?b<=y:b>=y;n=g<=y?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,y,v,b,w,D,P,O,E,A,S,I,T,C,L,H,V,J,te,q,B,re,ee,N,R,z,X,G,Z,se,K,oe,fe,W;switch(H=new kf,s=Object.keys(t).sort(function(_e,Ae){return _e-Ae}),r){case"macroman":for(m=0,y=function(){var _e=[];for(g=0;g<256;++g)_e.push(0);return _e}(),b={0:0},i={},V=0,B=s.length;V<B;V++)b[K=t[a=s[V]]]==null&&(b[K]=++m),i[a]={old:t[a],new:b[t[a]]},y[a]=b[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(y),{charMap:i,subtable:H.data,maxGlyphID:m+1};case"unicode":for(C=[],f=[],w=0,b={},n={},v=c=null,J=0,re=s.length;J<re;J++)b[P=t[a=s[J]]]==null&&(b[P]=++w),n[a]={old:P,new:b[P]},o=b[P]-a,v!=null&&o===c||(v&&f.push(v),C.push(a),c=o),v=a;for(v&&f.push(v),f.push(65535),C.push(65535),I=2*(S=C.length),A=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,E=2*S-A,l=[],O=[],d=[],g=te=0,ee=C.length;te<ee;g=++te){if(T=C[g],u=f[g],T===65535){l.push(0),O.push(0);break}if(T-(L=n[T].new)>=32768)for(l.push(0),O.push(2*(d.length+S-g)),a=q=T;T<=u?q<=u:q>=u;a=T<=u?++q:--q)d.push(n[a].new);else l.push(L-T),O.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*S+2*d.length),H.writeUInt16(0),H.writeUInt16(I),H.writeUInt16(A),H.writeUInt16(h),H.writeUInt16(E),Z=0,N=f.length;Z<N;Z++)a=f[Z],H.writeUInt16(a);for(H.writeUInt16(0),se=0,R=C.length;se<R;se++)a=C[se],H.writeUInt16(a);for(oe=0,z=l.length;oe<z;oe++)o=l[oe],H.writeUInt16(o);for(fe=0,X=O.length;fe<X;fe++)D=O[fe],H.writeUInt16(D);for(W=0,G=d.length;W<G;W++)m=d[W],H.writeUInt16(m);return{charMap:n,subtable:H.data,maxGlyphID:w+1}}},e}(),zq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new _j(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=_j.encode(r,n),(i=new kf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Exe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),kxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Cxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),Pxe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Nxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new Pxe(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Oxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Ixe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],d.push(s.advance);return d}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),qq=[].slice,Dxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new kf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Lxe(l,u,h,c,f):new jxe(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),jxe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Lxe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new kf(qq.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Mxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Gl(t,fl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),Rxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,y,v;for(a in n=zq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},v=n.charMap)d[(l=v[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in d||(d[g]=h++);return u=function(b){var w,D;for(w in D={},b)D[b[w]]=w;return D}(d),f=Object.keys(u).sort(function(b,w){return b-w}),m=function(){var b,w,D;for(D=[],b=0,w=f.length;b<w;b++)o=f[b],D.push(u[o]);return D}(),i=this.font.glyf.encode(s,m,d),c=this.font.loca.encode(i.offsets,m),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Gt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function Wq(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*d,r),r+=c;return a}t-=a.getStringUnitWidth(e)*d}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var Sj={},M0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Sj=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Sj||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),BT=function(e,t){return BT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},BT(e,t)};function Hq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");BT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Gq=function(e){Hq(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Fxe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function $xe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Ab(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function Kq(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Yq(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Yq(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function b5(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Xq(e,t){var r=b5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Bxe(e,t,r,n,a){var i={},s=1.3333333333333333,o=GS(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=GS(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=Uxe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var d=(parseFloat(h)||0)/f;d&&(i.lineWidth=d)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=GS(t,function(w){return a.getComputedStyle(w)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/s);var v=Vxe(n);v&&(i.fontStyle=v);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function Vxe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function GS(e,t){var r=Qq(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Qq(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Qq(e.parentElement,t):r}function Uxe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=b5(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function Jq(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var d=0;d<o.rows.length;d++){var g=o.rows[d],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),y=zxe(l,c,r,g,n,a);y&&(m==="thead"?u.push(y):m==="tfoot"?h.push(y):f.push(y))}return{head:u,body:f,foot:h}}function zxe(e,t,r,n,a,i){for(var s=new Gq(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=Bxe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:qxe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function qxe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Wxe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function gc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function Zq(e,t){var r=new M0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Wxe(a,n,t);var i=gc({},a,n,t),s;typeof window<"u"&&(s=window);var o=Hxe(a,n,t),l=Gxe(a,n,t),c=Kxe(r,i),u=Xxe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function Hxe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=gc({},c,u,f)}else{var h=[e,t,r],d=h.map(function(g){return g[l]||{}});n[l]=gc({},d[0],d[1],d[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Gxe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Kxe(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g=b5(t.margin,40/e.scaleFactor()),m=(r=Yxe(e,t.startY))!==null&&r!==void 0?r:g.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(b?"plain":"striped"),D=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:w,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:y,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:D,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function Yxe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Xxe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=Jq(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||Qxe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function Qxe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var VT=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Jxe=function(e){Hq(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(VT),Zxe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new Jxe(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new VT(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new VT(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),eW=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Gq&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),tW=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=b5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),e2e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function t2e(e,t){r2e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=UT(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=UT(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),a2e(t),i2e(t,e),n2e(t)}function r2e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Xq(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=Ab(c.text,c.styles,e)+f;var h=Ab(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function UT(e,t,r){for(var n=t,a=e.reduce(function(d,g){return d+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(d){return t<0?d.width>r(d):!0});h.length&&(t=UT(h,t,r))}return t}function n2e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function a2e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function i2e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Aj(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=Aj(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function Aj(e,t,r,n,a){return e.map(function(i){return s2e(i,t,r,n,a)})}function s2e(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Ab(e,r,n))return e;for(;t<Ab(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function rW(e,t){var r=new M0(e),n=o2e(t,r.scaleFactor()),a=new Zxe(t,n);return t2e(r,a),r.applyStyles(r.userStyles),a}function o2e(e,t){var r=e.content,n=c2e(r.columns);if(r.head.length===0){var a=Tj(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Tj(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:KS("head",r.head,n,s,i,t),body:KS("body",r.body,n,s,i,t),foot:KS("foot",r.foot,n,s,i,t)}}function KS(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,d=0,g=0,m=r;g<m.length;g++){var y=m[g];if(s[y.index]==null||s[y.index].left===0)if(d===0){var v=void 0;Array.isArray(l)?v=l[y.index-h-u]:v=l[y.dataKey];var b={};typeof v=="object"&&!Array.isArray(v)&&(b=(v==null?void 0:v.styles)||{});var w=u2e(e,y,c,a,n,i,b),D=new tW(v,w,e);f[y.dataKey]=D,f[y.index]=D,d=D.colSpan-1,s[y.index]={left:D.rowSpan-1,times:d}}else d--,h++;else s[y.index].left--,d=s[y.index].times,u++}return new eW(l,c,e,f)});return o}function Tj(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=l2e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function l2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function c2e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new e2e(a,t,r)})}function u2e(e,t,r,n,a,i,s){var o=$xe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=gc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?gc({},o.alternateRow,a.alternateRowStyles):{},d=Fxe(i),g=gc({},d,c,h,f);return gc(g,s)}function f2e(e,t,r){var n;r===void 0&&(r={});var a=Xq(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var d=t.columns.find(function(g){return g.dataKey===h||g.index===h});d&&!i.has(d.index)&&(i.set(d.index,!0),s.push(d.index),o.push(t.columns[d.index]),a-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function h2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=f2e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function nW(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,d){return h+d.height},0);o+=c}var u=new M0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(iW(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=gc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?d2e(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Bc(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,d){var g=d===t.body.length-1;Tb(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Bc(u,t,h,i,t.columns)})),Kq(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function d2e(e,t,r,n){var a=h2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Ug(e,t,r,n,c.columns,!0):Ej(e,t,n,c.columns),p2e(e,t,r,n,c.columns),YS(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Ug(e,t,r,n,u,!0):Ej(e,t,n,u),c=kj(e,t,s+1,n,u),YS(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Ug(e,t,r,n,h.columns,!0),kj(e,t,s+1,n,h.columns,f),YS(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function Ej(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Bc(e,t,i,r,n)})}function p2e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Tb(e,t,i,o,r,n,a)})}function kj(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=aW(e,t,u,n);l.canEntireRowFit(f,a)&&(Bc(e,t,l,n,a),o=r+c)}),o}function YS(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Bc(e,t,i,r,n)})}function m2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function g2e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new tW(c.raw,c.styles,c.section);u=gc(u,c),u.text=[];var f=m2e(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,d),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new eW(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,y=r.columns;m<y.length;m++){var l=y[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function v2e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Tb(e,t,r,n,a,i,s){var o=aW(e,t,n,i);if(r.canEntireRowFit(o,s))Bc(e,t,r,i,s);else if(v2e(e,r,o,t)){var l=g2e(r,o,t,e);Bc(e,t,r,i,s),Ug(e,t,a,i,s),Tb(e,t,l,n,a,i,s)}else Ug(e,t,a,i,s),Tb(e,t,r,n,a,i,s)}function Bc(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}y2e(e,l,n);var u=l.getTextPos();Wq(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function y2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Yq(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),x2e(e,t,r,n.lineWidth))}function x2e(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,d,"S")}}function aW(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Ug(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Bc(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;Kq(e,t,r,n),iW(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Bc(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function iW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function b2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Zq(this,n),i=rW(this,a);return nW(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Wq(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return M0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){M0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new M0(this),i=Jq(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var XS;function w2e(e,t){var r=Zq(e,t),n=rW(e,r);nW(e,n)}try{if(typeof window<"u"&&window){var Cj=window,Pj=Cj.jsPDF||((XS=Cj.jspdf)===null||XS===void 0?void 0:XS.jsPDF);Pj&&b2e(Pj)}}catch(e){console.error("Could not apply autoTable plugin",e)}const _2e=()=>{const[e,t]=Q.useState([]),[r,n]=Q.useState(!0),[a,i]=Q.useState(new Date),[s,o]=Q.useState(new Date),[l,c]=Q.useState("all"),[u,f]=Q.useState("all"),[h,d]=Q.useState(""),[g,m]=Q.useState([]),{showToast:y}=Yc(),{isDarkMode:v}=Wr(),{user:b}=ga(),w=async()=>{try{const T=(await dr(Pt(ct,"users"))).docs.map(C=>({id:C.id,...C.data()}));m(T)}catch(I){console.error("Error fetching users:",I),y("Failed to fetch users","error")}},D=async()=>{n(!0);try{let I=vr(Pt(ct,"activityLogs"),Ma("time","desc"));a&&s?I=vr(Pt(ct,"activityLogs"),qr("time",">=",sb(a).toISOString()),qr("time","<=",D1(s).toISOString()),Ma("time","desc")):a?I=vr(Pt(ct,"activityLogs"),qr("time",">=",sb(a).toISOString()),Ma("time","desc")):s&&(I=vr(Pt(ct,"activityLogs"),qr("time","<=",D1(s).toISOString()),Ma("time","desc")));let C=(await dr(I)).docs.map(L=>({id:L.id,user:L.data().user,role:L.data().role,detail:L.data().detail,time:L.data().time}));if(b&&b.role==="staff"&&(C=C.filter(L=>L.role!=="admin")),l!=="all"&&(C=C.filter(L=>L.user===l)),u!=="all"&&(C=C.filter(L=>{const H=L.detail.toLowerCase();return u==="inbound"?H.includes("added new product")||H.includes("edited product")||H.includes("quantity from")||H.includes("quantity to"):u==="outbound"?H.includes("units deducted from stock")||H.includes("deducted from stock"):!0})),h.trim()){const L=h.toLowerCase();C=C.filter(H=>{const V=H.detail.toLowerCase(),J=H.user.toLowerCase(),te=H.role.toLowerCase(),q=V.match(/"([^"]+)"/),B=q?q[1].toLowerCase():"";return V.includes(L)||J.includes(L)||te.includes(L)||B.includes(L)})}t(C)}catch(I){console.error("Error fetching activity logs:",I),y("Failed to fetch activity logs","error")}finally{n(!1)}};Q.useEffect(()=>{w()},[]),Q.useEffect(()=>{D()},[a,s,l,u,h,b]);const P=()=>{let I=g;return b&&b.role==="staff"&&(I=g.filter(T=>T.role!=="admin")),[{value:"all",label:"All Users"},...I.map(T=>({value:T.name,label:T.name}))]},O=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],E=()=>{i(null),o(null)},A=()=>{try{const T=[["User","Role","Activity","Time"].join(","),...e.map(V=>[V.user,V.role,`"${V.detail.replace(/"/g,'""')}"`,$t(new Date(V.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),C=new Blob([T],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),H=URL.createObjectURL(C);L.setAttribute("href",H),L.setAttribute("download",`activity_logs_${$t(new Date,"yyyy-MM-dd")}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)}catch(I){console.error("Error exporting to CSV:",I),y("Failed to export to CSV","error")}},S=()=>{var I,T;try{const C=new Gt;C.setFontSize(16),C.text("Activity Logs Report",14,15),C.setFontSize(10);const L=a&&s?`${$t(a,"MMM d, yyyy")} - ${$t(s,"MMM d, yyyy")}`:a?`From ${$t(a,"MMM d, yyyy")}`:s?`To ${$t(s,"MMM d, yyyy")}`:"All Time";C.text(`Date Range: ${L}`,14,25),C.text(`User Filter: ${(I=P().find(H=>H.value===l))==null?void 0:I.label}`,14,30),C.text(`Activity Filter: ${(T=O.find(H=>H.value===u))==null?void 0:T.label}`,14,35),w2e(C,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(H=>[H.user,H.role,H.detail,$t(new Date(H.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),C.save(`activity_logs_${$t(new Date,"yyyy-MM-dd")}.pdf`)}catch(C){console.error("Error exporting to PDF:",C),y("Failed to export to PDF","error")}};return p.jsx("div",{className:`space-y-6 ${v?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:p.jsxs("div",{className:`rounded-lg shadow-sm border ${v?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${v?"border-slate-700":"border-slate-200"}`,children:[p.jsx("h2",{className:`text-xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Activity Logs"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:A,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx(F2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),p.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx(F2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${v?"border-slate-700":"border-slate-200"}`,children:[p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:p.jsx(yt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:I=>d(I.target.value),className:"w-full sm:w-96",icon:p.jsx(zh,{size:16})})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[p.jsx(Fr,{value:l,onChange:I=>c(I.target.value),options:P(),className:"w-full sm:w-40"}),p.jsx(Fr,{value:u,onChange:I=>f(I.target.value),options:O,className:"w-full sm:w-40"}),p.jsx(Sq,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:E,className:"w-full sm:w-80"}),p.jsx(vt,{variant:"secondary",onClick:D,className:"flex items-center gap-2 w-full sm:w-auto",children:p.jsx(ol,{size:16})})]})]}),r?p.jsx("div",{className:"flex justify-center items-center h-32",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):e.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${v?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${v?"divide-slate-700":"divide-slate-200"}`,children:p.jsx(FV,{children:e.map(I=>p.jsxs(zn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${v?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-slate-200":"text-slate-800"}`,children:I.user}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${v?"text-slate-200":"text-slate-800"}`,children:I.role}),p.jsx("td",{className:`px-2 py-4 text-sm ${v?"text-slate-200":"text-slate-800"}`,children:I.detail}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${v?"text-slate-200":"text-slate-800"}`,children:$t(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]},I.id))})})]})}),p.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(I=>p.jsxs("div",{className:`rounded-lg border ${v?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${v?"text-blue-400":"text-blue-700"}`,children:I.user}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:I.role})]}),p.jsxs("div",{className:v?"text-slate-200":"text-slate-800",children:[p.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),p.jsx("span",{className:"text-sm",children:I.detail})]}),p.jsx("div",{className:"text-xs mt-1",children:p.jsxs("span",{className:v?"text-slate-400":"text-slate-600",children:["Time: ",p.jsx("span",{className:"font-medium",children:$t(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]})})]},I.id))})]}):p.jsx("div",{className:`text-center py-8 ${v?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})};function sW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=sW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Lr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=sW(e))&&(n&&(n+=" "),n+=t);return n}var S2e=Array.isArray,vs=S2e,A2e=typeof Xm=="object"&&Xm&&Xm.Object===Object&&Xm,oW=A2e,T2e=oW,E2e=typeof self=="object"&&self&&self.Object===Object&&self,k2e=T2e||E2e||Function("return this")(),Kl=k2e,C2e=Kl,P2e=C2e.Symbol,Jv=P2e,Nj=Jv,lW=Object.prototype,N2e=lW.hasOwnProperty,O2e=lW.toString,Bm=Nj?Nj.toStringTag:void 0;function I2e(e){var t=N2e.call(e,Bm),r=e[Bm];try{e[Bm]=void 0;var n=!0}catch{}var a=O2e.call(e);return n&&(t?e[Bm]=r:delete e[Bm]),a}var D2e=I2e,j2e=Object.prototype,L2e=j2e.toString;function M2e(e){return L2e.call(e)}var R2e=M2e,Oj=Jv,F2e=D2e,$2e=R2e,B2e="[object Null]",V2e="[object Undefined]",Ij=Oj?Oj.toStringTag:void 0;function U2e(e){return e==null?e===void 0?V2e:B2e:Ij&&Ij in Object(e)?F2e(e):$2e(e)}var Qc=U2e;function z2e(e){return e!=null&&typeof e=="object"}var Jc=z2e,q2e=Qc,W2e=Jc,H2e="[object Symbol]";function G2e(e){return typeof e=="symbol"||W2e(e)&&q2e(e)==H2e}var Qp=G2e,K2e=vs,Y2e=Qp,X2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q2e=/^\w*$/;function J2e(e,t){if(K2e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Y2e(e)?!0:Q2e.test(e)||!X2e.test(e)||t!=null&&e in Object(t)}var hP=J2e;function Z2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mf=Z2e;const Jp=sn(Mf);var ebe=Qc,tbe=Mf,rbe="[object AsyncFunction]",nbe="[object Function]",abe="[object GeneratorFunction]",ibe="[object Proxy]";function sbe(e){if(!tbe(e))return!1;var t=ebe(e);return t==nbe||t==abe||t==rbe||t==ibe}var dP=sbe;const fr=sn(dP);var obe=Kl,lbe=obe["__core-js_shared__"],cbe=lbe,QS=cbe,Dj=function(){var e=/[^.]+$/.exec(QS&&QS.keys&&QS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ube(e){return!!Dj&&Dj in e}var fbe=ube,hbe=Function.prototype,dbe=hbe.toString;function pbe(e){if(e!=null){try{return dbe.call(e)}catch{}try{return e+""}catch{}}return""}var cW=pbe,mbe=dP,gbe=fbe,vbe=Mf,ybe=cW,xbe=/[\\^$.*+?()[\]{}|]/g,bbe=/^\[object .+?Constructor\]$/,wbe=Function.prototype,_be=Object.prototype,Sbe=wbe.toString,Abe=_be.hasOwnProperty,Tbe=RegExp("^"+Sbe.call(Abe).replace(xbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ebe(e){if(!vbe(e)||gbe(e))return!1;var t=mbe(e)?Tbe:bbe;return t.test(ybe(e))}var kbe=Ebe;function Cbe(e,t){return e==null?void 0:e[t]}var Pbe=Cbe,Nbe=kbe,Obe=Pbe;function Ibe(e,t){var r=Obe(e,t);return Nbe(r)?r:void 0}var dd=Ibe,Dbe=dd,jbe=Dbe(Object,"create"),w5=jbe,jj=w5;function Lbe(){this.__data__=jj?jj(null):{},this.size=0}var Mbe=Lbe;function Rbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Fbe=Rbe,$be=w5,Bbe="__lodash_hash_undefined__",Vbe=Object.prototype,Ube=Vbe.hasOwnProperty;function zbe(e){var t=this.__data__;if($be){var r=t[e];return r===Bbe?void 0:r}return Ube.call(t,e)?t[e]:void 0}var qbe=zbe,Wbe=w5,Hbe=Object.prototype,Gbe=Hbe.hasOwnProperty;function Kbe(e){var t=this.__data__;return Wbe?t[e]!==void 0:Gbe.call(t,e)}var Ybe=Kbe,Xbe=w5,Qbe="__lodash_hash_undefined__";function Jbe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xbe&&t===void 0?Qbe:t,this}var Zbe=Jbe,ewe=Mbe,twe=Fbe,rwe=qbe,nwe=Ybe,awe=Zbe;function Zp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zp.prototype.clear=ewe;Zp.prototype.delete=twe;Zp.prototype.get=rwe;Zp.prototype.has=nwe;Zp.prototype.set=awe;var iwe=Zp;function swe(){this.__data__=[],this.size=0}var owe=swe;function lwe(e,t){return e===t||e!==e&&t!==t}var pP=lwe,cwe=pP;function uwe(e,t){for(var r=e.length;r--;)if(cwe(e[r][0],t))return r;return-1}var _5=uwe,fwe=_5,hwe=Array.prototype,dwe=hwe.splice;function pwe(e){var t=this.__data__,r=fwe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():dwe.call(t,r,1),--this.size,!0}var mwe=pwe,gwe=_5;function vwe(e){var t=this.__data__,r=gwe(t,e);return r<0?void 0:t[r][1]}var ywe=vwe,xwe=_5;function bwe(e){return xwe(this.__data__,e)>-1}var wwe=bwe,_we=_5;function Swe(e,t){var r=this.__data__,n=_we(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Awe=Swe,Twe=owe,Ewe=mwe,kwe=ywe,Cwe=wwe,Pwe=Awe;function em(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}em.prototype.clear=Twe;em.prototype.delete=Ewe;em.prototype.get=kwe;em.prototype.has=Cwe;em.prototype.set=Pwe;var S5=em,Nwe=dd,Owe=Kl,Iwe=Nwe(Owe,"Map"),mP=Iwe,Lj=iwe,Dwe=S5,jwe=mP;function Lwe(){this.size=0,this.__data__={hash:new Lj,map:new(jwe||Dwe),string:new Lj}}var Mwe=Lwe;function Rwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Fwe=Rwe,$we=Fwe;function Bwe(e,t){var r=e.__data__;return $we(t)?r[typeof t=="string"?"string":"hash"]:r.map}var A5=Bwe,Vwe=A5;function Uwe(e){var t=Vwe(this,e).delete(e);return this.size-=t?1:0,t}var zwe=Uwe,qwe=A5;function Wwe(e){return qwe(this,e).get(e)}var Hwe=Wwe,Gwe=A5;function Kwe(e){return Gwe(this,e).has(e)}var Ywe=Kwe,Xwe=A5;function Qwe(e,t){var r=Xwe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Jwe=Qwe,Zwe=Mwe,e5e=zwe,t5e=Hwe,r5e=Ywe,n5e=Jwe;function tm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tm.prototype.clear=Zwe;tm.prototype.delete=e5e;tm.prototype.get=t5e;tm.prototype.has=r5e;tm.prototype.set=n5e;var gP=tm,uW=gP,a5e="Expected a function";function vP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(a5e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(vP.Cache||uW),r}vP.Cache=uW;var fW=vP;const i5e=sn(fW);var s5e=fW,o5e=500;function l5e(e){var t=s5e(e,function(n){return r.size===o5e&&r.clear(),n}),r=t.cache;return t}var c5e=l5e,u5e=c5e,f5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h5e=/\\(\\)?/g,d5e=u5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(f5e,function(r,n,a,i){t.push(a?i.replace(h5e,"$1"):n||r)}),t}),p5e=d5e;function m5e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var yP=m5e,Mj=Jv,g5e=yP,v5e=vs,y5e=Qp,x5e=1/0,Rj=Mj?Mj.prototype:void 0,Fj=Rj?Rj.toString:void 0;function hW(e){if(typeof e=="string")return e;if(v5e(e))return g5e(e,hW)+"";if(y5e(e))return Fj?Fj.call(e):"";var t=e+"";return t=="0"&&1/e==-x5e?"-0":t}var b5e=hW,w5e=b5e;function _5e(e){return e==null?"":w5e(e)}var dW=_5e,S5e=vs,A5e=hP,T5e=p5e,E5e=dW;function k5e(e,t){return S5e(e)?e:A5e(e,t)?[e]:T5e(E5e(e))}var pW=k5e,C5e=Qp,P5e=1/0;function N5e(e){if(typeof e=="string"||C5e(e))return e;var t=e+"";return t=="0"&&1/e==-P5e?"-0":t}var T5=N5e,O5e=pW,I5e=T5;function D5e(e,t){t=O5e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[I5e(t[r++])];return r&&r==n?e:void 0}var xP=D5e,j5e=xP;function L5e(e,t,r){var n=e==null?void 0:j5e(e,t);return n===void 0?r:n}var mW=L5e;const mo=sn(mW);function M5e(e){return e==null}var R5e=M5e;const xr=sn(R5e);var F5e=Qc,$5e=vs,B5e=Jc,V5e="[object String]";function U5e(e){return typeof e=="string"||!$5e(e)&&B5e(e)&&F5e(e)==V5e}var z5e=U5e;const Qh=sn(z5e);var gW={exports:{}},Zr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP=Symbol.for("react.element"),wP=Symbol.for("react.portal"),E5=Symbol.for("react.fragment"),k5=Symbol.for("react.strict_mode"),C5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),q5e=Symbol.for("react.server_context"),O5=Symbol.for("react.forward_ref"),I5=Symbol.for("react.suspense"),D5=Symbol.for("react.suspense_list"),j5=Symbol.for("react.memo"),L5=Symbol.for("react.lazy"),W5e=Symbol.for("react.offscreen"),vW;vW=Symbol.for("react.module.reference");function _o(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bP:switch(e=e.type,e){case E5:case C5:case k5:case I5:case D5:return e;default:switch(e=e&&e.$$typeof,e){case q5e:case N5:case O5:case L5:case j5:case P5:return e;default:return t}}case wP:return t}}}Zr.ContextConsumer=N5;Zr.ContextProvider=P5;Zr.Element=bP;Zr.ForwardRef=O5;Zr.Fragment=E5;Zr.Lazy=L5;Zr.Memo=j5;Zr.Portal=wP;Zr.Profiler=C5;Zr.StrictMode=k5;Zr.Suspense=I5;Zr.SuspenseList=D5;Zr.isAsyncMode=function(){return!1};Zr.isConcurrentMode=function(){return!1};Zr.isContextConsumer=function(e){return _o(e)===N5};Zr.isContextProvider=function(e){return _o(e)===P5};Zr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bP};Zr.isForwardRef=function(e){return _o(e)===O5};Zr.isFragment=function(e){return _o(e)===E5};Zr.isLazy=function(e){return _o(e)===L5};Zr.isMemo=function(e){return _o(e)===j5};Zr.isPortal=function(e){return _o(e)===wP};Zr.isProfiler=function(e){return _o(e)===C5};Zr.isStrictMode=function(e){return _o(e)===k5};Zr.isSuspense=function(e){return _o(e)===I5};Zr.isSuspenseList=function(e){return _o(e)===D5};Zr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E5||e===C5||e===k5||e===I5||e===D5||e===W5e||typeof e=="object"&&e!==null&&(e.$$typeof===L5||e.$$typeof===j5||e.$$typeof===P5||e.$$typeof===N5||e.$$typeof===O5||e.$$typeof===vW||e.getModuleId!==void 0)};Zr.typeOf=_o;gW.exports=Zr;var H5e=gW.exports,G5e=Qc,K5e=Jc,Y5e="[object Number]";function X5e(e){return typeof e=="number"||K5e(e)&&G5e(e)==Y5e}var yW=X5e;const Q5e=sn(yW);var J5e=yW;function Z5e(e){return J5e(e)&&e!=+e}var e_e=Z5e;const Zv=sn(e_e);var Zo=function(t){return t===0?0:t>0?1:-1},Th=function(t){return Qh(t)&&t.indexOf("%")===t.length-1},At=function(t){return Q5e(t)&&!Zv(t)},Aa=function(t){return At(t)||Qh(t)},t_e=0,ey=function(t){var r=++t_e;return"".concat(t||"").concat(r)},Jh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(t)&&!Qh(t))return n;var i;if(Th(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Zv(i)&&(i=n),a&&i>r&&(i=r),i},Uu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},r_e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ko=function(t,r){return At(t)&&At(r)?function(n){return t+n*(r-t)}:function(){return r}};function Eb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):mo(n,t))===r})}var n_e=function(t,r){return At(t)&&At(r)?t-r:Qh(t)&&Qh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function R0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function zT(e){"@babel/helpers - typeof";return zT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zT(e)}var a_e=["viewBox","children"],i_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$j=["points","pathLength"],JS={svg:a_e,polygon:$j,polyline:$j},_P=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(Q.isValidElement(t)&&(n=t.props),!Jp(n))return null;var a={};return Object.keys(n).forEach(function(i){_P.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},s_e=function(t,r,n){return function(a){return t(r,n,a),null}},Cb=function(t,r,n){if(!Jp(t)||zT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];_P.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=s_e(s,r,n))}),a},o_e=["children"],l_e=["children"];function Bj(e,t){if(e==null)return{};var r=c_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qT(e){"@babel/helpers - typeof";return qT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qT(e)}var Vj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Uj=null,ZS=null,SP=function e(t){if(t===Uj&&Array.isArray(ZS))return ZS;var r=[];return Q.Children.forEach(t,function(n){xr(n)||(H5e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ZS=r,Uj=t,r};function go(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Sc(a)}):n=[Sc(t)],SP(e).forEach(function(a){var i=mo(a,"type.displayName")||mo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ps(e,t){var r=go(e,t);return r&&r[0]}var zj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!At(n)||n<=0||!At(a)||a<=0)},u_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],f_e=function(t){return t&&t.type&&Qh(t.type)&&u_e.indexOf(t.type)>=0},h_e=function(t){return t&&qT(t)==="object"&&"clipDot"in t},d_e=function(t,r,n,a){var i,s=(i=JS==null?void 0:JS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!fr(t)&&(a&&s.includes(r)||i_e.includes(r))||n&&_P.includes(r)},_r=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(Q.isValidElement(t)&&(a=t.props),!Jp(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;d_e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},WT=function e(t,r){if(t===r)return!0;var n=Q.Children.count(t);if(n!==Q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return qj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!qj(i,s))return!1}return!0},qj=function(t,r){if(xr(t)&&xr(r))return!0;if(!xr(t)&&!xr(r)){var n=t.props||{},a=n.children,i=Bj(n,o_e),s=r.props||{},o=s.children,l=Bj(s,l_e);return a&&o?R0(i,l)&&WT(a,o):!a&&!o?R0(i,l):!1}return!1},Wj=function(t,r){var n=[],a={};return SP(t).forEach(function(i,s){if(f_e(i))n.push(i);else if(i){var o=Sc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},p_e=function(t){var r=t&&t.type;return r&&Vj[r]?Vj[r]:null},m_e=function(t,r){return SP(r).indexOf(t)},g_e=["children","width","height","viewBox","className","style","title","desc"];function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HT.apply(this,arguments)}function v_e(e,t){if(e==null)return{};var r=y_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=v_e(e,g_e),u=a||{width:r,height:n,x:0,y:0},f=Lr("recharts-surface",i);return Ne.createElement("svg",HT({},_r(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ne.createElement("title",null,o),Ne.createElement("desc",null,l),t)}var x_e=["children","className"];function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function b_e(e,t){if(e==null)return{};var r=w_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aa=Ne.forwardRef(function(e,t){var r=e.children,n=e.className,a=b_e(e,x_e),i=Lr("recharts-layer",n);return Ne.createElement("g",KT({className:i},_r(a,!0),{ref:t}),r)}),Ac=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function __e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var S_e=__e,A_e=S_e;function T_e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:A_e(e,t,r)}var E_e=T_e,k_e="\\ud800-\\udfff",C_e="\\u0300-\\u036f",P_e="\\ufe20-\\ufe2f",N_e="\\u20d0-\\u20ff",O_e=C_e+P_e+N_e,I_e="\\ufe0e\\ufe0f",D_e="\\u200d",j_e=RegExp("["+D_e+k_e+O_e+I_e+"]");function L_e(e){return j_e.test(e)}var xW=L_e;function M_e(e){return e.split("")}var R_e=M_e,bW="\\ud800-\\udfff",F_e="\\u0300-\\u036f",$_e="\\ufe20-\\ufe2f",B_e="\\u20d0-\\u20ff",V_e=F_e+$_e+B_e,U_e="\\ufe0e\\ufe0f",z_e="["+bW+"]",YT="["+V_e+"]",XT="\\ud83c[\\udffb-\\udfff]",q_e="(?:"+YT+"|"+XT+")",wW="[^"+bW+"]",_W="(?:\\ud83c[\\udde6-\\uddff]){2}",SW="[\\ud800-\\udbff][\\udc00-\\udfff]",W_e="\\u200d",AW=q_e+"?",TW="["+U_e+"]?",H_e="(?:"+W_e+"(?:"+[wW,_W,SW].join("|")+")"+TW+AW+")*",G_e=TW+AW+H_e,K_e="(?:"+[wW+YT+"?",YT,_W,SW,z_e].join("|")+")",Y_e=RegExp(XT+"(?="+XT+")|"+K_e+G_e,"g");function X_e(e){return e.match(Y_e)||[]}var Q_e=X_e,J_e=R_e,Z_e=xW,eSe=Q_e;function tSe(e){return Z_e(e)?eSe(e):J_e(e)}var rSe=tSe,nSe=E_e,aSe=xW,iSe=rSe,sSe=dW;function oSe(e){return function(t){t=sSe(t);var r=aSe(t)?iSe(t):void 0,n=r?r[0]:t.charAt(0),a=r?nSe(r,1).join(""):t.slice(1);return n[e]()+a}}var lSe=oSe,cSe=lSe,uSe=cSe("toUpperCase"),fSe=uSe;const M5=sn(fSe);function dn(e){return function(){return e}}const EW=Math.cos,Pb=Math.sin,hl=Math.sqrt,Nb=Math.PI,R5=2*Nb,QT=Math.PI,JT=2*QT,dh=1e-6,hSe=JT-dh;function kW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class pSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kW:dSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>dh)if(!(Math.abs(f*l-c*u)>dh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,g=a-o,m=l*l+c*c,y=d*d+g*g,v=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((QT-Math.acos((m+h-y)/(2*v*b)))/2),D=w/b,P=w/v;Math.abs(D-1)>dh&&this._append`L${t+D*u},${r+D*f}`,this._append`A${i},${i},0,0,${+(f*d>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>dh||Math.abs(this._y1-u)>dh)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%JT+JT),h>hSe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>dh&&this._append`A${n},${n},0,${+(h>=QT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function AP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new pSe(t)}function TP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CW(e){this._context=e}CW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function F5(e){return new CW(e)}function PW(e){return e[0]}function NW(e){return e[1]}function OW(e,t){var r=dn(!0),n=null,a=F5,i=null,s=AP(o);e=typeof e=="function"?e:e===void 0?PW:dn(e),t=typeof t=="function"?t:t===void 0?NW:dn(t);function o(l){var c,u=(l=TP(l)).length,f,h=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:dn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:dn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:dn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function bx(e,t,r){var n=null,a=dn(!0),i=null,s=F5,o=null,l=AP(c);e=typeof e=="function"?e:e===void 0?PW:dn(+e),t=typeof t=="function"?t:dn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NW:dn(+r);function c(f){var h,d,g,m=(f=TP(f)).length,y,v=!1,b,w=new Array(m),D=new Array(m);for(i==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&a(y=f[h],h,f))===v)if(v=!v)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=d;--g)o.point(w[g],D[g]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+e(y,h,f),D[h]=+t(y,h,f),o.point(n?+n(y,h,f):w[h],r?+r(y,h,f):D[h]))}if(b)return o=null,b+""||null}function u(){return OW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:dn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:dn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:dn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:dn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:dn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class IW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mSe(e){return new IW(e,!0)}function gSe(e){return new IW(e,!1)}const EP={draw(e,t){const r=hl(t/Nb);e.moveTo(r,0),e.arc(0,0,r,0,R5)}},vSe={draw(e,t){const r=hl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},DW=hl(1/3),ySe=DW*2,xSe={draw(e,t){const r=hl(t/ySe),n=r*DW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},bSe={draw(e,t){const r=hl(t),n=-r/2;e.rect(n,n,r,r)}},wSe=.8908130915292852,jW=Pb(Nb/10)/Pb(7*Nb/10),_Se=Pb(R5/10)*jW,SSe=-EW(R5/10)*jW,ASe={draw(e,t){const r=hl(t*wSe),n=_Se*r,a=SSe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=R5*i/5,o=EW(s),l=Pb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},eA=hl(3),TSe={draw(e,t){const r=-hl(t/(eA*3));e.moveTo(0,r*2),e.lineTo(-eA*r,-r),e.lineTo(eA*r,-r),e.closePath()}},Zs=-.5,eo=hl(3)/2,ZT=1/hl(12),ESe=(ZT/2+1)*3,kSe={draw(e,t){const r=hl(t/ESe),n=r/2,a=r*ZT,i=n,s=r*ZT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Zs*n-eo*a,eo*n+Zs*a),e.lineTo(Zs*i-eo*s,eo*i+Zs*s),e.lineTo(Zs*o-eo*l,eo*o+Zs*l),e.lineTo(Zs*n+eo*a,Zs*a-eo*n),e.lineTo(Zs*i+eo*s,Zs*s-eo*i),e.lineTo(Zs*o+eo*l,Zs*l-eo*o),e.closePath()}};function CSe(e,t){let r=null,n=AP(a);e=typeof e=="function"?e:dn(e||EP),t=typeof t=="function"?t:dn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:dn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ob(){}function Ib(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function LW(e){this._context=e}LW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ib(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PSe(e){return new LW(e)}function MW(e){this._context=e}MW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NSe(e){return new MW(e)}function RW(e){this._context=e}RW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OSe(e){return new RW(e)}function FW(e){this._context=e}FW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ISe(e){return new FW(e)}function Hj(e){return e<0?-1:1}function Gj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Hj(i)+Hj(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Kj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tA(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Db(e){this._context=e}Db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tA(this,this._t0,Kj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tA(this,Kj(this,r=Gj(this,e,t)),r);break;default:tA(this,this._t0,r=Gj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $W(e){this._context=new BW(e)}($W.prototype=Object.create(Db.prototype)).point=function(e,t){Db.prototype.point.call(this,t,e)};function BW(e){this._context=e}BW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function DSe(e){return new Db(e)}function jSe(e){return new $W(e)}function VW(e){this._context=e}VW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Yj(e),a=Yj(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Yj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function LSe(e){return new VW(e)}function $5(e,t){this._context=e,this._t=t}$5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function MSe(e){return new $5(e,.5)}function RSe(e){return new $5(e,0)}function FSe(e){return new $5(e,1)}function fp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function eE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $Se(e,t){return e[t]}function BSe(e){const t=[];return t.key=e,t}function VSe(){var e=dn([]),t=eE,r=fp,n=$Se;function a(i){var s=Array.from(e.apply(this,arguments),BSe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=TP(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:dn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?eE:typeof i=="function"?i:dn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??fp,a):r},a}function USe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}fp(e,t)}}function zSe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}fp(e,t)}}function qSe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],y=m[n][1]||0,v=m[n-1][1]||0;d+=y-v}l+=f,c+=d*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,fp(e,t)}}function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}var WSe=["type","size","sizeType"];function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tE.apply(this,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){HSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HSe(e,t,r){return t=GSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GSe(e){var t=KSe(e,"string");return z1(t)=="symbol"?t:t+""}function KSe(e,t){if(z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YSe(e,t){if(e==null)return{};var r=XSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UW={symbolCircle:EP,symbolCross:vSe,symbolDiamond:xSe,symbolSquare:bSe,symbolStar:ASe,symbolTriangle:TSe,symbolWye:kSe},QSe=Math.PI/180,JSe=function(t){var r="symbol".concat(M5(t));return UW[r]||EP},ZSe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*QSe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},eAe=function(t,r){UW["symbol".concat(M5(t))]=r},kP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=YSe(t,WSe),c=Qj(Qj({},l),{},{type:n,size:i,sizeType:o}),u=function(){var y=JSe(n),v=CSe().type(y).size(ZSe(i,o,n));return v()},f=c.className,h=c.cx,d=c.cy,g=_r(c,!0);return h===+h&&d===+d&&i===+i?Ne.createElement("path",tE({},g,{className:Lr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};kP.registerSymbol=eAe;function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qW(n.key),n)}}function aAe(e,t,r){return t&&nAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iAe(e,t,r){return t=jb(t),sAe(e,zW()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function sAe(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oAe(e)}function oAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function lAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(e,t)}function q1(e,t,r){return t=qW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=cAe(e,"string");return hp(t)=="symbol"?t:t+""}function cAe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var to=32,CP=function(e){function t(){return rAe(this,t),iAe(this,t,arguments)}return lAe(t,e),aAe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=to/2,s=to/6,o=to/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:to,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(to,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(to/8,"h").concat(to,"v").concat(to*3/4,"h").concat(-to,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(n.legendIcon)){var c=tAe({},n);return delete c.legendIcon,Ne.cloneElement(n.legendIcon,c)}return Ne.createElement(kP,{fill:l,cx:i,cy:i,size:to,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:to,height:to},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(d,g){var m=d.formatter||l,y=Lr(q1(q1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",d.inactive));if(d.type==="none")return null;var v=fr(d.value)?null:d.value;Ac(!fr(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=d.inactive?c:d.color;return Ne.createElement("li",rE({className:y,style:f,key:"legend-item-".concat(g)},Cb(n.props,d,g)),Ne.createElement(GT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),Ne.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(v,d,g):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ne.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Q.PureComponent);q1(CP,"displayName","Legend");q1(CP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uAe=S5;function fAe(){this.__data__=new uAe,this.size=0}var hAe=fAe;function dAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var pAe=dAe;function mAe(e){return this.__data__.get(e)}var gAe=mAe;function vAe(e){return this.__data__.has(e)}var yAe=vAe,xAe=S5,bAe=mP,wAe=gP,_Ae=200;function SAe(e,t){var r=this.__data__;if(r instanceof xAe){var n=r.__data__;if(!bAe||n.length<_Ae-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wAe(n)}return r.set(e,t),this.size=r.size,this}var AAe=SAe,TAe=S5,EAe=hAe,kAe=pAe,CAe=gAe,PAe=yAe,NAe=AAe;function rm(e){var t=this.__data__=new TAe(e);this.size=t.size}rm.prototype.clear=EAe;rm.prototype.delete=kAe;rm.prototype.get=CAe;rm.prototype.has=PAe;rm.prototype.set=NAe;var WW=rm,OAe="__lodash_hash_undefined__";function IAe(e){return this.__data__.set(e,OAe),this}var DAe=IAe;function jAe(e){return this.__data__.has(e)}var LAe=jAe,MAe=gP,RAe=DAe,FAe=LAe;function Lb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new MAe;++t<r;)this.add(e[t])}Lb.prototype.add=Lb.prototype.push=RAe;Lb.prototype.has=FAe;var HW=Lb;function $Ae(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var GW=$Ae;function BAe(e,t){return e.has(t)}var KW=BAe,VAe=HW,UAe=GW,zAe=KW,qAe=1,WAe=2;function HAe(e,t,r,n,a,i){var s=r&qAe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,d=r&WAe?new VAe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var y=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!UAe(t,function(v,b){if(!zAe(d,b)&&(g===v||a(g,v,r,n,i)))return d.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var YW=HAe,GAe=Kl,KAe=GAe.Uint8Array,YAe=KAe;function XAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var QAe=XAe;function JAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var PP=JAe,Zj=Jv,eL=YAe,ZAe=pP,e4e=YW,t4e=QAe,r4e=PP,n4e=1,a4e=2,i4e="[object Boolean]",s4e="[object Date]",o4e="[object Error]",l4e="[object Map]",c4e="[object Number]",u4e="[object RegExp]",f4e="[object Set]",h4e="[object String]",d4e="[object Symbol]",p4e="[object ArrayBuffer]",m4e="[object DataView]",tL=Zj?Zj.prototype:void 0,rA=tL?tL.valueOf:void 0;function g4e(e,t,r,n,a,i,s){switch(r){case m4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case p4e:return!(e.byteLength!=t.byteLength||!i(new eL(e),new eL(t)));case i4e:case s4e:case c4e:return ZAe(+e,+t);case o4e:return e.name==t.name&&e.message==t.message;case u4e:case h4e:return e==t+"";case l4e:var o=t4e;case f4e:var l=n&n4e;if(o||(o=r4e),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=a4e,s.set(e,t);var u=e4e(o(e),o(t),n,a,i,s);return s.delete(e),u;case d4e:if(rA)return rA.call(e)==rA.call(t)}return!1}var v4e=g4e;function y4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var XW=y4e,x4e=XW,b4e=vs;function w4e(e,t,r){var n=t(e);return b4e(e)?n:x4e(n,r(e))}var _4e=w4e;function S4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var A4e=S4e;function T4e(){return[]}var E4e=T4e,k4e=A4e,C4e=E4e,P4e=Object.prototype,N4e=P4e.propertyIsEnumerable,rL=Object.getOwnPropertySymbols,O4e=rL?function(e){return e==null?[]:(e=Object(e),k4e(rL(e),function(t){return N4e.call(e,t)}))}:C4e,I4e=O4e;function D4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var j4e=D4e,L4e=Qc,M4e=Jc,R4e="[object Arguments]";function F4e(e){return M4e(e)&&L4e(e)==R4e}var $4e=F4e,nL=$4e,B4e=Jc,QW=Object.prototype,V4e=QW.hasOwnProperty,U4e=QW.propertyIsEnumerable,z4e=nL(function(){return arguments}())?nL:function(e){return B4e(e)&&V4e.call(e,"callee")&&!U4e.call(e,"callee")},NP=z4e,Mb={exports:{}};function q4e(){return!1}var W4e=q4e;Mb.exports;(function(e,t){var r=Kl,n=W4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Mb,Mb.exports);var JW=Mb.exports,H4e=9007199254740991,G4e=/^(?:0|[1-9]\d*)$/;function K4e(e,t){var r=typeof e;return t=t??H4e,!!t&&(r=="number"||r!="symbol"&&G4e.test(e))&&e>-1&&e%1==0&&e<t}var OP=K4e,Y4e=9007199254740991;function X4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Y4e}var IP=X4e,Q4e=Qc,J4e=IP,Z4e=Jc,eTe="[object Arguments]",tTe="[object Array]",rTe="[object Boolean]",nTe="[object Date]",aTe="[object Error]",iTe="[object Function]",sTe="[object Map]",oTe="[object Number]",lTe="[object Object]",cTe="[object RegExp]",uTe="[object Set]",fTe="[object String]",hTe="[object WeakMap]",dTe="[object ArrayBuffer]",pTe="[object DataView]",mTe="[object Float32Array]",gTe="[object Float64Array]",vTe="[object Int8Array]",yTe="[object Int16Array]",xTe="[object Int32Array]",bTe="[object Uint8Array]",wTe="[object Uint8ClampedArray]",_Te="[object Uint16Array]",STe="[object Uint32Array]",bn={};bn[mTe]=bn[gTe]=bn[vTe]=bn[yTe]=bn[xTe]=bn[bTe]=bn[wTe]=bn[_Te]=bn[STe]=!0;bn[eTe]=bn[tTe]=bn[dTe]=bn[rTe]=bn[pTe]=bn[nTe]=bn[aTe]=bn[iTe]=bn[sTe]=bn[oTe]=bn[lTe]=bn[cTe]=bn[uTe]=bn[fTe]=bn[hTe]=!1;function ATe(e){return Z4e(e)&&J4e(e.length)&&!!bn[Q4e(e)]}var TTe=ATe;function ETe(e){return function(t){return e(t)}}var ZW=ETe,Rb={exports:{}};Rb.exports;(function(e,t){var r=oW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Rb,Rb.exports);var kTe=Rb.exports,CTe=TTe,PTe=ZW,aL=kTe,iL=aL&&aL.isTypedArray,NTe=iL?PTe(iL):CTe,eH=NTe,OTe=j4e,ITe=NP,DTe=vs,jTe=JW,LTe=OP,MTe=eH,RTe=Object.prototype,FTe=RTe.hasOwnProperty;function $Te(e,t){var r=DTe(e),n=!r&&ITe(e),a=!r&&!n&&jTe(e),i=!r&&!n&&!a&&MTe(e),s=r||n||a||i,o=s?OTe(e.length,String):[],l=o.length;for(var c in e)(t||FTe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||LTe(c,l)))&&o.push(c);return o}var BTe=$Te,VTe=Object.prototype;function UTe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||VTe;return e===r}var zTe=UTe;function qTe(e,t){return function(r){return e(t(r))}}var tH=qTe,WTe=tH,HTe=WTe(Object.keys,Object),GTe=HTe,KTe=zTe,YTe=GTe,XTe=Object.prototype,QTe=XTe.hasOwnProperty;function JTe(e){if(!KTe(e))return YTe(e);var t=[];for(var r in Object(e))QTe.call(e,r)&&r!="constructor"&&t.push(r);return t}var ZTe=JTe,eEe=dP,tEe=IP;function rEe(e){return e!=null&&tEe(e.length)&&!eEe(e)}var ty=rEe,nEe=BTe,aEe=ZTe,iEe=ty;function sEe(e){return iEe(e)?nEe(e):aEe(e)}var B5=sEe,oEe=_4e,lEe=I4e,cEe=B5;function uEe(e){return oEe(e,cEe,lEe)}var fEe=uEe,sL=fEe,hEe=1,dEe=Object.prototype,pEe=dEe.hasOwnProperty;function mEe(e,t,r,n,a,i){var s=r&hEe,o=sL(e),l=o.length,c=sL(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:pEe.call(t,h)))return!1}var d=i.get(e),g=i.get(t);if(d&&g)return d==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<l;){h=o[f];var v=e[h],b=t[h];if(n)var w=s?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(w===void 0?v===b||a(v,b,r,n,i):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var D=e.constructor,P=t.constructor;D!=P&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var gEe=mEe,vEe=dd,yEe=Kl,xEe=vEe(yEe,"DataView"),bEe=xEe,wEe=dd,_Ee=Kl,SEe=wEe(_Ee,"Promise"),AEe=SEe,TEe=dd,EEe=Kl,kEe=TEe(EEe,"Set"),rH=kEe,CEe=dd,PEe=Kl,NEe=CEe(PEe,"WeakMap"),OEe=NEe,aE=bEe,iE=mP,sE=AEe,oE=rH,lE=OEe,nH=Qc,nm=cW,oL="[object Map]",IEe="[object Object]",lL="[object Promise]",cL="[object Set]",uL="[object WeakMap]",fL="[object DataView]",DEe=nm(aE),jEe=nm(iE),LEe=nm(sE),MEe=nm(oE),REe=nm(lE),ph=nH;(aE&&ph(new aE(new ArrayBuffer(1)))!=fL||iE&&ph(new iE)!=oL||sE&&ph(sE.resolve())!=lL||oE&&ph(new oE)!=cL||lE&&ph(new lE)!=uL)&&(ph=function(e){var t=nH(e),r=t==IEe?e.constructor:void 0,n=r?nm(r):"";if(n)switch(n){case DEe:return fL;case jEe:return oL;case LEe:return lL;case MEe:return cL;case REe:return uL}return t});var FEe=ph,nA=WW,$Ee=YW,BEe=v4e,VEe=gEe,hL=FEe,dL=vs,pL=JW,UEe=eH,zEe=1,mL="[object Arguments]",gL="[object Array]",wx="[object Object]",qEe=Object.prototype,vL=qEe.hasOwnProperty;function WEe(e,t,r,n,a,i){var s=dL(e),o=dL(t),l=s?gL:hL(e),c=o?gL:hL(t);l=l==mL?wx:l,c=c==mL?wx:c;var u=l==wx,f=c==wx,h=l==c;if(h&&pL(e)){if(!pL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new nA),s||UEe(e)?$Ee(e,t,r,n,a,i):BEe(e,t,l,r,n,a,i);if(!(r&zEe)){var d=u&&vL.call(e,"__wrapped__"),g=f&&vL.call(t,"__wrapped__");if(d||g){var m=d?e.value():e,y=g?t.value():t;return i||(i=new nA),a(m,y,r,n,i)}}return h?(i||(i=new nA),VEe(e,t,r,n,a,i)):!1}var HEe=WEe,GEe=HEe,yL=Jc;function aH(e,t,r,n,a){return e===t?!0:e==null||t==null||!yL(e)&&!yL(t)?e!==e&&t!==t:GEe(e,t,r,n,aH,a)}var DP=aH,KEe=WW,YEe=DP,XEe=1,QEe=2;function JEe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new KEe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?YEe(u,c,XEe|QEe,n,f):h))return!1}}return!0}var ZEe=JEe,e3e=Mf;function t3e(e){return e===e&&!e3e(e)}var iH=t3e,r3e=iH,n3e=B5;function a3e(e){for(var t=n3e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,r3e(a)]}return t}var i3e=a3e;function s3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sH=s3e,o3e=ZEe,l3e=i3e,c3e=sH;function u3e(e){var t=l3e(e);return t.length==1&&t[0][2]?c3e(t[0][0],t[0][1]):function(r){return r===e||o3e(r,e,t)}}var f3e=u3e;function h3e(e,t){return e!=null&&t in Object(e)}var d3e=h3e,p3e=pW,m3e=NP,g3e=vs,v3e=OP,y3e=IP,x3e=T5;function b3e(e,t,r){t=p3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=x3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&y3e(a)&&v3e(s,a)&&(g3e(e)||m3e(e)))}var w3e=b3e,_3e=d3e,S3e=w3e;function A3e(e,t){return e!=null&&S3e(e,t,_3e)}var T3e=A3e,E3e=DP,k3e=mW,C3e=T3e,P3e=hP,N3e=iH,O3e=sH,I3e=T5,D3e=1,j3e=2;function L3e(e,t){return P3e(e)&&N3e(t)?O3e(I3e(e),t):function(r){var n=k3e(r,e);return n===void 0&&n===t?C3e(r,e):E3e(t,n,D3e|j3e)}}var M3e=L3e;function R3e(e){return e}var am=R3e;function F3e(e){return function(t){return t==null?void 0:t[e]}}var $3e=F3e,B3e=xP;function V3e(e){return function(t){return B3e(t,e)}}var U3e=V3e,z3e=$3e,q3e=U3e,W3e=hP,H3e=T5;function G3e(e){return W3e(e)?z3e(H3e(e)):q3e(e)}var K3e=G3e,Y3e=f3e,X3e=M3e,Q3e=am,J3e=vs,Z3e=K3e;function eke(e){return typeof e=="function"?e:e==null?Q3e:typeof e=="object"?J3e(e)?X3e(e[0],e[1]):Y3e(e):Z3e(e)}var Rf=eke;function tke(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var oH=tke;function rke(e){return e!==e}var nke=rke;function ake(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ike=ake,ske=oH,oke=nke,lke=ike;function cke(e,t,r){return t===t?lke(e,t,r):ske(e,oke,r)}var uke=cke,fke=uke;function hke(e,t){var r=e==null?0:e.length;return!!r&&fke(e,t,0)>-1}var dke=hke;function pke(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var mke=pke;function gke(){}var vke=gke,aA=rH,yke=vke,xke=PP,bke=1/0,wke=aA&&1/xke(new aA([,-0]))[1]==bke?function(e){return new aA(e)}:yke,_ke=wke,Ske=HW,Ake=dke,Tke=mke,Eke=KW,kke=_ke,Cke=PP,Pke=200;function Nke(e,t,r){var n=-1,a=Ake,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=Tke;else if(i>=Pke){var c=t?null:kke(e);if(c)return Cke(c);s=!1,a=Eke,l=new Ske}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var Oke=Nke,Ike=Rf,Dke=Oke;function jke(e,t){return e&&e.length?Dke(e,Ike(t)):[]}var Lke=jke;const xL=sn(Lke);function lH(e,t,r){return t===!0?xL(e,r):fr(t)?xL(e,t):e}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}var Mke=["ref"];function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){V5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uH(n.key),n)}}function Fke(e,t,r){return t&&wL(e.prototype,t),r&&wL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ke(e,t,r){return t=Fb(t),Bke(e,cH()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function Bke(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vke(e)}function Vke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function Uke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cE(e,t)}function V5(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=zke(e,"string");return dp(t)=="symbol"?t:t+""}function zke(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qke(e,t){if(e==null)return{};var r=Wke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hke(e){return e.value}function Gke(e,t){if(Ne.isValidElement(e))return Ne.cloneElement(e,t);if(typeof e=="function")return Ne.createElement(e,t);t.ref;var r=qke(t,Mke);return Ne.createElement(CP,r)}var _L=1,Tc=function(e){function t(){var r;Rke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$ke(this,t,[].concat(a)),V5(r,"lastBoundingBox",{width:-1,height:-1}),r}return Uke(t,e),Fke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>_L||Math.abs(a.height-this.lastBoundingBox.height)>_L)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?uc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return uc(uc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=uc(uc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},Gke(i,uc(uc({},this.props),{},{payload:lH(u,c,Hke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=uc(uc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&At(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(Q.PureComponent);V5(Tc,"displayName","Legend");V5(Tc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SL=Jv,Kke=NP,Yke=vs,AL=SL?SL.isConcatSpreadable:void 0;function Xke(e){return Yke(e)||Kke(e)||!!(AL&&e&&e[AL])}var Qke=Xke,Jke=XW,Zke=Qke;function fH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Zke),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?fH(o,t-1,r,n,a):Jke(a,o):n||(a[a.length]=o)}return a}var hH=fH;function eCe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var tCe=eCe,rCe=tCe,nCe=rCe(),aCe=nCe,iCe=aCe,sCe=B5;function oCe(e,t){return e&&iCe(e,t,sCe)}var dH=oCe,lCe=ty;function cCe(e,t){return function(r,n){if(r==null)return r;if(!lCe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var uCe=cCe,fCe=dH,hCe=uCe,dCe=hCe(fCe),jP=dCe,pCe=jP,mCe=ty;function gCe(e,t){var r=-1,n=mCe(e)?Array(e.length):[];return pCe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var pH=gCe;function vCe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var yCe=vCe,TL=Qp;function xCe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=TL(e),s=t!==void 0,o=t===null,l=t===t,c=TL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var bCe=xCe,wCe=bCe;function _Ce(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=wCe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var SCe=_Ce,iA=yP,ACe=xP,TCe=Rf,ECe=pH,kCe=yCe,CCe=ZW,PCe=SCe,NCe=am,OCe=vs;function ICe(e,t,r){t.length?t=iA(t,function(i){return OCe(i)?function(s){return ACe(s,i.length===1?i[0]:i)}:i}):t=[NCe];var n=-1;t=iA(t,CCe(TCe));var a=ECe(e,function(i,s,o){var l=iA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return kCe(a,function(i,s){return PCe(i,s,r)})}var DCe=ICe;function jCe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var LCe=jCe,MCe=LCe,EL=Math.max;function RCe(e,t,r){return t=EL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=EL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),MCe(e,this,o)}}var FCe=RCe;function $Ce(e){return function(){return e}}var BCe=$Ce,VCe=dd,UCe=function(){try{var e=VCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mH=UCe,zCe=BCe,kL=mH,qCe=am,WCe=kL?function(e,t){return kL(e,"toString",{configurable:!0,enumerable:!1,value:zCe(t),writable:!0})}:qCe,HCe=WCe,GCe=800,KCe=16,YCe=Date.now;function XCe(e){var t=0,r=0;return function(){var n=YCe(),a=KCe-(n-r);if(r=n,a>0){if(++t>=GCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var QCe=XCe,JCe=HCe,ZCe=QCe,ePe=ZCe(JCe),tPe=ePe,rPe=am,nPe=FCe,aPe=tPe;function iPe(e,t){return aPe(nPe(e,t,rPe),e+"")}var sPe=iPe,oPe=pP,lPe=ty,cPe=OP,uPe=Mf;function fPe(e,t,r){if(!uPe(r))return!1;var n=typeof t;return(n=="number"?lPe(r)&&cPe(t,r.length):n=="string"&&t in r)?oPe(r[t],e):!1}var U5=fPe,hPe=hH,dPe=DCe,pPe=sPe,CL=U5,mPe=pPe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&CL(e,t[0],t[1])?t=[]:r>2&&CL(t[0],t[1],t[2])&&(t=[t[0]]),dPe(e,hPe(t,1),[])}),gPe=mPe;const LP=sn(gPe);function W1(e){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W1(e)}function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uE.apply(this,arguments)}function vPe(e,t){return wPe(e)||bPe(e,t)||xPe(e,t)||yPe()}function yPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xPe(e,t){if(e){if(typeof e=="string")return PL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PL(e,t)}}function PL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function wPe(e){if(Array.isArray(e))return e}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){_Pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Pe(e,t,r){return t=SPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SPe(e){var t=APe(e,"string");return W1(t)=="symbol"?t:t+""}function APe(e,t){if(W1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(W1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TPe(e){return Array.isArray(e)&&Aa(e[0])&&Aa(e[1])?e.join(" ~ "):e}var EPe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,d=t.wrapperClassName,g=t.labelClassName,m=t.label,y=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var C={padding:0,margin:0},L=(h?LP(u,h):u).map(function(H,V){if(H.type==="none")return null;var J=sA({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),te=H.formatter||f||TPe,q=H.value,B=H.name,re=q,ee=B;if(te&&re!=null&&ee!=null){var N=te(q,B,H,V,u);if(Array.isArray(N)){var R=vPe(N,2);re=R[0],ee=R[1]}else re=N}return Ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:J},Aa(ee)?Ne.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Aa(ee)?Ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ne.createElement("span",{className:"recharts-tooltip-item-value"},re),Ne.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Ne.createElement("ul",{className:"recharts-tooltip-item-list",style:C},L)}return null},D=sA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=sA({margin:0},c),O=!xr(m),E=O?m:"",A=Lr("recharts-default-tooltip",d),S=Lr("recharts-tooltip-label",g);O&&y&&u!==void 0&&u!==null&&(E=y(m,u));var I=b?{role:"status","aria-live":"assertive"}:{};return Ne.createElement("div",uE({className:A,style:D},I),Ne.createElement("p",{className:S,style:P},Ne.isValidElement(E)?E:"".concat(E)),w())};function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function _x(e,t,r){return t=kPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kPe(e){var t=CPe(e,"string");return H1(t)=="symbol"?t:t+""}function CPe(e,t){if(H1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(H1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm="recharts-tooltip-wrapper",PPe={visibility:"hidden"};function NPe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Lr(Vm,_x(_x(_x(_x({},"".concat(Vm,"-right"),At(r)&&t&&At(t.x)&&r>=t.x),"".concat(Vm,"-left"),At(r)&&t&&At(t.x)&&r<t.x),"".concat(Vm,"-bottom"),At(n)&&t&&At(t.y)&&n>=t.y),"".concat(Vm,"-top"),At(n)&&t&&At(t.y)&&n<t.y))}function OL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&At(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function OPe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function IPe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=OL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=OL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=OPe({translateX:u,translateY:f,useTranslate3d:o})):c=PPe,{cssProperties:c,cssClasses:NPe({translateX:u,translateY:f,coordinate:r})}}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function IL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(r),!0).forEach(function(n){hE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vH(n.key),n)}}function LPe(e,t,r){return t&&jPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MPe(e,t,r){return t=$b(t),RPe(e,gH()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function RPe(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FPe(e)}function FPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function $Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fE(e,t)}function hE(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=BPe(e,"string");return pp(t)=="symbol"?t:t+""}function BPe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jL=1,VPe=function(e){function t(){var r;DPe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=MPe(this,t,[].concat(a)),hE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return $Pe(t,e),LPe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>jL||Math.abs(n.height-this.state.lastBoundingBox.height)>jL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,d=a.offset,g=a.position,m=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,w=IPe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),D=w.cssClasses,P=w.cssProperties,O=DL(DL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Ne.createElement("div",{tabIndex:-1,className:D,style:O,ref:function(A){n.wrapperNode=A}},c)}}])}(Q.PureComponent),UPe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ec={isSsr:UPe(),get:function(t){return Ec[t]},set:function(t,r){if(typeof t=="string")Ec[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Ec[a]=t[a]})}}};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function LL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ML(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(r),!0).forEach(function(n){MP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xH(n.key),n)}}function WPe(e,t,r){return t&&qPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HPe(e,t,r){return t=Bb(t),GPe(e,yH()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function GPe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KPe(e)}function KPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yH=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function YPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dE(e,t)}function MP(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=XPe(e,"string");return mp(t)=="symbol"?t:t+""}function XPe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QPe(e){return e.dataKey}function JPe(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):typeof e=="function"?Ne.createElement(e,t):Ne.createElement(EPe,t)}var io=function(e){function t(){return zPe(this,t),HPe(this,t,arguments)}return YPe(t,e),WPe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,d=a.offset,g=a.payload,m=a.payloadUniqBy,y=a.position,v=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,D=a.wrapperStyle,P=g??[];f&&P.length&&(P=lH(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,QPe));var O=P.length>0;return Ne.createElement(VPe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:O,offset:d,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:D},JPe(c,ML(ML({},this.props),{},{payload:P})))}}])}(Q.PureComponent);MP(io,"displayName","Tooltip");MP(io,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ec.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ZPe=Kl,eNe=function(){return ZPe.Date.now()},tNe=eNe,rNe=/\s/;function nNe(e){for(var t=e.length;t--&&rNe.test(e.charAt(t)););return t}var aNe=nNe,iNe=aNe,sNe=/^\s+/;function oNe(e){return e&&e.slice(0,iNe(e)+1).replace(sNe,"")}var lNe=oNe,cNe=lNe,RL=Mf,uNe=Qp,FL=NaN,fNe=/^[-+]0x[0-9a-f]+$/i,hNe=/^0b[01]+$/i,dNe=/^0o[0-7]+$/i,pNe=parseInt;function mNe(e){if(typeof e=="number")return e;if(uNe(e))return FL;if(RL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=RL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=cNe(e);var r=hNe.test(e);return r||dNe.test(e)?pNe(e.slice(2),r?2:8):fNe.test(e)?FL:+e}var bH=mNe,gNe=Mf,oA=tNe,$L=bH,vNe="Expected a function",yNe=Math.max,xNe=Math.min;function bNe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(vNe);t=$L(t)||0,gNe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?yNe($L(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function d(O){var E=n,A=a;return n=a=void 0,c=O,s=e.apply(A,E),s}function g(O){return c=O,o=setTimeout(v,t),u?d(O):s}function m(O){var E=O-l,A=O-c,S=t-E;return f?xNe(S,i-A):S}function y(O){var E=O-l,A=O-c;return l===void 0||E>=t||E<0||f&&A>=i}function v(){var O=oA();if(y(O))return b(O);o=setTimeout(v,m(O))}function b(O){return o=void 0,h&&n?d(O):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function D(){return o===void 0?s:b(oA())}function P(){var O=oA(),E=y(O);if(n=arguments,a=this,l=O,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(v,t),d(l)}return o===void 0&&(o=setTimeout(v,t)),s}return P.cancel=w,P.flush=D,P}var wNe=bNe,_Ne=wNe,SNe=Mf,ANe="Expected a function";function TNe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(ANe);return SNe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),_Ne(e,t,{leading:n,maxWait:t,trailing:a})}var ENe=TNe;const wH=sn(ENe);function G1(e){"@babel/helpers - typeof";return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G1(e)}function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){kNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kNe(e,t,r){return t=CNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CNe(e){var t=PNe(e,"string");return G1(t)=="symbol"?t:t+""}function PNe(e,t){if(G1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(G1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NNe(e,t){return jNe(e)||DNe(e,t)||INe(e,t)||ONe()}function ONe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function INe(e,t){if(e){if(typeof e=="string")return VL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VL(e,t)}}function VL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function jNe(e){if(Array.isArray(e))return e}var lA=Q.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,d=e.children,g=e.debounce,m=g===void 0?0:g,y=e.id,v=e.className,b=e.onResize,w=e.style,D=w===void 0?{}:w,P=Q.useRef(null),O=Q.useRef();O.current=b,Q.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var E=Q.useState({containerWidth:a.width,containerHeight:a.height}),A=NNe(E,2),S=A[0],I=A[1],T=Q.useCallback(function(L,H){I(function(V){var J=Math.round(L),te=Math.round(H);return V.containerWidth===J&&V.containerHeight===te?V:{containerWidth:J,containerHeight:te}})},[]);Q.useEffect(function(){var L=function(B){var re,ee=B[0].contentRect,N=ee.width,R=ee.height;T(N,R),(re=O.current)===null||re===void 0||re.call(O,N,R)};m>0&&(L=wH(L,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(L),V=P.current.getBoundingClientRect(),J=V.width,te=V.height;return T(J,te),H.observe(P.current),function(){H.disconnect()}},[T,m]);var C=Q.useMemo(function(){var L=S.containerWidth,H=S.containerHeight;if(L<0||H<0)return null;Ac(Th(s)||Th(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ac(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Th(s)?L:s,J=Th(l)?H:l;r&&r>0&&(V?J=V/r:J&&(V=J*r),h&&J>h&&(J=h)),Ac(V>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,J,s,l,u,f,r);var te=!Array.isArray(d)&&Sc(d.type).endsWith("Chart");return Ne.Children.map(d,function(q){return Ne.isValidElement(q)?Q.cloneElement(q,Sx({width:V,height:J},te?{style:Sx({height:"100%",width:"100%",maxHeight:J,maxWidth:V},q.props.style)}:{})):q})},[r,d,l,h,f,u,S,s]);return Ne.createElement("div",{id:y?"".concat(y):void 0,className:Lr("recharts-responsive-container",v),style:Sx(Sx({},D),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},C)}),_H=function(t){return null};_H.displayName="Cell";function K1(e){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K1(e)}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){LNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LNe(e,t,r){return t=MNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MNe(e){var t=RNe(e,"string");return K1(t)=="symbol"?t:t+""}function RNe(e,t){if(K1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zd={widthCache:{},cacheCount:0},FNe=2e3,$Ne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zL="recharts_measurement_span";function BNe(e){var t=pE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var zg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ec.isSsr)return{width:0,height:0};var n=BNe(r),a=JSON.stringify({text:t,copyStyle:n});if(zd.widthCache[a])return zd.widthCache[a];try{var i=document.getElementById(zL);i||(i=document.createElement("span"),i.setAttribute("id",zL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=pE(pE({},$Ne),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return zd.widthCache[a]=l,++zd.cacheCount>FNe&&(zd.cacheCount=0,zd.widthCache={}),l}catch{return{width:0,height:0}}},VNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Y1(e){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y1(e)}function Vb(e,t){return WNe(e)||qNe(e,t)||zNe(e,t)||UNe()}function UNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zNe(e,t){if(e){if(typeof e=="string")return qL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qL(e,t)}}function qL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function WNe(e){if(Array.isArray(e))return e}function HNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KNe(n.key),n)}}function GNe(e,t,r){return t&&WL(e.prototype,t),r&&WL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KNe(e){var t=YNe(e,"string");return Y1(t)=="symbol"?t:t+""}function YNe(e,t){if(Y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JNe=Object.keys(SH),y0="NaN";function ZNe(e,t){return e*SH[t]}var Ax=function(){function e(t,r){HNe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!XNe.test(r)&&(this.num=NaN,this.unit=""),JNe.includes(r)&&(this.num=ZNe(t,r),this.unit="px")}return GNe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=QNe.exec(r))!==null&&n!==void 0?n:[],i=Vb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function AH(e){if(e.includes(y0))return y0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=HL.exec(t))!==null&&r!==void 0?r:[],a=Vb(n,4),i=a[1],s=a[2],o=a[3],l=Ax.parse(i??""),c=Ax.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return y0;t=t.replace(HL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=GL.exec(t))!==null&&f!==void 0?f:[],d=Vb(h,4),g=d[1],m=d[2],y=d[3],v=Ax.parse(g??""),b=Ax.parse(y??""),w=m==="+"?v.add(b):v.subtract(b);if(w.isNaN())return y0;t=t.replace(GL,w.toString())}return t}var KL=/\(([^()]*)\)/;function e6e(e){for(var t=e;t.includes("(");){var r=KL.exec(t),n=Vb(r,2),a=n[1];t=t.replace(KL,AH(a))}return t}function t6e(e){var t=e.replace(/\s+/g,"");return t=e6e(t),t=AH(t),t}function r6e(e){try{return t6e(e)}catch{return y0}}function cA(e){var t=r6e(e.slice(5,-1));return t===y0?"":t}var n6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],a6e=["dx","dy","angle","className","breakAll"];function mE(){return mE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mE.apply(this,arguments)}function YL(e,t){if(e==null)return{};var r=i6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XL(e,t){return c6e(e)||l6e(e,t)||o6e(e,t)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(e,t){if(e){if(typeof e=="string")return QL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QL(e,t)}}function QL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function c6e(e){if(Array.isArray(e))return e}var TH=/[ \f\n\r\t\v\u2028\u2029]+/,EH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];xr(r)||(n?i=r.toString().split(""):i=r.toString().split(TH));var s=i.map(function(l){return{word:l,width:zg(l,a).width}}),o=n?0:zg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},u6e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=At(s),f=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(J,te){var q=te.word,B=te.width,re=J[J.length-1];if(re&&(a==null||i||re.width+B+n<Number(a)))re.words.push(q),re.width+=B+n;else{var ee={words:[q],width:B};J.push(ee)}return J},[])},d=h(r),g=function(V){return V.reduce(function(J,te){return J.width>te.width?J:te})};if(!u)return d;for(var m="…",y=function(V){var J=f.slice(0,V),te=EH({breakAll:c,style:l,children:J+m}).wordsWithComputedWidth,q=h(te),B=q.length>s||g(q).width>Number(a);return[B,q]},v=0,b=f.length-1,w=0,D;v<=b&&w<=f.length-1;){var P=Math.floor((v+b)/2),O=P-1,E=y(O),A=XL(E,2),S=A[0],I=A[1],T=y(P),C=XL(T,1),L=C[0];if(!S&&!L&&(v=P+1),S&&L&&(b=P-1),!S&&L){D=I;break}w++}return D||d},JL=function(t){var r=xr(t)?[]:t.toString().split(TH);return[{words:r}]},f6e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Ec.isSsr){var l,c,u=EH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return JL(a);return u6e({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return JL(a)},ZL="#808080",Ub=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,d=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,y=t.fill,v=y===void 0?ZL:y,b=YL(t,n6e),w=Q.useMemo(function(){return f6e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),D=b.dx,P=b.dy,O=b.angle,E=b.className,A=b.breakAll,S=YL(b,a6e);if(!Aa(n)||!Aa(i))return null;var I=n+(At(D)?D:0),T=i+(At(P)?P:0),C;switch(m){case"start":C=cA("calc(".concat(c,")"));break;case"middle":C=cA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:C=cA("calc(".concat(w.length-1," * -").concat(o,")"));break}var L=[];if(f){var H=w[0].width,V=b.width;L.push("scale(".concat((At(V)?V/H:1)/H,")"))}return O&&L.push("rotate(".concat(O,", ").concat(I,", ").concat(T,")")),L.length&&(S.transform=L.join(" ")),Ne.createElement("text",mE({},_r(S,!0),{x:I,y:T,className:Lr("recharts-text",E),textAnchor:d,fill:v.includes("url")?ZL:v}),w.map(function(J,te){var q=J.words.join(A?"":" ");return Ne.createElement("tspan",{x:I,dy:te===0?C:o,key:"".concat(q,"-").concat(te)},q)}))};function df(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RP(e){let t,r,n;e.length!==2?(t=df,r=(o,l)=>df(e(o),l),n=(o,l)=>e(o)-l):(t=e===df||e===h6e?e:d6e,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function d6e(){return 0}function kH(e){return e===null?NaN:+e}function*p6e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const m6e=RP(df),ry=m6e.right;RP(kH).center;class eM extends Map{constructor(t,r=y6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(tM(this,t))}has(t){return super.has(tM(this,t))}set(t,r){return super.set(g6e(this,t),r)}delete(t){return super.delete(v6e(this,t))}}function tM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function g6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function v6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function y6e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x6e(e=df){if(e===df)return CH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function CH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const b6e=Math.sqrt(50),w6e=Math.sqrt(10),_6e=Math.sqrt(2);function zb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=b6e?10:i>=w6e?5:i>=_6e?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?zb(e,t,r*2):[o,l,c]}function gE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?zb(t,e,r):zb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function vE(e,t,r){return t=+t,e=+e,r=+r,zb(e,t,r)[2]}function yE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?vE(t,e,r):vE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function rM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function PH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?CH:x6e(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));PH(e,t,d,g,a)}const i=e[t];let s=r,o=n;for(Um(e,r,t),a(e[n],i)>0&&Um(e,r,n);s<o;){for(Um(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Um(e,r,o):(++o,Um(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Um(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function S6e(e,t,r){if(e=Float64Array.from(p6e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nM(e);if(t>=1)return rM(e);var n,a=(n-1)*t,i=Math.floor(a),s=rM(PH(e,i).subarray(0,i+1)),o=nM(e.subarray(i+1));return s+(o-s)*(a-i)}}function A6e(e,t,r=kH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function T6e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function So(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xE=Symbol("implicit");function FP(){var e=new eM,t=[],r=[],n=xE;function a(i){let s=e.get(i);if(s===void 0){if(n!==xE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new eM;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return FP(t,r).unknown(n)},So.apply(a,arguments),a}function X1(){var e=FP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,d=a<n,g=d?a:n,m=d?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=T6e(h).map(function(v){return g+i*v});return r(d?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return X1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},So.apply(f(),arguments)}function NH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NH(t())},e}function qg(){return NH(X1.apply(null,arguments).paddingInner(1))}function $P(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ny(){}var Q1=.7,qb=1/Q1,F0="\\s*([+-]?\\d+)\\s*",J1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E6e=/^#([0-9a-f]{3,8})$/,k6e=new RegExp(`^rgb\\(${F0},${F0},${F0}\\)$`),C6e=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),P6e=new RegExp(`^rgba\\(${F0},${F0},${F0},${J1}\\)$`),N6e=new RegExp(`^rgba\\(${$l},${$l},${$l},${J1}\\)$`),O6e=new RegExp(`^hsl\\(${J1},${$l},${$l}\\)$`),I6e=new RegExp(`^hsla\\(${J1},${$l},${$l},${J1}\\)$`),aM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$P(ny,Z1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iM,formatHex:iM,formatHex8:D6e,formatHsl:j6e,formatRgb:sM,toString:sM});function iM(){return this.rgb().formatHex()}function D6e(){return this.rgb().formatHex8()}function j6e(){return IH(this).formatHsl()}function sM(){return this.rgb().formatRgb()}function Z1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=E6e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oM(t):r===3?new hs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k6e.exec(e))?new hs(t[1],t[2],t[3],1):(t=C6e.exec(e))?new hs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=P6e.exec(e))?Tx(t[1],t[2],t[3],t[4]):(t=N6e.exec(e))?Tx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=O6e.exec(e))?uM(t[1],t[2]/100,t[3]/100,1):(t=I6e.exec(e))?uM(t[1],t[2]/100,t[3]/100,t[4]):aM.hasOwnProperty(e)?oM(aM[e]):e==="transparent"?new hs(NaN,NaN,NaN,0):null}function oM(e){return new hs(e>>16&255,e>>8&255,e&255,1)}function Tx(e,t,r,n){return n<=0&&(e=t=r=NaN),new hs(e,t,r,n)}function L6e(e){return e instanceof ny||(e=Z1(e)),e?(e=e.rgb(),new hs(e.r,e.g,e.b,e.opacity)):new hs}function bE(e,t,r,n){return arguments.length===1?L6e(e):new hs(e,t,r,n??1)}function hs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$P(hs,bE,OH(ny,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new hs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Q1:Math.pow(Q1,e),new hs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hs(Mh(this.r),Mh(this.g),Mh(this.b),Wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lM,formatHex:lM,formatHex8:M6e,formatRgb:cM,toString:cM}));function lM(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}`}function M6e(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}${Eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function cM(){const e=Wb(this.opacity);return`${e===1?"rgb(":"rgba("}${Mh(this.r)}, ${Mh(this.g)}, ${Mh(this.b)}${e===1?")":`, ${e})`}`}function Wb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eh(e){return e=Mh(e),(e<16?"0":"")+e.toString(16)}function uM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xo(e,t,r,n)}function IH(e){if(e instanceof Xo)return new Xo(e.h,e.s,e.l,e.opacity);if(e instanceof ny||(e=Z1(e)),!e)return new Xo;if(e instanceof Xo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Xo(s,o,l,e.opacity)}function R6e(e,t,r,n){return arguments.length===1?IH(e):new Xo(e,t,r,n??1)}function Xo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$P(Xo,R6e,OH(ny,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new Xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Q1:Math.pow(Q1,e),new Xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hs(uA(e>=240?e-240:e+120,a,n),uA(e,a,n),uA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Xo(fM(this.h),Ex(this.s),Ex(this.l),Wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wb(this.opacity);return`${e===1?"hsl(":"hsla("}${fM(this.h)}, ${Ex(this.s)*100}%, ${Ex(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fM(e){return e=(e||0)%360,e<0?e+360:e}function Ex(e){return Math.max(0,Math.min(1,e||0))}function uA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const BP=e=>()=>e;function F6e(e,t){return function(r){return e+r*t}}function $6e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function B6e(e){return(e=+e)==1?DH:function(t,r){return r-t?$6e(t,r,e):BP(isNaN(t)?r:t)}}function DH(e,t){var r=t-e;return r?F6e(e,r):BP(isNaN(e)?t:e)}const hM=function e(t){var r=B6e(t);function n(a,i){var s=r((a=bE(a)).r,(i=bE(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=DH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function V6e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function U6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function z6e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=im(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function q6e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W6e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=im(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var wE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fA=new RegExp(wE.source,"g");function H6e(e){return function(){return e}}function G6e(e){return function(t){return e(t)+""}}function K6e(e,t){var r=wE.lastIndex=fA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=wE.exec(e))&&(a=fA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Hb(n,a)})),r=fA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?G6e(l[0].x):H6e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function im(e,t){var r=typeof t,n;return t==null||r==="boolean"?BP(t):(r==="number"?Hb:r==="string"?(n=Z1(t))?(t=n,hM):K6e:t instanceof Z1?hM:t instanceof Date?q6e:U6e(t)?V6e:Array.isArray(t)?z6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W6e:Hb)(e,t)}function VP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Y6e(e,t){t===void 0&&(t=e,e=im);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function X6e(e){return function(){return e}}function Gb(e){return+e}var dM=[0,1];function zi(e){return e}function _E(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:X6e(isNaN(t)?NaN:.5)}function Q6e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function J6e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=_E(a,n),i=r(s,i)):(n=_E(n,a),i=r(i,s)),function(o){return i(n(o))}}function Z6e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=_E(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=ry(e,o,1,n)-1;return i[l](a[l](o))}}function ay(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function z5(){var e=dM,t=dM,r=im,n,a,i,s=zi,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==zi&&(s=Q6e(e[0],e[h-1])),o=h>2?Z6e:J6e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Hb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Gb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=VP,u()},f.clamp=function(h){return arguments.length?(s=h?!0:zi,u()):s!==zi},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return n=h,a=d,u()}}function UP(){return z5()(zi,zi)}function eOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gp(e){return e=Kb(Math.abs(e)),e?e[1]:NaN}function tOe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function rOe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ev(e){if(!(t=nOe.exec(e)))throw new Error("invalid format: "+e);var t;return new zP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ev.prototype=zP.prototype;function zP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var jH;function iOe(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(jH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Kb(e,Math.max(0,t+i-1))[0]}function pM(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pM(e*100,t),r:pM,s:iOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gM(e){return e}var vM=Array.prototype.map,yM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sOe(e){var t=e.grouping===void 0||e.thousands===void 0?gM:tOe(vM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?gM:rOe(vM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=ev(f);var h=f.fill,d=f.align,g=f.sign,m=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,D=f.trim,P=f.type;P==="n"?(b=!0,P="g"):mM[P]||(w===void 0&&(w=12),D=!0,P="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var O=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=m==="$"?n:/[%p]/.test(P)?s:"",A=mM[P],S=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(T){var C=O,L=E,H,V,J;if(P==="c")L=A(T)+L,T="";else{T=+T;var te=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),w),D&&(T=aOe(T)),te&&+T==0&&g!=="+"&&(te=!1),C=(te?g==="("?g:o:g==="-"||g==="("?"":g)+C,L=(P==="s"?yM[8+jH/3]:"")+L+(te&&g==="("?")":""),S){for(H=-1,V=T.length;++H<V;)if(J=T.charCodeAt(H),48>J||J>57){L=(J===46?a+T.slice(H+1):T.slice(H))+L,T=T.slice(0,H);break}}}b&&!y&&(T=t(T,1/0));var q=C.length+T.length+L.length,B=q<v?new Array(v-q+1).join(h):"";switch(b&&y&&(T=t(B+T,B.length?v-L.length:1/0),B=""),d){case"<":T=C+T+L+B;break;case"=":T=C+B+T+L;break;case"^":T=B.slice(0,q=B.length>>1)+C+T+L+B.slice(q);break;default:T=B+C+T+L;break}return i(T)}return I.toString=function(){return f+""},I}function u(f,h){var d=c((f=ev(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(gp(h)/3)))*3,m=Math.pow(10,-g),y=yM[8+g/3];return function(v){return d(m*v)+y}}return{format:c,formatPrefix:u}}var kx,qP,LH;oOe({thousands:",",grouping:[3],currency:["$",""]});function oOe(e){return kx=sOe(e),qP=kx.format,LH=kx.formatPrefix,kx}function lOe(e){return Math.max(0,-gp(Math.abs(e)))}function cOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gp(t)/3)))*3-gp(Math.abs(e)))}function uOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gp(t)-gp(e))+1}function MH(e,t,r,n){var a=yE(e,t,r),i;switch(n=ev(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=cOe(a,s))&&(n.precision=i),LH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=uOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=lOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return qP(n)}function Ff(e){var t=e.domain;return e.ticks=function(r){var n=t();return gE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return MH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=vE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Yb(){var e=UP();return e.copy=function(){return ay(e,Yb())},So.apply(e,arguments),Ff(e)}function RH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return RH(e).unknown(t)},e=arguments.length?Array.from(e,Gb):[0,1],Ff(r)}function FH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function xM(e){return Math.log(e)}function bM(e){return Math.exp(e)}function fOe(e){return-Math.log(-e)}function hOe(e){return-Math.exp(-e)}function dOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pOe(e){return e===10?dOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wM(e){return(t,r)=>-e(-t,r)}function WP(e){const t=e(xM,bM),r=t.domain;let n=10,a,i;function s(){return a=mOe(n),i=pOe(n),r()[0]<0?(a=wM(a),i=wM(i),e(fOe,hOe)):e(xM,bM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),d=a(u),g,m;const y=o==null?10:+o;let v=[];if(!(n%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;v.push(m)}}else for(;h<=d;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;v.push(m)}v.length*2<y&&(v=gE(c,u,y))}else v=gE(h,d,Math.min(d-h,y)).map(i);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ev(l)).precision==null&&(l.trim=!0),l=qP(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(FH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function $H(){const e=WP(z5()).domain([1,10]);return e.copy=()=>ay(e,$H()).base(e.base()),So.apply(e,arguments),e}function _M(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HP(e){var t=1,r=e(_M(t),SM(t));return r.constant=function(n){return arguments.length?e(_M(t=+n),SM(t)):t},Ff(r)}function BH(){var e=HP(z5());return e.copy=function(){return ay(e,BH()).constant(e.constant())},So.apply(e,arguments)}function AM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vOe(e){return e<0?-e*e:e*e}function GP(e){var t=e(zi,zi),r=1;function n(){return r===1?e(zi,zi):r===.5?e(gOe,vOe):e(AM(r),AM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ff(t)}function KP(){var e=GP(z5());return e.copy=function(){return ay(e,KP()).exponent(e.exponent())},So.apply(e,arguments),e}function yOe(){return KP.apply(null,arguments).exponent(.5)}function TM(e){return Math.sign(e)*e*e}function xOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VH(){var e=UP(),t=[0,1],r=!1,n;function a(i){var s=xOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(TM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Gb)).map(TM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return VH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},So.apply(a,arguments),Ff(a)}function UH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=A6e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ry(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(df),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return UH().domain(e).range(t).unknown(n)},So.apply(i,arguments)}function zH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[ry(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return zH().domain([e,t]).range(a).unknown(i)},So.apply(Ff(s),arguments)}function qH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ry(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return qH().domain(e).range(t).unknown(r)},So.apply(a,arguments)}const hA=new Date,dA=new Date;function ka(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>ka(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(hA.setTime(+i),dA.setTime(+s),e(hA),e(dA),Math.floor(r(hA,dA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Xb=ka(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ka(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xb);Xb.range;const vc=1e3,uo=vc*60,yc=uo*60,Vc=yc*24,YP=Vc*7,EM=Vc*30,pA=Vc*365,kh=ka(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getUTCSeconds());kh.range;const XP=ka(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vc)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getMinutes());XP.range;const QP=ka(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getUTCMinutes());QP.range;const JP=ka(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vc-e.getMinutes()*uo)},(e,t)=>{e.setTime(+e+t*yc)},(e,t)=>(t-e)/yc,e=>e.getHours());JP.range;const ZP=ka(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yc)},(e,t)=>(t-e)/yc,e=>e.getUTCHours());ZP.range;const iy=ka(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uo)/Vc,e=>e.getDate()-1);iy.range;const q5=ka(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vc,e=>e.getUTCDate()-1);q5.range;const WH=ka(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vc,e=>Math.floor(e/Vc));WH.range;function pd(e){return ka(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*uo)/YP)}const W5=pd(0),Qb=pd(1),bOe=pd(2),wOe=pd(3),vp=pd(4),_Oe=pd(5),SOe=pd(6);W5.range;Qb.range;bOe.range;wOe.range;vp.range;_Oe.range;SOe.range;function md(e){return ka(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YP)}const H5=md(0),Jb=md(1),AOe=md(2),TOe=md(3),yp=md(4),EOe=md(5),kOe=md(6);H5.range;Jb.range;AOe.range;TOe.range;yp.range;EOe.range;kOe.range;const eN=ka(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eN.range;const tN=ka(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tN.range;const Uc=ka(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Uc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ka(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Uc.range;const zc=ka(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ka(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zc.range;function HH(e,t,r,n,a,i){const s=[[kh,1,vc],[kh,5,5*vc],[kh,15,15*vc],[kh,30,30*vc],[i,1,uo],[i,5,5*uo],[i,15,15*uo],[i,30,30*uo],[a,1,yc],[a,3,3*yc],[a,6,6*yc],[a,12,12*yc],[n,1,Vc],[n,2,2*Vc],[r,1,YP],[t,1,EM],[t,3,3*EM],[e,1,pA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),g=d?d.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,d=RP(([,,y])=>y).right(s,h);if(d===s.length)return e.every(yE(c/pA,u/pA,f));if(d===0)return Xb.every(Math.max(yE(c,u,f),1));const[g,m]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(m)}return[o,l]}const[COe,POe]=HH(zc,tN,H5,WH,ZP,QP),[NOe,OOe]=HH(Uc,eN,W5,iy,JP,XP);function mA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function IOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=qm(a),u=Wm(a),f=qm(i),h=Wm(i),d=qm(s),g=Wm(s),m=qm(o),y=Wm(o),v=qm(l),b=Wm(l),w={a:te,A:q,b:B,B:re,c:null,d:IM,e:IM,f:tIe,g:fIe,G:dIe,H:JOe,I:ZOe,j:eIe,L:GH,m:rIe,M:nIe,p:ee,q:N,Q:LM,s:MM,S:aIe,u:iIe,U:sIe,V:oIe,w:lIe,W:cIe,x:null,X:null,y:uIe,Y:hIe,Z:pIe,"%":jM},D={a:R,A:z,b:X,B:G,c:null,d:DM,e:DM,f:yIe,g:CIe,G:NIe,H:mIe,I:gIe,j:vIe,L:YH,m:xIe,M:bIe,p:Z,q:se,Q:LM,s:MM,S:wIe,u:_Ie,U:SIe,V:AIe,w:TIe,W:EIe,x:null,X:null,y:kIe,Y:PIe,Z:OIe,"%":jM},P={a:I,A:T,b:C,B:L,c:H,d:NM,e:NM,f:KOe,g:PM,G:CM,H:OM,I:OM,j:qOe,L:GOe,m:zOe,M:WOe,p:S,q:UOe,Q:XOe,s:QOe,S:HOe,u:ROe,U:FOe,V:$Oe,w:MOe,W:BOe,x:V,X:J,y:PM,Y:CM,Z:VOe,"%":YOe};w.x=O(r,w),w.X=O(n,w),w.c=O(t,w),D.x=O(r,D),D.X=O(n,D),D.c=O(t,D);function O(K,oe){return function(fe){var W=[],_e=-1,Ae=0,Se=K.length,ie,ke,Le;for(fe instanceof Date||(fe=new Date(+fe));++_e<Se;)K.charCodeAt(_e)===37&&(W.push(K.slice(Ae,_e)),(ke=kM[ie=K.charAt(++_e)])!=null?ie=K.charAt(++_e):ke=ie==="e"?" ":"0",(Le=oe[ie])&&(ie=Le(fe,ke)),W.push(ie),Ae=_e+1);return W.push(K.slice(Ae,_e)),W.join("")}}function E(K,oe){return function(fe){var W=zm(1900,void 0,1),_e=A(W,K,fe+="",0),Ae,Se;if(_e!=fe.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(oe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ae=gA(zm(W.y,0,1)),Se=Ae.getUTCDay(),Ae=Se>4||Se===0?Jb.ceil(Ae):Jb(Ae),Ae=q5.offset(Ae,(W.V-1)*7),W.y=Ae.getUTCFullYear(),W.m=Ae.getUTCMonth(),W.d=Ae.getUTCDate()+(W.w+6)%7):(Ae=mA(zm(W.y,0,1)),Se=Ae.getDay(),Ae=Se>4||Se===0?Qb.ceil(Ae):Qb(Ae),Ae=iy.offset(Ae,(W.V-1)*7),W.y=Ae.getFullYear(),W.m=Ae.getMonth(),W.d=Ae.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Se="Z"in W?gA(zm(W.y,0,1)).getUTCDay():mA(zm(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Se+5)%7:W.w+W.U*7-(Se+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,gA(W)):mA(W)}}function A(K,oe,fe,W){for(var _e=0,Ae=oe.length,Se=fe.length,ie,ke;_e<Ae;){if(W>=Se)return-1;if(ie=oe.charCodeAt(_e++),ie===37){if(ie=oe.charAt(_e++),ke=P[ie in kM?oe.charAt(_e++):ie],!ke||(W=ke(K,fe,W))<0)return-1}else if(ie!=fe.charCodeAt(W++))return-1}return W}function S(K,oe,fe){var W=c.exec(oe.slice(fe));return W?(K.p=u.get(W[0].toLowerCase()),fe+W[0].length):-1}function I(K,oe,fe){var W=d.exec(oe.slice(fe));return W?(K.w=g.get(W[0].toLowerCase()),fe+W[0].length):-1}function T(K,oe,fe){var W=f.exec(oe.slice(fe));return W?(K.w=h.get(W[0].toLowerCase()),fe+W[0].length):-1}function C(K,oe,fe){var W=v.exec(oe.slice(fe));return W?(K.m=b.get(W[0].toLowerCase()),fe+W[0].length):-1}function L(K,oe,fe){var W=m.exec(oe.slice(fe));return W?(K.m=y.get(W[0].toLowerCase()),fe+W[0].length):-1}function H(K,oe,fe){return A(K,t,oe,fe)}function V(K,oe,fe){return A(K,r,oe,fe)}function J(K,oe,fe){return A(K,n,oe,fe)}function te(K){return s[K.getDay()]}function q(K){return i[K.getDay()]}function B(K){return l[K.getMonth()]}function re(K){return o[K.getMonth()]}function ee(K){return a[+(K.getHours()>=12)]}function N(K){return 1+~~(K.getMonth()/3)}function R(K){return s[K.getUTCDay()]}function z(K){return i[K.getUTCDay()]}function X(K){return l[K.getUTCMonth()]}function G(K){return o[K.getUTCMonth()]}function Z(K){return a[+(K.getUTCHours()>=12)]}function se(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var oe=O(K+="",w);return oe.toString=function(){return K},oe},parse:function(K){var oe=E(K+="",!1);return oe.toString=function(){return K},oe},utcFormat:function(K){var oe=O(K+="",D);return oe.toString=function(){return K},oe},utcParse:function(K){var oe=E(K+="",!0);return oe.toString=function(){return K},oe}}}var kM={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,DOe=/^%/,jOe=/[\\^$*+?|[\]().{}]/g;function Mr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function LOe(e){return e.replace(jOe,"\\$&")}function qm(e){return new RegExp("^(?:"+e.map(LOe).join("|")+")","i")}function Wm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MOe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ROe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function FOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $Oe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CM(e,t,r){var n=Ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function PM(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function VOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UOe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function zOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function NM(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qOe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function OM(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function WOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HOe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GOe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function KOe(e,t,r){var n=Ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function YOe(e,t,r){var n=DOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function XOe(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function QOe(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function IM(e,t){return Mr(e.getDate(),t,2)}function JOe(e,t){return Mr(e.getHours(),t,2)}function ZOe(e,t){return Mr(e.getHours()%12||12,t,2)}function eIe(e,t){return Mr(1+iy.count(Uc(e),e),t,3)}function GH(e,t){return Mr(e.getMilliseconds(),t,3)}function tIe(e,t){return GH(e,t)+"000"}function rIe(e,t){return Mr(e.getMonth()+1,t,2)}function nIe(e,t){return Mr(e.getMinutes(),t,2)}function aIe(e,t){return Mr(e.getSeconds(),t,2)}function iIe(e){var t=e.getDay();return t===0?7:t}function sIe(e,t){return Mr(W5.count(Uc(e)-1,e),t,2)}function KH(e){var t=e.getDay();return t>=4||t===0?vp(e):vp.ceil(e)}function oIe(e,t){return e=KH(e),Mr(vp.count(Uc(e),e)+(Uc(e).getDay()===4),t,2)}function lIe(e){return e.getDay()}function cIe(e,t){return Mr(Qb.count(Uc(e)-1,e),t,2)}function uIe(e,t){return Mr(e.getFullYear()%100,t,2)}function fIe(e,t){return e=KH(e),Mr(e.getFullYear()%100,t,2)}function hIe(e,t){return Mr(e.getFullYear()%1e4,t,4)}function dIe(e,t){var r=e.getDay();return e=r>=4||r===0?vp(e):vp.ceil(e),Mr(e.getFullYear()%1e4,t,4)}function pIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mr(t/60|0,"0",2)+Mr(t%60,"0",2)}function DM(e,t){return Mr(e.getUTCDate(),t,2)}function mIe(e,t){return Mr(e.getUTCHours(),t,2)}function gIe(e,t){return Mr(e.getUTCHours()%12||12,t,2)}function vIe(e,t){return Mr(1+q5.count(zc(e),e),t,3)}function YH(e,t){return Mr(e.getUTCMilliseconds(),t,3)}function yIe(e,t){return YH(e,t)+"000"}function xIe(e,t){return Mr(e.getUTCMonth()+1,t,2)}function bIe(e,t){return Mr(e.getUTCMinutes(),t,2)}function wIe(e,t){return Mr(e.getUTCSeconds(),t,2)}function _Ie(e){var t=e.getUTCDay();return t===0?7:t}function SIe(e,t){return Mr(H5.count(zc(e)-1,e),t,2)}function XH(e){var t=e.getUTCDay();return t>=4||t===0?yp(e):yp.ceil(e)}function AIe(e,t){return e=XH(e),Mr(yp.count(zc(e),e)+(zc(e).getUTCDay()===4),t,2)}function TIe(e){return e.getUTCDay()}function EIe(e,t){return Mr(Jb.count(zc(e)-1,e),t,2)}function kIe(e,t){return Mr(e.getUTCFullYear()%100,t,2)}function CIe(e,t){return e=XH(e),Mr(e.getUTCFullYear()%100,t,2)}function PIe(e,t){return Mr(e.getUTCFullYear()%1e4,t,4)}function NIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yp(e):yp.ceil(e),Mr(e.getUTCFullYear()%1e4,t,4)}function OIe(){return"+0000"}function jM(){return"%"}function LM(e){return+e}function MM(e){return Math.floor(+e/1e3)}var qd,QH,JH;IIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IIe(e){return qd=IOe(e),QH=qd.format,qd.parse,JH=qd.utcFormat,qd.utcParse,qd}function DIe(e){return new Date(e)}function jIe(e){return e instanceof Date?+e:+new Date(+e)}function rN(e,t,r,n,a,i,s,o,l,c){var u=UP(),f=u.invert,h=u.domain,d=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),D=c("%Y");function P(O){return(l(O)<O?d:o(O)<O?g:s(O)<O?m:i(O)<O?y:n(O)<O?a(O)<O?v:b:r(O)<O?w:D)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?h(Array.from(O,jIe)):h().map(DIe)},u.ticks=function(O){var E=h();return e(E[0],E[E.length-1],O??10)},u.tickFormat=function(O,E){return E==null?P:c(E)},u.nice=function(O){var E=h();return(!O||typeof O.range!="function")&&(O=t(E[0],E[E.length-1],O??10)),O?h(FH(E,O)):u},u.copy=function(){return ay(u,rN(e,t,r,n,a,i,s,o,l,c))},u}function LIe(){return So.apply(rN(NOe,OOe,Uc,eN,W5,iy,JP,XP,kh,QH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MIe(){return So.apply(rN(COe,POe,zc,tN,H5,q5,ZP,QP,kh,JH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G5(){var e=0,t=1,r,n,a,i,s=zi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var d,g;return arguments.length?([d,g]=h,s=f(d,g),c):[s(0),s(1)]}}return c.range=u(im),c.rangeRound=u(VP),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function $f(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZH(){var e=Ff(G5()(zi));return e.copy=function(){return $f(e,ZH())},Zc.apply(e,arguments)}function eG(){var e=WP(G5()).domain([1,10]);return e.copy=function(){return $f(e,eG()).base(e.base())},Zc.apply(e,arguments)}function tG(){var e=HP(G5());return e.copy=function(){return $f(e,tG()).constant(e.constant())},Zc.apply(e,arguments)}function nN(){var e=GP(G5());return e.copy=function(){return $f(e,nN()).exponent(e.exponent())},Zc.apply(e,arguments)}function RIe(){return nN.apply(null,arguments).exponent(.5)}function rG(){var e=[],t=zi;function r(n){if(n!=null&&!isNaN(n=+n))return t((ry(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(df),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>S6e(e,i/n))},r.copy=function(){return rG(t).domain(e)},Zc.apply(r,arguments)}function K5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=zi,u,f=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[e,t,r]},d.clamp=function(m){return arguments.length?(f=!!m,d):f},d.interpolator=function(m){return arguments.length?(c=m,d):c};function g(m){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=Y6e(m,[v,b,w]),d):[c(0),c(.5),c(1)]}}return d.range=g(im),d.rangeRound=g(VP),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function nG(){var e=Ff(K5()(zi));return e.copy=function(){return $f(e,nG())},Zc.apply(e,arguments)}function aG(){var e=WP(K5()).domain([.1,1,10]);return e.copy=function(){return $f(e,aG()).base(e.base())},Zc.apply(e,arguments)}function iG(){var e=HP(K5());return e.copy=function(){return $f(e,iG()).constant(e.constant())},Zc.apply(e,arguments)}function aN(){var e=GP(K5());return e.copy=function(){return $f(e,aN()).exponent(e.exponent())},Zc.apply(e,arguments)}function FIe(){return aN.apply(null,arguments).exponent(.5)}const RM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:X1,scaleDiverging:nG,scaleDivergingLog:aG,scaleDivergingPow:aN,scaleDivergingSqrt:FIe,scaleDivergingSymlog:iG,scaleIdentity:RH,scaleImplicit:xE,scaleLinear:Yb,scaleLog:$H,scaleOrdinal:FP,scalePoint:qg,scalePow:KP,scaleQuantile:UH,scaleQuantize:zH,scaleRadial:VH,scaleSequential:ZH,scaleSequentialLog:eG,scaleSequentialPow:nN,scaleSequentialQuantile:rG,scaleSequentialSqrt:RIe,scaleSequentialSymlog:tG,scaleSqrt:yOe,scaleSymlog:BH,scaleThreshold:qH,scaleTime:LIe,scaleUtc:MIe,tickFormat:MH},Symbol.toStringTag,{value:"Module"}));var $Ie=Qp;function BIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!$Ie(s):r(s,o)))var o=s,l=i}return l}var sG=BIe;function VIe(e,t){return e>t}var UIe=VIe,zIe=sG,qIe=UIe,WIe=am;function HIe(e){return e&&e.length?zIe(e,WIe,qIe):void 0}var GIe=HIe;const Y5=sn(GIe);function KIe(e,t){return e<t}var YIe=KIe,XIe=sG,QIe=YIe,JIe=am;function ZIe(e){return e&&e.length?XIe(e,JIe,QIe):void 0}var e8e=ZIe;const X5=sn(e8e);var t8e=yP,r8e=Rf,n8e=pH,a8e=vs;function i8e(e,t){var r=a8e(e)?t8e:n8e;return r(e,r8e(t))}var s8e=i8e,o8e=hH,l8e=s8e;function c8e(e,t){return o8e(l8e(e,t),1)}var u8e=c8e;const f8e=sn(u8e);var h8e=DP;function d8e(e,t){return h8e(e,t)}var p8e=d8e;const Q5=sn(p8e);var sm=1e9,m8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sN,Pn=!0,bo="[DecimalError] ",Rh=bo+"Invalid argument: ",iN=bo+"Exponent out of range: ",om=Math.floor,mh=Math.pow,g8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Is,Da=1e7,wn=7,oG=9007199254740991,Zb=om(oG/wn),Rt={};Rt.absoluteValue=Rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Rt.comparedTo=Rt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Rt.decimalPlaces=Rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Rt.dividedBy=Rt.div=function(e){return kc(this,new this.constructor(e))};Rt.dividedToIntegerBy=Rt.idiv=function(e){var t=this,r=t.constructor;return un(kc(t,new r(e),0,1),r.precision)};Rt.equals=Rt.eq=function(e){return!this.cmp(e)};Rt.exponent=function(){return ma(this)};Rt.greaterThan=Rt.gt=function(e){return this.cmp(e)>0};Rt.greaterThanOrEqualTo=Rt.gte=function(e){return this.cmp(e)>=0};Rt.isInteger=Rt.isint=function(){return this.e>this.d.length-2};Rt.isNegative=Rt.isneg=function(){return this.s<0};Rt.isPositive=Rt.ispos=function(){return this.s>0};Rt.isZero=function(){return this.s===0};Rt.lessThan=Rt.lt=function(e){return this.cmp(e)<0};Rt.lessThanOrEqualTo=Rt.lte=function(e){return this.cmp(e)<1};Rt.logarithm=Rt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Is))throw Error(bo+"NaN");if(r.s<1)throw Error(bo+(r.s?"NaN":"-Infinity"));return r.eq(Is)?new n(0):(Pn=!1,t=kc(tv(r,i),tv(e,i),i),Pn=!0,un(t,a))};Rt.minus=Rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uG(t,e):lG(t,(e.s=-e.s,e))};Rt.modulo=Rt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(bo+"NaN");return r.s?(Pn=!1,t=kc(r,e,0,1).times(e),Pn=!0,r.minus(t)):un(new n(r),a)};Rt.naturalExponential=Rt.exp=function(){return cG(this)};Rt.naturalLogarithm=Rt.ln=function(){return tv(this)};Rt.negated=Rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Rt.plus=Rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lG(t,e):uG(t,(e.s=-e.s,e))};Rt.precision=Rt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rh+e);if(t=ma(a)+1,n=a.d.length-1,r=n*wn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Rt.squareRoot=Rt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(bo+"NaN")}for(e=ma(o),Pn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Nl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=om((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(kc(o,i,s+2)).times(.5),Nl(i.d).slice(0,s)===(t=Nl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(un(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Pn=!0,un(n,r)};Rt.times=Rt.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,d=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=d.length,l<c&&(i=h,h=d,d=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+d[n]*h[a-n-1]+t,i[a--]=o%Da|0,t=o/Da|0;i[a]=(i[a]+t)%Da|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Pn?un(e,f.precision):e};Rt.toDecimalPlaces=Rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ql(e,0,sm),t===void 0?t=n.rounding:ql(t,0,8),un(r,e+ma(r)+1,t))};Rt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zh(n,!0):(ql(e,0,sm),t===void 0?t=a.rounding:ql(t,0,8),n=un(new a(n),e+1,t),r=Zh(n,!0,e+1)),r};Rt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Zh(a):(ql(e,0,sm),t===void 0?t=i.rounding:ql(t,0,8),n=un(new i(a),e+ma(a)+1,t),r=Zh(n.abs(),!1,e+ma(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Rt.toInteger=Rt.toint=function(){var e=this,t=e.constructor;return un(new t(e),ma(e)+1,t.rounding)};Rt.toNumber=function(){return+this};Rt.toPower=Rt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Is);if(o=new l(o),!o.s){if(e.s<1)throw Error(bo+"Infinity");return o}if(o.eq(Is))return o;if(n=l.precision,e.eq(Is))return un(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=oG){for(a=new l(Is),t=Math.ceil(n/wn+4),Pn=!1;r%2&&(a=a.times(o),$M(a.d,t)),r=om(r/2),r!==0;)o=o.times(o),$M(o.d,t);return Pn=!0,e.s<0?new l(Is).div(a):un(a,n)}}else if(i<0)throw Error(bo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Pn=!1,a=e.times(tv(o,n+c)),Pn=!0,a=cG(a),a.s=i,a};Rt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ma(a),n=Zh(a,r<=i.toExpNeg||r>=i.toExpPos)):(ql(e,1,sm),t===void 0?t=i.rounding:ql(t,0,8),a=un(new i(a),e,t),r=ma(a),n=Zh(a,e<=r||r<=i.toExpNeg,e)),n};Rt.toSignificantDigits=Rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ql(e,1,sm),t===void 0?t=n.rounding:ql(t,0,8)),un(new n(r),e,t)};Rt.toString=Rt.valueOf=Rt.val=Rt.toJSON=Rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ma(e),r=e.constructor;return Zh(e,t<=r.toExpNeg||t>=r.toExpPos)};function lG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Pn?un(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/wn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Da|0,l[i]%=Da;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Pn?un(t,f):t}function ql(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rh+e)}function Nl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=wn-n.length,r&&(i+=Mu(r)),i+=n;s=e[t],n=s+"",r=wn-n.length,r&&(i+=Mu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var kc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Da|0,s=i/Da|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Da+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,d,g,m,y,v,b,w,D,P,O,E,A,S=n.constructor,I=n.s==a.s?1:-1,T=n.d,C=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(bo+"Division by zero");for(l=n.e-a.e,E=C.length,P=T.length,d=new S(I),g=d.d=[],c=0;C[c]==(T[c]||0);)++c;if(C[c]>(T[c]||0)&&--l,i==null?b=i=S.precision:s?b=i+(ma(n)-ma(a))+1:b=i,b<0)return new S(0);if(b=b/wn+2|0,c=0,E==1)for(u=0,C=C[0],b++;(c<P||u)&&b--;c++)w=u*Da+(T[c]||0),g[c]=w/C|0,u=w%C|0;else{for(u=Da/(C[0]+1)|0,u>1&&(C=e(C,u),T=e(T,u),E=C.length,P=T.length),D=E,m=T.slice(0,E),y=m.length;y<E;)m[y++]=0;A=C.slice(),A.unshift(0),O=C[0],C[1]>=Da/2&&++O;do u=0,o=t(C,m,E,y),o<0?(v=m[0],E!=y&&(v=v*Da+(m[1]||0)),u=v/O|0,u>1?(u>=Da&&(u=Da-1),f=e(C,u),h=f.length,y=m.length,o=t(f,m,h,y),o==1&&(u--,r(f,E<h?A:C,h))):(u==0&&(o=u=1),f=C.slice()),h=f.length,h<y&&f.unshift(0),r(m,f,y),o==-1&&(y=m.length,o=t(C,m,E,y),o<1&&(u++,r(m,E<y?A:C,y))),y=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[y++]=T[D]||0:(m=[T[D]],y=1);while((D++<P||m[0]!==void 0)&&b--)}return g[0]||g.shift(),d.e=l,un(d,s?i+ma(d)+1:i)}}();function cG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ma(e)>16)throw Error(iN+ma(e));if(!e.s)return new u(Is);for(t==null?(Pn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(mh(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Is),u.precision=o;;){if(a=un(a.times(e),o),r=r.times(++l),s=i.plus(kc(a,r,o)),Nl(s.d).slice(0,o)===Nl(i.d).slice(0,o)){for(;c--;)i=un(i.times(i),o);return u.precision=f,t==null?(Pn=!0,un(i,f)):i}i=s}}function ma(e){for(var t=e.e*wn,r=e.d[0];r>=10;r/=10)t++;return t}function vA(e,t,r){if(t>e.LN10.sd())throw Pn=!0,r&&(e.precision=r),Error(bo+"LN10 precision limit exceeded");return un(new e(e.LN10),t)}function Mu(e){for(var t="";e--;)t+="0";return t}function tv(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,d=e,g=d.d,m=d.constructor,y=m.precision;if(d.s<1)throw Error(bo+(d.s?"NaN":"-Infinity"));if(d.eq(Is))return new m(0);if(t==null?(Pn=!1,c=y):c=t,d.eq(10))return t==null&&(Pn=!0),vA(m,c);if(c+=h,m.precision=c,r=Nl(g),n=r.charAt(0),i=ma(d),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Nl(d.d),n=r.charAt(0),f++;i=ma(d),n>1?(d=new m("0."+r),i++):d=new m(n+"."+r.slice(1))}else return l=vA(m,c+2,y).times(i+""),d=tv(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=y,t==null?(Pn=!0,un(d,y)):d;for(o=s=d=kc(d.minus(Is),d.plus(Is),c),u=un(d.times(d),c),a=3;;){if(s=un(s.times(u),c),l=o.plus(kc(s,new m(a),c)),Nl(l.d).slice(0,c)===Nl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(vA(m,c+2,y).times(i+""))),o=kc(o,new m(f),c),m.precision=y,t==null?(Pn=!0,un(o,y)):o;o=l,a+=2}}function FM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=om(r/wn),e.d=[],n=(r+1)%wn,r<0&&(n+=wn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wn;n<a;)e.d.push(+t.slice(n,n+=wn));t=t.slice(n),n=wn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Pn&&(e.e>Zb||e.e<-Zb))throw Error(iN+r)}else e.s=0,e.e=0,e.d=[0];return e}function un(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=wn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/wn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=wn,a=n-wn+s}if(r!==void 0&&(i=mh(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/mh(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ma(e),f.length=1,t=t-i-1,f[0]=mh(10,(wn-t%wn)%wn),e.e=om(-t/wn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=mh(10,wn-n),f[u]=a>0?(c/mh(10,s-a)%mh(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Da&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Da)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Pn&&(e.e>Zb||e.e<-Zb))throw Error(iN+ma(e));return e}function uG(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Pn?un(t,d):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(d/wn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Da-1;--l[i],l[a]+=Da}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Pn?un(t,d):t):new h(0)}function Zh(e,t,r){var n,a=ma(e),i=Nl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Mu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Mu(-a-1)+i,r&&(n=r-s)>0&&(i+=Mu(n))):a>=s?(i+=Mu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Mu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Mu(n))),e.s<0?"-"+i:i}function $M(e,t){if(e.length>t)return e.length=t,!0}function fG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Rh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return FM(s,i.toString())}else if(typeof i!="string")throw Error(Rh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,g8e.test(i))FM(s,i);else throw Error(Rh+i)}if(a.prototype=Rt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=fG,a.config=a.set=v8e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function v8e(e){if(!e||typeof e!="object")throw Error(bo+"Object expected");var t,r,n,a=["precision",1,sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(om(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Rh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rh+r+": "+n);return this}var sN=fG(m8e);Is=new sN(1);const rn=sN;function y8e(e){return _8e(e)||w8e(e)||b8e(e)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8e(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function w8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _8e(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S8e=function(t){return t},hG={"@@functional/placeholder":!0},dG=function(t){return t===hG},BM=function(t){return function r(){return arguments.length===0||arguments.length===1&&dG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},A8e=function e(t,r){return t===1?r:BM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==hG}).length;return s>=t?r.apply(void 0,a):e(t-s,BM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return dG(f)?l.shift():f});return r.apply(void 0,y8e(u).concat(l))}))})},J5=function(t){return A8e(t.length,t)},AE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},T8e=J5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),E8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return S8e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},TE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},pG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function k8e(e){var t;return e===0?t=1:t=Math.floor(new rn(e).abs().log(10).toNumber())+1,t}function C8e(e,t,r){for(var n=new rn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var P8e=J5(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),N8e=J5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),O8e=J5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Z5={rangeStep:C8e,getDigitCount:k8e,interpolateNumber:P8e,uninterpolateNumber:N8e,uninterpolateTruncation:O8e};function EE(e){return j8e(e)||D8e(e)||mG(e)||I8e()}function I8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function j8e(e){if(Array.isArray(e))return kE(e)}function rv(e,t){return R8e(e)||M8e(e,t)||mG(e,t)||L8e()}function L8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mG(e,t){if(e){if(typeof e=="string")return kE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(e,t)}}function kE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function R8e(e){if(Array.isArray(e))return e}function gG(e){var t=rv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function vG(e,t,r){if(e.lte(0))return new rn(0);var n=Z5.getDigitCount(e.toNumber()),a=new rn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new rn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new rn(Math.ceil(l))}function F8e(e,t,r){var n=1,a=new rn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new rn(10).pow(Z5.getDigitCount(e)-1),a=new rn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new rn(Math.floor(e)))}else e===0?a=new rn(Math.floor((t-1)/2)):r||(a=new rn(Math.floor(e)));var s=Math.floor((t-1)/2),o=E8e(T8e(function(l){return a.add(new rn(l-s).mul(n)).toNumber()}),AE);return o(0,t)}function yG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new rn(0),tickMin:new rn(0),tickMax:new rn(0)};var i=vG(new rn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new rn(0):(s=new rn(e).add(t).div(2),s=s.sub(new rn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new rn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?yG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new rn(o).mul(i)),tickMax:s.add(new rn(l).mul(i))})}function $8e(e){var t=rv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=gG([r,n]),l=rv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(EE(AE(0,a-1).map(function(){return 1/0}))):[].concat(EE(AE(0,a-1).map(function(){return-1/0})),[u]);return r>n?TE(f):f}if(c===u)return F8e(c,a,i);var h=yG(c,u,s,i),d=h.step,g=h.tickMin,m=h.tickMax,y=Z5.rangeStep(g,m.add(new rn(.1).mul(d)),d);return r>n?TE(y):y}function B8e(e,t){var r=rv(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=gG([n,a]),o=rv(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=vG(new rn(c).sub(l).div(u-1),i,0),h=[].concat(EE(Z5.rangeStep(new rn(l),new rn(c).sub(new rn(.99).mul(f)),f)),[c]);return n>a?TE(h):h}var V8e=pG($8e),U8e=pG(B8e),z8e="Invariant failed";function ed(e,t){throw new Error(z8e)}var q8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}function W8e(e,t){return Y8e(e)||K8e(e,t)||G8e(e,t)||H8e()}function H8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G8e(e,t){if(e){if(typeof e=="string")return VM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VM(e,t)}}function VM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Y8e(e){if(Array.isArray(e))return e}function X8e(e,t){if(e==null)return{};var r=Q8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wG(n.key),n)}}function eDe(e,t,r){return t&&Z8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tDe(e,t,r){return t=tw(t),rDe(e,xG()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function rDe(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nDe(e)}function nDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function aDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CE(e,t)}function CE(e,t){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CE(e,t)}function bG(e,t,r){return t=wG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=iDe(e,"string");return xp(t)=="symbol"?t:t+""}function iDe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sy=function(e){function t(){return J8e(this,t),tDe(this,t,arguments)}return aDe(t,e),eDe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=X8e(n,q8e),d=_r(h,!1);this.props.direction==="x"&&u.type!=="number"&&ed();var g=l.map(function(m){var y=c(m,o),v=y.x,b=y.y,w=y.value,D=y.errorVal;if(!D)return null;var P=[],O,E;if(Array.isArray(D)){var A=W8e(D,2);O=A[0],E=A[1]}else O=E=D;if(i==="vertical"){var S=u.scale,I=b+a,T=I+s,C=I-s,L=S(w-O),H=S(w+E);P.push({x1:H,y1:T,x2:H,y2:C}),P.push({x1:L,y1:I,x2:H,y2:I}),P.push({x1:L,y1:T,x2:L,y2:C})}else if(i==="horizontal"){var V=f.scale,J=v+a,te=J-s,q=J+s,B=V(w-O),re=V(w+E);P.push({x1:te,y1:re,x2:q,y2:re}),P.push({x1:J,y1:B,x2:J,y2:re}),P.push({x1:te,y1:B,x2:q,y2:B})}return Ne.createElement(aa,ew({className:"recharts-errorBar",key:"bar-".concat(P.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},d),P.map(function(ee){return Ne.createElement("line",ew({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return Ne.createElement(aa,{className:"recharts-errorBars"},g)}}])}(Ne.Component);bG(sy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bG(sy,"displayName","ErrorBar");function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){sDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sDe(e,t,r){return t=oDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oDe(e){var t=lDe(e,"string");return nv(t)=="symbol"?t:t+""}function lDe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _G=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Ps(r,Tc);if(!s)return null;var o=Tc.defaultProps,l=o!==void 0?sh(sh({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,g=d.sectors||d.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?sh(sh({},h),f.props):{},g=d.dataKey,m=d.name,y=d.legendType,v=d.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:oN(f),value:m||g,payload:d}}),sh(sh(sh({},l),Tc.getWithHeight(s,a)),{},{payload:c,item:s})};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function zM(e){return hDe(e)||fDe(e)||uDe(e)||cDe()}function cDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uDe(e,t){if(e){if(typeof e=="string")return PE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(e,t)}}function fDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hDe(e){if(Array.isArray(e))return PE(e)}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $0(e,t,r){return t=dDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dDe(e){var t=pDe(e,"string");return av(t)=="symbol"?t:t+""}function pDe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(e,t,r){return xr(e)||xr(t)?r:Aa(t)?mo(e,t,r):fr(t)?t(e):r}function Wg(e,t,r,n){var a=f8e(e,function(o){return Bs(o,t)});if(r==="number"){var i=a.filter(function(o){return At(o)||parseFloat(o)});return i.length?[X5(i),Y5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!xr(o)}):a;return s.map(function(o){return Aa(o)||o instanceof Date?o:""})}var mDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,d=void 0;if(Zo(f-u)!==Zo(h-f)){var g=[];if(Zo(h-f)===Zo(l[1]-l[0])){d=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{d=u;var y=h+l[1]-l[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+f)/2&&t<=(w+f)/2){s=a[c].index;break}}}else for(var D=0;D<o;D++)if(D===0&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D===o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},oN=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Kn(Kn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},gDe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var g=u[f[h]],m=g.items,y=g.cateAxisId,v=m.filter(function(E){return Sc(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?Kn(Kn({},b),v[0].props):v[0].props,D=w.barSize,P=w[y];s[P]||(s[P]=[]);var O=xr(D)?r:D;s[P].push({item:v[0],stackList:v.slice(1),barSize:xr(O)?void 0:Jh(O,n,0)})}}return s},vDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=Jh(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=a/l,g=s.reduce(function(D,P){return D+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&d>0&&(h=!0,d*=.9,g=l*d);var m=(a-g)/2>>0,y={offset:m-c,size:0};u=s.reduce(function(D,P){var O={item:P.item,position:{offset:y.offset+y.size+c,size:h?d:P.barSize}},E=[].concat(zM(D),[O]);return y=E[E.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){E.push({item:A,position:y})}),E},f)}else{var v=Jh(n,a,0,!0);a-2*v-(l-1)*c<=0&&(c=0);var b=(a-2*v-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(D,P,O){var E=[].concat(zM(D),[{item:P.item,position:{offset:v+(b+c)*O+(b-w)/2,size:w}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return u},yDe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=_G({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,d=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&d!=="center"&&At(t[d]))return Kn(Kn({},t),{},$0({},d,t[d]+(f||0)));if((m==="horizontal"||m==="vertical"&&d==="center")&&g!=="middle"&&At(t[g]))return Kn(Kn({},t),{},$0({},g,t[g]+(h||0)))}return t},xDe=function(t,r,n){return xr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},SG=function(t,r,n,a,i){var s=r.props.children,o=go(s,sy).filter(function(c){return xDe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=Bs(u,n);if(xr(f))return c;var h=Array.isArray(f)?[X5(f),Y5(f)]:[f,f],d=l.reduce(function(g,m){var y=Bs(u,m,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},bDe=function(t,r,n,a,i){var s=r.map(function(o){return SG(t,o,n,i,a)}).filter(function(o){return!xr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},AG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&SG(t,l,c,a)||Wg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},TG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},EG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},xc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Zo(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Zv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},yA=new WeakMap,Cx=function(t,r){if(typeof r!="function")return t;yA.has(t)||yA.set(t,new WeakMap);var n=yA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},wDe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:X1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Yb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:qg(),realScaleType:"point"}:i==="category"?{scale:X1(),realScaleType:"band"}:{scale:Yb(),realScaleType:"linear"};if(Qh(a)){var l="scale".concat(M5(a));return{scale:(RM[l]||qg)(),realScaleType:RM[l]?l:"point"}}return fr(a)?{scale:a}:{scale:qg(),realScaleType:"point"}},WM=1e-4,_De=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-WM,s=Math.max(a[0],a[1])+WM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},SDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},ADe=function(t,r){if(!r||r.length!==2||!At(r[0])||!At(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!At(t[0])||t[0]<n)&&(i[0]=n),(!At(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},TDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Zv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},EDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Zv(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},kDe={sign:TDe,expand:USe,none:fp,silhouette:zSe,wiggle:qSe,positive:EDe},CDe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=kDe[n],s=VSe().keys(a).value(function(o,l){return+Bs(o,l,0)}).order(eE).offset(i);return s(t)},PDe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var d,g=(d=h.type)!==null&&d!==void 0&&d.defaultProps?Kn(Kn({},h.type.defaultProps),h.props):h.props,m=g.stackId,y=g.hide;if(y)return f;var v=g[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(Aa(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[ey("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Kn(Kn({},f),{},$0({},v,b))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var g={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(m,y){var v=d.stackGroups[y];return Kn(Kn({},m),{},$0({},y,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:CDe(t,v.items,i)}))},g)}return Kn(Kn({},f),{},$0({},h,d))},u)},NDe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=V8e(c,i,o);return t.domain([X5(u),Y5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=U8e(f,i,o);return{niceTicks:h}}return null};function HM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xr(a[t.dataKey])){var o=Eb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Bs(a,xr(s)?t.dataKey:s);return xr(l)?null:t.scale(l)}var GM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Bs(s,r.dataKey,r.domain[o]);return xr(l)?null:r.scale(l)-i/2+a},ODe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},IDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Kn(Kn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Aa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},DDe=function(t){return t.reduce(function(r,n){return[X5(n.concat([r[0]]).filter(At)),Y5(n.concat([r[1]]).filter(At))]},[1/0,-1/0])},kG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=DDe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},KM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NE=function(t,r,n){if(fr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(At(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(KM.test(t[0])){var i=+KM.exec(t[0])[1];a[0]=r[0]-i}else fr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(At(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(YM.test(t[1])){var s=+YM.exec(t[1])[1];a[1]=r[1]+s}else fr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=LP(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},XM=function(t,r,n){return!t||!t.length||Q5(t,mo(n,"type.defaultProps.domain"))?r:t},CG=function(t,r){var n=t.type.defaultProps?Kn(Kn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Kn(Kn({},_r(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:oN(t),value:Bs(r,a),type:l,payload:r,chartType:c,hide:u})};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){jDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jDe(e,t,r){return t=LDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LDe(e){var t=MDe(e,"string");return iv(t)=="symbol"?t:t+""}function MDe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nw=Math.PI/180,RDe=function(t){return t*180/Math.PI},Za=function(t,r,n,a){return{x:t+Math.cos(-nw*a)*n,y:r+Math.sin(-nw*a)*n}},FDe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},$De=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=FDe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:RDe(c),angleInRadian:c}},BDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},VDe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},ZM=function(t,r){var n=t.x,a=t.y,i=$De({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=BDe(r),f=u.startAngle,h=u.endAngle,d=o,g;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}return g?JM(JM({},r),{},{radius:s,angle:VDe(d,r)}):null};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}var UDe=["offset"];function zDe(e){return GDe(e)||HDe(e)||WDe(e)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function HDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GDe(e){if(Array.isArray(e))return OE(e)}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KDe(e,t){if(e==null)return{};var r=YDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){XDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XDe(e,t,r){return t=QDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QDe(e){var t=JDe(e,"string");return sv(t)=="symbol"?t:t+""}function JDe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}var ZDe=function(t){var r=t.value,n=t.formatter,a=xr(t.children)?r:t.children;return fr(n)?n(a):a},eje=function(t,r){var n=Zo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},tje=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,g=l.endAngle,m=l.clockWise,y=(f+h)/2,v=eje(d,g),b=v>=0?1:-1,w,D;a==="insideStart"?(w=d+b*s,D=m):a==="insideEnd"?(w=g-b*s,D=!m):a==="end"&&(w=g+b*s,D=m),D=v<=0?D:!D;var P=Za(c,u,y,w),O=Za(c,u,y,w+(D?1:-1)*359),E="M".concat(P.x,",").concat(P.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(D?0:1,`,
    `).concat(O.x,",").concat(O.y),A=xr(t.id)?ey("recharts-radial-line-"):t.id;return Ne.createElement("text",ov({},n,{dominantBaseline:"central",className:Lr("recharts-radial-bar-label",o)}),Ne.createElement("defs",null,Ne.createElement("path",{id:A,d:E})),Ne.createElement("textPath",{xlinkHref:"#".concat(A)},r))},rje=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var d=Za(s,o,c+n,h),g=d.x,m=d.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Za(s,o,y,h),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},nje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,d=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,y=m*a,v=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:d};return xa(xa({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var D={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return xa(xa({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return xa(xa({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var O={x:o+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return xa(xa({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return i==="insideLeft"?xa({x:o+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?xa({x:o+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},E):i==="insideTop"?xa({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?xa({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},E):i==="insideTopLeft"?xa({x:o+y,y:l+h,textAnchor:b,verticalAnchor:g},E):i==="insideTopRight"?xa({x:o+c-y,y:l+h,textAnchor:v,verticalAnchor:g},E):i==="insideBottomLeft"?xa({x:o+y,y:l+u-h,textAnchor:b,verticalAnchor:d},E):i==="insideBottomRight"?xa({x:o+c-y,y:l+u-h,textAnchor:v,verticalAnchor:d},E):Jp(i)&&(At(i.x)||Th(i.x))&&(At(i.y)||Th(i.y))?xa({x:o+Jh(i.x,c),y:l+Jh(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):xa({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},aje=function(t){return"cx"in t&&At(t.cx)};function wi(e){var t=e.offset,r=t===void 0?5:t,n=KDe(e,UDe),a=xa({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||xr(o)&&xr(l)&&!Q.isValidElement(c)&&!fr(c))return null;if(Q.isValidElement(c))return Q.cloneElement(c,a);var d;if(fr(c)){if(d=Q.createElement(c,a),Q.isValidElement(d))return d}else d=ZDe(a);var g=aje(i),m=_r(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return tje(a,d,m);var y=g?rje(a):nje(a);return Ne.createElement(Ub,ov({className:Lr("recharts-label",f)},m,y,{breakAll:h}),d)}wi.displayName="Label";var PG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,d=t.top,g=t.left,m=t.width,y=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(At(m)&&At(y)){if(At(f)&&At(h))return{x:f,y:h,width:m,height:y};if(At(d)&&At(g))return{x:d,y:g,width:m,height:y}}return At(f)&&At(h)?{x:f,y:h,width:0,height:0}:At(r)&&At(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:t.viewBox?t.viewBox:{}},ije=function(t,r){return t?t===!0?Ne.createElement(wi,{key:"label-implicit",viewBox:r}):Aa(t)?Ne.createElement(wi,{key:"label-implicit",viewBox:r,value:t}):Q.isValidElement(t)?t.type===wi?Q.cloneElement(t,{key:"label-implicit",viewBox:r}):Ne.createElement(wi,{key:"label-implicit",content:t,viewBox:r}):fr(t)?Ne.createElement(wi,{key:"label-implicit",content:t,viewBox:r}):Jp(t)?Ne.createElement(wi,ov({viewBox:r},t,{key:"label-implicit"})):null:null},sje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=PG(t),s=go(a,wi).map(function(l,c){return Q.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=ije(t.label,r||i);return[o].concat(zDe(s))};wi.parseViewBox=PG;wi.renderCallByParent=sje;function oje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var lje=oje;const cje=sn(lje);function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}var uje=["valueAccessor"],fje=["data","dataKey","clockWise","id","textBreakAll"];function hje(e){return gje(e)||mje(e)||pje(e)||dje()}function dje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pje(e,t){if(e){if(typeof e=="string")return IE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(e,t)}}function mje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gje(e){if(Array.isArray(e))return IE(e)}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){vje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vje(e,t,r){return t=yje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yje(e){var t=xje(e,"string");return lv(t)=="symbol"?t:t+""}function xje(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nR(e,t){if(e==null)return{};var r=bje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wje=function(t){return Array.isArray(t.value)?cje(t.value):t.value};function pf(e){var t=e.valueAccessor,r=t===void 0?wje:t,n=nR(e,uje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=nR(n,fje);return!a||!a.length?null:Ne.createElement(aa,{className:"recharts-label-list"},a.map(function(u,f){var h=xr(i)?r(u,f):Bs(u&&u.payload,i),d=xr(o)?{}:{id:"".concat(o,"-").concat(f)};return Ne.createElement(wi,aw({},_r(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:wi.parseViewBox(xr(s)?u:rR(rR({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}pf.displayName="LabelList";function _je(e,t){return e?e===!0?Ne.createElement(pf,{key:"labelList-implicit",data:t}):Ne.isValidElement(e)||fr(e)?Ne.createElement(pf,{key:"labelList-implicit",data:t,content:e}):Jp(e)?Ne.createElement(pf,aw({data:t},e,{key:"labelList-implicit"})):null:null}function Sje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=go(n,pf).map(function(s,o){return Q.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=_je(e.label,t);return[i].concat(hje(a))}pf.renderCallByParent=Sje;function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DE.apply(this,arguments)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){Aje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aje(e,t,r){return t=Tje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tje(e){var t=Eje(e,"string");return cv(t)=="symbol"?t:t+""}function Eje(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kje=function(t,r){var n=Zo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Px=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/nw,h=c?i:i+s*f,d=Za(r,n,u,h),g=Za(r,n,a,h),m=c?i-s*f:i,y=Za(r,n,u*Math.cos(f*nw),m);return{center:d,circleTangency:g,lineTangency:y,theta:f}},NG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=kje(s,o),c=s+l,u=Za(r,n,i,s),f=Za(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var d=Za(r,n,a,s),g=Za(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Cje=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=Zo(u-c),h=Px({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,g=h.lineTangency,m=h.theta,y=Px({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=y.circleTangency,b=y.lineTangency,w=y.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(D<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):NG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var O=Px({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=O.circleTangency,A=O.lineTangency,S=O.theta,I=Px({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=I.circleTangency,C=I.lineTangency,L=I.theta,H=l?Math.abs(c-u):Math.abs(c-u)-S-L;if(H<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},Pje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OG=function(t){var r=iR(iR({},Pje),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var d=Lr("recharts-sector",h),g=s-i,m=Jh(o,g,0,!0),y;return m>0&&Math.abs(u-f)<360?y=Cje({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=NG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Ne.createElement("path",DE({},_r(r,!0),{className:d,d:y,role:"img"}))};function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jE.apply(this,arguments)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){Nje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nje(e,t,r){return t=Oje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oje(e){var t=Ije(e,"string");return uv(t)=="symbol"?t:t+""}function Ije(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lR={curveBasisClosed:NSe,curveBasisOpen:OSe,curveBasis:PSe,curveBumpX:mSe,curveBumpY:gSe,curveLinearClosed:ISe,curveLinear:F5,curveMonotoneX:DSe,curveMonotoneY:jSe,curveNatural:LSe,curveStep:MSe,curveStepAfter:FSe,curveStepBefore:RSe},Nx=function(t){return t.x===+t.x&&t.y===+t.y},Hm=function(t){return t.x},Gm=function(t){return t.y},Dje=function(t,r){if(fr(t))return t;var n="curve".concat(M5(t));return(n==="curveMonotone"||n==="curveBump")&&r?lR["".concat(n).concat(r==="vertical"?"Y":"X")]:lR[n]||F5},jje=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Dje(n,o),f=c?i.filter(function(m){return Nx(m)}):i,h;if(Array.isArray(s)){var d=c?s.filter(function(m){return Nx(m)}):s,g=f.map(function(m,y){return oR(oR({},m),{},{base:d[y]})});return o==="vertical"?h=bx().y(Gm).x1(Hm).x0(function(m){return m.base.x}):h=bx().x(Hm).y1(Gm).y0(function(m){return m.base.y}),h.defined(Nx).curve(u),h(g)}return o==="vertical"&&At(s)?h=bx().y(Gm).x1(Hm).x0(s):At(s)?h=bx().x(Hm).y1(Gm).y0(s):h=OW().x(Hm).y(Gm),h.defined(Nx).curve(u),h(f)},LE=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?jje(t):a;return Ne.createElement("path",jE({},_r(t,!1),kb(t),{className:Lr("recharts-curve",r),d:s,ref:i}))},IG={exports:{}},Lje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mje=Lje,Rje=Mje;function DG(){}function jG(){}jG.resetWarningCache=DG;var Fje=function(){function e(n,a,i,s,o,l){if(l!==Rje){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jG,resetWarningCache:DG};return r.PropTypes=r,r};IG.exports=Fje();var $je=IG.exports;const zr=sn($je);var Bje=Object.getOwnPropertyNames,Vje=Object.getOwnPropertySymbols,Uje=Object.prototype.hasOwnProperty;function cR(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ox(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function uR(e){return Bje(e).concat(Vje(e))}var zje=Object.hasOwn||function(e,t){return Uje.call(e,t)};function gd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var qje="__v",Wje="__o",Hje="_owner",fR=Object.getOwnPropertyDescriptor,hR=Object.keys;function Gje(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Kje(e,t){return gd(e.getTime(),t.getTime())}function Yje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Xje(e,t){return e===t}function dR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,d=o.value;if(r.equals(h[0],d[0],l,f,e,t,r)&&r.equals(h[1],d[1],h[0],d[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Qje=gd;function Jje(e,t,r){var n=hR(e),a=n.length;if(hR(t).length!==a)return!1;for(;a-- >0;)if(!LG(e,t,r,n[a]))return!1;return!0}function Km(e,t,r){var n=uR(e),a=n.length;if(uR(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!LG(e,t,r,i)||(s=fR(e,i),o=fR(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Zje(e,t){return gd(e.valueOf(),t.valueOf())}function eLe(e,t){return e.source===t.source&&e.flags===t.flags}function pR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function tLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function rLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function LG(e,t,r,n){return(n===Hje||n===Wje||n===qje)&&(e.$$typeof||t.$$typeof)?!0:zje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var nLe="[object Arguments]",aLe="[object Boolean]",iLe="[object Date]",sLe="[object Error]",oLe="[object Map]",lLe="[object Number]",cLe="[object Object]",uLe="[object RegExp]",fLe="[object Set]",hLe="[object String]",dLe="[object URL]",pLe=Array.isArray,mR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,gR=Object.assign,mLe=Object.prototype.toString.call.bind(Object.prototype.toString);function gLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,y){if(g===m)return!0;if(g==null||m==null)return!1;var v=typeof g;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?s(g,m,y):v==="function"?a(g,m,y):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,y);if(pLe(g))return t(g,m,y);if(mR!=null&&mR(g))return f(g,m,y);if(b===Date)return r(g,m,y);if(b===RegExp)return c(g,m,y);if(b===Map)return i(g,m,y);if(b===Set)return u(g,m,y);var w=mLe(g);return w===iLe?r(g,m,y):w===uLe?c(g,m,y):w===oLe?i(g,m,y):w===fLe?u(g,m,y):w===cLe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,y):w===dLe?h(g,m,y):w===sLe?n(g,m,y):w===nLe?o(g,m,y):w===aLe||w===lLe||w===hLe?l(g,m,y):!1}}function vLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Km:Gje,areDatesEqual:Kje,areErrorsEqual:Yje,areFunctionsEqual:Xje,areMapsEqual:n?cR(dR,Km):dR,areNumbersEqual:Qje,areObjectsEqual:n?Km:Jje,arePrimitiveWrappersEqual:Zje,areRegExpsEqual:eLe,areSetsEqual:n?cR(pR,Km):pR,areTypedArraysEqual:n?Km:tLe,areUrlsEqual:rLe};if(r&&(a=gR({},a,r(a))),t){var i=Ox(a.areArraysEqual),s=Ox(a.areMapsEqual),o=Ox(a.areObjectsEqual),l=Ox(a.areSetsEqual);a=gR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function yLe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function xLe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,d=u.meta;return r(l,c,{cache:h,equals:a,meta:d,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var bLe=Bf();Bf({strict:!0});Bf({circular:!0});Bf({circular:!0,strict:!0});Bf({createInternalComparator:function(){return gd}});Bf({strict:!0,createInternalComparator:function(){return gd}});Bf({circular:!0,createInternalComparator:function(){return gd}});Bf({circular:!0,createInternalComparator:function(){return gd},strict:!0});function Bf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=vLe(e),l=gLe(o),c=n?n(l):yLe(l);return xLe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function wLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):wLe(a)};requestAnimationFrame(n)}function ME(e){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ME(e)}function _Le(e){return ELe(e)||TLe(e)||ALe(e)||SLe()}function SLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ALe(e,t){if(e){if(typeof e=="string")return yR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yR(e,t)}}function yR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ELe(e){if(Array.isArray(e))return e}function kLe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=_Le(s),l=o[0],c=o.slice(1);if(typeof l=="number"){vR(a.bind(null,c),l);return}a(l),vR(a.bind(null,c));return}ME(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return t=CLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CLe(e){var t=PLe(e,"string");return fv(t)==="symbol"?t:String(t)}function PLe(e,t){if(fv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NLe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},OLe=function(t){return t},ILe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hg=function(t,r){return Object.keys(r).reduce(function(n,a){return bR(bR({},n),{},MG({},a,t(a,r[a])))},{})},wR=function(t,r,n){return t.map(function(a){return"".concat(ILe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function DLe(e,t){return MLe(e)||LLe(e,t)||RG(e,t)||jLe()}function jLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function MLe(e){if(Array.isArray(e))return e}function RLe(e){return BLe(e)||$Le(e)||RG(e)||FLe()}function FLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(e,t){if(e){if(typeof e=="string")return RE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(e,t)}}function $Le(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BLe(e){if(Array.isArray(e))return RE(e)}function RE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iw=1e-4,FG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},$G=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},_R=function(t,r){return function(n){var a=FG(t,r);return $G(a,n)}},VLe=function(t,r){return function(n){var a=FG(t,r),i=[].concat(RLe(a.map(function(s,o){return s*o}).slice(1)),[0]);return $G(i,n)}},SR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=DLe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=_R(a,s),h=_R(i,o),d=VLe(a,s),g=function(v){return v>1?1:v<0?0:v},m=function(v){for(var b=v>1?1:v,w=b,D=0;D<8;++D){var P=f(w)-b,O=d(w);if(Math.abs(P-b)<iw||O<iw)return h(w);w=g(w-P/O)}return h(w)};return m.isStepper=!1,m},ULe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,g=h*i,m=h+(d-g)*o/1e3,y=h*o/1e3+u;return Math.abs(y-f)<iw&&Math.abs(m)<iw?[f,0]:[y,m]};return l.isStepper=!0,l.dt=o,l},zLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SR(a);case"spring":return ULe();default:if(a.split("(")[0]==="cubic-bezier")return SR(a)}return typeof a=="function"?a:null};function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function AR(e){return HLe(e)||WLe(e)||BG(e)||qLe()}function qLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HLe(e){if(Array.isArray(e))return $E(e)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){FE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FE(e,t,r){return t=GLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GLe(e){var t=KLe(e,"string");return hv(t)==="symbol"?t:String(t)}function KLe(e,t){if(hv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YLe(e,t){return JLe(e)||QLe(e,t)||BG(e,t)||XLe()}function XLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BG(e,t){if(e){if(typeof e=="string")return $E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(e,t)}}function $E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function JLe(e){if(Array.isArray(e))return e}var sw=function(t,r,n){return t+(r-t)*n},BE=function(t){var r=t.from,n=t.to;return r!==n},ZLe=function e(t,r,n){var a=Hg(function(i,s){if(BE(s)){var o=t(s.from,s.to,s.velocity),l=YLe(o,2),c=l[0],u=l[1];return Ha(Ha({},s),{},{from:c,velocity:u})}return s},r);return n<1?Hg(function(i,s){return BE(s)?Ha(Ha({},s),{},{velocity:sw(s.velocity,a[i].velocity,n),from:sw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const eMe=function(e,t,r,n,a){var i=NLe(e,t),s=i.reduce(function(y,v){return Ha(Ha({},y),{},FE({},v,[e[v],t[v]]))},{}),o=i.reduce(function(y,v){return Ha(Ha({},y),{},FE({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Hg(function(v,b){return b.from},o)},d=function(){return!Object.values(o).filter(BE).length},g=function(v){c||(c=v);var b=v-c,w=b/r.dt;o=ZLe(r,o,w),a(Ha(Ha(Ha({},e),t),h())),c=v,d()||(l=requestAnimationFrame(f))},m=function(v){u||(u=v);var b=(v-u)/n,w=Hg(function(P,O){return sw.apply(void 0,AR(O).concat([r(b)]))},s);if(a(Ha(Ha(Ha({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var D=Hg(function(P,O){return sw.apply(void 0,AR(O).concat([r(1)]))},s);a(Ha(Ha(Ha({},e),t),D))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}var tMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rMe(e,t){if(e==null)return{};var r=nMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nMe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function xA(e){return oMe(e)||sMe(e)||iMe(e)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iMe(e,t){if(e){if(typeof e=="string")return VE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(e,t)}}function sMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oMe(e){if(Array.isArray(e))return VE(e)}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fg(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function uMe(e,t,r){return t&&cMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VG(e){var t=fMe(e,"string");return bp(t)==="symbol"?t:String(t)}function fMe(e,t){if(bp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UE(e,t)}function dMe(e){var t=pMe();return function(){var n=ow(e),a;if(t){var i=ow(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return zE(this,a)}}function zE(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qE(e)}function qE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}var qc=function(e){hMe(r,e);var t=dMe(r);function r(n,a){var i;lMe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(qE(i)),i.changeStyle=i.changeStyle.bind(qE(i)),!o||d<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),zE(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},zE(i);i.state={style:l?fg({},l,c):c}}else i.state={style:{}};return i}return uMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var d={style:l?fg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(bLe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var y={style:l?fg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(y)}this.runAnimation($o($o({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,d=eMe(s,o,zLe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=d()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(m,y,v){if(v===0)return m;var b=y.duration,w=y.easing,D=w===void 0?"ease":w,P=y.style,O=y.properties,E=y.onAnimationEnd,A=v>0?s[v-1]:y,S=O||Object.keys(P);if(typeof D=="function"||D==="spring")return[].concat(xA(m),[i.runJSAnimation.bind(i,{from:A.style,to:P,duration:b,easing:D}),b]);var I=wR(S,b,D),T=$o($o($o({},A.style),P),{},{transition:I});return[].concat(xA(m),[T,b,E]).filter(OLe)};return this.manager.start([l].concat(xA(s.reduce(d,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=kLe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,d=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?fg({},o,l):l,y=wR(Object.keys(m),s,c);g.start([u,i,$o($o({},m),{},{transition:y}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=rMe(a,tMe),c=Q.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(d){var g=d.props,m=g.style,y=m===void 0?{}:m,v=g.className,b=Q.cloneElement(d,$o($o({},l),{},{style:$o($o({},y),u),className:v}));return b};return c===1?f(Q.Children.only(i)):Ne.createElement("div",null,Q.Children.map(i,function(h){return f(h)}))}}]),r}(Q.PureComponent);qc.displayName="Animate";qc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qc.propTypes={from:zr.oneOfType([zr.object,zr.string]),to:zr.oneOfType([zr.object,zr.string]),attributeName:zr.string,duration:zr.number,begin:zr.number,easing:zr.oneOfType([zr.string,zr.func]),steps:zr.arrayOf(zr.shape({duration:zr.number.isRequired,style:zr.object.isRequired,easing:zr.oneOfType([zr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zr.func]),properties:zr.arrayOf("string"),onAnimationEnd:zr.func})),children:zr.oneOfType([zr.node,zr.func]),isActive:zr.bool,canBegin:zr.bool,onAnimationEnd:zr.func,shouldReAnimate:zr.bool,onAnimationStart:zr.func,onAnimationReStart:zr.func};function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function mMe(e,t){return xMe(e)||yMe(e,t)||vMe(e,t)||gMe()}function gMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vMe(e,t){if(e){if(typeof e=="string")return kR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kR(e,t)}}function kR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function xMe(e){if(Array.isArray(e))return e}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){bMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bMe(e,t,r){return t=wMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wMe(e){var t=_Me(e,"string");return dv(t)=="symbol"?t:t+""}function _Me(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},SMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},AMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lN=function(t){var r=PR(PR({},AMe),t),n=Q.useRef(),a=Q.useState(-1),i=mMe(a,2),s=i[0],o=i[1];Q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&o(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,d=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=Lr("recharts-rectangle",d);return b?Ne.createElement(qc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(D){var P=D.width,O=D.height,E=D.x,A=D.y;return Ne.createElement(qc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:v,easing:g},Ne.createElement("path",lw({},_r(r,!0),{className:w,d:NR(E,A,P,O,h),ref:n})))}):Ne.createElement("path",lw({},_r(r,!0),{className:w,d:NR(l,c,u,f,h)}))};function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WE.apply(this,arguments)}var cN=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Lr("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ne.createElement("circle",WE({},_r(t,!1),kb(t),{className:s,cx:r,cy:n,r:a})):null};function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}var TMe=["x","y","top","left","width","height","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(this,arguments)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){kMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kMe(e,t,r){return t=CMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CMe(e){var t=PMe(e,"string");return pv(t)=="symbol"?t:t+""}function PMe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NMe(e,t){if(e==null)return{};var r=OMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IMe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},DMe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,d=h===void 0?0:h,g=t.className,m=NMe(t,TMe),y=EMe({x:n,y:i,top:o,left:c,width:f,height:d},m);return!At(n)||!At(i)||!At(f)||!At(d)||!At(o)||!At(c)?null:Ne.createElement("path",HE({},_r(y,!0),{className:Lr("recharts-cross",g),d:IMe(n,i,f,d,o,c)}))},jMe=tH,LMe=jMe(Object.getPrototypeOf,Object),MMe=LMe,RMe=Qc,FMe=MMe,$Me=Jc,BMe="[object Object]",VMe=Function.prototype,UMe=Object.prototype,UG=VMe.toString,zMe=UMe.hasOwnProperty,qMe=UG.call(Object);function WMe(e){if(!$Me(e)||RMe(e)!=BMe)return!1;var t=FMe(e);if(t===null)return!0;var r=zMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&UG.call(r)==qMe}var HMe=WMe;const GMe=sn(HMe);var KMe=Qc,YMe=Jc,XMe="[object Boolean]";function QMe(e){return e===!0||e===!1||YMe(e)&&KMe(e)==XMe}var JMe=QMe;const ZMe=sn(JMe);function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function eRe(e,t){return aRe(e)||nRe(e,t)||rRe(e,t)||tRe()}function tRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rRe(e,t){if(e){if(typeof e=="string")return IR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IR(e,t)}}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function aRe(e){if(Array.isArray(e))return e}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){iRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iRe(e,t,r){return t=sRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sRe(e){var t=oRe(e,"string");return mv(t)=="symbol"?t:t+""}function oRe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},lRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cRe=function(t){var r=jR(jR({},lRe),t),n=Q.useRef(),a=Q.useState(-1),i=eRe(a,2),s=i[0],o=i[1];Q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,d=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=Lr("recharts-trapezoid",d);return v?Ne.createElement(qc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:v},function(w){var D=w.upperWidth,P=w.lowerWidth,O=w.height,E=w.x,A=w.y;return Ne.createElement(qc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},Ne.createElement("path",cw({},_r(r,!0),{className:b,d:LR(E,A,D,P,O),ref:n})))}):Ne.createElement("g",null,Ne.createElement("path",cw({},_r(r,!0),{className:b,d:LR(l,c,u,f,h)})))},uRe=["option","shapeType","propTransformer","activeClassName","isActive"];function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function fRe(e,t){if(e==null)return{};var r=hRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){dRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dRe(e,t,r){return t=pRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pRe(e){var t=mRe(e,"string");return gv(t)=="symbol"?t:t+""}function mRe(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gRe(e,t){return uw(uw({},t),e)}function vRe(e,t){return e==="symbols"}function RR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ne.createElement(lN,r);case"trapezoid":return Ne.createElement(cRe,r);case"sector":return Ne.createElement(OG,r);case"symbols":if(vRe(t))return Ne.createElement(kP,r);break;default:return null}}function yRe(e){return Q.isValidElement(e)?e.props:e}function xRe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?gRe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=fRe(e,uRe),c;if(Q.isValidElement(t))c=Q.cloneElement(t,uw(uw({},l),yRe(t)));else if(fr(t))c=t(l);else if(GMe(t)&&!ZMe(t)){var u=a(t,l);c=Ne.createElement(RR,{shapeType:r,elementProps:u})}else{var f=l;c=Ne.createElement(RR,{shapeType:r,elementProps:f})}return o?Ne.createElement(aa,{className:s},c):c}function e_(e,t){return t!=null&&"trapezoids"in e.props}function t_(e,t){return t!=null&&"sectors"in e.props}function vv(e,t){return t!=null&&"points"in e.props}function bRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function wRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function _Re(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function SRe(e,t){var r;return e_(e,t)?r=bRe:t_(e,t)?r=wRe:vv(e,t)&&(r=_Re),r}function ARe(e,t){var r;return e_(e,t)?r="trapezoids":t_(e,t)?r="sectors":vv(e,t)&&(r="points"),r}function TRe(e,t){if(e_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(t_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vv(e,t)?t.payload:{}}function ERe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=ARe(r,t),i=TRe(r,t),s=n.filter(function(l,c){var u=Q5(i,l),f=r.props[a].filter(function(g){var m=SRe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),d=c===h;return u&&d}),o=n.indexOf(s[s.length-1]);return o}var kRe=Math.ceil,CRe=Math.max;function PRe(e,t,r,n){for(var a=-1,i=CRe(kRe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var NRe=PRe,ORe=bH,FR=1/0,IRe=17976931348623157e292;function DRe(e){if(!e)return e===0?e:0;if(e=ORe(e),e===FR||e===-FR){var t=e<0?-1:1;return t*IRe}return e===e?e:0}var zG=DRe,jRe=NRe,LRe=U5,bA=zG;function MRe(e){return function(t,r,n){return n&&typeof n!="number"&&LRe(t,r,n)&&(r=n=void 0),t=bA(t),r===void 0?(r=t,t=0):r=bA(r),n=n===void 0?t<r?1:-1:bA(n),jRe(t,r,n,e)}}var RRe=MRe,FRe=RRe,$Re=FRe(),BRe=$Re;const fw=sn(BRe);function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return t=VRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VRe(e){var t=URe(e,"string");return yv(t)=="symbol"?t:t+""}function URe(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zRe=["Webkit","Moz","O","ms"],qRe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=zRe.reduce(function(i,s){return BR(BR({},i),{},qG({},s+n,r))},{});return a[t]=r,a};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(this,arguments)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){ks(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HG(n.key),n)}}function HRe(e,t,r){return t&&UR(e.prototype,t),r&&UR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GRe(e,t,r){return t=dw(t),KRe(e,WG()?Reflect.construct(t,r||[],dw(e).constructor):t.apply(e,r))}function KRe(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YRe(e)}function YRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(e)}function XRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GE(e,t)}function ks(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=QRe(e,"string");return wp(t)=="symbol"?t:t+""}function QRe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JRe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=qg().domain(fw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},zR=function(t){return t.changedTouches&&!!t.changedTouches.length},_p=function(e){function t(r){var n;return WRe(this,t),n=GRe(this,t,[r]),ks(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ks(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ks(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),ks(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ks(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ks(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ks(n,"handleSlideDragStart",function(a){var i=zR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return XRe(t,e),HRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),d=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Bs(i[n],o,n);return fr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var y=this.getIndex({startX:s+m,endX:o+m});(y.startIndex!==h||y.endIndex!==d)&&g&&g(y),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=zR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,g=u.onChange,m=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-d-c):b<0&&(b=Math.max(b,f-c)),v[s]=c+b;var w=this.getIndex(v),D=w.startIndex,P=w.endIndex,O=function(){var A=y.length-1;return s==="startX"&&(o>l?D%m===0:P%m===0)||o<l&&P===A||s==="endX"&&(o>l?P%m===0:D%m===0)||o>l&&P===A};this.setState(ks(ks({},s,c+b),"brushMoveStartX",n.pageX),function(){g&&O()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var d=o[h];a==="startX"&&d>=c||a==="endX"&&d<=l||this.setState(ks({},a,d),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ne.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=Q.Children.only(c);return f?Ne.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,g=l.data,m=l.startIndex,y=l.endIndex,v=Math.max(n,this.props.x),b=wA(wA({},_r(this.props,!1)),{},{x:v,y:c,width:u,height:f}),w=d||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return Ne.createElement(aa,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,g={pointerEvents:"none",fill:c};return Ne.createElement(aa,{className:"recharts-brush-texts"},Ne.createElement(Ub,hw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},g),this.getTextOfTick(a)),Ne.createElement(Ub,hw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,g=h.endX,m=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!At(o)||!At(l)||!At(c)||!At(u)||c<=0||u<=0)return null;var w=Lr("recharts-brush",i),D=Ne.Children.count(s)===1,P=qRe("userSelect","none");return Ne.createElement(aa,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(d,g),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ne.createElement(Ne.Fragment,null,Ne.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ne.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ne.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ne.isValidElement(n)?i=Ne.cloneElement(n,a):fr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return wA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?JRe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(d){return a.scale(d)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(Q.PureComponent);ks(_p,"displayName","Brush");ks(_p,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ZRe=jP;function eFe(e,t){var r;return ZRe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var tFe=eFe,rFe=GW,nFe=Rf,aFe=tFe,iFe=vs,sFe=U5;function oFe(e,t,r){var n=iFe(e)?rFe:aFe;return r&&sFe(e,t,r)&&(t=void 0),n(e,nFe(t))}var lFe=oFe;const cFe=sn(lFe);var Bl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},qR=mH;function uFe(e,t,r){t=="__proto__"&&qR?qR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fFe=uFe,hFe=fFe,dFe=dH,pFe=Rf;function mFe(e,t){var r={};return t=pFe(t),dFe(e,function(n,a,i){hFe(r,a,t(n,a,i))}),r}var gFe=mFe;const vFe=sn(gFe);function yFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var xFe=yFe,bFe=jP;function wFe(e,t){var r=!0;return bFe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var _Fe=wFe,SFe=xFe,AFe=_Fe,TFe=Rf,EFe=vs,kFe=U5;function CFe(e,t,r){var n=EFe(e)?SFe:AFe;return r&&kFe(e,t,r)&&(t=void 0),n(e,TFe(t))}var PFe=CFe;const GG=sn(PFe);var NFe=["x","y"];function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(this,arguments)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){OFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OFe(e,t,r){return t=IFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IFe(e){var t=DFe(e,"string");return xv(t)=="symbol"?t:t+""}function DFe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jFe(e,t){if(e==null)return{};var r=LFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MFe(e,t){var r=e.x,n=e.y,a=jFe(e,NFe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ym(Ym(Ym(Ym(Ym({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function HR(e){return Ne.createElement(xRe,KE({shapeType:"rectangle",propTransformer:MFe,activeClassName:"recharts-active-bar"},e))}var RFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||ed(),r)}},FFe=["value","background"],KG;function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function $Fe(e,t){if(e==null)return{};var r=BFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){Qu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function UFe(e,t,r){return t&&KR(e.prototype,t),r&&KR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zFe(e,t,r){return t=mw(t),qFe(e,YG()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function qFe(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WFe(e)}function WFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function HFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function Qu(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=GFe(e,"string");return Sp(t)=="symbol"?t:t+""}function GFe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oy=function(e){function t(){var r;VFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=zFe(this,t,[].concat(a)),Qu(r,"state",{isAnimationFinished:!1}),Qu(r,"id",ey("recharts-bar-")),Qu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Qu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return HFe(t,e),UFe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=_r(this.props,!1);return n&&n.map(function(f,h){var d=h===l,g=d?c:s,m=ha(ha(ha({},u),f),{},{isActive:d,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ne.createElement(aa,pw({className:"recharts-bar-rectangle"},Cb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Ne.createElement(HR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ne.createElement(qc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g=d.t,m=i.map(function(y,v){var b=h&&h[v];if(b){var w=Ko(b.x,y.x),D=Ko(b.y,y.y),P=Ko(b.width,y.width),O=Ko(b.height,y.height);return ha(ha({},y),{},{x:w(g),y:D(g),width:P(g),height:O(g)})}if(s==="horizontal"){var E=Ko(0,y.height),A=E(g);return ha(ha({},y),{},{y:y.y+y.height-A,height:A})}var S=Ko(0,y.width),I=S(g);return ha(ha({},y),{},{width:I})});return Ne.createElement(aa,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Q5(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=_r(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=$Fe(c,FFe);if(!f)return null;var d=ha(ha(ha(ha(ha({},h),{},{fill:"#eee"},f),l),Cb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ne.createElement(HR,pw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=go(u,sy);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,d=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Bs(y,v)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(aa,g,f.map(function(m){return Ne.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=Lr("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,D=b||w,P=xr(m)?this.id:m;return Ne.createElement(aa,{className:v},b||w?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(P)},Ne.createElement("rect",{x:b?c:c-f/2,y:w?u:u-h/2,width:b?f:f*2,height:w?h:h*2}))):null,Ne.createElement(aa,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,P),(!d||y)&&pf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(Q.PureComponent);KG=oy;Qu(oy,"displayName","Bar");Qu(oy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ec.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qu(oy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,d=SDe(n,r);if(!d)return null;var g=t.layout,m=r.type.defaultProps,y=m!==void 0?ha(ha({},m),r.props):r.props,v=y.dataKey,b=y.children,w=y.minPointSize,D=g==="horizontal"?s:i,P=c?D.scale.domain():null,O=ODe({numericAxis:D}),E=go(b,_H),A=f.map(function(S,I){var T,C,L,H,V,J;c?T=ADe(c[u+I],P):(T=Bs(S,v),Array.isArray(T)||(T=[O,T]));var te=RFe(w,KG.defaultProps.minPointSize)(T[1],I);if(g==="horizontal"){var q,B=[s.scale(T[0]),s.scale(T[1])],re=B[0],ee=B[1];C=GM({axis:i,ticks:o,bandSize:a,offset:d.offset,entry:S,index:I}),L=(q=ee??re)!==null&&q!==void 0?q:void 0,H=d.size;var N=re-ee;if(V=Number.isNaN(N)?0:N,J={x:C,y:s.y,width:H,height:s.height},Math.abs(te)>0&&Math.abs(V)<Math.abs(te)){var R=Zo(V||te)*(Math.abs(te)-Math.abs(V));L-=R,V+=R}}else{var z=[i.scale(T[0]),i.scale(T[1])],X=z[0],G=z[1];if(C=X,L=GM({axis:s,ticks:l,bandSize:a,offset:d.offset,entry:S,index:I}),H=G-X,V=d.size,J={x:i.x,y:L,width:i.width,height:V},Math.abs(te)>0&&Math.abs(H)<Math.abs(te)){var Z=Zo(H||te)*(Math.abs(te)-Math.abs(H));H+=Z}}return ha(ha(ha({},S),{},{x:C,y:L,width:H,height:V,value:c?T:T[1],payload:S,background:J},E&&E[I]&&E[I].props),{},{tooltipPayload:[CG(r,S)],tooltipPosition:{x:C+H/2,y:L+V/2}})});return ha({data:A,layout:g},h)});function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function KFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QG(n.key),n)}}function YFe(e,t,r){return t&&YR(e.prototype,t),r&&YR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){r_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=XFe(e,"string");return bv(t)=="symbol"?t:t+""}function XFe(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QFe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ps(c,oy);return u.reduce(function(d,g){var m=r[g],y=m.orientation,v=m.domain,b=m.padding,w=b===void 0?{}:b,D=m.mirror,P=m.reversed,O="".concat(y).concat(D?"Mirror":""),E,A,S,I,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=v[1]-v[0],L=1/0,H=m.categoricalDomain.sort(n_e);if(H.forEach(function(z,X){X>0&&(L=Math.min((z||0)-(H[X-1]||0),L))}),Number.isFinite(L)){var V=L/C,J=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=V*J/2),m.padding==="no-gap"){var te=Jh(t.barCategoryGap,V*J),q=V*J/2;E=q-te-(q-te)/J*te}}}a==="xAxis"?A=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:a==="yAxis"?A=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:A=m.range,P&&(A=[A[1],A[0]]);var B=wDe(m,i,h),re=B.scale,ee=B.realScaleType;re.domain(v).range(A),_De(re);var N=NDe(re,Wo(Wo({},m),{},{realScaleType:ee}));a==="xAxis"?(T=y==="top"&&!D||y==="bottom"&&D,S=n.left,I=f[O]-T*m.height):a==="yAxis"&&(T=y==="left"&&!D||y==="right"&&D,S=f[O]-T*m.width,I=n.top);var R=Wo(Wo(Wo({},m),N),{},{realScaleType:ee,x:S,y:I,scale:re,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=rw(R,N),!m.hide&&a==="xAxis"?f[O]+=(T?-1:1)*R.height:m.hide||(f[O]+=(T?-1:1)*R.width),Wo(Wo({},d),{},r_({},g,R))},{})},JG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},JFe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return JG({x:r,y:n},{x:a,y:i})},ZG=function(){function e(t){KFe(this,e),this.scale=t}return YFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();r_(ZG,"EPS",1e-4);var uN=function(t){var r=Object.keys(t).reduce(function(n,a){return Wo(Wo({},n),{},r_({},a,ZG.create(t[a])))},{});return Wo(Wo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return vFe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return GG(a,function(i,s){return r[s].isInRange(i)})}})};function ZFe(e){return(e%180+180)%180}var e7e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ZFe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},t7e=Rf,r7e=ty,n7e=B5;function a7e(e){return function(t,r,n){var a=Object(t);if(!r7e(t)){var i=t7e(r);t=n7e(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var i7e=a7e,s7e=zG;function o7e(e){var t=s7e(e),r=t%1;return t===t?r?t-r:t:0}var l7e=o7e,c7e=oH,u7e=Rf,f7e=l7e,h7e=Math.max;function d7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:f7e(r);return a<0&&(a=h7e(n+a,0)),c7e(e,u7e(t),a)}var p7e=d7e,m7e=i7e,g7e=p7e,v7e=m7e(g7e),y7e=v7e;const x7e=sn(y7e);var b7e=i5e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fN=Q.createContext(void 0),hN=Q.createContext(void 0),eK=Q.createContext(void 0),tK=Q.createContext({}),rK=Q.createContext(void 0),nK=Q.createContext(0),aK=Q.createContext(0),QR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=b7e(i);return Ne.createElement(fN.Provider,{value:n},Ne.createElement(hN.Provider,{value:a},Ne.createElement(tK.Provider,{value:i},Ne.createElement(eK.Provider,{value:u},Ne.createElement(rK.Provider,{value:s},Ne.createElement(nK.Provider,{value:c},Ne.createElement(aK.Provider,{value:l},o)))))))},w7e=function(){return Q.useContext(rK)},iK=function(t){var r=Q.useContext(fN);r==null&&ed();var n=r[t];return n==null&&ed(),n},_7e=function(){var t=Q.useContext(fN);return Uu(t)},S7e=function(){var t=Q.useContext(hN),r=x7e(t,function(n){return GG(n.domain,Number.isFinite)});return r||Uu(t)},sK=function(t){var r=Q.useContext(hN);r==null&&ed();var n=r[t];return n==null&&ed(),n},A7e=function(){var t=Q.useContext(eK);return t},T7e=function(){return Q.useContext(tK)},dN=function(){return Q.useContext(aK)},pN=function(){return Q.useContext(nK)};function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function E7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lK(n.key),n)}}function C7e(e,t,r){return t&&k7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P7e(e,t,r){return t=gw(t),N7e(e,oK()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function N7e(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O7e(e)}function O7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function I7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){mN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mN(e,t,r){return t=lK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=D7e(e,"string");return Ap(t)=="symbol"?t:t+""}function D7e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j7e(e,t){return F7e(e)||R7e(e,t)||M7e(e,t)||L7e()}function L7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7e(e,t){if(e){if(typeof e=="string")return eF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eF(e,t)}}function eF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function F7e(e){if(Array.isArray(e))return e}function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QE.apply(this,arguments)}var $7e=function(t,r){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,r):fr(t)?n=t(r):n=Ne.createElement("line",QE({},r,{className:"recharts-reference-line-line"})),n},B7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,d=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(Bl(c,"discard")&&!t.y.isInRange(m))return null;var y=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?y.reverse():y}if(r){var v=c.x,b=t.x.apply(v,{position:s});if(Bl(c,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+d},{x:b,y:f}];return o==="top"?w.reverse():w}if(a){var D=c.segment,P=D.map(function(O){return t.apply(O,{position:s})});return Bl(c,"discard")&&cFe(P,function(O){return!t.isInRange(O)})?null:P}return null};function V7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=w7e(),u=iK(a),f=sK(i),h=A7e();if(!c||!h)return null;Ac(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=uN({x:u.scale,y:f.scale}),g=Aa(t),m=Aa(r),y=n&&n.length===2,v=B7e(d,g,m,y,h,e.position,u.orientation,f.orientation,e);if(!v)return null;var b=j7e(v,2),w=b[0],D=w.x,P=w.y,O=b[1],E=O.x,A=O.y,S=Bl(e,"hidden")?"url(#".concat(c,")"):void 0,I=ZR(ZR({clipPath:S},_r(e,!0)),{},{x1:D,y1:P,x2:E,y2:A});return Ne.createElement(aa,{className:Lr("recharts-reference-line",o)},$7e(s,I),wi.renderCallByParent(e,JFe({x1:D,y1:P,x2:E,y2:A})))}var gN=function(e){function t(){return E7e(this,t),P7e(this,t,arguments)}return I7e(t,e),C7e(t,[{key:"render",value:function(){return Ne.createElement(V7e,this.props)}}])}(Ne.Component);mN(gN,"displayName","ReferenceLine");mN(gN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(this,arguments)}function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(n){n_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uK(n.key),n)}}function q7e(e,t,r){return t&&z7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W7e(e,t,r){return t=vw(t),H7e(e,cK()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function H7e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G7e(e)}function G7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function K7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZE(e,t)}function n_(e,t,r){return t=uK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=Y7e(e,"string");return Tp(t)=="symbol"?t:t+""}function Y7e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=uN({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Bl(t,"discard")&&!s.isInRange(o)?null:o},a_=function(e){function t(){return U7e(this,t),W7e(this,t,arguments)}return K7e(t,e),q7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Aa(a),u=Aa(i);if(Ac(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=X7e(this.props);if(!f)return null;var h=f.x,d=f.y,g=this.props,m=g.shape,y=g.className,v=Bl(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=rF(rF({clipPath:v},_r(this.props,!0)),{},{cx:h,cy:d});return Ne.createElement(aa,{className:Lr("recharts-reference-dot",y)},t.renderDot(m,b),wi.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(Ne.Component);n_(a_,"displayName","ReferenceDot");n_(a_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});n_(a_,"renderDot",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):fr(e)?r=e(t):r=Ne.createElement(cN,JE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e3.apply(this,arguments)}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hK(n.key),n)}}function Z7e(e,t,r){return t&&J7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e9e(e,t,r){return t=yw(t),t9e(e,fK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function t9e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9e(e)}function r9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function n9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function i_(e,t,r){return t=hK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=a9e(e,"string");return Ep(t)=="symbol"?t:t+""}function a9e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i9e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=uN({x:u.scale,y:f.scale}),d={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Bl(i,"discard")&&(!h.isInRange(d)||!h.isInRange(g))?null:JG(d,g)},s_=function(e){function t(){return Q7e(this,t),e9e(this,t,arguments)}return n9e(t,e),Z7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Ac(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Aa(a),h=Aa(i),d=Aa(s),g=Aa(o),m=this.props.shape;if(!f&&!h&&!d&&!g&&!m)return null;var y=i9e(f,h,d,g,this.props);if(!y&&!m)return null;var v=Bl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ne.createElement(aa,{className:Lr("recharts-reference-area",l)},t.renderRect(m,aF(aF({clipPath:v},_r(this.props,!0)),y)),wi.renderCallByParent(this.props,y))}}])}(Ne.Component);i_(s_,"displayName","ReferenceArea");i_(s_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});i_(s_,"renderRect",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):fr(e)?r=e(t):r=Ne.createElement(lN,e3({},t,{className:"recharts-reference-area-rect"})),r});function dK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function s9e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return e7e(n,r)}function o9e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function xw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function l9e(e,t){return dK(e,t+1)}function c9e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:dK(n,c)};var m=l,y,v=function(){return y===void 0&&(y=r(g,m)),y},b=g.coordinate,w=l===0||xw(e,b,v,u,o);w||(l=0,u=s,c+=1),w&&(u=b+e*(v()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){u9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9e(e,t,r){return t=f9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9e(e){var t=h9e(e,"string");return wv(t)=="symbol"?t:t+""}function h9e(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d9e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var d=i[h],g,m=function(){return g===void 0&&(g=r(d,h)),g};if(h===s-1){var y=e*(d.coordinate+e*m()/2-l);i[h]=d=gi(gi({},d),{},{tickCoord:y>0?d.coordinate-y*e:d.coordinate})}else i[h]=d=gi(gi({},d),{},{tickCoord:d.coordinate});var v=xw(e,d.tickCoord,m,o,l);v&&(l=d.tickCoord-e*(m()/2+a),i[h]=gi(gi({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function p9e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=gi(gi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var d=xw(e,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-e*(f/2+a),s[o-1]=gi(gi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var w=s[b],D,P=function(){return D===void 0&&(D=r(w,b)),D};if(b===0){var O=e*(w.coordinate-e*P()/2-l);s[b]=w=gi(gi({},w),{},{tickCoord:O<0?w.coordinate-O*e:w.coordinate})}else s[b]=w=gi(gi({},w),{},{tickCoord:w.coordinate});var E=xw(e,w.tickCoord,P,l,c);E&&(l=w.tickCoord+e*(P()/2+a),s[b]=gi(gi({},w),{},{isShow:!0}))},y=0;y<g;y++)m(y);return s}function vN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(At(l)||Ec.isSsr)return l9e(a,typeof l=="number"&&At(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",g=u&&d==="width"?zg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,D){var P=fr(c)?c(w.value,D):w.value;return d==="width"?s9e(zg(P,{fontSize:t,letterSpacing:r}),g,f):zg(P,{fontSize:t,letterSpacing:r})[d]},y=a.length>=2?Zo(a[1].coordinate-a[0].coordinate):1,v=o9e(i,y,d);return l==="equidistantPreserveStart"?c9e(y,v,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=p9e(y,v,m,a,s,l==="preserveStartEnd"):h=d9e(y,v,m,a,s),h.filter(function(b){return b.isShow}))}var m9e=["viewBox"],g9e=["viewBox"],v9e=["ticks"];function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(this,arguments)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){yN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _A(e,t){if(e==null)return{};var r=y9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mK(n.key),n)}}function b9e(e,t,r){return t&&oF(e.prototype,t),r&&oF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w9e(e,t,r){return t=bw(t),_9e(e,pK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function _9e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S9e(e)}function S9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function A9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(e,t)}function yN(e,t,r){return t=mK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=T9e(e,"string");return kp(t)=="symbol"?t:t+""}function T9e(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lm=function(e){function t(r){var n;return x9e(this,t),n=w9e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return A9e(t,e),b9e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=_A(n,m9e),o=this.props,l=o.viewBox,c=_A(o,g9e);return!R0(i,l)||!R0(s,c)||!R0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,d,g,m,y,v,b,w=f?-1:1,D=n.tickSize||u,P=At(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":d=g=n.coordinate,y=s+ +!f*l,m=y-w*D,b=m-w*h,v=P;break;case"left":m=y=n.coordinate,g=i+ +!f*o,d=g-w*D,v=d-w*h,b=P;break;case"right":m=y=n.coordinate,g=i+ +f*o,d=g+w*D,v=d+w*h,b=P;break;default:d=g=n.coordinate,y=s+ +f*l,m=y+w*D,b=m+w*h,v=P;break}return{line:{x1:d,y1:m,x2:g,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Ri(Ri(Ri({},_r(this.props,!1)),_r(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Ri(Ri({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=Ri(Ri({},f),{},{x1:a+d*s,y1:i,x2:a+d*s,y2:i+o})}return Ne.createElement("line",x0({},f,{className:Lr("recharts-cartesian-axis-line",mo(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,d=vN(Ri(Ri({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=_r(this.props,!1),v=_r(u,!1),b=Ri(Ri({},y),{},{fill:"none"},_r(l,!1)),w=d.map(function(D,P){var O=s.getTickLineCoord(D),E=O.line,A=O.tick,S=Ri(Ri(Ri(Ri({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:c},v),A),{},{index:P,payload:D,visibleTicksCount:d.length,tickFormatter:f});return Ne.createElement(aa,x0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Cb(s.props,D,P)),l&&Ne.createElement("line",x0({},b,E,{className:Lr("recharts-cartesian-axis-tick-line",mo(l,"className"))})),u&&t.renderTickItem(u,S,"".concat(fr(f)?f(D.value,P):D.value).concat(h||"")))});return Ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,d=_A(f,v9e),g=h;return fr(l)&&(g=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!g||!g.length?null:Ne.createElement(aa,{className:Lr("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),wi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Ne.isValidElement(n)?s=Ne.cloneElement(n,a):fr(n)?s=n(a):s=Ne.createElement(Ub,x0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(Q.Component);yN(lm,"displayName","CartesianAxis");yN(lm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var E9e=["x1","y1","x2","y2","key"],k9e=["offset"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){C9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9e(e,t,r){return t=P9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9e(e){var t=N9e(e,"string");return td(t)=="symbol"?t:t+""}function N9e(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function cF(e,t){if(e==null)return{};var r=O9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var I9e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ne.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gK(e,t){var r;if(Ne.isValidElement(e))r=Ne.cloneElement(e,t);else if(fr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=cF(t,E9e),c=_r(l,!1);c.offset;var u=cF(c,k9e);r=Ne.createElement("line",Ch({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function D9e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=_i(_i({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return gK(a,c)});return Ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function j9e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=_i(_i({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return gK(a,c)});return Ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function L9e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?a+s-h:u[d+1]-h;if(m<=0)return null;var y=d%t.length;return Ne.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:m,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function M9e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?i+o-h:u[d+1]-h;if(m<=0)return null;var y=d%n.length;return Ne.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:m,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var R9e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return EG(vN(_i(_i(_i({},lm.defaultProps),n),{},{ticks:xc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},F9e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return EG(vN(_i(_i(_i({},lm.defaultProps),n),{},{ticks:xc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Wd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function c2(e){var t,r,n,a,i,s,o=dN(),l=pN(),c=T7e(),u=_i(_i({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Wd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Wd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Wd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Wd.verticalFill,x:At(e.x)?e.x:c.left,y:At(e.y)?e.y:c.top,width:At(e.width)?e.width:c.width,height:At(e.height)?e.height:c.height}),f=u.x,h=u.y,d=u.width,g=u.height,m=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=_7e(),w=S7e();if(!At(d)||d<=0||!At(g)||g<=0||!At(f)||f!==+f||!At(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||R9e,P=u.horizontalCoordinatesGenerator||F9e,O=u.horizontalPoints,E=u.verticalPoints;if((!O||!O.length)&&fr(P)){var A=y&&y.length,S=P({yAxis:w?_i(_i({},w),{},{ticks:A?y:w.ticks}):void 0,width:o,height:l,offset:c},A?!0:m);Ac(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(td(S),"]")),Array.isArray(S)&&(O=S)}if((!E||!E.length)&&fr(D)){var I=v&&v.length,T=D({xAxis:b?_i(_i({},b),{},{ticks:I?v:b.ticks}):void 0,width:o,height:l,offset:c},I?!0:m);Ac(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(td(T),"]")),Array.isArray(T)&&(E=T)}return Ne.createElement("g",{className:"recharts-cartesian-grid"},Ne.createElement(I9e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ne.createElement(D9e,Ch({},u,{offset:c,horizontalPoints:O,xAxis:b,yAxis:w})),Ne.createElement(j9e,Ch({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:w})),Ne.createElement(L9e,Ch({},u,{horizontalPoints:O})),Ne.createElement(M9e,Ch({},u,{verticalPoints:E})))}c2.displayName="CartesianGrid";var $9e=["type","layout","connectNulls","ref"],B9e=["key"];function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function uF(e,t){if(e==null)return{};var r=V9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){Ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hd(e){return W9e(e)||q9e(e)||z9e(e)||U9e()}function U9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9e(e,t){if(e){if(typeof e=="string")return n3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(e,t)}}function q9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W9e(e){if(Array.isArray(e))return n3(e)}function n3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yK(n.key),n)}}function G9e(e,t,r){return t&&hF(e.prototype,t),r&&hF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K9e(e,t,r){return t=ww(t),Y9e(e,vK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function Y9e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9e(e)}function X9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function Q9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function Ho(e,t,r){return t=yK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=J9e(e,"string");return Cp(t)=="symbol"?t:t+""}function J9e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kl=function(e){function t(){var r;H9e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=K9e(this,t,[].concat(a)),Ho(r,"state",{isAnimationFinished:!0,totalLength:0}),Ho(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ho(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(v,b){return v+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,d=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){d=[].concat(Hd(l.slice(0,g)),[f-m]);break}var y=d.length%2===0?[0,h]:[h];return[].concat(Hd(t.repeat(l,u)),Hd(d),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Ho(r,"id",ey("recharts-line-")),Ho(r,"pathRef",function(s){r.mainCurve=s}),Ho(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ho(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Q9e(t,e),G9e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=go(u,sy);if(!f)return null;var h=function(m,y){return{x:m.x,y:m.y,value:m.value,errorVal:Bs(m.payload,y)}},d={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(aa,d,f.map(function(g){return Ne.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=_r(this.props,!1),h=_r(l,!0),d=c.map(function(m,y){var v=Es(Es(Es({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,v)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ne.createElement(aa,Gg({className:"recharts-line-dots",key:"dots"},g),d)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=uF(o,$9e),h=Es(Es(Es({},_r(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ne.createElement(LE,Gg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=s.animateNewValues,m=s.width,y=s.height,v=this.state,b=v.prevPoints,w=v.totalLength;return Ne.createElement(qc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var P=D.t;if(b){var O=b.length/o.length,E=o.map(function(C,L){var H=Math.floor(L*O);if(b[H]){var V=b[H],J=Ko(V.x,C.x),te=Ko(V.y,C.y);return Es(Es({},C),{},{x:J(P),y:te(P)})}if(g){var q=Ko(m*2,C.x),B=Ko(y/2,C.y);return Es(Es({},C),{},{x:q(P),y:B(P)})}return Es(Es({},C),{},{x:C.x,y:C.y})});return i.renderCurveStatically(E,n,a)}var A=Ko(0,w),S=A(P),I;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});I=i.getStrokeDasharray(S,w,T)}else I=i.generateSimpleStrokeDasharray(w,S);return i.renderCurveStatically(o,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!Q5(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,d=a.width,g=a.height,m=a.isAnimationActive,y=a.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=o.length===1,w=Lr("recharts-line",l),D=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,O=D||P,E=xr(y)?this.id:y,A=(n=_r(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=A.r,I=S===void 0?3:S,T=A.strokeWidth,C=T===void 0?2:T,L=h_e(s)?s:{},H=L.clipDot,V=H===void 0?!0:H,J=I*2+C;return Ne.createElement(aa,{className:w},D||P?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(E)},Ne.createElement("rect",{x:D?h:h-d/2,y:P?f:f-g/2,width:D?d:d*2,height:P?g:g*2})),!V&&Ne.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ne.createElement("rect",{x:h-J/2,y:f-J/2,width:d+J,height:g+J}))):null,!b&&this.renderCurve(O,E),this.renderErrorBar(O,E),(b||s)&&this.renderDots(O,V,E),(!m||v)&&pf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Hd(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Hd(s),Hd(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ne.isValidElement(n))i=Ne.cloneElement(n,a);else if(fr(n))i=n(a);else{var s=a.key,o=uF(a,B9e),l=Lr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ne.createElement(cN,Gg({key:s},o,{className:l}))}return i}}])}(Q.PureComponent);Ho(kl,"displayName","Line");Ho(kl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ec.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ho(kl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,d){var g=Bs(h,s);return u==="horizontal"?{x:HM({axis:r,ticks:a,bandSize:o,entry:h,index:d}),y:xr(g)?null:n.scale(g),value:g,payload:h}:{x:xr(g)?null:r.scale(g),y:HM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),value:g,payload:h}});return Es({points:f,layout:u},c)});function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function Z9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wK(n.key),n)}}function t$e(e,t,r){return t&&e$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r$e(e,t,r){return t=_w(t),n$e(e,xK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function n$e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a$e(e)}function a$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function i$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(e,t)}function bK(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=s$e(e,"string");return Pp(t)=="symbol"?t:t+""}function s$e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s3(){return s3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s3.apply(this,arguments)}function o$e(e){var t=e.xAxisId,r=dN(),n=pN(),a=iK(t);return a==null?null:Ne.createElement(lm,s3({},a,{className:Lr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return xc(s,!0)}}))}var B0=function(e){function t(){return Z9e(this,t),r$e(this,t,arguments)}return i$e(t,e),t$e(t,[{key:"render",value:function(){return Ne.createElement(o$e,this.props)}}])}(Ne.Component);bK(B0,"displayName","XAxis");bK(B0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function l$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AK(n.key),n)}}function u$e(e,t,r){return t&&c$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f$e(e,t,r){return t=Sw(t),h$e(e,_K()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function h$e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d$e(e)}function d$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function p$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o3(e,t)}function o3(e,t){return o3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o3(e,t)}function SK(e,t,r){return t=AK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=m$e(e,"string");return Np(t)=="symbol"?t:t+""}function m$e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l3.apply(this,arguments)}var g$e=function(t){var r=t.yAxisId,n=dN(),a=pN(),i=sK(r);return i==null?null:Ne.createElement(lm,l3({},i,{className:Lr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return xc(o,!0)}}))},V0=function(e){function t(){return l$e(this,t),f$e(this,t,arguments)}return p$e(t,e),u$e(t,[{key:"render",value:function(){return Ne.createElement(g$e,this.props)}}])}(Ne.Component);SK(V0,"displayName","YAxis");SK(V0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dF(e){return b$e(e)||x$e(e)||y$e(e)||v$e()}function v$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$e(e,t){if(e){if(typeof e=="string")return c3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c3(e,t)}}function x$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b$e(e){if(Array.isArray(e))return c3(e)}function c3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u3=function(t,r,n,a,i){var s=go(t,gN),o=go(t,a_),l=[].concat(dF(s),dF(o)),c=go(t,s_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,y){if(y.props[u]===n&&Bl(y.props,"extendDomain")&&At(y.props[f])){var v=y.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),c.length){var d="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,y){if(y.props[u]===n&&Bl(y.props,"extendDomain")&&At(y.props[d])&&At(y.props[g])){var v=y.props[d],b=y.props[g];return[Math.min(m[0],v,b),Math.max(m[1],v,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,y){return At(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},TK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,g=new Array(d);h<d;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,d,g){var m=r?r+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,d),!0;case 6:return y.fn.call(y.context,u,f,h,d,g),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var D=y.length,P;for(w=0;w<D;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,f);break;case 4:y[w].fn.call(y[w].context,u,f,h);break;default:if(!b)for(P=1,b=new Array(v-1);P<v;P++)b[P-1]=arguments[P];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var d=r?r+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,d);else{for(var m=0,y=[],v=g.length;m<v;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[d]=y.length===1?y[0]:y:s(this,d)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(TK);var w$e=TK.exports;const _$e=sn(w$e);var SA=new _$e,AA="recharts.syncMouseEvents";function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function S$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EK(n.key),n)}}function T$e(e,t,r){return t&&A$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TA(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=E$e(e,"string");return _v(t)=="symbol"?t:t+""}function E$e(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var k$e=function(){function e(){S$e(this,e),TA(this,"activeIndex",0),TA(this,"coordinateList",[]),TA(this,"layout","horizontal")}return T$e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function C$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&At(n)&&At(a))return!0}return!1}function P$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function kK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Za(t,r,n,a),o=Za(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function N$e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=Za(o,l,c,f),d=Za(o,l,u,f);n=h.x,a=h.y,i=d.x,s=d.y}else return kK(t);return[{x:n,y:a},{x:i,y:s}]}function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function pF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(r),!0).forEach(function(n){O$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O$e(e,t,r){return t=I$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I$e(e){var t=D$e(e,"string");return Sv(t)=="symbol"?t:t+""}function D$e(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,d=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!d||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=LE;if(h==="ScatterChart")g=s,m=DMe;else if(h==="BarChart")g=P$e(f,s,l,u),m=lN;else if(f==="radial"){var y=kK(s),v=y.cx,b=y.cy,w=y.radius,D=y.startAngle,P=y.endAngle;g={cx:v,cy:b,startAngle:D,endAngle:P,innerRadius:w,outerRadius:w},m=OG}else g={points:N$e(f,s,l)},m=LE;var O=Ix(Ix(Ix(Ix({stroke:"#ccc",pointerEvents:"none"},l),g),_r(d,!1)),{},{payload:o,payloadIndex:c,className:Lr("recharts-tooltip-cursor",d.className)});return Q.isValidElement(d)?Q.cloneElement(d,O):Q.createElement(m,O)}var L$e=["item"],M$e=["children","className","width","height","style","compact","title","desc"];function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b0.apply(this,arguments)}function mF(e,t){return $$e(e)||F$e(e,t)||PK(e,t)||R$e()}function R$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function $$e(e){if(Array.isArray(e))return e}function gF(e,t){if(e==null)return{};var r=B$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NK(n.key),n)}}function z$e(e,t,r){return t&&U$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q$e(e,t,r){return t=Aw(t),W$e(e,CK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function W$e(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H$e(e)}function H$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function G$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f3(e,t)}function f3(e,t){return f3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f3(e,t)}function Ip(e){return X$e(e)||Y$e(e)||PK(e)||K$e()}function K$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PK(e,t){if(e){if(typeof e=="string")return h3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h3(e,t)}}function Y$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X$e(e){if(Array.isArray(e))return h3(e)}function h3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(n){Wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wt(e,t,r){return t=NK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=Q$e(e,"string");return Op(t)=="symbol"?t:t+""}function Q$e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J$e={xAxis:["bottom","top"],yAxis:["left","right"]},Z$e={width:"100%",height:"100%"},OK={x:0,y:0};function Dx(e){return e}var eBe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},tBe=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return Ze(Ze(Ze({},a),Za(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return Ze(Ze(Ze({},a),Za(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return OK},o_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Ip(o),Ip(c)):o},[]);return s.length>0?s:t&&t.length&&At(a)&&At(i)?t.slice(a,i+1):[]};function IK(e){return e==="number"?[0,"auto"]:void 0}var d3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=o_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=Eb(d,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Ip(l),[CG(c,h)]):l},[])},yF=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=eBe(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=mDe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=d3(t,r,u,f),d=tBe(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},rBe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,d=TG(u,i);return n.reduce(function(g,m){var y,v=m.type.defaultProps!==void 0?Ze(Ze({},m.type.defaultProps),m.props):m.props,b=v.type,w=v.dataKey,D=v.allowDataOverflow,P=v.allowDuplicatedCategory,O=v.scale,E=v.ticks,A=v.includeHidden,S=v[s];if(g[S])return g;var I=o_(t.data,{graphicalItems:a.filter(function(N){var R,z=s in N.props?N.props[s]:(R=N.type.defaultProps)===null||R===void 0?void 0:R[s];return z===S}),dataStartIndex:l,dataEndIndex:c}),T=I.length,C,L,H;C$e(v.domain,D,b)&&(C=NE(v.domain,null,D),d&&(b==="number"||O!=="auto")&&(H=Wg(I,w,"category")));var V=IK(b);if(!C||C.length===0){var J,te=(J=v.domain)!==null&&J!==void 0?J:V;if(w){if(C=Wg(I,w,b),b==="category"&&d){var q=r_e(C);P&&q?(L=C,C=fw(0,T)):P||(C=XM(te,C,m).reduce(function(N,R){return N.indexOf(R)>=0?N:[].concat(Ip(N),[R])},[]))}else if(b==="category")P?C=C.filter(function(N){return N!==""&&!xr(N)}):C=XM(te,C,m).reduce(function(N,R){return N.indexOf(R)>=0||R===""||xr(R)?N:[].concat(Ip(N),[R])},[]);else if(b==="number"){var B=bDe(I,a.filter(function(N){var R,z,X=s in N.props?N.props[s]:(R=N.type.defaultProps)===null||R===void 0?void 0:R[s],G="hide"in N.props?N.props.hide:(z=N.type.defaultProps)===null||z===void 0?void 0:z.hide;return X===S&&(A||!G)}),w,i,u);B&&(C=B)}d&&(b==="number"||O!=="auto")&&(H=Wg(I,w,"category"))}else d?C=fw(0,T):o&&o[S]&&o[S].hasStack&&b==="number"?C=h==="expand"?[0,1]:kG(o[S].stackGroups,l,c):C=AG(I,a.filter(function(N){var R=s in N.props?N.props[s]:N.type.defaultProps[s],z="hide"in N.props?N.props.hide:N.type.defaultProps.hide;return R===S&&(A||!z)}),b,u,!0);if(b==="number")C=u3(f,C,S,i,E),te&&(C=NE(te,C,D));else if(b==="category"&&te){var re=te,ee=C.every(function(N){return re.indexOf(N)>=0});ee&&(C=re)}}return Ze(Ze({},g),{},Wt({},S,Ze(Ze({},v),{},{axisType:i,domain:C,categoricalDomain:H,duplicateDomain:L,originalDomain:(y=v.domain)!==null&&y!==void 0?y:V,isCategorical:d,layout:u})))},{})},nBe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=o_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),d=h.length,g=TG(u,i),m=-1;return n.reduce(function(y,v){var b=v.type.defaultProps!==void 0?Ze(Ze({},v.type.defaultProps),v.props):v.props,w=b[s],D=IK("number");if(!y[w]){m++;var P;return g?P=fw(0,d):o&&o[w]&&o[w].hasStack?(P=kG(o[w].stackGroups,l,c),P=u3(f,P,w,i)):(P=NE(D,AG(h,n.filter(function(O){var E,A,S=s in O.props?O.props[s]:(E=O.type.defaultProps)===null||E===void 0?void 0:E[s],I="hide"in O.props?O.props.hide:(A=O.type.defaultProps)===null||A===void 0?void 0:A.hide;return S===w&&!I}),"number",u),a.defaultProps.allowDataOverflow),P=u3(f,P,w,i)),Ze(Ze({},y),{},Wt({},w,Ze(Ze({axisType:i},a.defaultProps),{},{hide:!0,orientation:mo(J$e,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:D,isCategorical:g,layout:u})))}return y},{})},aBe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=go(u,i),d={};return h&&h.length?d=rBe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(d=nBe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),d},iBe=function(t){var r=Uu(t),n=xc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:LP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rw(r,n)}},xF=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ps(r,_p),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},sBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Sc(r&&r.type);return n&&n.indexOf("Bar")>=0})},bF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},d=Ps(f,_p),g=Ps(f,Tc),m=Object.keys(l).reduce(function(P,O){var E=l[O],A=E.orientation;return!E.mirror&&!E.hide?Ze(Ze({},P),{},Wt({},A,P[A]+E.width)):P},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(P,O){var E=s[O],A=E.orientation;return!E.mirror&&!E.hide?Ze(Ze({},P),{},Wt({},A,mo(P,"".concat(A))+E.height)):P},{top:h.top||0,bottom:h.bottom||0}),v=Ze(Ze({},y),m),b=v.bottom;d&&(v.bottom+=d.props.height||_p.defaultProps.height),g&&r&&(v=yDe(v,a,n,r));var w=c-v.left-v.right,D=u-v.top-v.bottom;return Ze(Ze({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(D,0)})},lBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},cBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var w=b.graphicalItems,D=b.stackGroups,P=b.offset,O=b.updateId,E=b.dataStartIndex,A=b.dataEndIndex,S=v.barSize,I=v.layout,T=v.barGap,C=v.barCategoryGap,L=v.maxBarSize,H=bF(I),V=H.numericAxisName,J=H.cateAxisName,te=sBe(w),q=[];return w.forEach(function(B,re){var ee=o_(v.data,{graphicalItems:[B],dataStartIndex:E,dataEndIndex:A}),N=B.type.defaultProps!==void 0?Ze(Ze({},B.type.defaultProps),B.props):B.props,R=N.dataKey,z=N.maxBarSize,X=N["".concat(V,"Id")],G=N["".concat(J,"Id")],Z={},se=l.reduce(function(Re,Ye){var Me=b["".concat(Ye.axisType,"Map")],Ge=N["".concat(Ye.axisType,"Id")];Me&&Me[Ge]||Ye.axisType==="zAxis"||ed();var ot=Me[Ge];return Ze(Ze({},Re),{},Wt(Wt({},Ye.axisType,ot),"".concat(Ye.axisType,"Ticks"),xc(ot)))},Z),K=se[J],oe=se["".concat(J,"Ticks")],fe=D&&D[X]&&D[X].hasStack&&IDe(B,D[X].stackGroups),W=Sc(B.type).indexOf("Bar")>=0,_e=rw(K,oe),Ae=[],Se=te&&gDe({barSize:S,stackGroups:D,totalSize:lBe(se,J)});if(W){var ie,ke,Le=xr(z)?L:z,Be=(ie=(ke=rw(K,oe,!0))!==null&&ke!==void 0?ke:Le)!==null&&ie!==void 0?ie:0;Ae=vDe({barGap:T,barCategoryGap:C,bandSize:Be!==_e?Be:_e,sizeList:Se[G],maxBarSize:Le}),Be!==_e&&(Ae=Ae.map(function(Re){return Ze(Ze({},Re),{},{position:Ze(Ze({},Re.position),{},{offset:Re.position.offset-Be/2})})}))}var Xe=B&&B.type&&B.type.getComposedData;Xe&&q.push({props:Ze(Ze({},Xe(Ze(Ze({},se),{},{displayedData:ee,props:v,dataKey:R,item:B,bandSize:_e,barPosition:Ae,offset:P,stackedData:fe,layout:I,dataStartIndex:E,dataEndIndex:A}))),{},Wt(Wt(Wt({key:B.key||"item-".concat(re)},V,se[V]),J,se[J]),"animationId",O)),childIndex:m_e(B,v.children),item:B})}),q},d=function(v,b){var w=v.props,D=v.dataStartIndex,P=v.dataEndIndex,O=v.updateId;if(!zj({props:w}))return null;var E=w.children,A=w.layout,S=w.stackOffset,I=w.data,T=w.reverseStackOrder,C=bF(A),L=C.numericAxisName,H=C.cateAxisName,V=go(E,n),J=PDe(I,V,"".concat(L,"Id"),"".concat(H,"Id"),S,T),te=l.reduce(function(N,R){var z="".concat(R.axisType,"Map");return Ze(Ze({},N),{},Wt({},z,aBe(w,Ze(Ze({},R),{},{graphicalItems:V,stackGroups:R.axisType===L&&J,dataStartIndex:D,dataEndIndex:P}))))},{}),q=oBe(Ze(Ze({},te),{},{props:w,graphicalItems:V}),b==null?void 0:b.legendBBox);Object.keys(te).forEach(function(N){te[N]=u(w,te[N],q,N.replace("Map",""),r)});var B=te["".concat(H,"Map")],re=iBe(B),ee=h(w,Ze(Ze({},te),{},{dataStartIndex:D,dataEndIndex:P,updateId:O,graphicalItems:V,stackGroups:J,offset:q}));return Ze(Ze({formattedGraphicalItems:ee,graphicalItems:V,offset:q,stackGroups:J},re),te)},g=function(y){function v(b){var w,D,P;return V$e(this,v),P=q$e(this,v,[b]),Wt(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wt(P,"accessibilityManager",new k$e),Wt(P,"handleLegendBBoxUpdate",function(O){if(O){var E=P.state,A=E.dataStartIndex,S=E.dataEndIndex,I=E.updateId;P.setState(Ze({legendBBox:O},d({props:P.props,dataStartIndex:A,dataEndIndex:S,updateId:I},Ze(Ze({},P.state),{},{legendBBox:O}))))}}),Wt(P,"handleReceiveSyncEvent",function(O,E,A){if(P.props.syncId===O){if(A===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(E)}}),Wt(P,"handleBrushChange",function(O){var E=O.startIndex,A=O.endIndex;if(E!==P.state.dataStartIndex||A!==P.state.dataEndIndex){var S=P.state.updateId;P.setState(function(){return Ze({dataStartIndex:E,dataEndIndex:A},d({props:P.props,dataStartIndex:E,dataEndIndex:A,updateId:S},P.state))}),P.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Wt(P,"handleMouseEnter",function(O){var E=P.getMouseInfo(O);if(E){var A=Ze(Ze({},E),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var S=P.props.onMouseEnter;fr(S)&&S(A,O)}}),Wt(P,"triggeredAfterMouseMove",function(O){var E=P.getMouseInfo(O),A=E?Ze(Ze({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(A),P.triggerSyncEvent(A);var S=P.props.onMouseMove;fr(S)&&S(A,O)}),Wt(P,"handleItemMouseEnter",function(O){P.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Wt(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Wt(P,"handleMouseMove",function(O){O.persist(),P.throttleTriggeredAfterMouseMove(O)}),Wt(P,"handleMouseLeave",function(O){P.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};P.setState(E),P.triggerSyncEvent(E);var A=P.props.onMouseLeave;fr(A)&&A(E,O)}),Wt(P,"handleOuterEvent",function(O){var E=p_e(O),A=mo(P.props,"".concat(E));if(E&&fr(A)){var S,I;/.*touch.*/i.test(E)?I=P.getMouseInfo(O.changedTouches[0]):I=P.getMouseInfo(O),A((S=I)!==null&&S!==void 0?S:{},O)}}),Wt(P,"handleClick",function(O){var E=P.getMouseInfo(O);if(E){var A=Ze(Ze({},E),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var S=P.props.onClick;fr(S)&&S(A,O)}}),Wt(P,"handleMouseDown",function(O){var E=P.props.onMouseDown;if(fr(E)){var A=P.getMouseInfo(O);E(A,O)}}),Wt(P,"handleMouseUp",function(O){var E=P.props.onMouseUp;if(fr(E)){var A=P.getMouseInfo(O);E(A,O)}}),Wt(P,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Wt(P,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseDown(O.changedTouches[0])}),Wt(P,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseUp(O.changedTouches[0])}),Wt(P,"handleDoubleClick",function(O){var E=P.props.onDoubleClick;if(fr(E)){var A=P.getMouseInfo(O);E(A,O)}}),Wt(P,"handleContextMenu",function(O){var E=P.props.onContextMenu;if(fr(E)){var A=P.getMouseInfo(O);E(A,O)}}),Wt(P,"triggerSyncEvent",function(O){P.props.syncId!==void 0&&SA.emit(AA,P.props.syncId,O,P.eventEmitterSymbol)}),Wt(P,"applySyncEvent",function(O){var E=P.props,A=E.layout,S=E.syncMethod,I=P.state.updateId,T=O.dataStartIndex,C=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)P.setState(Ze({dataStartIndex:T,dataEndIndex:C},d({props:P.props,dataStartIndex:T,dataEndIndex:C,updateId:I},P.state)));else if(O.activeTooltipIndex!==void 0){var L=O.chartX,H=O.chartY,V=O.activeTooltipIndex,J=P.state,te=J.offset,q=J.tooltipTicks;if(!te)return;if(typeof S=="function")V=S(q,O);else if(S==="value"){V=-1;for(var B=0;B<q.length;B++)if(q[B].value===O.activeLabel){V=B;break}}var re=Ze(Ze({},te),{},{x:te.left,y:te.top}),ee=Math.min(L,re.x+re.width),N=Math.min(H,re.y+re.height),R=q[V]&&q[V].value,z=d3(P.state,P.props.data,V),X=q[V]?{x:A==="horizontal"?q[V].coordinate:ee,y:A==="horizontal"?N:q[V].coordinate}:OK;P.setState(Ze(Ze({},O),{},{activeLabel:R,activeCoordinate:X,activePayload:z,activeTooltipIndex:V}))}else P.setState(O)}),Wt(P,"renderCursor",function(O){var E,A=P.state,S=A.isTooltipActive,I=A.activeCoordinate,T=A.activePayload,C=A.offset,L=A.activeTooltipIndex,H=A.tooltipAxisBandSize,V=P.getTooltipEventType(),J=(E=O.props.active)!==null&&E!==void 0?E:S,te=P.props.layout,q=O.key||"_recharts-cursor";return Ne.createElement(j$e,{key:q,activeCoordinate:I,activePayload:T,activeTooltipIndex:L,chartName:r,element:O,isActive:J,layout:te,offset:C,tooltipAxisBandSize:H,tooltipEventType:V})}),Wt(P,"renderPolarAxis",function(O,E,A){var S=mo(O,"type.axisType"),I=mo(P.state,"".concat(S,"Map")),T=O.type.defaultProps,C=T!==void 0?Ze(Ze({},T),O.props):O.props,L=I&&I[C["".concat(S,"Id")]];return Q.cloneElement(O,Ze(Ze({},L),{},{className:Lr(S,L.className),key:O.key||"".concat(E,"-").concat(A),ticks:xc(L,!0)}))}),Wt(P,"renderPolarGrid",function(O){var E=O.props,A=E.radialLines,S=E.polarAngles,I=E.polarRadius,T=P.state,C=T.radiusAxisMap,L=T.angleAxisMap,H=Uu(C),V=Uu(L),J=V.cx,te=V.cy,q=V.innerRadius,B=V.outerRadius;return Q.cloneElement(O,{polarAngles:Array.isArray(S)?S:xc(V,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(I)?I:xc(H,!0).map(function(re){return re.coordinate}),cx:J,cy:te,innerRadius:q,outerRadius:B,key:O.key||"polar-grid",radialLines:A})}),Wt(P,"renderLegend",function(){var O=P.state.formattedGraphicalItems,E=P.props,A=E.children,S=E.width,I=E.height,T=P.props.margin||{},C=S-(T.left||0)-(T.right||0),L=_G({children:A,formattedGraphicalItems:O,legendWidth:C,legendContent:c});if(!L)return null;var H=L.item,V=gF(L,L$e);return Q.cloneElement(H,Ze(Ze({},V),{},{chartWidth:S,chartHeight:I,margin:T,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Wt(P,"renderTooltip",function(){var O,E=P.props,A=E.children,S=E.accessibilityLayer,I=Ps(A,io);if(!I)return null;var T=P.state,C=T.isTooltipActive,L=T.activeCoordinate,H=T.activePayload,V=T.activeLabel,J=T.offset,te=(O=I.props.active)!==null&&O!==void 0?O:C;return Q.cloneElement(I,{viewBox:Ze(Ze({},J),{},{x:J.left,y:J.top}),active:te,label:V,payload:te?H:[],coordinate:L,accessibilityLayer:S})}),Wt(P,"renderBrush",function(O){var E=P.props,A=E.margin,S=E.data,I=P.state,T=I.offset,C=I.dataStartIndex,L=I.dataEndIndex,H=I.updateId;return Q.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Cx(P.handleBrushChange,O.props.onChange),data:S,x:At(O.props.x)?O.props.x:T.left,y:At(O.props.y)?O.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:At(O.props.width)?O.props.width:T.width,startIndex:C,endIndex:L,updateId:"brush-".concat(H)})}),Wt(P,"renderReferenceElement",function(O,E,A){if(!O)return null;var S=P,I=S.clipPathId,T=P.state,C=T.xAxisMap,L=T.yAxisMap,H=T.offset,V=O.type.defaultProps||{},J=O.props,te=J.xAxisId,q=te===void 0?V.xAxisId:te,B=J.yAxisId,re=B===void 0?V.yAxisId:B;return Q.cloneElement(O,{key:O.key||"".concat(E,"-").concat(A),xAxis:C[q],yAxis:L[re],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:I})}),Wt(P,"renderActivePoints",function(O){var E=O.item,A=O.activePoint,S=O.basePoint,I=O.childIndex,T=O.isRange,C=[],L=E.props.key,H=E.item.type.defaultProps!==void 0?Ze(Ze({},E.item.type.defaultProps),E.item.props):E.item.props,V=H.activeDot,J=H.dataKey,te=Ze(Ze({index:I,dataKey:J,cx:A.x,cy:A.y,r:4,fill:oN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},_r(V,!1)),kb(V));return C.push(v.renderActiveDot(V,te,"".concat(L,"-activePoint-").concat(I))),S?C.push(v.renderActiveDot(V,Ze(Ze({},te),{},{cx:S.x,cy:S.y}),"".concat(L,"-basePoint-").concat(I))):T&&C.push(null),C}),Wt(P,"renderGraphicChild",function(O,E,A){var S=P.filterFormatItem(O,E,A);if(!S)return null;var I=P.getTooltipEventType(),T=P.state,C=T.isTooltipActive,L=T.tooltipAxis,H=T.activeTooltipIndex,V=T.activeLabel,J=P.props.children,te=Ps(J,io),q=S.props,B=q.points,re=q.isRange,ee=q.baseLine,N=S.item.type.defaultProps!==void 0?Ze(Ze({},S.item.type.defaultProps),S.item.props):S.item.props,R=N.activeDot,z=N.hide,X=N.activeBar,G=N.activeShape,Z=!!(!z&&C&&te&&(R||X||G)),se={};I!=="axis"&&te&&te.props.trigger==="click"?se={onClick:Cx(P.handleItemMouseEnter,O.props.onClick)}:I!=="axis"&&(se={onMouseLeave:Cx(P.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Cx(P.handleItemMouseEnter,O.props.onMouseEnter)});var K=Q.cloneElement(O,Ze(Ze({},S.props),se));function oe(Ye){return typeof L.dataKey=="function"?L.dataKey(Ye.payload):null}if(Z)if(H>=0){var fe,W;if(L.dataKey&&!L.allowDuplicatedCategory){var _e=typeof L.dataKey=="function"?oe:"payload.".concat(L.dataKey.toString());fe=Eb(B,_e,V),W=re&&ee&&Eb(ee,_e,V)}else fe=B==null?void 0:B[H],W=re&&ee&&ee[H];if(G||X){var Ae=O.props.activeIndex!==void 0?O.props.activeIndex:H;return[Q.cloneElement(O,Ze(Ze(Ze({},S.props),se),{},{activeIndex:Ae})),null,null]}if(!xr(fe))return[K].concat(Ip(P.renderActivePoints({item:S,activePoint:fe,basePoint:W,childIndex:H,isRange:re})))}else{var Se,ie=(Se=P.getItemByXY(P.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:K},ke=ie.graphicalItem,Le=ke.item,Be=Le===void 0?O:Le,Xe=ke.childIndex,Re=Ze(Ze(Ze({},S.props),se),{},{activeIndex:Xe});return[Q.cloneElement(Be,Re),null,null]}return re?[K,null,null]:[K,null]}),Wt(P,"renderCustomized",function(O,E,A){return Q.cloneElement(O,Ze(Ze({key:"recharts-customized-".concat(A)},P.props),P.state))}),Wt(P,"renderMap",{CartesianGrid:{handler:Dx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Dx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Dx},YAxis:{handler:Dx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:ey("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=wH(P.triggeredAfterMouseMove,(D=b.throttleDelay)!==null&&D!==void 0?D:1e3/60),P.state={},P}return G$e(v,y),z$e(v,[{key:"componentDidMount",value:function(){var w,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,D=w.children,P=w.data,O=w.height,E=w.layout,A=Ps(D,io);if(A){var S=A.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,T=d3(this.state,P,S,I),C=this.state.tooltipTicks[S].coordinate,L=(this.state.offset.top+O)/2,H=E==="horizontal",V=H?{x:C,y:L}:{y:C,x:L},J=this.state.formattedGraphicalItems.find(function(q){var B=q.item;return B.type.name==="Scatter"});J&&(V=Ze(Ze({},V),J.props.points[S].tooltipPosition),T=J.props.points[S].tooltipPayload);var te={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:I,activePayload:T,activeCoordinate:V};this.setState(te),this.renderCursor(A),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var P,O;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(w){WT([Ps(w.children,io)],[Ps(this.props.children,io)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ps(this.props.children,io);if(w&&typeof w.props.shared=="boolean"){var D=w.props.shared?"axis":"item";return o.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var D=this.container,P=D.getBoundingClientRect(),O=VNe(P),E={chartX:Math.round(w.pageX-O.left),chartY:Math.round(w.pageY-O.top)},A=P.width/D.offsetWidth||1,S=this.inRange(E.chartX,E.chartY,A);if(!S)return null;var I=this.state,T=I.xAxisMap,C=I.yAxisMap,L=this.getTooltipEventType(),H=yF(this.state,this.props.data,this.props.layout,S);if(L!=="axis"&&T&&C){var V=Uu(T).scale,J=Uu(C).scale,te=V&&V.invert?V.invert(E.chartX):null,q=J&&J.invert?J.invert(E.chartY):null;return Ze(Ze({},E),{},{xValue:te,yValue:q},H)}return H?Ze(Ze({},E),H):null}},{key:"inRange",value:function(w,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,E=w/P,A=D/P;if(O==="horizontal"||O==="vertical"){var S=this.state.offset,I=E>=S.left&&E<=S.left+S.width&&A>=S.top&&A<=S.top+S.height;return I?{x:E,y:A}:null}var T=this.state,C=T.angleAxisMap,L=T.radiusAxisMap;if(C&&L){var H=Uu(C);return ZM({x:E,y:A},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,D=this.getTooltipEventType(),P=Ps(w,io),O={};P&&D==="axis"&&(P.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=kb(this.props,this.handleOuterEvent);return Ze(Ze({},E),O)}},{key:"addListener",value:function(){SA.on(AA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){SA.removeListener(AA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,D,P){for(var O=this.state.formattedGraphicalItems,E=0,A=O.length;E<A;E++){var S=O[E];if(S.item===w||S.props.key===w.key||D===Sc(S.item.type)&&P===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,D=this.state.offset,P=D.left,O=D.top,E=D.height,A=D.width;return Ne.createElement("defs",null,Ne.createElement("clipPath",{id:w},Ne.createElement("rect",{x:P,y:O,height:E,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(D,P){var O=mF(P,2),E=O[0],A=O[1];return Ze(Ze({},D),{},Wt({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(D,P){var O=mF(P,2),E=O[0],A=O[1];return Ze(Ze({},D),{},Wt({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(w){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(w){var D=this.state,P=D.formattedGraphicalItems,O=D.activeItem;if(P&&P.length)for(var E=0,A=P.length;E<A;E++){var S=P[E],I=S.props,T=S.item,C=T.type.defaultProps!==void 0?Ze(Ze({},T.type.defaultProps),T.props):T.props,L=Sc(T.type);if(L==="Bar"){var H=(I.data||[]).find(function(q){return SMe(w,q)});if(H)return{graphicalItem:S,payload:H}}else if(L==="RadialBar"){var V=(I.data||[]).find(function(q){return ZM(w,q)});if(V)return{graphicalItem:S,payload:V}}else if(e_(S,O)||t_(S,O)||vv(S,O)){var J=ERe({graphicalItem:S,activeTooltipItem:O,itemData:C.data}),te=C.activeIndex===void 0?J:C.activeIndex;return{graphicalItem:Ze(Ze({},S),{},{childIndex:te}),payload:vv(S,O)?C.data[J]:S.props.data[J]}}}return null}},{key:"render",value:function(){var w=this;if(!zj(this))return null;var D=this.props,P=D.children,O=D.className,E=D.width,A=D.height,S=D.style,I=D.compact,T=D.title,C=D.desc,L=gF(D,M$e),H=_r(L,!1);if(I)return Ne.createElement(QR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement(GT,b0({},H,{width:E,height:A,title:T,desc:C}),this.renderClipPath(),Wj(P,this.renderMap)));if(this.props.accessibilityLayer){var V,J;H.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,H.role=(J=this.props.role)!==null&&J!==void 0?J:"application",H.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},H.onFocus=function(){w.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return Ne.createElement(QR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement("div",b0({className:Lr("recharts-wrapper",O),style:Ze({position:"relative",cursor:"default",width:E,height:A},S)},te,{ref:function(B){w.container=B}}),Ne.createElement(GT,b0({},H,{width:E,height:A,title:T,desc:C,style:Z$e}),this.renderClipPath(),Wj(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Q.Component);Wt(g,"displayName",r),Wt(g,"defaultProps",Ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Wt(g,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,D=y.children,P=y.width,O=y.height,E=y.layout,A=y.stackOffset,S=y.margin,I=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var C=xF(y);return Ze(Ze(Ze({},C),{},{updateId:0},d(Ze(Ze({props:y},C),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:O,prevLayout:E,prevStackOffset:A,prevMargin:S,prevChildren:D})}if(b!==v.prevDataKey||w!==v.prevData||P!==v.prevWidth||O!==v.prevHeight||E!==v.prevLayout||A!==v.prevStackOffset||!R0(S,v.prevMargin)){var L=xF(y),H={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},V=Ze(Ze({},yF(v,w,E)),{},{updateId:v.updateId+1}),J=Ze(Ze(Ze({},L),H),V);return Ze(Ze(Ze({},J),d(Ze({props:y},J),v)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:O,prevLayout:E,prevStackOffset:A,prevMargin:S,prevChildren:D})}if(!WT(D,v.prevChildren)){var te,q,B,re,ee=Ps(D,_p),N=ee&&(te=(q=ee.props)===null||q===void 0?void 0:q.startIndex)!==null&&te!==void 0?te:I,R=ee&&(B=(re=ee.props)===null||re===void 0?void 0:re.endIndex)!==null&&B!==void 0?B:T,z=N!==I||R!==T,X=!xr(w),G=X&&!z?v.updateId:v.updateId+1;return Ze(Ze({updateId:G},d(Ze(Ze({props:y},v),{},{updateId:G,dataStartIndex:N,dataEndIndex:R}),v)),{},{prevChildren:D,dataStartIndex:N,dataEndIndex:R})}return null}),Wt(g,"renderActiveDot",function(y,v,b){var w;return Q.isValidElement(y)?w=Q.cloneElement(y,v):fr(y)?w=y(v):w=Ne.createElement(cN,v),Ne.createElement(aa,{className:"recharts-active-dot",key:b},w)});var m=Q.forwardRef(function(v,b){return Ne.createElement(g,b0({},v,{ref:b}))});return m.displayName=g.displayName,m},EA=cBe({chartName:"LineChart",GraphicalChild:kl,axisComponents:[{axisType:"xAxis",AxisComp:B0},{axisType:"yAxis",AxisComp:V0}],formatAxisMap:QFe});const uBe=()=>{const[e,t]=Q.useState("daily"),[r,n]=Q.useState(or(new Date,7)),[a,i]=Q.useState(new Date),[s,o]=Q.useState([]),[l,c]=Q.useState([]),[u,f]=Q.useState([]),[h,d]=Q.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=Q.useState(!0),{isDarkMode:y}=Wr(),{user:v}=ga(),b=Q.useCallback(async()=>{m(!0);try{const S=a||new Date,I=r||or(S,7),T=vr(Pt(ct,"orders"),qr("createdAt",">=",Ht.fromDate(I)),qr("createdAt","<=",Ht.fromDate(S))),L=(await dr(T)).docs.map(Me=>{var Ge,ot,nt;return{id:Me.id,...Me.data(),createdAt:(Ge=Me.data().createdAt)==null?void 0:Ge.toDate(),updatedAt:(ot=Me.data().updatedAt)==null?void 0:ot.toDate(),shippedTime:(nt=Me.data().shippedTime)==null?void 0:nt.toDate()}}),H=vr(Pt(ct,"inventory")),J=(await dr(H)).docs.map(Me=>({id:Me.id,...Me.data(),lastUpdated:Me.data().lastUpdated instanceof Ht?Me.data().lastUpdated.toDate():new Date(Me.data().lastUpdated)})),te=vr(Pt(ct,"activityLogs"),qr("time",">=",I.toISOString()),qr("time","<=",S.toISOString()),Ma("time","desc")),B=(await dr(te)).docs.map(Me=>({id:Me.id,...Me.data()}));f(B),o(J),c(L);const re=J.reduce((Me,Ge)=>Me+(Ge.quantity||0),0),ee=J.reduce((Me,Ge)=>Me+(Ge.quantity||0)*(Ge.price||0),0),N=L.length,R=or(new Date,1),z=new Date,X=L.filter(Me=>{const Ge=Me.createdAt;return Ge>=R&&Ge<=z}),G=X.length,Z=X.reduce((Me,Ge)=>Me+(Ge.totalAmount||0),0),se=a||new Date,K=r||or(se,7),fe=B.filter(Me=>{const Ge=new Date(Me.time);return Ge>=K&&Ge<=se}).filter(Me=>{const Ge=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ge){const[,xt]=Ge;return J.some(wt=>wt.name===xt)}const ot=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,xt]=ot;return J.some(wt=>wt.name===xt)}return Me.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Me.detail)),!0}),W=se.getTime()-K.getTime(),_e=new Date(K.getTime()-W),Ae=new Date(K.getTime()),ie=B.filter(Me=>{const Ge=new Date(Me.time);return Ge>=_e&&Ge<=Ae}).filter(Me=>{const Ge=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ge){const[,xt]=Ge;return J.some(wt=>wt.name===xt)}const ot=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,xt]=ot;return J.some(wt=>wt.name===xt)}return Me.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Me.detail)),!0}),ke=fe.reduce((Me,Ge)=>{const ot=Ge.detail.match(/(\d+) units deducted/);return Me+(ot?parseInt(ot[1]):0)},0),Le=ie.reduce((Me,Ge)=>{const ot=Ge.detail.match(/(\d+) units deducted/);return Me+(ot?parseInt(ot[1]):0)},0),Be=fe.reduce((Me,Ge)=>{const ot=Ge.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ot){const[,dt,xt]=ot;if(J.find(pt=>pt.name===dt))return Me+parseInt(xt)}const nt=Ge.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,dt,xt,wt]=nt;if(J.find(et=>et.name===dt)){const et=parseInt(wt)-parseInt(xt);if(et>0)return Me+et}}return Me},0),Xe=fe.reduce((Me,Ge)=>{const ot=Ge.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ot){const[,dt,xt]=ot,wt=J.find(pt=>pt.name===dt);if(wt){const pt=wt.price||0;return Me+parseInt(xt)*pt}}const nt=Ge.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,dt,xt,wt]=nt,pt=J.find(et=>et.name===dt);if(pt){const et=parseInt(wt)-parseInt(xt);if(et>0){const Bt=pt.price||0;return Me+et*Bt}}}return Me},0),Ye=fe.reduce((Me,Ge)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(dt=>dt.test(Ge.detail))){let dt=0;const xt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,wt=Ge.detail.match(xt);if(wt)dt=parseInt(wt[1]);else{const pt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const et of pt){const Bt=Ge.detail.match(et);if(Bt){if(Bt.length===3){const Lt=parseInt(Bt[1]),Hr=parseInt(Bt[2]);dt=Math.abs(Lt-Hr)}else dt=parseInt(Bt[1]);break}}}return{incidents:Me.incidents+1,units:Me.units+(dt>0?dt:1)}}return Me},{incidents:0,units:0}).incidents;d({totalOrders:N,totalStock:re,totalInventoryValue:ee,totalDamagedProducts:Ye,yesterdayOrders:G,yesterdayStockChange:0,yesterdayRevenue:Z,totalDeductions:ke,previousDeductions:Le,todayStockAdditions:Be,todayInventoryValueAdditions:Xe})}catch(S){console.error("Error fetching data:",S)}finally{m(!1)}},[r,a]),w=()=>{n(null),i(null)};if(Q.useEffect(()=>{b()},[b]),Q.useEffect(()=>{},[e]),!v||v.role!=="admin")return p.jsx(w4,{to:"/",replace:!0});const D=()=>{const S=[],I=new Map,T=new Date;let C;switch(e){case"daily":C=or(T,7);break;case"weekly":C=or(T,30);break;case"monthly":C=or(T,90);break;default:C=or(T,7)}return u.filter(V=>{const J=new Date(V.time);return J>=C&&J<=T}).filter(V=>{const J=V.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(J){const[,q]=J;return s.some(B=>B.name===q)}const te=V.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(te){const[,q]=te;return s.some(B=>B.name===q)}return!0}).forEach(V=>{let J=0,te=!1,q="";const B=V.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(B){const[,ee,N]=B;s.find(z=>z.name===ee)&&(J=parseInt(N),q=ee,te=!0)}const re=V.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(re){const[,ee,N,R]=re;if(s.find(X=>X.name===ee)){const X=parseInt(R)-parseInt(N);X>0&&(J=X,q=ee,te=!0)}}if(te){const ee=new Date(V.time);let N;switch(e){case"daily":N=$t(ee,"MMM dd");break;case"weekly":N=$t(ee,"'Week' w");break;case"monthly":N=$t(ee,"MMM yyyy");break}const R=I.get(N)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(q),I.set(N,{activities:R.activities+1,units:R.units+J,uniqueProducts:R.uniqueProducts})}}),I.forEach((V,J)=>{S.push({date:J,activities:V.activities,units:V.units,uniqueProducts:V.uniqueProducts.size})}),S.sort((V,J)=>{const te=new Date(V.date),q=new Date(J.date);return te.getTime()-q.getTime()})},P=()=>{const S=[],I=new Map,T=new Date;let C;switch(e){case"daily":C=or(T,7);break;case"weekly":C=or(T,30);break;case"monthly":C=or(T,90);break;default:C=or(T,7)}return u.filter(V=>{const J=new Date(V.time);return J>=C&&J<=T}).filter(V=>(V.detail.match(/(\d+) units deducted from stock/),!0)).forEach(V=>{const J=V.detail.match(/(\d+) units deducted from stock/);if(J){const te=new Date(V.time);let q;switch(e){case"daily":q=$t(te,"MMM dd");break;case"weekly":q=$t(te,"'Week' w");break;case"monthly":q=$t(te,"MMM yyyy");break}const B=I.get(q)||0;I.set(q,B+parseInt(J[1]))}}),I.forEach((V,J)=>{S.push({date:J,products:V})}),S.sort((V,J)=>{const te=new Date(V.date),q=new Date(J.date);return te.getTime()-q.getTime()})},O=()=>{const S=[],I=new Map,T=a||new Date,C=r||or(T,7);return u.filter(V=>{const J=new Date(V.time);return J>=C&&J<=T}).filter(V=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(te=>te.test(V.detail)),!0)).forEach(V=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(q=>q.test(V.detail))){const q=new Date(V.time);let B;switch(e){case"daily":B=$t(q,"MMM dd");break;case"weekly":B=$t(q,"'Week' w");break;case"monthly":B=$t(q,"MMM yyyy");break}let re=0;const ee=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,N=V.detail.match(ee);if(N)re=parseInt(N[1]);else{const G=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const Z of G){const se=V.detail.match(Z);if(se){if(se.length===3){const K=parseInt(se[1]),oe=parseInt(se[2]);re=Math.abs(K-oe)}else re=parseInt(se[1]);break}}}let R="Unknown Product";const z=V.detail.match(/"([^"]+)"/);z&&(R=z[1]),I.has(B)||I.set(B,{incidents:0,units:0,productNames:new Set});const X=I.get(B);X.incidents+=1,X.units+=re>0?re:1,X.productNames.add(R)}}),I.forEach((V,J)=>{S.push({date:J,products:V.incidents,units:V.units,productNames:Array.from(V.productNames)})}),S.sort((V,J)=>new Date(V.date).getTime()-new Date(J.date).getTime())},E=()=>{try{const S=$t(new Date,"yyyy-MM-dd-HH-mm"),I=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",T=s.map(re=>[re.name,re.quantity,re.price,`${re.locationCode}-${re.shelfNumber}`,re.status,re.damagedItems]),C=D(),L=P(),H=O(),V=Math.max(C.length,L.length,H.length,T.length),J=[];J.push(`Warehouse Analytics Report - ${I} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${$t(new Date,"yyyy-MM-dd HH:mm:ss")}`),J.push(""),J.push("SUMMARY STATISTICS"),J.push(`Total Stock Added (${I}),${h.todayStockAdditions},Total Units Deducted (${I}),${h.totalDeductions},Total Damaged Products (${I}),${h.totalDamagedProducts},Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`),J.push(""),J.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),J.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let re=0;re<V;re++){const ee=[];if(re<C.length){const N=C[re];ee.push(N.date,N.activities,N.units,N.uniqueProducts)}else ee.push("","","","");if(re<L.length){const N=L[re];ee.push(N.date,N.products)}else ee.push("","");if(re<H.length){const N=H[re];ee.push(N.date,N.products,N.units)}else ee.push("","","");if(re<T.length){const N=T[re];ee.push(...N)}else ee.push("","","","","","");J.push(ee.join(","))}const te=J.join(`
`),q=new Blob([te],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a");B.href=URL.createObjectURL(q),B.download=`warehouse-report-${I}-${S}.csv`,B.click(),URL.revokeObjectURL(B.href)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV. Please try again.")}},A=()=>{try{const S=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",I=D(),T=P(),C=O(),L=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${S}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${S}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${$t(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${I.length}</p>
                <p><strong>Total Activities:</strong> ${I.reduce((V,J)=>V+J.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${I.reduce((V,J)=>V+J.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${I.reduce((V,J)=>V+J.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${I.slice(0,15).map(V=>`
                    <tr>
                      <td>${V.date}</td>
                      <td>${V.activities}</td>
                      <td>${V.units}</td>
                      <td>${V.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${I.length>15?`<tr><td colspan="4"><em>... and ${I.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${T.length}</p>
                <p><strong>Total Units Deducted:</strong> ${T.reduce((V,J)=>V+J.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${T.slice(0,15).map(V=>`
                    <tr>
                      <td>${V.date}</td>
                      <td>${V.products}</td>
                    </tr>
                  `).join("")}
                  ${T.length>15?`<tr><td colspan="2"><em>... and ${T.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${C.length}</p>
                <p><strong>Total Incidents:</strong> ${C.reduce((V,J)=>V+J.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${C.reduce((V,J)=>V+J.units,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${C.slice(0,15).map(V=>`
                    <tr>
                      <td>${V.date}</td>
                      <td>${V.products}</td>
                      <td>${V.units}</td>
                      <td>${V.productNames?V.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${C.length>15?`<tr><td colspan="4"><em>... and ${C.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(V=>V.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(V=>V.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((V,J)=>V+(J.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(V=>`
                    <tr>
                      <td>${V.name}</td>
                      <td>${V.quantity}</td>
                      <td>${V.price&&!isNaN(V.price)?`£${V.price.toFixed(2)}`:"Not set"}</td>
                      <td>${V.locationCode}-${V.shelfNumber}</td>
                      <td>${V.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,H=window.open("","_blank");H?(H.document.write(L),H.document.close(),H.focus(),setTimeout(()=>{H.print()},500)):alert("Please allow pop-ups to export PDF")}catch(S){console.error("Error exporting PDF:",S),alert("Failed to export PDF. Please try again.")}};return p.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[p.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),p.jsx("p",{className:`${y?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[p.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:E,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[p.jsx(F2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),p.jsxs("button",{onClick:A,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[p.jsx(F2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx(Fr,{value:e,onChange:S=>t(S.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx(Sq,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:w,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),p.jsx(vt,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:p.jsx(ol,{size:16,className:g?"animate-spin":""})})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?p.jsxs(p.Fragment,{children:[p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Ya,{title:`Total Stock Added (${r&&a?`${$t(r,"MMM d")} - ${$t(a,"MMM d, yyyy")}`:r?`From ${$t(r,"MMM d, yyyy")}`:a?`To ${$t(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:p.jsx(Q0,{size:24,className:"text-blue-600"})}),p.jsx(Ya,{title:`Total Units Deducted (${r&&a?`${$t(r,"MMM d")} - ${$t(a,"MMM d, yyyy")}`:r?`From ${$t(r,"MMM d, yyyy")}`:a?`To ${$t(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:p.jsx(H9,{size:24,className:"text-blue-600"})}),p.jsx(Ya,{title:`Total Damaged Products (${r&&a?`${$t(r,"MMM d")} - ${$t(a,"MMM d, yyyy")}`:r?`From ${$t(r,"MMM d, yyyy")}`:a?`To ${$t(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:p.jsx(X0,{size:24,className:"text-blue-600"})}),p.jsx(Ya,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:p.jsx($2,{size:24,className:"text-blue-600"})})]})}),g?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"space-y-4 md:space-y-6",children:[p.jsxs("div",{className:`${y?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${y?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(lA,{width:"100%",height:"100%",children:p.jsxs(EA,{data:D(),children:[p.jsx(c2,{strokeDasharray:"3 3",stroke:y?"#334155":"#e2e8f0"}),p.jsx(B0,{dataKey:"date",stroke:y?"#94a3b8":"#64748b"}),p.jsx(V0,{stroke:y?"#94a3b8":"#64748b"}),p.jsx(io,{contentStyle:{backgroundColor:y?"#1e293b":"#ffffff",border:y?"1px solid #334155":"1px solid #e2e8f0",color:y?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Inbound Activities"?[`${S} activities`,I]:I==="Units Added"?[`${S} units`,I]:I==="Affected Products"?[`${S} products`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),p.jsx(Tc,{}),p.jsx(kl,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),p.jsx(kl,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),p.jsx(kl,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${y?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${y?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(lA,{width:"100%",height:"100%",children:p.jsxs(EA,{data:P(),children:[p.jsx(c2,{strokeDasharray:"3 3",stroke:y?"#334155":"#e2e8f0"}),p.jsx(B0,{dataKey:"date",stroke:y?"#94a3b8":"#64748b"}),p.jsx(V0,{stroke:y?"#94a3b8":"#64748b"}),p.jsx(io,{contentStyle:{backgroundColor:y?"#1e293b":"#ffffff",border:y?"1px solid #334155":"1px solid #e2e8f0",color:y?"#e2e8f0":"#1e293b"}}),p.jsx(Tc,{}),p.jsx(kl,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${y?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${y?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(lA,{width:"100%",height:"100%",children:p.jsxs(EA,{data:O(),children:[p.jsx(c2,{strokeDasharray:"3 3",stroke:y?"#334155":"#e2e8f0"}),p.jsx(B0,{dataKey:"date",stroke:y?"#94a3b8":"#64748b"}),p.jsx(V0,{stroke:y?"#94a3b8":"#64748b"}),p.jsx(io,{contentStyle:{backgroundColor:y?"#1e293b":"#ffffff",border:y?"1px solid #334155":"1px solid #e2e8f0",color:y?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Damaged Incidents"?[`${S} incidents`,I]:I==="Units Damaged"?[`${S} units`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),p.jsx(Tc,{}),p.jsx(kl,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),p.jsx(kl,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},fBe=()=>{const{user:e,setUser:t}=ga(),{showToast:r}=Yc(),{isDarkMode:n,toggleDarkMode:a}=Wr(),[i,s]=Q.useState(!1),[o,l]=Q.useState({}),[c,u]=Q.useState([]),[f,h]=Q.useState(null),[d,g]=Q.useState(!1),[m,y]=Q.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[v,b]=Q.useState({}),[w,D]=Q.useState({}),[P,O]=Q.useState(!1),[E,A]=Q.useState(null),[S,I]=Q.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[T,C]=Q.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),L=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const Z=(await dr(Pt(ct,"users"))).docs.map(se=>({id:se.id,...se.data()}));u(Z),console.log("Fetched users:",Z.map(se=>({id:se.id,username:se.username,name:se.name})))}catch(G){console.error("Error fetching users:",G),r("Error fetching users","error")}finally{s(!1)}}};Q.useEffect(()=>{L()},[e==null?void 0:e.role,r]);const H=G=>G.split(" ").map(Z=>Z[0]).join("").toUpperCase().slice(0,2),V=G=>{const{name:Z,value:se}=G.target;I(K=>({...K,[Z]:se})),o[Z]&&l(K=>{const oe={...K};return delete oe[Z],oe})},J=()=>{const G={};return S.username.trim()||(G.username="Username is required"),S.email.trim()&&!/\S+@\S+\.\S+/.test(S.email)&&(G.email="Invalid email format"),S.name.trim()||(G.name="Name is required"),(S.currentPassword||S.newPassword||S.confirmPassword)&&(S.currentPassword?S.currentPassword!==(e==null?void 0:e.password)&&(G.currentPassword="Current password is incorrect"):G.currentPassword="Current password is required",S.newPassword?S.newPassword.length<6&&(G.newPassword="Password must be at least 6 characters"):G.newPassword="New password is required",S.newPassword!==S.confirmPassword&&(G.confirmPassword="Passwords do not match")),l(G),Object.keys(G).length===0},te=async G=>{if(G.preventDefault(),!!e&&J()){s(!0);try{const Z={username:S.username,email:S.email,name:S.name,password:S.currentPassword!=""&&S.confirmPassword!=""&&S.newPassword!=""?S.newPassword:e.password},se=[];e.username!==S.username&&se.push(`changed username from "${e.username}" to "${S.username}"`),e.email!==S.email&&se.push(`changed email from "${e.email}" to "${S.email}"`),e.name!==S.name&&se.push(`changed full name from "${e.name}" to "${S.name}"`),S.currentPassword&&S.newPassword&&se.push("changed their password");const K=nn(ct,"users",e.id);await Si(K,Z),se.length>0&&await kr(Pt(ct,"activityLogs"),{user:e.name,role:e.role,detail:se.length===1?se[0]:`made multiple profile changes: ${se.join("; ")}`,time:new Date().toISOString()}),t({...e,username:S.username,email:S.email,name:S.name,password:S.newPassword||e.password}),I(oe=>({...oe,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(Z){console.error("Error updating profile:",Z),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},q=G=>{console.log("Editing user:",G),h(G),D({}),C({username:G.username,email:G.email,name:G.name,newPassword:"",confirmPassword:""})},B=G=>{const{name:Z,value:se}=G.target;C(K=>({...K,[Z]:se})),w[Z]&&D(K=>{const oe={...K};return delete oe[Z],oe})},re=async()=>{if(f)try{if(s(!0),D({}),!T.username.trim()){D({username:"Username is required"});return}if(!T.name.trim()){D({name:"Name is required"});return}if(T.newPassword||T.confirmPassword){if(T.newPassword!==T.confirmPassword){D({confirmPassword:"Passwords do not match"});return}if(T.newPassword.length<6){D({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:T.username,email:T.email,name:T.name,password:T.newPassword?"***":"unchanged"});const G=nn(ct,"users",f.id);console.log("User reference:",G.path);const Z={username:T.username,email:T.email,name:T.name,role:f.role};T.newPassword&&(Z.password=T.newPassword),console.log("Attempting to update document with data:",Z);try{await Si(G,Z),console.log("User updated successfully in Firestore")}catch(se){console.error("Failed to update by ID, trying to find by username:",se);const K=vr(Pt(ct,"users"),qr("username","==",f.username)),oe=await dr(K);if(oe.empty)throw new Error("User not found by username either");{const fe=oe.docs[0];console.log("Found user by username, actual ID:",fe.id);const W=nn(ct,"users",fe.id);await Si(W,Z),console.log("User updated successfully using fallback method"),u(_e=>_e.map(Ae=>Ae.username===f.username?{...Ae,id:fe.id,...Z}:Ae))}}await kr(Pt(ct,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(se=>se.map(K=>K.id===f.id?{...K,...Z}:K)),r("User updated successfully","success"),h(null)}catch(G){console.error("Error updating user:",G),console.error("Error details:",{editingUser:f,userEditForm:T,error:G}),r("Failed to update user","error")}finally{s(!1)}},ee=G=>{const{name:Z,value:se}=G.target;y(K=>({...K,[Z]:se})),v[Z]&&b(K=>{const oe={...K};return delete oe[Z],oe})},N=()=>{const G={};return m.username.trim()||(G.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(G.email="Invalid email format"),m.name.trim()||(G.name="Name is required"),m.password?m.password.length<6&&(G.password="Password must be at least 6 characters"):G.password="Password is required",m.password!==m.confirmPassword&&(G.confirmPassword="Passwords do not match"),b(G),Object.keys(G).length===0},R=async G=>{if(G.preventDefault(),!!N()){s(!0);try{const se=(await dr(Pt(ct,"users"))).docs.map(oe=>oe.data());if(se.some(oe=>oe.username===m.username)){b({username:"Username already exists"});return}if(m.email.trim()&&se.some(oe=>oe.email===m.email)){b({email:"Email already exists"});return}const K=await kr(Pt(ct,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await kr(Pt(ct,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(oe=>[...oe,{id:K.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),y({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(Z){console.error("Error adding user:",Z),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},z=async(G,Z)=>{A({username:Z,name:G}),O(!0)},X=async()=>{if(E)try{s(!0);const G=Pt(ct,"users"),Z=vr(G,qr("username","==",E.username)),se=await dr(Z);if(se.empty){r("User not found.","error");return}const K=se.docs[0],oe=nn(ct,"users",K.id);await sp(oe),await kr(Pt(ct,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${E.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(fe=>fe.filter(W=>W.username!==E.username)),r("User deleted successfully!","success")}catch(G){console.error("Error deleting user:",G),r("Failed to delete user. Please try again.","error")}finally{s(!1),O(!1),A(null)}};return p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),p.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&p.jsx(vt,{variant:"secondary",onClick:L,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:p.jsx(ol,{size:16,className:i?"animate-spin":""})}),p.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?p.jsx(W9,{size:20}):p.jsx(q9,{size:20})})]})]}),f&&p.jsxs(Dn,{isOpen:!!f,onClose:()=>{h(null),D({})},title:"Edit User",size:"md",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(yt,{label:"Username",name:"username",value:T.username,onChange:B,error:w.username}),p.jsx(yt,{label:"Email",name:"email",type:"email",value:T.email,onChange:B,error:w.email}),p.jsx(yt,{label:"Name",name:"name",value:T.name,onChange:B,error:w.name}),p.jsx(Du,{label:"New Password",name:"newPassword",value:T.newPassword,onChange:B,error:w.newPassword}),p.jsx(Du,{label:"Confirm Password",name:"confirmPassword",value:T.confirmPassword,onChange:B,error:w.confirmPassword})]}),p.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[p.jsx(vt,{variant:"secondary",onClick:()=>{h(null),D({})},disabled:i,children:"Cancel"}),p.jsx(vt,{onClick:re,disabled:i,children:i?"Updating...":"Update User"})]})]}),p.jsxs(Dn,{isOpen:P,onClose:()=>O(!1),title:"Confirm Deletion",size:"sm",children:[p.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',E==null?void 0:E.name,'" (username: ',E==null?void 0:E.username,")? This action cannot be undone."]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx(vt,{variant:"secondary",onClick:()=>O(!1),disabled:i,children:"Cancel"}),p.jsx(vt,{variant:"danger",onClick:X,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),p.jsxs("form",{onSubmit:te,className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"relative",children:p.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:p.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:H((e==null?void 0:e.name)||"")})})}),p.jsxs("div",{children:[p.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:S.name}),p.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Username",name:"username",value:S.username,onChange:V,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),p.jsx(yt,{label:"Email",name:"email",type:"email",value:S.email,onChange:V,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),p.jsx(yt,{label:"Full Name",name:"name",value:S.name,onChange:V,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),p.jsx(Du,{label:"Current Password",name:"currentPassword",value:S.currentPassword,onChange:V,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Du,{label:"New Password",name:"newPassword",value:S.newPassword,onChange:V,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),p.jsx(Du,{label:"Confirm Password",name:"confirmPassword",value:S.confirmPassword,onChange:V,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&p.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),p.jsx("div",{className:"flex justify-end",children:p.jsx(vt,{type:"submit",isLoading:i,icon:p.jsx(E4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&p.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[p.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),p.jsxs(vt,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[p.jsx(E4,{size:16}),"Add New User"]})]}),p.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[p.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(G=>G.id!==(e==null?void 0:e.id)).map(G=>p.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.username}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.email||"-"}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.name}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.role}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vt,{variant:"ghost",size:"sm",onClick:()=>q(G),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(sl,{size:16})}),p.jsx(vt,{variant:"ghost",size:"sm",onClick:()=>z(G.name,G.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx(ho,{size:16})})]})})]},G.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(G=>G.id!==(e==null?void 0:e.id)).map(G=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:G.name}),p.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:G.username})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vt,{variant:"ghost",size:"sm",onClick:()=>q(G),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(sl,{size:16})}),p.jsx(vt,{variant:"ghost",size:"sm",onClick:()=>z(G.name,G.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx(ho,{size:16})})]})]}),p.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:G.email||"-"}),p.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:G.role})]},G.id))})]}),p.jsx(Dn,{isOpen:d,onClose:()=>g(!1),title:"Add New User",size:"xl",children:p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Username",name:"username",value:m.username,onChange:ee,error:v.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),p.jsx(yt,{label:"Email",name:"email",type:"email",value:m.email,onChange:ee,error:v.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(yt,{label:"Full Name",name:"name",value:m.name,onChange:ee,error:v.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),p.jsx(Fr,{label:"Role",name:"role",value:m.role,onChange:ee,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],fullWidth:!0})]}),p.jsx(Du,{label:"Password",name:"password",value:m.password,onChange:ee,error:v.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),p.jsx(Du,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:ee,error:v.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(vt,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},kA=["supply & serve","APHY","AZTEC","ZK"],hBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=Q.useState(""),[i,s]=Q.useState("stock sold"),[o,l]=Q.useState(""),c=kA.includes(e.storeName)?kA:[e.storeName,...kA],u=[...c,"other"],[f,h]=Q.useState(e.storeName||c[0]||""),[d,g]=Q.useState(""),{isDarkMode:m}=Wr(),y=async w=>{w.preventDefault();const D=Number(n);if(!n||D<=0||D>e.quantity)return;const P=i==="other"?o:i,O=f==="other"?d.trim():f.trim();await t({id:e.id,quantity:e.quantity-D,reason:P,storeName:O})},b=(()=>{const w=Number(n);return!n||w<=0?"Quantity to deduct must be greater than 0":w>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!d.trim()?"Please select or enter the store name":null:"Please select a reason"})();return p.jsxs("form",{onSubmit:y,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[p.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),p.jsx(yt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:w=>a(w.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),p.jsx(Fr,{id:"reason",value:i,onChange:w=>s(w.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),p.jsx(yt,{id:"otherReason",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),p.jsx(Fr,{id:"storeName",value:f,onChange:w=>h(w.target.value),options:u.map(w=>({value:w,label:w==="other"?"Other":w})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),f==="other"&&p.jsx(yt,{id:"otherStoreName",type:"text",value:d,onChange:w=>g(w.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?p.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[p.jsx(X0,{size:16}),p.jsx("span",{children:b})]}):p.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),p.jsx("div",{className:"flex justify-end space-x-3",children:p.jsx(vt,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?p.jsxs(p.Fragment,{children:[p.jsx(lo,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},dBe=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState("name"),[a,i]=Q.useState(!1),[s,o]=Q.useState(!1),[l,c]=Q.useState(null),[u,f]=Q.useState([]),[h,d]=Q.useState(!1),[g,m]=Q.useState(new Set),{showToast:y}=Yc(),{isDarkMode:v}=Wr(),{user:b}=ga(),w=async()=>{o(!0);try{const T=vr(Pt(ct,"inventory"),Ma("name")),L=(await dr(T)).docs.map(H=>{const V=H.data();return{id:H.id,...V,lastUpdated:V.lastUpdated instanceof Ht?V.lastUpdated.toDate():new Date(V.lastUpdated)}});f(L)}catch(T){console.error("Error fetching stock items:",T),y("Failed to fetch stock items","error")}finally{o(!1)}},D=async()=>{try{const T=or(new Date,90),C=vr(Pt(ct,"activityLogs"),qr("time",">=",T.toISOString()),Ma("time","desc")),H=(await dr(C)).docs.map(B=>({id:B.id,...B.data()})),V=or(new Date,10),J=new Set,te=new Map;H.forEach(B=>{if(B.detail.includes("added new product")){const re=B.detail.match(/added new product "([^"]+)"/);if(re){const ee=re[1],N=new Date(B.time);(!te.has(ee)||N<te.get(ee))&&te.set(ee,N)}}if(B.detail.includes("units deducted from stock")){const re=B.detail.match(/units deducted from stock "([^"]+)"/);if(re){const ee=re[1];new Date(B.time)>=V&&J.add(ee)}}});const q=new Set;u.forEach(B=>{const re=B.name,ee=te.get(re);ee&&ee<V&&!J.has(re)&&q.add(re)}),m(q)}catch(T){console.error("Error fetching activity logs:",T)}};Q.useEffect(()=>{w()},[y]),Q.useEffect(()=>{u.length>0&&D()},[u]);const P=u.filter(T=>T.quantity>0).filter(T=>{const C=e.toLowerCase(),L=T.name.toLowerCase().includes(C),H=`${T.locationCode} - ${T.shelfNumber}`.toLowerCase().includes(C),V=T.asin?T.asin.split(",").some(te=>te.trim().toLowerCase().includes(C)):!1,J=T.barcode?T.barcode.toLowerCase().includes(C):!1;return L||H||V||J}).sort((T,C)=>r==="name"?T.name.localeCompare(C.name):r==="quantity"?C.quantity-T.quantity:r==="price"?C.price-T.price:r==="date"?new Date(C.lastUpdated).getTime()-new Date(T.lastUpdated).getTime():0),O=async T=>{o(!0);try{const C=nn(ct,"inventory",T.id),L=await Hh(C);if(!L.exists())throw new Error("Stock item not found");const H=L.data();if(!b)throw new Error("User not authenticated");const V=T.reason==="damaged"?H.damagedItems+(H.quantity-T.quantity):H.damagedItems,J=new Date;await Si(C,{quantity:T.quantity,damagedItems:V,lastUpdated:Ht.fromDate(J)}),await kr(Pt(ct,"activityLogs"),{detail:`${H.quantity-T.quantity} units deducted from stock "${H.name}" (Reason: ${T.reason}, Store: ${T.storeName}) by ${b.role}`,time:new Date().toISOString(),user:b.name,role:b.role});const te=u.map(q=>q.id===T.id?{...q,quantity:T.quantity,damagedItems:V}:q);f(te),c(null),i(!1),y("Stock quantity updated successfully","success")}catch(C){console.error("Error updating stock:",C),y("Failed to update stock quantity","error")}finally{o(!1)}},E=T=>{a||c(T)},A=(T,C)=>{T.stopPropagation(),c(C),i(!0)},S=()=>{d(!0)},I=T=>{t(T),d(!1)};return p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${v?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),p.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(yt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:T=>t(T.target.value),icon:p.jsx(zh,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:S,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(il,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Fr,{value:r,onChange:T=>n(T.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),p.jsx(vt,{variant:"secondary",onClick:w,className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:p.jsx(ol,{size:16,className:s?"animate-spin":""})})]}),s?p.jsx("div",{className:`text-center py-12 ${v?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(lo,{className:`w-8 h-8 ${v?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:v?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):P.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:`${v?"bg-slate-800":"bg-slate-50"}`,children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(b==null?void 0:b.role)==="admin"&&p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${v?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${v?"divide-slate-700":"divide-slate-200"}`,children:P.map(T=>p.jsxs("tr",{className:`${v?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>E(T),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${v?"text-blue-400":"text-blue-700"} font-medium`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[T.name,g.has(T.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(d1,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${v?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${v?"border-t-slate-800":"border-t-white"}`})]})]})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${v?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:T.status==="active"?"Active":"Pending"})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${v?"text-slate-200":"text-slate-800"}`,children:[T.locationCode," - ",T.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${v?"text-slate-200":"text-slate-800"}`,children:T.asin?T.asin.split(",").length>3?T.asin.split(",").slice(0,3).map(C=>C.trim()).join(", ")+"...":T.asin.split(",").map(C=>C.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${v?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[T.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),T.quantity>10&&T.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),p.jsx("span",{children:T.quantity})]})}),(b==null?void 0:b.role)==="admin"&&p.jsx("td",{className:`px-4 py-3 text-right text-sm ${v?"text-slate-200":"text-slate-900"}`,children:Number(T.price)>0?`£${Number(T.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-sm ${v?"text-slate-200":"text-slate-800"}`,children:$t(new Date(T.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:"px-4 py-3 text-right text-sm",children:p.jsx("div",{className:"flex items-center justify-end gap-2",children:p.jsx(vt,{variant:"secondary",size:"sm",onClick:C=>A(C,T),className:`p-1 ${v?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:p.jsx(sl,{size:16})})})})]},T.id))})]})})}),p.jsx("div",{className:"block md:hidden space-y-4",children:P.map(T=>p.jsxs("div",{className:`rounded-lg border ${v?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>E(T),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${v?"text-blue-400":"text-blue-700"}`,children:T.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[g.has(T.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(d1,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${v?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${v?"border-t-slate-800":"border-t-white"}`})]})]}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:T.status==="active"?"Active":"Pending"})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:v?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[T.locationCode," - ",T.shelfNumber]})]}),p.jsxs("span",{className:v?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:T.quantity})]}),T.asin&&p.jsxs("span",{className:v?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:T.asin})]}),(b==null?void 0:b.role)==="admin"&&p.jsxs("span",{className:v?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(T.price)>0?`£${Number(T.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:v?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:$t(new Date(T.lastUpdated),"MMM d, yyyy")})]})]}),p.jsx("div",{className:"flex gap-2 mt-2",children:p.jsxs(vt,{size:"sm",variant:"secondary",onClick:C=>{C.stopPropagation(),A(C,T)},children:[p.jsx(sl,{size:14})," Edit"]})})]},T.id))})]}):p.jsx("div",{className:`text-center py-12 ${v?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:v?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(Dn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&p.jsx(hBe,{item:l,onSubmit:O,isLoading:s})}),l&&!a&&p.jsx(lP,{isOpen:!0,onClose:()=>c(null),item:l}),p.jsx(Fc,{isOpen:h,onClose:()=>d(!1),onBarcodeScanned:I})]})},pBe=()=>{const[e,t]=Q.useState(!0),[r,n]=Q.useState([]),[a,i]=Q.useState(new Set),[s,o]=Q.useState(""),[l,c]=Q.useState(""),[u,f]=Q.useState("locationCode"),[h,d]=Q.useState({}),{showToast:g}=Yc(),{isDarkMode:m}=Wr(),[y,v]=Q.useState(!1),[b,w]=Q.useState(null),[D,P]=Q.useState(1),[O,E]=Q.useState("A1"),[A,S]=Q.useState("0"),[I,T]=Q.useState(!1),[C,L]=Q.useState(!1),[H,V]=Q.useState(""),{user:J}=ga(),te=async()=>{t(!0);try{const K=vr(Pt(ct,"inventory"),Ma("locationCode")),fe=(await dr(K)).docs.map(W=>{const _e=W.data();return{id:W.id,name:_e.name||"",quantity:_e.quantity||0,price:_e.price||0,supplier:_e.supplier??null,lastUpdated:_e.lastUpdated instanceof Ht?_e.lastUpdated.toDate():new Date,locationCode:_e.locationCode||"",shelfNumber:_e.shelfNumber||"",barcode:_e.barcode??null,asin:_e.asin??null,status:_e.status||"pending",damagedItems:_e.damagedItems||0,fulfillmentType:_e.fulfillmentType||"fba",storeName:_e.storeName||""}});n(fe)}catch(K){console.error("Error fetching locations:",K),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},q=async()=>{try{const K=vr(Pt(ct,"locations")),oe=await dr(K),fe={};oe.forEach(W=>{fe[W.id]=W.data().isAvailable!==!1}),d(fe)}catch(K){console.error("Error fetching location availability:",K)}};Q.useEffect(()=>{t(!0),Promise.all([te(),q()]).finally(()=>t(!1))},[]);const B=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],re=B.reduce((K,oe)=>{const W=r.filter(_e=>_e.locationCode===oe).reduce((_e,Ae)=>{const Se=_e.findIndex(ie=>ie.name===Ae.name&&Z(ie.asin)===Z(Ae.asin)&&Z(ie.barcode)===Z(Ae.barcode)&&ie.locationCode===Ae.locationCode&&ie.shelfNumber===Ae.shelfNumber);return Se>=0?_e[Se]={..._e[Se],quantity:_e[Se].quantity+Ae.quantity,lastUpdated:_e[Se].lastUpdated>Ae.lastUpdated?_e[Se].lastUpdated:Ae.lastUpdated}:_e.push(Ae),_e},[]);return K[oe]={locationCode:oe,totalStock:W.reduce((_e,Ae)=>_e+Ae.quantity,0),products:W},K},{}),ee=Object.values(re).filter(K=>{const oe=s.toLowerCase(),fe=l.toLowerCase(),W=fe===""||K.locationCode.toLowerCase().includes(fe),_e=oe===""||K.products.some(Ae=>Ae.name.toLowerCase().includes(oe)||Ae.asin&&Ae.asin.split(",").some(Se=>Se.trim().toLowerCase().includes(oe))||Ae.barcode&&Ae.barcode.toLowerCase().includes(oe));return W&&_e}).sort((K,oe)=>{if(u==="totalStock")return oe.totalStock-K.totalStock;if(u==="locationCode")return K.locationCode==="Awaiting Location"?-1:oe.locationCode==="Awaiting Location"?1:K.locationCode.localeCompare(oe.locationCode);if(u==="availability"){const fe=h[K.locationCode]!==!1,W=h[oe.locationCode]!==!1;return fe===W?K.locationCode==="Awaiting Location"?-1:oe.locationCode==="Awaiting Location"?1:K.locationCode.localeCompare(oe.locationCode):fe?-1:1}return 0});Q.useEffect(()=>{if(s.trim()&&s!==H){const K=ee.filter(oe=>{const fe=s.toLowerCase();return oe.products.some(W=>W.name.toLowerCase().includes(fe)||W.asin&&W.asin.split(",").some(_e=>_e.trim().toLowerCase().includes(fe))||W.barcode&&W.barcode.toLowerCase().includes(fe))});if(K.length>0){const oe=K.flatMap(W=>W.products.filter(_e=>{const Ae=s.toLowerCase();return _e.name.toLowerCase().includes(Ae)||_e.asin&&_e.asin.split(",").some(Se=>Se.trim().toLowerCase().includes(Ae))||_e.barcode&&_e.barcode.toLowerCase().includes(Ae)})),fe=[...new Set(oe.map(W=>`${W.locationCode}-${W.shelfNumber}`))];g(`Product found! Located at: ${fe.join(", ")}`,"success"),V(s)}else s.trim()&&s!==H&&(g("Product not found in any location","error"),V(s))}else!s.trim()&&H&&V("")},[ee,s,g,H]);const N=K=>{i(oe=>{const fe=new Set(oe);return fe.has(K)?fe.delete(K):fe.add(K),fe})},R=()=>{L(!0)},z=K=>{o(K),L(!1)},X=async K=>{const oe=!(h[K]??!0);d(fe=>({...fe,[K]:oe}));try{await ex(nn(ct,"locations",K),{isAvailable:oe},{merge:!0})}catch(fe){g("Failed to update availability","error"),d(W=>({...W,[K]:!oe})),console.log(fe)}};function G(K){const oe={...K};return Object.keys(oe).forEach(fe=>{oe[fe]===void 0&&(oe[fe]=null)}),oe}function Z(K){return K??""}const se=async()=>{if(b&&!(D<1||D>b.quantity)){T(!0);try{const K=vr(Pt(ct,"inventory")),oe=await dr(K);let fe=null;if(oe.forEach(W=>{const _e=W.data();_e.name===b.name&&_e.locationCode===O&&_e.shelfNumber===A&&Z(_e.asin)===Z(b.asin)&&Z(_e.barcode)===Z(b.barcode)&&(fe={..._e,id:W.id})}),D===b.quantity)await ex(nn(ct,"inventory",b.id),G({...b,locationCode:O,shelfNumber:A,lastUpdated:new Date}),{merge:!0});else if(await ex(nn(ct,"inventory",b.id),G({...b,quantity:b.quantity-D,lastUpdated:new Date}),{merge:!0}),fe)await ex(nn(ct,"inventory",fe.id),G({...fe,quantity:fe.quantity+D,lastUpdated:new Date}),{merge:!0});else{const{id:W,..._e}=b;await kr(Pt(ct,"inventory"),G({..._e,quantity:D,locationCode:O,shelfNumber:A,lastUpdated:new Date}))}await kr(Pt(ct,"activityLogs"),{user:(J==null?void 0:J.name)||"Unknown",role:(J==null?void 0:J.role)||"Unknown",detail:`Moved ${D} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${O}-${A}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),v(!1),w(null),te()}catch(K){g("Failed to move stock","error"),console.log(K)}finally{T(!1)}}};return p.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),p.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(yt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:K=>o(K.target.value),icon:p.jsx(zh,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:R,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(il,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"flex-1",children:p.jsx(yt,{type:"text",placeholder:"Search by location code...",value:l,onChange:K=>c(K.target.value),icon:p.jsx(zh,{size:16})})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Fr,{value:u,onChange:K=>f(K.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),p.jsx(vt,{variant:"secondary",onClick:te,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(ol,{size:16,className:e?"animate-spin":""})})]}),e?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):ee.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[p.jsx(Q0,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),p.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(ee).map(K=>{const oe=a.has(K.locationCode);return p.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${oe?"ring-2 ring-blue-500":""}`,children:[p.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>N(K.locationCode),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:p.jsx(Q0,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),p.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:K.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${K.locationCode}`})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:h[K.locationCode]!==!1,onChange:fe=>{fe.stopPropagation(),X(K.locationCode)},className:"sr-only peer"}),p.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[K.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),p.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[K.locationCode]!==!1?"translate-x-5":""}
                          `})]}),p.jsx("span",{className:`text-xs font-semibold ml-2 ${h[K.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[K.locationCode]!==!1?"Available":"Not Available"}),p.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:fe=>{fe.stopPropagation(),N(K.locationCode)},"aria-label":oe?"Collapse":"Expand",children:oe?p.jsx(nZ,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):p.jsx(p1,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),p.jsxs("div",{className:"flex justify-between items-end mt-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),p.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[K.totalStock," units"]})]}),p.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?K.products.filter(fe=>{const W=s.toLowerCase();return fe.name.toLowerCase().includes(W)||fe.asin&&fe.asin.split(",").some(_e=>_e.trim().toLowerCase().includes(W))||fe.barcode&&fe.barcode.toLowerCase().includes(W)}).length:K.products.length," product",(s.trim()?K.products.filter(fe=>{const W=s.toLowerCase();return fe.name.toLowerCase().includes(W)||fe.asin&&fe.asin.split(",").some(_e=>_e.trim().toLowerCase().includes(W))||fe.barcode&&fe.barcode.toLowerCase().includes(W)}).length:K.products.length)!==1?"s":""]})]})]}),oe&&p.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[p.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?K.products.filter(fe=>{const W=s.toLowerCase();return fe.name.toLowerCase().includes(W)||fe.asin&&fe.asin.split(",").some(_e=>_e.trim().toLowerCase().includes(W))||fe.barcode&&fe.barcode.toLowerCase().includes(W)}).length===0:K.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),p.jsx("div",{className:"space-y-4",children:K.products.filter(fe=>{if(s.trim()){const W=s.toLowerCase();return fe.name.toLowerCase().includes(W)||fe.asin&&fe.asin.split(",").some(_e=>_e.trim().toLowerCase().includes(W))||fe.barcode&&fe.barcode.toLowerCase().includes(W)}return!0}).map(fe=>{const W=K.totalStock===0?0:fe.quantity/K.totalStock*100,_e=s.toLowerCase(),Ae=fe.name.toLowerCase().includes(_e)||fe.asin&&fe.asin.split(",").some(Se=>Se.trim().toLowerCase().includes(_e))||fe.barcode&&fe.barcode.toLowerCase().includes(_e);return p.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${Ae?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h4",{className:`font-medium ${Ae?"text-blue-600":m?"text-white":"text-slate-800"}`,children:fe.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",fe.shelfNumber]})]}),p.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[p.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[fe.quantity," units"]}),p.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async Se=>{Se.stopPropagation();const ie=await Hh(nn(ct,"inventory",fe.id));if(ie.exists()){const ke=ie.data();w({...ke,id:fe.id}),P(1),E(fe.locationCode),S(fe.shelfNumber),v(!0)}else g("Failed to fetch product details","error")},children:"Move"})]})]}),p.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:p.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${W>75?"bg-green-500":W>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${W}%`},title:`${fe.quantity} out of ${K.totalStock} units (${W.toFixed(1)}%)`})})]},fe.id)})})]})]},K.locationCode)})}),p.jsx(Dn,{isOpen:y,onClose:()=>v(!1),title:"Move Stock",children:b&&p.jsxs("form",{onSubmit:K=>{K.preventDefault(),se()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),p.jsx("input",{type:"number",min:1,max:b.quantity,value:D,onChange:K=>P(Number(K.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),p.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),p.jsx("select",{value:O,onChange:K=>E(K.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:B.map(K=>p.jsx("option",{value:K,children:K},K))})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),p.jsx("select",{value:A,onChange:K=>S(K.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:[0,1,2,3,4,5].map(K=>p.jsx("option",{value:K,children:K},K))})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>v(!1),children:"Cancel"}),p.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:I,children:I?"Moving...":"Move"})]})]})}),p.jsx(Fc,{isOpen:C,onClose:()=>L(!1),onBarcodeScanned:z})]})},Bo=({children:e,allowedRoles:t})=>{const{user:r}=ga();return r?t.includes(r.role)?p.jsx(p.Fragment,{children:e}):p.jsx(w4,{to:"/",replace:!0}):p.jsx(w4,{to:"/login",replace:!0})};function mBe(){return p.jsxs(jJ,{children:[p.jsx(is,{path:"/login",element:p.jsx(Sce,{})}),p.jsxs(is,{path:"/",element:p.jsx(wce,{}),children:[p.jsx(is,{index:!0,element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(cye,{})})}),p.jsx(is,{path:"stock",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(Sye,{})})}),p.jsx(is,{path:"jobs",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(Tye,{})})}),p.jsx(is,{path:"inventory",element:p.jsx(Bo,{allowedRoles:["admin"],children:p.jsx(Aye,{})})}),p.jsx(is,{path:"orders",element:p.jsx(Bo,{allowedRoles:[""],children:p.jsx(Fye,{})})}),p.jsx(is,{path:"outbound-stock",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(dBe,{})})}),p.jsx(is,{path:"warehouse-locations",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(pBe,{})})}),p.jsx(is,{path:"warehouse-operations",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(_2e,{})})}),p.jsx(is,{path:"reports-analytics",element:p.jsx(Bo,{allowedRoles:["admin"],children:p.jsx(uBe,{})})}),p.jsx(is,{path:"settings",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(fBe,{})})}),p.jsx(is,{path:"add",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(wq,{})})})]})]})}D9(document.getElementById("root")).render(p.jsx(Q.StrictMode,{children:p.jsx(UJ,{basename:"/",children:p.jsx(Tae,{children:p.jsx(Aae,{children:p.jsx(_ce,{children:p.jsx(mBe,{})})})})})}));export{$r as _,Xm as c,sn as g};
