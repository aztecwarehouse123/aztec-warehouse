function qY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BR={exports:{}},Iw={},UR={exports:{}},qr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=Symbol.for("react.element"),WY=Symbol.for("react.portal"),HY=Symbol.for("react.fragment"),GY=Symbol.for("react.strict_mode"),KY=Symbol.for("react.profiler"),YY=Symbol.for("react.provider"),XY=Symbol.for("react.context"),QY=Symbol.for("react.forward_ref"),JY=Symbol.for("react.suspense"),ZY=Symbol.for("react.memo"),eX=Symbol.for("react.lazy"),a6=Symbol.iterator;function tX(e){return e===null||typeof e!="object"?null:(e=a6&&e[a6]||e["@@iterator"],typeof e=="function"?e:null)}var VR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zR=Object.assign,qR={};function Wp(e,t,r){this.props=e,this.context=t,this.refs=qR,this.updater=r||VR}Wp.prototype.isReactComponent={};Wp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WR(){}WR.prototype=Wp.prototype;function SE(e,t,r){this.props=e,this.context=t,this.refs=qR,this.updater=r||VR}var AE=SE.prototype=new WR;AE.constructor=SE;zR(AE,Wp.prototype);AE.isPureReactComponent=!0;var i6=Array.isArray,HR=Object.prototype.hasOwnProperty,TE={current:null},GR={key:!0,ref:!0,__self:!0,__source:!0};function KR(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)HR.call(t,n)&&!GR.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:L1,type:e,key:i,ref:s,props:a,_owner:TE.current}}function rX(e,t){return{$$typeof:L1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function EE(e){return typeof e=="object"&&e!==null&&e.$$typeof===L1}function nX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var s6=/\/+/g;function M_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nX(""+e.key):t.toString(36)}function zx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case L1:case WY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+M_(s,0):n,i6(a)?(r="",e!=null&&(r=e.replace(s6,"$&/")+"/"),zx(a,t,r,"",function(c){return c})):a!=null&&(EE(a)&&(a=rX(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(s6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",i6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+M_(i,o);s+=zx(i,t,r,l,a)}else if(l=tX(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+M_(i,o++),s+=zx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Uy(e,t,r){if(e==null)return e;var n=[],a=0;return zx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function aX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ts={current:null},qx={transition:null},iX={ReactCurrentDispatcher:Ts,ReactCurrentBatchConfig:qx,ReactCurrentOwner:TE};function YR(){throw Error("act(...) is not supported in production builds of React.")}qr.Children={map:Uy,forEach:function(e,t,r){Uy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uy(e,function(){t++}),t},toArray:function(e){return Uy(e,function(t){return t})||[]},only:function(e){if(!EE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qr.Component=Wp;qr.Fragment=HY;qr.Profiler=KY;qr.PureComponent=SE;qr.StrictMode=GY;qr.Suspense=JY;qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iX;qr.act=YR;qr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=TE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)HR.call(t,l)&&!GR.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:L1,type:e.type,key:a,ref:i,props:n,_owner:s}};qr.createContext=function(e){return e={$$typeof:XY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YY,_context:e},e.Consumer=e};qr.createElement=KR;qr.createFactory=function(e){var t=KR.bind(null,e);return t.type=e,t};qr.createRef=function(){return{current:null}};qr.forwardRef=function(e){return{$$typeof:QY,render:e}};qr.isValidElement=EE;qr.lazy=function(e){return{$$typeof:eX,_payload:{_status:-1,_result:e},_init:aX}};qr.memo=function(e,t){return{$$typeof:ZY,type:e,compare:t===void 0?null:t}};qr.startTransition=function(e){var t=qx.transition;qx.transition={};try{e()}finally{qx.transition=t}};qr.unstable_act=YR;qr.useCallback=function(e,t){return Ts.current.useCallback(e,t)};qr.useContext=function(e){return Ts.current.useContext(e)};qr.useDebugValue=function(){};qr.useDeferredValue=function(e){return Ts.current.useDeferredValue(e)};qr.useEffect=function(e,t){return Ts.current.useEffect(e,t)};qr.useId=function(){return Ts.current.useId()};qr.useImperativeHandle=function(e,t,r){return Ts.current.useImperativeHandle(e,t,r)};qr.useInsertionEffect=function(e,t){return Ts.current.useInsertionEffect(e,t)};qr.useLayoutEffect=function(e,t){return Ts.current.useLayoutEffect(e,t)};qr.useMemo=function(e,t){return Ts.current.useMemo(e,t)};qr.useReducer=function(e,t,r){return Ts.current.useReducer(e,t,r)};qr.useRef=function(e){return Ts.current.useRef(e)};qr.useState=function(e){return Ts.current.useState(e)};qr.useSyncExternalStore=function(e,t,r){return Ts.current.useSyncExternalStore(e,t,r)};qr.useTransition=function(){return Ts.current.useTransition()};qr.version="18.3.1";UR.exports=qr;var F=UR.exports;const Ue=kn(F),sX=qY({__proto__:null,default:Ue},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oX=F,lX=Symbol.for("react.element"),cX=Symbol.for("react.fragment"),uX=Object.prototype.hasOwnProperty,fX=oX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dX={key:!0,ref:!0,__self:!0,__source:!0};function XR(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)uX.call(t,n)&&!dX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:lX,type:e,key:i,ref:s,props:a,_owner:fX.current}}Iw.Fragment=cX;Iw.jsx=XR;Iw.jsxs=XR;BR.exports=Iw;var f=BR.exports,QR={exports:{}},fo={},JR={exports:{}},ZR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,q){var te=V.length;V.push(q);e:for(;0<te;){var Z=te-1>>>1,k=V[Z];if(0<a(k,q))V[Z]=q,V[te]=k,te=Z;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var q=V[0],te=V.pop();if(te!==q){V[0]=te;e:for(var Z=0,k=V.length,R=k>>>1;Z<R;){var G=2*(Z+1)-1,Y=V[G],J=G+1,se=V[J];if(0>a(Y,te))J<k&&0>a(se,Y)?(V[Z]=se,V[J]=te,Z=J):(V[Z]=Y,V[G]=te,Z=G);else if(J<k&&0>a(se,te))V[Z]=se,V[J]=te,Z=J;else break e}}return q}function a(V,q){var te=V.sortIndex-q.sortIndex;return te!==0?te:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=V)n(c),q.sortIndex=q.expirationTime,t(l,q);else break;q=r(c)}}function D(V){if(m=!1,b(V),!g)if(r(l)!==null)g=!0,z(O);else{var q=r(c);q!==null&&H(D,q.startTime-V)}}function O(V,q){g=!1,m&&(m=!1,y(_),_=-1),p=!0;var te=h;try{for(b(q),d=r(l);d!==null&&(!(d.expirationTime>q)||V&&!E());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var k=Z(d.expirationTime<=q);q=e.unstable_now(),typeof k=="function"?d.callback=k:d===r(l)&&n(l),b(q)}else n(l);d=r(l)}if(d!==null)var R=!0;else{var G=r(c);G!==null&&H(D,G.startTime-q),R=!1}return R}finally{d=null,h=te,p=!1}}var P=!1,T=null,_=-1,S=5,I=-1;function E(){return!(e.unstable_now()-I<S)}function C(){if(T!==null){var V=e.unstable_now();I=V;var q=!0;try{q=T(!0,V)}finally{q?N():(P=!1,T=null)}}else P=!1}var N;if(typeof w=="function")N=function(){w(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=C,N=function(){X.postMessage(null)}}else N=function(){v(C,0)};function z(V){T=V,P||(P=!0,N())}function H(V,q){_=v(function(){V(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,z(O))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var te=h;h=q;try{return V()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=h;h=V;try{return q()}finally{h=te}},e.unstable_scheduleCallback=function(V,q,te){var Z=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Z+te:Z):te=Z,V){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=te+k,V={id:u++,callback:q,priorityLevel:V,startTime:te,expirationTime:k,sortIndex:-1},te>Z?(V.sortIndex=te,t(c,V),r(l)===null&&V===r(c)&&(m?(y(_),_=-1):m=!0,H(D,te-Z))):(V.sortIndex=k,t(l,V),g||p||(g=!0,z(O))),V},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(V){var q=h;return function(){var te=h;h=q;try{return V.apply(this,arguments)}finally{h=te}}}})(ZR);JR.exports=ZR;var hX=JR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pX=F,lo=hX;function Lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eF=new Set,sv={};function vh(e,t){rp(e,t),rp(e+"Capture",t)}function rp(e,t){for(sv[e]=t,e=0;e<t.length;e++)eF.add(t[e])}var Kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MA=Object.prototype.hasOwnProperty,mX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o6={},l6={};function gX(e){return MA.call(l6,e)?!0:MA.call(o6,e)?!1:mX.test(e)?l6[e]=!0:(o6[e]=!0,!1)}function vX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yX(e,t,r,n){if(t===null||typeof t>"u"||vX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Es(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ci[e]=new Es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ci[t]=new Es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ci[e]=new Es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ci[e]=new Es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ci[e]=new Es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ci[e]=new Es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ci[e]=new Es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ci[e]=new Es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ci[e]=new Es(e,5,!1,e.toLowerCase(),null,!1,!1)});var NE=/[\-:]([a-z])/g;function kE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(NE,kE);Ci[t]=new Es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(NE,kE);Ci[t]=new Es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(NE,kE);Ci[t]=new Es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ci[e]=new Es(e,1,!1,e.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new Es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ci[e]=new Es(e,1,!1,e.toLowerCase(),null,!0,!0)});function CE(e,t,r,n){var a=Ci.hasOwnProperty(t)?Ci[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yX(t,r,a,n)&&(r=null),n||a===null?gX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fu=pX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vy=Symbol.for("react.element"),h0=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),PE=Symbol.for("react.strict_mode"),RA=Symbol.for("react.profiler"),tF=Symbol.for("react.provider"),rF=Symbol.for("react.context"),jE=Symbol.for("react.forward_ref"),FA=Symbol.for("react.suspense"),$A=Symbol.for("react.suspense_list"),OE=Symbol.for("react.memo"),Xu=Symbol.for("react.lazy"),nF=Symbol.for("react.offscreen"),c6=Symbol.iterator;function Fm(e){return e===null||typeof e!="object"?null:(e=c6&&e[c6]||e["@@iterator"],typeof e=="function"?e:null)}var oa=Object.assign,R_;function cg(e){if(R_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R_=t&&t[1]||""}return`
`+R_+e}var F_=!1;function $_(e,t){if(!e||F_)return"";F_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{F_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cg(e):""}function xX(e){switch(e.tag){case 5:return cg(e.type);case 16:return cg("Lazy");case 13:return cg("Suspense");case 19:return cg("SuspenseList");case 0:case 2:case 15:return e=$_(e.type,!1),e;case 11:return e=$_(e.type.render,!1),e;case 1:return e=$_(e.type,!0),e;default:return""}}function BA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p0:return"Fragment";case h0:return"Portal";case RA:return"Profiler";case PE:return"StrictMode";case FA:return"Suspense";case $A:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rF:return(e.displayName||"Context")+".Consumer";case tF:return(e._context.displayName||"Context")+".Provider";case jE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case OE:return t=e.displayName||null,t!==null?t:BA(e.type)||"Memo";case Xu:t=e._payload,e=e._init;try{return BA(e(t))}catch{}}return null}function bX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return BA(t);case 8:return t===PE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function If(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wX(e){var t=aF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zy(e){e._valueTracker||(e._valueTracker=wX(e))}function iF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function y2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function UA(e,t){var r=t.checked;return oa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function u6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=If(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sF(e,t){t=t.checked,t!=null&&CE(e,"checked",t,!1)}function VA(e,t){sF(e,t);var r=If(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zA(e,t.type,r):t.hasOwnProperty("defaultValue")&&zA(e,t.type,If(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zA(e,t,r){(t!=="number"||y2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ug=Array.isArray;function L0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+If(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Lt(91));return oa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Lt(92));if(ug(r)){if(1<r.length)throw Error(Lt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:If(r)}}function oF(e,t){var r=If(t.value),n=If(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function h6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qy,cF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qy=qy||document.createElement("div"),qy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ov(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ag={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_X=["Webkit","ms","Moz","O"];Object.keys(Ag).forEach(function(e){_X.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ag[t]=Ag[e]})});function uF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ag.hasOwnProperty(e)&&Ag[e]?(""+t).trim():t+"px"}function fF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=uF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var SX=oa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HA(e,t){if(t){if(SX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Lt(62))}}function GA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KA=null;function IE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var YA=null,M0=null,R0=null;function p6(e){if(e=F1(e)){if(typeof YA!="function")throw Error(Lt(280));var t=e.stateNode;t&&(t=Fw(t),YA(e.stateNode,e.type,t))}}function dF(e){M0?R0?R0.push(e):R0=[e]:M0=e}function hF(){if(M0){var e=M0,t=R0;if(R0=M0=null,p6(e),t)for(e=0;e<t.length;e++)p6(t[e])}}function pF(e,t){return e(t)}function mF(){}var B_=!1;function gF(e,t,r){if(B_)return e(t,r);B_=!0;try{return pF(e,t,r)}finally{B_=!1,(M0!==null||R0!==null)&&(mF(),hF())}}function lv(e,t){var r=e.stateNode;if(r===null)return null;var n=Fw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Lt(231,t,typeof r));return r}var XA=!1;if(Kc)try{var $m={};Object.defineProperty($m,"passive",{get:function(){XA=!0}}),window.addEventListener("test",$m,$m),window.removeEventListener("test",$m,$m)}catch{XA=!1}function AX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Tg=!1,x2=null,b2=!1,QA=null,TX={onError:function(e){Tg=!0,x2=e}};function EX(e,t,r,n,a,i,s,o,l){Tg=!1,x2=null,AX.apply(TX,arguments)}function NX(e,t,r,n,a,i,s,o,l){if(EX.apply(this,arguments),Tg){if(Tg){var c=x2;Tg=!1,x2=null}else throw Error(Lt(198));b2||(b2=!0,QA=c)}}function yh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m6(e){if(yh(e)!==e)throw Error(Lt(188))}function kX(e){var t=e.alternate;if(!t){if(t=yh(e),t===null)throw Error(Lt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return m6(a),e;if(i===n)return m6(a),t;i=i.sibling}throw Error(Lt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Lt(189))}}if(r.alternate!==n)throw Error(Lt(190))}if(r.tag!==3)throw Error(Lt(188));return r.stateNode.current===r?e:t}function yF(e){return e=kX(e),e!==null?xF(e):null}function xF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xF(e);if(t!==null)return t;e=e.sibling}return null}var bF=lo.unstable_scheduleCallback,g6=lo.unstable_cancelCallback,CX=lo.unstable_shouldYield,PX=lo.unstable_requestPaint,wa=lo.unstable_now,jX=lo.unstable_getCurrentPriorityLevel,DE=lo.unstable_ImmediatePriority,wF=lo.unstable_UserBlockingPriority,w2=lo.unstable_NormalPriority,OX=lo.unstable_LowPriority,_F=lo.unstable_IdlePriority,Dw=null,Yl=null;function IX(e){if(Yl&&typeof Yl.onCommitFiberRoot=="function")try{Yl.onCommitFiberRoot(Dw,e,void 0,(e.current.flags&128)===128)}catch{}}var wl=Math.clz32?Math.clz32:MX,DX=Math.log,LX=Math.LN2;function MX(e){return e>>>=0,e===0?32:31-(DX(e)/LX|0)|0}var Wy=64,Hy=4194304;function fg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=fg(o):(i&=s,i!==0&&(n=fg(i)))}else s=r&~a,s!==0?n=fg(s):i!==0&&(n=fg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wl(t),a=1<<r,n|=e[r],t&=~a;return n}function RX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-wl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=RX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function JA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function SF(){var e=Wy;return Wy<<=1,!(Wy&4194240)&&(Wy=64),e}function U_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function M1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wl(t),e[t]=r}function $X(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function LE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var _n=0;function AF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var TF,ME,EF,NF,kF,ZA=!1,Gy=[],gf=null,vf=null,yf=null,cv=new Map,uv=new Map,Zu=[],BX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v6(e,t){switch(e){case"focusin":case"focusout":gf=null;break;case"dragenter":case"dragleave":vf=null;break;case"mouseover":case"mouseout":yf=null;break;case"pointerover":case"pointerout":cv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uv.delete(t.pointerId)}}function Bm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=F1(t),t!==null&&ME(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function UX(e,t,r,n,a){switch(t){case"focusin":return gf=Bm(gf,e,t,r,n,a),!0;case"dragenter":return vf=Bm(vf,e,t,r,n,a),!0;case"mouseover":return yf=Bm(yf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return cv.set(i,Bm(cv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,uv.set(i,Bm(uv.get(i)||null,e,t,r,n,a)),!0}return!1}function CF(e){var t=jd(e.target);if(t!==null){var r=yh(t);if(r!==null){if(t=r.tag,t===13){if(t=vF(r),t!==null){e.blockedOn=t,kF(e.priority,function(){EF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=e4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);KA=n,r.target.dispatchEvent(n),KA=null}else return t=F1(r),t!==null&&ME(t),e.blockedOn=r,!1;t.shift()}return!0}function y6(e,t,r){Wx(e)&&r.delete(t)}function VX(){ZA=!1,gf!==null&&Wx(gf)&&(gf=null),vf!==null&&Wx(vf)&&(vf=null),yf!==null&&Wx(yf)&&(yf=null),cv.forEach(y6),uv.forEach(y6)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,ZA||(ZA=!0,lo.unstable_scheduleCallback(lo.unstable_NormalPriority,VX)))}function fv(e){function t(a){return Um(a,e)}if(0<Gy.length){Um(Gy[0],e);for(var r=1;r<Gy.length;r++){var n=Gy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gf!==null&&Um(gf,e),vf!==null&&Um(vf,e),yf!==null&&Um(yf,e),cv.forEach(t),uv.forEach(t),r=0;r<Zu.length;r++)n=Zu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zu.length&&(r=Zu[0],r.blockedOn===null);)CF(r),r.blockedOn===null&&Zu.shift()}var F0=fu.ReactCurrentBatchConfig,S2=!0;function zX(e,t,r,n){var a=_n,i=F0.transition;F0.transition=null;try{_n=1,RE(e,t,r,n)}finally{_n=a,F0.transition=i}}function qX(e,t,r,n){var a=_n,i=F0.transition;F0.transition=null;try{_n=4,RE(e,t,r,n)}finally{_n=a,F0.transition=i}}function RE(e,t,r,n){if(S2){var a=e4(e,t,r,n);if(a===null)Q_(e,t,n,A2,r),v6(e,n);else if(UX(a,e,t,r,n))n.stopPropagation();else if(v6(e,n),t&4&&-1<BX.indexOf(e)){for(;a!==null;){var i=F1(a);if(i!==null&&TF(i),i=e4(e,t,r,n),i===null&&Q_(e,t,n,A2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Q_(e,t,n,null,r)}}var A2=null;function e4(e,t,r,n){if(A2=null,e=IE(n),e=jd(e),e!==null)if(t=yh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return A2=e,null}function PF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jX()){case DE:return 1;case wF:return 4;case w2:case OX:return 16;case _F:return 536870912;default:return 16}default:return 16}}var sf=null,FE=null,Hx=null;function jF(){if(Hx)return Hx;var e,t=FE,r=t.length,n,a="value"in sf?sf.value:sf.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Hx=a.slice(e,1<n?1-n:void 0)}function Gx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ky(){return!0}function x6(){return!1}function ho(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ky:x6,this.isPropagationStopped=x6,this}return oa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ky)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ky)},persist:function(){},isPersistent:Ky}),t}var Hp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$E=ho(Hp),R1=oa({},Hp,{view:0,detail:0}),WX=ho(R1),V_,z_,Vm,Lw=oa({},R1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vm&&(Vm&&e.type==="mousemove"?(V_=e.screenX-Vm.screenX,z_=e.screenY-Vm.screenY):z_=V_=0,Vm=e),V_)},movementY:function(e){return"movementY"in e?e.movementY:z_}}),b6=ho(Lw),HX=oa({},Lw,{dataTransfer:0}),GX=ho(HX),KX=oa({},R1,{relatedTarget:0}),q_=ho(KX),YX=oa({},Hp,{animationName:0,elapsedTime:0,pseudoElement:0}),XX=ho(YX),QX=oa({},Hp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JX=ho(QX),ZX=oa({},Hp,{data:0}),w6=ho(ZX),eQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rQ[e])?!!t[e]:!1}function BE(){return nQ}var aQ=oa({},R1,{key:function(e){if(e.key){var t=eQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BE,charCode:function(e){return e.type==="keypress"?Gx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iQ=ho(aQ),sQ=oa({},Lw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_6=ho(sQ),oQ=oa({},R1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BE}),lQ=ho(oQ),cQ=oa({},Hp,{propertyName:0,elapsedTime:0,pseudoElement:0}),uQ=ho(cQ),fQ=oa({},Lw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dQ=ho(fQ),hQ=[9,13,27,32],UE=Kc&&"CompositionEvent"in window,Eg=null;Kc&&"documentMode"in document&&(Eg=document.documentMode);var pQ=Kc&&"TextEvent"in window&&!Eg,OF=Kc&&(!UE||Eg&&8<Eg&&11>=Eg),S6=" ",A6=!1;function IF(e,t){switch(e){case"keyup":return hQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var m0=!1;function mQ(e,t){switch(e){case"compositionend":return DF(t);case"keypress":return t.which!==32?null:(A6=!0,S6);case"textInput":return e=t.data,e===S6&&A6?null:e;default:return null}}function gQ(e,t){if(m0)return e==="compositionend"||!UE&&IF(e,t)?(e=jF(),Hx=FE=sf=null,m0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OF&&t.locale!=="ko"?null:t.data;default:return null}}var vQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vQ[e.type]:t==="textarea"}function LF(e,t,r,n){dF(n),t=T2(t,"onChange"),0<t.length&&(r=new $E("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ng=null,dv=null;function yQ(e){HF(e,0)}function Mw(e){var t=y0(e);if(iF(t))return e}function xQ(e,t){if(e==="change")return t}var MF=!1;if(Kc){var W_;if(Kc){var H_="oninput"in document;if(!H_){var E6=document.createElement("div");E6.setAttribute("oninput","return;"),H_=typeof E6.oninput=="function"}W_=H_}else W_=!1;MF=W_&&(!document.documentMode||9<document.documentMode)}function N6(){Ng&&(Ng.detachEvent("onpropertychange",RF),dv=Ng=null)}function RF(e){if(e.propertyName==="value"&&Mw(dv)){var t=[];LF(t,dv,e,IE(e)),gF(yQ,t)}}function bQ(e,t,r){e==="focusin"?(N6(),Ng=t,dv=r,Ng.attachEvent("onpropertychange",RF)):e==="focusout"&&N6()}function wQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mw(dv)}function _Q(e,t){if(e==="click")return Mw(t)}function SQ(e,t){if(e==="input"||e==="change")return Mw(t)}function AQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tl=typeof Object.is=="function"?Object.is:AQ;function hv(e,t){if(Tl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!MA.call(t,a)||!Tl(e[a],t[a]))return!1}return!0}function k6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C6(e,t){var r=k6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=k6(r)}}function FF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $F(){for(var e=window,t=y2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=y2(e.document)}return t}function VE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TQ(e){var t=$F(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FF(r.ownerDocument.documentElement,r)){if(n!==null&&VE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=C6(r,i);var s=C6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EQ=Kc&&"documentMode"in document&&11>=document.documentMode,g0=null,t4=null,kg=null,r4=!1;function P6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r4||g0==null||g0!==y2(n)||(n=g0,"selectionStart"in n&&VE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kg&&hv(kg,n)||(kg=n,n=T2(t4,"onSelect"),0<n.length&&(t=new $E("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=g0)))}function Yy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var v0={animationend:Yy("Animation","AnimationEnd"),animationiteration:Yy("Animation","AnimationIteration"),animationstart:Yy("Animation","AnimationStart"),transitionend:Yy("Transition","TransitionEnd")},G_={},BF={};Kc&&(BF=document.createElement("div").style,"AnimationEvent"in window||(delete v0.animationend.animation,delete v0.animationiteration.animation,delete v0.animationstart.animation),"TransitionEvent"in window||delete v0.transitionend.transition);function Rw(e){if(G_[e])return G_[e];if(!v0[e])return e;var t=v0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BF)return G_[e]=t[r];return e}var UF=Rw("animationend"),VF=Rw("animationiteration"),zF=Rw("animationstart"),qF=Rw("transitionend"),WF=new Map,j6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hf(e,t){WF.set(e,t),vh(t,[e])}for(var K_=0;K_<j6.length;K_++){var Y_=j6[K_],NQ=Y_.toLowerCase(),kQ=Y_[0].toUpperCase()+Y_.slice(1);Hf(NQ,"on"+kQ)}Hf(UF,"onAnimationEnd");Hf(VF,"onAnimationIteration");Hf(zF,"onAnimationStart");Hf("dblclick","onDoubleClick");Hf("focusin","onFocus");Hf("focusout","onBlur");Hf(qF,"onTransitionEnd");rp("onMouseEnter",["mouseout","mouseover"]);rp("onMouseLeave",["mouseout","mouseover"]);rp("onPointerEnter",["pointerout","pointerover"]);rp("onPointerLeave",["pointerout","pointerover"]);vh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vh("onBeforeInput",["compositionend","keypress","textInput","paste"]);vh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(dg));function O6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NX(n,t,void 0,e),e.currentTarget=null}function HF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;O6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;O6(a,o,c),i=l}}}if(b2)throw e=QA,b2=!1,QA=null,e}function Hn(e,t){var r=t[o4];r===void 0&&(r=t[o4]=new Set);var n=e+"__bubble";r.has(n)||(GF(t,e,2,!1),r.add(n))}function X_(e,t,r){var n=0;t&&(n|=4),GF(r,e,n,t)}var Xy="_reactListening"+Math.random().toString(36).slice(2);function pv(e){if(!e[Xy]){e[Xy]=!0,eF.forEach(function(r){r!=="selectionchange"&&(CQ.has(r)||X_(r,!1,e),X_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xy]||(t[Xy]=!0,X_("selectionchange",!1,t))}}function GF(e,t,r,n){switch(PF(t)){case 1:var a=zX;break;case 4:a=qX;break;default:a=RE}r=a.bind(null,t,r,e),a=void 0,!XA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Q_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=jd(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}gF(function(){var c=i,u=IE(r),d=[];e:{var h=WF.get(e);if(h!==void 0){var p=$E,g=e;switch(e){case"keypress":if(Gx(r)===0)break e;case"keydown":case"keyup":p=iQ;break;case"focusin":g="focus",p=q_;break;case"focusout":g="blur",p=q_;break;case"beforeblur":case"afterblur":p=q_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=b6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lQ;break;case UF:case VF:case zF:p=XX;break;case qF:p=uQ;break;case"scroll":p=WX;break;case"wheel":p=dQ;break;case"copy":case"cut":case"paste":p=JX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,b;w!==null;){b=w;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,y!==null&&(D=lv(w,y),D!=null&&m.push(mv(w,D,b)))),v)break;w=w.return}0<m.length&&(h=new p(h,g,null,r,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==KA&&(g=r.relatedTarget||r.fromElement)&&(jd(g)||g[Yc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?jd(g):null,g!==null&&(v=yh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=b6,D="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=_6,D="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?h:y0(p),b=g==null?h:y0(g),h=new m(D,w+"leave",p,r,u),h.target=v,h.relatedTarget=b,D=null,jd(u)===c&&(m=new m(y,w+"enter",g,r,u),m.target=b,m.relatedTarget=v,D=m),v=D,p&&g)t:{for(m=p,y=g,w=0,b=m;b;b=Qh(b))w++;for(b=0,D=y;D;D=Qh(D))b++;for(;0<w-b;)m=Qh(m),w--;for(;0<b-w;)y=Qh(y),b--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Qh(m),y=Qh(y)}m=null}else m=null;p!==null&&I6(d,h,p,m,!1),g!==null&&v!==null&&I6(d,v,g,m,!0)}}e:{if(h=c?y0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=xQ;else if(T6(h))if(MF)O=SQ;else{O=wQ;var P=bQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=_Q);if(O&&(O=O(e,c))){LF(d,O,r,u);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&zA(h,"number",h.value)}switch(P=c?y0(c):window,e){case"focusin":(T6(P)||P.contentEditable==="true")&&(g0=P,t4=c,kg=null);break;case"focusout":kg=t4=g0=null;break;case"mousedown":r4=!0;break;case"contextmenu":case"mouseup":case"dragend":r4=!1,P6(d,r,u);break;case"selectionchange":if(EQ)break;case"keydown":case"keyup":P6(d,r,u)}var T;if(UE)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else m0?IF(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(OF&&r.locale!=="ko"&&(m0||_!=="onCompositionStart"?_==="onCompositionEnd"&&m0&&(T=jF()):(sf=u,FE="value"in sf?sf.value:sf.textContent,m0=!0)),P=T2(c,_),0<P.length&&(_=new w6(_,e,null,r,u),d.push({event:_,listeners:P}),T?_.data=T:(T=DF(r),T!==null&&(_.data=T)))),(T=pQ?mQ(e,r):gQ(e,r))&&(c=T2(c,"onBeforeInput"),0<c.length&&(u=new w6("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=T))}HF(d,t)})}function mv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function T2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=lv(e,r),i!=null&&n.unshift(mv(e,i,a)),i=lv(e,t),i!=null&&n.push(mv(e,i,a))),e=e.return}return n}function Qh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=lv(r,i),l!=null&&s.unshift(mv(r,l,o))):a||(l=lv(r,i),l!=null&&s.push(mv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var PQ=/\r\n?/g,jQ=/\u0000|\uFFFD/g;function D6(e){return(typeof e=="string"?e:""+e).replace(PQ,`
`).replace(jQ,"")}function Qy(e,t,r){if(t=D6(t),D6(e)!==t&&r)throw Error(Lt(425))}function E2(){}var n4=null,a4=null;function i4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var s4=typeof setTimeout=="function"?setTimeout:void 0,OQ=typeof clearTimeout=="function"?clearTimeout:void 0,L6=typeof Promise=="function"?Promise:void 0,IQ=typeof queueMicrotask=="function"?queueMicrotask:typeof L6<"u"?function(e){return L6.resolve(null).then(e).catch(DQ)}:s4;function DQ(e){setTimeout(function(){throw e})}function J_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),fv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);fv(t)}function xf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function M6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gp=Math.random().toString(36).slice(2),Wl="__reactFiber$"+Gp,gv="__reactProps$"+Gp,Yc="__reactContainer$"+Gp,o4="__reactEvents$"+Gp,LQ="__reactListeners$"+Gp,MQ="__reactHandles$"+Gp;function jd(e){var t=e[Wl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yc]||r[Wl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=M6(e);e!==null;){if(r=e[Wl])return r;e=M6(e)}return t}e=r,r=e.parentNode}return null}function F1(e){return e=e[Wl]||e[Yc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function y0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Lt(33))}function Fw(e){return e[gv]||null}var l4=[],x0=-1;function Gf(e){return{current:e}}function Jn(e){0>x0||(e.current=l4[x0],l4[x0]=null,x0--)}function zn(e,t){x0++,l4[x0]=e.current,e.current=t}var Df={},ts=Gf(Df),$s=Gf(!1),Zd=Df;function np(e,t){var r=e.type.contextTypes;if(!r)return Df;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bs(e){return e=e.childContextTypes,e!=null}function N2(){Jn($s),Jn(ts)}function R6(e,t,r){if(ts.current!==Df)throw Error(Lt(168));zn(ts,t),zn($s,r)}function KF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Lt(108,bX(e)||"Unknown",a));return oa({},r,n)}function k2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Df,Zd=ts.current,zn(ts,e),zn($s,$s.current),!0}function F6(e,t,r){var n=e.stateNode;if(!n)throw Error(Lt(169));r?(e=KF(e,t,Zd),n.__reactInternalMemoizedMergedChildContext=e,Jn($s),Jn(ts),zn(ts,e)):Jn($s),zn($s,r)}var jc=null,$w=!1,Z_=!1;function YF(e){jc===null?jc=[e]:jc.push(e)}function RQ(e){$w=!0,YF(e)}function Kf(){if(!Z_&&jc!==null){Z_=!0;var e=0,t=_n;try{var r=jc;for(_n=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jc=null,$w=!1}catch(a){throw jc!==null&&(jc=jc.slice(e+1)),bF(DE,Kf),a}finally{_n=t,Z_=!1}}return null}var b0=[],w0=0,C2=null,P2=0,jo=[],Oo=0,eh=null,Oc=1,Ic="";function bd(e,t){b0[w0++]=P2,b0[w0++]=C2,C2=e,P2=t}function XF(e,t,r){jo[Oo++]=Oc,jo[Oo++]=Ic,jo[Oo++]=eh,eh=e;var n=Oc;e=Ic;var a=32-wl(n)-1;n&=~(1<<a),r+=1;var i=32-wl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Oc=1<<32-wl(t)+a|r<<a|n,Ic=i+e}else Oc=1<<i|r<<a|n,Ic=e}function zE(e){e.return!==null&&(bd(e,1),XF(e,1,0))}function qE(e){for(;e===C2;)C2=b0[--w0],b0[w0]=null,P2=b0[--w0],b0[w0]=null;for(;e===eh;)eh=jo[--Oo],jo[Oo]=null,Ic=jo[--Oo],jo[Oo]=null,Oc=jo[--Oo],jo[Oo]=null}var oo=null,ao=null,ea=!1,hl=null;function QF(e,t){var r=Io(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,oo=e,ao=xf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,oo=e,ao=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=eh!==null?{id:Oc,overflow:Ic}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Io(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,oo=e,ao=null,!0):!1;default:return!1}}function c4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function u4(e){if(ea){var t=ao;if(t){var r=t;if(!$6(e,t)){if(c4(e))throw Error(Lt(418));t=xf(r.nextSibling);var n=oo;t&&$6(e,t)?QF(n,r):(e.flags=e.flags&-4097|2,ea=!1,oo=e)}}else{if(c4(e))throw Error(Lt(418));e.flags=e.flags&-4097|2,ea=!1,oo=e}}}function B6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oo=e}function Jy(e){if(e!==oo)return!1;if(!ea)return B6(e),ea=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!i4(e.type,e.memoizedProps)),t&&(t=ao)){if(c4(e))throw JF(),Error(Lt(418));for(;t;)QF(e,t),t=xf(t.nextSibling)}if(B6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ao=xf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ao=null}}else ao=oo?xf(e.stateNode.nextSibling):null;return!0}function JF(){for(var e=ao;e;)e=xf(e.nextSibling)}function ap(){ao=oo=null,ea=!1}function WE(e){hl===null?hl=[e]:hl.push(e)}var FQ=fu.ReactCurrentBatchConfig;function zm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Lt(309));var n=r.stateNode}if(!n)throw Error(Lt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Lt(284));if(!r._owner)throw Error(Lt(290,e))}return e}function Zy(e,t){throw e=Object.prototype.toString.call(t),Error(Lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U6(e){var t=e._init;return t(e._payload)}function ZF(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=Sf(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,b,D){return w===null||w.tag!==6?(w=sS(b,y.mode,D),w.return=y,w):(w=a(w,b),w.return=y,w)}function l(y,w,b,D){var O=b.type;return O===p0?u(y,w,b.props.children,D,b.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Xu&&U6(O)===w.type)?(D=a(w,b.props),D.ref=zm(y,w,b),D.return=y,D):(D=e2(b.type,b.key,b.props,null,y.mode,D),D.ref=zm(y,w,b),D.return=y,D)}function c(y,w,b,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=oS(b,y.mode,D),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function u(y,w,b,D,O){return w===null||w.tag!==7?(w=zd(b,y.mode,D,O),w.return=y,w):(w=a(w,b),w.return=y,w)}function d(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sS(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vy:return b=e2(w.type,w.key,w.props,null,y.mode,b),b.ref=zm(y,null,w),b.return=y,b;case h0:return w=oS(w,y.mode,b),w.return=y,w;case Xu:var D=w._init;return d(y,D(w._payload),b)}if(ug(w)||Fm(w))return w=zd(w,y.mode,b,null),w.return=y,w;Zy(y,w)}return null}function h(y,w,b,D){var O=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:o(y,w,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vy:return b.key===O?l(y,w,b,D):null;case h0:return b.key===O?c(y,w,b,D):null;case Xu:return O=b._init,h(y,w,O(b._payload),D)}if(ug(b)||Fm(b))return O!==null?null:u(y,w,b,D,null);Zy(y,b)}return null}function p(y,w,b,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(b)||null,o(w,y,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Vy:return y=y.get(D.key===null?b:D.key)||null,l(w,y,D,O);case h0:return y=y.get(D.key===null?b:D.key)||null,c(w,y,D,O);case Xu:var P=D._init;return p(y,w,b,P(D._payload),O)}if(ug(D)||Fm(D))return y=y.get(b)||null,u(w,y,D,O,null);Zy(w,D)}return null}function g(y,w,b,D){for(var O=null,P=null,T=w,_=w=0,S=null;T!==null&&_<b.length;_++){T.index>_?(S=T,T=null):S=T.sibling;var I=h(y,T,b[_],D);if(I===null){T===null&&(T=S);break}e&&T&&I.alternate===null&&t(y,T),w=i(I,w,_),P===null?O=I:P.sibling=I,P=I,T=S}if(_===b.length)return r(y,T),ea&&bd(y,_),O;if(T===null){for(;_<b.length;_++)T=d(y,b[_],D),T!==null&&(w=i(T,w,_),P===null?O=T:P.sibling=T,P=T);return ea&&bd(y,_),O}for(T=n(y,T);_<b.length;_++)S=p(T,y,_,b[_],D),S!==null&&(e&&S.alternate!==null&&T.delete(S.key===null?_:S.key),w=i(S,w,_),P===null?O=S:P.sibling=S,P=S);return e&&T.forEach(function(E){return t(y,E)}),ea&&bd(y,_),O}function m(y,w,b,D){var O=Fm(b);if(typeof O!="function")throw Error(Lt(150));if(b=O.call(b),b==null)throw Error(Lt(151));for(var P=O=null,T=w,_=w=0,S=null,I=b.next();T!==null&&!I.done;_++,I=b.next()){T.index>_?(S=T,T=null):S=T.sibling;var E=h(y,T,I.value,D);if(E===null){T===null&&(T=S);break}e&&T&&E.alternate===null&&t(y,T),w=i(E,w,_),P===null?O=E:P.sibling=E,P=E,T=S}if(I.done)return r(y,T),ea&&bd(y,_),O;if(T===null){for(;!I.done;_++,I=b.next())I=d(y,I.value,D),I!==null&&(w=i(I,w,_),P===null?O=I:P.sibling=I,P=I);return ea&&bd(y,_),O}for(T=n(y,T);!I.done;_++,I=b.next())I=p(T,y,_,I.value,D),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?_:I.key),w=i(I,w,_),P===null?O=I:P.sibling=I,P=I);return e&&T.forEach(function(C){return t(y,C)}),ea&&bd(y,_),O}function v(y,w,b,D){if(typeof b=="object"&&b!==null&&b.type===p0&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vy:e:{for(var O=b.key,P=w;P!==null;){if(P.key===O){if(O=b.type,O===p0){if(P.tag===7){r(y,P.sibling),w=a(P,b.props.children),w.return=y,y=w;break e}}else if(P.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Xu&&U6(O)===P.type){r(y,P.sibling),w=a(P,b.props),w.ref=zm(y,P,b),w.return=y,y=w;break e}r(y,P);break}else t(y,P);P=P.sibling}b.type===p0?(w=zd(b.props.children,y.mode,D,b.key),w.return=y,y=w):(D=e2(b.type,b.key,b.props,null,y.mode,D),D.ref=zm(y,w,b),D.return=y,y=D)}return s(y);case h0:e:{for(P=b.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=oS(b,y.mode,D),w.return=y,y=w}return s(y);case Xu:return P=b._init,v(y,w,P(b._payload),D)}if(ug(b))return g(y,w,b,D);if(Fm(b))return m(y,w,b,D);Zy(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=sS(b,y.mode,D),w.return=y,y=w),s(y)):r(y,w)}return v}var ip=ZF(!0),e$=ZF(!1),j2=Gf(null),O2=null,_0=null,HE=null;function GE(){HE=_0=O2=null}function KE(e){var t=j2.current;Jn(j2),e._currentValue=t}function f4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $0(e,t){O2=e,HE=_0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ls=!0),e.firstContext=null)}function Bo(e){var t=e._currentValue;if(HE!==e)if(e={context:e,memoizedValue:t,next:null},_0===null){if(O2===null)throw Error(Lt(308));_0=e,O2.dependencies={lanes:0,firstContext:e}}else _0=_0.next=e;return t}var Od=null;function YE(e){Od===null?Od=[e]:Od.push(e)}function t$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,YE(t)):(r.next=a.next,a.next=r),t.interleaved=r,Xc(e,n)}function Xc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qu=!1;function XE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $c(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ln&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Xc(e,r)}return a=n.interleaved,a===null?(t.next=t,YE(n)):(t.next=a.next,a.next=t),n.interleaved=t,Xc(e,r)}function Kx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LE(e,r)}}function V6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function I2(e,t,r,n){var a=e.updateQueue;Qu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=oa({},d,h);break e;case 2:Qu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);rh|=s,e.lanes=s,e.memoizedState=d}}function z6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Lt(191,a));a.call(n)}}}var $1={},Xl=Gf($1),vv=Gf($1),yv=Gf($1);function Id(e){if(e===$1)throw Error(Lt(174));return e}function QE(e,t){switch(zn(yv,t),zn(vv,e),zn(Xl,$1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:WA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=WA(t,e)}Jn(Xl),zn(Xl,t)}function sp(){Jn(Xl),Jn(vv),Jn(yv)}function n$(e){Id(yv.current);var t=Id(Xl.current),r=WA(t,e.type);t!==r&&(zn(vv,e),zn(Xl,r))}function JE(e){vv.current===e&&(Jn(Xl),Jn(vv))}var aa=Gf(0);function D2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eS=[];function ZE(){for(var e=0;e<eS.length;e++)eS[e]._workInProgressVersionPrimary=null;eS.length=0}var Yx=fu.ReactCurrentDispatcher,tS=fu.ReactCurrentBatchConfig,th=0,ia=null,Ha=null,ii=null,L2=!1,Cg=!1,xv=0,$Q=0;function Ii(){throw Error(Lt(321))}function eN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tl(e[r],t[r]))return!1;return!0}function tN(e,t,r,n,a,i){if(th=i,ia=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yx.current=e===null||e.memoizedState===null?zQ:qQ,e=r(n,a),Cg){i=0;do{if(Cg=!1,xv=0,25<=i)throw Error(Lt(301));i+=1,ii=Ha=null,t.updateQueue=null,Yx.current=WQ,e=r(n,a)}while(Cg)}if(Yx.current=M2,t=Ha!==null&&Ha.next!==null,th=0,ii=Ha=ia=null,L2=!1,t)throw Error(Lt(300));return e}function rN(){var e=xv!==0;return xv=0,e}function zl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?ia.memoizedState=ii=e:ii=ii.next=e,ii}function Uo(){if(Ha===null){var e=ia.alternate;e=e!==null?e.memoizedState:null}else e=Ha.next;var t=ii===null?ia.memoizedState:ii.next;if(t!==null)ii=t,Ha=e;else{if(e===null)throw Error(Lt(310));Ha=e,e={memoizedState:Ha.memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},ii===null?ia.memoizedState=ii=e:ii=ii.next=e}return ii}function bv(e,t){return typeof t=="function"?t(e):t}function rS(e){var t=Uo(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=Ha,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((th&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,ia.lanes|=u,rh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,Tl(n,t.memoizedState)||(Ls=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ia.lanes|=i,rh|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nS(e){var t=Uo(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Tl(i,t.memoizedState)||(Ls=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function a$(){}function i$(e,t){var r=ia,n=Uo(),a=t(),i=!Tl(n.memoizedState,a);if(i&&(n.memoizedState=a,Ls=!0),n=n.queue,nN(l$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ii!==null&&ii.memoizedState.tag&1){if(r.flags|=2048,wv(9,o$.bind(null,r,n,a,t),void 0,null),ci===null)throw Error(Lt(349));th&30||s$(r,t,a)}return a}function s$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ia.updateQueue,t===null?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function o$(e,t,r,n){t.value=r,t.getSnapshot=n,c$(t)&&u$(e)}function l$(e,t,r){return r(function(){c$(t)&&u$(e)})}function c$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tl(e,r)}catch{return!0}}function u$(e){var t=Xc(e,1);t!==null&&_l(t,e,1,-1)}function q6(e){var t=zl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:e},t.queue=e,e=e.dispatch=VQ.bind(null,ia,e),[t.memoizedState,e]}function wv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ia.updateQueue,t===null?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function f$(){return Uo().memoizedState}function Xx(e,t,r,n){var a=zl();ia.flags|=e,a.memoizedState=wv(1|t,r,void 0,n===void 0?null:n)}function Bw(e,t,r,n){var a=Uo();n=n===void 0?null:n;var i=void 0;if(Ha!==null){var s=Ha.memoizedState;if(i=s.destroy,n!==null&&eN(n,s.deps)){a.memoizedState=wv(t,r,i,n);return}}ia.flags|=e,a.memoizedState=wv(1|t,r,i,n)}function W6(e,t){return Xx(8390656,8,e,t)}function nN(e,t){return Bw(2048,8,e,t)}function d$(e,t){return Bw(4,2,e,t)}function h$(e,t){return Bw(4,4,e,t)}function p$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m$(e,t,r){return r=r!=null?r.concat([e]):null,Bw(4,4,p$.bind(null,t,e),r)}function aN(){}function g$(e,t){var r=Uo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function v$(e,t){var r=Uo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function y$(e,t,r){return th&21?(Tl(r,t)||(r=SF(),ia.lanes|=r,rh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ls=!0),e.memoizedState=r)}function BQ(e,t){var r=_n;_n=r!==0&&4>r?r:4,e(!0);var n=tS.transition;tS.transition={};try{e(!1),t()}finally{_n=r,tS.transition=n}}function x$(){return Uo().memoizedState}function UQ(e,t,r){var n=_f(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},b$(e))w$(t,r);else if(r=t$(e,t,r,n),r!==null){var a=ws();_l(r,e,n,a),_$(r,t,n)}}function VQ(e,t,r){var n=_f(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(b$(e))w$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Tl(o,s)){var l=t.interleaved;l===null?(a.next=a,YE(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=t$(e,t,a,n),r!==null&&(a=ws(),_l(r,e,n,a),_$(r,t,n))}}function b$(e){var t=e.alternate;return e===ia||t!==null&&t===ia}function w$(e,t){Cg=L2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LE(e,r)}}var M2={readContext:Bo,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},zQ={readContext:Bo,useCallback:function(e,t){return zl().memoizedState=[e,t===void 0?null:t],e},useContext:Bo,useEffect:W6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xx(4194308,4,p$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xx(4,2,e,t)},useMemo:function(e,t){var r=zl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=UQ.bind(null,ia,e),[n.memoizedState,e]},useRef:function(e){var t=zl();return e={current:e},t.memoizedState=e},useState:q6,useDebugValue:aN,useDeferredValue:function(e){return zl().memoizedState=e},useTransition:function(){var e=q6(!1),t=e[0];return e=BQ.bind(null,e[1]),zl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ia,a=zl();if(ea){if(r===void 0)throw Error(Lt(407));r=r()}else{if(r=t(),ci===null)throw Error(Lt(349));th&30||s$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,W6(l$.bind(null,n,i,e),[e]),n.flags|=2048,wv(9,o$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=zl(),t=ci.identifierPrefix;if(ea){var r=Ic,n=Oc;r=(n&~(1<<32-wl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$Q++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qQ={readContext:Bo,useCallback:g$,useContext:Bo,useEffect:nN,useImperativeHandle:m$,useInsertionEffect:d$,useLayoutEffect:h$,useMemo:v$,useReducer:rS,useRef:f$,useState:function(){return rS(bv)},useDebugValue:aN,useDeferredValue:function(e){var t=Uo();return y$(t,Ha.memoizedState,e)},useTransition:function(){var e=rS(bv)[0],t=Uo().memoizedState;return[e,t]},useMutableSource:a$,useSyncExternalStore:i$,useId:x$,unstable_isNewReconciler:!1},WQ={readContext:Bo,useCallback:g$,useContext:Bo,useEffect:nN,useImperativeHandle:m$,useInsertionEffect:d$,useLayoutEffect:h$,useMemo:v$,useReducer:nS,useRef:f$,useState:function(){return nS(bv)},useDebugValue:aN,useDeferredValue:function(e){var t=Uo();return Ha===null?t.memoizedState=e:y$(t,Ha.memoizedState,e)},useTransition:function(){var e=nS(bv)[0],t=Uo().memoizedState;return[e,t]},useMutableSource:a$,useSyncExternalStore:i$,useId:x$,unstable_isNewReconciler:!1};function ll(e,t){if(e&&e.defaultProps){t=oa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function d4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uw={isMounted:function(e){return(e=e._reactInternals)?yh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ws(),a=_f(e),i=$c(n,a);i.payload=t,r!=null&&(i.callback=r),t=bf(e,i,a),t!==null&&(_l(t,e,a,n),Kx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ws(),a=_f(e),i=$c(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bf(e,i,a),t!==null&&(_l(t,e,a,n),Kx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ws(),n=_f(e),a=$c(r,n);a.tag=2,t!=null&&(a.callback=t),t=bf(e,a,n),t!==null&&(_l(t,e,n,r),Kx(t,e,n))}};function H6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!hv(r,n)||!hv(a,i):!0}function S$(e,t,r){var n=!1,a=Df,i=t.contextType;return typeof i=="object"&&i!==null?i=Bo(i):(a=Bs(t)?Zd:ts.current,n=t.contextTypes,i=(n=n!=null)?np(e,a):Df),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function G6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Uw.enqueueReplaceState(t,t.state,null)}function h4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},XE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Bo(i):(i=Bs(t)?Zd:ts.current,a.context=np(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(d4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Uw.enqueueReplaceState(a,a.state,null),I2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function op(e,t){try{var r="",n=t;do r+=xX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function aS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function p4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var HQ=typeof WeakMap=="function"?WeakMap:Map;function A$(e,t,r){r=$c(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){F2||(F2=!0,A4=n),p4(e,t)},r}function T$(e,t,r){r=$c(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){p4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){p4(e,t),typeof n!="function"&&(wf===null?wf=new Set([this]):wf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function K6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new HQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=sJ.bind(null,e,t,r),t.then(e,e))}function Y6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function X6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$c(-1,1),t.tag=2,bf(r,t,1))),r.lanes|=1),e)}var GQ=fu.ReactCurrentOwner,Ls=!1;function ds(e,t,r,n){t.child=e===null?e$(t,null,r,n):ip(t,e.child,r,n)}function Q6(e,t,r,n,a){r=r.render;var i=t.ref;return $0(t,a),n=tN(e,t,r,n,i,a),r=rN(),e!==null&&!Ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qc(e,t,a)):(ea&&r&&zE(t),t.flags|=1,ds(e,t,n,a),t.child)}function J6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!dN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,E$(e,t,i,n,a)):(e=e2(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:hv,r(s,n)&&e.ref===t.ref)return Qc(e,t,a)}return t.flags|=1,e=Sf(i,n),e.ref=t.ref,e.return=t,t.child=e}function E$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(hv(i,n)&&e.ref===t.ref)if(Ls=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ls=!0);else return t.lanes=e.lanes,Qc(e,t,a)}return m4(e,t,r,n,a)}function N$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(A0,Zs),Zs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zn(A0,Zs),Zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,zn(A0,Zs),Zs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,zn(A0,Zs),Zs|=n;return ds(e,t,a,r),t.child}function k$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function m4(e,t,r,n,a){var i=Bs(r)?Zd:ts.current;return i=np(t,i),$0(t,a),r=tN(e,t,r,n,i,a),n=rN(),e!==null&&!Ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qc(e,t,a)):(ea&&n&&zE(t),t.flags|=1,ds(e,t,r,a),t.child)}function Z6(e,t,r,n,a){if(Bs(r)){var i=!0;k2(t)}else i=!1;if($0(t,a),t.stateNode===null)Qx(e,t),S$(t,r,n),h4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bo(c):(c=Bs(r)?Zd:ts.current,c=np(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&G6(t,s,n,c),Qu=!1;var h=t.memoizedState;s.state=h,I2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||$s.current||Qu?(typeof u=="function"&&(d4(t,r,u,n),l=t.memoizedState),(o=Qu||H6(t,r,o,n,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,r$(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ll(t.type,o),s.props=c,d=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bo(l):(l=Bs(r)?Zd:ts.current,l=np(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&G6(t,s,n,l),Qu=!1,h=t.memoizedState,s.state=h,I2(t,n,s,a);var g=t.memoizedState;o!==d||h!==g||$s.current||Qu?(typeof p=="function"&&(d4(t,r,p,n),g=t.memoizedState),(c=Qu||H6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return g4(e,t,r,n,i,a)}function g4(e,t,r,n,a,i){k$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&F6(t,r,!1),Qc(e,t,i);n=t.stateNode,GQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ip(t,e.child,null,i),t.child=ip(t,null,o,i)):ds(e,t,o,i),t.memoizedState=n.state,a&&F6(t,r,!0),t.child}function C$(e){var t=e.stateNode;t.pendingContext?R6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R6(e,t.context,!1),QE(e,t.containerInfo)}function ej(e,t,r,n,a){return ap(),WE(a),t.flags|=256,ds(e,t,r,n),t.child}var v4={dehydrated:null,treeContext:null,retryLane:0};function y4(e){return{baseLanes:e,cachePool:null,transitions:null}}function P$(e,t,r){var n=t.pendingProps,a=aa.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zn(aa,a&1),e===null)return u4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=qw(s,n,0,null),e=zd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=y4(r),t.memoizedState=v4,e):iN(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return KQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Sf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Sf(o,i):(i=zd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?y4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=v4,n}return i=e.child,e=i.sibling,n=Sf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function iN(e,t){return t=qw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ex(e,t,r,n){return n!==null&&WE(n),ip(t,e.child,null,r),e=iN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=aS(Error(Lt(422))),ex(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=qw({mode:"visible",children:n.children},a,0,null),i=zd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ip(t,e.child,null,s),t.child.memoizedState=y4(s),t.memoizedState=v4,i);if(!(t.mode&1))return ex(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Lt(419)),n=aS(i,n,void 0),ex(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ls||o){if(n=ci,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Xc(e,a),_l(n,e,a,-1))}return fN(),n=aS(Error(Lt(421))),ex(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=oJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ao=xf(a.nextSibling),oo=t,ea=!0,hl=null,e!==null&&(jo[Oo++]=Oc,jo[Oo++]=Ic,jo[Oo++]=eh,Oc=e.id,Ic=e.overflow,eh=t),t=iN(t,n.children),t.flags|=4096,t)}function tj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),f4(e.return,t,r)}function iS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function j$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ds(e,t,n.children,r),n=aa.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tj(e,r,t);else if(e.tag===19)tj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zn(aa,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&D2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),iS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&D2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}iS(t,!0,r,null,i);break;case"together":iS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Lt(153));if(t.child!==null){for(e=t.child,r=Sf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function YQ(e,t,r){switch(t.tag){case 3:C$(t),ap();break;case 5:n$(t);break;case 1:Bs(t.type)&&k2(t);break;case 4:QE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zn(j2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zn(aa,aa.current&1),t.flags|=128,null):r&t.child.childLanes?P$(e,t,r):(zn(aa,aa.current&1),e=Qc(e,t,r),e!==null?e.sibling:null);zn(aa,aa.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return j$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zn(aa,aa.current),n)break;return null;case 22:case 23:return t.lanes=0,N$(e,t,r)}return Qc(e,t,r)}var O$,x4,I$,D$;O$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};x4=function(){};I$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Id(Xl.current);var i=null;switch(r){case"input":a=UA(e,a),n=UA(e,n),i=[];break;case"select":a=oa({},a,{value:void 0}),n=oa({},n,{value:void 0}),i=[];break;case"textarea":a=qA(e,a),n=qA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=E2)}HA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sv.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};D$=function(e,t,r,n){r!==n&&(t.flags|=4)};function qm(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Di(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XQ(e,t,r){var n=t.pendingProps;switch(qE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(t),null;case 1:return Bs(t.type)&&N2(),Di(t),null;case 3:return n=t.stateNode,sp(),Jn($s),Jn(ts),ZE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hl!==null&&(N4(hl),hl=null))),x4(e,t),Di(t),null;case 5:JE(t);var a=Id(yv.current);if(r=t.type,e!==null&&t.stateNode!=null)I$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Lt(166));return Di(t),null}if(e=Id(Xl.current),Jy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Wl]=t,n[gv]=i,e=(t.mode&1)!==0,r){case"dialog":Hn("cancel",n),Hn("close",n);break;case"iframe":case"object":case"embed":Hn("load",n);break;case"video":case"audio":for(a=0;a<dg.length;a++)Hn(dg[a],n);break;case"source":Hn("error",n);break;case"img":case"image":case"link":Hn("error",n),Hn("load",n);break;case"details":Hn("toggle",n);break;case"input":u6(n,i),Hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Hn("invalid",n);break;case"textarea":d6(n,i),Hn("invalid",n)}HA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Qy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Qy(n.textContent,o,e),a=["children",""+o]):sv.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Hn("scroll",n)}switch(r){case"input":zy(n),f6(n,i,!0);break;case"textarea":zy(n),h6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=E2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Wl]=t,e[gv]=n,O$(e,t,!1,!1),t.stateNode=e;e:{switch(s=GA(r,n),r){case"dialog":Hn("cancel",e),Hn("close",e),a=n;break;case"iframe":case"object":case"embed":Hn("load",e),a=n;break;case"video":case"audio":for(a=0;a<dg.length;a++)Hn(dg[a],e);a=n;break;case"source":Hn("error",e),a=n;break;case"img":case"image":case"link":Hn("error",e),Hn("load",e),a=n;break;case"details":Hn("toggle",e),a=n;break;case"input":u6(e,n),a=UA(e,n),Hn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=oa({},n,{value:void 0}),Hn("invalid",e);break;case"textarea":d6(e,n),a=qA(e,n),Hn("invalid",e);break;default:a=n}HA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?fF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ov(e,l):typeof l=="number"&&ov(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Hn("scroll",e):l!=null&&CE(e,i,l,s))}switch(r){case"input":zy(e),f6(e,n,!1);break;case"textarea":zy(e),h6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+If(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?L0(e,!!n.multiple,i,!1):n.defaultValue!=null&&L0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=E2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Di(t),null;case 6:if(e&&t.stateNode!=null)D$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Lt(166));if(r=Id(yv.current),Id(Xl.current),Jy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wl]=t,(i=n.nodeValue!==r)&&(e=oo,e!==null))switch(e.tag){case 3:Qy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wl]=t,t.stateNode=n}return Di(t),null;case 13:if(Jn(aa),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ea&&ao!==null&&t.mode&1&&!(t.flags&128))JF(),ap(),t.flags|=98560,i=!1;else if(i=Jy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Lt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Lt(317));i[Wl]=t}else ap(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Di(t),i=!1}else hl!==null&&(N4(hl),hl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||aa.current&1?Ga===0&&(Ga=3):fN())),t.updateQueue!==null&&(t.flags|=4),Di(t),null);case 4:return sp(),x4(e,t),e===null&&pv(t.stateNode.containerInfo),Di(t),null;case 10:return KE(t.type._context),Di(t),null;case 17:return Bs(t.type)&&N2(),Di(t),null;case 19:if(Jn(aa),i=t.memoizedState,i===null)return Di(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)qm(i,!1);else{if(Ga!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=D2(e),s!==null){for(t.flags|=128,qm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zn(aa,aa.current&1|2),t.child}e=e.sibling}i.tail!==null&&wa()>lp&&(t.flags|=128,n=!0,qm(i,!1),t.lanes=4194304)}else{if(!n)if(e=D2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ea)return Di(t),null}else 2*wa()-i.renderingStartTime>lp&&r!==1073741824&&(t.flags|=128,n=!0,qm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wa(),t.sibling=null,r=aa.current,zn(aa,n?r&1|2:r&1),t):(Di(t),null);case 22:case 23:return uN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zs&1073741824&&(Di(t),t.subtreeFlags&6&&(t.flags|=8192)):Di(t),null;case 24:return null;case 25:return null}throw Error(Lt(156,t.tag))}function QQ(e,t){switch(qE(t),t.tag){case 1:return Bs(t.type)&&N2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sp(),Jn($s),Jn(ts),ZE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JE(t),null;case 13:if(Jn(aa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Lt(340));ap()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(aa),null;case 4:return sp(),null;case 10:return KE(t.type._context),null;case 22:case 23:return uN(),null;case 24:return null;default:return null}}var tx=!1,Wi=!1,JQ=typeof WeakSet=="function"?WeakSet:Set,er=null;function S0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ha(e,t,n)}else r.current=null}function b4(e,t,r){try{r()}catch(n){ha(e,t,n)}}var rj=!1;function ZQ(e,t){if(n4=S2,e=$F(),VE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(a4={focusedElem:e,selectionRange:r},S2=!1,er=t;er!==null;)if(t=er,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,er=e;else for(;er!==null;){t=er;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ll(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Lt(163))}}catch(D){ha(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,er=e;break}er=t.return}return g=rj,rj=!1,g}function Pg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&b4(t,r,i)}a=a.next}while(a!==n)}}function Vw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function w4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L$(e){var t=e.alternate;t!==null&&(e.alternate=null,L$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wl],delete t[gv],delete t[o4],delete t[LQ],delete t[MQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function M$(e){return e.tag===5||e.tag===3||e.tag===4}function nj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||M$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=E2));else if(n!==4&&(e=e.child,e!==null))for(_4(e,t,r),e=e.sibling;e!==null;)_4(e,t,r),e=e.sibling}function S4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(S4(e,t,r),e=e.sibling;e!==null;)S4(e,t,r),e=e.sibling}var yi=null,ul=!1;function zu(e,t,r){for(r=r.child;r!==null;)R$(e,t,r),r=r.sibling}function R$(e,t,r){if(Yl&&typeof Yl.onCommitFiberUnmount=="function")try{Yl.onCommitFiberUnmount(Dw,r)}catch{}switch(r.tag){case 5:Wi||S0(r,t);case 6:var n=yi,a=ul;yi=null,zu(e,t,r),yi=n,ul=a,yi!==null&&(ul?(e=yi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yi.removeChild(r.stateNode));break;case 18:yi!==null&&(ul?(e=yi,r=r.stateNode,e.nodeType===8?J_(e.parentNode,r):e.nodeType===1&&J_(e,r),fv(e)):J_(yi,r.stateNode));break;case 4:n=yi,a=ul,yi=r.stateNode.containerInfo,ul=!0,zu(e,t,r),yi=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Wi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&b4(r,t,s),a=a.next}while(a!==n)}zu(e,t,r);break;case 1:if(!Wi&&(S0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ha(r,t,o)}zu(e,t,r);break;case 21:zu(e,t,r);break;case 22:r.mode&1?(Wi=(n=Wi)||r.memoizedState!==null,zu(e,t,r),Wi=n):zu(e,t,r);break;default:zu(e,t,r)}}function aj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new JQ),t.forEach(function(n){var a=lJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function tl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:yi=o.stateNode,ul=!1;break e;case 3:yi=o.stateNode.containerInfo,ul=!0;break e;case 4:yi=o.stateNode.containerInfo,ul=!0;break e}o=o.return}if(yi===null)throw Error(Lt(160));R$(i,s,a),yi=null,ul=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ha(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F$(t,e),t=t.sibling}function F$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tl(t,e),$l(e),n&4){try{Pg(3,e,e.return),Vw(3,e)}catch(m){ha(e,e.return,m)}try{Pg(5,e,e.return)}catch(m){ha(e,e.return,m)}}break;case 1:tl(t,e),$l(e),n&512&&r!==null&&S0(r,r.return);break;case 5:if(tl(t,e),$l(e),n&512&&r!==null&&S0(r,r.return),e.flags&32){var a=e.stateNode;try{ov(a,"")}catch(m){ha(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&sF(a,i),GA(o,s);var c=GA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?fF(a,d):u==="dangerouslySetInnerHTML"?cF(a,d):u==="children"?ov(a,d):CE(a,u,d,c)}switch(o){case"input":VA(a,i);break;case"textarea":oF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?L0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?L0(a,!!i.multiple,i.defaultValue,!0):L0(a,!!i.multiple,i.multiple?[]:"",!1))}a[gv]=i}catch(m){ha(e,e.return,m)}}break;case 6:if(tl(t,e),$l(e),n&4){if(e.stateNode===null)throw Error(Lt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){ha(e,e.return,m)}}break;case 3:if(tl(t,e),$l(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fv(t.containerInfo)}catch(m){ha(e,e.return,m)}break;case 4:tl(t,e),$l(e);break;case 13:tl(t,e),$l(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(lN=wa())),n&4&&aj(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Wi=(c=Wi)||u,tl(t,e),Wi=c):tl(t,e),$l(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(er=e,u=e.child;u!==null;){for(d=er=u;er!==null;){switch(h=er,p=h.child,h.tag){case 0:case 11:case 14:case 15:Pg(4,h,h.return);break;case 1:S0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){ha(n,r,m)}}break;case 5:S0(h,h.return);break;case 22:if(h.memoizedState!==null){sj(d);continue}}p!==null?(p.return=h,er=p):sj(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=uF("display",s))}catch(m){ha(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ha(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tl(t,e),$l(e),n&4&&aj(e);break;case 21:break;default:tl(t,e),$l(e)}}function $l(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(M$(r)){var n=r;break e}r=r.return}throw Error(Lt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ov(a,""),n.flags&=-33);var i=nj(e);S4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=nj(e);_4(e,o,s);break;default:throw Error(Lt(161))}}catch(l){ha(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eJ(e,t,r){er=e,$$(e)}function $$(e,t,r){for(var n=(e.mode&1)!==0;er!==null;){var a=er,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||tx;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Wi;o=tx;var c=Wi;if(tx=s,(Wi=l)&&!c)for(er=a;er!==null;)s=er,l=s.child,s.tag===22&&s.memoizedState!==null?oj(a):l!==null?(l.return=s,er=l):oj(a);for(;i!==null;)er=i,$$(i),i=i.sibling;er=a,tx=o,Wi=c}ij(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,er=i):ij(e)}}function ij(e){for(;er!==null;){var t=er;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wi||Vw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Wi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ll(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&z6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}z6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&fv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Lt(163))}Wi||t.flags&512&&w4(t)}catch(h){ha(t,t.return,h)}}if(t===e){er=null;break}if(r=t.sibling,r!==null){r.return=t.return,er=r;break}er=t.return}}function sj(e){for(;er!==null;){var t=er;if(t===e){er=null;break}var r=t.sibling;if(r!==null){r.return=t.return,er=r;break}er=t.return}}function oj(e){for(;er!==null;){var t=er;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vw(4,t)}catch(l){ha(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){ha(t,a,l)}}var i=t.return;try{w4(t)}catch(l){ha(t,i,l)}break;case 5:var s=t.return;try{w4(t)}catch(l){ha(t,s,l)}}}catch(l){ha(t,t.return,l)}if(t===e){er=null;break}var o=t.sibling;if(o!==null){o.return=t.return,er=o;break}er=t.return}}var tJ=Math.ceil,R2=fu.ReactCurrentDispatcher,sN=fu.ReactCurrentOwner,Lo=fu.ReactCurrentBatchConfig,ln=0,ci=null,Ma=null,Ti=0,Zs=0,A0=Gf(0),Ga=0,_v=null,rh=0,zw=0,oN=0,jg=null,Is=null,lN=0,lp=1/0,Pc=null,F2=!1,A4=null,wf=null,rx=!1,of=null,$2=0,Og=0,T4=null,Jx=-1,Zx=0;function ws(){return ln&6?wa():Jx!==-1?Jx:Jx=wa()}function _f(e){return e.mode&1?ln&2&&Ti!==0?Ti&-Ti:FQ.transition!==null?(Zx===0&&(Zx=SF()),Zx):(e=_n,e!==0||(e=window.event,e=e===void 0?16:PF(e.type)),e):1}function _l(e,t,r,n){if(50<Og)throw Og=0,T4=null,Error(Lt(185));M1(e,r,n),(!(ln&2)||e!==ci)&&(e===ci&&(!(ln&2)&&(zw|=r),Ga===4&&ef(e,Ti)),Us(e,n),r===1&&ln===0&&!(t.mode&1)&&(lp=wa()+500,$w&&Kf()))}function Us(e,t){var r=e.callbackNode;FX(e,t);var n=_2(e,e===ci?Ti:0);if(n===0)r!==null&&g6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&g6(r),t===1)e.tag===0?RQ(lj.bind(null,e)):YF(lj.bind(null,e)),IQ(function(){!(ln&6)&&Kf()}),r=null;else{switch(AF(n)){case 1:r=DE;break;case 4:r=wF;break;case 16:r=w2;break;case 536870912:r=_F;break;default:r=w2}r=G$(r,B$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B$(e,t){if(Jx=-1,Zx=0,ln&6)throw Error(Lt(327));var r=e.callbackNode;if(B0()&&e.callbackNode!==r)return null;var n=_2(e,e===ci?Ti:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=B2(e,n);else{t=n;var a=ln;ln|=2;var i=V$();(ci!==e||Ti!==t)&&(Pc=null,lp=wa()+500,Vd(e,t));do try{aJ();break}catch(o){U$(e,o)}while(!0);GE(),R2.current=i,ln=a,Ma!==null?t=0:(ci=null,Ti=0,t=Ga)}if(t!==0){if(t===2&&(a=JA(e),a!==0&&(n=a,t=E4(e,a))),t===1)throw r=_v,Vd(e,0),ef(e,n),Us(e,wa()),r;if(t===6)ef(e,n);else{if(a=e.current.alternate,!(n&30)&&!rJ(a)&&(t=B2(e,n),t===2&&(i=JA(e),i!==0&&(n=i,t=E4(e,i))),t===1))throw r=_v,Vd(e,0),ef(e,n),Us(e,wa()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Lt(345));case 2:wd(e,Is,Pc);break;case 3:if(ef(e,n),(n&130023424)===n&&(t=lN+500-wa(),10<t)){if(_2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ws(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=s4(wd.bind(null,e,Is,Pc),t);break}wd(e,Is,Pc);break;case 4:if(ef(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-wl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=wa()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tJ(n/1960))-n,10<n){e.timeoutHandle=s4(wd.bind(null,e,Is,Pc),n);break}wd(e,Is,Pc);break;case 5:wd(e,Is,Pc);break;default:throw Error(Lt(329))}}}return Us(e,wa()),e.callbackNode===r?B$.bind(null,e):null}function E4(e,t){var r=jg;return e.current.memoizedState.isDehydrated&&(Vd(e,t).flags|=256),e=B2(e,t),e!==2&&(t=Is,Is=r,t!==null&&N4(t)),e}function N4(e){Is===null?Is=e:Is.push.apply(Is,e)}function rJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Tl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ef(e,t){for(t&=~oN,t&=~zw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wl(t),n=1<<r;e[r]=-1,t&=~n}}function lj(e){if(ln&6)throw Error(Lt(327));B0();var t=_2(e,0);if(!(t&1))return Us(e,wa()),null;var r=B2(e,t);if(e.tag!==0&&r===2){var n=JA(e);n!==0&&(t=n,r=E4(e,n))}if(r===1)throw r=_v,Vd(e,0),ef(e,t),Us(e,wa()),r;if(r===6)throw Error(Lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wd(e,Is,Pc),Us(e,wa()),null}function cN(e,t){var r=ln;ln|=1;try{return e(t)}finally{ln=r,ln===0&&(lp=wa()+500,$w&&Kf())}}function nh(e){of!==null&&of.tag===0&&!(ln&6)&&B0();var t=ln;ln|=1;var r=Lo.transition,n=_n;try{if(Lo.transition=null,_n=1,e)return e()}finally{_n=n,Lo.transition=r,ln=t,!(ln&6)&&Kf()}}function uN(){Zs=A0.current,Jn(A0)}function Vd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,OQ(r)),Ma!==null)for(r=Ma.return;r!==null;){var n=r;switch(qE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&N2();break;case 3:sp(),Jn($s),Jn(ts),ZE();break;case 5:JE(n);break;case 4:sp();break;case 13:Jn(aa);break;case 19:Jn(aa);break;case 10:KE(n.type._context);break;case 22:case 23:uN()}r=r.return}if(ci=e,Ma=e=Sf(e.current,null),Ti=Zs=t,Ga=0,_v=null,oN=zw=rh=0,Is=jg=null,Od!==null){for(t=0;t<Od.length;t++)if(r=Od[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Od=null}return e}function U$(e,t){do{var r=Ma;try{if(GE(),Yx.current=M2,L2){for(var n=ia.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}L2=!1}if(th=0,ii=Ha=ia=null,Cg=!1,xv=0,sN.current=null,r===null||r.return===null){Ga=1,_v=t,Ma=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Ti,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Y6(s);if(p!==null){p.flags&=-257,X6(p,s,o,i,t),p.mode&1&&K6(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){K6(i,c,t),fN();break e}l=Error(Lt(426))}}else if(ea&&o.mode&1){var v=Y6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),X6(v,s,o,i,t),WE(op(l,o));break e}}i=l=op(l,o),Ga!==4&&(Ga=2),jg===null?jg=[i]:jg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=A$(i,l,t);V6(i,y);break e;case 1:o=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wf===null||!wf.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=T$(i,o,t);V6(i,D);break e}}i=i.return}while(i!==null)}q$(r)}catch(O){t=O,Ma===r&&r!==null&&(Ma=r=r.return);continue}break}while(!0)}function V$(){var e=R2.current;return R2.current=M2,e===null?M2:e}function fN(){(Ga===0||Ga===3||Ga===2)&&(Ga=4),ci===null||!(rh&268435455)&&!(zw&268435455)||ef(ci,Ti)}function B2(e,t){var r=ln;ln|=2;var n=V$();(ci!==e||Ti!==t)&&(Pc=null,Vd(e,t));do try{nJ();break}catch(a){U$(e,a)}while(!0);if(GE(),ln=r,R2.current=n,Ma!==null)throw Error(Lt(261));return ci=null,Ti=0,Ga}function nJ(){for(;Ma!==null;)z$(Ma)}function aJ(){for(;Ma!==null&&!CX();)z$(Ma)}function z$(e){var t=H$(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,t===null?q$(e):Ma=t,sN.current=null}function q$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=QQ(r,t),r!==null){r.flags&=32767,Ma=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ga=6,Ma=null;return}}else if(r=XQ(r,t,Zs),r!==null){Ma=r;return}if(t=t.sibling,t!==null){Ma=t;return}Ma=t=e}while(t!==null);Ga===0&&(Ga=5)}function wd(e,t,r){var n=_n,a=Lo.transition;try{Lo.transition=null,_n=1,iJ(e,t,r,n)}finally{Lo.transition=a,_n=n}return null}function iJ(e,t,r,n){do B0();while(of!==null);if(ln&6)throw Error(Lt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Lt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if($X(e,i),e===ci&&(Ma=ci=null,Ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rx||(rx=!0,G$(w2,function(){return B0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Lo.transition,Lo.transition=null;var s=_n;_n=1;var o=ln;ln|=4,sN.current=null,ZQ(e,r),F$(r,e),TQ(a4),S2=!!n4,a4=n4=null,e.current=r,eJ(r),PX(),ln=o,_n=s,Lo.transition=i}else e.current=r;if(rx&&(rx=!1,of=e,$2=a),i=e.pendingLanes,i===0&&(wf=null),IX(r.stateNode),Us(e,wa()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(F2)throw F2=!1,e=A4,A4=null,e;return $2&1&&e.tag!==0&&B0(),i=e.pendingLanes,i&1?e===T4?Og++:(Og=0,T4=e):Og=0,Kf(),null}function B0(){if(of!==null){var e=AF($2),t=Lo.transition,r=_n;try{if(Lo.transition=null,_n=16>e?16:e,of===null)var n=!1;else{if(e=of,of=null,$2=0,ln&6)throw Error(Lt(331));var a=ln;for(ln|=4,er=e.current;er!==null;){var i=er,s=i.child;if(er.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(er=c;er!==null;){var u=er;switch(u.tag){case 0:case 11:case 15:Pg(8,u,i)}var d=u.child;if(d!==null)d.return=u,er=d;else for(;er!==null;){u=er;var h=u.sibling,p=u.return;if(L$(u),u===c){er=null;break}if(h!==null){h.return=p,er=h;break}er=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}er=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,er=s;else e:for(;er!==null;){if(i=er,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,er=y;break e}er=i.return}}var w=e.current;for(er=w;er!==null;){s=er;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,er=b;else e:for(s=w;er!==null;){if(o=er,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Vw(9,o)}}catch(O){ha(o,o.return,O)}if(o===s){er=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,er=D;break e}er=o.return}}if(ln=a,Kf(),Yl&&typeof Yl.onPostCommitFiberRoot=="function")try{Yl.onPostCommitFiberRoot(Dw,e)}catch{}n=!0}return n}finally{_n=r,Lo.transition=t}}return!1}function cj(e,t,r){t=op(r,t),t=A$(e,t,1),e=bf(e,t,1),t=ws(),e!==null&&(M1(e,1,t),Us(e,t))}function ha(e,t,r){if(e.tag===3)cj(e,e,r);else for(;t!==null;){if(t.tag===3){cj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wf===null||!wf.has(n))){e=op(r,e),e=T$(t,e,1),t=bf(t,e,1),e=ws(),t!==null&&(M1(t,1,e),Us(t,e));break}}t=t.return}}function sJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ws(),e.pingedLanes|=e.suspendedLanes&r,ci===e&&(Ti&r)===r&&(Ga===4||Ga===3&&(Ti&130023424)===Ti&&500>wa()-lN?Vd(e,0):oN|=r),Us(e,t)}function W$(e,t){t===0&&(e.mode&1?(t=Hy,Hy<<=1,!(Hy&130023424)&&(Hy=4194304)):t=1);var r=ws();e=Xc(e,t),e!==null&&(M1(e,t,r),Us(e,r))}function oJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),W$(e,r)}function lJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Lt(314))}n!==null&&n.delete(t),W$(e,r)}var H$;H$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$s.current)Ls=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ls=!1,YQ(e,t,r);Ls=!!(e.flags&131072)}else Ls=!1,ea&&t.flags&1048576&&XF(t,P2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qx(e,t),e=t.pendingProps;var a=np(t,ts.current);$0(t,r),a=tN(null,t,n,e,a,r);var i=rN();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bs(n)?(i=!0,k2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,XE(t),a.updater=Uw,t.stateNode=a,a._reactInternals=t,h4(t,n,e,r),t=g4(null,t,n,!0,i,r)):(t.tag=0,ea&&i&&zE(t),ds(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=uJ(n),e=ll(n,e),a){case 0:t=m4(null,t,n,e,r);break e;case 1:t=Z6(null,t,n,e,r);break e;case 11:t=Q6(null,t,n,e,r);break e;case 14:t=J6(null,t,n,ll(n.type,e),r);break e}throw Error(Lt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ll(n,a),m4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ll(n,a),Z6(e,t,n,a,r);case 3:e:{if(C$(t),e===null)throw Error(Lt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,r$(e,t),I2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=op(Error(Lt(423)),t),t=ej(e,t,n,r,a);break e}else if(n!==a){a=op(Error(Lt(424)),t),t=ej(e,t,n,r,a);break e}else for(ao=xf(t.stateNode.containerInfo.firstChild),oo=t,ea=!0,hl=null,r=e$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ap(),n===a){t=Qc(e,t,r);break e}ds(e,t,n,r)}t=t.child}return t;case 5:return n$(t),e===null&&u4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,i4(n,a)?s=null:i!==null&&i4(n,i)&&(t.flags|=32),k$(e,t),ds(e,t,s,r),t.child;case 6:return e===null&&u4(t),null;case 13:return P$(e,t,r);case 4:return QE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ip(t,null,n,r):ds(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ll(n,a),Q6(e,t,n,a,r);case 7:return ds(e,t,t.pendingProps,r),t.child;case 8:return ds(e,t,t.pendingProps.children,r),t.child;case 12:return ds(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,zn(j2,n._currentValue),n._currentValue=s,i!==null)if(Tl(i.value,s)){if(i.children===a.children&&!$s.current){t=Qc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=$c(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),f4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Lt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),f4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ds(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$0(t,r),a=Bo(a),n=n(a),t.flags|=1,ds(e,t,n,r),t.child;case 14:return n=t.type,a=ll(n,t.pendingProps),a=ll(n.type,a),J6(e,t,n,a,r);case 15:return E$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ll(n,a),Qx(e,t),t.tag=1,Bs(n)?(e=!0,k2(t)):e=!1,$0(t,r),S$(t,n,a),h4(t,n,a,r),g4(null,t,n,!0,e,r);case 19:return j$(e,t,r);case 22:return N$(e,t,r)}throw Error(Lt(156,t.tag))};function G$(e,t){return bF(e,t)}function cJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(e,t,r,n){return new cJ(e,t,r,n)}function dN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uJ(e){if(typeof e=="function")return dN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jE)return 11;if(e===OE)return 14}return 2}function Sf(e,t){var r=e.alternate;return r===null?(r=Io(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function e2(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")dN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case p0:return zd(r.children,a,i,t);case PE:s=8,a|=8;break;case RA:return e=Io(12,r,t,a|2),e.elementType=RA,e.lanes=i,e;case FA:return e=Io(13,r,t,a),e.elementType=FA,e.lanes=i,e;case $A:return e=Io(19,r,t,a),e.elementType=$A,e.lanes=i,e;case nF:return qw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tF:s=10;break e;case rF:s=9;break e;case jE:s=11;break e;case OE:s=14;break e;case Xu:s=16,n=null;break e}throw Error(Lt(130,e==null?e:typeof e,""))}return t=Io(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function zd(e,t,r,n){return e=Io(7,e,n,t),e.lanes=r,e}function qw(e,t,r,n){return e=Io(22,e,n,t),e.elementType=nF,e.lanes=r,e.stateNode={isHidden:!1},e}function sS(e,t,r){return e=Io(6,e,null,t),e.lanes=r,e}function oS(e,t,r){return t=Io(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U_(0),this.expirationTimes=U_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hN(e,t,r,n,a,i,s,o,l){return e=new fJ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Io(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},XE(i),e}function dJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function K$(e){if(!e)return Df;e=e._reactInternals;e:{if(yh(e)!==e||e.tag!==1)throw Error(Lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Lt(171))}if(e.tag===1){var r=e.type;if(Bs(r))return KF(e,r,t)}return t}function Y$(e,t,r,n,a,i,s,o,l){return e=hN(r,n,!0,e,a,i,s,o,l),e.context=K$(null),r=e.current,n=ws(),a=_f(r),i=$c(n,a),i.callback=t??null,bf(r,i,a),e.current.lanes=a,M1(e,a,n),Us(e,n),e}function Ww(e,t,r,n){var a=t.current,i=ws(),s=_f(a);return r=K$(r),t.context===null?t.context=r:t.pendingContext=r,t=$c(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bf(a,t,s),e!==null&&(_l(e,a,s,i),Kx(e,a,s)),s}function U2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pN(e,t){uj(e,t),(e=e.alternate)&&uj(e,t)}function hJ(){return null}var X$=typeof reportError=="function"?reportError:function(e){console.error(e)};function mN(e){this._internalRoot=e}Hw.prototype.render=mN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Lt(409));Ww(e,t,null,null)};Hw.prototype.unmount=mN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nh(function(){Ww(null,e,null,null)}),t[Yc]=null}};function Hw(e){this._internalRoot=e}Hw.prototype.unstable_scheduleHydration=function(e){if(e){var t=NF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zu.length&&t!==0&&t<Zu[r].priority;r++);Zu.splice(r,0,e),r===0&&CF(e)}};function gN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fj(){}function pJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=U2(s);i.call(c)}}var s=Y$(t,n,e,0,null,!1,!1,"",fj);return e._reactRootContainer=s,e[Yc]=s.current,pv(e.nodeType===8?e.parentNode:e),nh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=U2(l);o.call(c)}}var l=hN(e,0,!1,null,null,!1,!1,"",fj);return e._reactRootContainer=l,e[Yc]=l.current,pv(e.nodeType===8?e.parentNode:e),nh(function(){Ww(t,l,r,n)}),l}function Kw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=U2(s);o.call(l)}}Ww(t,s,e,a)}else s=pJ(r,t,e,a,n);return U2(s)}TF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fg(t.pendingLanes);r!==0&&(LE(t,r|1),Us(t,wa()),!(ln&6)&&(lp=wa()+500,Kf()))}break;case 13:nh(function(){var n=Xc(e,1);if(n!==null){var a=ws();_l(n,e,1,a)}}),pN(e,1)}};ME=function(e){if(e.tag===13){var t=Xc(e,134217728);if(t!==null){var r=ws();_l(t,e,134217728,r)}pN(e,134217728)}};EF=function(e){if(e.tag===13){var t=_f(e),r=Xc(e,t);if(r!==null){var n=ws();_l(r,e,t,n)}pN(e,t)}};NF=function(){return _n};kF=function(e,t){var r=_n;try{return _n=e,t()}finally{_n=r}};YA=function(e,t,r){switch(t){case"input":if(VA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Fw(n);if(!a)throw Error(Lt(90));iF(n),VA(n,a)}}}break;case"textarea":oF(e,r);break;case"select":t=r.value,t!=null&&L0(e,!!r.multiple,t,!1)}};pF=cN;mF=nh;var mJ={usingClientEntryPoint:!1,Events:[F1,y0,Fw,dF,hF,cN]},Wm={findFiberByHostInstance:jd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gJ={bundleType:Wm.bundleType,version:Wm.version,rendererPackageName:Wm.rendererPackageName,rendererConfig:Wm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yF(e),e===null?null:e.stateNode},findFiberByHostInstance:Wm.findFiberByHostInstance||hJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nx.isDisabled&&nx.supportsFiber)try{Dw=nx.inject(gJ),Yl=nx}catch{}}fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mJ;fo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gN(t))throw Error(Lt(200));return dJ(e,t,null,r)};fo.createRoot=function(e,t){if(!gN(e))throw Error(Lt(299));var r=!1,n="",a=X$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hN(e,1,!1,null,null,r,!1,n,a),e[Yc]=t.current,pv(e.nodeType===8?e.parentNode:e),new mN(t)};fo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Lt(188)):(e=Object.keys(e).join(","),Error(Lt(268,e)));return e=yF(t),e=e===null?null:e.stateNode,e};fo.flushSync=function(e){return nh(e)};fo.hydrate=function(e,t,r){if(!Gw(t))throw Error(Lt(200));return Kw(null,e,t,!0,r)};fo.hydrateRoot=function(e,t,r){if(!gN(e))throw Error(Lt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=X$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Y$(t,null,e,1,r??null,a,!1,i,s),e[Yc]=t.current,pv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Hw(t)};fo.render=function(e,t,r){if(!Gw(t))throw Error(Lt(200));return Kw(null,e,t,!1,r)};fo.unmountComponentAtNode=function(e){if(!Gw(e))throw Error(Lt(40));return e._reactRootContainer?(nh(function(){Kw(null,null,e,!1,function(){e._reactRootContainer=null,e[Yc]=null})}),!0):!1};fo.unstable_batchedUpdates=cN;fo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gw(r))throw Error(Lt(200));if(e==null||e._reactInternals===void 0)throw Error(Lt(38));return Kw(e,t,r,!1,n)};fo.version="18.3.1-next-f1338f8080-20240426";function Q$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q$)}catch(e){console.error(e)}}Q$(),QR.exports=fo;var vJ=QR.exports,J$,dj=vJ;J$=dj.createRoot,dj.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sv.apply(this,arguments)}var lf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lf||(lf={}));const hj="popstate";function yJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return k4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:V2(a)}return bJ(t,r,null,e)}function sa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xJ(){return Math.random().toString(36).substr(2,8)}function pj(e,t){return{usr:e.state,key:e.key,idx:t}}function k4(e,t,r,n){return r===void 0&&(r=null),Sv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kp(t):t,{state:r,key:t&&t.key||n||xJ()})}function V2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=lf.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Sv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=lf.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=lf.Push;let w=k4(m.location,v,y);c=u()+1;let b=pj(w,c),D=m.createHref(w);try{s.pushState(b,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(D)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=lf.Replace;let w=k4(m.location,v,y);c=u();let b=pj(w,c),D=m.createHref(w);s.replaceState(b,"",D),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:V2(v);return w=w.replace(/ $/,"%20"),sa(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(hj,d),l=v,()=>{a.removeEventListener(hj,d),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var mj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mj||(mj={}));function wJ(e,t,r){return r===void 0&&(r="/"),_J(e,t,r,!1)}function _J(e,t,r,n){let a=typeof t=="string"?Kp(t):t,i=cp(a.pathname||"/",r);if(i==null)return null;let s=e9(e);SJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=DJ(i);o=OJ(s[l],c,n)}return o}function e9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(sa(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Af([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(sa(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),e9(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:PJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of t9(i.path))a(i,s,l)}),t}function t9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=t9(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function SJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AJ=/^:[\w-]+$/,TJ=3,EJ=2,NJ=1,kJ=10,CJ=-2,gj=e=>e==="*";function PJ(e,t){let r=e.split("/"),n=r.length;return r.some(gj)&&(n+=CJ),t&&(n+=EJ),r.filter(a=>!gj(a)).reduce((a,i)=>a+(AJ.test(i)?TJ:i===""?NJ:kJ),n)}function jJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function OJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=z2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=z2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:Af([i,d.pathname]),pathnameBase:FJ(Af([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Af([i,d.pathnameBase]))}return s}function z2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=IJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[d]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function IJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Z$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function DJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Z$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function LJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Kp(e):e;return{pathname:r?r.startsWith("/")?r:MJ(r,t):t,search:$J(n),hash:BJ(a)}}function MJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function lS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vN(e,t){let r=RJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Kp(e):(a=Sv({},e),sa(!a.pathname||!a.pathname.includes("?"),lS("?","pathname","search",a)),sa(!a.pathname||!a.pathname.includes("#"),lS("#","pathname","hash",a)),sa(!a.search||!a.search.includes("#"),lS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=LJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Af=e=>e.join("/").replace(/\/\/+/g,"/"),FJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$J=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function UJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const r9=["post","put","patch","delete"];new Set(r9);const VJ=["get",...r9];new Set(VJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}const Yw=F.createContext(null),n9=F.createContext(null),du=F.createContext(null),Xw=F.createContext(null),hu=F.createContext({outlet:null,matches:[],isDataRoute:!1}),a9=F.createContext(null);function zJ(e,t){let{relative:r}=t===void 0?{}:t;Yp()||sa(!1);let{basename:n,navigator:a}=F.useContext(du),{hash:i,pathname:s,search:o}=Qw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Af([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Yp(){return F.useContext(Xw)!=null}function Xp(){return Yp()||sa(!1),F.useContext(Xw).location}function i9(e){F.useContext(du).static||F.useLayoutEffect(e)}function Qp(){let{isDataRoute:e}=F.useContext(hu);return e?aZ():qJ()}function qJ(){Yp()||sa(!1);let e=F.useContext(Yw),{basename:t,future:r,navigator:n}=F.useContext(du),{matches:a}=F.useContext(hu),{pathname:i}=Xp(),s=JSON.stringify(vN(a,r.v7_relativeSplatPath)),o=F.useRef(!1);return i9(()=>{o.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=yN(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Af([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}const WJ=F.createContext(null);function HJ(e){let t=F.useContext(hu).outlet;return t&&F.createElement(WJ.Provider,{value:e},t)}function Qw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=F.useContext(du),{matches:a}=F.useContext(hu),{pathname:i}=Xp(),s=JSON.stringify(vN(a,n.v7_relativeSplatPath));return F.useMemo(()=>yN(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function GJ(e,t){return KJ(e,t)}function KJ(e,t,r,n){Yp()||sa(!1);let{navigator:a,static:i}=F.useContext(du),{matches:s}=F.useContext(hu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Xp(),d;if(t){var h;let y=typeof t=="string"?Kp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||sa(!1),d=y}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:wJ(e,{pathname:g}),v=ZJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Af([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Af([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?F.createElement(Xw.Provider,{value:{location:Av({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:lf.Pop}},v):v}function YJ(){let e=nZ(),t=UJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),r?F.createElement("pre",{style:a},r):null,null)}const XJ=F.createElement(YJ,null);class QJ extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?F.createElement(hu.Provider,{value:this.props.routeContext},F.createElement(a9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JJ(e){let{routeContext:t,match:r,children:n}=e,a=F.useContext(Yw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(hu.Provider,{value:t},n)}function ZJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||sa(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||XJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=m:g?b=v:d.route.Component?b=F.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,F.createElement(JJ,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?F.createElement(QJ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var s9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(s9||{}),q2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(q2||{});function eZ(e){let t=F.useContext(Yw);return t||sa(!1),t}function tZ(e){let t=F.useContext(n9);return t||sa(!1),t}function rZ(e){let t=F.useContext(hu);return t||sa(!1),t}function o9(e){let t=rZ(),r=t.matches[t.matches.length-1];return r.route.id||sa(!1),r.route.id}function nZ(){var e;let t=F.useContext(a9),r=tZ(q2.UseRouteError),n=o9(q2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function aZ(){let{router:e}=eZ(s9.UseNavigateStable),t=o9(q2.UseNavigateStable),r=F.useRef(!1);return i9(()=>{r.current=!0}),F.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Av({fromRouteId:t},i)))},[e,t])}function iZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function C4(e){let{to:t,replace:r,state:n,relative:a}=e;Yp()||sa(!1);let{future:i,static:s}=F.useContext(du),{matches:o}=F.useContext(hu),{pathname:l}=Xp(),c=Qp(),u=yN(t,vN(o,i.v7_relativeSplatPath),l,a==="path"),d=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:a}),[c,d,a,r,n]),null}function sZ(e){return HJ(e.context)}function fs(e){sa(!1)}function oZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=lf.Pop,navigator:i,static:s=!1,future:o}=e;Yp()&&sa(!1);let l=t.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:i,static:s,future:Av({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Kp(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,m=F.useMemo(()=>{let v=cp(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:a}},[l,u,d,h,p,g,a]);return m==null?null:F.createElement(du.Provider,{value:c},F.createElement(Xw.Provider,{children:r,value:m}))}function lZ(e){let{children:t,location:r}=e;return GJ(P4(t),r)}new Promise(()=>{});function P4(e,t){t===void 0&&(t=[]);let r=[];return F.Children.forEach(e,(n,a)=>{if(!F.isValidElement(n))return;let i=[...t,a];if(n.type===F.Fragment){r.push.apply(r,P4(n.props.children,i));return}n.type!==fs&&sa(!1),!n.props.index||!n.props.children||sa(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=P4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W2.apply(this,arguments)}function l9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function cZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uZ(e,t){return e.button===0&&(!t||t==="_self")&&!cZ(e)}const fZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],hZ="6";try{window.__reactRouterVersion=hZ}catch{}const pZ=F.createContext({isTransitioning:!1}),mZ="startTransition",vj=sX[mZ];function gZ(e){let{basename:t,children:r,future:n,window:a}=e,i=F.useRef();i.current==null&&(i.current=yJ({window:a,v5Compat:!0}));let s=i.current,[o,l]=F.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=F.useCallback(d=>{c&&vj?vj(()=>l(d)):l(d)},[l,c]);return F.useLayoutEffect(()=>s.listen(u),[s,u]),F.useEffect(()=>iZ(n),[n]),F.createElement(oZ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const vZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xZ=F.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,h=l9(t,fZ),{basename:p}=F.useContext(du),g,m=!1;if(typeof c=="string"&&yZ.test(c)&&(g=c,vZ))try{let b=new URL(window.location.href),D=c.startsWith("//")?new URL(b.protocol+c):new URL(c),O=cp(D.pathname,p);D.origin===b.origin&&O!=null?c=O+D.search+D.hash:m=!0}catch{}let v=zJ(c,{relative:a}),y=wZ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:d});function w(b){n&&n(b),b.defaultPrevented||y(b)}return F.createElement("a",W2({},h,{href:g||v,onClick:m||i?n:w,ref:r,target:l}))}),cS=F.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,d=l9(t,dZ),h=Qw(l,{relative:d.relative}),p=Xp(),g=F.useContext(n9),{navigator:m,basename:v}=F.useContext(du),y=g!=null&&_Z(h)&&c===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(b=b.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&v&&(D=cp(D,v)||D);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=b===w||!s&&b.startsWith(w)&&b.charAt(O)==="/",T=D!=null&&(D===w||!s&&D.startsWith(w)&&D.charAt(w.length)==="/"),_={isActive:P,isPending:T,isTransitioning:y},S=P?n:void 0,I;typeof i=="function"?I=i(_):I=[i,P?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(_):o;return F.createElement(xZ,W2({},d,{"aria-current":S,className:I,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(_):u)});var j4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(j4||(j4={}));var yj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yj||(yj={}));function bZ(e){let t=F.useContext(Yw);return t||sa(!1),t}function wZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Qp(),c=Xp(),u=Qw(e,{relative:s});return F.useCallback(d=>{if(uZ(d,r)){d.preventDefault();let h=n!==void 0?n:V2(c)===V2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function _Z(e,t){t===void 0&&(t={});let r=F.useContext(pZ);r==null&&sa(!1);let{basename:n}=bZ(j4.useViewTransitionState),a=Qw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=cp(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=cp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return z2(a.pathname,s)!=null||z2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),cr=(e,t)=>{const r=F.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>F.createElement("svg",{ref:u,...SZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${AZ(e)}`,o].join(" "),...c},[...t.map(([d,h])=>F.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=cr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=cr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=cr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=cr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=cr("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=cr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=cr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=cr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=cr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=cr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=cr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=cr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=cr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=cr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=cr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=cr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=cr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=cr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=cr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=cr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=cr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=cr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=cr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=cr("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=cr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=cr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=cr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=cr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=cr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=cr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=cr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=cr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=cr("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=cr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=cr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=cr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=cr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=cr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=cr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=cr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=cr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=cr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=cr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=cr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=cr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=cr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=cr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=cr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=cr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=cr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=cr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=cr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=cr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=cr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=cr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qZ=()=>{};var Tj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},WZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},y9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,d=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[d],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(v9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const d=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||d==null)throw new HZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),d!==64){const g=c<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class HZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GZ=function(e){const t=v9(e);return y9.encodeByteArray(t,!0)},Y2=function(e){return GZ(e).replace(/\./g,"")},KZ=function(e){try{return y9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=()=>YZ().__FIREBASE_DEFAULTS__,QZ=()=>{if(typeof process>"u"||typeof Tj>"u")return;const e=Tj.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},JZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&KZ(e[1]);return t&&JSON.parse(t)},bN=()=>{try{return qZ()||XZ()||QZ()||JZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ZZ=e=>{var t,r;return(r=(t=bN())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},eee=e=>{const t=ZZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},x9=()=>{var e;return(e=bN())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e){return e.endsWith(".cloudworkstations.dev")}async function ree(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Y2(JSON.stringify(r)),Y2(JSON.stringify(s)),""].join(".")}const Ig={};function aee(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ig))Ig[t]?e.emulator.push(t):e.prod.push(t);return e}function iee(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let Ej=!1;function b9(e,t){if(typeof window>"u"||typeof document>"u"||!wN(window.location.host)||Ig[e]===t||Ig[e]||Ej)return;Ig[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=aee().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Ej=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=iee(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(v,m);const D=c();l(w,y),b.append(w,g,v,D),document.body.appendChild(b)}i?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oee(){var e;const t=(e=bN())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lee(){return!oee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cee(){try{return typeof indexedDB=="object"}catch{return!1}}function uee(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee="FirebaseError";class Jp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=fee,Object.setPrototypeOf(this,Jp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w9.prototype.create)}}class w9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?dee(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Jp(a,o,n)}}function dee(e,t){return e.replace(hee,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const hee=/\{\$([^}]+)}/g;function X2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(Nj(i)&&Nj(s)){if(!X2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function Nj(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){return e&&e._delegate?e._delegate:e}class Ev{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new tee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gee(t))try{this.getOrInitializeService({instanceIdentifier:_d})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=_d){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_d){return this.instances.has(t)}getOptions(t=_d){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mee(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=_d){return this.component?this.component.multipleInstances?t:_d:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mee(e){return e===_d?void 0:e}function gee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new pee(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tn||(tn={}));const yee={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},xee=tn.INFO,bee={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},wee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=bee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _9{constructor(t){this.name=t,this._logLevel=xee,this._logHandler=wee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yee[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...t),this._logHandler(this,tn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...t),this._logHandler(this,tn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...t),this._logHandler(this,tn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...t),this._logHandler(this,tn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...t),this._logHandler(this,tn.ERROR,...t)}}const _ee=(e,t)=>t.some(r=>e instanceof r);let kj,Cj;function See(){return kj||(kj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aee(){return Cj||(Cj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S9=new WeakMap,M4=new WeakMap,A9=new WeakMap,fS=new WeakMap,_N=new WeakMap;function Tee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(Tf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&S9.set(r,e)}).catch(()=>{}),_N.set(t,e),t}function Eee(e){if(M4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});M4.set(e,t)}let R4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return M4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||A9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Tf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Nee(e){R4=e(R4)}function kee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(dS(this),t,...r);return A9.set(n,t.sort?t.sort():[t]),Tf(n)}:Aee().includes(e)?function(...t){return e.apply(dS(this),t),Tf(S9.get(this))}:function(...t){return Tf(e.apply(dS(this),t))}}function Cee(e){return typeof e=="function"?kee(e):(e instanceof IDBTransaction&&Eee(e),_ee(e,See())?new Proxy(e,R4):e)}function Tf(e){if(e instanceof IDBRequest)return Tee(e);if(fS.has(e))return fS.get(e);const t=Cee(e);return t!==e&&(fS.set(e,t),_N.set(t,e)),t}const dS=e=>_N.get(e);function Pee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=Tf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Tf(s.result),l.oldVersion,l.newVersion,Tf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const jee=["get","getKey","getAll","getAllKeys","count"],Oee=["put","add","delete","clear"],hS=new Map;function Pj(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hS.get(t))return hS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Oee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||jee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return hS.set(t,i),i}Nee(e=>({...e,get:(t,r,n)=>Pj(t,r)||e.get(t,r,n),has:(t,r)=>!!Pj(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Dee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Dee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const F4="@firebase/app",jj="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new _9("@firebase/app"),Lee="@firebase/app-compat",Mee="@firebase/analytics-compat",Ree="@firebase/analytics",Fee="@firebase/app-check-compat",$ee="@firebase/app-check",Bee="@firebase/auth",Uee="@firebase/auth-compat",Vee="@firebase/database",zee="@firebase/data-connect",qee="@firebase/database-compat",Wee="@firebase/functions",Hee="@firebase/functions-compat",Gee="@firebase/installations",Kee="@firebase/installations-compat",Yee="@firebase/messaging",Xee="@firebase/messaging-compat",Qee="@firebase/performance",Jee="@firebase/performance-compat",Zee="@firebase/remote-config",ete="@firebase/remote-config-compat",tte="@firebase/storage",rte="@firebase/storage-compat",nte="@firebase/firestore",ate="@firebase/vertexai",ite="@firebase/firestore-compat",ste="firebase",ote="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="[DEFAULT]",lte={[F4]:"fire-core",[Lee]:"fire-core-compat",[Ree]:"fire-analytics",[Mee]:"fire-analytics-compat",[$ee]:"fire-app-check",[Fee]:"fire-app-check-compat",[Bee]:"fire-auth",[Uee]:"fire-auth-compat",[Vee]:"fire-rtdb",[zee]:"fire-data-connect",[qee]:"fire-rtdb-compat",[Wee]:"fire-fn",[Hee]:"fire-fn-compat",[Gee]:"fire-iid",[Kee]:"fire-iid-compat",[Yee]:"fire-fcm",[Xee]:"fire-fcm-compat",[Qee]:"fire-perf",[Jee]:"fire-perf-compat",[Zee]:"fire-rc",[ete]:"fire-rc-compat",[tte]:"fire-gcs",[rte]:"fire-gcs-compat",[nte]:"fire-fst",[ite]:"fire-fst-compat",[ate]:"fire-vertex","fire-js":"fire-js",[ste]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Map,cte=new Map,B4=new Map;function Oj(e,t){try{e.container.addComponent(t)}catch(r){Zc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function J2(e){const t=e.name;if(B4.has(t))return Zc.debug(`There were multiple attempts to register component ${t}.`),!1;B4.set(t,e);for(const r of Q2.values())Oj(r,e);for(const r of cte.values())Oj(r,e);return!0}function ute(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function fte(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ef=new w9("app","Firebase",dte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ev("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ef.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=ote;function T9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:$4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw Ef.create("bad-app-name",{appName:String(a)});if(r||(r=x9()),!r)throw Ef.create("no-options");const i=Q2.get(a);if(i){if(X2(r,i.options)&&X2(n,i.config))return i;throw Ef.create("duplicate-app",{appName:a})}const s=new vee(a);for(const l of B4.values())s.addComponent(l);const o=new hte(r,n,s);return Q2.set(a,o),o}function mte(e=$4){const t=Q2.get(e);if(!t&&e===$4&&x9())return T9();if(!t)throw Ef.create("no-app",{appName:e});return t}function U0(e,t,r){var n;let a=(n=lte[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zc.warn(o.join(" "));return}J2(new Ev(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte="firebase-heartbeat-database",vte=1,Nv="firebase-heartbeat-store";let pS=null;function E9(){return pS||(pS=Pee(gte,vte,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nv)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ef.create("idb-open",{originalErrorMessage:e.message})})),pS}async function yte(e){try{const r=(await E9()).transaction(Nv),n=await r.objectStore(Nv).get(N9(e));return await r.done,n}catch(t){if(t instanceof Jp)Zc.warn(t.message);else{const r=Ef.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Zc.warn(r.message)}}}async function Ij(e,t){try{const n=(await E9()).transaction(Nv,"readwrite");await n.objectStore(Nv).put(t,N9(e)),await n.done}catch(r){if(r instanceof Jp)Zc.warn(r.message);else{const n=Ef.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Zc.warn(n.message)}}}function N9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte=1024,bte=30;class wte{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ste(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Dj();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>bte){const s=Ate(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Zc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Dj(),{heartbeatsToSend:n,unsentEntries:a}=_te(this._heartbeatsCache.heartbeats),i=Y2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Zc.warn(r),""}}}function Dj(){return new Date().toISOString().substring(0,10)}function _te(e,t=xte){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Lj(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Lj(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Ste{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cee()?uee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await yte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ij(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ij(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Lj(e){return Y2(JSON.stringify({version:2,heartbeats:e})).length}function Ate(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tte(e){J2(new Ev("platform-logger",t=>new Iee(t),"PRIVATE")),J2(new Ev("heartbeat",t=>new wte(t),"PRIVATE")),U0(F4,jj,e),U0(F4,jj,"esm2017"),U0("fire-js","")}Tte("");var Ete="firebase",Nte="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */U0(Ete,Nte,"app");var Mj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nf,k9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,_){function S(){}S.prototype=_.prototype,T.D=_.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(I,E,C){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return _.prototype[E].apply(I,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,_,S){S||(S=0);var I=Array(16);if(typeof _=="string")for(var E=0;16>E;++E)I[E]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(E=0;16>E;++E)I[E]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=T.g[0],S=T.g[1],E=T.g[2];var C=T.g[3],N=_+(C^S&(E^C))+I[0]+3614090360&4294967295;_=S+(N<<7&4294967295|N>>>25),N=C+(E^_&(S^E))+I[1]+3905402710&4294967295,C=_+(N<<12&4294967295|N>>>20),N=E+(S^C&(_^S))+I[2]+606105819&4294967295,E=C+(N<<17&4294967295|N>>>15),N=S+(_^E&(C^_))+I[3]+3250441966&4294967295,S=E+(N<<22&4294967295|N>>>10),N=_+(C^S&(E^C))+I[4]+4118548399&4294967295,_=S+(N<<7&4294967295|N>>>25),N=C+(E^_&(S^E))+I[5]+1200080426&4294967295,C=_+(N<<12&4294967295|N>>>20),N=E+(S^C&(_^S))+I[6]+2821735955&4294967295,E=C+(N<<17&4294967295|N>>>15),N=S+(_^E&(C^_))+I[7]+4249261313&4294967295,S=E+(N<<22&4294967295|N>>>10),N=_+(C^S&(E^C))+I[8]+1770035416&4294967295,_=S+(N<<7&4294967295|N>>>25),N=C+(E^_&(S^E))+I[9]+2336552879&4294967295,C=_+(N<<12&4294967295|N>>>20),N=E+(S^C&(_^S))+I[10]+4294925233&4294967295,E=C+(N<<17&4294967295|N>>>15),N=S+(_^E&(C^_))+I[11]+2304563134&4294967295,S=E+(N<<22&4294967295|N>>>10),N=_+(C^S&(E^C))+I[12]+1804603682&4294967295,_=S+(N<<7&4294967295|N>>>25),N=C+(E^_&(S^E))+I[13]+4254626195&4294967295,C=_+(N<<12&4294967295|N>>>20),N=E+(S^C&(_^S))+I[14]+2792965006&4294967295,E=C+(N<<17&4294967295|N>>>15),N=S+(_^E&(C^_))+I[15]+1236535329&4294967295,S=E+(N<<22&4294967295|N>>>10),N=_+(E^C&(S^E))+I[1]+4129170786&4294967295,_=S+(N<<5&4294967295|N>>>27),N=C+(S^E&(_^S))+I[6]+3225465664&4294967295,C=_+(N<<9&4294967295|N>>>23),N=E+(_^S&(C^_))+I[11]+643717713&4294967295,E=C+(N<<14&4294967295|N>>>18),N=S+(C^_&(E^C))+I[0]+3921069994&4294967295,S=E+(N<<20&4294967295|N>>>12),N=_+(E^C&(S^E))+I[5]+3593408605&4294967295,_=S+(N<<5&4294967295|N>>>27),N=C+(S^E&(_^S))+I[10]+38016083&4294967295,C=_+(N<<9&4294967295|N>>>23),N=E+(_^S&(C^_))+I[15]+3634488961&4294967295,E=C+(N<<14&4294967295|N>>>18),N=S+(C^_&(E^C))+I[4]+3889429448&4294967295,S=E+(N<<20&4294967295|N>>>12),N=_+(E^C&(S^E))+I[9]+568446438&4294967295,_=S+(N<<5&4294967295|N>>>27),N=C+(S^E&(_^S))+I[14]+3275163606&4294967295,C=_+(N<<9&4294967295|N>>>23),N=E+(_^S&(C^_))+I[3]+4107603335&4294967295,E=C+(N<<14&4294967295|N>>>18),N=S+(C^_&(E^C))+I[8]+1163531501&4294967295,S=E+(N<<20&4294967295|N>>>12),N=_+(E^C&(S^E))+I[13]+2850285829&4294967295,_=S+(N<<5&4294967295|N>>>27),N=C+(S^E&(_^S))+I[2]+4243563512&4294967295,C=_+(N<<9&4294967295|N>>>23),N=E+(_^S&(C^_))+I[7]+1735328473&4294967295,E=C+(N<<14&4294967295|N>>>18),N=S+(C^_&(E^C))+I[12]+2368359562&4294967295,S=E+(N<<20&4294967295|N>>>12),N=_+(S^E^C)+I[5]+4294588738&4294967295,_=S+(N<<4&4294967295|N>>>28),N=C+(_^S^E)+I[8]+2272392833&4294967295,C=_+(N<<11&4294967295|N>>>21),N=E+(C^_^S)+I[11]+1839030562&4294967295,E=C+(N<<16&4294967295|N>>>16),N=S+(E^C^_)+I[14]+4259657740&4294967295,S=E+(N<<23&4294967295|N>>>9),N=_+(S^E^C)+I[1]+2763975236&4294967295,_=S+(N<<4&4294967295|N>>>28),N=C+(_^S^E)+I[4]+1272893353&4294967295,C=_+(N<<11&4294967295|N>>>21),N=E+(C^_^S)+I[7]+4139469664&4294967295,E=C+(N<<16&4294967295|N>>>16),N=S+(E^C^_)+I[10]+3200236656&4294967295,S=E+(N<<23&4294967295|N>>>9),N=_+(S^E^C)+I[13]+681279174&4294967295,_=S+(N<<4&4294967295|N>>>28),N=C+(_^S^E)+I[0]+3936430074&4294967295,C=_+(N<<11&4294967295|N>>>21),N=E+(C^_^S)+I[3]+3572445317&4294967295,E=C+(N<<16&4294967295|N>>>16),N=S+(E^C^_)+I[6]+76029189&4294967295,S=E+(N<<23&4294967295|N>>>9),N=_+(S^E^C)+I[9]+3654602809&4294967295,_=S+(N<<4&4294967295|N>>>28),N=C+(_^S^E)+I[12]+3873151461&4294967295,C=_+(N<<11&4294967295|N>>>21),N=E+(C^_^S)+I[15]+530742520&4294967295,E=C+(N<<16&4294967295|N>>>16),N=S+(E^C^_)+I[2]+3299628645&4294967295,S=E+(N<<23&4294967295|N>>>9),N=_+(E^(S|~C))+I[0]+4096336452&4294967295,_=S+(N<<6&4294967295|N>>>26),N=C+(S^(_|~E))+I[7]+1126891415&4294967295,C=_+(N<<10&4294967295|N>>>22),N=E+(_^(C|~S))+I[14]+2878612391&4294967295,E=C+(N<<15&4294967295|N>>>17),N=S+(C^(E|~_))+I[5]+4237533241&4294967295,S=E+(N<<21&4294967295|N>>>11),N=_+(E^(S|~C))+I[12]+1700485571&4294967295,_=S+(N<<6&4294967295|N>>>26),N=C+(S^(_|~E))+I[3]+2399980690&4294967295,C=_+(N<<10&4294967295|N>>>22),N=E+(_^(C|~S))+I[10]+4293915773&4294967295,E=C+(N<<15&4294967295|N>>>17),N=S+(C^(E|~_))+I[1]+2240044497&4294967295,S=E+(N<<21&4294967295|N>>>11),N=_+(E^(S|~C))+I[8]+1873313359&4294967295,_=S+(N<<6&4294967295|N>>>26),N=C+(S^(_|~E))+I[15]+4264355552&4294967295,C=_+(N<<10&4294967295|N>>>22),N=E+(_^(C|~S))+I[6]+2734768916&4294967295,E=C+(N<<15&4294967295|N>>>17),N=S+(C^(E|~_))+I[13]+1309151649&4294967295,S=E+(N<<21&4294967295|N>>>11),N=_+(E^(S|~C))+I[4]+4149444226&4294967295,_=S+(N<<6&4294967295|N>>>26),N=C+(S^(_|~E))+I[11]+3174756917&4294967295,C=_+(N<<10&4294967295|N>>>22),N=E+(_^(C|~S))+I[2]+718787259&4294967295,E=C+(N<<15&4294967295|N>>>17),N=S+(C^(E|~_))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(E+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+C&4294967295}n.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var S=_-this.blockSize,I=this.B,E=this.h,C=0;C<_;){if(E==0)for(;C<=S;)a(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<_;)if(I[E++]=T.charCodeAt(C++),E==this.blockSize){a(this,I),E=0;break}}else for(;C<_;)if(I[E++]=T[C++],E==this.blockSize){a(this,I),E=0;break}}this.h=E,this.o+=_},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var S=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=S&255,S/=256;for(this.u(T),T=Array(16),_=S=0;4>_;++_)for(var I=0;32>I;I+=8)T[S++]=this.g[_]>>>I&255;return T};function i(T,_){var S=o;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=_(T)}function s(T,_){this.h=_;for(var S=[],I=!0,E=T.length-1;0<=E;E--){var C=T[E]|0;I&&C==_||(S[E]=C,I=!1)}this.g=S}var o={};function l(T){return-128<=T&&128>T?i(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(c(-T));for(var _=[],S=1,I=0;T>=S;I++)_[I]=T/S|0,S*=4294967296;return new s(_,0)}function u(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return v(u(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(_,8)),I=d,E=0;E<T.length;E+=8){var C=Math.min(8,T.length-E),N=parseInt(T.substring(E,E+C),_);8>C?(C=c(Math.pow(_,C)),I=I.j(C).add(c(N))):(I=I.j(S),I=I.add(c(N)))}return I}var d=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,_=1,S=0;S<this.g.length;S++){var I=this.i(S);T+=(0<=I?I:4294967296+I)*_,_*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var _=c(Math.pow(T,6)),S=this,I="";;){var E=D(S,_).g;S=y(S,E.j(_));var C=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=E,g(S))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var _=T.g.length,S=[],I=0;I<_;I++)S[I]=~T.g[I];return new s(S,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0,E=0;E<=_;E++){var C=I+(this.i(E)&65535)+(T.i(E)&65535),N=(C>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);I=N>>>16,C&=65535,N&=65535,S[E]=N<<16|C}return new s(S,S[S.length-1]&-2147483648?-1:0)};function y(T,_){return T.add(v(_))}e.j=function(T){if(g(this)||g(T))return d;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,S=[],I=0;I<2*_;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var E=0;E<T.g.length;E++){var C=this.i(I)>>>16,N=this.i(I)&65535,U=T.i(E)>>>16,X=T.i(E)&65535;S[2*I+2*E]+=N*X,w(S,2*I+2*E),S[2*I+2*E+1]+=C*X,w(S,2*I+2*E+1),S[2*I+2*E+1]+=N*U,w(S,2*I+2*E+1),S[2*I+2*E+2]+=C*U,w(S,2*I+2*E+2)}for(I=0;I<_;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=_;I<2*_;I++)S[I]=0;return new s(S,0)};function w(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function b(T,_){this.g=T,this.h=_}function D(T,_){if(g(_))throw Error("division by zero");if(g(T))return new b(d,d);if(m(T))return _=D(v(T),_),new b(v(_.g),v(_.h));if(m(_))return _=D(T,v(_)),new b(v(_.g),_.h);if(30<T.g.length){if(m(T)||m(_))throw Error("slowDivide_ only works with positive integers.");for(var S=h,I=_;0>=I.l(T);)S=O(S),I=O(I);var E=P(S,1),C=P(I,1);for(I=P(I,2),S=P(S,2);!g(I);){var N=C.add(I);0>=N.l(T)&&(E=E.add(S),C=N),I=P(I,1),S=P(S,1)}return _=y(T,E.j(_)),new b(E,_)}for(E=d;0<=T.l(_);){for(S=Math.max(1,Math.floor(T.m()/_.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=c(S),N=C.j(_);m(N)||0<N.l(T);)S-=I,C=c(S),N=C.j(_);g(C)&&(C=h),E=E.add(C),T=y(T,N)}return new b(E,T)}e.A=function(T){return D(this,T).h},e.and=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)&T.i(I);return new s(S,this.h&T.h)},e.or=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)|T.i(I);return new s(S,this.h|T.h)},e.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)^T.i(I);return new s(S,this.h^T.h)};function O(T){for(var _=T.g.length+1,S=[],I=0;I<_;I++)S[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(S,T.h)}function P(T,_){var S=_>>5;_%=32;for(var I=T.g.length-S,E=[],C=0;C<I;C++)E[C]=0<_?T.i(C+S)>>>_|T.i(C+S+1)<<32-_:T.i(C+S);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,k9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Nf=s}).apply(typeof Mj<"u"?Mj:typeof self<"u"?self:typeof window<"u"?window:{});var ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C9,hg,P9,r2,U4,j9,O9,I9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,B,Q){return A==Array.prototype||A==Object.prototype||(A[B]=Q.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof ax=="object"&&ax];for(var B=0;B<A.length;++B){var Q=A[B];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var n=r(this);function a(A,B){if(B)e:{var Q=n;A=A.split(".");for(var fe=0;fe<A.length-1;fe++){var Be=A[fe];if(!(Be in Q))break e;Q=Q[Be]}A=A[A.length-1],fe=Q[A],B=B(fe),B!=fe&&B!=null&&t(Q,A,{configurable:!0,writable:!0,value:B})}}function i(A,B){A instanceof String&&(A+="");var Q=0,fe=!1,Be={next:function(){if(!fe&&Q<A.length){var et=Q++;return{value:B(et,A[et]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}a("Array.prototype.values",function(A){return A||function(){return i(this,function(B,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var B=typeof A;return B=B!="object"?B:A?Array.isArray(A)?"array":B:"null",B=="array"||B=="object"&&typeof A.length=="number"}function c(A){var B=typeof A;return B=="object"&&A!=null||B=="function"}function u(A,B,Q){return A.call.apply(A.bind,arguments)}function d(A,B,Q){if(!A)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,fe),A.apply(B,Be)}}return function(){return A.apply(B,arguments)}}function h(A,B,Q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(A,B){var Q=Array.prototype.slice.call(arguments,1);return function(){var fe=Q.slice();return fe.push.apply(fe,arguments),A.apply(this,fe)}}function g(A,B){function Q(){}Q.prototype=B.prototype,A.aa=B.prototype,A.prototype=new Q,A.prototype.constructor=A,A.Qb=function(fe,Be,et){for(var Pt=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)Pt[Cr-2]=arguments[Cr];return B.prototype[Be].apply(fe,Pt)}}function m(A){const B=A.length;if(0<B){const Q=Array(B);for(let fe=0;fe<B;fe++)Q[fe]=A[fe];return Q}return[]}function v(A,B){for(let Q=1;Q<arguments.length;Q++){const fe=arguments[Q];if(l(fe)){const Be=A.length||0,et=fe.length||0;A.length=Be+et;for(let Pt=0;Pt<et;Pt++)A[Be+Pt]=fe[Pt]}else A.push(fe)}}class y{constructor(B,Q){this.i=B,this.j=Q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function w(A){return/^[\s\xa0]*$/.test(A)}function b(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function D(A){return D[" "](A),A}D[" "]=function(){};var O=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function P(A,B,Q){for(const fe in A)B.call(Q,A[fe],fe,A)}function T(A,B){for(const Q in A)B.call(void 0,A[Q],Q,A)}function _(A){const B={};for(const Q in A)B[Q]=A[Q];return B}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(A,B){let Q,fe;for(let Be=1;Be<arguments.length;Be++){fe=arguments[Be];for(Q in fe)A[Q]=fe[Q];for(let et=0;et<S.length;et++)Q=S[et],Object.prototype.hasOwnProperty.call(fe,Q)&&(A[Q]=fe[Q])}}function E(A){var B=1;A=A.split(":");const Q=[];for(;0<B&&A.length;)Q.push(A.shift()),B--;return A.length&&Q.push(A.join(":")),Q}function C(A){o.setTimeout(()=>{throw A},0)}function N(){var A=q;let B=null;return A.g&&(B=A.g,A.g=A.g.next,A.g||(A.h=null),B.next=null),B}class U{constructor(){this.h=this.g=null}add(B,Q){const fe=X.get();fe.set(B,Q),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var X=new y(()=>new z,A=>A.reset());class z{constructor(){this.next=this.g=this.h=null}set(B,Q){this.h=B,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let H,V=!1,q=new U,te=()=>{const A=o.Promise.resolve(void 0);H=()=>{A.then(Z)}};var Z=()=>{for(var A;A=N();){try{A.h.call(A.g)}catch(Q){C(Q)}var B=X;B.j(A),100>B.h&&(B.h++,A.next=B.g,B.g=A)}V=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(A,B){this.type=A,this.g=this.target=B,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,B=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const Q=()=>{};o.addEventListener("test",Q,B),o.removeEventListener("test",Q,B)}catch{}return A}();function Y(A,B){if(R.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var Q=this.type=A.type,fe=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=B,B=A.relatedTarget){if(O){e:{try{D(B.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(B=null)}}else Q=="mouseover"?B=A.fromElement:Q=="mouseout"&&(B=A.toElement);this.relatedTarget=B,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:J[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&Y.aa.h.call(this)}}g(Y,R);var J={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ae(A,B,Q,fe,Be){this.listener=A,this.proxy=null,this.src=B,this.type=Q,this.capture=!!fe,this.ha=Be,this.key=++ue,this.da=this.fa=!1}function he(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function xe(A){this.src=A,this.g={},this.h=0}xe.prototype.add=function(A,B,Q,fe,Be){var et=A.toString();A=this.g[et],A||(A=this.g[et]=[],this.h++);var Pt=Ne(A,B,fe,Be);return-1<Pt?(B=A[Pt],Q||(B.fa=!1)):(B=new ae(B,this.src,et,!!fe,Be),B.fa=Q,A.push(B)),B};function W(A,B){var Q=B.type;if(Q in A.g){var fe=A.g[Q],Be=Array.prototype.indexOf.call(fe,B,void 0),et;(et=0<=Be)&&Array.prototype.splice.call(fe,Be,1),et&&(he(B),A.g[Q].length==0&&(delete A.g[Q],A.h--))}}function Ne(A,B,Q,fe){for(var Be=0;Be<A.length;++Be){var et=A[Be];if(!et.da&&et.listener==B&&et.capture==!!Q&&et.ha==fe)return Be}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),_e={};function le(A,B,Q,fe,Be){if(Array.isArray(B)){for(var et=0;et<B.length;et++)le(A,B[et],Q,fe,Be);return null}return Q=He(Q),A&&A[se]?A.K(B,Q,c(fe)?!!fe.capture:!!fe,Be):Le(A,B,Q,!1,fe,Be)}function Le(A,B,Q,fe,Be,et){if(!B)throw Error("Invalid event type");var Pt=c(Be)?!!Be.capture:!!Be,Cr=Se(A);if(Cr||(A[ke]=Cr=new xe(A)),Q=Cr.add(B,Q,fe,Pt,et),Q.proxy)return Q;if(fe=Oe(),Q.proxy=fe,fe.src=A,fe.listener=Q,A.addEventListener)G||(Be=Pt),Be===void 0&&(Be=!1),A.addEventListener(B.toString(),fe,Be);else if(A.attachEvent)A.attachEvent(Ee(B.toString()),fe);else if(A.addListener&&A.removeListener)A.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function Oe(){function A(Q){return B.call(A.src,A.listener,Q)}const B=Fe;return A}function Ve(A,B,Q,fe,Be){if(Array.isArray(B))for(var et=0;et<B.length;et++)Ve(A,B[et],Q,fe,Be);else fe=c(fe)?!!fe.capture:!!fe,Q=He(Q),A&&A[se]?(A=A.i,B=String(B).toString(),B in A.g&&(et=A.g[B],Q=Ne(et,Q,fe,Be),-1<Q&&(he(et[Q]),Array.prototype.splice.call(et,Q,1),et.length==0&&(delete A.g[B],A.h--)))):A&&(A=Se(A))&&(B=A.g[B.toString()],A=-1,B&&(A=Ne(B,Q,fe,Be)),(Q=-1<A?B[A]:null)&&We(Q))}function We(A){if(typeof A!="number"&&A&&!A.da){var B=A.src;if(B&&B[se])W(B.i,A);else{var Q=A.type,fe=A.proxy;B.removeEventListener?B.removeEventListener(Q,fe,A.capture):B.detachEvent?B.detachEvent(Ee(Q),fe):B.addListener&&B.removeListener&&B.removeListener(fe),(Q=Se(B))?(W(Q,A),Q.h==0&&(Q.src=null,B[ke]=null)):he(A)}}}function Ee(A){return A in _e?_e[A]:_e[A]="on"+A}function Fe(A,B){if(A.da)A=!0;else{B=new Y(B,this);var Q=A.listener,fe=A.ha||A.src;A.fa&&We(A),A=Q.call(fe,B)}return A}function Se(A){return A=A[ke],A instanceof xe?A:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function He(A){return typeof A=="function"?A:(A[Me]||(A[Me]=function(B){return A.handleEvent(B)}),A[Me])}function at(){k.call(this),this.i=new xe(this),this.M=this,this.F=null}g(at,k),at.prototype[se]=!0,at.prototype.removeEventListener=function(A,B,Q,fe){Ve(this,A,B,Q,fe)};function ot(A,B){var Q,fe=A.F;if(fe)for(Q=[];fe;fe=fe.F)Q.push(fe);if(A=A.M,fe=B.type||B,typeof B=="string")B=new R(B,A);else if(B instanceof R)B.target=B.target||A;else{var Be=B;B=new R(fe,A),I(B,Be)}if(Be=!0,Q)for(var et=Q.length-1;0<=et;et--){var Pt=B.g=Q[et];Be=xt(Pt,fe,!0,B)&&Be}if(Pt=B.g=A,Be=xt(Pt,fe,!0,B)&&Be,Be=xt(Pt,fe,!1,B)&&Be,Q)for(et=0;et<Q.length;et++)Pt=B.g=Q[et],Be=xt(Pt,fe,!1,B)&&Be}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var A=this.i,B;for(B in A.g){for(var Q=A.g[B],fe=0;fe<Q.length;fe++)he(Q[fe]);delete A.g[B],A.h--}}this.F=null},at.prototype.K=function(A,B,Q,fe){return this.i.add(String(A),B,!1,Q,fe)},at.prototype.L=function(A,B,Q,fe){return this.i.add(String(A),B,!0,Q,fe)};function xt(A,B,Q,fe){if(B=A.i.g[String(B)],!B)return!0;B=B.concat();for(var Be=!0,et=0;et<B.length;++et){var Pt=B[et];if(Pt&&!Pt.da&&Pt.capture==Q){var Cr=Pt.listener,Kr=Pt.ha||Pt.src;Pt.fa&&W(A.i,Pt),Be=Cr.call(Kr,fe)!==!1&&Be}}return Be&&!fe.defaultPrevented}function ht(A,B,Q){if(typeof A=="function")Q&&(A=h(A,Q));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:o.setTimeout(A,B||0)}function mt(A){A.g=ht(()=>{A.g=null,A.i&&(A.i=!1,mt(A))},A.l);const B=A.h;A.h=null,A.m.apply(null,B)}class ct extends k{constructor(B,Q){super(),this.m=B,this.l=Q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(A){k.call(this),this.h=A,this.g={}}g(Zt,k);var Ht=[];function Rr(A){P(A.g,function(B,Q){this.g.hasOwnProperty(Q)&&We(B)},A),A.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),Rr(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=o.JSON.stringify,Wr=o.JSON.parse,Pe=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function Re(){}Re.prototype.h=null;function rt(A){return A.h||(A.h=A.i())}function vt(){}var Nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kt(){R.call(this,"d")}g(Kt,R);function Ft(){R.call(this,"c")}g(Ft,R);var Dt={},rr=null;function gr(){return rr=rr||new at}Dt.La="serverreachability";function or(A){R.call(this,Dt.La,A)}g(or,R);function Tr(A){const B=gr();ot(B,new or(B))}Dt.STAT_EVENT="statevent";function An(A,B){R.call(this,Dt.STAT_EVENT,A),this.stat=B}g(An,R);function Yt(A){const B=gr();ot(B,new An(B,A))}Dt.Ma="timingevent";function Mn(A,B){R.call(this,Dt.Ma,A),this.size=B}g(Mn,R);function Rn(A,B){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},B)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function it(A,B,Q,fe,Be,et){A.info(function(){if(A.g)if(et)for(var Pt="",Cr=et.split("&"),Kr=0;Kr<Cr.length;Kr++){var Pr=Cr[Kr].split("=");if(1<Pr.length){var vn=Pr[0];Pr=Pr[1];var On=vn.split("_");Pt=2<=On.length&&On[1]=="type"?Pt+(vn+"="+Pr+"&"):Pt+(vn+"=redacted&")}}else Pt=null;else Pt=et;return"XMLHTTP REQ ("+fe+") [attempt "+Be+"]: "+B+`
`+Q+`
`+Pt})}function ut(A,B,Q,fe,Be,et,Pt){A.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Be+"]: "+B+`
`+Q+`
`+et+" "+Pt})}function ee(A,B,Q,fe){A.info(function(){return"XMLHTTP TEXT ("+B+"): "+pe(A,Q)+(fe?" "+fe:"")})}function ve(A,B){A.info(function(){return"TIMEOUT: "+B})}Ce.prototype.info=function(){};function pe(A,B){if(!A.g)return B;if(!B)return null;try{var Q=JSON.parse(B);if(Q){for(A=0;A<Q.length;A++)if(Array.isArray(Q[A])){var fe=Q[A];if(!(2>fe.length)){var Be=fe[1];if(Array.isArray(Be)&&!(1>Be.length)){var et=Be[0];if(et!="noop"&&et!="stop"&&et!="close")for(var Pt=1;Pt<Be.length;Pt++)Be[Pt]=""}}}}return Ir(Q)}catch{return B}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function Ge(){}g(Ge,Re),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},we=new Ge;function tt(A,B,Q,fe){this.j=A,this.i=B,this.l=Q,this.R=fe||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}var Ye={},Ze={};function Tt(A,B,Q){A.L=1,A.v=ar(pt(B)),A.m=Q,A.P=!0,Mt(A,null)}function Mt(A,B){A.F=Date.now(),Bt(A),A.A=pt(A.v);var Q=A.A,fe=A.R;Array.isArray(fe)||(fe=[String(fe)]),wr(Q.i,"t",fe),A.C=0,Q=A.j.J,A.h=new Ke,A.g=re(A.j,Q?B:null,!A.m),0<A.O&&(A.M=new ct(h(A.Y,A,A.g),A.O)),B=A.U,Q=A.g,fe=A.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(Ht[0]=Be.toString()),Be=Ht);for(var et=0;et<Be.length;et++){var Pt=le(Q,Be[et],fe||B.handleEvent,!1,B.h||B);if(!Pt)break;B.g[Pt.key]=Pt}B=A.H?_(A.H):{},A.m?(A.u||(A.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,B)):(A.u="GET",A.g.ea(A.A,A.u,null,B)),Tr(),it(A.i,A.u,A.A,A.l,A.R,A.m)}tt.prototype.ca=function(A){A=A.target;const B=this.M;B&&Ua(A)==3?B.j():this.Y(A)},tt.prototype.Y=function(A){try{if(A==this.g)e:{const On=Ua(this.g);var B=this.g.Ba();const Jo=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||On!=4||B==7||(B==8||0>=Jo?Tr(3):Tr(2)),Vr(this);var Q=this.g.Z();this.X=Q;t:if(Vt(this)){var fe=Mh(this.g);A="";var Be=fe.length,et=Ua(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Hr(this);var Pt="";break t}this.h.i=new o.TextDecoder}for(B=0;B<Be;B++)this.h.h=!0,A+=this.h.i.decode(fe[B],{stream:!(et&&B==Be-1)});fe.length=0,this.h.g+=A,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=Q==200,ut(this.i,this.u,this.A,this.l,this.R,On,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Cr,Kr=this.g;if((Cr=Kr.g?Kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Cr)){var Pr=Cr;break t}}Pr=null}if(Q=Pr)ee(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,di(this,Q);else{this.o=!1,this.s=3,Yt(12),sn(this),Hr(this);break e}}if(this.P){Q=!0;let pi;for(;!this.J&&this.C<Pt.length;)if(pi=It(this,Pt),pi==Ze){On==4&&(this.s=4,Yt(14),Q=!1),ee(this.i,this.l,null,"[Incomplete Response]");break}else if(pi==Ye){this.s=4,Yt(15),ee(this.i,this.l,Pt,"[Invalid Chunk]"),Q=!1;break}else ee(this.i,this.l,pi,null),di(this,pi);if(Vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||Pt.length!=0||this.h.h||(this.s=1,Yt(16),Q=!1),this.o=this.o&&Q,!Q)ee(this.i,this.l,Pt,"[Invalid Chunked Response]"),sn(this),Hr(this);else if(0<Pt.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),Cu(vn),vn.M=!0,Yt(11))}}else ee(this.i,this.l,Pt,null),di(this,Pt);On==4&&sn(this),this.o&&!this.J&&(On==4?Ll(this.j,this):(this.o=!1,Bt(this)))}else Il(this.g),Q==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),sn(this),Hr(this)}}}catch{}finally{}};function Vt(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function It(A,B){var Q=A.C,fe=B.indexOf(`
`,Q);return fe==-1?Ze:(Q=Number(B.substring(Q,fe)),isNaN(Q)?Ye:(fe+=1,fe+Q>B.length?Ze:(B=B.slice(fe,fe+Q),A.C=fe+Q,B)))}tt.prototype.cancel=function(){this.J=!0,sn(this)};function Bt(A){A.S=Date.now()+A.I,dr(A,A.I)}function dr(A,B){if(A.B!=null)throw Error("WatchDog timer not null");A.B=Rn(h(A.ba,A),B)}function Vr(A){A.B&&(o.clearTimeout(A.B),A.B=null)}tt.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(ve(this.i,this.A),this.L!=2&&(Tr(),Yt(17)),sn(this),this.s=2,Hr(this)):dr(this,this.S-A)};function Hr(A){A.j.G==0||A.J||Ll(A.j,A)}function sn(A){Vr(A);var B=A.M;B&&typeof B.ma=="function"&&B.ma(),A.M=null,Rr(A.U),A.g&&(B=A.g,A.g=null,B.abort(),B.ma())}function di(A,B){try{var Q=A.j;if(Q.G!=0&&(Q.g==A||Ba(Q.h,A))){if(!A.K&&Ba(Q.h,A)&&Q.G==3){try{var fe=Q.Da.g.parse(B)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Be=fe;if(Be[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<A.F)Qo(Q),Tu(Q);else break e;bc(Q),Yt(18)}}else Q.za=Be[1],0<Q.za-Q.T&&37500>Be[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Rn(h(Q.Za,Q),6e3));if(1>=ss(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Oi(Q,11)}else if((A.K||Q.g==A)&&Qo(Q),!w(B))for(Be=Q.Da.g.parse(B),B=0;B<Be.length;B++){let Pr=Be[B];if(Q.T=Pr[0],Pr=Pr[1],Q.G==2)if(Pr[0]=="c"){Q.K=Pr[1],Q.ia=Pr[2];const vn=Pr[3];vn!=null&&(Q.la=vn,Q.j.info("VER="+Q.la));const On=Pr[4];On!=null&&(Q.Aa=On,Q.j.info("SVER="+Q.Aa));const Jo=Pr[5];Jo!=null&&typeof Jo=="number"&&0<Jo&&(fe=1.5*Jo,Q.L=fe,Q.j.info("backChannelRequestTimeoutMs_="+fe)),fe=Q;const pi=A.g;if(pi){const Ml=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var et=fe.h;et.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Cn(et,et.h),et.h=null))}if(fe.D){const Rl=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(fe.ya=Rl,Et(fe.I,fe.D,Rl))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-A.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),fe=Q;var Pt=A;if(fe.qa=L(fe,fe.J?fe.ia:null,fe.W),Pt.K){hc(fe.h,Pt);var Cr=Pt,Kr=fe.L;Kr&&(Cr.I=Kr),Cr.B&&(Vr(Cr),Bt(Cr)),fe.g=Pt}else ku(fe);0<Q.i.length&&Eu(Q)}else Pr[0]!="stop"&&Pr[0]!="close"||Oi(Q,7);else Q.G==3&&(Pr[0]=="stop"||Pr[0]=="close"?Pr[0]=="stop"?Oi(Q,7):Xo(Q):Pr[0]!="noop"&&Q.l&&Q.l.ta(Pr),Q.v=0)}}Tr(4)}catch{}}var qs=class{constructor(A,B){this.g=A,this.map=B}};function is(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ji(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function ss(A){return A.h?1:A.g?A.g.size:0}function Ba(A,B){return A.h?A.h==B:A.g?A.g.has(B):!1}function Cn(A,B){A.g?A.g.add(B):A.h=B}function hc(A,B){A.h&&A.h==B?A.h=null:A.g&&A.g.has(B)&&A.g.delete(B)}is.prototype.cancel=function(){if(this.i=pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function pc(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let B=A.i;for(const Q of A.g.values())B=B.concat(Q.D);return B}return m(A.i)}function mc(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var B=[],Q=A.length,fe=0;fe<Q;fe++)B.push(A[fe]);return B}B=[],Q=0;for(fe in A)B[Q++]=A[fe];return B}function gc(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var B=[];A=A.length;for(var Q=0;Q<A;Q++)B.push(Q);return B}B=[],Q=0;for(const fe in A)B[Q++]=fe;return B}}}function ie(A,B){if(A.forEach&&typeof A.forEach=="function")A.forEach(B,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,B,void 0);else for(var Q=gc(A),fe=mc(A),Be=fe.length,et=0;et<Be;et++)B.call(void 0,fe[et],Q&&Q[et],A)}var Te=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function St(A,B){if(A){A=A.split("&");for(var Q=0;Q<A.length;Q++){var fe=A[Q].indexOf("="),Be=null;if(0<=fe){var et=A[Q].substring(0,fe);Be=A[Q].substring(fe+1)}else et=A[Q];B(et,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}function $t(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof $t){this.h=A.h,dt(this,A.j),this.o=A.o,this.g=A.g,Ot(this,A.s),this.l=A.l;var B=A.i,Q=new os;Q.i=B.i,B.g&&(Q.g=new Map(B.g),Q.h=B.h),Rt(this,Q),this.m=A.m}else A&&(B=String(A).match(Te))?(this.h=!1,dt(this,B[1]||"",!0),this.o=Nr(B[2]||""),this.g=Nr(B[3]||"",!0),Ot(this,B[4]),this.l=Nr(B[5]||"",!0),Rt(this,B[6]||"",!0),this.m=Nr(B[7]||"")):(this.h=!1,this.i=new os(null,this.h))}$t.prototype.toString=function(){var A=[],B=this.j;B&&A.push(pr(B,Pn,!0),":");var Q=this.g;return(Q||B=="file")&&(A.push("//"),(B=this.o)&&A.push(pr(B,Pn,!0),"@"),A.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&A.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&A.push("/"),A.push(pr(Q,Q.charAt(0)=="/"?Tn:Gr,!0))),(Q=this.i.toString())&&A.push("?",Q),(Q=this.m)&&A.push("#",pr(Q,Wn)),A.join("")};function pt(A){return new $t(A)}function dt(A,B,Q){A.j=Q?Nr(B,!0):B,A.j&&(A.j=A.j.replace(/:$/,""))}function Ot(A,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);A.s=B}else A.s=null}function Rt(A,B,Q){B instanceof os?(A.i=B,Sm(A.i,A.h)):(Q||(B=pr(B,Za)),A.i=new os(B,A.h))}function Et(A,B,Q){A.i.set(B,Q)}function ar(A){return Et(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Nr(A,B){return A?B?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function pr(A,B,Q){return typeof A=="string"?(A=encodeURI(A).replace(B,Fn),Q&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function Fn(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Pn=/[#\/\?@]/g,Gr=/[#\?:]/g,Tn=/[#\?]/g,Za=/[#\?@]/g,Wn=/#/g;function os(A,B){this.h=this.g=null,this.i=A||null,this.j=!!B}function jn(A){A.g||(A.g=new Map,A.h=0,A.i&&St(A.i,function(B,Q){A.add(decodeURIComponent(B.replace(/\+/g," ")),Q)}))}e=os.prototype,e.add=function(A,B){jn(this),this.i=null,A=Ol(this,A);var Q=this.g.get(A);return Q||this.g.set(A,Q=[]),Q.push(B),this.h+=1,this};function xu(A,B){jn(A),B=Ol(A,B),A.g.has(B)&&(A.i=null,A.h-=A.g.get(B).length,A.g.delete(B))}function ad(A,B){return jn(A),B=Ol(A,B),A.g.has(B)}e.forEach=function(A,B){jn(this),this.g.forEach(function(Q,fe){Q.forEach(function(Be){A.call(B,Be,fe,this)},this)},this)},e.na=function(){jn(this);const A=Array.from(this.g.values()),B=Array.from(this.g.keys()),Q=[];for(let fe=0;fe<B.length;fe++){const Be=A[fe];for(let et=0;et<Be.length;et++)Q.push(B[fe])}return Q},e.V=function(A){jn(this);let B=[];if(typeof A=="string")ad(this,A)&&(B=B.concat(this.g.get(Ol(this,A))));else{A=Array.from(this.g.values());for(let Q=0;Q<A.length;Q++)B=B.concat(A[Q])}return B},e.set=function(A,B){return jn(this),this.i=null,A=Ol(this,A),ad(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[B]),this.h+=1,this},e.get=function(A,B){return A?(A=this.V(A),0<A.length?String(A[0]):B):B};function wr(A,B,Q){xu(A,B),0<Q.length&&(A.i=null,A.g.set(Ol(A,B),m(Q)),A.h+=Q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],B=Array.from(this.g.keys());for(var Q=0;Q<B.length;Q++){var fe=B[Q];const et=encodeURIComponent(String(fe)),Pt=this.V(fe);for(fe=0;fe<Pt.length;fe++){var Be=et;Pt[fe]!==""&&(Be+="="+encodeURIComponent(String(Pt[fe]))),A.push(Be)}}return this.i=A.join("&")};function Ol(A,B){return B=String(B),A.j&&(B=B.toLowerCase()),B}function Sm(A,B){B&&!A.j&&(jn(A),A.i=null,A.g.forEach(function(Q,fe){var Be=fe.toLowerCase();fe!=Be&&(xu(this,fe),wr(this,Be,Q))},A)),A.j=B}function po(A,B){const Q=new Ce;if(o.Image){const fe=new Image;fe.onload=p(Ws,Q,"TestLoadImage: loaded",!0,B,fe),fe.onerror=p(Ws,Q,"TestLoadImage: error",!1,B,fe),fe.onabort=p(Ws,Q,"TestLoadImage: abort",!1,B,fe),fe.ontimeout=p(Ws,Q,"TestLoadImage: timeout",!1,B,fe),o.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=A}else B(!1)}function Dh(A,B){const Q=new Ce,fe=new AbortController,Be=setTimeout(()=>{fe.abort(),Ws(Q,"TestPingServer: timeout",!1,B)},1e4);fetch(A,{signal:fe.signal}).then(et=>{clearTimeout(Be),et.ok?Ws(Q,"TestPingServer: ok",!0,B):Ws(Q,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Be),Ws(Q,"TestPingServer: error",!1,B)})}function Ws(A,B,Q,fe,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),fe(Q)}catch{}}function bu(){this.g=new Pe}function id(A,B,Q){const fe=Q||"";try{ie(A,function(Be,et){let Pt=Be;c(Be)&&(Pt=Ir(Be)),B.push(fe+et+"="+encodeURIComponent(Pt))})}catch(Be){throw B.push(fe+"type="+encodeURIComponent("_badmap")),Be}}function wu(A){this.l=A.Ub||null,this.j=A.eb||!1}g(wu,Re),wu.prototype.g=function(){return new _u(this.l,this.j)},wu.prototype.i=function(A){return function(){return A}}({});function _u(A,B){at.call(this),this.D=A,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(_u,at),e=_u.prototype,e.open=function(A,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=B,this.readyState=1,Hs(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(B.body=A),(this.D||o).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lh(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lh(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var B=A.value?A.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!A.done}))&&(this.response=this.responseText+=B)}A.done?Ko(this):Hs(this),this.readyState==3&&Lh(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,Ko(this))},e.Qa=function(A){this.g&&(this.response=A,Ko(this))},e.ga=function(){this.g&&Ko(this)};function Ko(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Hs(A)}e.setRequestHeader=function(A,B){this.u.append(A,B)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],B=this.h.entries();for(var Q=B.next();!Q.done;)Q=Q.value,A.push(Q[0]+": "+Q[1]),Q=B.next();return A.join(`\r
`)};function Hs(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(_u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Yo(A){let B="";return P(A,function(Q,fe){B+=fe,B+=":",B+=Q,B+=`\r
`}),B}function sd(A,B,Q){e:{for(fe in Q){var fe=!1;break e}fe=!0}fe||(Q=Yo(Q),typeof A=="string"?Q!=null&&encodeURIComponent(String(Q)):Et(A,B,Q))}function gn(A){at.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(gn,at);var od=/^https?$/i,Su=["POST","PUT"];e=gn.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,B,Q,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);B=B?B.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?rt(this.o):rt(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(B,String(A),!0),this.B=!1}catch(et){ld(this,et);return}if(A=Q||"",Q=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Be in fe)Q.set(Be,fe[Be]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const et of fe.keys())Q.set(et,fe.get(et));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(Q.keys()).find(et=>et.toLowerCase()=="content-type"),Be=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Su,B,void 0))||fe||Be||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Pt]of Q)this.g.setRequestHeader(et,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(A),this.u=!1}catch(et){ld(this,et)}};function ld(A,B){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=B,A.m=5,cd(A),vc(A)}function cd(A){A.A||(A.A=!0,ot(A,"complete"),ot(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,ot(this,"complete"),ot(this,"abort"),vc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vc(this,!0)),gn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ud(this):this.bb())},e.bb=function(){ud(this)};function ud(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Ua(A)!=4||A.Z()!=2)){if(A.u&&Ua(A)==4)ht(A.Ea,0,A);else if(ot(A,"readystatechange"),Ua(A)==4){A.h=!1;try{const Pt=A.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var Q;if(!(Q=B)){var fe;if(fe=Pt===0){var Be=String(A.D).match(Te)[1]||null;!Be&&o.self&&o.self.location&&(Be=o.self.location.protocol.slice(0,-1)),fe=!od.test(Be?Be.toLowerCase():"")}Q=fe}if(Q)ot(A,"complete"),ot(A,"success");else{A.m=6;try{var et=2<Ua(A)?A.g.statusText:""}catch{et=""}A.l=et+" ["+A.Z()+"]",cd(A)}}finally{vc(A)}}}}function vc(A,B){if(A.g){Gs(A);const Q=A.g,fe=A.v[0]?()=>{}:null;A.g=null,A.v=null,B||ot(A,"ready");try{Q.onreadystatechange=fe}catch{}}}function Gs(A){A.I&&(o.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function Ua(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<Ua(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var B=this.g.responseText;return A&&B.indexOf(A)==0&&(B=B.substring(A.length)),Wr(B)}};function Mh(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Il(A){const B={};A=(A.g&&2<=Ua(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<A.length;fe++){if(w(A[fe]))continue;var Q=E(A[fe]);const Be=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const et=B[Be]||[];B[Be]=et,et.push(Q)}T(B,function(fe){return fe.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(A,B,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[A]||B}function Au(A){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hi("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hi("baseRetryDelayMs",5e3,A),this.cb=hi("retryDelaySeedMs",1e4,A),this.Wa=hi("forwardChannelMaxRetries",2,A),this.wa=hi("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new is(A&&A.concurrentRequestLimit),this.Da=new bu,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Au.prototype,e.la=8,e.G=1,e.connect=function(A,B,Q,fe){Yt(0),this.W=A,this.H=B||{},Q&&fe!==void 0&&(this.H.OSID=Q,this.H.OAID=fe),this.F=this.X,this.I=L(this,null,this.W),Eu(this)};function Xo(A){if(yc(A),A.G==3){var B=A.U++,Q=pt(A.I);if(Et(Q,"SID",A.K),Et(Q,"RID",B),Et(Q,"TYPE","terminate"),Dl(A,Q),B=new tt(A,A.j,B),B.L=2,B.v=ar(pt(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon(B.v.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=B.v,Q=!0),Q||(B.g=re(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Bt(B)}ju(A)}function Tu(A){A.g&&(Cu(A),A.g.cancel(),A.g=null)}function yc(A){Tu(A),A.u&&(o.clearTimeout(A.u),A.u=null),Qo(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function Eu(A){if(!ji(A.h)&&!A.s){A.s=!0;var B=A.Ga;H||te(),V||(H(),V=!0),q.add(B,A),A.B=0}}function fd(A,B){return ss(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=B.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=Rn(h(A.Ga,A,B),Pu(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Be=new tt(this,this.j,A);let et=this.o;if(this.S&&(et?(et=_(et),I(et,this.S)):et=this.S),this.m!==null||this.O||(Be.H=et,et=null),this.P)e:{for(var B=0,Q=0;Q<this.i.length;Q++){t:{var fe=this.i[Q];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(B+=fe,4096<B){B=Q;break e}if(B===4096||Q===this.i.length-1){B=Q+1;break e}}B=1e3}else B=1e3;B=xc(this,Be,B),Q=pt(this.I),Et(Q,"RID",A),Et(Q,"CVER",22),this.D&&Et(Q,"X-HTTP-Session-Id",this.D),Dl(this,Q),et&&(this.O?B="headers="+encodeURIComponent(String(Yo(et)))+"&"+B:this.m&&sd(Q,this.m,et)),Cn(this.h,Be),this.Ua&&Et(Q,"TYPE","init"),this.P?(Et(Q,"$req",B),Et(Q,"SID","null"),Be.T=!0,Tt(Be,Q,null)):Tt(Be,Q,B),this.G=2}}else this.G==3&&(A?Nu(this,A):this.i.length==0||ji(this.h)||Nu(this))};function Nu(A,B){var Q;B?Q=B.l:Q=A.U++;const fe=pt(A.I);Et(fe,"SID",A.K),Et(fe,"RID",Q),Et(fe,"AID",A.T),Dl(A,fe),A.m&&A.o&&sd(fe,A.m,A.o),Q=new tt(A,A.j,Q,A.B+1),A.m===null&&(Q.H=A.o),B&&(A.i=B.D.concat(A.i)),B=xc(A,Q,1e3),Q.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Cn(A.h,Q),Tt(Q,fe,B)}function Dl(A,B){A.H&&P(A.H,function(Q,fe){Et(B,fe,Q)}),A.l&&ie({},function(Q,fe){Et(B,fe,Q)})}function xc(A,B,Q){Q=Math.min(A.i.length,Q);var fe=A.l?h(A.l.Na,A.l,A):null;e:{var Be=A.i;let et=-1;for(;;){const Pt=["count="+Q];et==-1?0<Q?(et=Be[0].g,Pt.push("ofs="+et)):et=0:Pt.push("ofs="+et);let Cr=!0;for(let Kr=0;Kr<Q;Kr++){let Pr=Be[Kr].g;const vn=Be[Kr].map;if(Pr-=et,0>Pr)et=Math.max(0,Be[Kr].g-100),Cr=!1;else try{id(vn,Pt,"req"+Pr+"_")}catch{fe&&fe(vn)}}if(Cr){fe=Pt.join("&");break e}}}return A=A.i.splice(0,Q),B.D=A,fe}function ku(A){if(!A.g&&!A.u){A.Y=1;var B=A.Fa;H||te(),V||(H(),V=!0),q.add(B,A),A.v=0}}function bc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=Rn(h(A.Fa,A),Pu(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,Rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=Rn(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Tu(this),Rh(this))};function Cu(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function Rh(A){A.g=new tt(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var B=pt(A.qa);Et(B,"RID","rpc"),Et(B,"SID",A.K),Et(B,"AID",A.T),Et(B,"CI",A.F?"0":"1"),!A.F&&A.ja&&Et(B,"TO",A.ja),Et(B,"TYPE","xmlhttp"),Dl(A,B),A.m&&A.o&&sd(B,A.m,A.o),A.L&&(A.g.I=A.L);var Q=A.g;A=A.ia,Q.L=1,Q.v=ar(pt(B)),Q.m=null,Q.P=!0,Mt(Q,A)}e.Za=function(){this.C!=null&&(this.C=null,Tu(this),bc(this),Yt(19))};function Qo(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function Ll(A,B){var Q=null;if(A.g==B){Qo(A),Cu(A),A.g=null;var fe=2}else if(Ba(A.h,B))Q=B.D,hc(A.h,B),fe=1;else return;if(A.G!=0){if(B.o)if(fe==1){Q=B.m?B.m.length:0,B=Date.now()-B.F;var Be=A.B;fe=gr(),ot(fe,new Mn(fe,Q)),Eu(A)}else ku(A);else if(Be=B.s,Be==3||Be==0&&0<B.X||!(fe==1&&fd(A,B)||fe==2&&bc(A)))switch(Q&&0<Q.length&&(B=A.h,B.i=B.i.concat(Q)),Be){case 1:Oi(A,5);break;case 4:Oi(A,10);break;case 3:Oi(A,6);break;default:Oi(A,2)}}}function Pu(A,B){let Q=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(Q*=2),Q*B}function Oi(A,B){if(A.j.info("Error code "+B),B==2){var Q=h(A.fb,A),fe=A.Xa;const Be=!fe;fe=new $t(fe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||dt(fe,"https"),ar(fe),Be?po(fe.toString(),Q):Dh(fe.toString(),Q)}else Yt(2);A.G=0,A.l&&A.l.sa(B),ju(A),yc(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function ju(A){if(A.G=0,A.ka=[],A.l){const B=pc(A.h);(B.length!=0||A.i.length!=0)&&(v(A.ka,B),v(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function L(A,B,Q){var fe=Q instanceof $t?pt(Q):new $t(Q);if(fe.g!="")B&&(fe.g=B+"."+fe.g),Ot(fe,fe.s);else{var Be=o.location;fe=Be.protocol,B=B?B+"."+Be.hostname:Be.hostname,Be=+Be.port;var et=new $t(null);fe&&dt(et,fe),B&&(et.g=B),Be&&Ot(et,Be),Q&&(et.l=Q),fe=et}return Q=A.D,B=A.ya,Q&&B&&Et(fe,Q,B),Et(fe,"VER",A.la),Dl(A,fe),fe}function re(A,B,Q){if(B&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=A.Ca&&!A.pa?new gn(new wu({eb:Q})):new gn(A.pa),B.Ha(A.J),B}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}e=Ae.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function je(){}je.prototype.g=function(A,B){return new ze(A,B)};function ze(A,B){at.call(this),this.g=new Au(B),this.l=A,this.h=B&&B.messageUrlParams||null,A=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(A?A["X-WebChannel-Content-Type"]=B.messageContentType:A={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(A?A["X-WebChannel-Client-Profile"]=B.va:A={"X-WebChannel-Client-Profile":B.va}),this.g.S=A,(A=B&&B.Sb)&&!w(A)&&(this.g.m=A),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!w(B)&&(this.g.D=B,A=this.h,A!==null&&B in A&&(A=this.h,B in A&&delete A[B])),this.j=new Wt(this)}g(ze,at),ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ze.prototype.close=function(){Xo(this.g)},ze.prototype.o=function(A){var B=this.g;if(typeof A=="string"){var Q={};Q.__data__=A,A=Q}else this.u&&(Q={},Q.__data__=Ir(A),A=Q);B.i.push(new qs(B.Ya++,A)),B.G==3&&Eu(B)},ze.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,ze.aa.N.call(this)};function lt(A){Kt.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var B=A.__sm__;if(B){e:{for(const Q in B){A=Q;break e}A=void 0}(this.i=A)&&(A=this.i,B=B!==null&&A in B?B[A]:void 0),this.data=B}else this.data=A}g(lt,Kt);function Ct(){Ft.call(this),this.status=1}g(Ct,Ft);function Wt(A){this.g=A}g(Wt,Ae),Wt.prototype.ua=function(){ot(this.g,"a")},Wt.prototype.ta=function(A){ot(this.g,new lt(A))},Wt.prototype.sa=function(A){ot(this.g,new Ct)},Wt.prototype.ra=function(){ot(this.g,"b")},je.prototype.createWebChannel=je.prototype.g,ze.prototype.send=ze.prototype.o,ze.prototype.open=ze.prototype.m,ze.prototype.close=ze.prototype.close,I9=function(){return new je},O9=function(){return gr()},j9=Dt,U4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,r2=ge,ye.COMPLETE="complete",P9=ye,vt.EventType=Nt,Nt.OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",at.prototype.listen=at.prototype.K,hg=vt,gn.prototype.listenOnce=gn.prototype.L,gn.prototype.getLastError=gn.prototype.Ka,gn.prototype.getLastErrorCode=gn.prototype.Ba,gn.prototype.getStatus=gn.prototype.Z,gn.prototype.getResponseJson=gn.prototype.Oa,gn.prototype.getResponseText=gn.prototype.oa,gn.prototype.send=gn.prototype.ea,gn.prototype.setWithCredentials=gn.prototype.Ha,C9=gn}).apply(typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{});const Rj="@firebase/firestore",Fj="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new _9("@firebase/firestore");function o0(){return ih.logLevel}function Jt(e,...t){if(ih.logLevel<=tn.DEBUG){const r=t.map(SN);ih.debug(`Firestore (${Zp}): ${e}`,...r)}}function eu(e,...t){if(ih.logLevel<=tn.ERROR){const r=t.map(SN);ih.error(`Firestore (${Zp}): ${e}`,...r)}}function fp(e,...t){if(ih.logLevel<=tn.WARN){const r=t.map(SN);ih.warn(`Firestore (${Zp}): ${e}`,...r)}}function SN(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,D9(e,n,r)}function D9(e,t,r){let n=`FIRESTORE (${Zp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw eu(n),new Error(n)}function mn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||D9(t,a,n)}function Er(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xt extends Jp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(zi.UNAUTHENTICATED))}shutdown(){}}class Cte{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Pte{constructor(t){this.t=t,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){mn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Ql;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ql,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ql)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(mn(typeof n.accessToken=="string",31837,{l:n}),new L9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mn(t===null||typeof t=="string",2055,{h:t}),new zi(t)}}class jte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ote{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new jte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $j{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ite{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fte(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){mn(this.o===void 0,3512);const n=i=>{i.error!=null&&Jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $j(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(mn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new $j(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Dte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Ur(e,t){return e<t?-1:e>t?1:0}function V4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Ur(n,a);{const i=M9(),s=Lte(i.encode(Bj(e,r)),i.encode(Bj(t,r)));return s!==0?s:Ur(n,a)}}r+=n>65535?2:1}return Ur(e.length,t.length)}function Bj(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Lte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Ur(e[r],t[r]);return Ur(e.length,t.length)}function dp(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=-62135596800,Vj=1e6;class ir{static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*Vj);return new ir(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Uj)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vj}_compareTo(t){return this.seconds===t.seconds?Ur(this.nanoseconds,t.nanoseconds):Ur(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Uj;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static fromTimestamp(t){return new kr(t)}static min(){return new kr(new ir(0,0))}static max(){return new kr(new ir(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="__name__";class ql{constructor(t,r,n){r===void 0?r=0:r>t.length&&br(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&br(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return ql.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ql?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=ql.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Ur(t.length,r.length)}static compareSegments(t,r){const n=ql.isNumericId(t),a=ql.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?ql.extractNumericId(t).compare(ql.extractNumericId(r)):V4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Nf.fromString(t.substring(4,t.length-2))}}class Xn extends ql{construct(t,r,n){return new Xn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Xt(yt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Xn(r)}static emptyPath(){return new Xn([])}}const Mte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends ql{construct(t,r,n){return new Si(t,r,n)}static isValidIdentifier(t){return Mte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zj}static keyField(){return new Si([zj])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Xt(yt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Xt(yt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xt(yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Xt(yt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Si(r)}static emptyPath(){return new Si([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.path=t}static fromPath(t){return new fr(Xn.fromString(t))}static fromName(t){return new fr(Xn.fromString(t).popFirst(5))}static empty(){return new fr(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Xn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new fr(new Xn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=-1;function Rte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=kr.fromTimestamp(n===1e9?new ir(r+1,0):new ir(r,n));return new Lf(a,fr.empty(),t)}function Fte(e){return new Lf(e.readTime,e.key,kv)}class Lf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Lf(kr.min(),fr.empty(),kv)}static max(){return new Lf(kr.max(),fr.empty(),kv)}}function $te(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=fr.comparator(e.documentKey,t.documentKey),r!==0?r:Ur(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ute{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(e){if(e.code!==yt.FAILED_PRECONDITION||e.message!==Bte)throw e;Jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&br(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new At((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof At?r:At.resolve(r)}catch(r){return At.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):At.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):At.reject(r)}static resolve(t){return new At((r,n)=>{r(t)})}static reject(t){return new At((r,n)=>{n(t)})}static waitFor(t){return new At((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=At.resolve(!1);for(const n of t)r=r.next(a=>a?At.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new At((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new At((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function Vte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function tm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Jw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=-1;function Zw(e){return e==null}function Z2(e){return e===0&&1/e==-1/0}function zte(e){return typeof e=="number"&&Number.isInteger(e)&&!Z2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="";function qte(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=qj(t)),t=Wte(e.get(r),t);return qj(t)}function Wte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case F9:r+="";break;default:r+=i}}return r}function qj(e){return e+F9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Yf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Hte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function $9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,r){this.comparator=t,this.root=r||wi.EMPTY}insert(t,r){return new la(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(t){return new la(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wi.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ix(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ix(this.root,t,this.comparator,!1)}getReverseIterator(){return new ix(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ix(this.root,t,this.comparator,!0)}}class ix{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wi{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??wi.RED,this.left=a??wi.EMPTY,this.right=i??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new wi(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return wi.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw br(43730,{key:this.key,value:this.value});if(this.right.isRed())throw br(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw br(27949);return t+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw br(57766)}get value(){throw br(16141)}get color(){throw br(16727)}get left(){throw br(29726)}get right(){throw br(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new wi(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.comparator=t,this.data=new la(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Hj(this.data.getIterator())}getIteratorFrom(t){return new Hj(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Xa(this.comparator);return r.data=t,r}}class Hj{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this.fields=t,t.sort(Si.comparator)}static empty(){return new io([])}unionWith(t){let r=new Xa(Si.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new io(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return dp(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new B9("Invalid base64 string: "+i):i}}(t);return new Pi(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Pi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ur(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const Gte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mf(e){if(mn(!!e,39018),typeof e=="string"){let t=0;const r=Gte.exec(e);if(mn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ba(e.seconds),nanos:ba(e.nanos)}}function ba(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Rf(e){return typeof e=="string"?Pi.fromBase64String(e):Pi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="server_timestamp",V9="__type__",z9="__previous_value__",q9="__local_write_time__";function TN(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[V9])===null||r===void 0?void 0:r.stringValue)===U9}function e5(e){const t=e.mapValue.fields[z9];return TN(t)?e5(t):t}function Cv(e){const t=Mf(e.mapValue.fields[q9].timestampValue);return new ir(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const eb="(default)";class Pv{constructor(t,r){this.projectId=t,this.database=r||eb}static empty(){return new Pv("","")}get isDefaultDatabase(){return this.database===eb}isEqual(t){return t instanceof Pv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="__type__",H9="__max__",sx={mapValue:{fields:{__type__:{stringValue:H9}}}},G9="__vector__",tb="value";function Ff(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?TN(e)?4:Xte(e)?9007199254740991:Yte(e)?10:11:br(28295,{value:e})}function ic(e,t){if(e===t)return!0;const r=Ff(e);if(r!==Ff(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cv(e).isEqual(Cv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Mf(a.timestampValue),o=Mf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return Rf(a.bytesValue).isEqual(Rf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return ba(a.geoPointValue.latitude)===ba(i.geoPointValue.latitude)&&ba(a.geoPointValue.longitude)===ba(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return ba(a.integerValue)===ba(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=ba(a.doubleValue),o=ba(i.doubleValue);return s===o?Z2(s)===Z2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return dp(e.arrayValue.values||[],t.arrayValue.values||[],ic);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(Wj(s)!==Wj(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ic(s[l],o[l])))return!1;return!0}(e,t);default:return br(52216,{left:e})}}function jv(e,t){return(e.values||[]).find(r=>ic(r,t))!==void 0}function hp(e,t){if(e===t)return 0;const r=Ff(e),n=Ff(t);if(r!==n)return Ur(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ur(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=ba(i.integerValue||i.doubleValue),l=ba(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Gj(e.timestampValue,t.timestampValue);case 4:return Gj(Cv(e),Cv(t));case 5:return V4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Rf(i),l=Rf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ur(o[c],l[c]);if(u!==0)return u}return Ur(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Ur(ba(i.latitude),ba(s.latitude));return o!==0?o:Ur(ba(i.longitude),ba(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Kj(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const d=i.fields||{},h=s.fields||{},p=(o=d[tb])===null||o===void 0?void 0:o.arrayValue,g=(l=h[tb])===null||l===void 0?void 0:l.arrayValue,m=Ur(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:Kj(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===sx.mapValue&&s===sx.mapValue)return 0;if(i===sx.mapValue)return 1;if(s===sx.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=V4(l[d],u[d]);if(h!==0)return h;const p=hp(o[l[d]],c[u[d]]);if(p!==0)return p}return Ur(l.length,u.length)}(e.mapValue,t.mapValue);default:throw br(23264,{Pe:r})}}function Gj(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ur(e,t);const r=Mf(e),n=Mf(t),a=Ur(r.seconds,n.seconds);return a!==0?a:Ur(r.nanos,n.nanos)}function Kj(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=hp(r[a],n[a]);if(i)return i}return Ur(r.length,n.length)}function pp(e){return z4(e)}function z4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Mf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Rf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return fr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=z4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${z4(r.fields[s])}`;return a+"}"}(e.mapValue):br(61005,{value:e})}function n2(e){switch(Ff(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=e5(e);return t?16+n2(t):16;case 5:return 2*e.stringValue.length;case 6:return Rf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+n2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Yf(n.fields,(i,s)=>{a+=i.length+n2(s)}),a}(e.mapValue);default:throw br(13486,{value:e})}}function Yj(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function q4(e){return!!e&&"integerValue"in e}function EN(e){return!!e&&"arrayValue"in e}function Xj(e){return!!e&&"nullValue"in e}function Qj(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function a2(e){return!!e&&"mapValue"in e}function Yte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[W9])===null||r===void 0?void 0:r.stringValue)===G9}function Dg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Dg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Dg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Xte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===H9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t){this.value=t}static empty(){return new Ds({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!a2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dg(r)}setAll(t){let r=Si.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Dg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());a2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ic(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];a2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Yf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Ds(Dg(this.value))}}function K9(e){const t=[];return Yf(e.fields,(r,n)=>{const a=new Si([r]);if(a2(n)){const i=K9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new io(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Hi(t,0,kr.min(),kr.min(),kr.min(),Ds.empty(),0)}static newFoundDocument(t,r,n,a){return new Hi(t,1,r,kr.min(),n,a,0)}static newNoDocument(t,r){return new Hi(t,2,r,kr.min(),kr.min(),Ds.empty(),0)}static newUnknownDocument(t,r){return new Hi(t,3,r,kr.min(),kr.min(),Ds.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(kr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,r){this.position=t,this.inclusive=r}}function Jj(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=fr.comparator(fr.fromName(s.referenceValue),r.key):n=hp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Zj(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!ic(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,r="asc"){this.field=t,this.dir=r}}function Qte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{}class Ra extends Y9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Zte(t,r,n):r==="array-contains"?new rre(t,n):r==="in"?new nre(t,n):r==="not-in"?new are(t,n):r==="array-contains-any"?new ire(t,n):new Ra(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new ere(t,n):new tre(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(hp(r,this.value)):r!==null&&Ff(this.value)===Ff(r)&&this.matchesComparison(hp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return br(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nl extends Y9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new Nl(t,r)}matches(t){return X9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function X9(e){return e.op==="and"}function Q9(e){return Jte(e)&&X9(e)}function Jte(e){for(const t of e.filters)if(t instanceof Nl)return!1;return!0}function W4(e){if(e instanceof Ra)return e.field.canonicalString()+e.op.toString()+pp(e.value);if(Q9(e))return e.filters.map(t=>W4(t)).join(",");{const t=e.filters.map(r=>W4(r)).join(",");return`${e.op}(${t})`}}function J9(e,t){return e instanceof Ra?function(n,a){return a instanceof Ra&&n.op===a.op&&n.field.isEqual(a.field)&&ic(n.value,a.value)}(e,t):e instanceof Nl?function(n,a){return a instanceof Nl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&J9(s,a.filters[o]),!0):!1}(e,t):void br(19439)}function Z9(e){return e instanceof Ra?function(r){return`${r.field.canonicalString()} ${r.op} ${pp(r.value)}`}(e):e instanceof Nl?function(r){return r.op.toString()+" {"+r.getFilters().map(Z9).join(" ,")+"}"}(e):"Filter"}class Zte extends Ra{constructor(t,r,n){super(t,r,n),this.key=fr.fromName(n.referenceValue)}matches(t){const r=fr.comparator(t.key,this.key);return this.matchesComparison(r)}}class ere extends Ra{constructor(t,r){super(t,"in",r),this.keys=eB("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class tre extends Ra{constructor(t,r){super(t,"not-in",r),this.keys=eB("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function eB(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>fr.fromName(n.referenceValue))}class rre extends Ra{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return EN(r)&&jv(r.arrayValue,this.value)}}class nre extends Ra{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&jv(this.value.arrayValue,r)}}class are extends Ra{constructor(t,r){super(t,"not-in",r)}matches(t){if(jv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!jv(this.value.arrayValue,r)}}class ire extends Ra{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!EN(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>jv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function eO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new sre(e,t,r,n,a,i,s)}function NN(e){const t=Er(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>W4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Zw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>pp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>pp(n)).join(",")),t.Ie=r}return t.Ie}function kN(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Qte(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!J9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zj(e.startAt,t.startAt)&&Zj(e.endAt,t.endAt)}function H4(e){return fr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ore(e,t,r,n,a,i,s,o){return new rm(e,t,r,n,a,i,s,o)}function t5(e){return new rm(e)}function tO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function tB(e){return e.collectionGroup!==null}function Lg(e){const t=Er(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Xa(Si.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Ov(i,n))}),r.has(Si.keyField().canonicalString())||t.Ee.push(new Ov(Si.keyField(),n))}return t.Ee}function Jl(e){const t=Er(e);return t.de||(t.de=rB(t,Lg(e))),t.de}function lre(e){const t=Er(e);return t.Ae||(t.Ae=rB(t,e.explicitOrderBy)),t.Ae}function rB(e,t){if(e.limitType==="F")return eO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Ov(a.field,i)});const r=e.endAt?new rb(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new rb(e.startAt.position,e.startAt.inclusive):null;return eO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function G4(e,t){const r=e.filters.concat([t]);return new rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function nb(e,t,r){return new rm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function r5(e,t){return kN(Jl(e),Jl(t))&&e.limitType===t.limitType}function nB(e){return`${NN(Jl(e))}|lt:${e.limitType}`}function l0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>Z9(a)).join(", ")}]`),Zw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>pp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>pp(a)).join(",")),`Target(${n})`}(Jl(e))}; limitType=${e.limitType})`}function n5(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):fr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Lg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=Jj(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Lg(n),a)||n.endAt&&!function(s,o,l){const c=Jj(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Lg(n),a))}(e,t)}function cre(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function aB(e){return(t,r)=>{let n=!1;for(const a of Lg(e)){const i=ure(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function ure(e,t,r){const n=e.field.isKeyField()?fr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?hp(l,c):br(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return br(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Yf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return $9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre=new la(fr.comparator);function tu(){return fre}const iB=new la(fr.comparator);function pg(...e){let t=iB;for(const r of e)t=t.insert(r.key,r);return t}function sB(e){let t=iB;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Dd(){return Mg()}function oB(){return Mg()}function Mg(){return new xh(e=>e.toString(),(e,t)=>e.isEqual(t))}const dre=new la(fr.comparator),hre=new Xa(fr.comparator);function Xr(...e){let t=hre;for(const r of e)t=t.add(r);return t}const pre=new Xa(Ur);function mre(){return pre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Z2(t)?"-0":t}}function lB(e){return{integerValue:""+e}}function gre(e,t){return zte(t)?lB(t):CN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this._=void 0}}function vre(e,t,r){return e instanceof Iv?function(a,i){const s={fields:{[V9]:{stringValue:U9},[q9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&TN(i)&&(i=e5(i)),i&&(s.fields[z9]=i),{mapValue:s}}(r,t):e instanceof Dv?uB(e,t):e instanceof Lv?fB(e,t):function(a,i){const s=cB(a,i),o=rO(s)+rO(a.Re);return q4(s)&&q4(a.Re)?lB(o):CN(a.serializer,o)}(e,t)}function yre(e,t,r){return e instanceof Dv?uB(e,t):e instanceof Lv?fB(e,t):r}function cB(e,t){return e instanceof ab?function(n){return q4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class Iv extends a5{}class Dv extends a5{constructor(t){super(),this.elements=t}}function uB(e,t){const r=dB(t);for(const n of e.elements)r.some(a=>ic(a,n))||r.push(n);return{arrayValue:{values:r}}}class Lv extends a5{constructor(t){super(),this.elements=t}}function fB(e,t){let r=dB(t);for(const n of e.elements)r=r.filter(a=>!ic(a,n));return{arrayValue:{values:r}}}class ab extends a5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function rO(e){return ba(e.integerValue||e.doubleValue)}function dB(e){return EN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(t,r){this.field=t,this.transform=r}}function bre(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Dv&&a instanceof Dv||n instanceof Lv&&a instanceof Lv?dp(n.elements,a.elements,ic):n instanceof ab&&a instanceof ab?ic(n.Re,a.Re):n instanceof Iv&&a instanceof Iv}(e.transform,t.transform)}class wre{constructor(t,r){this.version=t,this.transformResults=r}}class _s{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new _s}static exists(t){return new _s(void 0,t)}static updateTime(t){return new _s(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function i2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class i5{}function hB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new s5(e.key,_s.none()):new B1(e.key,e.data,_s.none());{const r=e.data,n=Ds.empty();let a=new Xa(Si.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Xf(e.key,n,new io(a.toArray()),_s.none())}}function _re(e,t,r){e instanceof B1?function(a,i,s){const o=a.value.clone(),l=aO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Xf?function(a,i,s){if(!i2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=aO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(pB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Rg(e,t,r,n){return e instanceof B1?function(i,s,o,l){if(!i2(i.precondition,s))return o;const c=i.value.clone(),u=iO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Xf?function(i,s,o,l){if(!i2(i.precondition,s))return o;const c=iO(i.fieldTransforms,l,s),u=s.data;return u.setAll(pB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(i,s,o){return i2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Sre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=cB(n.transform,a||null);i!=null&&(r===null&&(r=Ds.empty()),r.set(n.field,i))}return r||null}function nO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&dp(n,a,(i,s)=>bre(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class B1 extends i5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xf extends i5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function pB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function aO(e,t,r){const n=new Map;mn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,yre(s,o,r[a]))}return n}function iO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,vre(i,s,t))}return n}class s5 extends i5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Are extends i5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&_re(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Rg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Rg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=oB();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=hB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(kr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Xr())}isEqual(t){return this.batchId===t.batchId&&dp(this.mutations,t.mutations,(r,n)=>nO(r,n))&&dp(this.baseMutations,t.baseMutations,(r,n)=>nO(r,n))}}class PN{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){mn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return dre}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new PN(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pa,en;function Cre(e){switch(e){case yt.OK:return br(64938);case yt.CANCELLED:case yt.UNKNOWN:case yt.DEADLINE_EXCEEDED:case yt.RESOURCE_EXHAUSTED:case yt.INTERNAL:case yt.UNAVAILABLE:case yt.UNAUTHENTICATED:return!1;case yt.INVALID_ARGUMENT:case yt.NOT_FOUND:case yt.ALREADY_EXISTS:case yt.PERMISSION_DENIED:case yt.FAILED_PRECONDITION:case yt.ABORTED:case yt.OUT_OF_RANGE:case yt.UNIMPLEMENTED:case yt.DATA_LOSS:return!0;default:return br(15467,{code:e})}}function mB(e){if(e===void 0)return eu("GRPC error has no .code"),yt.UNKNOWN;switch(e){case Pa.OK:return yt.OK;case Pa.CANCELLED:return yt.CANCELLED;case Pa.UNKNOWN:return yt.UNKNOWN;case Pa.DEADLINE_EXCEEDED:return yt.DEADLINE_EXCEEDED;case Pa.RESOURCE_EXHAUSTED:return yt.RESOURCE_EXHAUSTED;case Pa.INTERNAL:return yt.INTERNAL;case Pa.UNAVAILABLE:return yt.UNAVAILABLE;case Pa.UNAUTHENTICATED:return yt.UNAUTHENTICATED;case Pa.INVALID_ARGUMENT:return yt.INVALID_ARGUMENT;case Pa.NOT_FOUND:return yt.NOT_FOUND;case Pa.ALREADY_EXISTS:return yt.ALREADY_EXISTS;case Pa.PERMISSION_DENIED:return yt.PERMISSION_DENIED;case Pa.FAILED_PRECONDITION:return yt.FAILED_PRECONDITION;case Pa.ABORTED:return yt.ABORTED;case Pa.OUT_OF_RANGE:return yt.OUT_OF_RANGE;case Pa.UNIMPLEMENTED:return yt.UNIMPLEMENTED;case Pa.DATA_LOSS:return yt.DATA_LOSS;default:return br(39323,{code:e})}}(en=Pa||(Pa={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre=new Nf([4294967295,4294967295],0);function sO(e){const t=M9().encode(e),r=new k9;return r.update(t),new Uint8Array(r.digest())}function oO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Nf([r,n],0),new Nf([a,i],0)]}class jN{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new mg(`Invalid padding: ${r}`);if(n<0)throw new mg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new mg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new mg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=Nf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(Nf.fromNumber(n)));return a.compare(Pre)===1&&(a=new Nf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=sO(t),[n,a]=oO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new jN(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=sO(t),[n,a]=oO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class mg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,U1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new o5(kr.min(),a,new la(Ur),tu(),Xr())}}class U1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new U1(n,r,Xr(),Xr(),Xr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class gB{constructor(t,r){this.targetId=t,this.Ce=r}}class vB{constructor(t,r,n=Pi.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class lO{constructor(){this.Fe=0,this.Me=cO(),this.xe=Pi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Xr(),r=Xr(),n=Xr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:br(38017,{changeType:i})}}),new U1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=cO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,mn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jre{constructor(t){this.ze=t,this.je=new Map,this.He=tu(),this.Je=ox(),this.Ye=ox(),this.Ze=new la(Ur)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:br(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(H4(i))if(n===0){const s=new fr(i.path);this.tt(r,s,Hi.newNoDocument(s,kr.min()))}else mn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=Rf(n).toUint8Array()}catch(l){if(l instanceof B9)return fp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new jN(s,a,i)}catch(l){return fp(l instanceof mg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&H4(o.target)){const l=new fr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Hi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Xr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new o5(t,r,this.Ze,this.He,n);return this.He=tu(),this.Je=ox(),this.Ye=ox(),this.Ze=new la(Ur),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new lO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Xa(Ur),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Xa(Ur),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Jt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new lO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function ox(){return new la(fr.comparator)}function cO(){return new la(fr.comparator)}const Ore={asc:"ASCENDING",desc:"DESCENDING"},Ire={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dre={and:"AND",or:"OR"};class Lre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function K4(e,t){return e.useProto3Json||Zw(t)?t:{value:t}}function ib(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mre(e,t){return ib(e,t.toTimestamp())}function Zl(e){return mn(!!e,49232),kr.fromTimestamp(function(r){const n=Mf(r);return new ir(n.seconds,n.nanos)}(e))}function ON(e,t){return Y4(e,t).canonicalString()}function Y4(e,t){const r=function(a){return new Xn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function xB(e){const t=Xn.fromString(e);return mn(TB(t),10190,{key:t.toString()}),t}function X4(e,t){return ON(e.databaseId,t.path)}function mS(e,t){const r=xB(t);if(r.get(1)!==e.databaseId.projectId)throw new Xt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Xt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new fr(wB(r))}function bB(e,t){return ON(e.databaseId,t)}function Rre(e){const t=xB(e);return t.length===4?Xn.emptyPath():wB(t)}function Q4(e){return new Xn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wB(e){return mn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function uO(e,t,r){return{name:X4(e,t),fields:r.value.mapValue.fields}}function Fre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:br(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(mn(u===void 0||typeof u=="string",58123),Pi.fromBase64String(u||"")):(mn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Pi.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?yt.UNKNOWN:mB(c.code);return new Xt(u,c.message||"")}(s);r=new vB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=mS(e,n.document.name),i=Zl(n.document.updateTime),s=n.document.createTime?Zl(n.document.createTime):kr.min(),o=new Ds({mapValue:{fields:n.document.fields}}),l=Hi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new s2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=mS(e,n.document),i=n.readTime?Zl(n.readTime):kr.min(),s=Hi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new s2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=mS(e,n.document),i=n.removedTargetIds||[];r=new s2([],i,a,null)}else{if(!("filter"in t))return br(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new kre(a,i),o=n.targetId;r=new gB(o,s)}}return r}function $re(e,t){let r;if(t instanceof B1)r={update:uO(e,t.key,t.value)};else if(t instanceof s5)r={delete:X4(e,t.key)};else if(t instanceof Xf)r={update:uO(e,t.key,t.data),updateMask:Kre(t.fieldMask)};else{if(!(t instanceof Are))return br(16599,{ft:t.type});r={verify:X4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Iv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Lv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ab)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw br(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:Mre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:br(27497)}(e,t.precondition)),r}function Bre(e,t){return e&&e.length>0?(mn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Zl(a.updateTime):Zl(i);return s.isEqual(kr.min())&&(s=Zl(i)),new wre(s,a.transformResults||[])}(r,t))):[]}function Ure(e,t){return{documents:[bB(e,t.path)]}}function _B(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=bB(e,a);const i=function(c){if(c.length!==0)return AB(Nl.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:tf(h.field),direction:Wre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=K4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function Vre(e,t,r,n){const{gt:a,parent:i}=_B(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:tf(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:tf(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function zre(e){let t=Rre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){mn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(d){const h=SB(d);return h instanceof Nl&&Q9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(h=>function(g){return new Ov(c0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,Zw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new rb(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new rb(p,h)}(r.endAt)),ore(t,a,s,i,o,"F",l,c)}function qre(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return br(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function SB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=c0(r.unaryFilter.field);return Ra.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=c0(r.unaryFilter.field);return Ra.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=c0(r.unaryFilter.field);return Ra.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=c0(r.unaryFilter.field);return Ra.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return br(61313);default:return br(60726)}}(e):e.fieldFilter!==void 0?function(r){return Ra.create(c0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return br(58110);default:return br(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Nl.create(r.compositeFilter.filters.map(n=>SB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return br(1026)}}(r.compositeFilter.op))}(e):br(30097,{filter:e})}function Wre(e){return Ore[e]}function Hre(e){return Ire[e]}function Gre(e){return Dre[e]}function tf(e){return{fieldPath:e.canonicalString()}}function c0(e){return Si.fromServerFormat(e.fieldPath)}function AB(e){return e instanceof Ra?function(r){if(r.op==="=="){if(Qj(r.value))return{unaryFilter:{field:tf(r.field),op:"IS_NAN"}};if(Xj(r.value))return{unaryFilter:{field:tf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Qj(r.value))return{unaryFilter:{field:tf(r.field),op:"IS_NOT_NAN"}};if(Xj(r.value))return{unaryFilter:{field:tf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tf(r.field),op:Hre(r.op),value:r.value}}}(e):e instanceof Nl?function(r){const n=r.getFilters().map(a=>AB(a));return n.length===1?n[0]:{compositeFilter:{op:Gre(r.op),filters:n}}}(e):br(54877,{filter:e})}function Kre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function TB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,r,n,a,i=kr.min(),s=kr.min(),o=Pi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new cf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(t){this.wt=t}}function Xre(e){const t=zre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?nb(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(){this.yn=new Jre}addToCollectionParentIndex(t,r){return this.yn.add(r),At.resolve()}getCollectionParents(t,r){return At.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return At.resolve()}deleteFieldIndex(t,r){return At.resolve()}deleteAllFieldIndexes(t){return At.resolve()}createTargetIndexes(t,r){return At.resolve()}getDocumentsMatchingTarget(t,r){return At.resolve(null)}getIndexType(t,r){return At.resolve(0)}getFieldIndexes(t,r){return At.resolve([])}getNextCollectionGroupToUpdate(t){return At.resolve(null)}getMinOffset(t,r){return At.resolve(Lf.min())}getMinOffsetFromCollectionGroup(t,r){return At.resolve(Lf.min())}updateCollectionGroup(t,r,n){return At.resolve()}updateIndexEntries(t,r){return At.resolve()}}class Jre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Xa(Xn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Xa(Xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EB=41943040;class Os{static withCacheSize(t){return new Os(t,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(EB,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new mp(0)}static ir(){return new mp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="LruGarbageCollector",Zre=1048576;function hO([e,t],[r,n]){const a=Ur(e,r);return a===0?Ur(t,n):a}class ene{constructor(t){this.cr=t,this.buffer=new Xa(hO),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();hO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class tne{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Jt(dO,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){tm(r)?Jt(dO,"Ignoring IndexedDB error during garbage collection: ",r):await em(r)}await this.Ir(3e5)})}}class rne{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return At.resolve(Jw.le);const n=new ene(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Jt("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(fO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fO):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,s=Date.now(),this.nthSequenceNumber(t,a))).next(d=>(n=d,o=Date.now(),this.removeTargets(t,n,r))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(c=Date.now(),o0()<=tn.DEBUG&&Jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:d})))}}function nne(e,t){return new rne(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(){this.changes=new xh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Hi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?At.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Rg(n.mutation,a,io.empty(),ir.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Xr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Xr()){const a=Dd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=pg();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Dd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Xr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=tu();const s=Mg(),o=function(){return Mg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof Xf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Rg(u.mutation,c,u.mutation.getFieldMask(),ir.now())):s.set(c.key,io.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var d;return o.set(c,new ine(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Mg();let a=new la((s,o)=>s-o),i=Xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||io.empty();u=o.applyToLocalView(c,u),n.set(l,u);const d=(a.get(o.batchId)||Xr()).add(l);a=a.insert(o.batchId,d)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=oB();u.forEach(h=>{if(!i.has(h)){const p=hB(r.get(h),n.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,d))}return At.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return fr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):tB(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):At.resolve(Dd());let o=kv,l=i;return s.next(c=>At.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(u)?At.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Xr())).next(u=>({batchId:o,changes:sB(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new fr(r)).next(n=>{let a=pg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=pg();return this.indexManager.getCollectionParents(t,i).next(o=>At.forEach(o,l=>{const c=function(d,h){return new rm(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Hi.newInvalidDocument(u)))});let o=pg();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Rg(u.mutation,c,io.empty(),ir.now()),n5(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return At.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Zl(a.createTime)}}(r)),At.resolve()}getNamedQuery(t,r){return At.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Xre(a.bundledQuery),readTime:Zl(a.readTime)}}(r)),At.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(){this.overlays=new la(fr.comparator),this.Or=new Map}getOverlay(t,r){return At.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Dd();return At.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),At.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),At.resolve()}getOverlaysForCollection(t,r,n){const a=Dd(),i=r.length+1,s=new fr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return At.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new la((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Dd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Dd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return At.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Ere(r,n));let i=this.Or.get(r);i===void 0&&(i=Xr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(t){return At.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,At.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Nr=new Xa(ri.Br),this.Lr=new Xa(ri.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new ri(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new ri(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new fr(new Xn([])),n=new ri(r,t),a=new ri(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new fr(new Xn([])),n=new ri(r,t),a=new ri(r,t+1);let i=Xr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new ri(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ri{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return fr.comparator(t.key,r.key)||Ur(t.Gr,r.Gr)}static kr(t,r){return Ur(t.Gr,r.Gr)||fr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Xa(ri.Br)}checkEmpty(t){return At.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Tre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new ri(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return At.resolve(s)}lookupMutationBatch(t,r){return At.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return At.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(this.mutationQueue.length===0?AN:this.Jn-1)}getAllMutationBatches(t){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ri(r,0),a=new ri(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),At.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Xa(Ur);return r.forEach(a=>{const i=new ri(a,0),s=new ri(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),At.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;fr.isDocumentKey(i)||(i=i.child(""));const s=new ri(new fr(i),0);let o=new Xa(Ur);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),At.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){mn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return At.forEach(r.mutations,a=>{const i=new ri(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new ri(r,0),a=this.zr.firstAfterOrEqual(n);return At.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,At.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(t){this.Zr=t,this.docs=function(){return new la(fr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return At.resolve(n?n.document.mutableCopy():Hi.newInvalidDocument(r))}getEntries(t,r){let n=tu();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Hi.newInvalidDocument(a))}),At.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=tu();const s=r.path,o=new fr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||$te(Fte(u),n)<=0||(a.has(u.key)||n5(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return At.resolve(i)}getAllFromCollectionGroup(t,r,n,a){br(9500)}Xr(t,r){return At.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new dne(this)}getSize(t){return At.resolve(this.size)}}class dne extends ane{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),At.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(t){this.persistence=t,this.ei=new xh(r=>NN(r),kN),this.lastRemoteSnapshotVersion=kr.min(),this.highestTargetId=0,this.ti=0,this.ni=new IN,this.targetCount=0,this.ri=mp.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),At.resolve()}getLastRemoteSnapshotVersion(t){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return At.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),At.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new mp(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,At.resolve()}updateTargetData(t,r){return this.ar(r),At.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,At.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),At.waitFor(i).next(()=>a)}getTargetCount(t){return At.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return At.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),At.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),At.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),At.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return At.resolve(n)}containsKey(t,r){return At.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(t,r){this.ii={},this.overlays={},this.si=new Jw(0),this.oi=!1,this.oi=!0,this._i=new cne,this.referenceDelegate=t(this),this.ai=new hne(this),this.indexManager=new Qre,this.remoteDocumentCache=function(a){return new fne(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Yre(r),this.ci=new one(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new lne,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new une(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Jt("MemoryPersistence","Starting transaction:",t);const a=new pne(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return At.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class pne extends Ute{constructor(t){super(),this.currentSequenceNumber=t}}class DN{constructor(t){this.persistence=t,this.Ti=new IN,this.Ii=null}static Ei(t){return new DN(t)}get di(){if(this.Ii)return this.Ii;throw br(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),At.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),At.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),At.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.di,n=>{const a=fr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,kr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return At.or([()=>At.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class sb{constructor(t,r){this.persistence=t,this.Ri=new xh(n=>qte(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=nne(this,r)}static Ei(t,r){return new sb(t,r)}li(){}hi(t){return At.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return At.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?At.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,kr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),At.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),At.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),At.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),At.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=n2(t.data.value)),r}gr(t,r,n){return At.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return At.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Xr(),a=Xr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new LN(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return lee()?8:Vte(see())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new mne;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(o0()<=tn.DEBUG&&Jt("QueryEngine","SDK will not create cache indexes for query:",l0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),At.resolve()):(o0()<=tn.DEBUG&&Jt("QueryEngine","Query:",l0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(o0()<=tn.DEBUG&&Jt("QueryEngine","The SDK decides to create cache indexes for query:",l0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jl(r))):At.resolve())}Rs(t,r){if(tO(r))return At.resolve(null);let n=Jl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=nb(r,null,"F"),n=Jl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Xr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,nb(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return tO(r)||a.isEqual(kr.min())?At.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?At.resolve(null):(o0()<=tn.DEBUG&&Jt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),l0(r)),this.ws(t,s,r,Rte(a,kv)).next(o=>o))})}ps(t,r){let n=new Xa(aB(t));return r.forEach((a,i)=>{n5(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return o0()<=tn.DEBUG&&Jt("QueryEngine","Using full collection scan to execute query:",l0(r)),this.As.getDocumentsMatchingQuery(t,r,Lf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="LocalStore",vne=3e8;class yne{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new la(Ur),this.Ds=new xh(i=>NN(i),kN),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sne(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function xne(e,t,r,n){return new yne(e,t,r,n)}async function kB(e,t){const r=Er(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Xr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function bne(e,t){const r=Er(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=At.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);mn(v!==null,48541),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Xr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function CB(e){const t=Er(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function wne(e,t){const r=Er(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,d)=>{const h=a.get(d);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,d).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Pi.EMPTY_BYTE_STRING,kr.min()).withLastLimboFreeSnapshotVersion(kr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(d,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=vne?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=tu(),c=Xr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(_ne(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(kr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(d=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return At.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function _ne(e,t,r){let n=Xr(),a=Xr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=tu();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(kr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Jt(MN,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function Sne(e,t){const r=Er(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=AN),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Ane(e,t){const r=Er(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,At.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new cf(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function J4(e,t,r){const n=Er(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!tm(s))throw s;Jt(MN,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function pO(e,t,r){const n=Er(e);let a=kr.min(),i=Xr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Er(l),h=d.Ds.get(u);return h!==void 0?At.resolve(d.Ss.get(h)):d.ai.getTargetData(c,u)}(n,s,Jl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:kr.min(),r?i:Xr())).next(o=>(Tne(n,cre(t),o),{documents:o,Ns:i})))}function Tne(e,t,r){let n=e.vs.get(t)||kr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class mO{constructor(){this.activeTargetIds=mre()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ene{constructor(){this.So=new mO,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new mO,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="ConnectivityMonitor";class vO{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Jt(gO,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Jt(gO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx=null;function Z4(){return lx===null?lx=function(){return 268435456+Math.round(2147483648*Math.random())}():lx++,"0x"+lx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="RestConnection",kne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cne{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===eb?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=Z4(),o=this.$o(t,r.toUriEncodedString());Jt(gS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=wN(c);return this.Ko(t,o,l,n,u).then(d=>(Jt(gS,`Received RPC '${t}' ${s}: `,d),d),d=>{throw fp(gS,`RPC '${t}' ${s} failed with error: `,d,"url: ",o,"request:",n),d})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=kne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class jne extends Cne{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=Z4();return new Promise((o,l)=>{const c=new C9;c.setWithCredentials(!0),c.listenOnce(P9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case r2.NO_ERROR:const d=c.getResponseJson();Jt(Li,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case r2.TIMEOUT:Jt(Li,`RPC '${t}' ${s} timed out`),l(new Xt(yt.DEADLINE_EXCEEDED,"Request time out"));break;case r2.HTTP_ERROR:const h=c.getStatus();if(Jt(Li,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(yt).indexOf(w)>=0?w:yt.UNKNOWN}(g.status);l(new Xt(m,g.message))}else l(new Xt(yt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Xt(yt.UNAVAILABLE,"Connection failed."));break;default:br(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Jt(Li,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Jt(Li,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=Z4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=I9(),o=O9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Jt(Li,`Creating RPC '${t}' stream ${a}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const g=new Pne({Go:v=>{p?Jt(Li,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Jt(Li,`Opening RPC '${t}' stream ${a} transport.`),d.open(),h=!0),Jt(Li,`RPC '${t}' stream ${a} sending:`,v),d.send(v))},zo:()=>d.close()}),m=(v,y,w)=>{v.listen(y,b=>{try{w(b)}catch(D){setTimeout(()=>{throw D},0)}})};return m(d,hg.EventType.OPEN,()=>{p||(Jt(Li,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(d,hg.EventType.CLOSE,()=>{p||(p=!0,Jt(Li,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(d,hg.EventType.ERROR,v=>{p||(p=!0,fp(Li,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Xt(yt.UNAVAILABLE,"The operation could not be completed")))}),m(d,hg.EventType.MESSAGE,v=>{var y;if(!p){const w=v.data[0];mn(!!w,16349);const b=w,D=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(D){Jt(Li,`RPC '${t}' stream ${a} received error:`,D);const O=D.status;let P=function(S){const I=Pa[S];if(I!==void 0)return mB(I)}(O),T=D.message;P===void 0&&(P=yt.INTERNAL,T="Unknown error status: "+O+" with message "+D.message),p=!0,g.r_(new Xt(P,T)),d.close()}else Jt(Li,`RPC '${t}' stream ${a} received:`,w),g.i_(w)}}),m(o,j9.STAT_EVENT,v=>{v.stat===U4.PROXY?Jt(Li,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===U4.NOPROXY&&Jt(Li,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function vS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(e){return new Lre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Jt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="PersistentStream";class jB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new PB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===yt.RESOURCE_EXHAUSTED?(eu(r.toString()),eu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Xt(yt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Jt(yO,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Jt(yO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class One extends jB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Fre(this.serializer,t),n=function(i){if(!("targetChange"in i))return kr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?kr.min():s.readTime?Zl(s.readTime):kr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=Q4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=H4(l)?{documents:Ure(i,l)}:{query:_B(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=yB(i,s.resumeToken);const c=K4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(kr.min())>0){o.readTime=ib(i,s.snapshotVersion.toTimestamp());const c=K4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=qre(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=Q4(this.serializer),r.removeTarget=t,this.F_(r)}}class Ine extends jB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return mn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,mn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){mn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=Bre(t.writeResults,t.commitTime),n=Zl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=Q4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>$re(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{}class Lne extends Dne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Xt(yt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,Y4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Xt(yt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,Y4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xt(yt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Mne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(eu(r),this.ea=!1):Jt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="RemoteStore";class Rne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{bh(this)&&(Jt(sh,"Restarting streams for network reachability change."),await async function(l){const c=Er(l);c.aa.add(4),await V1(c),c.la.set("Unknown"),c.aa.delete(4),await c5(c)}(this))})}),this.la=new Mne(n,a)}}async function c5(e){if(bh(e))for(const t of e.ua)await t(!0)}async function V1(e){for(const t of e.ua)await t(!1)}function OB(e,t){const r=Er(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),BN(r)?$N(r):nm(r).b_()&&FN(r,t))}function RN(e,t){const r=Er(e),n=nm(r);r._a.delete(t),n.b_()&&IB(r,t),r._a.size===0&&(n.b_()?n.v_():bh(r)&&r.la.set("Unknown"))}function FN(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}nm(e).U_(t)}function IB(e,t){e.ha.Ke(t),nm(e).K_(t)}function $N(e){e.ha=new jre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),nm(e).start(),e.la.ta()}function BN(e){return bh(e)&&!nm(e).w_()&&e._a.size>0}function bh(e){return Er(e).aa.size===0}function DB(e){e.ha=void 0}async function Fne(e){e.la.set("Online")}async function $ne(e){e._a.forEach((t,r)=>{FN(e,t)})}async function Bne(e,t){DB(e),BN(e)?(e.la.ia(t),$N(e)):e.la.set("Unknown")}async function Une(e,t,r){if(e.la.set("Online"),t instanceof vB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Jt(sh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ob(e,n)}else if(t instanceof s2?e.ha.Xe(t):t instanceof gB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(kr.min()))try{const n=await CB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Pi.EMPTY_BYTE_STRING,u.snapshotVersion)),IB(i,l);const d=new cf(u.target,l,c,u.sequenceNumber);FN(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Jt(sh,"Failed to raise snapshot:",n),await ob(e,n)}}async function ob(e,t,r){if(!tm(t))throw t;e.aa.add(1),await V1(e),e.la.set("Offline"),r||(r=()=>CB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Jt(sh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await c5(e)})}function LB(e,t){return t().catch(r=>ob(e,r,t))}async function u5(e){const t=Er(e),r=$f(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:AN;for(;Vne(t);)try{const a=await Sne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,zne(t,a)}catch(a){await ob(t,a)}MB(t)&&RB(t)}function Vne(e){return bh(e)&&e.oa.length<10}function zne(e,t){e.oa.push(t);const r=$f(e);r.b_()&&r.W_&&r.G_(t.mutations)}function MB(e){return bh(e)&&!$f(e).w_()&&e.oa.length>0}function RB(e){$f(e).start()}async function qne(e){$f(e).H_()}async function Wne(e){const t=$f(e);for(const r of e.oa)t.G_(r.mutations)}async function Hne(e,t,r){const n=e.oa.shift(),a=PN.from(n,t,r);await LB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await u5(e)}async function Gne(e,t){t&&$f(e).W_&&await async function(n,a){if(function(s){return Cre(s)&&s!==yt.ABORTED}(a.code)){const i=n.oa.shift();$f(n).D_(),await LB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await u5(n)}}(e,t),MB(e)&&RB(e)}async function xO(e,t){const r=Er(e);r.asyncQueue.verifyOperationInProgress(),Jt(sh,"RemoteStore received new credentials");const n=bh(r);r.aa.add(3),await V1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await c5(r)}async function Kne(e,t){const r=Er(e);t?(r.aa.delete(2),await c5(r)):t||(r.aa.add(2),await V1(r),r.la.set("Unknown"))}function nm(e){return e.Pa||(e.Pa=function(r,n,a){const i=Er(r);return i.Y_(),new One(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:Fne.bind(null,e),Jo:$ne.bind(null,e),Zo:Bne.bind(null,e),Q_:Une.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),BN(e)?$N(e):e.la.set("Unknown")):(await e.Pa.stop(),DB(e))})),e.Pa}function $f(e){return e.Ta||(e.Ta=function(r,n,a){const i=Er(r);return i.Y_(),new Ine(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:qne.bind(null,e),Zo:Gne.bind(null,e),z_:Wne.bind(null,e),j_:Hne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await u5(e)):(await e.Ta.stop(),e.oa.length>0&&(Jt(sh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new UN(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xt(yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VN(e,t){if(eu("AsyncQueue",`${t}: ${e}`),tm(e))return new Xt(yt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static emptySet(t){return new V0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||fr.comparator(r.key,n.key):(r,n)=>fr.comparator(r.key,n.key),this.keyedMap=pg(),this.sortedSet=new la(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof V0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new V0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Ia=new la(fr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):br(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class gp{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new gp(t,r,V0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&r5(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Xne{constructor(){this.queries=wO(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Er(r),i=a.queries;a.queries=wO(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Xt(yt.ABORTED,"Firestore shutting down"))}}function wO(){return new xh(e=>nB(e),r5)}async function zN(e,t){const r=Er(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Yne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=VN(s,`Initialization of query '${l0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&WN(r)}async function qN(e,t){const r=Er(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Qne(e,t){const r=Er(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&WN(r)}function Jne(e,t,r){const n=Er(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function WN(e){e.fa.forEach(t=>{t.next()})}var e3,_O;(_O=e3||(e3={})).ya="default",_O.Cache="cache";class HN{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new gp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=gp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==e3.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(t){this.key=t}}class $B{constructor(t){this.key=t}}class Zne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Xr(),this.mutatedKeys=Xr(),this.Ua=aB(t),this.Ka=new V0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new bO,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,d)=>{const h=a.get(u),p=n5(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,d)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return br(20277,{Vt:v})}};return m(p)-m(g)}(u.type,d.type)||this.Ua(u.doc,d.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new gp(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new bO,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Xr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new $B(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new FB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Xr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return gp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const GN="SyncEngine";class eae{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class tae{constructor(t){this.key=t,this.tu=!1}}class rae{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new xh(o=>nB(o),r5),this.iu=new Map,this.su=new Set,this.ou=new la(fr.comparator),this._u=new Map,this.au=new IN,this.uu={},this.cu=new Map,this.lu=mp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function nae(e,t,r=!0){const n=WB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await BB(n,t,r,!0),a}async function aae(e,t){const r=WB(e);await BB(r,t,!0,!1)}async function BB(e,t,r,n){const a=await Ane(e.localStore,Jl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await iae(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&OB(e.remoteStore,a),o}async function iae(e,t,r,n,a){e.Pu=(d,h,p)=>async function(m,v,y,w){let b=v.view.Ga(y);b.ys&&(b=await pO(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,b)));const D=w&&w.targetChanges.get(v.targetId),O=w&&w.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(b,m.isPrimaryClient,D,O);return AO(m,v.targetId,P.Ya),P.snapshot}(e,d,h,p);const i=await pO(e.localStore,t,!0),s=new Zne(t,i.Ns),o=s.Ga(i.documents),l=U1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);AO(e,r,c.Ya);const u=new eae(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function sae(e,t,r){const n=Er(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!r5(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await J4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&RN(n.remoteStore,a.targetId),t3(n,a.targetId)}).catch(em)):(t3(n,a.targetId),await J4(n.localStore,a.targetId,!0))}async function oae(e,t){const r=Er(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),RN(r.remoteStore,n.targetId))}async function lae(e,t,r){const n=mae(e);try{const a=await function(s,o){const l=Er(s),c=ir.now(),u=o.reduce((p,g)=>p.add(g.key),Xr());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=tu(),m=Xr();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const y=[];for(const w of o){const b=Sre(w,d.get(w.key).overlayedDocument);b!=null&&y.push(new Xf(w.key,b,K9(b.value.mapValue),_s.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:sB(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new la(Ur)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await z1(n,a.changes),await u5(n.remoteStore)}catch(a){const i=VN(a,"Failed to persist write");r.reject(i)}}async function UB(e,t){const r=Er(e);try{const n=await wne(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(mn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?mn(s.tu,14607):a.removedDocuments.size>0&&(mn(s.tu,42227),s.tu=!1))}),await z1(r,n,t)}catch(n){await em(n)}}function SO(e,t,r){const n=Er(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Er(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Ra)h.ga(o)&&(c=!0)}),c&&WN(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function cae(e,t,r){const n=Er(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new la(fr.comparator);s=s.insert(i,Hi.newNoDocument(i,kr.min()));const o=Xr().add(i),l=new o5(kr.min(),new Map,new la(Ur),s,o);await UB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),KN(n)}else await J4(n.localStore,t,!1).then(()=>t3(n,t,r)).catch(em)}async function uae(e,t){const r=Er(e),n=t.batch.batchId;try{const a=await bne(r.localStore,t);zB(r,n,null),VB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await z1(r,a)}catch(a){await em(a)}}async function fae(e,t,r){const n=Er(e);try{const a=await function(s,o){const l=Er(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(mn(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);zB(n,t,r),VB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await z1(n,a)}catch(a){await em(a)}}function VB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function zB(e,t,r){const n=Er(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function t3(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||qB(e,n)})}function qB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(RN(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),KN(e))}function AO(e,t,r){for(const n of r)n instanceof FB?(e.au.addReference(n.key,t),dae(e,n)):n instanceof $B?(Jt(GN,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||qB(e,n.key)):br(19791,{Iu:n})}function dae(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Jt(GN,"New document in limbo: "+r),e.su.add(n),KN(e))}function KN(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new fr(Xn.fromString(t)),n=e.lu.next();e._u.set(n,new tae(r)),e.ou=e.ou.insert(r,n),OB(e.remoteStore,new cf(Jl(t5(r.path)),n,"TargetPurposeLimboResolution",Jw.le))}}async function z1(e,t,r){const n=Er(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){a.push(c);const d=LN.Ps(l.targetId,c);i.push(d)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Er(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>At.forEach(c,h=>At.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>At.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!tm(d))throw d;Jt(MN,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function hae(e,t){const r=Er(e);if(!r.currentUser.isEqual(t)){Jt(GN,"User change. New user:",t.toKey());const n=await kB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Xt(yt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await z1(r,n.Ms)}}function pae(e,t){const r=Er(e),n=r._u.get(t);if(n&&n.tu)return Xr().add(n.key);{let a=Xr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function WB(e){const t=Er(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cae.bind(null,t),t.nu.Q_=Qne.bind(null,t.eventManager),t.nu.Tu=Jne.bind(null,t.eventManager),t}function mae(e){const t=Er(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uae.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fae.bind(null,t),t}class lb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=l5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return xne(this.persistence,new gne,t.initialUser,this.serializer)}Ru(t){return new NB(DN.Ei,this.serializer)}Au(t){return new Ene}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lb.provider={build:()=>new lb};class gae extends lb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){mn(this.persistence.referenceDelegate instanceof sb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new tne(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new NB(n=>sb.Ei(n,r),this.serializer)}}class r3{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>SO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=hae.bind(null,this.syncEngine),await Kne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Xne}()}createDatastore(t){const r=l5(t.databaseInfo.databaseId),n=function(i){return new jne(i)}(t.databaseInfo);return function(i,s,o,l){return new Lne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new Rne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>SO(this.syncEngine,r,0),function(){return vO.C()?new vO:new Nne}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const d=new rae(a,i,s,o,l,c);return u&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Er(a);Jt(sh,"RemoteStore shutting down."),i.aa.add(5),await V1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}r3.provider={build:()=>new r3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):eu("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="FirestoreClient";class vae{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=zi.UNAUTHENTICATED,this.clientId=R9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Jt(Bf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Jt(Bf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=VN(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function yS(e,t){e.asyncQueue.verifyOperationInProgress(),Jt(Bf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await kB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function TO(e,t){e.asyncQueue.verifyOperationInProgress();const r=await yae(e);Jt(Bf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>xO(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>xO(t.remoteStore,a)),e._onlineComponents=t}async function yae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Jt(Bf,"Using user provided OfflineComponentProvider");try{await yS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===yt.FAILED_PRECONDITION||a.code===yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;fp("Error using user provided cache. Falling back to memory cache: "+r),await yS(e,new lb)}}else Jt(Bf,"Using default OfflineComponentProvider"),await yS(e,new gae(void 0));return e._offlineComponents}async function XN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Jt(Bf,"Using user provided OnlineComponentProvider"),await TO(e,e._uninitializedComponentsProvider._online)):(Jt(Bf,"Using default OnlineComponentProvider"),await TO(e,new r3))),e._onlineComponents}function xae(e){return XN(e).then(t=>t.syncEngine)}function bae(e){return XN(e).then(t=>t.datastore)}async function cb(e){const t=await XN(e),r=t.eventManager;return r.onListen=nae.bind(null,t.syncEngine),r.onUnlisten=sae.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=aae.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=oae.bind(null,t.syncEngine),r}function wae(e,t,r={}){const n=new Ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new YN({next:h=>{u.yu(),s.enqueueAndForget(()=>qN(i,d));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Xt(yt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Xt(yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new HN(t5(o.path),u,{includeMetadataChanges:!0,Fa:!0});return zN(i,d)}(await cb(e),e.asyncQueue,t,r,n)),n.promise}function _ae(e,t,r={}){const n=new Ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new YN({next:h=>{u.yu(),s.enqueueAndForget(()=>qN(i,d)),h.fromCache&&l.source==="server"?c.reject(new Xt(yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new HN(o,u,{includeMetadataChanges:!0,Fa:!0});return zN(i,d)}(await cb(e),e.asyncQueue,t,r,n)),n.promise}function Sae(e,t,r){const n=new Ql;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await bae(e);n.resolve(async function(s,o,l){var c;const u=Er(s),{request:d,yt:h,parent:p}=Vre(u.serializer,lre(o),l);u.connection.Bo||delete d.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,d,1)).filter(v=>!!v.result);mn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(e,t,r){if(!r)throw new Xt(yt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Aae(e,t,r,n){if(t===!0&&n===!0)throw new Xt(yt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function NO(e){if(!fr.isDocumentKey(e))throw new Xt(yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function kO(e){if(fr.isDocumentKey(e))throw new Xt(yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function f5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":br(12329,{type:typeof e})}function Ji(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xt(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=f5(e);throw new Xt(yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Tae(e,t){if(t<=0)throw new Xt(yt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="firestore.googleapis.com",CO=!0;class PO{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Xt(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KB,this.ssl=CO}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:CO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=EB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Zre)throw new Xt(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Aae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Xt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Xt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Xt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class d5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xt(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Xt(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new kte;switch(n.type){case"firstParty":return new Ote(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Xt(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,b9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=EO.get(r);n&&(Jt("ComponentProvider","Removing Datastore"),EO.delete(r),n.terminate())}(this),Promise.resolve()}}function Eae(e,t,r,n={}){var a;e=Ji(e,d5);const i=wN(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==KB&&s.host!==l&&fp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!X2(c,o)&&(e._setSettings(c),i&&(ree(`https://${l}`),b9("Firestore",!0)),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=zi.MOCK_USER;else{u=nee(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Xt(yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new zi(h)}e._authCredentials=new Cte(new L9(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new pu(this.firestore,t,this._query)}}class Zi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zi(this.firestore,t,this._key)}}class kf extends pu{constructor(t,r,n){super(t,r,t5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zi(this.firestore,null,new fr(t))}withConverter(t){return new kf(this.firestore,t,this._path)}}function wt(e,t,...r){if(e=Vo(e),GB("collection","path",t),e instanceof d5){const n=Xn.fromString(t,...r);return kO(n),new kf(e,null,n)}{if(!(e instanceof Zi||e instanceof kf))throw new Xt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xn.fromString(t,...r));return kO(n),new kf(e.firestore,null,n)}}function Sr(e,t,...r){if(e=Vo(e),arguments.length===1&&(t=R9.newId()),GB("doc","path",t),e instanceof d5){const n=Xn.fromString(t,...r);return NO(n),new Zi(e,null,new fr(n))}{if(!(e instanceof Zi||e instanceof kf))throw new Xt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xn.fromString(t,...r));return NO(n),new Zi(e.firestore,e instanceof kf?e.converter:null,new fr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="AsyncQueue";class OO{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new PB(this,"async_queue_retry"),this.ju=()=>{const n=vS();n&&Jt(jO,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=vS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=vS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Ql;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!tm(t))throw t;Jt(jO,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,eu("INTERNAL UNHANDLED ERROR: ",IO(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=UN.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&br(47125,{ec:IO(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function IO(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class kl extends d5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new OO,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OO(t),this._firestoreClient=void 0,await t}}}function Nae(e,t){const r=typeof e=="object"?e:mte(),n=typeof e=="string"?e:eb,a=ute(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=eee("firestore");i&&Eae(a,...i)}return a}function am(e){if(e._terminated)throw new Xt(yt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||kae(e),e._firestoreClient}function kae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Kte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,HB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new vae(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class Pae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vp(Pi.fromBase64String(t))}catch(r){throw new Xt(yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new vp(Pi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Xt(yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Xt(yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Xt(yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ur(this._lat,t._lat)||Ur(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae=/^__.*__$/;class Oae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Xf(t,this.data,this.fieldMask,r,this.fieldTransforms):new B1(t,this.data,r,this.fieldTransforms)}}class YB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Xf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function XB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw br(40011,{oc:e})}}class ZN{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new ZN(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return ub(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(XB(this.oc)&&jae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class Iae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||l5(t)}dc(t,r,n,a=!1){return new ZN({oc:t,methodName:r,Ec:n,path:Si.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W1(e){const t=e._freezeSettings(),r=l5(e._databaseId);return new Iae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function ek(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);rk("Data must be an object, but it was:",s,n);const o=ZB(n,s);let l,c;if(i.merge)l=new io(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=n3(t,d,r);if(!s.contains(h))throw new Xt(yt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tU(u,h)||u.push(h)}l=new io(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new Oae(new Ds(o),l,c)}class H1 extends h5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof H1}}class tk extends h5{_toFieldTransform(t){return new xre(t.path,new Iv)}isEqual(t){return t instanceof tk}}function QB(e,t,r,n){const a=e.dc(1,t,r);rk("Data must be an object, but it was:",a,n);const i=[],s=Ds.empty();Yf(n,(l,c)=>{const u=nk(t,l,r);c=Vo(c);const d=a.hc(u);if(c instanceof H1)i.push(u);else{const h=G1(c,d);h!=null&&(i.push(u),s.set(u,h))}});const o=new io(i);return new YB(s,o,a.fieldTransforms)}function JB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[n3(t,n,r)],l=[a];if(i.length%2!=0)throw new Xt(yt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(n3(t,i[h])),l.push(i[h+1]);const c=[],u=Ds.empty();for(let h=o.length-1;h>=0;--h)if(!tU(c,o[h])){const p=o[h];let g=l[h];g=Vo(g);const m=s.hc(p);if(g instanceof H1)c.push(p);else{const v=G1(g,m);v!=null&&(c.push(p),u.set(p,v))}}const d=new io(c);return new YB(u,d,s.fieldTransforms)}function Dae(e,t,r,n=!1){return G1(r,e.dc(n?4:3,t))}function G1(e,t){if(eU(e=Vo(e)))return rk("Unsupported field value:",t,e),ZB(e,t);if(e instanceof h5)return function(n,a){if(!XB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=G1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Vo(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return gre(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ir.fromDate(n);return{timestampValue:ib(a.serializer,i)}}if(n instanceof ir){const i=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ib(a.serializer,i)}}if(n instanceof QN)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vp)return{bytesValue:yB(a.serializer,n._byteString)};if(n instanceof Zi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ON(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof JN)return function(s,o){return{mapValue:{fields:{[W9]:{stringValue:G9},[tb]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return CN(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${f5(n)}`)}(e,t)}function ZB(e,t){const r={};return $9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yf(e,(n,a)=>{const i=G1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function eU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ir||e instanceof QN||e instanceof vp||e instanceof Zi||e instanceof h5||e instanceof JN)}function rk(e,t,r){if(!eU(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=f5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function n3(e,t,r){if((t=Vo(t))instanceof q1)return t._internalPath;if(typeof t=="string")return nk(e,t);throw ub("Field path arguments must be of type string or ",e,!1,void 0,r)}const Lae=new RegExp("[~\\*/\\[\\]]");function nk(e,t,r){if(t.search(Lae)>=0)throw ub(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new q1(...t.split("."))._internalPath}catch{throw ub(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function ub(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Xt(yt.INVALID_ARGUMENT,o+e+l)}function tU(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Mae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(p5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Mae extends rU{data(){return super.data()}}function p5(e,t){return typeof t=="string"?nk(e,t):t instanceof q1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Xt(yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ak{}class ik extends ak{}function lr(e,t,...r){let n=[];t instanceof ak&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof sk).length,o=i.filter(l=>l instanceof m5).length;if(s>1||s>0&&o>0)throw new Xt(yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class m5 extends ik{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new m5(t,r,n)}_apply(t){const r=this._parse(t);return aU(t._query,r),new pu(t.firestore,t.converter,G4(t._query,r))}_parse(t){const r=W1(t.firestore);return function(i,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Xt(yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){MO(d,u);const g=[];for(const m of d)g.push(LO(l,i,m));h={arrayValue:{values:g}}}else h=LO(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||MO(d,u),h=Dae(o,s,d,u==="in"||u==="not-in");return Ra.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function sr(e,t,r){const n=t,a=p5("where",e);return m5._create(a,n,r)}class sk extends ak{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new sk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Nl.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)aU(s,l),s=G4(s,l)}(t._query,r),new pu(t.firestore,t.converter,G4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ok extends ik{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new ok(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Xt(yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Xt(yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ov(i,s)}(t._query,this._field,this._direction);return new pu(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new rm(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Fa(e,t="asc"){const r=t,n=p5("orderBy",e);return ok._create(n,r)}class lk extends ik{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new lk(t,r,n)}_apply(t){return new pu(t.firestore,t.converter,nb(t._query,this._limit,this._limitType))}}function gg(e){return Tae("limit",e),lk._create("limit",e,"F")}function LO(e,t,r){if(typeof(r=Vo(r))=="string"){if(r==="")throw new Xt(yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tB(t)&&r.indexOf("/")!==-1)throw new Xt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Xn.fromString(r));if(!fr.isDocumentKey(n))throw new Xt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Yj(e,new fr(n))}if(r instanceof Zi)return Yj(e,r._key);throw new Xt(yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${f5(r)}.`)}function MO(e,t){if(!Array.isArray(e)||e.length===0)throw new Xt(yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aU(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Xt(yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Xt(yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Rae{convertValue(t,r="none"){switch(Ff(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ba(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Rf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw br(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Yf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[tb].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>ba(s.doubleValue));return new JN(i)}convertGeoPoint(t){return new QN(ba(t.latitude),ba(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=e5(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Cv(t));default:return null}}convertTimestamp(t){const r=Mf(t);return new ir(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Xn.fromString(t);mn(TB(n),9688,{name:t});const a=new Pv(n.get(1),n.get(3)),i=new fr(n.popFirst(5));return a.isEqual(r)||eu(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function Fae(){return new Cae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class iU extends rU{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new o2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(p5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class o2 extends iU{data(t={}){return super.data(t)}}class sU{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new vg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new o2(this._firestore,this._userDataWriter,n.key,n,new vg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Xt(yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new o2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new vg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new o2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new vg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:$ae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function $ae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return br(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(e){e=Ji(e,Zi);const t=Ji(e.firestore,kl);return wae(am(t),e._key).then(r=>oU(t,e,r))}class g5 extends Rae{constructor(t){super(),this.firestore=t}convertBytes(t){return new vp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Zi(this.firestore,null,r)}}function ur(e){e=Ji(e,pu);const t=Ji(e.firestore,kl),r=am(t),n=new g5(t);return nU(e._query),_ae(r,e._query).then(a=>new sU(t,n,e,a))}function cx(e,t,r){e=Ji(e,Zi);const n=Ji(e.firestore,kl),a=ck(e.converter,t,r);return K1(n,[ek(W1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,_s.none())])}function Vn(e,t,r,...n){e=Ji(e,Zi);const a=Ji(e.firestore,kl),i=W1(a);let s;return s=typeof(t=Vo(t))=="string"||t instanceof q1?JB(i,"updateDoc",e._key,t,r,n):QB(i,"updateDoc",e._key,t),K1(a,[s.toMutation(e._key,_s.exists(!0))])}function Ms(e){return K1(Ji(e.firestore,kl),[new s5(e._key,_s.none())])}function mr(e,t){const r=Ji(e.firestore,kl),n=Sr(e),a=ck(e.converter,t);return K1(r,[ek(W1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,_s.exists(!1))]).then(()=>n)}function Bae(e,...t){var r,n,a;e=Vo(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||DO(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(DO(t[s])){const d=t[s];t[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[s+2]=(a=d.complete)===null||a===void 0?void 0:a.bind(d)}let l,c,u;if(e instanceof Zi)c=Ji(e.firestore,kl),u=t5(e._key.path),l={next:d=>{t[s]&&t[s](oU(c,e,d))},error:t[s+1],complete:t[s+2]};else{const d=Ji(e,pu);c=Ji(d.firestore,kl),u=d._query;const h=new g5(c);l={next:p=>{t[s]&&t[s](new sU(c,h,d,p))},error:t[s+1],complete:t[s+2]},nU(e._query)}return function(h,p,g,m){const v=new YN(m),y=new HN(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>zN(await cb(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>qN(await cb(h),y))}}(am(c),u,o,l)}function K1(e,t){return function(n,a){const i=new Ql;return n.asyncQueue.enqueueAndForget(async()=>lae(await xae(n),a,i)),i.promise}(am(e),t)}function oU(e,t,r){const n=r.docs.get(t._key),a=new g5(e);return new iU(e,a,t._key,n,new vg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(e){return Uae(e,{count:Fae()})}function Uae(e,t){const r=Ji(e.firestore,kl),n=am(r),a=Hte(t,(i,s)=>new Nre(s,i.aggregateType,i._internalFieldPath));return Sae(n,e._query,a).then(i=>function(o,l,c){const u=new g5(o);return new Pae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=W1(t)}set(t,r,n){this._verifyNotCommitted();const a=xS(t,this._firestore),i=ck(a.converter,r,n),s=ek(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,_s.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=xS(t,this._firestore);let s;return s=typeof(r=Vo(r))=="string"||r instanceof q1?JB(this._dataReader,"WriteBatch.update",i._key,r,n,a):QB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,_s.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=xS(t,this._firestore);return this._mutations=this._mutations.concat(new s5(r._key,_s.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xt(yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xS(e,t){if((e=Vo(e)).firestore!==t)throw new Xt(yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return new H1("deleteField")}function uf(){return new tk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(e){return am(e=Ji(e,kl)),new Vae(e,t=>K1(e,t))}(function(t,r=!0){(function(a){Zp=a})(pte),J2(new Ev("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new kl(new Pte(n.getProvider("auth-internal")),new Ite(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Xt(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),U0(Rj,Fj,t),U0(Rj,Fj,"esm2017")})();const qae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Wae=T9(qae),Xe=Nae(Wae),lU=F.createContext(void 0),Ea=()=>{const e=F.useContext(lU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Hae=({children:e})=>{const[t,r]=F.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=F.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await ur(wt(Xe,"users"));for(const d of u.docs){const h=d.data();if(h.username===l&&h.password===c){const p={id:d.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await mr(wt(Xe,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),mr(wt(Xe,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return f.jsx(lU.Provider,{value:o,children:e})},cU=F.createContext(void 0),Gae=({children:e})=>{const[t,r]=F.useState(!0),n=()=>{r(!t)};return f.jsx(cU.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},an=()=>{const e=F.useContext(cU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},fk=F.createContext({});function Y1(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const dk=typeof window<"u",hk=dk?F.useLayoutEffect:F.useEffect,v5=F.createContext(null);function pk(e,t){e.indexOf(t)===-1&&e.push(t)}function y5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ru=(e,t,r)=>r>t?t:r<e?e:r;let fb=()=>{};const nu={},uU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fU(e){return typeof e=="object"&&e!==null}const dU=e=>/^0[^.\s]+$/u.test(e);function mk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mo=e=>e,Kae=(e,t)=>r=>t(e(r)),X1=(...e)=>e.reduce(Kae),yp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class gk{constructor(){this.subscriptions=[]}add(t){return pk(this.subscriptions,t),()=>y5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sl=e=>e*1e3,ec=e=>e/1e3;function hU(e,t){return t?e*(1e3/t):0}const Yae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},pU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Xae=1e-7,Qae=12;function Jae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=pU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Xae&&++o<Qae);return s}function Q1(e,t,r,n){if(e===t&&r===n)return Mo;const a=i=>Jae(i,0,1,e,r);return i=>i===0||i===1?i:pU(a(i),t,n)}const mU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gU=e=>t=>1-e(1-t),vU=Q1(.33,1.53,.69,.99),vk=gU(vU),yU=mU(vk),xU=e=>(e*=2)<1?.5*vk(e):.5*(2-Math.pow(2,-10*(e-1))),yk=e=>1-Math.sin(Math.acos(e)),bU=gU(yk),wU=mU(yk),Zae=Q1(.42,0,1,1),eie=Q1(0,0,.58,1),_U=Q1(.42,0,.58,1),SU=e=>Array.isArray(e)&&typeof e[0]!="number";function AU(e,t){return SU(e)?e[Yae(0,e.length,t)]:e}const TU=e=>Array.isArray(e)&&typeof e[0]=="number",FO={linear:Mo,easeIn:Zae,easeInOut:_U,easeOut:eie,circIn:yk,circInOut:wU,circOut:bU,backIn:vk,backInOut:yU,backOut:vU,anticipate:xU},tie=e=>typeof e=="string",$O=e=>{if(TU(e)){fb(e.length===4);const[t,r,n,a]=e;return Q1(t,r,n,a)}else if(tie(e))return fb(FO[e]!==void 0),FO[e];return e},ux=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],BO={value:null,addProjectionMetrics:null};function rie(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){s.has(d)&&(u.schedule(d),e()),l++,d(o)}const u={schedule:(d,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&BO.value&&BO.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const nie=40;function EU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=ux.reduce((b,D)=>(b[D]=rie(i,t?D:void 0),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:g}=s,m=()=>{const b=nu.useManualTiming?a.timestamp:performance.now();r=!1,nu.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,nie),1)),a.timestamp=b,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:ux.reduce((b,D)=>{const O=s[D];return b[D]=(P,T=!1,_=!1)=>(r||v(),O.schedule(P,T,_)),b},{}),cancel:b=>{for(let D=0;D<ux.length;D++)s[ux[D]].cancel(b)},state:a,steps:s}}const{schedule:na,cancel:au,state:xi,steps:bS}=EU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mo,!0);let l2;function aie(){l2=void 0}const Rs={now:()=>(l2===void 0&&Rs.set(xi.isProcessing||nu.useManualTiming?xi.timestamp:performance.now()),l2),set:e=>{l2=e,queueMicrotask(aie)}},NU=e=>t=>typeof t=="string"&&t.startsWith(e),xk=NU("--"),iie=NU("var(--"),bk=e=>iie(e)?sie.test(e.split("/*")[0].trim()):!1,sie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,im={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mv={...im,transform:e=>ru(0,1,e)},fx={...im,default:1},Fg=e=>Math.round(e*1e5)/1e5,wk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oie(e){return e==null}const lie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_k=(e,t)=>r=>!!(typeof r=="string"&&lie.test(r)&&r.startsWith(e)||t&&!oie(r)&&Object.prototype.hasOwnProperty.call(r,t)),kU=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(wk);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},cie=e=>ru(0,255,e),wS={...im,transform:e=>Math.round(cie(e))},Ld={test:_k("rgb","red"),parse:kU("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+wS.transform(e)+", "+wS.transform(t)+", "+wS.transform(r)+", "+Fg(Mv.transform(n))+")"};function uie(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const a3={test:_k("#"),parse:uie,transform:Ld.transform},J1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ku=J1("deg"),tc=J1("%"),_r=J1("px"),fie=J1("vh"),die=J1("vw"),UO={...tc,parse:e=>tc.parse(e)/100,transform:e=>tc.transform(e*100)},T0={test:_k("hsl","hue"),parse:kU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+tc.transform(Fg(t))+", "+tc.transform(Fg(r))+", "+Fg(Mv.transform(n))+")"},Ui={test:e=>Ld.test(e)||a3.test(e)||T0.test(e),parse:e=>Ld.test(e)?Ld.parse(e):T0.test(e)?T0.parse(e):a3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ld.transform(e):T0.transform(e)},hie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pie(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(wk))==null?void 0:t.length)||0)+(((r=e.match(hie))==null?void 0:r.length)||0)>0}const CU="number",PU="color",mie="var",gie="var(",VO="${}",vie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(vie,l=>(Ui.test(l)?(n.color.push(i),a.push(PU),r.push(Ui.parse(l))):l.startsWith(gie)?(n.var.push(i),a.push(mie),r.push(l)):(n.number.push(i),a.push(CU),r.push(parseFloat(l))),++i,VO)).split(VO);return{values:r,split:o,indexes:n,types:a}}function jU(e){return Rv(e).values}function OU(e){const{split:t,types:r}=Rv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===CU?i+=Fg(a[s]):o===PU?i+=Ui.transform(a[s]):i+=a[s]}return i}}const yie=e=>typeof e=="number"?0:e;function xie(e){const t=jU(e);return OU(e)(t.map(yie))}const Uf={test:pie,parse:jU,createTransformer:OU,getAnimatableNone:xie};function _S(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function bie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=_S(l,o,e+1/3),i=_S(l,o,e),s=_S(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function db(e,t){return r=>r>0?t:e}const ta=(e,t,r)=>e+(t-e)*r,SS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},wie=[a3,Ld,T0],_ie=e=>wie.find(t=>t.test(e));function zO(e){const t=_ie(e);if(!t)return!1;let r=t.parse(e);return t===T0&&(r=bie(r)),r}const qO=(e,t)=>{const r=zO(e),n=zO(t);if(!r||!n)return db(e,t);const a={...r};return i=>(a.red=SS(r.red,n.red,i),a.green=SS(r.green,n.green,i),a.blue=SS(r.blue,n.blue,i),a.alpha=ta(r.alpha,n.alpha,i),Ld.transform(a))},i3=new Set(["none","hidden"]);function Sie(e,t){return i3.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Aie(e,t){return r=>ta(e,t,r)}function Sk(e){return typeof e=="number"?Aie:typeof e=="string"?bk(e)?db:Ui.test(e)?qO:Nie:Array.isArray(e)?IU:typeof e=="object"?Ui.test(e)?qO:Tie:db}function IU(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>Sk(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function Tie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Sk(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Eie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const Nie=(e,t)=>{const r=Uf.createTransformer(t),n=Rv(e),a=Rv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?i3.has(e)&&!a.values.length||i3.has(t)&&!n.values.length?Sie(e,t):X1(IU(Eie(n,a),a.values),r):db(e,t)};function DU(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ta(e,t,r):Sk(e)(e,t)}const kie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>na.update(t,r),stop:()=>au(t),now:()=>xi.isProcessing?xi.timestamp:Rs.now()}},LU=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},hb=2e4;function Ak(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<hb;)t+=r,n=e.next(t);return t>=hb?1/0:t}function MU(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(Ak(n),hb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:ec(a)}}const Cie=5;function RU(e,t,r){const n=Math.max(t-Cie,0);return hU(r-e(n),t-n)}const da={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},AS=.001;function Pie({duration:e=da.duration,bounce:t=da.bounce,velocity:r=da.velocity,mass:n=da.mass}){let a,i,s=1-t;s=ru(da.minDamping,da.maxDamping,s),e=ru(da.minDuration,da.maxDuration,ec(e)),s<1?(a=c=>{const u=c*s,d=u*e,h=u-r,p=s3(c,s),g=Math.exp(-d);return AS-h/p*g},i=c=>{const d=c*s*e,h=d*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-d),m=s3(Math.pow(c,2),s);return(-a(c)+AS>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),d=(c-r)*e+1;return-AS+u*d},i=c=>{const u=Math.exp(-c*e),d=(r-c)*(e*e);return u*d});const o=5/e,l=Oie(a,i,o);if(e=Sl(e),isNaN(l))return{stiffness:da.stiffness,damping:da.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const jie=12;function Oie(e,t,r){let n=r;for(let a=1;a<jie;a++)n=n-e(n)/t(n);return n}function s3(e,t){return e*Math.sqrt(1-t*t)}const Iie=["duration","bounce"],Die=["stiffness","damping","mass"];function WO(e,t){return t.some(r=>e[r]!==void 0)}function Lie(e){let t={velocity:da.velocity,stiffness:da.stiffness,damping:da.damping,mass:da.mass,isResolvedFromDuration:!1,...e};if(!WO(e,Die)&&WO(e,Iie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*ru(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:da.mass,stiffness:a,damping:i}}else{const r=Pie(e);t={...t,...r,mass:da.mass},t.isResolvedFromDuration=!0}return t}function Fv(e=da.visualDuration,t=da.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=Lie({...r,velocity:-ec(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=ec(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?da.restSpeed.granular:da.restSpeed.default),a||(a=w?da.restDelta.granular:da.restDelta.default);let b;if(m<1){const O=s3(y,m);b=P=>{const T=Math.exp(-m*y*P);return s-T*((g+m*y*v)/O*Math.sin(O*P)+v*Math.cos(O*P))}}else if(m===1)b=O=>s-Math.exp(-y*O)*(v+(g+y*v)*O);else{const O=y*Math.sqrt(m*m-1);b=P=>{const T=Math.exp(-m*y*P),_=Math.min(O*P,300);return s-T*((g+m*y*v)*Math.sinh(_)+O*v*Math.cosh(_))/O}}const D={calculatedDuration:p&&d||null,next:O=>{const P=b(O);if(p)o.done=O>=d;else{let T=O===0?g:0;m<1&&(T=O===0?Sl(g):RU(b,O,P));const _=Math.abs(T)<=n,S=Math.abs(s-P)<=a;o.done=_&&S}return o.value=o.done?s:P,o},toString:()=>{const O=Math.min(Ak(D),hb),P=LU(T=>D.next(O*T).value,O,30);return O+"ms "+P},toTransition:()=>{}};return D}Fv.applyToOptions=e=>{const t=MU(e,100,Fv);return e.ease=t.ease,e.duration=Sl(t.duration),e.type="keyframes",e};function o3({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},p=_=>o!==void 0&&_<o||l!==void 0&&_>l,g=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let m=r*t;const v=d+m,y=s===void 0?v:s(v);y!==v&&(m=y-d);const w=_=>-m*Math.exp(-_/n),b=_=>y+w(_),D=_=>{const S=w(_),I=b(_);h.done=Math.abs(S)<=c,h.value=h.done?y:I};let O,P;const T=_=>{p(h.value)&&(O=_,P=Fv({keyframes:[h.value,g(h.value)],velocity:RU(b,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:_=>{let S=!1;return!P&&O===void 0&&(S=!0,D(_),T(_)),O!==void 0&&_>=O?P.next(_-O):(!S&&D(_),h)}}}function Mie(e,t,r){const n=[],a=r||nu.mix||DU,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Mo:t;o=X1(l,o)}n.push(o)}return n}function FU(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(fb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Mie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=yp(e[d],e[d+1],u);return o[d](h)};return r?u=>c(ru(e[0],e[i-1],u)):c}function $U(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=yp(0,t,n);e.push(ta(r,1,a))}}function BU(e){const t=[0];return $U(t,e.length-1),t}function Rie(e,t){return e.map(r=>r*t)}function Fie(e,t){return e.map(()=>t||_U).splice(0,e.length-1)}function $g({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=SU(n)?n.map($O):$O(n),i={done:!1,value:t[0]},s=Rie(r&&r.length===t.length?r:BU(t),e),o=FU(s,t,{ease:Array.isArray(a)?a:Fie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const $ie=e=>e!==null;function Tk(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter($ie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Bie={decay:o3,inertia:o3,tween:$g,keyframes:$g,spring:Fv};function UU(e){typeof e.type=="string"&&(e.type=Bie[e.type])}class Ek{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Uie=e=>e/100;class Nk extends Ek{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==Rs.now()&&this.tick(Rs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;UU(t);const{type:r=$g,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||$g;l!==$g&&typeof o[0]!="number"&&(this.mixKeyframes=X1(Uie,DU(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Ak(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,D=n;if(d){const _=Math.min(this.currentTime,a)/o;let S=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&S--,S=Math.min(S,d+1),!!(S%2)&&(h==="reverse"?(I=1-I,p&&(I-=p/o)):h==="mirror"&&(D=s)),b=ru(0,1,I)*o}const O=w?{done:!1,value:u[0]}:D.next(b);i&&(O.value=i(O.value));let{done:P}=O;!w&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return T&&g!==o3&&(O.value=Tk(u,this.options,v,this.speed)),m&&m(O.value),T&&this.finish(),O}then(t,r){return this.finished.then(t,r)}get duration(){return ec(this.calculatedDuration)}get time(){return ec(this.currentTime)}set time(t){var r;t=Sl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ec(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=kie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Vie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Md=e=>e*180/Math.PI,l3=e=>{const t=Md(Math.atan2(e[1],e[0]));return c3(t)},zie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:l3,rotateZ:l3,skewX:e=>Md(Math.atan(e[1])),skewY:e=>Md(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c3=e=>(e=e%360,e<0&&(e+=360),e),HO=l3,GO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),KO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GO,scaleY:KO,scale:e=>(GO(e)+KO(e))/2,rotateX:e=>c3(Md(Math.atan2(e[6],e[5]))),rotateY:e=>c3(Md(Math.atan2(-e[2],e[0]))),rotateZ:HO,rotate:HO,skewX:e=>Md(Math.atan(e[4])),skewY:e=>Md(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function u3(e){return e.includes("scale")?1:0}function f3(e,t){if(!e||e==="none")return u3(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=qie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=zie,a=o}if(!a)return u3(t);const i=n[t],s=a[1].split(",").map(Hie);return typeof i=="function"?i(s):s[i]}const Wie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return f3(r,t)};function Hie(e){return parseFloat(e.trim())}const sm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],om=new Set(sm),YO=e=>e===im||e===_r,Gie=new Set(["x","y","z"]),Kie=sm.filter(e=>!Gie.has(e));function Yie(e){const t=[];return Kie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Wd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>f3(t,"x"),y:(e,{transform:t})=>f3(t,"y")};Wd.translateX=Wd.x;Wd.translateY=Wd.y;const Hd=new Set;let d3=!1,h3=!1,p3=!1;function VU(){if(h3){const e=Array.from(Hd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Yie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}h3=!1,d3=!1,Hd.forEach(e=>e.complete(p3)),Hd.clear()}function zU(){Hd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(h3=!0)})}function Xie(){p3=!0,zU(),VU(),p3=!1}class kk{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Hd.add(this),d3||(d3=!0,na.read(zU),na.resolveKeyframes(VU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Vie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hd.delete(this)}cancel(){this.state==="scheduled"&&(Hd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Qie=e=>e.startsWith("--");function Jie(e,t,r){Qie(t)?e.style.setProperty(t,r):e.style[t]=r}const Zie=mk(()=>window.ScrollTimeline!==void 0),ese={};function tse(e,t){const r=mk(e);return()=>ese[t]??r()}const qU=tse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,XO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yg([0,.65,.55,1]),circOut:yg([.55,0,1,.45]),backIn:yg([.31,.01,.66,-.59]),backOut:yg([.33,1.53,.69,.99])};function WU(e,t){if(e)return typeof e=="function"?qU()?LU(e,t):"ease-out":TU(e)?yg(e):Array.isArray(e)?e.map(r=>WU(r,t)||XO.easeOut):XO[e]}function rse(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const d=WU(o,a);Array.isArray(d)&&(u.easing=d);const h={delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Ck(e){return typeof e=="function"&&"applyToOptions"in e}function nse({type:e,...t}){return Ck(e)&&qU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ase extends Ek{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,fb(typeof t.type!="string");const c=nse(t);this.animation=rse(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Tk(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Jie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ec(Number(t))}get time(){return ec(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Sl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Zie()?(this.animation.timeline=t,Mo):r(this)}}const HU={anticipate:xU,backInOut:yU,circInOut:wU};function ise(e){return e in HU}function sse(e){typeof e.ease=="string"&&ise(e.ease)&&(e.ease=HU[e.ease])}const QO=10;class ose extends ase{constructor(t){sse(t),UU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Nk({...s,autoplay:!1}),l=Sl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-QO).value,o.sample(l).value,QO),o.stop()}}const JO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Uf.test(e)||e==="0")&&!e.startsWith("url("));function lse(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function cse(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=JO(a,t),o=JO(i,t);return!s||!o?!1:lse(e)||(r==="spring"||Ck(r))&&n}function Pk(e){return fU(e)&&"offsetHeight"in e}const use=new Set(["opacity","clipPath","filter","transform"]),fse=mk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dse(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!Pk((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return fse()&&r&&use.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const hse=40;class pse extends Ek{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Rs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||kk;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Rs.now(),cse(t,i,s,o)||((nu.instantAnimations||!l)&&(u==null||u(Tk(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>hse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&dse(h)?new ose({...h,element:h.motionValue.owner.current}):new Nk(h);p.finished.then(()=>this.notifyFinished()).catch(Mo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Xie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class mse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class gse extends mse{then(t,r){return this.finished.finally(t).then(()=>{})}}const vse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yse(e){const t=vse.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function GU(e,t,r=1){const[n,a]=yse(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return uU(s)?parseFloat(s):s}return bk(a)?GU(a,t,r+1):a}function jk(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const KU=new Set(["width","height","top","left","right","bottom",...sm]),xse={test:e=>e==="auto",parse:e=>e},YU=e=>t=>t.test(e),XU=[im,_r,tc,Ku,die,fie,xse],ZO=e=>XU.find(YU(e));function bse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dU(e):!0}const wse=new Set(["brightness","contrast","saturate","opacity"]);function _se(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(wk)||[];if(!n)return e;const a=r.replace(n,"");let i=wse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Sse=/\b([a-z-]*)\(.*?\)/gu,m3={...Uf,getAnimatableNone:e=>{const t=e.match(Sse);return t?t.map(_se).join(" "):e}},eI={...im,transform:Math.round},Ase={rotate:Ku,rotateX:Ku,rotateY:Ku,rotateZ:Ku,scale:fx,scaleX:fx,scaleY:fx,scaleZ:fx,skew:Ku,skewX:Ku,skewY:Ku,distance:_r,translateX:_r,translateY:_r,translateZ:_r,x:_r,y:_r,z:_r,perspective:_r,transformPerspective:_r,opacity:Mv,originX:UO,originY:UO,originZ:_r},Ok={borderWidth:_r,borderTopWidth:_r,borderRightWidth:_r,borderBottomWidth:_r,borderLeftWidth:_r,borderRadius:_r,radius:_r,borderTopLeftRadius:_r,borderTopRightRadius:_r,borderBottomRightRadius:_r,borderBottomLeftRadius:_r,width:_r,maxWidth:_r,height:_r,maxHeight:_r,top:_r,right:_r,bottom:_r,left:_r,padding:_r,paddingTop:_r,paddingRight:_r,paddingBottom:_r,paddingLeft:_r,margin:_r,marginTop:_r,marginRight:_r,marginBottom:_r,marginLeft:_r,backgroundPositionX:_r,backgroundPositionY:_r,...Ase,zIndex:eI,fillOpacity:Mv,strokeOpacity:Mv,numOctaves:eI},Tse={...Ok,color:Ui,backgroundColor:Ui,outlineColor:Ui,fill:Ui,stroke:Ui,borderColor:Ui,borderTopColor:Ui,borderRightColor:Ui,borderBottomColor:Ui,borderLeftColor:Ui,filter:m3,WebkitFilter:m3},QU=e=>Tse[e];function JU(e,t){let r=QU(e);return r!==m3&&(r=Uf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Ese=new Set(["auto","none","0"]);function Nse(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Ese.has(i)&&Rv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=JU(r,a)}class kse extends kk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),bk(c))){const u=GU(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!KU.has(n)||t.length!==2)return;const[a,i]=t,s=ZO(a),o=ZO(i);if(s!==o)if(YO(s)&&YO(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Wd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||bse(t[a]))&&n.push(a);n.length&&Nse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Wd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ZU(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const tI=30,Cse=e=>!isNaN(parseFloat(e)),Bg={current:void 0};class Pse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=Rs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Rs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Cse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new gk);const n=this.events[t].add(r);return t==="change"?()=>{n(),na.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Bg.current&&Bg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,tI);return hU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oh(e,t){return new Pse(e,t)}const eV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Ik,cancel:HBe}=EU(queueMicrotask,!1),ol={x:!1,y:!1};function tV(){return ol.x||ol.y}function jse(e){return e==="x"||e==="y"?ol[e]?null:(ol[e]=!0,()=>{ol[e]=!1}):ol.x||ol.y?null:(ol.x=ol.y=!0,()=>{ol.x=ol.y=!1})}function rV(e,t){const r=ZU(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function rI(e){return!(e.pointerType==="touch"||tV())}function Ose(e,t,r={}){const[n,a,i]=rV(e,r),s=o=>{if(!rI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=d=>{rI(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const nV=(e,t)=>t?e===t?!0:nV(e,t.parentElement):!1,Dk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ise=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dse(e){return Ise.has(e.tagName)||e.tabIndex!==-1}const c2=new WeakSet;function nI(e){return t=>{t.key==="Enter"&&e(t)}}function TS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Lse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=nI(()=>{if(c2.has(r))return;TS(r,"down");const a=nI(()=>{TS(r,"up")}),i=()=>TS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function aI(e){return Dk(e)&&!tV()}function Mse(e,t,r={}){const[n,a,i]=rV(e,r),s=o=>{const l=o.currentTarget;if(!aI(o))return;c2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),c2.has(l)&&c2.delete(l),aI(p)&&typeof c=="function"&&c(p,{success:g})},d=p=>{u(p,l===window||l===document||r.useGlobalTarget||nV(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Pk(o)&&(o.addEventListener("focus",c=>Lse(c,a)),!Dse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Lk(e){return fU(e)&&"ownerSVGElement"in e}function aV(e){return Lk(e)&&e.tagName==="svg"}function Rse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=FU(a,i,s);return t?o(n):o}const li=e=>!!(e&&e.getVelocity),Fse=[...XU,Ui,Uf],$se=e=>Fse.find(YU(e)),x5=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Bse extends F.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Pk(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Use({children:e,isPresent:t,anchorX:r}){const n=F.useId(),a=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=F.useContext(x5);return F.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:d}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),f.jsx(Bse,{isPresent:t,childRef:a,sizeRef:i,children:F.cloneElement(e,{ref:a})})}const Vse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=Y1(zse),c=F.useId();let u=!0,d=F.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(d={...d}),F.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),F.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=f.jsx(Use,{isPresent:r,anchorX:o,children:e})),f.jsx(v5.Provider,{value:d,children:e})};function zse(){return new Map}function iV(e=!0){const t=F.useContext(v5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=F.useId();F.useEffect(()=>{if(e)return a(i)},[e]);const s=F.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const dx=e=>e.key||"";function iI(e){const t=[];return F.Children.forEach(e,r=>{F.isValidElement(r)&&t.push(r)}),t}const u2=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=iV(s),u=F.useMemo(()=>iI(e),[e]),d=s&&!l?[]:u.map(dx),h=F.useRef(!0),p=F.useRef(u),g=Y1(()=>new Map),[m,v]=F.useState(u),[y,w]=F.useState(u);hk(()=>{h.current=!1,p.current=u;for(let O=0;O<y.length;O++){const P=dx(y[O]);d.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[y,d.length,d.join("-")]);const b=[];if(u!==m){let O=[...u];for(let P=0;P<y.length;P++){const T=y[P],_=dx(T);d.includes(_)||(O.splice(P,0,T),b.push(T))}return i==="wait"&&b.length&&(O=b),w(iI(O)),v(u),null}const{forceRender:D}=F.useContext(fk);return f.jsx(f.Fragment,{children:y.map(O=>{const P=dx(O),T=s&&!l?!1:u===y||d.includes(P),_=()=>{if(g.has(P))g.set(P,!0);else return;let S=!0;g.forEach(I=>{I||(S=!1)}),S&&(D==null||D(),w(p.current),s&&(c==null||c()),n&&n())};return f.jsx(Vse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:_,anchorX:o,children:O},P)})})},sV=F.createContext({strict:!1}),sI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xp={};for(const e in sI)xp[e]={isEnabled:t=>sI[e].some(r=>!!t[r])};function qse(e){for(const t in e)xp[t]={...xp[t],...e[t]}}const Wse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wse.has(e)}let oV=e=>!pb(e);function Hse(e){e&&(oV=t=>t.startsWith("on")?!pb(t):e(t))}try{Hse(require("@emotion/is-prop-valid").default)}catch{}function Gse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(oV(a)||r===!0&&pb(a)||!t&&!pb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Kse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const b5=F.createContext({});function w5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $v(e){return typeof e=="string"||Array.isArray(e)}const Mk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rk=["initial",...Mk];function _5(e){return w5(e.animate)||Rk.some(t=>$v(e[t]))}function lV(e){return!!(_5(e)||e.variants)}function Yse(e,t){if(_5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||$v(r)?r:void 0,animate:$v(n)?n:void 0}}return e.inherit!==!1?t:{}}function Xse(e){const{initial:t,animate:r}=Yse(e,F.useContext(b5));return F.useMemo(()=>({initial:t,animate:r}),[oI(t),oI(r)])}function oI(e){return Array.isArray(e)?e.join(" "):e}const Qse=Symbol.for("motionComponentSymbol");function E0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jse(e,t,r){return F.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):E0(r)&&(r.current=n))},[t])}const Fk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zse="framerAppearId",cV="data-"+Fk(Zse),uV=F.createContext({});function eoe(e,t,r,n,a){var m,v;const{visualElement:i}=F.useContext(b5),s=F.useContext(sV),o=F.useContext(v5),l=F.useContext(x5).reducedMotion,c=F.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=F.useContext(uV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&toe(c.current,r,a,d);const h=F.useRef(!1);F.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[cV],g=F.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return hk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Ik.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function toe(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:fV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&E0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function fV(e){if(e)return e.options.allowProjection!==!1?e.projection:fV(e.parent)}function roe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&qse(e);function i(o,l){let c;const u={...F.useContext(x5),...o,layoutId:noe(o)},{isStatic:d}=u,h=Xse(o),p=n(o,d);if(!d&&dk){aoe();const g=ioe(u);c=g.MeasureLayout,h.visualElement=eoe(a,p,u,t,g.ProjectionNode)}return f.jsxs(b5.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Jse(p,h.visualElement,l),p,d,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=F.forwardRef(i);return s[Qse]=a,s}function noe({layoutId:e}){const t=F.useContext(fk).id;return t&&e!==void 0?t+"-"+e:e}function aoe(e,t){F.useContext(sV).strict}function ioe(e){const{drag:t,layout:r}=xp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Bv={};function soe(e){for(const t in e)Bv[t]=e[t],xk(t)&&(Bv[t].isCSSVariable=!0)}function dV(e,{layout:t,layoutId:r}){return om.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Bv[e]||e==="opacity")}const ooe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},loe=sm.length;function coe(e,t,r){let n="",a=!0;for(let i=0;i<loe;i++){const s=sm[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=eV(o,Ok[s]);if(!l){a=!1;const u=ooe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function $k(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(om.has(l)){s=!0;continue}else if(xk(l)){a[l]=c;continue}else{const u=eV(c,Ok[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=coe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Bk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hV(e,t,r){for(const n in t)!li(t[n])&&!dV(n,r)&&(e[n]=t[n])}function uoe({transformTemplate:e},t){return F.useMemo(()=>{const r=Bk();return $k(r,t,e),Object.assign({},r.vars,r.style)},[t])}function foe(e,t){const r=e.style||{},n={};return hV(n,r,e),Object.assign(n,uoe(e,t)),n}function doe(e,t){const r={},n=foe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const hoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},poe={offset:"strokeDashoffset",array:"strokeDasharray"};function moe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?hoe:poe;e[i.offset]=_r.transform(-n);const s=_r.transform(t),o=_r.transform(r);e[i.array]=`${s} ${o}`}function pV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if($k(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),a!==void 0&&moe(d,a,i,s,!1)}const mV=()=>({...Bk(),attrs:{}}),gV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function goe(e,t,r,n){const a=F.useMemo(()=>{const i=mV();return pV(i,t,gV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};hV(i,e.style,e),a.style={...i,...a.style}}return a}const voe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uk(e){return typeof e!="string"||e.includes("-")?!1:!!(voe.indexOf(e)>-1||/[A-Z]/u.test(e))}function yoe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(Uk(r)?goe:doe)(n,i,s,r),c=Gse(n,typeof r=="string",e),u=r!==F.Fragment?{...c,...l,ref:a}:{},{children:d}=n,h=F.useMemo(()=>li(d)?d.get():d,[d]);return F.createElement(r,{...u,children:h})}}function lI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Vk(e,t,r,n){if(typeof t=="function"){const[a,i]=lI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=lI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function f2(e){return li(e)?e.get():e}function xoe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:boe(r,n,a,e),renderState:t()}}const vV=e=>(t,r)=>{const n=F.useContext(b5),a=F.useContext(v5),i=()=>xoe(e,t,n,a);return r?i():Y1(i)};function boe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=f2(i[h]);let{initial:s,animate:o}=e;const l=_5(e),c=lV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const d=u?o:s;if(d&&typeof d!="boolean"&&!w5(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const g=Vk(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let b=y[w];if(Array.isArray(b)){const D=u?b.length-1:0;b=b[D]}b!==null&&(a[w]=b)}for(const w in m)a[w]=m[w]}}}return a}function zk(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(li(n[s])||t.style&&li(t.style[s])||dV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const woe={useVisualState:vV({scrapeMotionValuesFromProps:zk,createRenderState:Bk})};function yV(e,t,r){const n=zk(e,t,r);for(const a in e)if(li(e[a])||li(t[a])){const i=sm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const _oe={useVisualState:vV({scrapeMotionValuesFromProps:yV,createRenderState:mV})};function Soe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...Uk(n)?_oe:woe,preloadedFeatures:e,useRender:yoe(a),createVisualElement:t,Component:n};return roe(s)}}function Uv(e,t,r){const n=e.getProps();return Vk(n,t,r!==void 0?r:n.custom,e)}const g3=e=>Array.isArray(e);function Aoe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,oh(r))}function Toe(e){return g3(e)?e[e.length-1]||0:e}function Eoe(e,t){const r=Uv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Toe(i[s]);Aoe(e,s,o)}}function Noe(e){return!!(li(e)&&e.add)}function v3(e,t){const r=e.getValue("willChange");if(Noe(r))return r.add(t);if(!r&&nu.WillChange){const n=new nu.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function xV(e){return e.props[cV]}const koe=e=>e!==null;function Coe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(koe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Poe={type:"spring",stiffness:500,damping:25,restSpeed:10},joe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ooe={type:"keyframes",duration:.8},Ioe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Doe=(e,{keyframes:t})=>t.length>2?Ooe:om.has(e)?e.startsWith("scale")?joe(t[1]):Poe:Ioe;function Loe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const qk=(e,t,r,n={},a,i)=>s=>{const o=jk(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Sl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Loe(o)||Object.assign(u,Doe(e,u)),u.duration&&(u.duration=Sl(u.duration)),u.repeatDelay&&(u.repeatDelay=Sl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(nu.instantAnimations||nu.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&t.get()!==void 0){const h=Coe(u.keyframes,o);if(h!==void 0){na.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Nk(u):new pse(u)};function Moe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Wk(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const d=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&Moe(c,u))continue;const p={delay:r,...jk(i||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=xV(e);if(y){const w=window.MotionHandoffAnimation(y,u,na);w!==null&&(p.startTime=w,m=!0)}}v3(e,u),d.start(qk(u,d,h,e.shouldReduceMotion&&KU.has(u)?{type:!1}:p,e,m));const v=d.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{na.update(()=>{s&&Eoe(e,s)})}),l}function y3(e,t,r={}){var l;const n=Uv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Wk(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return Roe(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Roe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Foe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(y3(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Foe(e,t){return e.sortNodePosition(t)}function $oe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>y3(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=y3(e,t,r);else{const a=typeof t=="function"?Uv(e,t,r.custom):t;n=Promise.all(Wk(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function bV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Boe=Rk.length;function wV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?wV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Boe;r++){const n=Rk[r],a=e.props[n];($v(a)||a===!1)&&(t[n]=a)}return t}const Uoe=[...Mk].reverse(),Voe=Mk.length;function zoe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>$oe(e,r,n)))}function qoe(e){let t=zoe(e),r=cI(),n=!0;const a=l=>(c,u)=>{var h;const d=Uv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=wV(e.parent)||{},d=[],h=new Set;let p={},g=1/0;for(let v=0;v<Voe;v++){const y=Uoe[v],w=r[y],b=c[y]!==void 0?c[y]:u[y],D=$v(b),O=y===l?w.isActive:null;O===!1&&(g=v);let P=b===u[y]&&b!==c[y]&&D;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...p},!w.isActive&&O===null||!b&&!w.prevProp||w5(b)||typeof b=="boolean")continue;const T=Woe(w.prevProp,b);let _=T||y===l&&w.isActive&&!P&&D||v>g&&D,S=!1;const I=Array.isArray(b)?b:[b];let E=I.reduce(a(y),{});O===!1&&(E={});const{prevResolvedValues:C={}}=w,N={...C,...E},U=H=>{_=!0,h.has(H)&&(S=!0,h.delete(H)),w.needsAnimating[H]=!0;const V=e.getValue(H);V&&(V.liveStyle=!1)};for(const H in N){const V=E[H],q=C[H];if(p.hasOwnProperty(H))continue;let te=!1;g3(V)&&g3(q)?te=!bV(V,q):te=V!==q,te?V!=null?U(H):h.add(H):V!==void 0&&h.has(H)?U(H):w.protectedKeys[H]=!0}w.prevProp=b,w.prevResolvedValues=E,w.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(P&&T)||S)&&d.push(...I.map(H=>({animation:H,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Uv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const w=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let m=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(d):Promise.resolve()}function o(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=cI(),n=!0}}}function Woe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bV(t,e):!1}function yd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cI(){return{animate:yd(!0),whileInView:yd(),whileHover:yd(),whileTap:yd(),whileDrag:yd(),whileFocus:yd(),exit:yd()}}class Qf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hoe extends Qf{constructor(t){super(t),t.animationState||(t.animationState=qoe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();w5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Goe=0;class Koe extends Qf{constructor(){super(...arguments),this.id=Goe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Yoe={animation:{Feature:Hoe},exit:{Feature:Koe}};function Vv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Z1(e){return{point:{x:e.pageX,y:e.pageY}}}const Xoe=e=>t=>Dk(t)&&e(t,Z1(t));function Ug(e,t,r,n){return Vv(e,t,Xoe(r),n)}function _V({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Qoe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Joe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const SV=1e-4,Zoe=1-SV,ele=1+SV,AV=.01,tle=0-AV,rle=0+AV;function ys(e){return e.max-e.min}function nle(e,t,r){return Math.abs(e-t)<=r}function uI(e,t,r,n=.5){e.origin=n,e.originPoint=ta(t.min,t.max,e.origin),e.scale=ys(r)/ys(t),e.translate=ta(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Zoe&&e.scale<=ele||isNaN(e.scale))&&(e.scale=1),(e.translate>=tle&&e.translate<=rle||isNaN(e.translate))&&(e.translate=0)}function Vg(e,t,r,n){uI(e.x,t.x,r.x,n?n.originX:void 0),uI(e.y,t.y,r.y,n?n.originY:void 0)}function fI(e,t,r){e.min=r.min+t.min,e.max=e.min+ys(t)}function ale(e,t,r){fI(e.x,t.x,r.x),fI(e.y,t.y,r.y)}function dI(e,t,r){e.min=t.min-r.min,e.max=e.min+ys(t)}function zg(e,t,r){dI(e.x,t.x,r.x),dI(e.y,t.y,r.y)}const hI=()=>({translate:0,scale:1,origin:0,originPoint:0}),N0=()=>({x:hI(),y:hI()}),pI=()=>({min:0,max:0}),ua=()=>({x:pI(),y:pI()});function Co(e){return[e("x"),e("y")]}function ES(e){return e===void 0||e===1}function x3({scale:e,scaleX:t,scaleY:r}){return!ES(e)||!ES(t)||!ES(r)}function Sd(e){return x3(e)||TV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function TV(e){return mI(e.x)||mI(e.y)}function mI(e){return e&&e!=="0%"}function mb(e,t,r){const n=e-r,a=t*n;return r+a}function gI(e,t,r,n,a){return a!==void 0&&(e=mb(e,a,n)),mb(e,r,n)+t}function b3(e,t=0,r=1,n,a){e.min=gI(e.min,t,r,n,a),e.max=gI(e.max,t,r,n,a)}function EV(e,{x:t,y:r}){b3(e.x,t.translate,t.scale,t.originPoint),b3(e.y,r.translate,r.scale,r.originPoint)}const vI=.999999999999,yI=1.0000000000001;function ile(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&C0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,EV(e,s)),n&&Sd(i.latestValues)&&C0(e,i.latestValues))}t.x<yI&&t.x>vI&&(t.x=1),t.y<yI&&t.y>vI&&(t.y=1)}function k0(e,t){e.min=e.min+t,e.max=e.max+t}function xI(e,t,r,n,a=.5){const i=ta(e.min,e.max,a);b3(e,t,r,i,n)}function C0(e,t){xI(e.x,t.x,t.scaleX,t.scale,t.originX),xI(e.y,t.y,t.scaleY,t.scale,t.originY)}function NV(e,t){return _V(Joe(e.getBoundingClientRect(),t))}function sle(e,t,r){const n=NV(e,r),{scroll:a}=t;return a&&(k0(n.x,a.offset.x),k0(n.y,a.offset.y)),n}const kV=({current:e})=>e?e.ownerDocument.defaultView:null,bI=(e,t)=>Math.abs(e-t);function ole(e,t){const r=bI(e.x,t.x),n=bI(e.y,t.y);return Math.sqrt(r**2+n**2)}class CV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=kS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=ole(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=d,{timestamp:m}=xi;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=NS(h,this.transformPagePoint),na.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=kS(d.type==="pointercancel"?this.lastMoveEventInfo:NS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),g&&g(d,v)},!Dk(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=Z1(t),o=NS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=xi;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,kS(o,this.history)),this.removeListeners=X1(Ug(this.contextWindow,"pointermove",this.handlePointerMove),Ug(this.contextWindow,"pointerup",this.handlePointerUp),Ug(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),au(this.updatePoint)}}function NS(e,t){return t?{point:t(e.point)}:e}function wI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kS({point:e},t){return{point:e,delta:wI(e,PV(t)),offset:wI(e,lle(t)),velocity:cle(t,.1)}}function lle(e){return e[0]}function PV(e){return e[e.length-1]}function cle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=PV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Sl(t)));)r--;if(!n)return{x:0,y:0};const i=ec(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ule(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ta(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ta(r,e,n.max):Math.min(e,r)),e}function _I(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function fle(e,{top:t,left:r,bottom:n,right:a}){return{x:_I(e.x,r,a),y:_I(e.y,t,n)}}function SI(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function dle(e,t){return{x:SI(e.x,t.x),y:SI(e.y,t.y)}}function hle(e,t){let r=.5;const n=ys(e),a=ys(t);return a>n?r=yp(t.min,t.max-n,e.min):n>a&&(r=yp(e.min,e.max-a,t.min)),ru(0,1,r)}function ple(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const w3=.35;function mle(e=w3){return e===!1?e=0:e===!0&&(e=w3),{x:AI(e,"left","right"),y:AI(e,"top","bottom")}}function AI(e,t,r){return{min:TI(e,t),max:TI(e,r)}}function TI(e,t){return typeof e=="number"?e:e[t]||0}const gle=new WeakMap;class vle{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ua(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Z1(u).point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Co(v=>{let y=this.getAxisMotionValue(v).get()||0;if(tc.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[v];b&&(y=ys(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&na.postRender(()=>g(u,d)),v3(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=yle(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},o=(u,d)=>this.stop(u,d),l=()=>Co(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new CV(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:kV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&na.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!hx(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=ule(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&E0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=fle(n.layoutBox,t):this.constraints=!1,this.elastic=mle(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Co(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ple(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!E0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=sle(n,a.root,this.visualElement.getTransformPagePoint());let s=dle(a.layout.layoutBox,i);if(r){const o=r(Qoe(s));this.hasMutatedConstraints=!!o,o&&(s=_V(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Co(u=>{if(!hx(u,r,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return v3(this.visualElement,t),n.start(qk(t,n,0,r,this.visualElement,!1))}stopAnimation(){Co(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Co(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Co(r=>{const{drag:n}=this.getProps();if(!hx(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-ta(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!E0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Co(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=hle({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Co(s=>{if(!hx(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(ta(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;gle.set(this.visualElement,this);const t=this.visualElement.current,r=Ug(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();E0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),na.read(n);const s=Vv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Co(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=w3,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function hx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function yle(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class xle extends Qf{constructor(t){super(t),this.removeGroupControls=Mo,this.removeListeners=Mo,this.controls=new vle(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mo}unmount(){this.removeGroupControls(),this.removeListeners()}}const EI=e=>(t,r)=>{e&&na.postRender(()=>e(t,r))};class ble extends Qf{constructor(){super(...arguments),this.removePointerDownListener=Mo}onPointerDown(t){this.session=new CV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:EI(t),onStart:EI(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&na.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Ug(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const d2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Hm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_r.test(e))e=parseFloat(e);else return e;const r=NI(e,t.target.x),n=NI(e,t.target.y);return`${r}% ${n}%`}},wle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Uf.parse(e);if(a.length>5)return n;const i=Uf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=ta(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class _le extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;soe(Sle),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),d2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||na.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ik.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jV(e){const[t,r]=iV(),n=F.useContext(fk);return f.jsx(_le,{...e,layoutGroup:n,switchLayoutGroup:F.useContext(uV),isPresent:t,safeToRemove:r})}const Sle={borderRadius:{...Hm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hm,borderTopRightRadius:Hm,borderBottomLeftRadius:Hm,borderBottomRightRadius:Hm,boxShadow:wle};function OV(e,t,r){const n=li(e)?e:oh(e);return n.start(qk("",n,t,r)),n.animation}const Ale=(e,t)=>e.depth-t.depth;class Tle{constructor(){this.children=[],this.isDirty=!1}add(t){pk(this.children,t),this.isDirty=!0}remove(t){y5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ale),this.isDirty=!1,this.children.forEach(t)}}function Ele(e,t){const r=Rs.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(au(n),e(i-t))};return na.setup(n,!0),()=>au(n)}const IV=["TopLeft","TopRight","BottomLeft","BottomRight"],Nle=IV.length,kI=e=>typeof e=="string"?parseFloat(e):e,CI=e=>typeof e=="number"||_r.test(e);function kle(e,t,r,n,a,i){a?(e.opacity=ta(0,r.opacity??1,Cle(n)),e.opacityExit=ta(t.opacity??1,0,Ple(n))):i&&(e.opacity=ta(t.opacity??1,r.opacity??1,n));for(let s=0;s<Nle;s++){const o=`border${IV[s]}Radius`;let l=PI(t,o),c=PI(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||CI(l)===CI(c)?(e[o]=Math.max(ta(kI(l),kI(c),n),0),(tc.test(c)||tc.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=ta(t.rotate||0,r.rotate||0,n))}function PI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Cle=DV(0,.5,bU),Ple=DV(.5,.95,Mo);function DV(e,t,r){return n=>n<e?0:n>t?1:r(yp(e,t,n))}function jI(e,t){e.min=t.min,e.max=t.max}function _o(e,t){jI(e.x,t.x),jI(e.y,t.y)}function OI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function II(e,t,r,n,a){return e-=t,e=mb(e,1/r,n),a!==void 0&&(e=mb(e,1/a,n)),e}function jle(e,t=0,r=1,n=.5,a,i=e,s=e){if(tc.test(t)&&(t=parseFloat(t),t=ta(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=ta(i.min,i.max,n);e===i&&(o-=t),e.min=II(e.min,t,r,o,a),e.max=II(e.max,t,r,o,a)}function DI(e,t,[r,n,a],i,s){jle(e,t[r],t[n],t[a],t.scale,i,s)}const Ole=["x","scaleX","originX"],Ile=["y","scaleY","originY"];function LI(e,t,r,n){DI(e.x,t,Ole,r?r.x:void 0,n?n.x:void 0),DI(e.y,t,Ile,r?r.y:void 0,n?n.y:void 0)}function MI(e){return e.translate===0&&e.scale===1}function LV(e){return MI(e.x)&&MI(e.y)}function RI(e,t){return e.min===t.min&&e.max===t.max}function Dle(e,t){return RI(e.x,t.x)&&RI(e.y,t.y)}function FI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function MV(e,t){return FI(e.x,t.x)&&FI(e.y,t.y)}function $I(e){return ys(e.x)/ys(e.y)}function BI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Lle{constructor(){this.members=[]}add(t){pk(this.members,t),t.scheduleRender()}remove(t){if(y5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const CS=["","X","Y","Z"],Rle={visibility:"hidden"},Fle=1e3;let $le=0;function PS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function RV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=xV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",na,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&RV(n)}function FV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=$le++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Vle),this.nodes.forEach(Gle),this.nodes.forEach(Kle),this.nodes.forEach(zle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tle)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Lk(s)&&!aV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Ele(d,250),d2.hasAnimatedSinceResize&&(d2.hasAnimatedSinceResize=!1,this.nodes.forEach(VI))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Zle,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!MV(this.targetLayout,p),w=!d&&h;if(this.options.layoutRoot||this.resumeFrom||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,w);const b={...jk(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else d||VI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),au(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UI);return}this.isUpdating||this.nodes.forEach(Wle),this.isUpdating=!1,this.nodes.forEach(Hle),this.nodes.forEach(Ble),this.nodes.forEach(Ule),this.clearAllSnapshots();const o=Rs.now();xi.delta=ru(0,1e3/60,o-xi.timestamp),xi.timestamp=o,xi.isProcessing=!0,bS.update.process(xi),bS.preRender.process(xi),bS.render.process(xi),xi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ik.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qle),this.sharedNodes.forEach(Xle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,na.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){na.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ua(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!LV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||Sd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),ece(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ua();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(tce))){const{scroll:u}=this.root;u&&(k0(o.x,u.offset.x),k0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ua();if(_o(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&_o(o,s),k0(o.x,d.offset.x),k0(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const l=ua();_o(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&C0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Sd(u.latestValues)&&C0(l,u.latestValues)}return Sd(this.latestValues)&&C0(l,this.latestValues),l}removeTransform(s){const o=ua();_o(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Sd(c.latestValues))continue;x3(c.latestValues)&&c.updateSnapshot();const u=ua(),d=c.measurePageBox();_o(u,d),LI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Sd(this.latestValues)&&LI(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=xi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ua(),this.relativeTargetOrigin=ua(),zg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),_o(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ua(),this.targetWithTransforms=ua()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ale(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_o(this.target,this.layout.layoutBox),EV(this.target,this.targetDelta)):_o(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ua(),this.relativeTargetOrigin=ua(),zg(this.relativeTargetOrigin,this.target,p.target),_o(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||x3(this.parent.latestValues)||TV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===xi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;_o(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;ile(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ua());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OI(this.prevProjectionDelta.x,this.projectionDelta.x),OI(this.prevProjectionDelta.y,this.projectionDelta.y)),Vg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!BI(this.projectionDelta.x,this.prevProjectionDelta.x)||!BI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=N0(),this.projectionDelta=N0(),this.projectionDeltaWithTransform=N0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=N0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ua(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Jle));this.animationProgress=0;let b;this.mixTargetDelta=D=>{const O=D/1e3;zI(d.x,s.x,O),zI(d.y,s.y,O),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qle(this.relativeTarget,this.relativeTargetOrigin,h,O),b&&Dle(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ua()),_o(b,this.relativeTarget)),m&&(this.animationValues=u,kle(u,c,this.latestValues,O,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(au(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=na.update(()=>{d2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oh(0)),this.currentAnimation=OV(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&$V(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ua();const d=ys(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=ys(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}_o(o,l),C0(o,u),Vg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Lle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&PS("z",s,c,this.animationValues);for(let u=0;u<CS.length;u++)PS(`rotate${CS[u]}`,s,c,this.animationValues),PS(`skew${CS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Rle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=f2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=f2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Sd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=Mle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Bv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Bv[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const w=m.length;for(let b=0;b<w;b++)o[m[b]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?f2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(UI),this.root.sharedNodes.clear()}}}function Ble(e){e.updateLayout()}function Ule(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Co(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ys(h);h.min=n[d].min,h.max=h.min+p}):$V(i,t.layoutBox,n)&&Co(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ys(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=N0();Vg(o,n,t.layoutBox);const l=N0();s?Vg(l,e.applyTransform(a,!0),t.measuredBox):Vg(l,n,t.layoutBox);const c=!LV(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=ua();zg(g,t.layoutBox,h.layoutBox);const m=ua();zg(m,n,p.layoutBox),MV(g,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Vle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qle(e){e.clearSnapshot()}function UI(e){e.clearMeasurements()}function Wle(e){e.isLayoutDirty=!1}function Hle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function VI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Gle(e){e.resolveTargetDelta()}function Kle(e){e.calcProjection()}function Yle(e){e.resetSkewAndRotation()}function Xle(e){e.removeLeadSnapshot()}function zI(e,t,r){e.translate=ta(t.translate,0,r),e.scale=ta(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function qI(e,t,r,n){e.min=ta(t.min,r.min,n),e.max=ta(t.max,r.max,n)}function Qle(e,t,r,n){qI(e.x,t.x,r.x,n),qI(e.y,t.y,r.y,n)}function Jle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Zle={duration:.45,ease:[.4,0,.1,1]},WI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),HI=WI("applewebkit/")&&!WI("chrome/")?Math.round:Mo;function GI(e){e.min=HI(e.min),e.max=HI(e.max)}function ece(e){GI(e.x),GI(e.y)}function $V(e,t,r){return e==="position"||e==="preserve-aspect"&&!nle($I(t),$I(r),.2)}function tce(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rce=FV({attachResizeListener:(e,t)=>Vv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jS={current:void 0},BV=FV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jS.current){const e=new rce({});e.mount(window),e.setOptions({layoutScroll:!0}),jS.current=e}return jS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nce={pan:{Feature:ble},drag:{Feature:xle,ProjectionNode:BV,MeasureLayout:jV}};function KI(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&na.postRender(()=>i(t,Z1(t)))}class ace extends Qf{mount(){const{current:t}=this.node;t&&(this.unmount=Ose(t,(r,n)=>(KI(this.node,n,"Start"),a=>KI(this.node,a,"End"))))}unmount(){}}class ice extends Qf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=X1(Vv(this.node.current,"focus",()=>this.onFocus()),Vv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YI(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&na.postRender(()=>i(t,Z1(t)))}class sce extends Qf{mount(){const{current:t}=this.node;t&&(this.unmount=Mse(t,(r,n)=>(YI(this.node,n,"Start"),(a,{success:i})=>YI(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _3=new WeakMap,OS=new WeakMap,oce=e=>{const t=_3.get(e.target);t&&t(e)},lce=e=>{e.forEach(oce)};function cce({root:e,...t}){const r=e||document;OS.has(r)||OS.set(r,{});const n=OS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(lce,{root:e,...t})),n[a]}function uce(e,t,r){const n=cce(t);return _3.set(e,r),n.observe(e),()=>{_3.delete(e),n.unobserve(e)}}const fce={some:0,all:1};class dce extends Qf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:fce[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return uce(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(hce(t,r))&&this.startObserver()}unmount(){}}function hce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const pce={inView:{Feature:dce},tap:{Feature:sce},focus:{Feature:ice},hover:{Feature:ace}},mce={layout:{ProjectionNode:BV,MeasureLayout:jV}},S3={current:null},UV={current:!1};function gce(){if(UV.current=!0,!!dk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>S3.current=e.matches;e.addListener(t),t()}else S3.current=!1}const zv=new WeakMap;function vce(e,t,r){for(const n in t){const a=t[n],i=r[n];if(li(a))e.addValue(n,a);else if(li(i))e.addValue(n,oh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,oh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const XI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VV{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Rs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,na.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=_5(r),this.isVariantNode=lV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&li(p)&&p.set(l[h],!1)}}mount(t){this.current=t,zv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),UV.current||gce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:S3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),au(this.notifyUpdate),au(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=om.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&na.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xp){const r=xp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ua()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<XI.length;n++){const a=XI[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=vce(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=oh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(uU(n)||dU(n))?n=parseFloat(n):!$se(n)&&Uf.test(r)&&(n=JU(t,r)),this.setBaseTarget(t,li(n)?n.get():n)),li(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Vk(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!li(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new gk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class zV extends VV{constructor(){super(...arguments),this.KeyframeResolver=kse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;li(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function yce(e){return window.getComputedStyle(e)}class WV extends zV{constructor(){super(...arguments),this.type="html",this.renderInstance=qV}readValueFromInstance(t,r){var n;if(om.has(r))return(n=this.projection)!=null&&n.isProjecting?u3(r):Wie(t,r);{const a=yce(t),i=(xk(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return NV(t,r)}build(t,r,n){$k(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return zk(t,r,n)}}const HV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xce(e,t,r,n){qV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(HV.has(a)?a:Fk(a),t.attrs[a])}class GV extends zV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ua}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(om.has(r)){const n=QU(r);return n&&n.default||0}return r=HV.has(r)?r:Fk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return yV(t,r,n)}build(t,r,n){pV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){xce(t,r,n,a)}mount(t){this.isSVGTag=gV(t.tagName),super.mount(t)}}const bce=(e,t)=>Uk(e)?new GV(t):new WV(t,{allowProjection:e!==F.Fragment}),wce=Soe({...Yoe,...pce,...nce,...mce},bce),Gn=Kse(wce);function A3(e){const t=Y1(()=>oh(e)),{isStatic:r}=F.useContext(x5);if(r){const[,n]=F.useState(e);F.useEffect(()=>t.on("change",n),[])}return t}function KV(e,t){const r=A3(t()),n=()=>r.set(t());return n(),hk(()=>{const a=()=>na.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),au(n)}}),r}function _ce(e){Bg.current=[],e();const t=KV(Bg.current,e);return Bg.current=void 0,t}function QI(e,t,r,n){if(typeof e=="function")return _ce(e);const a=typeof t=="function"?t:Rse(t,r,n);return Array.isArray(e)?JI(e,a):JI([e],([i])=>a(i))}function JI(e,t){const r=Y1(()=>[]);return KV(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Hk(e){return typeof e=="object"&&!Array.isArray(e)}function YV(e,t,r,n){return typeof e=="string"&&Hk(t)?ZU(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Sce(e,t,r){return e*(t+1)}function ZI(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function Ace(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(y5(e,a),n--)}}function Tce(e,t,r,n,a,i){Ace(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:ta(a,i,n[s]),easing:AU(r,s)})}function Ece(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function Nce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const kce="easeInOut";function Cce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,d=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,d);continue}else if(!Array.isArray(g)){c.set(g.name,ZI(d,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(d=ZI(d,y.at,u,c));let w=0;const b=(D,O,P,T=0,_=0)=>{const S=Pce(D),{delay:I=0,times:E=BU(S),type:C="keyframes",repeat:N,repeatType:U,repeatDelay:X=0,...z}=O;let{ease:H=t.ease||"easeOut",duration:V}=O;const q=typeof I=="function"?I(T,_):I,te=S.length,Z=Ck(C)?C:a==null?void 0:a[C];if(te<=2&&Z){let Y=100;if(te===2&&Ice(S)){const ue=S[1]-S[0];Y=Math.abs(ue)}const J={...z};V!==void 0&&(J.duration=Sl(V));const se=MU(J,Y,Z);H=se.ease,V=se.duration}V??(V=i);const k=d+q;E.length===1&&E[0]===0&&(E[1]=1);const R=E.length-S.length;if(R>0&&$U(E,R),S.length===1&&S.unshift(null),N){V=Sce(V,N);const Y=[...S],J=[...E];H=Array.isArray(H)?[...H]:[H];const se=[...H];for(let ue=0;ue<N;ue++){S.push(...Y);for(let ae=0;ae<Y.length;ae++)E.push(J[ae]+(ue+1)),H.push(ae===0?"linear":AU(se,ae-1))}Ece(E,N)}const G=k+V;Tce(P,S,H,E,k,G),w=Math.max(q+V,w),h=Math.max(G,h)};if(li(m)){const D=eD(m,o);b(v,y,tD("default",D))}else{const D=YV(m,v,n,l),O=D.length;for(let P=0;P<O;P++){v=v,y=y;const T=D[P],_=eD(T,o);for(const S in v)b(v[S],jce(y,S),tD(S,_),P,O)}}u=d,d+=w}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(Nce);const y=[],w=[],b=[];for(let O=0;O<v.length;O++){const{at:P,value:T,easing:_}=v[O];y.push(T),w.push(yp(0,h,P)),b.push(_||"easeOut")}w[0]!==0&&(w.unshift(0),y.unshift(y[0]),b.unshift(kce)),w[w.length-1]!==1&&(w.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const D=s.get(g);D.keyframes[m]=y,D.transition[m]={...t,duration:h,ease:b,times:w,...r}}}),s}function eD(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function tD(e,t){return t[e]||(t[e]=[]),t[e]}function Pce(e){return Array.isArray(e)?e:[e]}function jce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Oce=e=>typeof e=="number",Ice=e=>e.every(Oce);function Dce(e,t){return e in t}class Lce extends VV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(Dce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ua()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function Mce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Lk(e)&&!aV(e)?new GV(t):new WV(t);r.mount(e),zv.set(e,r)}function Rce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Lce(t);r.mount(e),zv.set(e,r)}function Fce(e,t){return li(e)||typeof e=="number"||typeof e=="string"&&!Hk(t)}function XV(e,t,r,n){const a=[];if(Fce(e,t))a.push(OV(e,Hk(t)&&t.default||t,r&&(r.default||r)));else{const i=YV(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?Mce:Rce;zv.has(l)||c(l);const u=zv.get(l),d={...r};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,s)),a.push(...Wk(u,{...t,transition:d},{}))}}return a}function $ce(e,t,r){const n=[];return Cce(e,t,r,{spring:Fv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...XV(o,i,s))}),n}function Bce(e){return Array.isArray(e)&&e.some(Array.isArray)}function Uce(e){function t(r,n,a){let i=[];return Bce(r)?i=$ce(r,n,e):i=XV(r,n,a,e),new gse(i)}return t}const rD=Uce(),Vce=()=>{const{user:e,logout:t}=Ea(),r=Qp(),{isDarkMode:n}=an(),[a,i]=F.useState(!1),s=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},u=()=>{switch(e==null?void 0:e.role){case"fahiz":return"Fahiz Stock";case"aphy":return"APHY Stock";case"supply_serve":default:return"Supply & Serve"}},d=[{to:"/",icon:f.jsx(DZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:f.jsx(Ei,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:f.jsx(D4,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:f.jsx(FZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:f.jsx(NZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:f.jsx(u9,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:f.jsx(xN,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:f.jsx(UZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:f.jsx(c9,{size:20}),label:"Reports",roles:["admin","staff"]},{to:"/warehouse-operations",icon:f.jsx(TZ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:f.jsx(BZ,{size:20}),label:"Settings",roles:["admin","staff"]},{to:"/supply-serve",icon:f.jsx(D4,{size:20}),label:u(),roles:["supply_serve","fahiz","aphy"]}],h=e?d.filter(p=>p.roles.includes(e.role)):[];return f.jsxs(Gn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[f.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx(Gn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:f.jsx(cS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:f.jsx(Gn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),f.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:h.map((p,g)=>f.jsx(Gn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:f.jsx("div",{className:"group relative",children:f.jsx(cS,{to:p.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...p.to==="/"?{end:!0}:{},children:({isActive:m})=>f.jsxs(f.Fragment,{children:[f.jsx(Gn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:p.icon}),f.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:p.label})]})})})},p.to))}),f.jsxs("div",{className:"flex items-center gap-4",children:[e&&f.jsxs(Gn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),f.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsx(Gn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(Sj,{size:20})})]}),f.jsx(Gn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?f.jsx(up,{size:24}):f.jsx(RZ,{size:24})})]})]})}),f.jsx(u2,{children:a&&f.jsx(Gn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:f.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[h.map((p,g)=>f.jsx(Gn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:f.jsx(cS,{to:p.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...p.to==="/"?{end:!0}:{},children:f.jsxs(Gn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[p.icon,f.jsx("span",{className:"text-sm font-medium",children:p.label})]})})},p.to)),f.jsx(Gn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),f.jsxs(Gn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[f.jsx(Sj,{size:18}),f.jsx("span",{children:"Logout"})]})]})})]})})})]})},zce=()=>{const{isAuthenticated:e}=Ea(),t=Qp(),{isDarkMode:r}=an();return Ue.useEffect(()=>{e||t("/login")},[e,t]),e?f.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[f.jsx(Vce,{}),f.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:f.jsx(sZ,{})})]}):null},QV=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=F.useState(!1),[s,o]=F.useState(!1);F.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const d=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(d)},[n,r]);const l={success:f.jsx(O4,{className:"text-green-500",size:20}),error:f.jsx(Aj,{className:"text-red-500",size:20}),warning:f.jsx(ah,{className:"text-yellow-500",size:20}),info:f.jsx(IZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return f.jsx("div",{className:"fixed top-4 right-4 z-50",children:f.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],f.jsx("p",{className:"text-sm font-medium",children:e}),f.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:f.jsx(Aj,{size:18})})]})})},JV=F.createContext(void 0),lc=()=>{const e=F.useContext(JV);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},qce=({children:e})=>{const[t,r]=F.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return f.jsxs(JV.Provider,{value:{showToast:n},children:[e,t&&f.jsx(QV,{message:t.message,type:t.type,onClose:a})]})},jt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=an(),l=i??o;return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsxs("div",{className:"relative",children:[r&&f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),f.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Yu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=F.useState(!1),{isDarkMode:l}=an(),c=a??l,u=()=>{o(!s)};return f.jsxs("div",{className:"relative",children:[f.jsx(jt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),f.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?f.jsx(OZ,{size:18}):f.jsx(I4,{size:18})})]})},nt=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return f.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Wce=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=Ea(),{showToast:u}=lc(),{isDarkMode:d,toggleDarkMode:h}=an(),p=Qp();F.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"||c.role==="fahiz"||c.role==="aphy"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return f.jsxs("div",{className:`min-h-screen flex overflow-hidden ${d?"bg-slate-900":"bg-slate-100"}`,children:[f.jsx(Gn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"max-w-md p-8 text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),f.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),f.jsx(Gn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[f.jsx($Z,{size:48,className:"mx-auto text-blue-600"}),f.jsx("h1",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"AZTEC"}),f.jsx("p",{className:d?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),f.jsxs("div",{className:`${d?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"Welcome back"}),f.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${d?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":d?"Switch to light mode":"Switch to dark mode",children:d?f.jsx(m9,{size:20}):f.jsx(h9,{size:20})})]}),a&&f.jsx(Gn.div,{className:`${d?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),f.jsxs("form",{onSubmit:g,className:"space-y-6",children:[f.jsx(jt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:f.jsx(L4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:d}),f.jsx(Yu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:d}),f.jsx(nt,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},bi=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=an(),i=A3(0),s=A3(0),o=QI(i,Math.round),l=QI(s,Math.round);return Ue.useEffect(()=>{if(typeof t=="number"){const c=rD(i,t,{duration:1});if(n){const u=rD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),f.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),f.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?f.jsx(Gn.span,{children:o}):t}),n&&f.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||f.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),f.jsx(Gn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&f.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),f.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},ff=()=>{const{isDarkMode:e}=an();return f.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),f.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:f.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),f.jsx("div",{className:"mt-4",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},Jh=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=an();return f.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&f.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:f.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),f.jsx("div",{className:"p-6",children:t})]})};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}function rs(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function $r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fr(e){$r(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||pn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hce(e,t){$r(2,arguments);var r=Fr(e),n=rs(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function ZV(e,t){$r(2,arguments);var r=Fr(e),n=rs(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function ez(e,t){$r(2,arguments);var r=Fr(e).getTime(),n=rs(t);return new Date(r+n)}var Gce=36e5;function Kce(e,t){$r(2,arguments);var r=rs(t);return ez(e,r*Gce)}var Yce={};function wh(){return Yce}function Xce(e,t){var r,n,a,i,s,o;$r(1,arguments);var l=wh(),c=rs((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Fr(e),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function T3(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function bp(e){$r(1,arguments);var t=Fr(e);return t.setHours(0,0,0,0),t}function h2(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var tz=6e4,rz=36e5;function nD(e,t){$r(2,arguments);var r=bp(e),n=bp(t);return r.getTime()===n.getTime()}function Qce(e){return $r(1,arguments),e instanceof Date||pn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Jce(e){if($r(1,arguments),!Qce(e)&&typeof e!="number")return!1;var t=Fr(e);return!isNaN(Number(t))}function Zce(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function eue(e,t){return $r(2,arguments),Fr(e).getTime()-Fr(t).getTime()}var aD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},tue="trunc";function rue(e){return e?aD[e]:aD[tue]}function qv(e){$r(1,arguments);var t=Fr(e);return t.setHours(23,59,59,999),t}function nz(e){$r(1,arguments);var t=Fr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function nue(e){$r(1,arguments);var t=Fr(e);return qv(t).getTime()===nz(t).getTime()}function aue(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t),a=h2(r,n),i=Math.abs(Zce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=h2(r,n)===-a;nue(Fr(e))&&i===1&&h2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function iue(e,t,r){$r(2,arguments);var n=eue(e,t)/1e3;return rue(void 0)(n)}function sue(e,t){var r;$r(1,arguments);var n=e||{},a=Fr(n.start),i=Fr(n.end),s=i.getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)o.push(Fr(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function oue(e){$r(1,arguments);var t=Fr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function lue(e,t){var r,n,a,i,s,o;$r(1,arguments);var l=wh(),c=rs((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Fr(e),d=u.getDay(),h=(d<c?-7:0)+6-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function cue(e,t){$r(2,arguments);var r=rs(t);return ez(e,-r)}var uue=864e5;function fue(e){$r(1,arguments);var t=Fr(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/uue)+1}function gb(e){$r(1,arguments);var t=1,r=Fr(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function az(e){$r(1,arguments);var t=Fr(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=gb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=gb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function due(e){$r(1,arguments);var t=az(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=gb(r);return n}var hue=6048e5;function pue(e){$r(1,arguments);var t=Fr(e),r=gb(t).getTime()-due(t).getTime();return Math.round(r/hue)+1}function vb(e,t){var r,n,a,i,s,o,l,c;$r(1,arguments);var u=wh(),d=rs((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Fr(e),p=h.getUTCDay(),g=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function iz(e,t){var r,n,a,i,s,o,l,c;$r(1,arguments);var u=Fr(e),d=u.getUTCFullYear(),h=wh(),p=rs((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var m=vb(g,t),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var y=vb(v,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function mue(e,t){var r,n,a,i,s,o,l,c;$r(1,arguments);var u=wh(),d=rs((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=iz(e,t),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var g=vb(p,t);return g}var gue=6048e5;function vue(e,t){$r(1,arguments);var r=Fr(e),n=vb(r,t).getTime()-mue(r,t).getTime();return Math.round(n/gue)+1}function wn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var qu={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return wn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):wn(n+1,2)},d:function(t,r){return wn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return wn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return wn(t.getUTCHours(),r.length)},m:function(t,r){return wn(t.getUTCMinutes(),r.length)},s:function(t,r){return wn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return wn(i,r.length)}},Zh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yue={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return qu.y(t,r)},Y:function(t,r,n,a){var i=iz(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return wn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):wn(s,r.length)},R:function(t,r){var n=az(t);return wn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return wn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return wn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return wn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return qu.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return wn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=vue(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):wn(i,r.length)},I:function(t,r,n){var a=pue(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):wn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):qu.d(t,r)},D:function(t,r,n){var a=fue(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):wn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return wn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return wn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return wn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Zh.noon:a===0?i=Zh.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Zh.evening:a>=12?i=Zh.afternoon:a>=4?i=Zh.morning:i=Zh.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return qu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):qu.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):wn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):wn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):qu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):qu.s(t,r)},S:function(t,r){return qu.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return sD(s);case"XXXX":case"XX":return Ad(s);case"XXXXX":case"XXX":default:return Ad(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return sD(s);case"xxxx":case"xx":return Ad(s);case"xxxxx":case"xxx":default:return Ad(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+iD(s,":");case"OOOO":default:return"GMT"+Ad(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+iD(s,":");case"zzzz":default:return"GMT"+Ad(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return wn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return wn(s,r.length)}};function iD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+wn(i,2)}function sD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+wn(Math.abs(e)/60,2)}return Ad(e,t)}function Ad(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=wn(Math.floor(a/60),2),s=wn(a%60,2);return n+i+r+s}var oD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},sz=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},xue=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return oD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",oD(a,r)).replace("{{time}}",sz(i,r))},bue={p:sz,P:xue},wue=["D","DD"],_ue=["YY","YYYY"];function Sue(e){return wue.indexOf(e)!==-1}function Aue(e){return _ue.indexOf(e)!==-1}function lD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Tue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Eue=function(t,r,n){var a,i=Tue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function IS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Nue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Cue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pue={date:IS({formats:Nue,defaultWidth:"full"}),time:IS({formats:kue,defaultWidth:"full"}),dateTime:IS({formats:Cue,defaultWidth:"full"})},jue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Oue=function(t,r,n,a){return jue[t]};function Gm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var Iue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Due={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$ue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Bue={ordinalNumber:$ue,era:Gm({values:Iue,defaultWidth:"wide"}),quarter:Gm({values:Due,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Gm({values:Lue,defaultWidth:"wide"}),day:Gm({values:Mue,defaultWidth:"wide"}),dayPeriod:Gm({values:Rue,defaultWidth:"wide",formattingValues:Fue,defaultFormattingWidth:"wide"})};function Km(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Vue(o,function(d){return d.test(s)}):Uue(o,function(d){return d.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function Uue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Vue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function zue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var que=/^(\d+)(th|st|nd|rd)?/i,Wue=/\d+/i,Hue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gue={any:[/^b/i,/^(a|c)/i]},Kue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yue={any:[/1/i,/2/i,/3/i,/4/i]},Xue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Que={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},efe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rfe={ordinalNumber:zue({matchPattern:que,parsePattern:Wue,valueCallback:function(t){return parseInt(t,10)}}),era:Km({matchPatterns:Hue,defaultMatchWidth:"wide",parsePatterns:Gue,defaultParseWidth:"any"}),quarter:Km({matchPatterns:Kue,defaultMatchWidth:"wide",parsePatterns:Yue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Km({matchPatterns:Xue,defaultMatchWidth:"wide",parsePatterns:Que,defaultParseWidth:"any"}),day:Km({matchPatterns:Jue,defaultMatchWidth:"wide",parsePatterns:Zue,defaultParseWidth:"any"}),dayPeriod:Km({matchPatterns:efe,defaultMatchWidth:"any",parsePatterns:tfe,defaultParseWidth:"any"})},oz={code:"en-US",formatDistance:Eue,formatLong:Pue,formatRelative:Oue,localize:Bue,match:rfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},nfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,afe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ife=/^'([^]*?)'?$/,sfe=/''/g,ofe=/[a-zA-Z]/;function qt(e,t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v;$r(2,arguments);var y=String(t),w=wh(),b=(n=(a=void 0)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:oz,D=rs((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:w.firstWeekContainsDate)!==null&&s!==void 0?s:(c=w.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=rs((d=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:w.weekStartsOn)!==null&&h!==void 0?h:(m=w.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&d!==void 0?d:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var P=Fr(e);if(!Jce(P))throw new RangeError("Invalid time value");var T=T3(P),_=cue(P,T),S={firstWeekContainsDate:D,weekStartsOn:O,locale:b,_originalDate:P},I=y.match(afe).map(function(E){var C=E[0];if(C==="p"||C==="P"){var N=bue[C];return N(E,b.formatLong)}return E}).join("").match(nfe).map(function(E){if(E==="''")return"'";var C=E[0];if(C==="'")return lfe(E);var N=yue[C];if(N)return Aue(E)&&lD(E,t,String(e)),Sue(E)&&lD(E,t,String(e)),N(_,E,b.localize,S);if(C.match(ofe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return E}).join("");return I}function lfe(e){var t=e.match(ife);return t?t[1].replace(sfe,"'"):e}function lz(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function cfe(e){return lz({},e)}var cD=1440,ufe=2520,DS=43200,ffe=86400;function dfe(e,t,r){var n,a;$r(2,arguments);var i=wh(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:oz;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=h2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=lz(cfe(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=Fr(t),u=Fr(e)):(c=Fr(e),u=Fr(t));var d=iue(u,c),h=(T3(u)-T3(c))/1e3,p=Math.round((d-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<cD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<ufe)return s.formatDistance("xDays",1,l);if(p<DS){var v=Math.round(p/cD);return s.formatDistance("xDays",v,l)}else if(p<ffe)return g=Math.round(p/DS),s.formatDistance("aboutXMonths",g,l)}if(g=aue(u,c),g<12){var y=Math.round(p/DS);return s.formatDistance("xMonths",y,l)}else{var w=g%12,b=Math.floor(g/12);return w<3?s.formatDistance("aboutXYears",b,l):w<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function hfe(e,t){return $r(1,arguments),dfe(e,Date.now(),t)}function uD(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function fD(e,t){$r(2,arguments);var r=Fr(e).getTime(),n=Fr(t.start).getTime(),a=Fr(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function Mr(e,t){$r(2,arguments);var r=rs(t);return Hce(e,-r)}function pfe(e,t){var r;$r(1,arguments);var n=rs((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=yfe(e),i;if(a.date){var s=xfe(a.date,n);i=bfe(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=wfe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=_fe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(o+l+c)}var px={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yfe(e){var t={},r=e.split(px.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],px.timeZoneDelimiter.test(t.date)&&(t.date=e.split(px.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=px.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function xfe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function bfe(e,t){if(t===null)return new Date(NaN);var r=e.match(mfe);if(!r)return new Date(NaN);var n=!!r[4],a=Ym(r[1]),i=Ym(r[2])-1,s=Ym(r[3]),o=Ym(r[4]),l=Ym(r[5])-1;if(n)return Nfe(t,o,l)?Sfe(t,o,l):new Date(NaN);var c=new Date(0);return!Tfe(t,i,s)||!Efe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Ym(e){return e?parseInt(e):1}function wfe(e){var t=e.match(gfe);if(!t)return NaN;var r=LS(t[1]),n=LS(t[2]),a=LS(t[3]);return kfe(r,n,a)?r*rz+n*tz+a*1e3:NaN}function LS(e){return e&&parseFloat(e.replace(",","."))||0}function _fe(e){if(e==="Z")return 0;var t=e.match(vfe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Cfe(n,a)?r*(n*rz+a*tz):NaN}function Sfe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Afe=[31,null,31,30,31,30,31,31,30,31,30,31];function cz(e){return e%400===0||e%4===0&&e%100!==0}function Tfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Afe[t]||(cz(e)?29:28))}function Efe(e,t){return t>=1&&t<=(cz(e)?366:365)}function Nfe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function kfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Cfe(e,t){return t>=0&&t<=59}function Pfe(e,t){$r(2,arguments);var r=rs(t);return ZV(e,-r)}function dD(e,t){$r(2,arguments);var r=rs(t);return Kce(e,-r)}const jfe=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState([]),[s,o]=F.useState([]),[l,c]=F.useState({time:new Date().toLocaleTimeString(),date:new Date().toLocaleDateString()}),[u,d]=F.useState({stockByLocation:[],stockByStore:[]}),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:g}=an(),m=Qp(),v=async()=>{t(!0);try{const P=new Date,T=Mr(P,1),_=P,S=lr(wt(Xe,"inventory")),I=lr(wt(Xe,"inventory"),sr("lastUpdated",">=",ir.fromDate(T)),sr("lastUpdated","<=",ir.fromDate(_))),[E,C]=await Promise.all([ur(S),ur(I)]),N=E.docs.reduce((Oe,Ve)=>{const We=Ve.data();return Oe+(We.quantity||0)},0),U=C.docs.reduce((Oe,Ve)=>{const We=Ve.data();return Oe+(We.quantityChange||0)},0),X=E.docs.reduce((Oe,Ve)=>{const We=Ve.data();return Oe+(We.quantity||0)*(We.price||0)},0),z=lr(wt(Xe,"inventory")),V=(await ur(z)).docs.map(Oe=>({id:Oe.id,...Oe.data()})),q=V.filter(Oe=>Oe.quantity<=10),te=V.filter(Oe=>Oe.quantity>10&&Oe.quantity<=25);i(q),o(te);const Z=new Date,k=bp(Z),R=qv(Z),G=bp(Mr(Z,1)),Y=qv(Mr(Z,1)),J=lr(wt(Xe,"activityLogs"),sr("time",">=",k.toISOString()),sr("time","<=",R.toISOString())),se=lr(wt(Xe,"activityLogs"),sr("time",">=",G.toISOString()),sr("time","<=",Y.toISOString())),[ue,ae]=await Promise.all([ur(J),ur(se)]),he=ue.docs.map(Oe=>Oe.data()),xe=ae.docs.map(Oe=>Oe.data()),W=he.reduce((Oe,Ve)=>{const We=Ve.detail.match(/(\d+) units deducted/);return Oe+(We?parseInt(We[1]):0)},0),Ne=xe.reduce((Oe,Ve)=>{const We=Ve.detail.match(/(\d+) units deducted/);return Oe+(We?parseInt(We[1]):0)},0),ke=he.reduce((Oe,Ve)=>{const We=Ve.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Oe+(We?parseInt(We[1]):0)},0),_e=he.reduce((Oe,Ve)=>{const We=Ve.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(We){const[,Ee,Fe]=We,Se=E.docs.find(Me=>Me.data().name===Ee);if(Se){const Me=Se.data().price||0;return Oe+parseInt(Fe)*Me}}return Oe},0),le=he.reduce((Oe,Ve)=>{const We=Ve.detail.toLowerCase();if(/reason:\s*damaged/i.test(We)||/damaged/i.test(We)||/damageditems/i.test(We)||/damaged items/i.test(We)){const Ee=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const Fe of Ee){const Se=We.match(Fe);if(Se)if(Se.length===3){const Me=parseInt(Se[1]),He=parseInt(Se[2]);return Oe+Math.abs(Me-He)}else return Oe+parseInt(Se[1])}return Oe+1}return Oe},0),Le=xe.reduce((Oe,Ve)=>{const We=Ve.detail.toLowerCase();if(/reason:\s*damaged/i.test(We)||/damaged/i.test(We)||/damageditems/i.test(We)||/damaged items/i.test(We)){const Ee=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const Fe of Ee){const Se=We.match(Fe);if(Se)if(Se.length===3){const Me=parseInt(Se[1]),He=parseInt(Se[2]);return Oe+Math.abs(Me-He)}else return Oe+parseInt(Se[1])}return Oe+1}return Oe},0);p({totalOrders:0,totalStock:N,totalInventoryValue:X,todayDamagedProducts:le,yesterdayDamagedProducts:Le,yesterdayOrders:0,yesterdayStockChange:U,yesterdayRevenue:0,totalDeductions:W,yesterdayDeductions:Ne,todayStockAdditions:ke,todayInventoryValueAdditions:_e})}catch(P){console.error("Error fetching stats:",P)}finally{t(!1)}},y=async()=>{try{const P=lr(wt(Xe,"activityLogs"),Fa("time","desc"),gg(5)),_=(await ur(P)).docs.map(S=>({id:S.id,...S.data()}));n(_)}catch(P){console.error("Error fetching recent activities:",P)}},w=()=>{const P=new Date;c({time:P.toLocaleTimeString(),date:P.toLocaleDateString()})},b=async()=>{try{const P=lr(wt(Xe,"inventory")),_=(await ur(P)).docs.map(N=>({id:N.id,...N.data()})),S=new Map;_.forEach(N=>{const U=N.locationCode||"Unknown",X=N.quantity||0,z=X*(N.price||0);if(S.has(U)){const H=S.get(U);S.set(U,{quantity:H.quantity+X,value:H.value+z})}else S.set(U,{quantity:X,value:z})});const I=Array.from(S.entries()).map(([N,U])=>({location:N,quantity:U.quantity,value:U.value})).sort((N,U)=>U.quantity-N.quantity),E=new Map;_.forEach(N=>{const U=N.storeName||"Unknown",X=N.quantity||0,z=X*(N.price||0);if(E.has(U)){const H=E.get(U);E.set(U,{quantity:H.quantity+X,value:H.value+z})}else E.set(U,{quantity:X,value:z})});const C=Array.from(E.entries()).map(([N,U])=>({store:N,quantity:U.quantity,value:U.value})).sort((N,U)=>U.value-N.value);d({stockByLocation:I,stockByStore:C})}catch(P){console.error("Error fetching inventory data:",P)}},D=async()=>{await Promise.all([v(),y(),b()])};F.useEffect(()=>{D();const P=setInterval(w,1e3);return()=>clearInterval(P)},[]);const O=()=>{const{isDarkMode:P}=an();return f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:`h-10 ${P?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((T,_)=>f.jsx("div",{className:`h-16 ${P?"bg-slate-700":"bg-slate-200"} rounded mb-2`},_))]})};return f.jsxs("div",{className:`space-y-6 ${g?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${g?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),f.jsx("p",{className:`${g?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${g?"bg-slate-800 border border-slate-700":"bg-white border border-slate-200"}`,children:[f.jsx(H2,{size:20,className:"text-blue-500"}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${g?"text-white":"text-slate-800"}`,children:l.time}),f.jsx("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:l.date})]})]}),f.jsx(nt,{variant:"secondary",onClick:D,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:f.jsx(La,{size:16,className:e?"animate-spin":""})})]})]}),f.jsx(Jh,{title:"Quick Actions",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[f.jsxs(nt,{variant:"outline",onClick:()=>m("/add"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(D4,{size:24,className:"text-blue-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Add Product"})]}),f.jsxs(nt,{variant:"outline",onClick:()=>m("/jobs"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(u9,{size:24,className:"text-green-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Jobs"})]}),f.jsxs(nt,{variant:"outline",onClick:()=>m("/stock"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(Hl,{size:24,className:"text-purple-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Stock"})]}),f.jsxs(nt,{variant:"outline",onClick:()=>m("/reports-analytics"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(c9,{size:24,className:"text-orange-600"}),f.jsx("span",{className:"text-sm font-medium",children:"View Reports"})]}),f.jsxs(nt,{variant:"outline",onClick:()=>m("/warehouse-locations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(jZ,{size:24,className:"text-indigo-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Locations"})]}),f.jsxs(nt,{variant:"outline",onClick:()=>m("/warehouse-operations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(H2,{size:24,className:"text-teal-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Activity Logs"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?f.jsxs(f.Fragment,{children:[f.jsx(ff,{}),f.jsx(ff,{}),f.jsx(ff,{}),f.jsx(ff,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(bi,{title:"Total Stock",value:h.totalStock,icon:f.jsx(Hl,{size:24,className:"text-blue-600"}),change:{value:h.todayStockAdditions,isPositive:!0,customIcon:f.jsx(Ei,{size:16,className:"text-green-500 mr-1"}),label:h.todayStockAdditions===0?"no additions today":h.todayStockAdditions===1?"unit added today":"units added today"}}),f.jsx(bi,{title:"Total Units Deducted Today",value:h.totalDeductions,icon:f.jsx(g9,{size:24,className:"text-blue-600"}),change:{value:h.yesterdayDeductions,isPositive:h.totalDeductions>=h.yesterdayDeductions,label:h.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),f.jsx(bi,{title:"Damaged Products Today",value:h.todayDamagedProducts,icon:f.jsx(ah,{size:24,className:"text-red-600"}),change:{value:h.yesterdayDamagedProducts,isPositive:h.todayDamagedProducts<=h.yesterdayDamagedProducts,label:h.yesterdayDamagedProducts===0?"no damage yesterday":h.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),f.jsx(bi,{title:"Total Inventory Value",value:h.totalInventoryValue,icon:f.jsx(K2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:P=>`£${P.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:h.todayInventoryValueAdditions,isPositive:!0,customIcon:f.jsx(Ei,{size:16,className:"text-green-500 mr-1"}),label:h.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),f.jsx(Jh,{title:"Stock Distribution by Location",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByLocation.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(xj,{size:20,className:"text-blue-500"}),f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Total: ",u.stockByLocation.reduce((P,T)=>P+T.quantity,0)," units across ",u.stockByLocation.length," locations"]})]}),f.jsx("div",{className:"space-y-3",children:u.stockByLocation.slice(0,5).map((P,T)=>{const _=Math.max(...u.stockByLocation.slice(0,5).map(E=>E.quantity)),S=_>0?P.quantity/_*100:0,I=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Location ",P.location]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[P.quantity," units"]}),f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["£",P.value.toFixed(2)]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${I[T%I.length]}`,style:{width:`${S}%`}})})]},T)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Hl,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No inventory data available"})]})}),f.jsx(Jh,{title:"Stock Value by Store",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByStore.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(xj,{size:20,className:"text-blue-500"}),f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Total Value: £",u.stockByStore.reduce((P,T)=>P+T.value,0).toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})," across ",u.stockByStore.length," stores"]})]}),f.jsx("div",{className:"space-y-3",children:u.stockByStore.slice(0,5).map((P,T)=>{const _=Math.max(...u.stockByStore.slice(0,5).map(E=>E.value)),S=_>0?P.value/_*100:0,I=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:P.store.toUpperCase()}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[P.quantity.toLocaleString()," units"]}),f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["£",P.value.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${I[T%I.length]}`,style:{width:`${S}%`}})})]},T)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Hl,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No store data available"})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsx(Jh,{title:"Recent Activity",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(O,{}):r.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(P=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:P.user}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:P.role}),f.jsx("td",{className:`px-6 py-4 text-sm ${g?"text-slate-400":"text-slate-500"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:P.detail,children:P.detail})}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:hfe(new Date(P.time),{addSuffix:!0})})]},P.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),f.jsx(Jh,{title:"Low Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(O,{}):s.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(P=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:P.name,children:P.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[P.locationCode,"-",P.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:P.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},P.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:f.jsx(Jh,{title:"Critical Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(O,{}):a.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(P=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:P.name,children:P.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[P.locationCode,"-",P.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:P.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},P.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})})]})},fn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=an(),o=F.useRef(null);if(F.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),F.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),f.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),f.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:f.jsx(up,{size:20})})]}),f.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},_h=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=F.useState(!1),i=F.useRef(null);return F.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),f.jsx(fn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:f.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[f.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:f.jsx(Jc,{size:32,className:"text-blue-500"})}),f.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),f.jsxs("div",{className:"text-center text-sm text-slate-500",children:[f.jsx("p",{children:"Point your barcode scanner at the product"}),f.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var uz=1252,Ofe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Gk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Kk=function(e){Ofe.indexOf(e)!=-1&&(uz=Gk[0]=e)};function Ife(){Kk(1252)}var yl=function(e){Kk(e)};function fz(){yl(1200),Ife()}function hD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Dfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function dz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var xg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Dfe(e.slice(2)):t==254&&r==255?dz(e.slice(2)):t==65279?e.slice(1):e},mx=function(t){return String.fromCharCode(t)},pD=function(t){return String.fromCharCode(t)},rf,df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=df.charAt(i)+df.charAt(s)+df.charAt(o)+df.charAt(l);return t}function co(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=df.indexOf(e.charAt(c++)),s=df.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=df.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=df.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Qr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Sh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Vf(e){return Qr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function gD(e){return Qr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ml=function(t){return Qr?Sh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ah(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Yk(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Yk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var nf=Qr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Sh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Lfe(e){for(var t=[],r=0,n=e.length+250,a=Vf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Vf(65535),n=65530)}return t.push(a.slice(0,r)),nf(t)}var Ss=/\u0000/g,bg=/[\u0001-\u0006]/g;function z0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function xl(e,t){var r=""+e;return r.length>=t?r:pa("0",t-r.length)+r}function Xk(e,t){var r=""+e;return r.length>=t?r:pa(" ",t-r.length)+r}function yb(e,t){var r=""+e;return r.length>=t?r:r+pa(" ",t-r.length)}function Mfe(e,t){var r=""+Math.round(e);return r.length>=t?r:pa("0",t-r.length)+r}function Rfe(e,t){var r=""+e;return r.length>=t?r:pa("0",t-r.length)+r}var vD=Math.pow(2,32);function e0(e,t){if(e>vD||e<-vD)return Mfe(e,t);var r=Math.round(e);return Rfe(r,t)}function xb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var yD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],MS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Ffe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Lr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},xD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$fe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(d=Math.floor(a),o=d*s+i,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Rd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Wfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var hz=new Date(1899,11,31,0,0,0),Bfe=hz.getTime(),Ufe=new Date(1900,2,1,0,0,0);function pz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Ufe&&(r+=24*60*60*1e3),(r-(Bfe+(e.getTimezoneOffset()-hz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Qk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Vfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zfe(e){var t=e<0?12:11,r=Qk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function qfe(e){var t=Qk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Wv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=zfe(e):t===10?r=e.toFixed(10).substr(0,12):r=qfe(e),Qk(Vfe(r.toUpperCase()))}function lh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Wv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return zo(14,pz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Wfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Hfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return MS[r.m-1][1];case 5:return MS[r.m-1][0];default:return MS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return yD[r.q][0];default:return yD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?xl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=xl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?xl(l,c):"";return u}function hf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var mz=/%/g;function Gfe(e,t,r){var n=t.replace(mz,""),a=t.length-n.length;return Bc(e,n,r*Math.pow(10,2*a))+pa("%",a)}function Kfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function gz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+gz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var vz=/# (\?+)( ?)\/( ?)(\d+)/;function Yfe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?pa(" ",e[1].length+1+e[4].length):Xk(s,e[1].length)+e[2]+"/"+e[3]+xl(o,e[4].length))}function Xfe(e,t,r){return r+(t===0?"":""+t)+pa(" ",e[1].length+2+e[4].length)}var yz=/^#*0*\.([0#]+)/,xz=/\).*[0#]/,bz=/\(###\) ###\\?-####/;function hs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function bD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function wD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Qfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Jfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ko(e,t,r){if(e.charCodeAt(0)===40&&!t.match(xz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ko("n",n,r):"("+ko("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Kfe(e,t,r);if(t.indexOf("%")!==-1)return Gfe(e,t,r);if(t.indexOf("E")!==-1)return gz(t,r);if(t.charCodeAt(0)===36)return"$"+ko(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+e0(l,t.length);if(t.match(/^[#?]+$/))return a=e0(r,0),a==="0"&&(a=""),a.length>t.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(vz))return Yfe(i,l,c);if(t.match(/^#+0+$/))return c+e0(l,t.length-t.indexOf("0"));if(i=t.match(yz))return a=bD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+hs(i[1])).replace(/\.$/,"."+hs(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+pa("0",hs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+bD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+hf(e0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ko(e,t,-r):hf(""+(Math.floor(r)+Qfe(r,i[1].length)))+"."+xl(wD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ko(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=z0(ko(e,t.replace(/[\\-]/g,""),r)),s=0,z0(z0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(bz))return a=ko(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=bb(l,Math.pow(10,s)-1,!1),a=""+c,u=Bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=yb(o[2],s),u.length<i[4].length&&(u=hs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=bb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Xk(o[1],s)+i[2]+"/"+i[3]+yb(o[2],s):pa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=e0(r,0),t.length<=a.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return hs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=wD(r,i[1].length),r<0?"-"+ko(e,t,-r):hf(Jfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?xl(0,3-g.length):"")+g})+"."+xl(s,i[1].length);switch(t){case"###,##0.00":return ko(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=hf(e0(l,0));return p!=="0"?c+p:"";case"###,###.00":return ko(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ko(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Zfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ede(e,t,r){var n=t.replace(mz,""),a=t.length-n.length;return Bc(e,n,r*Math.pow(10,2*a))+pa("%",a)}function wz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+wz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ul(e,t,r){if(e.charCodeAt(0)===40&&!t.match(xz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ul("n",n,r):"("+Ul("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zfe(e,t,r);if(t.indexOf("%")!==-1)return ede(e,t,r);if(t.indexOf("E")!==-1)return wz(t,r);if(t.charCodeAt(0)===36)return"$"+Ul(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+xl(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(vz))return Xfe(i,l,c);if(t.match(/^#+0+$/))return c+xl(l,t.length-t.indexOf("0"));if(i=t.match(yz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+hs(i[1])).replace(/\.$/,"."+hs(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+pa("0",hs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+hf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ul(e,t,-r):hf(""+r)+"."+pa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ul(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=z0(Ul(e,t.replace(/[\\-]/g,""),r)),s=0,z0(z0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(bz))return a=Ul(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=bb(l,Math.pow(10,s)-1,!1),a=""+c,u=Bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=yb(o[2],s),u.length<i[4].length&&(u=hs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=bb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Xk(o[1],s)+i[2]+"/"+i[3]+yb(o[2],s):pa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return hs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ul(e,t,-r):hf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?xl(0,3-g.length):"")+g})+"."+xl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=hf(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ul(e,t.slice(0,t.lastIndexOf(".")),r)+hs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Bc(e,t,r){return(r|0)===r?Ul(e,t,r):ko(e,t,r)}function tde(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var _z=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":xb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(_z))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function rde(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,d,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!xb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Rd(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Rd(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=Rd(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(_z)){if(c==null&&(c=Rd(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",lm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Hfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;b+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=lh(t,r);break}var O="",P,T;if(b.length>0){b.charCodeAt(0)==40?(P=t<0&&b.charCodeAt(0)===45?-t:t,T=Bc("n",b,P)):(P=t<0&&n>1?-t:t,T=Bc("n",b,P),P<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),D=T.length-1;var _=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){_=s;break}var S=a.length;if(_===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=T.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=T.substr(0,D+1),D=-1),a[s].t="t",S=s);D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v)}else if(_!==a.length&&T.indexOf("E")===-1){for(D=T.indexOf(".")-1,s=_;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")-1:a[s].v.length-1,O=a[s].v.substr(u+1);u>=0;--u)D>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(O=T.charAt(D--)+O);a[s].v=O,a[s].t="t",S=s}for(D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v),D=T.indexOf(".")+1,s=_;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==_)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")+1:0,O=a[s].v.substr(0,u);u<a[s].v.length;++u)D<T.length&&(O+=T.charAt(D++));a[s].v=O,a[s].t="t",S=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(P=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Bc(a[s].t,a[s].v,P),a[s].t="t");var I="";for(s=0;s!==a.length;++s)a[s]!=null&&(I+=a[s].v);return I}var _D=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function SD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function nde(e,t){var r=tde(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(_D),o=r[1].match(_D);return SD(t,s)?[n,r[0]]:SD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function zo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Lr)[e],n==null&&(n=r.table&&r.table[xD[e]]||Lr[xD[e]]),n==null&&(n=$fe[e]||"General");break}if(xb(n,0))return lh(t,r);t instanceof Date&&(t=pz(t,r.date1904));var a=nde(n,t);if(xb(a[1]))return lh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return rde(a[1],t,r,a[0])}function Gd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Lr[r]==null){t<0&&(t=r);continue}if(Lr[r]==e){t=r;break}}t<0&&(t=391)}return Lr[t]=e,t}function Sz(){Lr=Ffe()}var ade={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Az=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ide(e){var t=typeof e=="number"?Lr[e]:e;return t=t.replace(Az,"(\\d+)"),new RegExp("^"+t+"$")}function sde(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(Az)||[]).forEach(function(d,h){var p=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var ode=function(){var e={};e.version="1.2.0";function t(){for(var T=0,_=new Array(256),S=0;S!=256;++S)T=S,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,_[S]=T;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(T){var _=0,S=0,I=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)E[I]=T[I];for(I=0;I!=256;++I)for(S=T[I],_=256+I;_<4096;_+=256)S=E[_]=S>>>8^T[S&255];var C=[];for(I=1;I!=16;++I)C[I-1]=typeof Int32Array<"u"?E.subarray(I*256,I*256+256):E.slice(I*256,I*256+256);return C}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],d=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],w=a[13],b=a[14];function D(T,_){for(var S=_^-1,I=0,E=T.length;I<E;)S=S>>>8^r[(S^T.charCodeAt(I++))&255];return~S}function O(T,_){for(var S=_^-1,I=T.length-15,E=0;E<I;)S=b[T[E++]^S&255]^w[T[E++]^S>>8&255]^y[T[E++]^S>>16&255]^v[T[E++]^S>>>24]^m[T[E++]]^g[T[E++]]^p[T[E++]]^h[T[E++]]^d[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(I+=15;E<I;)S=S>>>8^r[(S^T[E++])&255];return~S}function P(T,_){for(var S=_^-1,I=0,E=T.length,C=0,N=0;I<E;)C=T.charCodeAt(I++),C<128?S=S>>>8^r[(S^C)&255]:C<2048?(S=S>>>8^r[(S^(192|C>>6&31))&255],S=S>>>8^r[(S^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,N=T.charCodeAt(I++)&1023,S=S>>>8^r[(S^(240|C>>8&7))&255],S=S>>>8^r[(S^(128|C>>2&63))&255],S=S>>>8^r[(S^(128|N>>6&15|(C&3)<<4))&255],S=S>>>8^r[(S^(128|N&63))&255]):(S=S>>>8^r[(S^(224|C>>12&15))&255],S=S>>>8^r[(S^(128|C>>6&63))&255],S=S>>>8^r[(S^(128|C&63))&255]);return~S}return e.table=r,e.bstr=D,e.buf=O,e.str=P,e}(),rn=function(){var t={};t.version="1.2.1";function r(ee,ve){for(var pe=ee.split("/"),ge=ve.split("/"),ye=0,we=0,Ge=Math.min(pe.length,ge.length);ye<Ge;++ye){if(we=pe[ye].length-ge[ye].length)return we;if(pe[ye]!=ge[ye])return pe[ye]<ge[ye]?-1:1}return pe.length-ge.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var ve=ee.lastIndexOf("/");return ve===-1?ee:ee.slice(0,ve+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var ve=ee.lastIndexOf("/");return ve===-1?ee:ee.slice(ve+1)}function i(ee,ve){typeof ve=="string"&&(ve=new Date(ve));var pe=ve.getHours();pe=pe<<6|ve.getMinutes(),pe=pe<<5|ve.getSeconds()>>>1,ee.write_shift(2,pe);var ge=ve.getFullYear()-1980;ge=ge<<4|ve.getMonth()+1,ge=ge<<5|ve.getDate(),ee.write_shift(2,ge)}function s(ee){var ve=ee.read_shift(2)&65535,pe=ee.read_shift(2)&65535,ge=new Date,ye=pe&31;pe>>>=5;var we=pe&15;pe>>>=4,ge.setMilliseconds(0),ge.setFullYear(pe+1980),ge.setMonth(we-1),ge.setDate(ye);var Ge=ve&31;ve>>>=5;var tt=ve&63;return ve>>>=6,ge.setHours(ve),ge.setMinutes(tt),ge.setSeconds(Ge<<1),ge}function o(ee){_i(ee,0);for(var ve={},pe=0;ee.l<=ee.length-4;){var ge=ee.read_shift(2),ye=ee.read_shift(2),we=ee.l+ye,Ge={};switch(ge){case 21589:pe=ee.read_shift(1),pe&1&&(Ge.mtime=ee.read_shift(4)),ye>5&&(pe&2&&(Ge.atime=ee.read_shift(4)),pe&4&&(Ge.ctime=ee.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}ee.l=we,ve[ge]=Ge}return ve}var l;function c(){return l||(l={})}function u(ee,ve){if(ee[0]==80&&ee[1]==75)return vt(ee,ve);if((ee[0]|32)==109&&(ee[1]|32)==105)return An(ee,ve);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var pe=3,ge=512,ye=0,we=0,Ge=0,tt=0,Ke=0,Ye=[],Ze=ee.slice(0,512);_i(Ze,0);var Tt=d(Ze);switch(pe=Tt[0],pe){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(Tt[1]==0)return vt(ee,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+pe)}ge!==512&&(Ze=ee.slice(0,ge),_i(Ze,28));var Mt=ee.slice(0,ge);h(Ze,pe);var Vt=Ze.read_shift(4,"i");if(pe===3&&Vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Vt);Ze.l+=4,Ge=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),tt=Ze.read_shift(4,"i"),ye=Ze.read_shift(4,"i"),Ke=Ze.read_shift(4,"i"),we=Ze.read_shift(4,"i");for(var It=-1,Bt=0;Bt<109&&(It=Ze.read_shift(4,"i"),!(It<0));++Bt)Ye[Bt]=It;var dr=p(ee,ge);v(Ke,we,dr,ge,Ye);var Vr=w(dr,Ge,Ye,ge);Vr[Ge].name="!Directory",ye>0&&tt!==N&&(Vr[tt].name="!MiniFAT"),Vr[Ye[0]].name="!FAT",Vr.fat_addrs=Ye,Vr.ssz=ge;var Hr={},sn=[],di=[],qs=[];b(Ge,Vr,dr,sn,ye,Hr,di,tt),g(di,qs,sn),sn.shift();var is={FileIndex:di,FullPaths:qs};return ve&&ve.raw&&(is.raw={header:Mt,sectors:dr}),is}function d(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(U,"Header Signature: "),ee.l+=16;var ve=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ve]}function h(ee,ve){var pe=9;switch(ee.l+=2,pe=ee.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+pe);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+pe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+pe)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,ve){for(var pe=Math.ceil(ee.length/ve)-1,ge=[],ye=1;ye<pe;++ye)ge[ye-1]=ee.slice(ye*ve,(ye+1)*ve);return ge[pe-1]=ee.slice(pe*ve),ge}function g(ee,ve,pe){for(var ge=0,ye=0,we=0,Ge=0,tt=0,Ke=pe.length,Ye=[],Ze=[];ge<Ke;++ge)Ye[ge]=Ze[ge]=ge,ve[ge]=pe[ge];for(;tt<Ze.length;++tt)ge=Ze[tt],ye=ee[ge].L,we=ee[ge].R,Ge=ee[ge].C,Ye[ge]===ge&&(ye!==-1&&Ye[ye]!==ye&&(Ye[ge]=Ye[ye]),we!==-1&&Ye[we]!==we&&(Ye[ge]=Ye[we])),Ge!==-1&&(Ye[Ge]=ge),ye!==-1&&ge!=Ye[ge]&&(Ye[ye]=Ye[ge],Ze.lastIndexOf(ye)<tt&&Ze.push(ye)),we!==-1&&ge!=Ye[ge]&&(Ye[we]=Ye[ge],Ze.lastIndexOf(we)<tt&&Ze.push(we));for(ge=1;ge<Ke;++ge)Ye[ge]===ge&&(we!==-1&&Ye[we]!==we?Ye[ge]=Ye[we]:ye!==-1&&Ye[ye]!==ye&&(Ye[ge]=Ye[ye]));for(ge=1;ge<Ke;++ge)if(ee[ge].type!==0){if(tt=ge,tt!=Ye[tt])do tt=Ye[tt],ve[ge]=ve[tt]+"/"+ve[ge];while(tt!==0&&Ye[tt]!==-1&&tt!=Ye[tt]);Ye[ge]=-1}for(ve[0]+="/",ge=1;ge<Ke;++ge)ee[ge].type!==2&&(ve[ge]+="/")}function m(ee,ve,pe){for(var ge=ee.start,ye=ee.size,we=[],Ge=ge;pe&&ye>0&&Ge>=0;)we.push(ve.slice(Ge*C,Ge*C+C)),ye-=C,Ge=Cd(pe,Ge*4);return we.length===0?Wa(0):nf(we).slice(0,ee.size)}function v(ee,ve,pe,ge,ye){var we=N;if(ee===N){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Ge=pe[ee],tt=(ge>>>2)-1;if(!Ge)return;for(var Ke=0;Ke<tt&&(we=Cd(Ge,Ke*4))!==N;++Ke)ye.push(we);v(Cd(Ge,ge-4),ve-1,pe,ge,ye)}}function y(ee,ve,pe,ge,ye){var we=[],Ge=[];ye||(ye=[]);var tt=ge-1,Ke=0,Ye=0;for(Ke=ve;Ke>=0;){ye[Ke]=!0,we[we.length]=Ke,Ge.push(ee[Ke]);var Ze=pe[Math.floor(Ke*4/ge)];if(Ye=Ke*4&tt,ge<4+Ye)throw new Error("FAT boundary crossed: "+Ke+" 4 "+ge);if(!ee[Ze])break;Ke=Cd(ee[Ze],Ye)}return{nodes:we,data:ID([Ge])}}function w(ee,ve,pe,ge){var ye=ee.length,we=[],Ge=[],tt=[],Ke=[],Ye=ge-1,Ze=0,Tt=0,Mt=0,Vt=0;for(Ze=0;Ze<ye;++Ze)if(tt=[],Mt=Ze+ve,Mt>=ye&&(Mt-=ye),!Ge[Mt]){Ke=[];var It=[];for(Tt=Mt;Tt>=0;){It[Tt]=!0,Ge[Tt]=!0,tt[tt.length]=Tt,Ke.push(ee[Tt]);var Bt=pe[Math.floor(Tt*4/ge)];if(Vt=Tt*4&Ye,ge<4+Vt)throw new Error("FAT boundary crossed: "+Tt+" 4 "+ge);if(!ee[Bt]||(Tt=Cd(ee[Bt],Vt),It[Tt]))break}we[Mt]={nodes:tt,data:ID([Ke])}}return we}function b(ee,ve,pe,ge,ye,we,Ge,tt){for(var Ke=0,Ye=ge.length?2:0,Ze=ve[ee].data,Tt=0,Mt=0,Vt;Tt<Ze.length;Tt+=128){var It=Ze.slice(Tt,Tt+128);_i(It,64),Mt=It.read_shift(2),Vt=rC(It,0,Mt-Ye),ge.push(Vt);var Bt={name:Vt,type:It.read_shift(1),color:It.read_shift(1),L:It.read_shift(4,"i"),R:It.read_shift(4,"i"),C:It.read_shift(4,"i"),clsid:It.read_shift(16),state:It.read_shift(4,"i"),start:0,size:0},dr=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);dr!==0&&(Bt.ct=D(It,It.l-8));var Vr=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);Vr!==0&&(Bt.mt=D(It,It.l-8)),Bt.start=It.read_shift(4,"i"),Bt.size=It.read_shift(4,"i"),Bt.size<0&&Bt.start<0&&(Bt.size=Bt.type=0,Bt.start=N,Bt.name=""),Bt.type===5?(Ke=Bt.start,ye>0&&Ke!==N&&(ve[Ke].name="!StreamData")):Bt.size>=4096?(Bt.storage="fat",ve[Bt.start]===void 0&&(ve[Bt.start]=y(pe,Bt.start,ve.fat_addrs,ve.ssz)),ve[Bt.start].name=Bt.name,Bt.content=ve[Bt.start].data.slice(0,Bt.size)):(Bt.storage="minifat",Bt.size<0?Bt.size=0:Ke!==N&&Bt.start!==N&&ve[Ke]&&(Bt.content=m(Bt,ve[Ke].data,(ve[tt]||{}).data))),Bt.content&&_i(Bt.content,0),we[Vt]=Bt,Ge.push(Bt)}}function D(ee,ve){return new Date((to(ee,ve+4)/1e7*Math.pow(2,32)+to(ee,ve)/1e7-11644473600)*1e3)}function O(ee,ve){return c(),u(l.readFileSync(ee),ve)}function P(ee,ve){var pe=ve&&ve.type;switch(pe||Qr&&Buffer.isBuffer(ee)&&(pe="buffer"),pe||"base64"){case"file":return O(ee,ve);case"base64":return u(ml(co(ee)),ve);case"binary":return u(ml(ee),ve)}return u(ee,ve)}function T(ee,ve){var pe=ve||{},ge=pe.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=ge+"/",ee.FileIndex[0]={name:ge,type:5}),pe.CLSID&&(ee.FileIndex[0].clsid=pe.CLSID),_(ee)}function _(ee){var ve="Sh33tJ5";if(!rn.find(ee,"/"+ve)){var pe=Wa(4);pe[0]=55,pe[1]=pe[3]=50,pe[2]=54,ee.FileIndex.push({name:ve,type:2,content:pe,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ve),S(ee)}}function S(ee,ve){T(ee);for(var pe=!1,ge=!1,ye=ee.FullPaths.length-1;ye>=0;--ye){var we=ee.FileIndex[ye];switch(we.type){case 0:ge?pe=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(we.R*we.L*we.C)&&(pe=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(pe=!0);break;default:pe=!0;break}}if(!(!pe&&!ve)){var Ge=new Date(1987,1,19),tt=0,Ke=Object.create?Object.create(null):{},Ye=[];for(ye=0;ye<ee.FullPaths.length;++ye)Ke[ee.FullPaths[ye]]=!0,ee.FileIndex[ye].type!==0&&Ye.push([ee.FullPaths[ye],ee.FileIndex[ye]]);for(ye=0;ye<Ye.length;++ye){var Ze=n(Ye[ye][0]);ge=Ke[Ze],ge||(Ye.push([Ze,{name:a(Ze).replace("/",""),type:1,clsid:z,ct:Ge,mt:Ge,content:null}]),Ke[Ze]=!0)}for(Ye.sort(function(Vt,It){return r(Vt[0],It[0])}),ee.FullPaths=[],ee.FileIndex=[],ye=0;ye<Ye.length;++ye)ee.FullPaths[ye]=Ye[ye][0],ee.FileIndex[ye]=Ye[ye][1];for(ye=0;ye<Ye.length;++ye){var Tt=ee.FileIndex[ye],Mt=ee.FullPaths[ye];if(Tt.name=a(Mt).replace("/",""),Tt.L=Tt.R=Tt.C=-(Tt.color=1),Tt.size=Tt.content?Tt.content.length:0,Tt.start=0,Tt.clsid=Tt.clsid||z,ye===0)Tt.C=Ye.length>1?1:-1,Tt.size=0,Tt.type=5;else if(Mt.slice(-1)=="/"){for(tt=ye+1;tt<Ye.length&&n(ee.FullPaths[tt])!=Mt;++tt);for(Tt.C=tt>=Ye.length?-1:tt,tt=ye+1;tt<Ye.length&&n(ee.FullPaths[tt])!=n(Mt);++tt);Tt.R=tt>=Ye.length?-1:tt,Tt.type=1}else n(ee.FullPaths[ye+1]||"")==n(Mt)&&(Tt.R=ye+1),Tt.type=2}}}function I(ee,ve){var pe=ve||{};if(pe.fileType=="mad")return Yt(ee,pe);switch(S(ee),pe.fileType){case"zip":return Kt(ee,pe)}var ge=function(Vt){for(var It=0,Bt=0,dr=0;dr<Vt.FileIndex.length;++dr){var Vr=Vt.FileIndex[dr];if(Vr.content){var Hr=Vr.content.length;Hr>0&&(Hr<4096?It+=Hr+63>>6:Bt+=Hr+511>>9)}}for(var sn=Vt.FullPaths.length+3>>2,di=It+7>>3,qs=It+127>>7,is=di+Bt+sn+qs,ji=is+127>>7,ss=ji<=109?0:Math.ceil((ji-109)/127);is+ji+ss+127>>7>ji;)ss=++ji<=109?0:Math.ceil((ji-109)/127);var Ba=[1,ss,ji,qs,sn,Bt,It,0];return Vt.FileIndex[0].size=It<<6,Ba[7]=(Vt.FileIndex[0].start=Ba[0]+Ba[1]+Ba[2]+Ba[3]+Ba[4]+Ba[5])+(Ba[6]+7>>3),Ba}(ee),ye=Wa(ge[7]<<9),we=0,Ge=0;{for(we=0;we<8;++we)ye.write_shift(1,X[we]);for(we=0;we<8;++we)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),we=0;we<3;++we)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,ge[2]),ye.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:N),ye.write_shift(4,ge[3]),ye.write_shift(-4,ge[1]?ge[0]-1:N),ye.write_shift(4,ge[1]),we=0;we<109;++we)ye.write_shift(-4,we<ge[2]?ge[1]+we:-1)}if(ge[1])for(Ge=0;Ge<ge[1];++Ge){for(;we<236+Ge*127;++we)ye.write_shift(-4,we<ge[2]?ge[1]+we:-1);ye.write_shift(-4,Ge===ge[1]-1?N:Ge+1)}var tt=function(Vt){for(Ge+=Vt;we<Ge-1;++we)ye.write_shift(-4,we+1);Vt&&(++we,ye.write_shift(-4,N))};for(Ge=we=0,Ge+=ge[1];we<Ge;++we)ye.write_shift(-4,H.DIFSECT);for(Ge+=ge[2];we<Ge;++we)ye.write_shift(-4,H.FATSECT);tt(ge[3]),tt(ge[4]);for(var Ke=0,Ye=0,Ze=ee.FileIndex[0];Ke<ee.FileIndex.length;++Ke)Ze=ee.FileIndex[Ke],Ze.content&&(Ye=Ze.content.length,!(Ye<4096)&&(Ze.start=Ge,tt(Ye+511>>9)));for(tt(ge[6]+7>>3);ye.l&511;)ye.write_shift(-4,H.ENDOFCHAIN);for(Ge=we=0,Ke=0;Ke<ee.FileIndex.length;++Ke)Ze=ee.FileIndex[Ke],Ze.content&&(Ye=Ze.content.length,!(!Ye||Ye>=4096)&&(Ze.start=Ge,tt(Ye+63>>6)));for(;ye.l&511;)ye.write_shift(-4,H.ENDOFCHAIN);for(we=0;we<ge[4]<<2;++we){var Tt=ee.FullPaths[we];if(!Tt||Tt.length===0){for(Ke=0;Ke<17;++Ke)ye.write_shift(4,0);for(Ke=0;Ke<3;++Ke)ye.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)ye.write_shift(4,0);continue}Ze=ee.FileIndex[we],we===0&&(Ze.start=Ze.size?Ze.start-1:N);var Mt=we===0&&pe.root||Ze.name;if(Ye=2*(Mt.length+1),ye.write_shift(64,Mt,"utf16le"),ye.write_shift(2,Ye),ye.write_shift(1,Ze.type),ye.write_shift(1,Ze.color),ye.write_shift(-4,Ze.L),ye.write_shift(-4,Ze.R),ye.write_shift(-4,Ze.C),Ze.clsid)ye.write_shift(16,Ze.clsid,"hex");else for(Ke=0;Ke<4;++Ke)ye.write_shift(4,0);ye.write_shift(4,Ze.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,Ze.start),ye.write_shift(4,Ze.size),ye.write_shift(4,0)}for(we=1;we<ee.FileIndex.length;++we)if(Ze=ee.FileIndex[we],Ze.size>=4096)if(ye.l=Ze.start+1<<9,Qr&&Buffer.isBuffer(Ze.content))Ze.content.copy(ye,ye.l,0,Ze.size),ye.l+=Ze.size+511&-512;else{for(Ke=0;Ke<Ze.size;++Ke)ye.write_shift(1,Ze.content[Ke]);for(;Ke&511;++Ke)ye.write_shift(1,0)}for(we=1;we<ee.FileIndex.length;++we)if(Ze=ee.FileIndex[we],Ze.size>0&&Ze.size<4096)if(Qr&&Buffer.isBuffer(Ze.content))Ze.content.copy(ye,ye.l,0,Ze.size),ye.l+=Ze.size+63&-64;else{for(Ke=0;Ke<Ze.size;++Ke)ye.write_shift(1,Ze.content[Ke]);for(;Ke&63;++Ke)ye.write_shift(1,0)}if(Qr)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function E(ee,ve){var pe=ee.FullPaths.map(function(Ke){return Ke.toUpperCase()}),ge=pe.map(function(Ke){var Ye=Ke.split("/");return Ye[Ye.length-(Ke.slice(-1)=="/"?2:1)]}),ye=!1;ve.charCodeAt(0)===47?(ye=!0,ve=pe[0].slice(0,-1)+ve):ye=ve.indexOf("/")!==-1;var we=ve.toUpperCase(),Ge=ye===!0?pe.indexOf(we):ge.indexOf(we);if(Ge!==-1)return ee.FileIndex[Ge];var tt=!we.match(bg);for(we=we.replace(Ss,""),tt&&(we=we.replace(bg,"!")),Ge=0;Ge<pe.length;++Ge)if((tt?pe[Ge].replace(bg,"!"):pe[Ge]).replace(Ss,"")==we||(tt?ge[Ge].replace(bg,"!"):ge[Ge]).replace(Ss,"")==we)return ee.FileIndex[Ge];return null}var C=64,N=-2,U="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(ee,ve,pe){c();var ge=I(ee,pe);l.writeFileSync(ve,ge)}function q(ee){for(var ve=new Array(ee.length),pe=0;pe<ee.length;++pe)ve[pe]=String.fromCharCode(ee[pe]);return ve.join("")}function te(ee,ve){var pe=I(ee,ve);switch(ve&&ve.type||"buffer"){case"file":return c(),l.writeFileSync(ve.filename,pe),pe;case"binary":return typeof pe=="string"?pe:q(pe);case"base64":return mD(typeof pe=="string"?pe:q(pe));case"buffer":if(Qr)return Buffer.isBuffer(pe)?pe:Sh(pe);case"array":return typeof pe=="string"?ml(pe):pe}return pe}var Z;function k(ee){try{var ve=ee.InflateRaw,pe=new ve;if(pe._processChunk(new Uint8Array([3,0]),pe._finishFlushFlag),pe.bytesRead)Z=ee;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function R(ee,ve){if(!Z)return Re(ee,ve);var pe=Z.InflateRaw,ge=new pe,ye=ge._processChunk(ee.slice(ee.l),ge._finishFlushFlag);return ee.l+=ge.bytesRead,ye}function G(ee){return Z?Z.deflateRawSync(ee):mt(ee)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(ee){var ve=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var ae=typeof Uint8Array<"u",he=ae?new Uint8Array(256):[],xe=0;xe<256;++xe)he[xe]=ue(xe);function W(ee,ve){var pe=he[ee&255];return ve<=8?pe>>>8-ve:(pe=pe<<8|he[ee>>8&255],ve<=16?pe>>>16-ve:(pe=pe<<8|he[ee>>16&255],pe>>>24-ve))}function Ne(ee,ve){var pe=ve&7,ge=ve>>>3;return(ee[ge]|(pe<=6?0:ee[ge+1]<<8))>>>pe&3}function ke(ee,ve){var pe=ve&7,ge=ve>>>3;return(ee[ge]|(pe<=5?0:ee[ge+1]<<8))>>>pe&7}function _e(ee,ve){var pe=ve&7,ge=ve>>>3;return(ee[ge]|(pe<=4?0:ee[ge+1]<<8))>>>pe&15}function le(ee,ve){var pe=ve&7,ge=ve>>>3;return(ee[ge]|(pe<=3?0:ee[ge+1]<<8))>>>pe&31}function Le(ee,ve){var pe=ve&7,ge=ve>>>3;return(ee[ge]|(pe<=1?0:ee[ge+1]<<8))>>>pe&127}function Oe(ee,ve,pe){var ge=ve&7,ye=ve>>>3,we=(1<<pe)-1,Ge=ee[ye]>>>ge;return pe<8-ge||(Ge|=ee[ye+1]<<8-ge,pe<16-ge)||(Ge|=ee[ye+2]<<16-ge,pe<24-ge)||(Ge|=ee[ye+3]<<24-ge),Ge&we}function Ve(ee,ve,pe){var ge=ve&7,ye=ve>>>3;return ge<=5?ee[ye]|=(pe&7)<<ge:(ee[ye]|=pe<<ge&255,ee[ye+1]=(pe&7)>>8-ge),ve+3}function We(ee,ve,pe){var ge=ve&7,ye=ve>>>3;return pe=(pe&1)<<ge,ee[ye]|=pe,ve+1}function Ee(ee,ve,pe){var ge=ve&7,ye=ve>>>3;return pe<<=ge,ee[ye]|=pe&255,pe>>>=8,ee[ye+1]=pe,ve+8}function Fe(ee,ve,pe){var ge=ve&7,ye=ve>>>3;return pe<<=ge,ee[ye]|=pe&255,pe>>>=8,ee[ye+1]=pe&255,ee[ye+2]=pe>>>8,ve+16}function Se(ee,ve){var pe=ee.length,ge=2*pe>ve?2*pe:ve+5,ye=0;if(pe>=ve)return ee;if(Qr){var we=gD(ge);if(ee.copy)ee.copy(we);else for(;ye<ee.length;++ye)we[ye]=ee[ye];return we}else if(ae){var Ge=new Uint8Array(ge);if(Ge.set)Ge.set(ee);else for(;ye<pe;++ye)Ge[ye]=ee[ye];return Ge}return ee.length=ge,ee}function Me(ee){for(var ve=new Array(ee),pe=0;pe<ee;++pe)ve[pe]=0;return ve}function He(ee,ve,pe){var ge=1,ye=0,we=0,Ge=0,tt=0,Ke=ee.length,Ye=ae?new Uint16Array(32):Me(32);for(we=0;we<32;++we)Ye[we]=0;for(we=Ke;we<pe;++we)ee[we]=0;Ke=ee.length;var Ze=ae?new Uint16Array(Ke):Me(Ke);for(we=0;we<Ke;++we)Ye[ye=ee[we]]++,ge<ye&&(ge=ye),Ze[we]=0;for(Ye[0]=0,we=1;we<=ge;++we)Ye[we+16]=tt=tt+Ye[we-1]<<1;for(we=0;we<Ke;++we)tt=ee[we],tt!=0&&(Ze[we]=Ye[tt+16]++);var Tt=0;for(we=0;we<Ke;++we)if(Tt=ee[we],Tt!=0)for(tt=W(Ze[we],ge)>>ge-Tt,Ge=(1<<ge+4-Tt)-1;Ge>=0;--Ge)ve[tt|Ge<<Tt]=Tt&15|we<<4;return ge}var at=ae?new Uint16Array(512):Me(512),ot=ae?new Uint16Array(32):Me(32);if(!ae){for(var xt=0;xt<512;++xt)at[xt]=0;for(xt=0;xt<32;++xt)ot[xt]=0}(function(){for(var ee=[],ve=0;ve<32;ve++)ee.push(5);He(ee,ot,32);var pe=[];for(ve=0;ve<=143;ve++)pe.push(8);for(;ve<=255;ve++)pe.push(9);for(;ve<=279;ve++)pe.push(7);for(;ve<=287;ve++)pe.push(8);He(pe,at,288)})();var ht=function(){for(var ve=ae?new Uint8Array(32768):[],pe=0,ge=0;pe<se.length-1;++pe)for(;ge<se[pe+1];++ge)ve[ge]=pe;for(;ge<32768;++ge)ve[ge]=29;var ye=ae?new Uint8Array(259):[];for(pe=0,ge=0;pe<J.length-1;++pe)for(;ge<J[pe+1];++ge)ye[ge]=pe;function we(tt,Ke){for(var Ye=0;Ye<tt.length;){var Ze=Math.min(65535,tt.length-Ye),Tt=Ye+Ze==tt.length;for(Ke.write_shift(1,+Tt),Ke.write_shift(2,Ze),Ke.write_shift(2,~Ze&65535);Ze-- >0;)Ke[Ke.l++]=tt[Ye++]}return Ke.l}function Ge(tt,Ke){for(var Ye=0,Ze=0,Tt=ae?new Uint16Array(32768):[];Ze<tt.length;){var Mt=Math.min(65535,tt.length-Ze);if(Mt<10){for(Ye=Ve(Ke,Ye,+(Ze+Mt==tt.length)),Ye&7&&(Ye+=8-(Ye&7)),Ke.l=Ye/8|0,Ke.write_shift(2,Mt),Ke.write_shift(2,~Mt&65535);Mt-- >0;)Ke[Ke.l++]=tt[Ze++];Ye=Ke.l*8;continue}Ye=Ve(Ke,Ye,+(Ze+Mt==tt.length)+2);for(var Vt=0;Mt-- >0;){var It=tt[Ze];Vt=(Vt<<5^It)&32767;var Bt=-1,dr=0;if((Bt=Tt[Vt])&&(Bt|=Ze&-32768,Bt>Ze&&(Bt-=32768),Bt<Ze))for(;tt[Bt+dr]==tt[Ze+dr]&&dr<250;)++dr;if(dr>2){It=ye[dr],It<=22?Ye=Ee(Ke,Ye,he[It+1]>>1)-1:(Ee(Ke,Ye,3),Ye+=5,Ee(Ke,Ye,he[It-23]>>5),Ye+=3);var Vr=It<8?0:It-4>>2;Vr>0&&(Fe(Ke,Ye,dr-J[It]),Ye+=Vr),It=ve[Ze-Bt],Ye=Ee(Ke,Ye,he[It]>>3),Ye-=3;var Hr=It<4?0:It-2>>1;Hr>0&&(Fe(Ke,Ye,Ze-Bt-se[It]),Ye+=Hr);for(var sn=0;sn<dr;++sn)Tt[Vt]=Ze&32767,Vt=(Vt<<5^tt[Ze])&32767,++Ze;Mt-=dr-1}else It<=143?It=It+48:Ye=We(Ke,Ye,1),Ye=Ee(Ke,Ye,he[It]),Tt[Vt]=Ze&32767,++Ze}Ye=Ee(Ke,Ye,0)-1}return Ke.l=(Ye+7)/8|0,Ke.l}return function(Ke,Ye){return Ke.length<8?we(Ke,Ye):Ge(Ke,Ye)}}();function mt(ee){var ve=Wa(50+Math.floor(ee.length*1.1)),pe=ht(ee,ve);return ve.slice(0,pe)}var ct=ae?new Uint16Array(32768):Me(32768),Zt=ae?new Uint16Array(32768):Me(32768),Ht=ae?new Uint16Array(128):Me(128),Rr=1,Ir=1;function Wr(ee,ve){var pe=le(ee,ve)+257;ve+=5;var ge=le(ee,ve)+1;ve+=5;var ye=_e(ee,ve)+4;ve+=4;for(var we=0,Ge=ae?new Uint8Array(19):Me(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,Ye=ae?new Uint8Array(8):Me(8),Ze=ae?new Uint8Array(8):Me(8),Tt=Ge.length,Mt=0;Mt<ye;++Mt)Ge[Y[Mt]]=we=ke(ee,ve),Ke<we&&(Ke=we),Ye[we]++,ve+=3;var Vt=0;for(Ye[0]=0,Mt=1;Mt<=Ke;++Mt)Ze[Mt]=Vt=Vt+Ye[Mt-1]<<1;for(Mt=0;Mt<Tt;++Mt)(Vt=Ge[Mt])!=0&&(tt[Mt]=Ze[Vt]++);var It=0;for(Mt=0;Mt<Tt;++Mt)if(It=Ge[Mt],It!=0){Vt=he[tt[Mt]]>>8-It;for(var Bt=(1<<7-It)-1;Bt>=0;--Bt)Ht[Vt|Bt<<It]=It&7|Mt<<3}var dr=[];for(Ke=1;dr.length<pe+ge;)switch(Vt=Ht[Le(ee,ve)],ve+=Vt&7,Vt>>>=3){case 16:for(we=3+Ne(ee,ve),ve+=2,Vt=dr[dr.length-1];we-- >0;)dr.push(Vt);break;case 17:for(we=3+ke(ee,ve),ve+=3;we-- >0;)dr.push(0);break;case 18:for(we=11+Le(ee,ve),ve+=7;we-- >0;)dr.push(0);break;default:dr.push(Vt),Ke<Vt&&(Ke=Vt);break}var Vr=dr.slice(0,pe),Hr=dr.slice(pe);for(Mt=pe;Mt<286;++Mt)Vr[Mt]=0;for(Mt=ge;Mt<30;++Mt)Hr[Mt]=0;return Rr=He(Vr,ct,286),Ir=He(Hr,Zt,30),ve}function Pe(ee,ve){if(ee[0]==3&&!(ee[1]&3))return[Vf(ve),2];for(var pe=0,ge=0,ye=gD(ve||1<<18),we=0,Ge=ye.length>>>0,tt=0,Ke=0;!(ge&1);){if(ge=ke(ee,pe),pe+=3,ge>>>1)ge>>1==1?(tt=9,Ke=5):(pe=Wr(ee,pe),tt=Rr,Ke=Ir);else{pe&7&&(pe+=8-(pe&7));var Ye=ee[pe>>>3]|ee[(pe>>>3)+1]<<8;if(pe+=32,Ye>0)for(!ve&&Ge<we+Ye&&(ye=Se(ye,we+Ye),Ge=ye.length);Ye-- >0;)ye[we++]=ee[pe>>>3],pe+=8;continue}for(;;){!ve&&Ge<we+32767&&(ye=Se(ye,we+32767),Ge=ye.length);var Ze=Oe(ee,pe,tt),Tt=ge>>>1==1?at[Ze]:ct[Ze];if(pe+=Tt&15,Tt>>>=4,!(Tt>>>8&255))ye[we++]=Tt;else{if(Tt==256)break;Tt-=257;var Mt=Tt<8?0:Tt-4>>2;Mt>5&&(Mt=0);var Vt=we+J[Tt];Mt>0&&(Vt+=Oe(ee,pe,Mt),pe+=Mt),Ze=Oe(ee,pe,Ke),Tt=ge>>>1==1?ot[Ze]:Zt[Ze],pe+=Tt&15,Tt>>>=4;var It=Tt<4?0:Tt-2>>1,Bt=se[Tt];for(It>0&&(Bt+=Oe(ee,pe,It),pe+=It),!ve&&Ge<Vt&&(ye=Se(ye,Vt+100),Ge=ye.length);we<Vt;)ye[we]=ye[we-Bt],++we}}}return ve?[ye,pe+7>>>3]:[ye.slice(0,we),pe+7>>>3]}function Re(ee,ve){var pe=ee.slice(ee.l||0),ge=Pe(pe,ve);return ee.l+=ge[1],ge[0]}function rt(ee,ve){if(ee)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function vt(ee,ve){var pe=ee;_i(pe,0);var ge=[],ye=[],we={FileIndex:ge,FullPaths:ye};T(we,{root:ve.root});for(var Ge=pe.length-4;(pe[Ge]!=80||pe[Ge+1]!=75||pe[Ge+2]!=5||pe[Ge+3]!=6)&&Ge>=0;)--Ge;pe.l=Ge+4,pe.l+=4;var tt=pe.read_shift(2);pe.l+=6;var Ke=pe.read_shift(4);for(pe.l=Ke,Ge=0;Ge<tt;++Ge){pe.l+=20;var Ye=pe.read_shift(4),Ze=pe.read_shift(4),Tt=pe.read_shift(2),Mt=pe.read_shift(2),Vt=pe.read_shift(2);pe.l+=8;var It=pe.read_shift(4),Bt=o(pe.slice(pe.l+Tt,pe.l+Tt+Mt));pe.l+=Tt+Mt+Vt;var dr=pe.l;pe.l=It+4,Nt(pe,Ye,Ze,we,Bt),pe.l=dr}return we}function Nt(ee,ve,pe,ge,ye){ee.l+=2;var we=ee.read_shift(2),Ge=ee.read_shift(2),tt=s(ee);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=ee.read_shift(4),Ye=ee.read_shift(4),Ze=ee.read_shift(4),Tt=ee.read_shift(2),Mt=ee.read_shift(2),Vt="",It=0;It<Tt;++It)Vt+=String.fromCharCode(ee[ee.l++]);if(Mt){var Bt=o(ee.slice(ee.l,ee.l+Mt));(Bt[21589]||{}).mt&&(tt=Bt[21589].mt),((ye||{})[21589]||{}).mt&&(tt=ye[21589].mt)}ee.l+=Mt;var dr=ee.slice(ee.l,ee.l+Ye);switch(Ge){case 8:dr=R(ee,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Vr=!1;we&8&&(Ke=ee.read_shift(4),Ke==134695760&&(Ke=ee.read_shift(4),Vr=!0),Ye=ee.read_shift(4),Ze=ee.read_shift(4)),Ye!=ve&&rt(Vr,"Bad compressed size: "+ve+" != "+Ye),Ze!=pe&&rt(Vr,"Bad uncompressed size: "+pe+" != "+Ze),Rn(ge,Vt,dr,{unsafe:!0,mt:tt})}function Kt(ee,ve){var pe=ve||{},ge=[],ye=[],we=Wa(1),Ge=pe.compression?8:0,tt=0,Ke=0,Ye=0,Ze=0,Tt=0,Mt=ee.FullPaths[0],Vt=Mt,It=ee.FileIndex[0],Bt=[],dr=0;for(Ke=1;Ke<ee.FullPaths.length;++Ke)if(Vt=ee.FullPaths[Ke].slice(Mt.length),It=ee.FileIndex[Ke],!(!It.size||!It.content||Vt=="Sh33tJ5")){var Vr=Ze,Hr=Wa(Vt.length);for(Ye=0;Ye<Vt.length;++Ye)Hr.write_shift(1,Vt.charCodeAt(Ye)&127);Hr=Hr.slice(0,Hr.l),Bt[Tt]=ode.buf(It.content,0);var sn=It.content;Ge==8&&(sn=G(sn)),we=Wa(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,Ge),It.mt?i(we,It.mt):we.write_shift(4,0),we.write_shift(-4,Bt[Tt]),we.write_shift(4,sn.length),we.write_shift(4,It.content.length),we.write_shift(2,Hr.length),we.write_shift(2,0),Ze+=we.length,ge.push(we),Ze+=Hr.length,ge.push(Hr),Ze+=sn.length,ge.push(sn),we=Wa(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,tt),we.write_shift(2,Ge),we.write_shift(4,0),we.write_shift(-4,Bt[Tt]),we.write_shift(4,sn.length),we.write_shift(4,It.content.length),we.write_shift(2,Hr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Vr),dr+=we.l,ye.push(we),dr+=Hr.length,ye.push(Hr),++Tt}return we=Wa(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,Tt),we.write_shift(2,Tt),we.write_shift(4,dr),we.write_shift(4,Ze),we.write_shift(2,0),nf([nf(ge),nf(ye),we])}var Ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Dt(ee,ve){if(ee.ctype)return ee.ctype;var pe=ee.name||"",ge=pe.match(/\.([^\.]+)$/);return ge&&Ft[ge[1]]||ve&&(ge=(pe=ve).match(/[\.\\]([^\.\\])+$/),ge&&Ft[ge[1]])?Ft[ge[1]]:"application/octet-stream"}function rr(ee){for(var ve=mD(ee),pe=[],ge=0;ge<ve.length;ge+=76)pe.push(ve.slice(ge,ge+76));return pe.join(`\r
`)+`\r
`}function gr(ee){var ve=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var Ze=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var pe=[],ge=ve.split(`\r
`),ye=0;ye<ge.length;++ye){var we=ge[ye];if(we.length==0){pe.push("");continue}for(var Ge=0;Ge<we.length;){var tt=76,Ke=we.slice(Ge,Ge+tt);Ke.charAt(tt-1)=="="?tt--:Ke.charAt(tt-2)=="="?tt-=2:Ke.charAt(tt-3)=="="&&(tt-=3),Ke=we.slice(Ge,Ge+tt),Ge+=tt,Ge<we.length&&(Ke+="="),pe.push(Ke)}}return pe.join(`\r
`)}function or(ee){for(var ve=[],pe=0;pe<ee.length;++pe){for(var ge=ee[pe];pe<=ee.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ee[++pe];ve.push(ge)}for(var ye=0;ye<ve.length;++ye)ve[ye]=ve[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return ml(ve.join(`\r
`))}function Tr(ee,ve,pe){for(var ge="",ye="",we="",Ge,tt=0;tt<10;++tt){var Ke=ve[tt];if(!Ke||Ke.match(/^\s*$/))break;var Ye=Ke.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":ge=Ye[2].trim();break;case"content-type":we=Ye[2].trim();break;case"content-transfer-encoding":ye=Ye[2].trim();break}}switch(++tt,ye.toLowerCase()){case"base64":Ge=ml(co(ve.slice(tt).join("")));break;case"quoted-printable":Ge=or(ve.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var Ze=Rn(ee,ge.slice(pe.length),Ge,{unsafe:!0});we&&(Ze.ctype=we)}function An(ee,ve){if(q(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var pe=ve&&ve.root||"",ge=(Qr&&Buffer.isBuffer(ee)?ee.toString("binary"):q(ee)).split(`\r
`),ye=0,we="";for(ye=0;ye<ge.length;++ye)if(we=ge[ye],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),pe||(pe=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,pe.length)!=pe))for(;pe.length>0&&(pe=pe.slice(0,pe.length-1),pe=pe.slice(0,pe.lastIndexOf("/")+1),we.slice(0,pe.length)!=pe););var Ge=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var tt="--"+(Ge[1]||""),Ke=[],Ye=[],Ze={FileIndex:Ke,FullPaths:Ye};T(Ze);var Tt,Mt=0;for(ye=0;ye<ge.length;++ye){var Vt=ge[ye];Vt!==tt&&Vt!==tt+"--"||(Mt++&&Tr(Ze,ge.slice(Tt,ye),pe),Tt=ye)}return Ze}function Yt(ee,ve){var pe=ve||{},ge=pe.boundary||"SheetJS";ge="------="+ge;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],we=ee.FullPaths[0],Ge=we,tt=ee.FileIndex[0],Ke=1;Ke<ee.FullPaths.length;++Ke)if(Ge=ee.FullPaths[Ke].slice(we.length),tt=ee.FileIndex[Ke],!(!tt.size||!tt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(dr){return"_x"+dr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(dr){return"_u"+dr.charCodeAt(0).toString(16)+"_"});for(var Ye=tt.content,Ze=Qr&&Buffer.isBuffer(Ye)?Ye.toString("binary"):q(Ye),Tt=0,Mt=Math.min(1024,Ze.length),Vt=0,It=0;It<=Mt;++It)(Vt=Ze.charCodeAt(It))>=32&&Vt<128&&++Tt;var Bt=Tt>=Mt*4/5;ye.push(ge),ye.push("Content-Location: "+(pe.root||"file:///C:/SheetJS/")+Ge),ye.push("Content-Transfer-Encoding: "+(Bt?"quoted-printable":"base64")),ye.push("Content-Type: "+Dt(tt,Ge)),ye.push(""),ye.push(Bt?gr(Ze):rr(Ze))}return ye.push(ge+`--\r
`),ye.join(`\r
`)}function Mn(ee){var ve={};return T(ve,ee),ve}function Rn(ee,ve,pe,ge){var ye=ge&&ge.unsafe;ye||T(ee);var we=!ye&&rn.find(ee,ve);if(!we){var Ge=ee.FullPaths[0];ve.slice(0,Ge.length)==Ge?Ge=ve:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+ve).replace("//","/")),we={name:a(ve),type:2},ee.FileIndex.push(we),ee.FullPaths.push(Ge),ye||rn.utils.cfb_gc(ee)}return we.content=pe,we.size=pe?pe.length:0,ge&&(ge.CLSID&&(we.clsid=ge.CLSID),ge.mt&&(we.mt=ge.mt),ge.ct&&(we.ct=ge.ct)),we}function Ce(ee,ve){T(ee);var pe=rn.find(ee,ve);if(pe){for(var ge=0;ge<ee.FileIndex.length;++ge)if(ee.FileIndex[ge]==pe)return ee.FileIndex.splice(ge,1),ee.FullPaths.splice(ge,1),!0}return!1}function it(ee,ve,pe){T(ee);var ge=rn.find(ee,ve);if(ge){for(var ye=0;ye<ee.FileIndex.length;++ye)if(ee.FileIndex[ye]==ge)return ee.FileIndex[ye].name=a(pe),ee.FullPaths[ye]=pe,!0}return!1}function ut(ee){S(ee,!0)}return t.find=E,t.read=P,t.parse=u,t.write=te,t.writeFile=V,t.utils={cfb_new:Mn,cfb_add:Rn,cfb_del:Ce,cfb_mov:it,cfb_gc:ut,ReadShift:qg,CheckField:Hz,prep_blob:_i,bconcat:nf,use_zlib:k,_deflateRaw:mt,_inflateRaw:Re,consts:H},t}();function lde(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function sc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Jk(e){for(var t=[],r=sc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var wb=new Date(1899,11,30,0,0,0);function As(e,t){var r=e.getTime(),n=wb.getTime()+(e.getTimezoneOffset()-wb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Tz=new Date,cde=wb.getTime()+(Tz.getTimezoneOffset()-wb.getTimezoneOffset())*6e4,AD=Tz.getTimezoneOffset();function S5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+cde),t.getTimezoneOffset()!==AD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-AD)*6e4),t}function ude(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var TD=new Date("2017-02-19T19:06:09.000Z"),Ez=isNaN(TD.getFullYear())?new Date("2/19/17"):TD,fde=Ez.getFullYear()==2017;function ui(e,t){var r=new Date(e);if(fde)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Ez.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ch(e,t){if(Qr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return _g(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return _g(dz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return _g(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return _g(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ni(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ni(e[r]));return t}function pa(e,t){for(var r="";r.length<t;)r+=e;return r}function Al(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var dde=["january","february","march","april","may","june","july","august","september","october","november","december"];function wp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&dde.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var hde=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function Nz(e){return e?e.content&&e.type?ch(e.content,!0):e.data?xg(e.data):e.asNodeBuffer&&Qr?xg(e.asNodeBuffer().toString("binary")):e.asBinary?xg(e.asBinary()):e._data&&e._data.getContent?xg(ch(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function kz(e){if(!e)return null;if(e.data)return hD(e.data);if(e.asNodeBuffer&&Qr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?hD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function pde(e){return e&&e.name.slice(-4)===".bin"?kz(e):Nz(e)}function Po(e,t){for(var r=e.FullPaths||sc(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Zk(e,t){var r=Po(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ja(e,t,r){if(!r)return pde(Zk(e,t));if(!t)return null;try{return ja(e,t)}catch{return null}}function ro(e,t,r){if(!r)return Nz(Zk(e,t));if(!t)return null;try{return ro(e,t)}catch{return null}}function mde(e,t,r){return kz(Zk(e,t))}function ED(e){for(var t=e.FullPaths||sc(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function gde(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qr?n=Sh(r):n=Lfe(r),rn.utils.cfb_add(e,t,n)}rn.utils.cfb_add(e,t,r)}else e.file(t,r)}function Cz(e,t){switch(t.type){case"base64":return rn.read(e,{type:"base64"});case"binary":return rn.read(e,{type:"binary"});case"buffer":case"array":return rn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function wg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Pz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vde=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ND=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,yde=/<[^>]*>/g,as=Pz.match(ND)?ND:yde,xde=/<\w*:/,bde=/<(\/?)\w+:/;function Ar(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(vde),o=0,l="",c=0,u="",d="",h=1;if(s)for(c=0;c!=s.length;++c){for(d=s[c],i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(u=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;for(h=(a=d.charCodeAt(i+1))==34||a==39?1:0,l=d.slice(i+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function cc(e){return e.replace(bde,"<$1")}var jz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},wde=Jk(jz),cn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return jz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),_de=/[&<>'"]/g,Sde=/[\u0000-\u001f]/g;function eC(e){var t=e+"";return t.replace(_de,function(r){return wde[r]}).replace(/\n/g,"<br/>").replace(Sde,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var kD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Zn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function RS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function CD(e){var t=Vf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function PD(e){return Sh(e,"binary").toString("utf8")}var gx="foo bar bazâð£",qn=Qr&&(PD(gx)==RS(gx)&&PD||CD(gx)==RS(gx)&&CD)||RS,_g=Qr?function(e){return Sh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Hv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Oz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Ade=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Tde=/<\/?(?:vt:)?variant>/g,Ede=/<(?:vt:)([^>]*)>([\s\S]*)</;function jD(e,t){var r=Ar(e),n=e.match(Ade(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Tde,"").match(Ede);s&&a.push({v:qn(s[2]),t:s[1]})}),a}var Nde=/(^\s|\s$|\n)/;function kde(e){return sc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Cde(e,t,r){return"<"+e+(r!=null?kde(r):"")+(t!=null?(t.match(Nde)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function tC(e){if(Qr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return qn(Ah(Yk(e)));throw new Error("Bad input format: expected Buffer or string")}var Gv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Pde={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},jde=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Ode(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Ide(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var OD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},ID=Qr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Sh(t)})):OD(e)}:OD,DD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Dc(e,a)));return n.join("").replace(Ss,"")},rC=Qr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ss,""):DD(e,t,r)}:DD,LD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Iz=Qr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):LD(e,t,r)}:LD,MD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(u0(e,a)));return n.join("")},ey=Qr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):MD(t,r,n)}:MD,Dz=function(e,t){var r=to(e,t);return r>0?ey(e,t+4,t+4+r-1):""},Lz=Dz,Mz=function(e,t){var r=to(e,t);return r>0?ey(e,t+4,t+4+r-1):""},Rz=Mz,Fz=function(e,t){var r=2*to(e,t);return r>0?ey(e,t+4,t+4+r-1):""},$z=Fz,Bz=function(t,r){var n=to(t,r);return n>0?rC(t,r+4,r+4+n):""},Uz=Bz,Vz=function(e,t){var r=to(e,t);return r>0?ey(e,t+4,t+4+r):""},zz=Vz,qz=function(e,t){return Ode(e,t)},_b=qz,Wz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qr&&(Lz=function(t,r){if(!Buffer.isBuffer(t))return Dz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Rz=function(t,r){if(!Buffer.isBuffer(t))return Mz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$z=function(t,r){if(!Buffer.isBuffer(t))return Fz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Uz=function(t,r){if(!Buffer.isBuffer(t))return Bz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},zz=function(t,r){if(!Buffer.isBuffer(t))return Vz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},_b=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):qz(t,r)},Wz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var u0=function(e,t){return e[t]},Dc=function(e,t){return e[t+1]*256+e[t]},Dde=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},to=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Cd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Lde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function qg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Qr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Dc(this,c)),c+=2;e*=2;break;case"utf8":r=ey(this,this.l,this.l+e);break;case"utf16le":e*=2,r=rC(this,this.l,this.l+e);break;case"wstr":return qg.call(this,e,"dbcs");case"lpstr-ansi":r=Lz(this,this.l),e=4+to(this,this.l);break;case"lpstr-cp":r=Rz(this,this.l),e=4+to(this,this.l);break;case"lpwstr":r=$z(this,this.l),e=4+2*to(this,this.l);break;case"lpp4":e=4+to(this,this.l),r=Uz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+to(this,this.l),r=zz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=u0(this,this.l+e++))!==0;)i.push(mx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Dc(this,this.l+e))!==0;)i.push(mx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=u0(this,c),this.l=c+1,o=qg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(mx(Dc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=u0(this,c),this.l=c+1,o=qg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(mx(u0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=u0(this,this.l),this.l++,n;case 2:return n=(t==="i"?Dde:Dc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Cd:Lde)(this,this.l),this.l+=4,n):(a=to(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=_b(this,this.l):a=_b([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Iz(this,this.l,e);break}}return this.l+=e,r}var Mde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Rde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Fde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function $de(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Fde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Mde(this,t,this.l);break;case 8:if(n=8,r==="f"){Ide(this,t,this.l);break}case 16:break;case-4:n=4,Rde(this,t,this.l);break}return this.l+=n,this}function Hz(e,t){var r=Iz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function _i(e,t){e.l=t,e.read_shift=qg,e.chk=Hz,e.write_shift=$de}function ns(e,t){e.l+=t}function Wa(e){var t=Vf(e);return _i(t,0),t}function mu(e,t,r){if(e){var n,a,i;_i(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=kb[o]||kb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function E3(){var e=[],t=Qr?256:2048,r=function(c){var u=Wa(c);return _i(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),nf(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Wg(e,t,r){var n=Ni(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function RD(e,t,r){var n=Ni(e);return n.s=Wg(n.s,t.s,r),n.e=Wg(n.e,t.s,r),n}function Hg(e,t){if(e.cRel&&e.c<0)for(e=Ni(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ni(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Or(e);return!e.cRel&&e.cRel!=null&&(r=Vde(r)),!e.rRel&&e.rRel!=null&&(r=Bde(r)),r}function FS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ka(e.s.c)+":"+(e.e.cRel?"":"$")+Ka(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ki(e.s.r)+":"+(e.e.rRel?"":"$")+ki(e.e.r):Hg(e.s,t.biff)+":"+Hg(e.e,t.biff)}function nC(e){return parseInt(Ude(e),10)-1}function ki(e){return""+(e+1)}function Bde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ude(e){return e.replace(/\$(\d+)$/,"$1")}function aC(e){for(var t=zde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ka(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Vde(e){return e.replace(/^([A-Z])/,"$$$1")}function zde(e){return e.replace(/^\$([A-Z])/,"$1")}function qde(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Or(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function cm(e){var t=e.indexOf(":");return t==-1?{s:xs(e),e:xs(e)}:{s:xs(e.slice(0,t)),e:xs(e.slice(t+1))}}function nn(e,t){return typeof t>"u"||typeof t=="number"?nn(e.s,e.e):(typeof e!="string"&&(e=Or(e)),typeof t!="string"&&(t=Or(t)),e==t?e:e+":"+t)}function ga(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function FD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=zo(e.z,r?As(t):t)}catch{}try{return e.w=zo((e.XF||{}).numFmtId||(r?14:0),r?As(t):t)}catch{return""+t}}function iu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Nh[e.v]||e.v:t==null?FD(e,e.v):FD(e,t))}function Jf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Gz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?xs(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ga(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var p={v:t[d][h]},g=s+d,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))p=t[d][h];else if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Lr[14],n.cellDates?(p.t="d",p.w=zo(p.z,As(p.v))):(p.t="n",p.v=As(p.v),p.w=zo(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=Or({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=nn(c)),i}function um(e,t){return Gz(null,e,t)}function Wde(e){return e.read_shift(4,"i")}function es(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Hde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function iC(e,t){var r=e.l,n=e.read_shift(1),a=es(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(Hde(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Gde=iC;function Wo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Th(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Kde=es;function sC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Yde=es,N3=sC;function oC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?_b([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Cd(t,0)>>2;return r?a/100:a}function Kz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Eh=Kz;function Yi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Xde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Kd[a];c&&(t.rgb=Yv(c));break;case 2:t.rgb=Yv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Qde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Yz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Jde(e){return Yz(e,1)}function Zde(e){return Yz(e,2)}var lC=2,js=3,vx=11,$D=12,Sb=19,yx=64,ehe=65,the=71,rhe=4108,nhe=4126,ni=80,Xz=81,ahe=[ni,Xz],ihe={1:{n:"CodePage",t:lC},2:{n:"Category",t:ni},3:{n:"PresentationFormat",t:ni},4:{n:"ByteCount",t:js},5:{n:"LineCount",t:js},6:{n:"ParagraphCount",t:js},7:{n:"SlideCount",t:js},8:{n:"NoteCount",t:js},9:{n:"HiddenCount",t:js},10:{n:"MultimediaClipCount",t:js},11:{n:"ScaleCrop",t:vx},12:{n:"HeadingPairs",t:rhe},13:{n:"TitlesOfParts",t:nhe},14:{n:"Manager",t:ni},15:{n:"Company",t:ni},16:{n:"LinksUpToDate",t:vx},17:{n:"CharacterCount",t:js},19:{n:"SharedDoc",t:vx},22:{n:"HyperlinksChanged",t:vx},23:{n:"AppVersion",t:js,p:"version"},24:{n:"DigSig",t:ehe},26:{n:"ContentType",t:ni},27:{n:"ContentStatus",t:ni},28:{n:"Language",t:ni},29:{n:"Version",t:ni},255:{},2147483648:{n:"Locale",t:Sb},2147483651:{n:"Behavior",t:Sb},1919054434:{}},she={1:{n:"CodePage",t:lC},2:{n:"Title",t:ni},3:{n:"Subject",t:ni},4:{n:"Author",t:ni},5:{n:"Keywords",t:ni},6:{n:"Comments",t:ni},7:{n:"Template",t:ni},8:{n:"LastAuthor",t:ni},9:{n:"RevNumber",t:ni},10:{n:"EditTime",t:yx},11:{n:"LastPrinted",t:yx},12:{n:"CreatedDate",t:yx},13:{n:"ModifiedDate",t:yx},14:{n:"PageCount",t:js},15:{n:"WordCount",t:js},16:{n:"CharCount",t:js},17:{n:"Thumbnail",t:the},18:{n:"Application",t:ni},19:{n:"DocSecurity",t:js},255:{},2147483648:{n:"Locale",t:Sb},2147483651:{n:"Behavior",t:Sb},1919054434:{}},BD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ohe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function lhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var che=lhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Kd=Ni(che),Nh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Qz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},UD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function uhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function fhe(e){var t=uhe();if(!e||!e.match)return t;var r={};if((e.match(as)||[]).forEach(function(n){var a=Ar(n);switch(a[0].replace(xde,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[UD[a.ContentType]]!==void 0&&t[UD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Pde.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var P0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function k3(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Gg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(as)||[]).forEach(function(a){var i=Ar(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:wg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var dhe="application/vnd.oasis.opendocument.spreadsheet";function hhe(e,t){for(var r=tC(e),n,a;n=Gv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Ar(n[0],!1),a.path=="/"&&a.type!==dhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Kg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],phe=function(){for(var e=new Array(Kg.length),t=0;t<Kg.length;++t){var r=Kg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Jz(e){var t={};e=qn(e);for(var r=0;r<Kg.length;++r){var n=Kg[r],a=e.match(phe[r]);a!=null&&a.length>0&&(t[n[1]]=cn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ui(t[n[1]]))}return t}var mhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Zz(e,t,r,n){var a=[];if(typeof e=="string")a=jD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?jD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function ghe(e,t,r){var n={};return t||(t={}),e=qn(e),mhe.forEach(function(a){var i=(e.match(Hv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=cn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Zz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var vhe=/<[^>]+>[^<]*/g;function yhe(e,t){var r={},n="",a=e.match(vhe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Ar(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=cn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=cn(u);break;case"bool":r[n]=Zn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=ui(u);break;case"cy":case"error":r[n]=cn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var xhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},$S;function bhe(e,t,r){$S||($S=Jk(xhe)),t=$S[t]||t,e[t]=r}function cC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function eq(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function tq(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function rq(e,t,r){return t===31?tq(e):eq(e,t,r)}function C3(e,t,r){return rq(e,t,r===!1?0:4)}function whe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return rq(e,t,0)}function _he(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ss,""),e.l-a&2&&(e.l+=2)}return r}function She(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ss,"");return r}function Ahe(e){var t=e.l,r=Ab(e,Xz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Ab(e,js);return[r,n]}function The(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Ahe(e));return r}function VD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ss,"").replace(bg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function nq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Ehe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Ab(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==$D&&n!==t&&ahe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===$D?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return eq(e,n,4).replace(Ss,"");case 31:return tq(e);case 64:return cC(e);case 65:return nq(e);case 71:return Ehe(e);case 80:return C3(e,n,!i.raw).replace(Ss,"");case 81:return whe(e,n).replace(Ss,"");case 4108:return The(e);case 4126:case 4127:return n==4127?_he(e):She(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function zD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),d=e.read_shift(4);i[s]=[u,d+r]}i.sort(function(w,b){return w[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=Ab(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yl(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=Ab(e,lC),yl(o),l!==-1){var m=e.l;e.l=i[l][1],c=VD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=VD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=nq(e);break;case 30:e.l+=4,y=C3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=C3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=xa(e,4);break;case 64:e.l+=4,y=ui(cC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function qD(e,t,r){var n=e.content;if(!n)return{};_i(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==rn.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var d=zD(n,t),h={SystemIdentifier:c};for(var p in d)h[p]=d[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=zD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Wu(e,t){return e.read_shift(t),null}function Nhe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function xa(e,t){return e.read_shift(t)===1}function Oa(e){return e.read_shift(2,"u")}function aq(e,t){return Nhe(e,t,Oa)}function khe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function ty(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Che(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function uh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ry(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):uh(e,n,r)}function kh(e,t,r){if(r.biff>5)return ry(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Phe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function jhe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ss,"");return n&&(e.l+=24),a}function Ohe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Ss,"");return r+s}function Ihe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return jhe(e);case"0303000000000000c000000000000046":return Ohe(e);default:throw new Error("Unsupported Moniker "+r)}}function xx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ss,""):"";return r}function Dhe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,d;a&16&&(i=xx(e,r-e.l)),a&128&&(s=xx(e,r-e.l)),(a&257)===257&&(o=xx(e,r-e.l)),(a&257)===1&&(l=Ihe(e,r-e.l)),a&8&&(c=xx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(d=cC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),d&&(p.time=d),i&&(p.Tooltip=i),p}function iq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function sq(e,t){var r=iq(e);return r[3]=0,r}function uc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Lhe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Mhe(e,t,r){return t===0?"":kh(e,t,r)}function Rhe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function oq(e){var t=e.read_shift(2),r=oC(e);return[t,r]}function Fhe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=ty(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function A5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function lq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var $he=lq;function cq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Bhe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Uhe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Mi(e){e.l+=2,e.l+=e.read_shift(2)}var Vhe={0:Mi,4:Mi,5:Mi,6:Mi,7:Uhe,8:Mi,9:Mi,10:Mi,11:Mi,12:Mi,13:Bhe,14:Mi,15:Mi,16:Mi,17:Mi,18:Mi,19:Mi,20:Mi,21:cq};function zhe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Vhe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function bx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function qhe(e,t){return t===0||e.read_shift(2),1200}function Whe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=kh(e,0,r);return e.read_shift(t+n-e.l),a}function Hhe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Ghe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=ty(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Khe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Che(e));return i.Count=n,i.Unique=a,i}function Yhe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Xhe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Qhe(e){var t=Lhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Jhe(e){return e.read_shift(2),e.read_shift(4)}function WD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Zhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function e0e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function t0e(){}function r0e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ty(e,0,r),n}function n0e(e){var t=uc(e);return t.isst=e.read_shift(4),t}function a0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=uc(e);r.biff==2&&e.l++;var i=ry(e,n-e.l,r);return a.val=i,a}function i0e(e,t,r){var n=e.read_shift(2),a=kh(e,0,r);return[n,a]}var s0e=kh;function HD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function o0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=oq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function l0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(oq(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function c0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function u0e(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=ohe[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function f0e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=u0e(e,t,n.fStyle,r),n}function d0e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function GD(e,t,r){var n=uc(e);(r.biff==2||t==9)&&++e.l;var a=khe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function h0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=uc(e),a=Yi(e);return n.val=a,n}var KD=Mhe;function p0e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=uh(e,i),o=[];n>e.l;)o.push(ry(e));return[i,a,s,o]}function YD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Fhe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var m0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function XD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=uh(e,s,r);a&32&&(c=m0e[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var d=n==e.l||o===0||!(u>0)?[]:Xge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:d}}function uq(e,t,r){if(r.biff<8)return g0e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Rhe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function g0e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ty(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function v0e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=uh(e,n,r),s=uh(e,a,r);return[i,s]}function y0e(e,t,r){var n=lq(e);e.l++;var a=e.read_shift(1);return t-=8,[Qge(e,t,r),a,n]}function QD(e,t,r){var n=$he(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Kge(e,t,r)]}function x0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function b0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=kh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function w0e(e,t,r){return b0e(e,t,r)}function _0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(A5(e));return r}function S0e(e,t,r){if(r&&r.biff<8)return T0e(e,t,r);var n=cq(e),a=zhe(e,t-22,n[1]);return{cmo:n,ft:a}}var A0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function T0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((A0e[n]||ns)(e,t,r)),{cmo:[a,n,i],ft:s}}function E0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Phe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Oa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],d=uh(e,e.lens[c+1]-e.lens[c]-1);if(a+=d,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function N0e(e,t){var r=A5(e);e.l+=16;var n=Dhe(e,t-24);return[r,n]}function k0e(e,t){e.read_shift(2);var r=A5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ss,""),[r,n]}function C0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=BD[r]||r,r=e.read_shift(2),t[1]=BD[r]||r,t}function P0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(sq(e));return r}function j0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(sq(e));return r}function O0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function fq(e,t,r){if(!r.cellStyles)return ns(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function I0e(e,t){var r={};return t<32||(e.l+=16,r.header=Yi(e),r.footer=Yi(e),e.l+=2),r}function D0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var L0e=uc,M0e=aq,R0e=ry;function F0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function $0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=uc(e);++e.l;var a=kh(e,t-7,r);return n.t="str",n.val=a,n}function B0e(e){var t=uc(e);++e.l;var r=Yi(e);return t.t="n",t.val=r,t}function U0e(e){var t=uc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function V0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function z0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function q0e(e,t,r){var n=e.l+t,a=uc(e),i=e.read_shift(2),s=uh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var W0e=[2,3,48,49,131,139,140,245],JD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Jk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Vf(1);switch(l.type){case"base64":u=ml(co(o));break;case"binary":u=ml(o);break;case"buffer":case"array":u=o;break}_i(u,0);var d=u.read_shift(1),h=!!(d&136),p=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,v=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(v=u.read_shift(2));var y=u.read_shift(2),w=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var b=[],D={},O=Math.min(u.length,d==2?521:v-10-(p?264:0)),P=g?32:11;u.l<O&&u[u.l]!=13;)switch(D={},D.name=rf.utils.decode(w,u.slice(u.l,u.l+P)).replace(/[\u0000\r\n].*$/g,""),u.l+=P,D.type=String.fromCharCode(u.read_shift(1)),d!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),d==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&b.push(D),d!=2&&(u.l+=g?13:14),D.type){case"B":(!p||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,_=0;for(c[0]=[],_=0;_!=b.length;++_)c[0][_]=b[_].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],_=0,_=0;_!=b.length;++_){var S=u.slice(u.l,u.l+b[_].len);u.l+=b[_].len,_i(S,0);var I=rf.utils.decode(w,S);switch(b[_].type){case"C":I.trim().length&&(c[T][_]=I.replace(/\s+$/,""));break;case"D":I.length===8?c[T][_]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):c[T][_]=I;break;case"F":c[T][_]=parseFloat(I.trim());break;case"+":case"I":c[T][_]=g?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":c[T][_]=!0;break;case"N":case"F":c[T][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[T][_]="##MEMO##"+(g?parseInt(I.trim(),10):S.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(c[T][_]=+I||0);break;case"@":c[T][_]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[T][_]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[T][_]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][_]=-S.read_shift(-8,"f");break;case"B":if(p&&b[_].len==8){c[T][_]=S.read_shift(8,"f");break}case"G":case"P":S.l+=b[_].len;break;case"0":if(b[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[_].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=um(r(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function a(o,l){try{return Jf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&yl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=E3(),d=M3(o,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var b=ga(o["!ref"]),D=[],O=[],P=[];for(m=0;m<=b.e.c-b.s.c;++m){var T="",_="",S=0,I=[];for(v=0;v<p.length;++v)p[v][m]!=null&&I.push(p[v][m]);if(I.length==0||h[m]==null){D[m]="?";continue}for(v=0;v<I.length;++v){switch(typeof I[v]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=I[v]instanceof Date?"D":"C";break;default:_="C"}S=Math.max(S,String(I[v]).length),T=T&&T!=_?"C":_}S>250&&(S=250),_=((g[m]||{}).DBF||{}).type,_=="C"&&g[m].DBF.len>S&&(S=g[m].DBF.len),T=="B"&&_=="N"&&(T="N",P[m]=g[m].DBF.dec,S=g[m].DBF.len),O[m]=T=="C"||_=="N"?S:i[T]||0,w+=O[m],D[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*y),E.write_shift(2,w),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[uz]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var C=u.next(32),N=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,N,"sbcs"),C.write_shift(1,D[m]=="?"?"C":D[m],"sbcs"),C.write_shift(4,v),C.write_shift(1,O[m]||i[D[m]]||0),C.write_shift(1,P[m]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),v+=O[m]||i[D[m]]||0}var U=u.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<p.length;++m){var X=u.next(w);for(X.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(D[v]){case"L":X.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":X.write_shift(8,p[m][v]||0,"f");break;case"N":var z="0";for(typeof p[m][v]=="number"&&(z=p[m][v].toFixed(P[v]||0)),y=0;y<O[v]-z.length;++y)X.write_shift(1,32);X.write_shift(1,z,"sbcs");break;case"D":p[m][v]?(X.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var H=String(p[m][v]!=null?p[m][v]:"").slice(0,O[v]);for(X.write_shift(1,H,"sbcs"),y=0;y<O[v]-H.length;++y)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),H0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+sc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?pD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:pD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(co(h),p);case"binary":return i(h,p);case"buffer":return i(Qr&&Buffer.isBuffer(h)?h.toString("binary"):Ah(h),p);case"array":return i(ch(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,w=0,b=[],D=[],O=null,P={},T=[],_=[],S=[],I=0,E;for(+p.codepage>=0&&yl(+p.codepage);y!==g.length;++y){I=0;var C=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),N=C.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),U=N[0],X;if(C.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&D.push(C.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,H=!1,V=!1,q=!1,te=-1,Z=-1;for(w=1;w<N.length;++w)switch(N[w].charAt(0)){case"A":break;case"X":v=parseInt(N[w].slice(1))-1,H=!0;break;case"Y":for(m=parseInt(N[w].slice(1))-1,H||(v=0),E=b.length;E<=m;++E)b[E]=[];break;case"K":X=N[w].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Al(X))?isNaN(wp(X).getDate())||(X=ui(X)):(X=Al(X),O!==null&&lm(O)&&(X=S5(X))),z=!0;break;case"E":q=!0;var k=q0(N[w].slice(1),{r:m,c:v});b[m][v]=[b[m][v],k];break;case"S":V=!0,b[m][v]=[b[m][v],"S5S"];break;case"G":break;case"R":te=parseInt(N[w].slice(1))-1;break;case"C":Z=parseInt(N[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}if(z&&(b[m][v]&&b[m][v].length==2?b[m][v][0]=X:b[m][v]=X,O=null),V){if(q)throw new Error("SYLK shared formula cannot have own formula");var R=te>-1&&b[te][Z];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");b[m][v][1]=wq(R[1],{r:m-te,c:v-Z})}break;case"F":var G=0;for(w=1;w<N.length;++w)switch(N[w].charAt(0)){case"X":v=parseInt(N[w].slice(1))-1,++G;break;case"Y":for(m=parseInt(N[w].slice(1))-1,E=b.length;E<=m;++E)b[E]=[];break;case"M":I=parseInt(N[w].slice(1))/20;break;case"F":break;case"G":break;case"P":O=D[parseInt(N[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=N[w].slice(1).split(" "),E=parseInt(S[0],10);E<=parseInt(S[1],10);++E)I=parseInt(S[2],10),_[E-1]=I===0?{hidden:!0}:{wch:I},_p(_[E-1]);break;case"C":v=parseInt(N[w].slice(1))-1,_[v]||(_[v]={});break;case"R":m=parseInt(N[w].slice(1))-1,T[m]||(T[m]={}),I>0?(T[m].hpt=I,T[m].hpx=Xv(I)):I===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}G<1&&(O=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}}return T.length>0&&(P["!rows"]=T),_.length>0&&(P["!cols"]=_),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,P]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=um(m,p);return sc(v).forEach(function(w){y[w]=v[w]}),y}function o(h,p){return Jf(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Ome(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Eb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Nb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*yq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function d(h,p){var g=["ID;PWXL;N;E"],m=[],v=ga(h["!ref"]),y,w=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var D=v.s.r;D<=v.e.r;++D)for(var O=v.s.c;O<=v.e.c;++O){var P=Or({r:D,c:O});y=w?(h[D]||[])[O]:h[P],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,D,O))}return g.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),G0e=function(){function e(i,s){switch(s.type){case"base64":return t(co(i),s);case"binary":return t(i,s);case"buffer":return t(Qr&&Buffer.isBuffer(i)?i.toString("binary"):Ah(i),s);case"array":return t(ch(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){d[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][c]=!0:m==="FALSE"?d[l][c]=!1:isNaN(Al(g))?isNaN(wp(g).getDate())?d[l][c]=g:d[l][c]=ui(g):d[l][c]=Al(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return um(e(i,s),s)}function n(i,s){return Jf(r(i,s),s)}var a=function(){var i=function(l,c,u,d,h){l.push(c),l.push(u+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=ga(l["!ref"]),d,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Or({r:p,c:g});if(d=h?(l[p]||[])[g]:l[m],!d){s(c,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=zo(d.z||Lr[14],As(ui(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,w=c.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),K0e=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var p=d.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var b=xs(w[1]);if(y.length<=b.r)for(g=y.length;g<=b.r;++g)y[g]||(y[g]=[]);switch(g=b.r,m=b.c,w[2]){case"t":y[g][m]=e(w[3]);break;case"v":y[g][m]=+w[3];break;case"vtf":var D=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][m]=!!+w[4];break;default:y[g][m]=+w[4];break}w[2]=="vtf"&&(y[g][m]=[y[g][m],D])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(d,h){return um(r(d,h),h)}function a(d,h){return Jf(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],p=[],g,m="",v=cm(d["!ref"]),y=Array.isArray(d),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(m=Or({r:w,c:b}),g=y?(d[w]||[])[b]:d[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=As(ui(g.v));p[2]="vtc",p[3]="nd",p[4]=""+D,p[5]=g.w||zo(g.z||Lr[14],D);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[i,s,o,s,c(d),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Kv=function(){function e(u,d,h,p,g){g.raw?d[h][p]=u:u===""||(u==="TRUE"?d[h][p]=!0:u==="FALSE"?d[h][p]=!1:isNaN(Al(u))?isNaN(wp(u).getDate())?d[h][p]=u:d[h][p]=ui(u):d[h][p]=Al(u))}function t(u,d){var h=d||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,w=0;w<=m;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=m;++w){p[w]=[];var b=0;for(e(g[w].slice(0,v).trim(),p,w,b,h),b=1;b<=(g[w].length-v)/10+1;++b)e(g[w].slice(v+(b-1)*10,v+b*10).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var d={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p]);if(!g.length){d=n;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,d){var h=d||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,w=0,b=0,D=0,O=p.charCodeAt(0),P=!1,T=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=h.dateNF!=null?ide(h.dateNF):null;function I(){var E=u.slice(b,D),C={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)C.t="z";else if(h.raw)C.t="s",C.v=E;else if(E.trim().length===0)C.t="s",C.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(C.t="s",C.v=E.slice(2,-1).replace(/""/g,'"')):Dme(E)?(C.t="n",C.f=E.slice(1)):(C.t="s",C.v=E);else if(E=="TRUE")C.t="b",C.v=!0;else if(E=="FALSE")C.t="b",C.v=!1;else if(!isNaN(w=Al(E)))C.t="n",h.cellText!==!1&&(C.w=E),C.v=w;else if(!isNaN(wp(E).getDate())||S&&E.match(S)){C.z=h.dateNF||Lr[14];var N=0;S&&E.match(S)&&(E=sde(E,h.dateNF,E.match(S)||[]),N=1),h.cellDates?(C.t="d",C.v=ui(E,N)):(C.t="n",C.v=As(ui(E,N))),h.cellText!==!1&&(C.w=zo(C.z,C.v instanceof Date?As(C.v):C.v)),h.cellNF||delete C.z}else C.t="s",C.v=E;if(C.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=C):g[Or({c:y,r:v})]=C),b=D+1,_=u.charCodeAt(b),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==O)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;D<u.length;++D)switch(T=u.charCodeAt(D)){case 34:_===34&&(P=!P);break;case O:case 10:case 13:if(!P&&I())break e;break}return D-b>0&&I(),g["!ref"]=nn(m),g}function s(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,d):um(t(u,d),d)}function o(u,d){var h="",p=d.type=="string"?[0,0,0,0]:vC(u,d);switch(d.type){case"base64":h=co(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):d.codepage&&typeof rf<"u"?h=rf.utils.decode(d.codepage,u):h=Qr&&Buffer.isBuffer(u)?u.toString("binary"):Ah(u);break;case"array":h=ch(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=qn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=qn(h):d.type=="binary"&&typeof rf<"u"&&d.codepage&&(h=rf.utils.decode(d.codepage,rf.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?K0e.to_sheet(d.type=="string"?h:qn(h),d):s(h,d)}function l(u,d){return Jf(o(u,d),d)}function c(u){for(var d=[],h=ga(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=Or({r:m,c:y});if(p=g?(u[m]||[])[y]:u[w],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(iu(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function Y0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=H0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Kv.to_workbook(e,t)}}var Yg=function(){function e(k,R,G){if(k){_i(k,k.l||0);for(var Y=G.Enum||te;k.l<k.length;){var J=k.read_shift(2),se=Y[J]||Y[65535],ue=k.read_shift(2),ae=k.l+ue,he=se.f&&se.f(k,ue,G);if(k.l=ae,R(he,se,J))return}}}function t(k,R){switch(R.type){case"base64":return r(ml(co(k)),R);case"binary":return r(ml(k),R);case"buffer":case"array":return r(k,R)}throw"Unsupported type "+R.type}function r(k,R){if(!k)return k;var G=R||{},Y=G.dense?[]:{},J="Sheet1",se="",ue=0,ae={},he=[],xe=[],W={s:{r:0,c:0},e:{r:0,c:0}},Ne=G.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)G.Enum=te,e(k,function(Le,Oe,Ve){switch(Ve){case 0:G.vers=Le,Le>=4096&&(G.qpro=!0);break;case 6:W=Le;break;case 204:Le&&(se=Le);break;case 222:se=Le;break;case 15:case 51:G.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=G.dateNF||Lr[14],G.cellDates&&(Le[1].t="d",Le[1].v=S5(Le[1].v))),G.qpro&&Le[3]>ue&&(Y["!ref"]=nn(W),ae[J]=Y,he.push(J),Y=G.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ue=Le[3],J=se||"Sheet"+(ue+1),se="");var We=G.dense?(Y[Le[0].r]||[])[Le[0].c]:Y[Or(Le[0])];if(We){We.t=Le[1].t,We.v=Le[1].v,Le[1].z!=null&&(We.z=Le[1].z),Le[1].f!=null&&(We.f=Le[1].f);break}G.dense?(Y[Le[0].r]||(Y[Le[0].r]=[]),Y[Le[0].r][Le[0].c]=Le[1]):Y[Or(Le[0])]=Le[1];break}},G);else if(k[2]==26||k[2]==14)G.Enum=Z,k[2]==14&&(G.qpro=!0,k.l=0),e(k,function(Le,Oe,Ve){switch(Ve){case 204:J=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>ue&&(Y["!ref"]=nn(W),ae[J]=Y,he.push(J),Y=G.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ue=Le[3],J="Sheet"+(ue+1)),Ne>0&&Le[0].r>=Ne)break;G.dense?(Y[Le[0].r]||(Y[Le[0].r]=[]),Y[Le[0].r][Le[0].c]=Le[1]):Y[Or(Le[0])]=Le[1],W.e.c<Le[0].c&&(W.e.c=Le[0].c),W.e.r<Le[0].r&&(W.e.r=Le[0].r);break;case 27:Le[14e3]&&(xe[Le[14e3][0]]=Le[14e3][1]);break;case 1537:xe[Le[0]]=Le[1],Le[0]==ue&&(J=Le[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(Y["!ref"]=nn(W),ae[se||J]=Y,he.push(se||J),!xe.length)return{SheetNames:he,Sheets:ae};for(var ke={},_e=[],le=0;le<xe.length;++le)ae[he[le]]?(_e.push(xe[le]||he[le]),ke[xe[le]]=ae[xe[le]]||ae[he[le]]):(_e.push(xe[le]),ke[xe[le]]={"!ref":"A1"});return{SheetNames:_e,Sheets:ke}}function n(k,R){var G=R||{};if(+G.codepage>=0&&yl(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=E3(),J=ga(k["!ref"]),se=Array.isArray(k),ue=[];nl(Y,0,i(1030)),nl(Y,6,l(J));for(var ae=Math.min(J.e.r,8191),he=J.s.r;he<=ae;++he)for(var xe=ki(he),W=J.s.c;W<=J.e.c;++W){he===J.s.r&&(ue[W]=Ka(W));var Ne=ue[W]+xe,ke=se?(k[he]||[])[W]:k[Ne];if(!(!ke||ke.t=="z"))if(ke.t=="n")(ke.v|0)==ke.v&&ke.v>=-32768&&ke.v<=32767?nl(Y,13,p(he,W,ke.v)):nl(Y,14,m(he,W,ke.v));else{var _e=iu(ke);nl(Y,15,d(he,W,_e.slice(0,239)))}}return nl(Y,1),Y.end()}function a(k,R){var G=R||{};if(+G.codepage>=0&&yl(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=E3();nl(Y,0,s(k));for(var J=0,se=0;J<k.SheetNames.length;++J)(k.Sheets[k.SheetNames[J]]||{})["!ref"]&&nl(Y,27,q(k.SheetNames[J],se++));var ue=0;for(J=0;J<k.SheetNames.length;++J){var ae=k.Sheets[k.SheetNames[J]];if(!(!ae||!ae["!ref"])){for(var he=ga(ae["!ref"]),xe=Array.isArray(ae),W=[],Ne=Math.min(he.e.r,8191),ke=he.s.r;ke<=Ne;++ke)for(var _e=ki(ke),le=he.s.c;le<=he.e.c;++le){ke===he.s.r&&(W[le]=Ka(le));var Le=W[le]+_e,Oe=xe?(ae[ke]||[])[le]:ae[Le];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")nl(Y,23,I(ke,le,ue,Oe.v));else{var Ve=iu(Oe);nl(Y,22,T(ke,le,ue,Ve.slice(0,239)))}}++ue}}return nl(Y,1),Y.end()}function i(k){var R=Wa(2);return R.write_shift(2,k),R}function s(k){var R=Wa(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var G=0,Y=0,J=0,se=0;se<k.SheetNames.length;++se){var ue=k.SheetNames[se],ae=k.Sheets[ue];if(!(!ae||!ae["!ref"])){++J;var he=cm(ae["!ref"]);G<he.e.r&&(G=he.e.r),Y<he.e.c&&(Y=he.e.c)}}return G>8191&&(G=8191),R.write_shift(2,G),R.write_shift(1,J),R.write_shift(1,Y),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(k,R,G){var Y={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&G.qpro?(Y.s.c=k.read_shift(1),k.l++,Y.s.r=k.read_shift(2),Y.e.c=k.read_shift(1),k.l++,Y.e.r=k.read_shift(2),Y):(Y.s.c=k.read_shift(2),Y.s.r=k.read_shift(2),R==12&&G.qpro&&(k.l+=2),Y.e.c=k.read_shift(2),Y.e.r=k.read_shift(2),R==12&&G.qpro&&(k.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(k){var R=Wa(8);return R.write_shift(2,k.s.c),R.write_shift(2,k.s.r),R.write_shift(2,k.e.c),R.write_shift(2,k.e.r),R}function c(k,R,G){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Y[0].c=k.read_shift(1),Y[3]=k.read_shift(1),Y[0].r=k.read_shift(2),k.l+=2):(Y[2]=k.read_shift(1),Y[0].c=k.read_shift(2),Y[0].r=k.read_shift(2)),Y}function u(k,R,G){var Y=k.l+R,J=c(k,R,G);if(J[1].t="s",G.vers==20768){k.l++;var se=k.read_shift(1);return J[1].v=k.read_shift(se,"utf8"),J}return G.qpro&&k.l++,J[1].v=k.read_shift(Y-k.l,"cstr"),J}function d(k,R,G){var Y=Wa(7+G.length);Y.write_shift(1,255),Y.write_shift(2,R),Y.write_shift(2,k),Y.write_shift(1,39);for(var J=0;J<Y.length;++J){var se=G.charCodeAt(J);Y.write_shift(1,se>=128?95:se)}return Y.write_shift(1,0),Y}function h(k,R,G){var Y=c(k,R,G);return Y[1].v=k.read_shift(2,"i"),Y}function p(k,R,G){var Y=Wa(7);return Y.write_shift(1,255),Y.write_shift(2,R),Y.write_shift(2,k),Y.write_shift(2,G,"i"),Y}function g(k,R,G){var Y=c(k,R,G);return Y[1].v=k.read_shift(8,"f"),Y}function m(k,R,G){var Y=Wa(13);return Y.write_shift(1,255),Y.write_shift(2,R),Y.write_shift(2,k),Y.write_shift(8,G,"f"),Y}function v(k,R,G){var Y=k.l+R,J=c(k,R,G);if(J[1].v=k.read_shift(8,"f"),G.qpro)k.l=Y;else{var se=k.read_shift(2);D(k.slice(k.l,k.l+se),J),k.l+=se}return J}function y(k,R,G){var Y=R&32768;return R&=-32769,R=(Y?k:0)+(R>=8192?R-16384:R),(Y?"":"$")+(G?Ka(R):ki(R))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(k,R){_i(k,0);for(var G=[],Y=0,J="",se="",ue="",ae="";k.l<k.length;){var he=k[k.l++];switch(he){case 0:G.push(k.read_shift(8,"f"));break;case 1:se=y(R[0].c,k.read_shift(2),!0),J=y(R[0].r,k.read_shift(2),!1),G.push(se+J);break;case 2:{var xe=y(R[0].c,k.read_shift(2),!0),W=y(R[0].r,k.read_shift(2),!1);se=y(R[0].c,k.read_shift(2),!0),J=y(R[0].r,k.read_shift(2),!1),G.push(xe+W+":"+se+J)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(k.read_shift(2));break;case 6:{for(var Ne="";he=k[k.l++];)Ne+=String.fromCharCode(he);G.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:ae=G.pop(),ue=G.pop(),G.push(["AND","OR"][he-20]+"("+ue+","+ae+")");break;default:if(he<32&&b[he])ae=G.pop(),ue=G.pop(),G.push(ue+b[he]+ae);else if(w[he]){if(Y=w[he][1],Y==69&&(Y=k[k.l++]),Y>G.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+G.join("|")+"|");return}var ke=G.slice(-Y);G.length-=Y,G.push(w[he][0]+"("+ke.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}G.length==1?R[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function O(k){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=k.read_shift(2),R[3]=k[k.l++],R[0].c=k[k.l++],R}function P(k,R){var G=O(k);return G[1].t="s",G[1].v=k.read_shift(R-4,"cstr"),G}function T(k,R,G,Y){var J=Wa(6+Y.length);J.write_shift(2,k),J.write_shift(1,G),J.write_shift(1,R),J.write_shift(1,39);for(var se=0;se<Y.length;++se){var ue=Y.charCodeAt(se);J.write_shift(1,ue>=128?95:ue)}return J.write_shift(1,0),J}function _(k,R){var G=O(k);G[1].v=k.read_shift(2);var Y=G[1].v>>1;if(G[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return G[1].v=Y,G}function S(k,R){var G=O(k),Y=k.read_shift(4),J=k.read_shift(4),se=k.read_shift(2);if(se==65535)return Y===0&&J===3221225472?(G[1].t="e",G[1].v=15):Y===0&&J===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var ue=se&32768;return se=(se&32767)-16446,G[1].v=(1-ue*2)*(J*Math.pow(2,se+32)+Y*Math.pow(2,se)),G}function I(k,R,G,Y){var J=Wa(14);if(J.write_shift(2,k),J.write_shift(1,G),J.write_shift(1,R),Y==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var se=0,ue=0,ae=0,he=0;return Y<0&&(se=1,Y=-Y),ue=Math.log2(Y)|0,Y/=Math.pow(2,ue-31),he=Y>>>0,he&2147483648||(Y/=2,++ue,he=Y>>>0),Y-=he,he|=2147483648,he>>>=0,Y*=Math.pow(2,32),ae=Y>>>0,J.write_shift(4,ae),J.write_shift(4,he),ue+=16383+(se?32768:0),J.write_shift(2,ue),J}function E(k,R){var G=S(k);return k.l+=R-14,G}function C(k,R){var G=O(k),Y=k.read_shift(4);return G[1].v=Y>>6,G}function N(k,R){var G=O(k),Y=k.read_shift(8,"f");return G[1].v=Y,G}function U(k,R){var G=N(k);return k.l+=R-10,G}function X(k,R){return k[k.l+R-1]==0?k.read_shift(R,"cstr"):""}function z(k,R){var G=k[k.l++];G>R-1&&(G=R-1);for(var Y="";Y.length<G;)Y+=String.fromCharCode(k[k.l++]);return Y}function H(k,R,G){if(!(!G.qpro||R<21)){var Y=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var J=k.read_shift(R-21,"cstr");return[Y,J]}}function V(k,R){for(var G={},Y=k.l+R;k.l<Y;){var J=k.read_shift(2);if(J==14e3){for(G[J]=[0,""],G[J][0]=k.read_shift(2);k[k.l];)G[J][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return G}function q(k,R){var G=Wa(5+k.length);G.write_shift(2,14e3),G.write_shift(2,R);for(var Y=0;Y<k.length;++Y){var J=k.charCodeAt(Y);G[G.l++]=J>127?95:J}return G[G.l++]=0,G}var te={0:{n:"BOF",f:Oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function X0e(e){var t={},r=e.match(as),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Ar(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=Gk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Q0e=function(){var e=Hv("t"),t=Hv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:cn(s[1])},l=i.match(t);return l&&(o.s=X0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),J0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),Z0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,epe=/<(?:\w+:)?r>/,tpe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function uC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=cn(qn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=qn(e),r&&(n.h=eC(n.t))):e.match(epe)&&(n.r=qn(e),n.t=cn(qn((e.replace(tpe,"").match(Z0e)||[]).join("").replace(as,""))),r&&(n.h=J0e(Q0e(n.r)))),n):{t:""}}var rpe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,npe=/<(?:\w+:)?(?:si|sstItem)>/g,ape=/<\/(?:\w+:)?(?:si|sstItem)>/;function ipe(e,t){var r=[],n="";if(!e)return r;var a=e.match(rpe);if(a){n=a[2].replace(npe,"").split(ape);for(var i=0;i!=n.length;++i){var s=uC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Ar(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function spe(e){return[e.read_shift(4),e.read_shift(4)]}function ope(e,t){var r=[],n=!1;return mu(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function dq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Uc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function lpe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Uc(e,4),t.U=Uc(e,4),t.W=Uc(e,4),t}function cpe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function upe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(cpe(e));return t}function fpe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function dpe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Uc(e,4),t.U=Uc(e,4),t.W=Uc(e,4),t}function hpe(e){var t=dpe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function hq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function pq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function ppe(e){var t=Uc(e);switch(t.Minor){case 2:return[t.Minor,mpe(e)];case 3:return[t.Minor,gpe()];case 4:return[t.Minor,vpe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function mpe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=hq(e,r),a=pq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function gpe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function vpe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(as,function(i){var s=Ar(i);switch(cc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function ype(e,t){var r={},n=r.EncryptionVersionInfo=Uc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=hq(e,a),t-=a,r.EncryptionVerifier=pq(e,t),r}function xpe(e){var t={},r=t.EncryptionVersionInfo=Uc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function bpe(e){var t=0,r,n=dq(e),a=n.length+1,i,s,o,l,c;for(r=Vf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var mq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],d=0;d!=7;++d)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=dq(s),l=i(o),c=o.length,u=Vf(16),d=0;d!=16;++d)u[d]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),wpe=function(e,t,r,n,a){a||(a=t),n||(n=mq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},_pe=function(e){var t=0,r=mq(e);return function(n){var a=wpe("",n,t,r);return t=a[1],a[0]}};function Spe(e,t,r,n){var a={key:Oa(e),verificationBytes:Oa(e)};return r.password&&(a.verifier=bpe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=_pe(r.password)),a}function Ape(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=xpe(e):n.Data=ype(e,t),n}function Tpe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Ape(e,t-2,n):Spe(e,r.biff>=8?t:t-2,r,n),n}var Epe=function(){function e(a,i){switch(i.type){case"base64":return t(co(a),i);case"binary":return t(a,i);case"buffer":return t(Qr&&Buffer.isBuffer(a)?a.toString("binary"):Ah(a),i);case"array":return t(ch(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[d][m]=y:o[Or({r:d,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=nn(c),o}function r(a,i){return Jf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=ga(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var d=Or({r:c,c:u});o=l?(a[c]||[])[u]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(iu(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Npe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Yv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function kpe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Cpe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Tb(e,t){if(t===0)return e;var r=kpe(Npe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Yv(Cpe(r))}var gq=6,Ppe=15,jpe=1,ms=gq;function Eb(e){return Math.floor((e+Math.round(128/ms)/256)*ms)}function Nb(e){return Math.floor((e-5)/ms*100+.5)/100}function P3(e){return Math.round((e*ms+5)/ms*256)/256}function BS(e){return P3(Nb(Eb(e)))}function fC(e){var t=Math.abs(e-BS(e)),r=ms;if(t>.005)for(ms=jpe;ms<Ppe;++ms)Math.abs(e-BS(e))<=t&&(t=Math.abs(e-BS(e)),r=ms);ms=r}function _p(e){e.width?(e.wpx=Eb(e.width),e.wch=Nb(e.wpx),e.MDW=ms):e.wpx?(e.wch=Nb(e.wpx),e.width=P3(e.wch),e.MDW=ms):typeof e.wch=="number"&&(e.width=P3(e.wch),e.wpx=Eb(e.width),e.MDW=ms),e.customWidth&&delete e.customWidth}var Ope=96,vq=Ope;function yq(e){return e*96/vq}function Xv(e){return e*vq/96}var Ipe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Dpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(as)||[]).forEach(function(s){var o=Ar(s);switch(cc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Zn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Zn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Lpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(as)||[]).forEach(function(s){var o=Ar(s);switch(cc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Mpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(as)||[]).forEach(function(s){var o=Ar(s);switch(cc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=qn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Zn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Zn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Zn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Zn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Zn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Zn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Zn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Gk[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Zn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Kd[a.color.index];a.color.index==81&&(l=Kd[1]),l||(l=Kd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Tb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Rpe(e,t,r){t.NumberFmt=[];for(var n=sc(Lr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Lr[n[a]];var i=e[0].match(as);if(i)for(a=0;a<i.length;++a){var s=Ar(i[a]);switch(cc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=cn(qn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Gd(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var wx=["numFmtId","fillId","fontId","borderId","xfId"],_x=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Fpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(as)||[]).forEach(function(i){var s=Ar(i),o=0;switch(cc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<wx.length;++o)n[wx[o]]&&(n[wx[o]]=parseInt(n[wx[o]],10));for(o=0;o<_x.length;++o)n[_x[o]]&&(n[_x[o]]=Zn(n[_x[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Zn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var $pe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&Rpe(d,u,c),(d=o.match(a))&&Mpe(d,u,l,c),(d=o.match(n))&&Lpe(d,u,l,c),(d=o.match(i))&&Dpe(d,u,l,c),(d=o.match(r))&&Fpe(d,u,c),u}}();function Bpe(e,t){var r=e.read_shift(2),n=es(e);return[r,n]}function Upe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Qde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Xde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=es(e),n}var Vpe=ns;function zpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var qpe=ns;function Wpe(e,t,r){var n={};n.NumberFmt=[];for(var a in Lr)n.NumberFmt[a]=Lr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return mu(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Gd(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Tb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Hpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Gpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(as)||[]).forEach(function(a){var i=Ar(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Hpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Kpe(){}function Ype(){}var Xpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Qpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Jpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Zpe(e,t,r){t.themeElements={};var n;[["clrScheme",Xpe,Gpe],["fontScheme",Qpe,Kpe],["fmtScheme",Jpe,Ype]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var eme=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function xq(e,t){(!e||e.length===0)&&(e=tme());var r,n={};if(!(r=e.match(eme)))throw new Error("themeElements not found in theme");return Zpe(r[0],n,t),n.raw=e,n}function tme(e,t){var r=[Pz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function rme(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=Cz(i,{type:"array"})}catch{return}var o=ro(s,"theme/theme/theme1.xml",!0);if(o)return xq(o,r)}}function nme(e){return e.read_shift(4)}function ame(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=ime(e,4);break;case 2:t.xclrValue=iq(e);break;case 3:t.xclrValue=nme(e);break;case 4:e.l+=4;break}return e.l+=8,t}function ime(e,t){return ns(e,t)}function sme(e,t){return ns(e,t)}function ome(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=ame(e);break;case 6:n[1]=sme(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function lme(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(ome(e,r-e.l));return{ixfe:n,ext:i}}function cme(e,t){t.forEach(function(r){switch(r[0]){}})}function ume(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:es(e)}}function fme(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function dme(e){return e.l+=4,e.read_shift(4)!=0}function hme(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return mu(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function pme(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(as,function(o){var l=Ar(o);switch(cc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function mme(e){var t=[];if(!e)return t;var r=1;return(e.match(as)||[]).forEach(function(n){var a=Ar(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function gme(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Or(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function vme(e,t,r){var n=[];return mu(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function yme(e,t,r,n){if(!e)return e;var a=n||{},i=!1;mu(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function xme(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function ZD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=xs(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=ga(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=nn(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var d=i.c.length-1;d>=0;--d){if(!r&&i.c[d].T)return;r&&!i.c[d].T&&i.c.splice(d,1)}if(r&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}i.c.push(u)})}function bme(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Ar(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=xs(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&uC(d[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function wme(e,t){var r=[],n=!1,a={},i=0;return e.replace(as,function(o,l){var c=Ar(o);switch(cc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function _me(e,t){var r=[],n=!1;return e.replace(as,function(i){var s=Ar(i);switch(cc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Sme(e){var t={};t.iauthor=e.read_shift(4);var r=Eh(e);return t.rfx=r.s,t.ref=Or(r.s),e.l+=16,t}var Ame=es;function Tme(e,t){var r=[],n=[],a={},i=!1;return mu(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Eme="application/vnd.ms-office.vbaProject";function Nme(e){var t=rn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");rn.utils.cfb_add(t,a,e.FileIndex[n].content)}}),rn.write(t)}function kme(){return{"!type":"dialog"}}function Cme(){return{"!type":"dialog"}}function Pme(){return{"!type":"macro"}}function jme(){return{"!type":"macro"}}var q0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Ka(u)+(l?"":"$")+ki(c)}return function(a,i){return t=i,a.replace(e,r)}}(),bq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ome=function(){return function(t,r){return t.replace(bq,function(n,a,i,s,o,l){var c=aC(s)-(i?0:r.c),u=nC(l)-(o?0:r.r),d=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+d+"C"+h})}}();function wq(e,t){return e.replace(bq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Ka(aC(i)+t.c))+(s=="$"?s+o:ki(nC(o)+t.r))})}function Ime(e,t,r){var n=cm(t),a=n.s,i=xs(r),s={r:i.r-a.r,c:i.c-a.c};return wq(e,s)}function Dme(e){return e.length!=1}function e8(e){return e.replace(/_xlfn\./g,"")}function Ca(e){e.l+=1}function zf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function _q(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Sq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=zf(e),o=zf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Sq(e){var t=zf(e),r=zf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Lme(e,t,r){if(r.biff<8)return Sq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=zf(e),s=zf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Aq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Mme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=zf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Mme(e){var t=zf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Rme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Fme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return $me(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function $me(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Bme(e,t,r){var n=(e[e.l++]&96)>>5,a=_q(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Ume(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=_q(e,i,r);return[n,a,s]}function Vme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function zme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function qme(e,t,r){var n=(e[e.l++]&96)>>5,a=Lme(e,t-1,r);return[n,a]}function Wme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function t8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Hme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Gme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Kme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Yme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Xme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Tq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Qme(e){return e.read_shift(2),Tq(e)}function Jme(e){return e.read_shift(2),Tq(e)}function Zme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Aq(e,0,r);return[n,a]}function ege(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Fme(e,0,r);return[n,a]}function tge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Aq(e,0,r);return[n,a,i]}function rge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[nve[a],kq[a],n]}function nge(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:age(e);return[a,(i[0]===0?kq:rve)[i[1]]]}function age(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ige(e,t,r){e.l+=r&&r.biff==2?3:4}function sge(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function oge(e){return e.l++,Nh[e.read_shift(1)]}function lge(e){return e.l++,e.read_shift(2)}function cge(e){return e.l++,e.read_shift(1)!==0}function uge(e){return e.l++,Yi(e)}function fge(e,t,r){return e.l++,ty(e,t-1,r)}function dge(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Nh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Yi(e);break;case 2:r[1]=kh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function hge(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Eh:A5)(e));return a}function pge(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=dge(e,r.biff);return s}function mge(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function gge(e,t,r){if(r.biff==5)return vge(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function vge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function yge(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function xge(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function bge(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function wge(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var _ge=ns,Sge=ns,Age=ns;function ny(e,t,r){return e.l+=2,[Rme(e)]}function dC(e){return e.l+=6,[]}var Tge=ny,Ege=dC,Nge=dC,kge=ny;function Eq(e){return e.l+=2,[Oa(e),e.read_shift(2)&1]}var Cge=ny,Pge=Eq,jge=dC,Oge=ny,Ige=ny,Dge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Lge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Dge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Mge(e){return e.l+=2,[e.read_shift(4)]}function Rge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Fge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function $ge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Bge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Uge(e){return e.l+=4,[0,0]}var r8={1:{n:"PtgExp",f:sge},2:{n:"PtgTbl",f:Age},3:{n:"PtgAdd",f:Ca},4:{n:"PtgSub",f:Ca},5:{n:"PtgMul",f:Ca},6:{n:"PtgDiv",f:Ca},7:{n:"PtgPower",f:Ca},8:{n:"PtgConcat",f:Ca},9:{n:"PtgLt",f:Ca},10:{n:"PtgLe",f:Ca},11:{n:"PtgEq",f:Ca},12:{n:"PtgGe",f:Ca},13:{n:"PtgGt",f:Ca},14:{n:"PtgNe",f:Ca},15:{n:"PtgIsect",f:Ca},16:{n:"PtgUnion",f:Ca},17:{n:"PtgRange",f:Ca},18:{n:"PtgUplus",f:Ca},19:{n:"PtgUminus",f:Ca},20:{n:"PtgPercent",f:Ca},21:{n:"PtgParen",f:Ca},22:{n:"PtgMissArg",f:Ca},23:{n:"PtgStr",f:fge},26:{n:"PtgSheet",f:Rge},27:{n:"PtgEndSheet",f:Fge},28:{n:"PtgErr",f:oge},29:{n:"PtgBool",f:cge},30:{n:"PtgInt",f:lge},31:{n:"PtgNum",f:uge},32:{n:"PtgArray",f:Wme},33:{n:"PtgFunc",f:rge},34:{n:"PtgFuncVar",f:nge},35:{n:"PtgName",f:mge},36:{n:"PtgRef",f:Zme},37:{n:"PtgArea",f:Bme},38:{n:"PtgMemArea",f:yge},39:{n:"PtgMemErr",f:_ge},40:{n:"PtgMemNoMem",f:Sge},41:{n:"PtgMemFunc",f:xge},42:{n:"PtgRefErr",f:bge},43:{n:"PtgAreaErr",f:Vme},44:{n:"PtgRefN",f:ege},45:{n:"PtgAreaN",f:qme},46:{n:"PtgMemAreaN",f:$ge},47:{n:"PtgMemNoMemN",f:Bge},57:{n:"PtgNameX",f:gge},58:{n:"PtgRef3d",f:tge},59:{n:"PtgArea3d",f:Ume},60:{n:"PtgRefErr3d",f:wge},61:{n:"PtgAreaErr3d",f:zme},255:{}},Vge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zge={1:{n:"PtgElfLel",f:Eq},2:{n:"PtgElfRw",f:Oge},3:{n:"PtgElfCol",f:Tge},6:{n:"PtgElfRwV",f:Ige},7:{n:"PtgElfColV",f:kge},10:{n:"PtgElfRadical",f:Cge},11:{n:"PtgElfRadicalS",f:jge},13:{n:"PtgElfColS",f:Ege},15:{n:"PtgElfColSV",f:Nge},16:{n:"PtgElfRadicalLel",f:Pge},25:{n:"PtgList",f:Lge},29:{n:"PtgSxName",f:Mge},255:{}},qge={0:{n:"PtgAttrNoop",f:Uge},1:{n:"PtgAttrSemi",f:Xme},2:{n:"PtgAttrIf",f:Kme},4:{n:"PtgAttrChoose",f:Hme},8:{n:"PtgAttrGoto",f:Gme},16:{n:"PtgAttrSum",f:ige},32:{n:"PtgAttrBaxcel",f:t8},33:{n:"PtgAttrBaxcel",f:t8},64:{n:"PtgAttrSpace",f:Qme},65:{n:"PtgAttrSpaceSemi",f:Jme},128:{n:"PtgAttrIfError",f:Yme},255:{}};function ay(e,t,r,n){if(n.biff<8)return ns(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=pge(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=hge(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(ns(e,t)),i}function iy(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=r8[i]||r8[Vge[i]],(i===24||i===25)&&(a=(i===24?zge:qge)[e[e.l+1]]),!a||!a.f?ns(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Wge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Hge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Gge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Nq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function n8(e,t,r){var n=Nq(e,t,r);return n=="#REF"?n:Gge(n,r)}function qi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,d=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,w=e[0].length;y<w;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=pa(" ",e[0][m][1][1]);break;case 1:v=pa("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+Hge[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Wg(b[1][1],s,a),o.push(Hg(u,i));break;case"PtgRefN":u=r?Wg(b[1][1],r,a):b[1][1],o.push(Hg(u,i));break;case"PtgRef3d":d=b[1][1],u=Wg(b[1][2],s,a),g=n8(n,d,a),o.push(g+"!"+Hg(u,i));break;case"PtgFunc":case"PtgFuncVar":var D=b[1][0],O=b[1][1];D||(D=0),D&=127;var P=D==0?[]:o.slice(-D);o.length-=D,O==="User"&&(O=P.shift()),o.push(O+"("+P.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=RD(b[1][1],r?{s:r}:s,a),o.push(FS(p,a));break;case"PtgArea":p=RD(b[1][1],s,a),o.push(FS(p,a));break;case"PtgArea3d":d=b[1][1],p=b[1][2],g=n8(n,d,a),o.push(g+"!"+FS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],_=T?T.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var S=b[1][1];h=b[1][2];var I;if(a.biff<=5)S<0&&(S=-S),n[S]&&(I=n[S][h]);else{var E="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][h]&&n[S][h].itab>0&&(E=n.SheetNames[n[S][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[S]&&n[S][h])E+=n[S][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var C=(Nq(n,S,a)||"").split(";;");C[h-1]?E=C[h-1]:E+="SH33TJSERRX"}o.push(E);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var N="(",U=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:N=pa(" ",e[0][m][1][1])+N;break;case 3:N=pa("\r",e[0][m][1][1])+N;break;case 4:U=pa(" ",e[0][m][1][1])+U;break;case 5:U=pa("\r",e[0][m][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(N+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[Or(u)]){var z=n.sharedf[Or(u)];o.push(qi(z,s,X,n,a))}else{var H=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(qi(c[1],s,X,n,a)),H=!0;break}H||o.push(b[1])}break;case"PtgArray":o.push("{"+Wge(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&V.indexOf(e[0][y][0])==-1){b=e[0][m];var q=!0;switch(b[1][0]){case 4:q=!1;case 0:v=pa(" ",b[1][1]);break;case 5:q=!1;case 1:v=pa("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((q?v:"")+o.pop()+(q?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Kge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],ns(e,t-2)];var o=iy(e,s,r);return t!==s+a&&(i=ay(e,t-s-a,o,r)),e.l=n,[o,i]}function Yge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],ns(e,t-2)];var o=iy(e,s,r);return t!==s+a&&(i=ay(e,t-s-a,o,r)),e.l=n,[o,i]}function Xge(e,t,r,n){var a=e.l+t,i=iy(e,n,r),s;return a!==e.l&&(s=ay(e,a-e.l,i,r)),[i,s]}function Qge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=iy(e,i,r);return i==65535?[[],ns(e,t-2)]:(t!==i+2&&(a=ay(e,n-i-2,s,r)),[s,a])}function Jge(e){var t;if(Dc(e,e.l+6)!==65535)return[Yi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function US(e,t,r){var n=e.l+t,a=uc(e);r.biff==2&&++e.l;var i=Jge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Yge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function T5(e,t,r){var n=e.read_shift(4),a=iy(e,n,r),i=e.read_shift(4),s=i>0?ay(e,i,a,r):null;return[a,s]}var Zge=T5,E5=T5,eve=T5,tve=T5,rve={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},kq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},nve={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function a8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function VS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Xg={},W0={};function Qg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Cq(e,t,r,n,a,i){try{n.cellNF&&(e.z=Lr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ui(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Lr[t]==null&&Gd(ade[t]||"General",t),e.t==="e")e.w=e.w||Nh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Wv(e.v);else if(e.t==="d"){var s=As(e.v);(s|0)===s?e.w=s.toString(10):e.w=Wv(s)}else{if(e.v===void 0)return"";e.w=lh(e.v,W0)}else e.t==="d"?e.w=zo(t,As(e.v),W0):e.w=zo(t,e.v,W0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Tb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Tb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function ave(e,t){var r=ga(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=nn(r))}var ive=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sve=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ove=/<(?:\w:)?hyperlink [^>]*>/mg,lve=/"(\w*:\w*)"/,cve=/<(?:\w:)?col\b[^>]*[\/]?>/g,uve=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,fve=/<(?:\w:)?pageMargins[^>]*\/>/g,Pq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,dve=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,hve=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function pve(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=e.match(sve);d?(c=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):c=u=e;var h=c.match(Pq);h?hC(h[0],o,a,r):(h=c.match(dve))&&mve(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(lve);g&&ave(o,g[1])}var m=c.match(hve);m&&m[1]&&wve(m[1],a);var v=[];if(t.cellStyles){var y=c.match(cve);y&&yve(v,y)}d&&_ve(d[1],o,t,l,i,s);var w=u.match(uve);w&&(o["!autofilter"]=xve(w[0]));var b=[],D=u.match(ive);if(D)for(p=0;p!=D.length;++p)b[p]=ga(D[p].slice(D[p].indexOf('"')+1));var O=u.match(ove);O&&gve(o,O,n);var P=u.match(fve);if(P&&(o["!margins"]=vve(Ar(P[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=nn(l)),t.sheetRows>0&&o["!ref"]){var T=ga(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=nn(T))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function hC(e,t,r,n){var a=Ar(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=cn(qn(a.codeName)))}function mve(e,t,r,n,a){hC(e.slice(0,e.indexOf(">")),r,n,a)}function gve(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Ar(qn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+cn(i.location))):(i.Target="#"+cn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=ga(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Or({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function vve(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function yve(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Ar(t[n],!0);a.hidden&&(a.hidden=Zn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,fC(a.width)),_p(a);i<=s;)e[i++]=Ni(a)}}function xve(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var bve=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function wve(e,t){t.Views||(t.Views=[{}]),(e.match(bve)||[]).forEach(function(r,n){var a=Ar(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Zn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var _ve=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Hv("v"),s=Hv("f");return function(l,c,u,d,h,p){for(var g=0,m="",v=[],y=[],w=0,b=0,D=0,O="",P,T,_=0,S=0,I,E,C=0,N=0,U=Array.isArray(p.CellXf),X,z=[],H=[],V=Array.isArray(c),q=[],te={},Z=!1,k=!!u.sheetStubs,R=l.split(t),G=0,Y=R.length;G!=Y;++G){m=R[G].trim();var J=m.length;if(J!==0){var se=0;e:for(g=0;g<J;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=Ar(m.slice(se,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,u.sheetRows&&u.sheetRows<_)continue;te={},Z=!1,T.ht&&(Z=!0,te.hpt=parseFloat(T.ht),te.hpx=Xv(te.hpt)),T.hidden=="1"&&(Z=!0,te.hidden=!0),T.outlineLevel!=null&&(Z=!0,te.level=+T.outlineLevel),Z&&(q[_-1]=te)}break;case"<":se=g;break}if(se>=g)break;if(T=Ar(m.slice(se,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,!(u.sheetRows&&u.sheetRows<_)){d.s.r>_-1&&(d.s.r=_-1),d.e.r<_-1&&(d.e.r=_-1),u&&u.cellStyles&&(te={},Z=!1,T.ht&&(Z=!0,te.hpt=parseFloat(T.ht),te.hpx=Xv(te.hpt)),T.hidden=="1"&&(Z=!0,te.hidden=!0),T.outlineLevel!=null&&(Z=!0,te.level=+T.outlineLevel),Z&&(q[_-1]=te)),v=m.slice(g).split(e);for(var ue=0;ue!=v.length&&v[ue].trim().charAt(0)=="<";++ue);for(v=v.slice(ue),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),w=g,b=0,D=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(w=0,O=y[1],b=0;b!=O.length&&!((D=O.charCodeAt(b)-64)<1||D>26);++b)w=26*w+D;--w,S=w}else++S;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,T=Ar(m.slice(0,b),!0),T.r||(T.r=Or({r:_-1,c:S})),O=m.slice(b),P={t:""},(y=O.match(i))!=null&&y[1]!==""&&(P.v=cn(y[1])),u.cellFormula){if((y=O.match(s))!=null&&y[1]!==""){if(P.f=cn(qn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(P.f=e8(P.f)),y[0].indexOf('t="array"')>-1)P.F=(O.match(a)||[])[1],P.F.indexOf(":")>-1&&z.push([ga(P.F),P.F]);else if(y[0].indexOf('t="shared"')>-1){E=Ar(y[0]);var ae=cn(qn(y[1]));u.xlfn||(ae=e8(ae)),H[parseInt(E.si,10)]=[E,ae,T.r]}}else(y=O.match(/<f[^>]*\/>/))&&(E=Ar(y[0]),H[E.si]&&(P.f=Ime(H[E.si][1],H[E.si][2],T.r)));var he=xs(T.r);for(b=0;b<z.length;++b)he.r>=z[b][0].s.r&&he.r<=z[b][0].e.r&&he.c>=z[b][0].s.c&&he.c<=z[b][0].e.c&&(P.F=z[b][1])}if(T.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(k)P.t="z";else continue;else P.t=T.t||"n";switch(d.s.c>S&&(d.s.c=S),d.e.c<S&&(d.e.c=S),P.t){case"n":if(P.v==""||P.v==null){if(!k)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!k)continue;P.t="z"}else I=Xg[parseInt(P.v,10)],P.v=I.t,P.r=I.r,u.cellHTML&&(P.h=I.h);break;case"str":P.t="s",P.v=P.v!=null?qn(P.v):"",u.cellHTML&&(P.h=eC(P.v));break;case"inlineStr":y=O.match(n),P.t="s",y!=null&&(I=uC(y[1]))?(P.v=I.t,u.cellHTML&&(P.h=I.h)):P.v="";break;case"b":P.v=Zn(P.v);break;case"d":u.cellDates?P.v=ui(P.v,1):(P.v=As(ui(P.v,1)),P.t="n");break;case"e":(!u||u.cellText!==!1)&&(P.w=P.v),P.v=Qz[P.v];break}if(C=N=0,X=null,U&&T.s!==void 0&&(X=p.CellXf[T.s],X!=null&&(X.numFmtId!=null&&(C=X.numFmtId),u.cellStyles&&X.fillId!=null&&(N=X.fillId))),Cq(P,C,N,u,h,p),u.cellDates&&U&&P.t=="n"&&lm(Lr[C])&&(P.t="d",P.v=S5(P.v)),T.cm&&u.xlmeta){var xe=(u.xlmeta.Cell||[])[+T.cm-1];xe&&xe.type=="XLDAPR"&&(P.D=!0)}if(V){var W=xs(T.r);c[W.r]||(c[W.r]=[]),c[W.r][W.c]=P}else c[T.r]=P}}}}q.length>0&&(c["!rows"]=q)}}();function Sve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Ave=Eh;function Tve(){}function Eve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Kde(e),r}function Nve(e){var t=Wo(e);return[t]}function kve(e){var t=Th(e);return[t]}function Cve(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"b"]}function Pve(e){var t=Th(e),r=e.read_shift(1);return[t,r,"b"]}function jve(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"e"]}function Ove(e){var t=Th(e),r=e.read_shift(1);return[t,r,"e"]}function Ive(e){var t=Wo(e),r=e.read_shift(4);return[t,r,"s"]}function Dve(e){var t=Th(e),r=e.read_shift(4);return[t,r,"s"]}function Lve(e){var t=Wo(e),r=Yi(e);return[t,r,"n"]}function jq(e){var t=Th(e),r=Yi(e);return[t,r,"n"]}function Mve(e){var t=Wo(e),r=oC(e);return[t,r,"n"]}function Rve(e){var t=Th(e),r=oC(e);return[t,r,"n"]}function Fve(e){var t=Wo(e),r=iC(e);return[t,r,"is"]}function $ve(e){var t=Wo(e),r=es(e);return[t,r,"str"]}function Bve(e){var t=Th(e),r=es(e);return[t,r,"str"]}function Uve(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}function Vve(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}function zve(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=Yi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}function qve(e,t,r){var n=e.l+t,a=Wo(e);a.r=r["!row"];var i=es(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}var Wve=Eh;function Hve(e,t){var r=e.l+t,n=Eh(e),a=sC(e),i=es(e),s=es(e),o=es(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Gve(){}function Kve(e,t,r){var n=e.l+t,a=Kz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Zge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Yve(e,t,r){var n=e.l+t,a=Eh(e),i=[a];if(r.cellFormula){var s=tve(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var Xve=["left","right","top","bottom","header","footer"];function Qve(e){var t={};return Xve.forEach(function(r){t[r]=Yi(e)}),t}function Jve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Zve(){}function e1e(){}function t1e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,p,g,m,v,y,w,b,D,O,P=[];o.biff=12,o["!row"]=0;var T=0,_=!1,S=[],I={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=I,E.arrayf=S,E.SheetNames=a.SheetNames||a.Sheets.map(function(V){return V.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var C=0;C<a.Names.length;++C)E[0][C+1]=a.Names[C];var N=[],U=[],X=!1;kb[16]={n:"BrtShortReal",f:jq};var z;if(mu(e,function(q,te,Z){if(!h)switch(Z){case 148:c=q;break;case 0:p=q,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),D=ki(v=p.r),o["!row"]=p.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=Xv(q.hpt)),U[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:q[2]},q[2]){case"n":g.v=q[1];break;case"s":b=Xg[q[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!q[1];break;case"e":g.v=q[1],o.cellText!==!1&&(g.w=Nh[g.v]);break;case"str":g.t="s",g.v=q[1];break;case"is":g.t="s",g.v=q[1].t;break}if((m=s.CellXf[q[0].iStyleRef])&&Cq(g,m.numFmtId,null,o,i,s),y=q[0].c==-1?y+1:q[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ka(y)+D]=g,o.cellFormula){for(_=!1,T=0;T<S.length;++T){var k=S[T];p.r>=k[0].s.r&&p.r<=k[0].e.r&&y>=k[0].s.c&&y<=k[0].e.c&&(g.F=nn(k[0]),_=!0)}!_&&q.length>3&&(g.f=q[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&lm(Lr[m.numFmtId])){var R=Rd(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},y=q[0].c==-1?y+1:q[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ka(y)+D]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 176:P.push(q);break;case 49:z=((o.xlmeta||{}).Cell||[])[q-1];break;case 494:var G=n["!id"][q.relId];for(G?(q.Target=G.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=G):q.relId==""&&(q.Target="#"+q.loc),v=q.rfx.s.r;v<=q.rfx.e.r;++v)for(y=q.rfx.s.c;y<=q.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=q):(w=Or({c:y,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=q);break;case 426:if(!o.cellFormula)break;S.push(q),O=o.dense?l[v][y]:l[Ka(y)+D],O.f=qi(q[1],u,{r:p.r,c:y},E,o),O.F=nn(q[0]);break;case 427:if(!o.cellFormula)break;I[Or(q[0].s)]=q[1],O=o.dense?l[v][y]:l[Ka(y)+D],O.f=qi(q[1],u,{r:p.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;q.e>=q.s;)N[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},X||(X=!0,fC(q.w/256)),_p(N[q.e+1]);break;case 161:l["!autofilter"]={ref:nn(q)};break;case 476:l["!margins"]=q;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),q.name&&(a.Sheets[r].CodeName=q.name),(q.above||q.left)&&(l["!outline"]={above:q.above,left:q.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),q.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!te.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=nn(c||u)),o.sheetRows&&l["!ref"]){var H=ga(l["!ref"]);o.sheetRows<=+H.e.r&&(H.e.r=o.sheetRows-1,H.e.r>u.e.r&&(H.e.r=u.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>u.e.c&&(H.e.c=u.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),l["!fullref"]=l["!ref"],l["!ref"]=nn(H))}return P.length>0&&(l["!merges"]=P),N.length>0&&(l["!cols"]=N),U.length>0&&(l["!rows"]=U),l}function r1e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=cn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function n1e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=r1e(d);u.s.r=u.s.c=0,u.e.c=o,c=Ka(o),h[0].forEach(function(p,g){s[c+ki(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=nn(u)),s}function a1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Pq);return o&&hC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function i1e(e,t){e.l+=10;var r=es(e);return{name:r}}function s1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return mu(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var Oq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],o1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],l1e=[],c1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function i8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Zn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function s8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Zn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Iq(e){s8(e.WBProps,Oq),s8(e.CalcPr,c1e),i8(e.WBView,o1e),i8(e.Sheets,l1e),W0.date1904=Zn(e.WBProps.date1904)}var u1e="][*?/\\".split("");function f1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return u1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var d1e=/<\w+:workbook/;function h1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(as,function(l,c){var u=Ar(l);switch(cc(u[0])){case"<?xml":break;case"<workbook":l.match(d1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Oq.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":r.WBProps[d[0]]=Zn(u[d[0]]);break;case"int":r.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:r.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(r.WBProps.CodeName=qn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=cn(qn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=qn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Zn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=cn(qn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),jde.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Iq(r),r}function p1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=N3(e),r.name=es(e),r}function m1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?es(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function g1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function v1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Yde(e),s=eve(e,0,r),o=sC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function y1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],kb[16]={n:"BrtFRTArchID$",f:g1e},mu(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=qi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Iq(r),r.Names=i,r.supbooks=s,r}function x1e(e,t,r){return t.slice(-4)===".bin"?y1e(e,r):h1e(e,r)}function b1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?t1e(e,n,r,a,i,s,o):pve(e,n,r,a,i,s,o)}function w1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?s1e(e,n,r,a,i):a1e(e,n,r,a,i)}function _1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Pme():jme()}function S1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?kme():Cme()}function A1e(e,t,r,n){return t.slice(-4)===".bin"?Wpe(e,r,n):$pe(e,r,n)}function T1e(e,t,r){return xq(e,r)}function E1e(e,t,r){return t.slice(-4)===".bin"?ope(e,r):ipe(e,r)}function N1e(e,t,r){return t.slice(-4)===".bin"?Tme(e,r):bme(e,r)}function k1e(e,t,r){return t.slice(-4)===".bin"?vme(e):mme(e)}function C1e(e,t,r,n){return r.slice(-4)===".bin"?yme(e,t,r,n):void 0}function P1e(e,t,r){return t.slice(-4)===".bin"?hme(e,t,r):pme(e,t,r)}var Dq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Lq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function rl(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Dq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Lq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function j1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Dq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(Lq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Jg;function O1e(e,t){var r=Jg[e]||cn(e);return r==="General"?lh(t):zo(r,t)}function I1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Zn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ui(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[cn(t)]=a}function D1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Nh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Wv(e.v):e.w=lh(e.v):e.w=O1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Jg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&lm(n)){var a=Rd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function L1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Ipe[n.Pattern]||n.Pattern)}e[t.ID]=t}function M1e(e,t,r,n,a,i,s,o,l,c){var u="General",d=n.StyleID,h={};c=c||{};var p=[],g=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&s&&(d=s.StyleID);i[d]!==void 0&&(i[d].nf&&(u=i[d].nf),i[d].Interior&&p.push(i[d].Interior),!!i[d].Parent);)d=i[d].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Zn(e);break;case"String":n.t="s",n.r=kD(cn(e)),n.v=e.indexOf("<")>-1?cn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ui(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=cn(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Qz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=kD(t||e));break}if(D1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=cn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=q0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=q0("RC:RC",a):n.ArrayRange&&(n.F=q0(n.ArrayRange,a),l.push([ga(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function R1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function zS(e,t){var r=t||{};Sz();var n=xg(tC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=qn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Ni(r);return s.type="string",Kv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Oe){a.indexOf("<"+Oe)>=0&&(i=!0)}),i)return H1e(n,r);Jg={"General Number":"General","General Date":Lr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Lr[15],"Short Date":Lr[14],"Long Time":Lr[19],"Medium Time":Lr[18],"Short Time":Lr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Lr[2],Standard:Lr[4],Percent:Lr[10],Scientific:Lr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},d=[],h=r.dense?[]:{},p="",g={},m={},v=rl('<Data ss:Type="String">'),y=0,w=0,b=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},O={},P={},T="",_=0,S=[],I={},E={},C=0,N=[],U=[],X={},z=[],H,V=!1,q=[],te=[],Z={},k=0,R=0,G={Sheets:[],WBProps:{date1904:!1}},Y={};Gv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";o=Gv.exec(n);)switch(o[3]=(J=o[3]).toLowerCase()){case"data":if(J=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?M1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?X:g,{c:w,r:b},O,z[w],m,q,r):(T="",v=rl(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=g):h[Ka(w)+ki(b)]=g),g.HRef&&(g.l={Target:cn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(k=w+(parseInt(g.MergeAcross,10)|0),R=b+(parseInt(g.MergeDown,10)|0),S.push({s:{c:w,r:b},e:{c:k,r:R}})),!r.sheetStubs)g.MergeAcross?w=k+1:++w;else if(g.MergeAcross||g.MergeDown){for(var se=w;se<=k;++se)for(var ue=b;ue<=R;++ue)(se>w||ue>b)&&(r.dense?(h[ue]||(h[ue]=[]),h[ue][se]={t:"z"}):h[Ka(se)+ki(ue)]={t:"z"});w=k+1}else++w;else g=j1e(o[0]),g.Index&&(w=+g.Index-1),w<D.s.c&&(D.s.c=w),w>D.e.c&&(D.e.c=w),o[0].slice(-2)==="/>"&&++w,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<D.s.r&&(D.s.r=b),b>D.e.r&&(D.e.r=b),o[0].slice(-2)==="/>"&&(m=rl(o[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=rl(o[0]),m.Index&&(b=+m.Index-1),Z={},(m.AutoFitHeight=="0"||m.Height)&&(Z.hpx=parseInt(m.Height,10),Z.hpt=yq(Z.hpx),te[b]=Z),m.Hidden=="1"&&(Z.hidden=!0,te[b]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(p),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(h["!ref"]=nn(D),r.sheetRows&&r.sheetRows<=D.e.r&&(h["!fullref"]=h["!ref"],D.e.r=r.sheetRows-1,h["!ref"]=nn(D))),S.length&&(h["!merges"]=S),z.length>0&&(h["!cols"]=z),te.length>0&&(h["!rows"]=te),u[p]=h}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),c=rl(o[0]),p=cn(c.Name),h=r.dense?[]:{},S=[],q=[],te=[],Y={name:p,Hidden:0},G.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),z=[],V=!1}break;case"style":o[1]==="/"?L1e(O,P,r):P=rl(o[0]);break;case"numberformat":P.nf=cn(rl(o[0]).Format||"General"),Jg[P.nf]&&(P.nf=Jg[P.nf]);for(var ae=0;ae!=392&&Lr[ae]!=P.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Lr[ae]==null){Gd(P.nf,ae);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(H=rl(o[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!V&&H.wpx>10){V=!0,ms=gq;for(var he=0;he<z.length;++he)z[he]&&_p(z[he])}V&&_p(H),z[H.Index-1||z.length]=H;for(var xe=0;xe<+H.Span;++xe)z[z.length]=Ni(H);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var W=Ar(o[0]),Ne={Name:W.Name,Ref:q0(W.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Ne.Sheet=G.Sheets.length-1),G.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(_,o.index):_=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=rl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?bhe(I,J,n.slice(C,o.index)):C=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));R1e(X),U.push(X)}else l.push([o[3],!1]),c=rl(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ke=rl(o[0]);h["!autofilter"]={ref:q0(ke.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return d8(n,r);var _e=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(C,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else C=o.index+o[0].length;break;case"header":h["!margins"]||Qg(h["!margins"]={},"xlml"),isNaN(+Ar(o[0]).Margin)||(h["!margins"].header=+Ar(o[0]).Margin);break;case"footer":h["!margins"]||Qg(h["!margins"]={},"xlml"),isNaN(+Ar(o[0]).Margin)||(h["!margins"].footer=+Ar(o[0]).Margin);break;case"pagemargins":var le=Ar(o[0]);h["!margins"]||Qg(h["!margins"]={},"xlml"),isNaN(+le.Top)||(h["!margins"].top=+le.Top),isNaN(+le.Left)||(h["!margins"].left=+le.Left),isNaN(+le.Right)||(h["!margins"].right=+le.Right),isNaN(+le.Bottom)||(h["!margins"].bottom=+le.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?I1e(E,J,N,n.slice(C,o.index)):(N=o,C=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Le={};return!r.bookSheets&&!r.bookProps&&(Le.Sheets=u),Le.SheetNames=d,Le.Workbook=G,Le.SSF=Ni(Lr),Le.Props=I,Le.Custprops=E,Le}function j3(e,t){switch(gC(t=t||{}),t.type||"base64"){case"base64":return zS(co(e),t);case"binary":case"buffer":case"file":return zS(e,t);case"array":return zS(Ah(e),t)}}function F1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Jde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Zde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var $1e=[60,1084,2066,2165,2175];function B1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Dc(r,r.l),c=O3[l],u=0;c!=null&&$1e.indexOf(l)>-1;)i=Dc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=O3[l=Dc(r,r.l)];var d=nf(s);_i(d,0);var h=0;d.lens=[];for(var p=0;p<s.length;++p)d.lens.push(h),h+=s[p].length;if(d.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,a)}function Bl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Lr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Nh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Wv(e.v):e.w=lh(e.v):e.w=zo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&lm(Lr[n]||String(n))){var a=Rd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Sx(e,t,r){return{v:e,ixfe:t,t:r}}function U1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},d,h="",p,g,m,v,y={},w=[],b,D,O=[],P=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},S=function(mt){return mt<8?Kd[mt]:mt<64&&P[mt-8]||Kd[mt]},I=function(mt,ct,Zt){var Ht=ct.XF.data;if(!(!Ht||!Ht.patternType||!Zt||!Zt.cellStyles)){ct.s={},ct.s.patternType=Ht.patternType;var Rr;(Rr=Yv(S(Ht.icvFore)))&&(ct.s.fgColor={rgb:Rr}),(Rr=Yv(S(Ht.icvBack)))&&(ct.s.bgColor={rgb:Rr})}},E=function(mt,ct,Zt){if(!(Z>1)&&!(Zt.sheetRows&&mt.r>=Zt.sheetRows)){if(Zt.cellStyles&&ct.XF&&ct.XF.data&&I(mt,ct,Zt),delete ct.ixfe,delete ct.XF,d=mt,h=Or(mt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),mt.r<s.s.r&&(s.s.r=mt.r),mt.c<s.s.c&&(s.s.c=mt.c),mt.r+1>s.e.r&&(s.e.r=mt.r+1),mt.c+1>s.e.c&&(s.e.c=mt.c+1),Zt.cellFormula&&ct.f){for(var Ht=0;Ht<w.length;++Ht)if(!(w[Ht][0].s.c>mt.c||w[Ht][0].s.r>mt.r)&&!(w[Ht][0].e.c<mt.c||w[Ht][0].e.r<mt.r)){ct.F=nn(w[Ht][0]),(w[Ht][0].s.c!=mt.c||w[Ht][0].s.r!=mt.r)&&delete ct.f,ct.f&&(ct.f=""+qi(w[Ht][1],s,mt,q,C));break}}Zt.dense?(a[mt.r]||(a[mt.r]=[]),a[mt.r][mt.c]=ct):a[h]=ct}},C={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(C.password=t.password);var N,U=[],X=[],z=[],H=[],V=!1,q=[];q.SheetNames=C.snames,q.sharedf=C.sharedf,q.arrayf=C.arrayf,q.names=[],q.XTI=[];var te=0,Z=0,k=0,R=[],G=[],Y;C.codepage=1200,yl(1200);for(var J=!1;e.l<e.length-1;){var se=e.l,ue=e.read_shift(2);if(ue===0&&te===10)break;var ae=e.l===e.length?0:e.read_shift(2),he=O3[ue];if(he&&he.f){if(t.bookSheets&&te===133&&ue!==133)break;if(te=ue,he.r===2||he.r==12){var xe=e.read_shift(2);if(ae-=2,!C.enc&&xe!==ue&&((xe&255)<<8|xe>>8)!==ue)throw new Error("rt mismatch: "+xe+"!="+ue);he.r==12&&(e.l+=10,ae-=10)}var W={};if(ue===10?W=he.f(e,ae,C):W=B1e(ue,he,e,ae,C),Z==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(ue){case 34:r.opts.Date1904=T.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(e.l=0),C.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=W;break;case 66:var Ne=Number(W);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}yl(C.codepage=Ne),J=!0;break;case 317:C.rrtabid=W;break;case 25:C.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:C.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(a["!type"]="dialog"),W.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),W.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:O.push(W);break;case 430:q.push([W]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(W);break;case 24:case 536:Y={Name:W.Name,Ref:qi(W.rgce,s,null,q,C)},W.itab>0&&(Y.Sheet=W.itab-1),q.names.push(Y),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(G[W.itab-1]={ref:nn(W.rgce[0][0][1][2])});break;case 22:C.ExternCount=W;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(W),q.XTI=q.XTI.concat(W);break;case 2196:if(C.biff<8)break;Y!=null&&(Y.Comment=W[1]);break;case 18:a["!protect"]=W;break;case 19:W!==0&&C.WTF&&console.error("Password verifier: "+W);break;case 133:i[W.pos]=W,C.snames.push(W.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=nn(s),t.sheetRows&&t.sheetRows<=s.e.r){var ke=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=nn(s),s.e.r=ke}s.e.r++,s.e.c++}U.length>0&&(a["!merges"]=U),X.length>0&&(a["!objects"]=X),z.length>0&&(a["!cols"]=z),H.length>0&&(a["!rows"]=H),T.Sheets.push(_)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),C.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(C.biff=5,J=!0,yl(C.codepage=28591)),C.biff==8&&W.BIFFVer==0&&W.dt==16&&(C.biff=2),Z++)break;if(a=t.dense?[]:{},C.biff<8&&!J&&(J=!0,yl(C.codepage=t.codepage||1252)),C.biff<5||W.BIFFVer==0&&W.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-ae,name:c};i[_e.pos]=_e,C.snames.push(c)}else c=(i[se]||{name:""}).name;W.dt==32&&(a["!type"]="chart"),W.dt==64&&(a["!type"]="macro"),U=[],X=[],C.arrayf=w=[],z=[],H=[],V=!1,_={Hidden:(i[se]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[W.r]||[])[W.c]:a[Or({c:W.c,r:W.r})])&&++W.c,b={ixfe:W.ixfe,XF:O[W.ixfe]||{},v:W.val,t:"n"},k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:W.c,r:W.r},b,t);break;case 5:case 517:b={ixfe:W.ixfe,XF:O[W.ixfe],v:W.val,t:W.t},k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:W.c,r:W.r},b,t);break;case 638:b={ixfe:W.ixfe,XF:O[W.ixfe],v:W.rknum,t:"n"},k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:W.c,r:W.r},b,t);break;case 189:for(var le=W.c;le<=W.C;++le){var Le=W.rkrec[le-W.c][0];b={ixfe:Le,XF:O[Le],v:W.rkrec[le-W.c][1],t:"n"},k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:le,r:W.r},b,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(b=Sx(W.val,W.cell.ixfe,W.tt),b.XF=O[b.ixfe],t.cellFormula){var Oe=W.formula;if(Oe&&Oe[0]&&Oe[0][0]&&Oe[0][0][0]=="PtgExp"){var Ve=Oe[0][0][1][0],We=Oe[0][0][1][1],Ee=Or({r:Ve,c:We});y[Ee]?b.f=""+qi(W.formula,s,W.cell,q,C):b.F=((t.dense?(a[Ve]||[])[We]:a[Ee])||{}).F}else b.f=""+qi(W.formula,s,W.cell,q,C)}k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E(W.cell,b,t),o=W}break;case 7:case 519:if(o)o.val=W,b=Sx(W,o.cell.ixfe,"s"),b.XF=O[b.ixfe],t.cellFormula&&(b.f=""+qi(o.formula,s,o.cell,q,C)),k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(W);var Fe=Or(W[0].s);if(p=t.dense?(a[W[0].s.r]||[])[W[0].s.c]:a[Fe],t.cellFormula&&p){if(!o||!Fe||!p)break;p.f=""+qi(W[1],s,W[0],q,C),p.F=nn(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Or(o.cell)]=W[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Or(o.cell)],(p||{}).f=""+qi(W[0],s,d,q,C)}}break;case 253:b=Sx(l[W.isst].t,W.ixfe,"s"),l[W.isst].h&&(b.h=l[W.isst].h),b.XF=O[b.ixfe],k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:W.c,r:W.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:W.ixfe,XF:O[W.ixfe],t:"z"},k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:W.c,r:W.r},b,t));break;case 190:if(t.sheetStubs)for(var Se=W.c;Se<=W.C;++Se){var Me=W.ixfe[Se-W.c];b={ixfe:Me,XF:O[Me],t:"z"},k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:Se,r:W.r},b,t)}break;case 214:case 516:case 4:b=Sx(W.val,W.ixfe,"s"),b.XF=O[b.ixfe],k>0&&(b.z=R[b.ixfe>>8&63]),Bl(b,t,r.opts.Date1904),E({c:W.c,r:W.r},b,t);break;case 0:case 512:Z===1&&(s=W);break;case 252:l=W;break;case 1054:if(C.biff==4){R[k++]=W[1];for(var He=0;He<k+163&&Lr[He]!=W[1];++He);He>=163&&Gd(W[1],k+163)}else Gd(W[1],W[0]);break;case 30:{R[k++]=W;for(var at=0;at<k+163&&Lr[at]!=W;++at);at>=163&&Gd(W,k+163)}break;case 229:U=U.concat(W);break;case 93:X[W.cmo[0]]=C.lastobj=W;break;case 438:C.lastobj.TxO=W;break;case 127:C.lastobj.ImData=W;break;case 440:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Or({c:m,r:v})],p&&(p.l=W[1]);break;case 2048:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Or({c:m,r:v})],p&&p.l&&(p.l.Tooltip=W[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;p=t.dense?(a[W[0].r]||[])[W[0].c]:a[Or(W[0])];var ot=X[W[2]];p||(t.dense?(a[W[0].r]||(a[W[0].r]=[]),p=a[W[0].r][W[0].c]={t:"z"}):p=a[Or(W[0])]={t:"z"},s.e.r=Math.max(s.e.r,W[0].r),s.s.r=Math.min(s.s.r,W[0].r),s.e.c=Math.max(s.e.c,W[0].c),s.s.c=Math.min(s.s.c,W[0].c)),p.c||(p.c=[]),g={a:W[1],t:ot.TxO.t},p.c.push(g)}break;case 2173:cme(O[W.ixfe],W.ext);break;case 125:{if(!C.cellStyles)break;for(;W.e>=W.s;)z[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},V||(V=!0,fC(W.w/256)),_p(z[W.e+1])}break;case 520:{var xt={};W.level!=null&&(H[W.r]=xt,xt.level=W.level),W.hidden&&(H[W.r]=xt,xt.hidden=!0),W.hpt&&(H[W.r]=xt,xt.hpt=W.hpt,xt.hpx=Xv(W.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Qg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=W;break;case 161:a["!margins"]||Qg(a["!margins"]={}),a["!margins"].header=W.header,a["!margins"].footer=W.footer;break;case 574:W.RTL&&(T.Views[0].RTL=!0);break;case 146:P=W;break;case 2198:N=W;break;case 140:D=W;break;case 442:c?_.CodeName=W||_.name:T.WBProps.CodeName=W||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=ae}return r.SheetNames=sc(i).sort(function(ht,mt){return Number(ht)-Number(mt)}).map(function(ht){return i[ht].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&G.forEach(function(ht,mt){r.Sheets[r.SheetNames[mt]]["!autofilter"]=ht}),r.Strings=l,r.SSF=Ni(Lr),C.enc&&(r.Encryption=C.enc),N&&(r.Themes=N),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),q.names.length>0&&(T.Names=q.names),r.Workbook=T,r}var o8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function V1e(e,t,r){var n=rn.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=qD(n,ihe,o8.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=rn.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=qD(s,she,o8.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Zz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Mq(e,t){t||(t={}),gC(t),fz(),t.codepage&&Kk(t.codepage);var r,n;if(e.FullPaths){if(rn.find(e,"/encryption"))throw new Error("File is password-protected");r=rn.find(e,"!CompObj"),n=rn.find(e,"/Workbook")||rn.find(e,"/Book")}else{switch(t.type){case"base64":e=ml(co(e));break;case"binary":e=ml(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}_i(e,0),n={content:e}}var a,i;if(r&&F1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Qr?"buffer":"array";if(n&&n.content)a=U1e(n.content,t);else if((i=rn.find(e,"PerfectOffice_MAIN"))&&i.content)a=Yg.to_workbook(i.content,(t.type=s,t));else if((i=rn.find(e,"NativeContent_MAIN"))&&i.content)a=Yg.to_workbook(i.content,(t.type=s,t));else throw(i=rn.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&rn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Nme(e))}var o={};return e.FullPaths&&V1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var kb={0:{f:Sve},1:{f:Nve},2:{f:Mve},3:{f:jve},4:{f:Cve},5:{f:Lve},6:{f:$ve},7:{f:Ive},8:{f:qve},9:{f:zve},10:{f:Uve},11:{f:Vve},12:{f:kve},13:{f:Rve},14:{f:Ove},15:{f:Pve},16:{f:jq},17:{f:Bve},18:{f:Dve},19:{f:iC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:v1e},40:{},42:{},43:{f:Upe},44:{f:Bpe},45:{f:Vpe},46:{f:qpe},47:{f:zpe},48:{},49:{f:Wde},50:{},51:{f:fme},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:fq},62:{f:Fve},63:{f:gme},64:{f:Zve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ns,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Jve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Eve},148:{f:Ave,p:16},151:{f:Gve},152:{},153:{f:m1e},154:{},155:{},156:{f:p1e},157:{},158:{},159:{T:1,f:spe},160:{T:-1},161:{T:1,f:Eh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Wve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ume},336:{T:-1},337:{f:dme,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:N3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Kve},427:{f:Yve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Qve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Tve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Hve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:N3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ame},633:{T:1},634:{T:-1},635:{T:1,f:Sme},636:{T:-1},637:{f:Gde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:i1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:e1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},O3={6:{f:US},10:{f:Wu},12:{f:Oa},13:{f:Oa},14:{f:xa},15:{f:xa},16:{f:Yi},17:{f:xa},18:{f:xa},19:{f:Oa},20:{f:KD},21:{f:KD},23:{f:uq},24:{f:XD},25:{f:xa},26:{},27:{},28:{f:w0e},29:{},34:{f:xa},35:{f:YD},38:{f:Yi},39:{f:Yi},40:{f:Yi},41:{f:Yi},42:{f:xa},43:{f:xa},47:{f:Tpe},49:{f:r0e},51:{f:Oa},60:{},61:{f:Zhe},64:{f:xa},65:{f:t0e},66:{f:Oa},77:{},80:{},81:{},82:{},85:{f:Oa},89:{},90:{},91:{},92:{f:Whe},93:{f:S0e},94:{},95:{f:xa},96:{},97:{},99:{f:xa},125:{f:fq},128:{f:d0e},129:{f:Hhe},130:{f:Oa},131:{f:xa},132:{f:xa},133:{f:Ghe},134:{},140:{f:C0e},141:{f:Oa},144:{},146:{f:j0e},151:{},152:{},153:{},154:{},155:{},156:{f:Oa},157:{},158:{},160:{f:M0e},161:{f:I0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:l0e},190:{f:c0e},193:{f:Wu},197:{},198:{},199:{},200:{},201:{},202:{f:xa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Oa},220:{},221:{f:xa},222:{},224:{f:f0e},225:{f:qhe},226:{f:Wu},227:{},229:{f:_0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Khe},253:{f:n0e},255:{f:Yhe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:aq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:xa},353:{f:Wu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:p0e},431:{f:xa},432:{},433:{},434:{},437:{},438:{f:E0e},439:{f:xa},440:{f:N0e},441:{},442:{f:ry},443:{},444:{f:Oa},445:{},446:{},448:{f:Wu},449:{f:Jhe,r:2},450:{f:Wu},512:{f:HD},513:{f:L0e},515:{f:h0e},516:{f:a0e},517:{f:GD},519:{f:R0e},520:{f:Xhe},523:{},545:{f:QD},549:{f:WD},566:{},574:{f:e0e},638:{f:o0e},659:{},1048:{},1054:{f:i0e},1084:{},1212:{f:y0e},2048:{f:k0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:bx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:O0e,r:12},2173:{f:lme,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:xa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:v0e,r:12},2197:{},2198:{f:rme,r:12},2199:{},2200:{},2201:{},2202:{f:x0e,r:12},2203:{f:Wu},2204:{},2205:{},2206:{},2207:{},2211:{f:Qhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Oa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:D0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:P0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:HD},1:{},2:{f:U0e},3:{f:B0e},4:{f:$0e},5:{f:GD},7:{f:V0e},8:{},9:{f:bx},11:{},22:{f:Oa},30:{f:s0e},31:{},32:{},33:{f:QD},36:{},37:{f:WD},50:{f:z0e},62:{},52:{},67:{},68:{f:Oa},69:{},86:{},126:{},127:{f:F0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:q0e},223:{},234:{},354:{},421:{},518:{f:US},521:{f:bx},536:{f:XD},547:{f:YD},561:{},579:{},1030:{f:US},1033:{f:bx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function nl(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Wz(r)&&e.push(r)}}function l8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=hde(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,D=0;b.charAt(0)=="<"&&(D=b.indexOf(">"))>-1;)b=b.slice(D+1);for(var O=0;O<g.length;++O){var P=g[O];P.s.c==u&&P.s.r<c&&c<=P.e.r&&(u=P.e.c+1,O=-1)}var T=Ar(w.slice(0,w.indexOf(">")));h=T.colspan?+T.colspan:1,((d=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var _=T.t||T["data-t"]||"";if(!b.length){u+=h;continue}if(b=Oz(b),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!b.length){u+=h;continue}var S={t:"s",v:b};r.raw||!b.trim().length||_=="s"||(b==="TRUE"?S={t:"b",v:!0}:b==="FALSE"?S={t:"b",v:!1}:isNaN(Al(b))?isNaN(wp(b).getDate())||(S={t:"d",v:ui(b)},r.cellDates||(S={t:"n",v:As(S.v)}),S.z=r.dateNF||Lr[14]):S={t:"n",v:Al(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=S):n[Or({r:c,c:u})]=S,u+=h}}}}return n["!ref"]=nn(p),g.length&&(n["!merges"]=g),n}function z1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Or({r,c:s}),d=n.dense?(e[r]||[])[s]:e[u],h=d&&d.v!=null&&(d.h||eC(d.w||(iu(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(Cde("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var q1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',W1e="</body></html>";function H1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Jf(l8(r[0],t),t);var n=yC();return r.forEach(function(a,i){xC(n,l8(a,t),"Sheet"+(i+1))}),n}function G1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function K1e(e,t){var r=t||{},n=r.header!=null?r.header:q1e,a=r.footer!=null?r.footer:W1e,i=[n],s=cm(e["!ref"]);r.dense=Array.isArray(e),i.push(G1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(z1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function Rq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?xs(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=cm(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var D=o[g];if(c8(D)){if(n.display)continue;p[m]={hidden:!0}}var O=D.children;for(v=y=0;v<O.length;++v){var P=O[v];if(!(n.display&&c8(P))){var T=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):Oz(P.innerHTML),_=P.getAttribute("data-z")||P.getAttribute("z");for(h=0;h<d.length;++h){var S=d[h];S.s.c==y+i&&S.s.r<m+a&&m+a<=S.e.r&&(y=S.e.c+1-i,h=-1)}b=+P.getAttribute("colspan")||1,((w=+P.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+a,c:y+i},e:{r:m+a+(w||1)-1,c:y+i+(b||1)-1}});var I={t:"s",v:T},E=P.getAttribute("data-t")||P.getAttribute("t")||"";T!=null&&(T.length==0?I.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?I={t:"b",v:!0}:T==="FALSE"?I={t:"b",v:!1}:isNaN(Al(T))?isNaN(wp(T).getDate())||(I={t:"d",v:ui(T)},n.cellDates||(I={t:"n",v:As(I.v)}),I.z=n.dateNF||Lr[14]):I={t:"n",v:Al(T)})),I.z===void 0&&_!=null&&(I.z=_);var C="",N=P.getElementsByTagName("A");if(N&&N.length)for(var U=0;U<N.length&&!(N[U].hasAttribute("href")&&(C=N[U].getAttribute("href"),C.charAt(0)!="#"));++U);C&&C.charAt(0)!="#"&&(I.l={Target:C}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=I):e[Or({c:y+i,r:m+a})]=I,c.e.c<y+i&&(c.e.c=y+i),y+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=nn(c),m>=l&&(e["!fullref"]=nn((c.e.r=o.length-g+m-1+a,c))),e}function Fq(e,t){var r=t||{},n=r.dense?[]:{};return Rq(n,e,t)}function Y1e(e,t){return Jf(Fq(e,t),t)}function c8(e){var t="",r=X1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function X1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Q1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=cn(t.replace(/<[^>]*>/g,""));return[r]}var u8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function $q(e,t){var r=t||{},n=tC(e),a=[],i,s,o={name:""},l="",c=0,u,d,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},w="",b=0,D=[],O=-1,P=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,S={},I=[],E={},C=0,N=0,U=[],X=1,z=1,H=[],V={Names:[]},q={},te=["",""],Z=[],k={},R="",G=0,Y=!1,J=!1,se=0;for(Gv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Gv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=nn(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=nn(T)),I.length&&(g["!merges"]=I),U.length&&(g["!rows"]=U),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,J=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Ar(m[0],!1),O=P=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},I=[],U=[],J=!0);break;case"table-row-group":m[1]==="/"?--_:++_;break;case"table-row":case"行":if(m[1]==="/"){O+=X,X=1;break}if(d=Ar(m[0],!1),d.行号?O=d.行号-1:O==-1&&(O=0),X=+d["number-rows-repeated"]||1,X<10)for(se=0;se<X;++se)_>0&&(U[O+se]={level:_});P=-1;break;case"covered-table-cell":m[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(g[O]||(g[O]=[]),g[O][P]={t:"z"}):g[Or({r:O,c:P})]={t:"z"}),w="",D=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++P,y=Ar(m[0],!1),z=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=a8(cn(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=cn(y["string-value"]||""),r.dense?(g[O]||(g[O]=[]),g[O][P]=v):g[Or({r:O,c:P})]=v),P+=z-1;else if(m[1]!=="/"){++P,w="",b=0,D=[],z=1;var ue=X?O+X-1:O;if(P>T.e.c&&(T.e.c=P),P<T.s.c&&(T.s.c=P),O<T.s.r&&(T.s.r=O),ue>T.e.r&&(T.e.r=ue),y=Ar(m[0],!1),Z=[],k={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=cn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(C=parseInt(y["number-matrix-rows-spanned"],10)||0,N=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:O,c:P},e:{r:O+C-1,c:P+N-1}},v.F=nn(E),H.push([E,v.F])),y.formula)v.f=a8(y.formula);else for(se=0;se<H.length;++se)O>=H[se][0].s.r&&O<=H[se][0].e.r&&P>=H[se][0].s.c&&P<=H[se][0].e.c&&(v.F=H[se][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(C=parseInt(y["number-rows-spanned"],10)||0,N=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:O,c:P},e:{r:O+C-1,c:P+N-1}},I.push(E)),y["number-columns-repeated"]&&(z=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Zn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=ui(y["date-value"]),r.cellDates||(v.t="n",v.v=As(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=ude(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=S5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=cn(y["string-value"]),D=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Y=!1,v.t==="s"&&(v.v=w||"",D.length&&(v.R=D),Y=b==0),q.Target&&(v.l=q),Z.length>0&&(v.c=Z,Z=[]),w&&r.cellText!==!1&&(v.w=w),Y&&(v.t="z",delete v.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=O))for(var ae=0;ae<X;++ae){if(z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[O+ae]||(g[O+ae]=[]),g[O+ae][P]=ae==0?v:Ni(v);--z>0;)g[O+ae][P+z]=Ni(v);else for(g[Or({r:O+ae,c:P})]=v;--z>0;)g[Or({r:O+ae,c:P+z})]=Ni(v);T.e.c<=P&&(T.e.c=P)}z=parseInt(y["number-columns-repeated"]||"1",10),P+=z-1,z=0,v={},w="",D=[]}q={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;k.t=w,D.length&&(k.R=D),k.a=R,Z.push(k)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",G=0,w="",b=0,D=[];break;case"creator":m[1]==="/"?R=n.slice(G,m.index):G=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);w="",b=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(S[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Ar(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ar(m[0],!1),l+=u8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ar(m[0],!1),l+=u8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Ar(m[0],!1),te=VS(s["cell-range-address"]);var he={Name:s.name,Ref:te[0]+"!"+te[1]};J&&(he.Sheet=p.length),V.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var xe=Q1e(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+xe[0]}else Ar(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{te=VS(Ar(m[0])["target-range-address"]),h[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(q=Ar(m[0],!1),!q.href)break;q.Target=cn(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(te=VS(q.Target.slice(1)),q.Target="#"+te[0]+"!"+te[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var W={Sheets:h,SheetNames:p,Workbook:V};return r.bookSheets&&delete W.Sheets,W}function f8(e,t){t=t||{},Po(e,"META-INF/manifest.xml")&&hhe(ja(e,"META-INF/manifest.xml"),t);var r=ro(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=$q(qn(r),t);return Po(e,"meta.xml")&&(n.Props=Jz(ja(e,"meta.xml"))),n}function d8(e,t){return $q(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function pC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function I3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):qn(Ah(e))}function D3(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function h8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function J1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Qv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Qa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Qi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Qv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Qv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function mC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Z1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Qv(e,n),i=Qi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Qa(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Qi(o.data),c=Qa(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Qa(i[3][0].data)>>>0>0),r.push(s)}return r}function eye(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Qv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[D3(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=D3(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function tye(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(eye(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return D3(t)}function rye(e,t,r,n){var a=pC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+h8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=h8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var d;switch(e[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[l]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:r[o]};else if(l>-1)d={t:"s",v:t[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return d}function nye(e,t,r){var n=pC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=J1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var d;switch(e[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return d}function aye(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return rye(e,t,r,e[0]);case 5:return nye(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Cf(e){var t=Qi(e);return Qv(t[1][0].data)}function p8(e,t){var r=Qi(t.data),n=Qa(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Qi(s.data),l=Qa(o[1][0].data)>>>0;switch(n){case 1:i[l]=I3(o[3][0].data);break;case 8:{var c=e[Cf(o[9][0].data)][0],u=Qi(c.data),d=e[Cf(u[1][0].data)][0],h=Qa(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Qi(d.data);i[l]=p[3].map(function(g){return I3(g.data)}).join("")}break}}),i}function iye(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g,m,v=Qi(e),y=Qa(v[1][0].data)>>>0,w=Qa(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Qa(v[8][0].data)>0||!1,D,O;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,O=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(u=v[4])==null?void 0:u[0])!=null&&d.data&&t!=1)D=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,O=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=b?4:1,T=pC(D),_=[],S=0;S<D.length/2;++S){var I=T.getUint16(S*2,!0);I<65535&&_.push([S,I])}if(_.length!=w)throw"Expected ".concat(w," cells, found ").concat(_.length);var E=[];for(S=0;S<_.length-1;++S)E[_[S][0]]=O.subarray(_[S][1]*P,_[S+1][1]*P);return _.length>=1&&(E[_[_.length-1][0]]=O.subarray(_[_.length-1][1]*P)),{R:y,cells:E}}function sye(e,t){var r,n=Qi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Qa(n[7][0].data)>>>0>0?1:0:-1,i=mC(n[5],function(s){return iye(s,a)});return{nrows:Qa(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function oye(e,t,r){var n,a=Qi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Qa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Qa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=nn(i);var s=Qi(a[4][0].data),o=p8(e,e[Cf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?p8(e,e[Cf(s[17][0].data)][0]):[],c=Qi(s[3][0].data),u=0;c[1].forEach(function(d){var h=Qi(d.data),p=e[Cf(h[2][0].data)][0],g=Qa(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=sye(e,p);m.data.forEach(function(v,y){v.forEach(function(w,b){var D=Or({r:u+y,c:b}),O=aye(w,o,l);O&&(r[D]=O)})}),u+=m.nrows})}function lye(e,t){var r=Qi(t.data),n={"!ref":"A1"},a=e[Cf(r[2][0].data)],i=Qa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return oye(e,a[0],n),n}function cye(e,t){var r,n=Qi(t.data),a={name:(r=n[1])!=null&&r[0]?I3(n[1][0].data):"",sheets:[]},i=mC(n[2],Cf);return i.forEach(function(s){e[s].forEach(function(o){var l=Qa(o.meta[1][0].data);l==6e3&&a.sheets.push(lye(e,o))})}),a}function uye(e,t){var r=yC(),n=Qi(t.data),a=mC(n[1],Cf);if(a.forEach(function(i){e[i].forEach(function(s){var o=Qa(s.meta[1][0].data);if(o==2){var l=cye(e,s);l.sheets.forEach(function(c,u){xC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function qS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=tye(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var u;try{u=Z1e(c)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){i[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Qa(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Qa(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return uye(i,o)}function fye(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function gC(e){fye([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function dye(e){return P0.WS.indexOf(e)>-1?"sheet":e==P0.CS?"chart":e==P0.DS?"dialog":e==P0.MS?"macro":e&&e.length?e:"sheet"}function hye(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,dye(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function pye(e,t,r,n,a,i,s,o,l,c,u,d){try{i[n]=Gg(ro(e,r,!0),t);var h=ja(e,t),p;switch(o){case"sheet":p=b1e(h,t,a,l,i[n],c,u,d);break;case"chart":if(p=w1e(h,t,a,l,i[n],c,u,d),!p||!p["!drawel"])break;var g=wg(p["!drawel"].Target,t),m=k3(g),v=xme(ro(e,g,!0),Gg(ro(e,m,!0),g)),y=wg(v,g),w=k3(y);p=n1e(ro(e,y,!0),y,l,Gg(ro(e,w,!0),y),c,p);break;case"macro":p=_1e(h,t,a,l,i[n],c,u,d);break;case"dialog":p=S1e(h,t,a,l,i[n],c,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];i&&i[n]&&sc(i[n]).forEach(function(D){var O="";if(i[n][D].Type==P0.CMNT){O=wg(i[n][D].Target,t);var P=N1e(ja(e,O,!0),O,l);if(!P||!P.length)return;ZD(p,P,!1)}i[n][D].Type==P0.TCMNT&&(O=wg(i[n][D].Target,t),b=b.concat(wme(ja(e,O,!0),l)))}),b&&b.length&&ZD(p,b,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function So(e){return e.charAt(0)=="/"?e.slice(1):e}function mye(e,t){if(Sz(),t=t||{},gC(t),Po(e,"META-INF/manifest.xml")||Po(e,"objectdata.xml"))return f8(e,t);if(Po(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof qS<"u"){if(e.FileIndex)return qS(e);var r=rn.utils.cfb_new();return ED(e).forEach(function(U){gde(r,U,mde(e,U))}),qS(r)}throw new Error("Unsupported NUMBERS file")}if(!Po(e,"[Content_Types].xml"))throw Po(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Po(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=ED(e),a=fhe(ro(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ja(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ja(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Xg=[],a.sst)try{Xg=E1e(ja(e,So(a.sst)),a.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&a.themes.length&&(l=T1e(ro(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=A1e(ja(e,So(a.style)),a.style,l,t))}a.links.map(function(U){try{var X=Gg(ro(e,k3(So(U))),U);return C1e(ja(e,So(U)),X,U,t)}catch{}});var u=x1e(ja(e,So(a.workbooks[0])),a.workbooks[0],t),d={},h="";a.coreprops.length&&(h=ja(e,So(a.coreprops[0]),!0),h&&(d=Jz(h)),a.extprops.length!==0&&(h=ja(e,So(a.extprops[0]),!0),h&&ghe(h,d,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ro(e,So(a.custprops[0]),!0),h&&(p=yhe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(g.Props=d,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=k1e(ja(e,So(a.calcchain)),a.calcchain));var v=0,y={},w,b;{var D=u.Sheets;d.Worksheets=D.length,d.SheetNames=[];for(var O=0;O!=D.length;++O)d.SheetNames[O]=D[O].name}var P=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Po(e,_)||(_="xl/_rels/workbook."+P+".rels");var S=Gg(ro(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=P1e(ja(e,So(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=_me(ja(e,So(a.people[0])),t)),S&&(S=hye(S,u.Sheets));var I=ja(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var E="sheet";if(S&&S[v]?(w="xl/"+S[v][1].replace(/[\/]?xl\//,""),Po(e,w)||(w=S[v][1]),Po(e,w)||(w=_.replace(/_rels\/.*$/,"")+S[v][1]),E=S[v][2]):(w="xl/worksheets/sheet"+(v+1-I)+"."+P,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var C=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==v&&(C=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==d.SheetNames[v].toLowerCase()&&(C=1);if(!C)continue e}}pye(e,w,b,d.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:d,Custprops:p,Deps:m,Sheets:s,SheetNames:d.SheetNames,Strings:Xg,Styles:c,Themes:l,SSF:Ni(Lr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(U,X){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=ja(e,So(a.vba[0]),!0):a.defaults&&a.defaults.bin===Eme&&(g.vbaraw=ja(e,"xl/vbaProject.bin",!0))),g}function gye(e,t){var r=t||{},n="Workbook",a=rn.find(e,n);try{if(n="/!DataSpaces/Version",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(lpe(a.content),n="/!DataSpaces/DataSpaceMap",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=upe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=fpe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);hpe(a.content)}catch{}if(n="/EncryptionInfo",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=ppe(a.content);if(n="/EncryptedPackage",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function vC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=co(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function vye(e,t){return rn.find(e,"EncryptedPackage")?gye(e,t):Mq(e,t)}function yye(e,t){var r,n=e,a=t||{};return a.type||(a.type=Qr&&Buffer.isBuffer(e)?"buffer":"base64"),r=Cz(n,a),mye(r,a)}function Bq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return j3(e.slice(r),t);default:break e}return Kv.to_workbook(e,t)}function xye(e,t){var r="",n=vC(e,t);switch(t.type){case"base64":r=co(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=ch(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=qn(r)),t.type="binary",Bq(r,t)}function bye(e,t){var r=e;return t.type=="base64"&&(r=co(r)),r=rf.utils.decode(1200,r.slice(2),"str"),t.type="binary",Bq(r,t)}function wye(e){return e.match(/[^\x00-\x7F]/)?_g(e):e}function WS(e,t,r,n){return n?(r.type="string",Kv.to_workbook(e,r)):Kv.to_workbook(t,r)}function L3(e,t){fz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return L3(new Uint8Array(e),(r=Ni(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),W0={},r.dateNF&&(W0.dateNF=r.dateNF),r.type||(r.type=Qr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Qr?"buffer":"binary",n=lde(e),typeof Uint8Array<"u"&&!Qr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=wye(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ni(r),r.type="array",L3(Yk(n),r)}switch((a=vC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return vye(rn.read(n,r),r);break;case 9:if(a[1]<=8)return Mq(n,r);break;case 60:return j3(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Y0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return G0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?yye(n,r):WS(e,n,r,i);case 239:return a[3]===60?j3(n,r):WS(e,n,r,i);case 255:if(a[1]===254)return bye(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Yg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Yg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return JD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Epe.to_workbook(n,r);break;case 10:case 13:case 32:return xye(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return W0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?JD.to_workbook(n,r):WS(e,n,r,i)}function _ye(e,t,r,n,a,i,s,o){var l=ki(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:iu(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function M3(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=ga(u);break;case"number":l=ga(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var d=ki(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,w=0,b={};v&&!e[y]&&(e[y]=[]);var D=c.skipHidden&&e["!cols"]||[],O=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(D[w]||{}).hidden)switch(h[w]=Ka(w),r=v?e[y][w]:e[h[w]+d],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=iu(r,null,c),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}i[w]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(O[y]||{}).hidden){var P=_ye(e,l,y,h,n,i,v,c);(P.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=P.row)}return p.length=g,p}var m8=/"/g;function Sye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",d=ki(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+d];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:iu(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(m8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(m8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Uq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ga(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(d[g]=Ka(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=Sye(e,a,v,d,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function Aye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Uq(e,t);return r}function Tye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ga(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ka(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=ki(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Vq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?xs(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=ga(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(s=d.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){sc(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var w=m[y],b="z",D="",O=Or({c:o+p,r:s+v+a});c=Jv(i,O),w&&typeof w=="object"&&!(w instanceof Date)?i[O]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=As(w)),D=n.dateNF||Lr[14]):w===null&&n.nullError&&(b="e",w=0),c?(c.t=b,c.v=w,delete c.w,delete c.R,D&&(c.z=D)):i[O]=c={t:b,v:w},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=ki(s);if(a)for(p=0;p<h.length;++p)i[Ka(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=nn(u),i}function Eye(e,t){return Vq(null,e,t)}function Jv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=xs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Jv(e,Or(t)):Jv(e,Or({r:t,c:r||0}))}function Nye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function yC(){return{SheetNames:[],Sheets:{}}}function xC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(f1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function kye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Nye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Cye(e,t){return e.z=t,e}function zq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Pye(e,t,r){return zq(e,"#"+t,r)}function jye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Oye(e,t,r,n){for(var a=typeof t!="string"?t:ga(t),i=typeof t=="string"?t:nn(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Jv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var Iye={encode_col:Ka,encode_row:ki,encode_cell:Or,encode_range:nn,decode_col:aC,decode_row:nC,split_cell:qde,decode_cell:xs,decode_range:cm,format_cell:iu,sheet_add_aoa:Gz,sheet_add_json:Vq,sheet_add_dom:Rq,aoa_to_sheet:um,json_to_sheet:Eye,table_to_sheet:Fq,table_to_book:Y1e,sheet_to_csv:Uq,sheet_to_txt:Aye,sheet_to_json:M3,sheet_to_html:K1e,sheet_to_formulae:Tye,sheet_to_row_object_array:M3,sheet_get_cell:Jv,book_new:yC,book_append_sheet:xC,book_set_sheet_visibility:kye,cell_set_number_format:Cye,cell_set_hyperlink:zq,cell_set_internal_link:Pye,cell_add_comment:jye,sheet_set_array_formula:Oye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},qq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(lg,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var I=O(S);I.chunkSize=parseInt(I.chunkSize),S.step||S.chunk||(I.chunkSize=null),this._handle=new m(I),(this._handle.streamer=this)._config=I}).call(this,_),this.parseChunk=function(S,I){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let N=this._config.newline;N||(C=this._config.quoteChar||'"',N=this._handle.guessLineEndings(S,C)),S=[...S.split(N).slice(E)].join(N)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(S))!==void 0&&(S=C),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+S,C=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=C.meta.cursor,E=(this._finished||(this._partialLine=E.substring(S-this._baseIndex),this._baseIndex=S),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:C,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!I){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!E||!T(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(S){T(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function d(_){var S;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),u.call(this,_),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=P(this._chunkLoaded,this),S.onerror=P(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,E=this._config.downloadRequestHeaders;for(I in E)S.setRequestHeader(I,E[I])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+C));try{S.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(I){I=S.statusText||I,this._sendError(new Error(I))}}function h(_){(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),u.call(this,_);var S,I,E=typeof FileReader<"u";this.stream=function(C){this._input=C,I=C.slice||C.webkitSlice||C.mozSlice,E?((S=new FileReader).onload=P(this._chunkLoaded,this),S.onerror=P(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),C=I.call(C,this._start,N)),S.readAsText(C,this._config.encoding));E||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(S.error)}}function p(_){var S;u.call(this,_=_||{}),this.stream=function(I){return S=I,this._nextChunk()},this._nextChunk=function(){var I,E;if(!this._finished)return I=this._config.chunkSize,S=I?(E=S.substring(0,I),S.substring(I)):(E=S,""),this._finished=!S,this.parseChunk(E)}}function g(_){u.call(this,_=_||{});var S=[],I=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):I=!0},this._streamData=P(function(C){try{S.push(typeof C=="string"?C:C.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(N){this._streamError(N)}},this),this._streamError=P(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=P(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(_){var S,I,E,C,N=Math.pow(2,53),U=-N,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,V=0,q=0,te=!1,Z=!1,k=[],R={data:[],errors:[],meta:{}};function G(ue){return _.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function Y(){if(R&&E&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),_.skipEmptyLines&&(R.data=R.data.filter(function(xe){return!G(xe)})),J()){let xe=function(W,Ne){T(_.transformHeader)&&(W=_.transformHeader(W,Ne)),k.push(W)};if(R)if(Array.isArray(R.data[0])){for(var ue=0;J()&&ue<R.data.length;ue++)R.data[ue].forEach(xe);R.data.splice(0,1)}else R.data.forEach(xe)}function ae(xe,W){for(var Ne=_.header?{}:[],ke=0;ke<xe.length;ke++){var _e=ke,le=xe[ke],le=((Le,Oe)=>(Ve=>(_.dynamicTypingFunction&&_.dynamicTyping[Ve]===void 0&&(_.dynamicTyping[Ve]=_.dynamicTypingFunction(Ve)),(_.dynamicTyping[Ve]||_.dynamicTyping)===!0))(Le)?Oe==="true"||Oe==="TRUE"||Oe!=="false"&&Oe!=="FALSE"&&((Ve=>{if(X.test(Ve)&&(Ve=parseFloat(Ve),U<Ve&&Ve<N))return 1})(Oe)?parseFloat(Oe):z.test(Oe)?new Date(Oe):Oe===""?null:Oe):Oe)(_e=_.header?ke>=k.length?"__parsed_extra":k[ke]:_e,le=_.transform?_.transform(le,_e):le);_e==="__parsed_extra"?(Ne[_e]=Ne[_e]||[],Ne[_e].push(le)):Ne[_e]=le}return _.header&&(ke>k.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+k.length+" fields but parsed "+ke,q+W):ke<k.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+k.length+" fields but parsed "+ke,q+W)),Ne}var he;R&&(_.header||_.dynamicTyping||_.transform)&&(he=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(ae),he=R.data.length):R.data=ae(R.data,0),_.header&&R.meta&&(R.meta.fields=k),q+=he)}function J(){return _.header&&k.length===0}function se(ue,ae,he,xe){ue={type:ue,code:ae,message:he},xe!==void 0&&(ue.row=xe),R.errors.push(ue)}T(_.step)&&(C=_.step,_.step=function(ue){R=ue,J()?Y():(Y(),R.data.length!==0&&(V+=ue.data.length,_.preview&&V>_.preview?I.abort():(R.data=R.data[0],C(R,H))))}),this.parse=function(ue,ae,he){var xe=_.quoteChar||'"',xe=(_.newline||(_.newline=this.guessLineEndings(ue,xe)),E=!1,_.delimiter?T(_.delimiter)&&(_.delimiter=_.delimiter(ue),R.meta.delimiter=_.delimiter):((xe=((W,Ne,ke,_e,le)=>{var Le,Oe,Ve,We;le=le||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ee=0;Ee<le.length;Ee++){for(var Fe,Se=le[Ee],Me=0,He=0,at=0,ot=(Ve=void 0,new y({comments:_e,delimiter:Se,newline:Ne,preview:10}).parse(W)),xt=0;xt<ot.data.length;xt++)ke&&G(ot.data[xt])?at++:(Fe=ot.data[xt].length,He+=Fe,Ve===void 0?Ve=Fe:0<Fe&&(Me+=Math.abs(Fe-Ve),Ve=Fe));0<ot.data.length&&(He/=ot.data.length-at),(Oe===void 0||Me<=Oe)&&(We===void 0||We<He)&&1.99<He&&(Oe=Me,Le=Se,We=He)}return{successful:!!(_.delimiter=Le),bestDelimiter:Le}})(ue,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=xe.bestDelimiter:(E=!0,_.delimiter=c.DefaultDelimiter),R.meta.delimiter=_.delimiter),O(_));return _.preview&&_.header&&xe.preview++,S=ue,I=new y(xe),R=I.parse(S,ae,he),Y(),te?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,I.abort(),S=T(_.chunk)?"":S.substring(I.getCharIndex())},this.resume=function(){H.streamer._halted?(te=!1,H.streamer.parseChunk(S,!0)):setTimeout(H.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,I.abort(),R.meta.aborted=!0,T(_.complete)&&_.complete(R),S=""},this.guessLineEndings=function(W,xe){W=W.substring(0,1048576);var xe=new RegExp(v(xe)+"([^]*?)"+v(xe),"gm"),he=(W=W.replace(xe,"")).split("\r"),xe=W.split(`
`),W=1<xe.length&&xe[0].length<he[0].length;if(he.length===1||W)return`
`;for(var Ne=0,ke=0;ke<he.length;ke++)he[ke][0]===`
`&&Ne++;return Ne>=he.length/2?`\r
`:"\r"}}function v(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(_){var S=(_=_||{}).delimiter,I=_.newline,E=_.comments,C=_.step,N=_.preview,U=_.fastMode,X=null,z=!1,H=_.quoteChar==null?'"':_.quoteChar,V=H;if(_.escapeChar!==void 0&&(V=_.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),E===S)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var q=0,te=!1;this.parse=function(Z,k,R){if(typeof Z!="string")throw new Error("Input must be a string");var G=Z.length,Y=S.length,J=I.length,se=E.length,ue=T(C),ae=[],he=[],xe=[],W=q=0;if(!Z)return Me();if(U||U!==!1&&Z.indexOf(H)===-1){for(var Ne=Z.split(I),ke=0;ke<Ne.length;ke++){if(xe=Ne[ke],q+=xe.length,ke!==Ne.length-1)q+=I.length;else if(R)return Me();if(!E||xe.substring(0,se)!==E){if(ue){if(ae=[],We(xe.split(S)),He(),te)return Me()}else We(xe.split(S));if(N&&N<=ke)return ae=ae.slice(0,N),Me(!0)}}return Me()}for(var _e=Z.indexOf(S,q),le=Z.indexOf(I,q),Le=new RegExp(v(V)+v(H),"g"),Oe=Z.indexOf(H,q);;)if(Z[q]===H)for(Oe=q,q++;;){if((Oe=Z.indexOf(H,Oe+1))===-1)return R||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:q}),Fe();if(Oe===G-1)return Fe(Z.substring(q,Oe).replace(Le,H));if(H===V&&Z[Oe+1]===V)Oe++;else if(H===V||Oe===0||Z[Oe-1]!==V){_e!==-1&&_e<Oe+1&&(_e=Z.indexOf(S,Oe+1));var Ve=Ee((le=le!==-1&&le<Oe+1?Z.indexOf(I,Oe+1):le)===-1?_e:Math.min(_e,le));if(Z.substr(Oe+1+Ve,Y)===S){xe.push(Z.substring(q,Oe).replace(Le,H)),Z[q=Oe+1+Ve+Y]!==H&&(Oe=Z.indexOf(H,q)),_e=Z.indexOf(S,q),le=Z.indexOf(I,q);break}if(Ve=Ee(le),Z.substring(Oe+1+Ve,Oe+1+Ve+J)===I){if(xe.push(Z.substring(q,Oe).replace(Le,H)),Se(Oe+1+Ve+J),_e=Z.indexOf(S,q),Oe=Z.indexOf(H,q),ue&&(He(),te))return Me();if(N&&ae.length>=N)return Me(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:q}),Oe++}}else if(E&&xe.length===0&&Z.substring(q,q+se)===E){if(le===-1)return Me();q=le+J,le=Z.indexOf(I,q),_e=Z.indexOf(S,q)}else if(_e!==-1&&(_e<le||le===-1))xe.push(Z.substring(q,_e)),q=_e+Y,_e=Z.indexOf(S,q);else{if(le===-1)break;if(xe.push(Z.substring(q,le)),Se(le+J),ue&&(He(),te))return Me();if(N&&ae.length>=N)return Me(!0)}return Fe();function We(at){ae.push(at),W=q}function Ee(at){var ot=0;return ot=at!==-1&&(at=Z.substring(Oe+1,at))&&at.trim()===""?at.length:ot}function Fe(at){return R||(at===void 0&&(at=Z.substring(q)),xe.push(at),q=G,We(xe),ue&&He()),Me()}function Se(at){q=at,We(xe),xe=[],le=Z.indexOf(I,q)}function Me(at){if(_.header&&!k&&ae.length&&!z){var ot=ae[0],xt=Object.create(null),ht=new Set(ot);let mt=!1;for(let ct=0;ct<ot.length;ct++){let Zt=ot[ct];if(xt[Zt=T(_.transformHeader)?_.transformHeader(Zt,ct):Zt]){let Ht,Rr=xt[Zt];for(;Ht=Zt+"_"+Rr,Rr++,ht.has(Ht););ht.add(Ht),ot[ct]=Ht,xt[Zt]++,mt=!0,(X=X===null?{}:X)[Ht]=Zt}else xt[Zt]=1,ot[ct]=Zt;ht.add(Zt)}mt&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:ae,errors:he,meta:{delimiter:S,linebreak:I,aborted:te,truncated:!!at,cursor:W+(k||0),renamedHeaders:X}}}function He(){C(Me()),ae=[],he=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return q}}function w(_){var S=_.data,I=o[S.workerId],E=!1;if(S.error)I.userError(S.error,S.file);else if(S.results&&S.results.data){var C={abort:function(){E=!0,b(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(T(I.userStep)){for(var N=0;N<S.results.data.length&&(I.userStep({data:S.results.data[N],errors:S.results.errors,meta:S.results.meta},C),!E);N++);delete S.results}else T(I.userChunk)&&(I.userChunk(S.results,C,S.file),delete S.results)}S.finished&&!E&&b(S.workerId,S.results)}function b(_,S){var I=o[_];T(I.userComplete)&&I.userComplete(S),I.terminate(),delete o[_]}function D(){throw new Error("Not implemented.")}function O(_){if(typeof _!="object"||_===null)return _;var S,I=Array.isArray(_)?[]:{};for(S in _)I[S]=O(_[S]);return I}function P(_,S){return function(){_.apply(S,arguments)}}function T(_){return typeof _=="function"}return c.parse=function(_,S){var I=(S=S||{}).dynamicTyping||!1;if(T(I)&&(S.dynamicTypingFunction=I,I={}),S.dynamicTyping=I,S.transform=!!T(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof _=="string"?(_=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(_),I=new(S.download?d:p)(S)):_.readable===!0&&T(_.read)&&T(_.on)?I=new g(S):(n.File&&_ instanceof File||_ instanceof Object)&&(I=new h(S)),I.stream(_);(I=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var C=n.URL||n.webkitURL||null,N=r.toString();return c.BLOB_URL||(c.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=w,E.id=l++,o[E.id]=E)})()).userStep=S.step,I.userChunk=S.chunk,I.userComplete=S.complete,I.userError=S.error,S.step=T(S.step),S.chunk=T(S.chunk),S.complete=T(S.complete),S.error=T(S.error),delete S.worker,I.postMessage({input:_,config:S,workerId:I.id})},c.unparse=function(_,S){var I=!1,E=!0,C=",",N=`\r
`,U='"',X=U+U,z=!1,H=null,V=!1,q=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return S.delimiter.indexOf(k)!==-1}).length||(C=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(I=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(z=S.skipEmptyLines),typeof S.newline=="string"&&(N=S.newline),typeof S.quoteChar=="string"&&(U=S.quoteChar),typeof S.header=="boolean"&&(E=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");H=S.columns}S.escapeChar!==void 0&&(X=S.escapeChar+U),S.escapeFormulae instanceof RegExp?V=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(V=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(U),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return te(null,_,z);if(typeof _[0]=="object")return te(H||Object.keys(_[0]),_,z)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||H),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),te(_.fields||[],_.data||[],z);throw new Error("Unable to serialize unrecognized input");function te(k,R,G){var Y="",J=(typeof k=="string"&&(k=JSON.parse(k)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(k)&&0<k.length),se=!Array.isArray(R[0]);if(J&&E){for(var ue=0;ue<k.length;ue++)0<ue&&(Y+=C),Y+=Z(k[ue],ue);0<R.length&&(Y+=N)}for(var ae=0;ae<R.length;ae++){var he=(J?k:R[ae]).length,xe=!1,W=J?Object.keys(R[ae]).length===0:R[ae].length===0;if(G&&!J&&(xe=G==="greedy"?R[ae].join("").trim()==="":R[ae].length===1&&R[ae][0].length===0),G==="greedy"&&J){for(var Ne=[],ke=0;ke<he;ke++){var _e=se?k[ke]:ke;Ne.push(R[ae][_e])}xe=Ne.join("").trim()===""}if(!xe){for(var le=0;le<he;le++){0<le&&!W&&(Y+=C);var Le=J&&se?k[le]:le;Y+=Z(R[ae][Le],le)}ae<R.length-1&&(!G||0<he&&!W)&&(Y+=N)}}return Y}function Z(k,R){var G,Y;return k==null?"":k.constructor===Date?JSON.stringify(k).slice(1,25):(Y=!1,V&&typeof k=="string"&&V.test(k)&&(k="'"+k,Y=!0),G=k.toString().replace(q,X),(Y=Y||I===!0||typeof I=="function"&&I(k,R)||Array.isArray(I)&&I[R]||((J,se)=>{for(var ue=0;ue<se.length;ue++)if(-1<J.indexOf(se[ue]))return!0;return!1})(G,c.BAD_DELIMITERS)||-1<G.indexOf(C)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?U+G+U:G)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=d,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(_){var S=_.config||{},I=[];return this.each(function(N){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)I.push({file:this.files[U],inputElem:this,instanceConfig:a.extend({},S)})}),E(),this;function E(){if(I.length===0)T(_.complete)&&_.complete();else{var N,U,X,z,H=I[0];if(T(_.before)){var V=_.before(H.file,H.inputElem);if(typeof V=="object"){if(V.action==="abort")return N="AbortError",U=H.file,X=H.inputElem,z=V.reason,void(T(_.error)&&_.error({name:N},U,X,z));if(V.action==="skip")return void C();typeof V.config=="object"&&(H.instanceConfig=a.extend(H.instanceConfig,V.config))}else if(V==="skip")return void C()}var q=H.instanceConfig.complete;H.instanceConfig.complete=function(te){T(q)&&q(te,H.file,H.inputElem),C()},c.parse(H.file,H.instanceConfig)}}function C(){I.splice(0,1),E()}}),s&&(n.onmessage=function(_){_=_.data,c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=c.parse(_.input,_.config))&&n.postMessage({workerId:c.WORKER_ID,results:_,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(qq);var Dye=qq.exports;const Lye=kn(Dye),Wq=()=>{const{user:e}=Ea(),{isDarkMode:t}=an(),[r,n]=F.useState(!1),[a,i]=F.useState([]),[s,o]=F.useState(!1),[l,c]=F.useState({name:"",unit:"",asin:"",barcode:""}),[u,d]=F.useState(null),[h,p]=F.useState(null),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(null),[D,O]=F.useState(null),[P,T]=F.useState(!1),[_,S]=F.useState(""),[I,E]=F.useState(null),[C,N]=F.useState(null),U=Ue.useRef(null),[X,z]=F.useState(null),[H,V]=F.useState(!1),[q,te]=F.useState([]);F.useEffect(()=>{Z(),k()},[]);const Z=async W=>{o(!0);try{let Ne;if(W&&W.trim()!==""){const ke=lr(wt(Xe,"scannedProducts"),sr("name",">=",W),sr("name","<=",W+""),Fa("name"),gg(100)),_e=lr(wt(Xe,"scannedProducts"),sr("barcode",">=",W),sr("barcode","<=",W+""),Fa("barcode"),gg(100)),le=lr(wt(Xe,"scannedProducts"),sr("asin",">=",W),sr("asin","<=",W+""),Fa("asin"),gg(100)),[Le,Oe,Ve]=await Promise.all([ur(ke),ur(_e),ur(le)]),We=[...Le.docs,...Oe.docs,...Ve.docs].reduce((Ee,Fe)=>(Ee.some(Se=>Se.id===Fe.id)||Ee.push(Fe),Ee),[]);i(We.map(Ee=>{const Fe=Ee.data();return{id:Ee.id,name:Fe.name,unit:Fe.unit,asin:Fe.asin||"",barcode:Fe.barcode,createdAt:Fe.createdAt instanceof ir?Fe.createdAt.toDate():new Date(Fe.createdAt)}}))}else{Ne=lr(wt(Xe,"scannedProducts"),Fa("createdAt","desc"),gg(100));const _e=(await ur(Ne)).docs.map(le=>{const Le=le.data();return{id:le.id,name:Le.name,unit:Le.unit,asin:Le.asin||"",barcode:Le.barcode,createdAt:Le.createdAt instanceof ir?Le.createdAt.toDate():new Date(Le.createdAt)}});i(_e)}}catch{d("Failed to fetch products")}finally{o(!1)}},k=async()=>{try{const W=wt(Xe,"scannedProducts"),Ne=await uk(W);z(Ne.data().count)}catch{z(null)}},R=()=>{const W={};a.forEach(ke=>{W[ke.name]||(W[ke.name]=[]),W[ke.name].push(ke)});const Ne=Object.entries(W).filter(([,ke])=>ke.length>1).map(([ke,_e])=>({name:ke,products:_e.sort((le,Le)=>new Date(Le.createdAt).getTime()-new Date(le.createdAt).getTime())})).sort((ke,_e)=>_e.products.length-ke.products.length);te(Ne),V(!0)},G=()=>{V(!1),te([])},Y=W=>{W?(c({name:W.name||"",unit:W.unit||"",asin:W.asin||"",barcode:W.barcode||""}),p(W)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),d(null)},J=()=>{n(!1),d(null)},se=W=>{c({...l,[W.target.name]:W.target.value})},ue=async W=>{c(Ne=>({...Ne,barcode:W})),m(!1),b(null),y(!0);try{const ke=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${W}`,le=await(await fetch(ke)).json();if(le&&le.items&&le.items.length>0){const Le=le.items[0];c(Oe=>({...Oe,name:Le.title||Oe.name,asin:Le.asin||Le.amazon_asin||""}))}else b("No product info found for this barcode.")}catch{b("Failed to fetch product info.")}finally{y(!1)}},ae=async W=>{if(W.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){d("Name, Unit, and Barcode are required");return}o(!0);try{const Ne=l.name.toUpperCase();if(h){const ke=Sr(Xe,"scannedProducts",h.id);if(await Vn(ke,{name:Ne,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const _e=[];h.name!==Ne&&_e.push(`name from "${h.name}" to "${Ne}"`),h.unit!==l.unit&&_e.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&_e.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&_e.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),_e.length>0&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Ne}": ${_e.join(", ")}`,time:new Date().toISOString()})}}else await mr(wt(Xe,"scannedProducts"),{name:Ne,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:ir.fromDate(new Date)}),e&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Ne}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),Z()}catch{d("Failed to save product")}finally{o(!1)}},he=async()=>{if(D){T(!0);try{const W=a.find(Ne=>Ne.id===D);await Ms(Sr(Xe,"scannedProducts",D)),e&&W&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${W.name}" with barcode ${W.barcode}`,time:new Date().toISOString()}),O(null),Z()}catch{}finally{T(!1)}}},xe=async W=>{var _e;const Ne=(_e=W.target.files)==null?void 0:_e[0];if(!Ne)return;let ke=[];try{if(Ne.name.endsWith(".csv")){const le=await Ne.text(),Oe=Lye.parse(le,{header:!0}).data;ke=Oe.map(We=>{var Ee,Fe,Se,Me;return{name:((Ee=We.Description)==null?void 0:Ee.toString().trim())||"",unit:((Fe=We.Unit)==null?void 0:Fe.toString().trim())||"",asin:((Se=We.ASIN)==null?void 0:Se.toString().trim())||"",barcode:((Me=We.EAN)==null?void 0:Me.toString().trim())||""}}).filter(We=>We.name||We.unit||We.barcode);const Ve=Oe.length-ke.length;Ve>0&&N({type:"error",message:`${Ve} rows skipped (all columns empty).`})}else if(Ne.name.endsWith(".xlsx")){const le=await Ne.arrayBuffer(),Le=L3(le,{type:"array"}),Oe=Le.Sheets[Le.SheetNames[0]],Ve=Iye.sheet_to_json(Oe);ke=Ve.map(Ee=>{var Fe,Se,Me,He;return{name:((Fe=Ee.Description)==null?void 0:Fe.toString().trim())||"",unit:((Se=Ee.Unit)==null?void 0:Se.toString().trim())||"",asin:((Me=Ee.ASIN)==null?void 0:Me.toString().trim())||"",barcode:((He=Ee.EAN)==null?void 0:He.toString().trim())||""}}).filter(Ee=>Ee.name||Ee.unit||Ee.barcode);const We=Ve.length-ke.length;We>0&&N({type:"error",message:`${We} rows skipped (all columns empty).`})}else{N({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ke.length===0){N({type:"error",message:"No valid products found in file."});return}for(const le of ke)await mr(wt(Xe,"scannedProducts"),{name:le.name.toUpperCase(),unit:le.unit,barcode:le.barcode,asin:"",createdAt:ir.fromDate(new Date)});e&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ke.length} products from file "${Ne.name}"`,time:new Date().toISOString()}),N({type:"success",message:`Uploaded ${ke.length} products successfully!`}),Z()}catch{N({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"?f.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):f.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",X!==null?X:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),f.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[f.jsx(nt,{variant:"secondary",onClick:()=>Z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:f.jsx(La,{size:18,className:s?"animate-spin":""})}),f.jsx(nt,{variant:H?"primary":"secondary",onClick:H?G:R,className:"w-full md:w-auto",icon:H?f.jsx(La,{size:18}):f.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M7 12h10"}),f.jsx("path",{d:"M9 18h6"})]}),children:H?"Clear Filter":"Show Duplicates"}),f.jsx(nt,{icon:f.jsx(zZ,{size:18}),onClick:()=>{var W;return(W=U.current)==null?void 0:W.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),f.jsx("input",{type:"file",accept:".csv,.xlsx",ref:U,onChange:xe,style:{display:"none"}}),f.jsx(nt,{icon:f.jsx(Ei,{size:18}),onClick:()=>Y(),className:"w-full md:w-auto",children:"Add Product"})]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(jt,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:_,onChange:W=>{const Ne=W.target.value;S(Ne),Z(Ne.toUpperCase())},className:"pl-10",fullWidth:!0}),f.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:f.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[f.jsx("circle",{cx:"7",cy:"7",r:"6"}),f.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),f.jsx(fn,{isOpen:r,onClose:J,title:h?"Edit Product":"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:l.name,onChange:se,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(jt,{label:"Unit",name:"unit",value:l.unit,onChange:se,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsx(jt,{label:"ASIN",name:"asin",value:l.asin,onChange:se,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:se,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){b(null),y(!0);try{await ue(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?f.jsx(gs,{size:18,className:"animate-spin text-blue-500"}):f.jsx(Jc,{size:18,className:"text-blue-500"})})]}),u&&f.jsx("div",{className:"text-red-500 text-sm",children:u}),w&&f.jsxs("div",{className:"text-red-500 text-sm",children:[w," Please enter details manually."]}),v&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(gs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(nt,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),f.jsx(nt,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),f.jsx(_h,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:ue}),f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[f.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?f.jsx("tr",{children:f.jsx("td",{colSpan:6,style:{border:0,padding:0},children:f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(gs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):H&&q.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):H&&q.length>0?q.flatMap((W,Ne)=>[f.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:f.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[W.name," - ",W.products.length," duplicates"]})},`header-${W.name}`),...W.products.map((ke,_e)=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ne*.1+_e*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>E(ke),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:ke.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ke.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ke.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ke.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:qt(ke.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:le=>{le.stopPropagation(),Y(ke)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:le=>{le.stopPropagation(),O(ke.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:P&&D===ke.id,children:f.jsx(oi,{size:16})})]})]},ke.id))]):a.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((W,Ne)=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ne*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(W),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:qt(W.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:ke=>{ke.stopPropagation(),Y(W)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:ke=>{ke.stopPropagation(),O(W.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:P&&D===W.id,children:f.jsx(oi,{size:16})})]})]},W.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(gs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):H&&q.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):H&&q.length>0?q.map(W=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[W.name," - ",W.products.length," duplicates"]}),W.products.map(Ne=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>E(Ne),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Ne.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",Ne.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",Ne.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nt,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),Y(Ne)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(nt,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),O(Ne.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:P&&D===Ne.id,children:f.jsx(oi,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Ne.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(Ne.createdAt,"MMM d, yyyy, h:mm a")})]})]},Ne.id))]},W.name)):a.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(W=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(W),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:W.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",W.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",W.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nt,{variant:"ghost",size:"sm",onClick:Ne=>{Ne.stopPropagation(),Y(W)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(nt,{variant:"ghost",size:"sm",onClick:Ne=>{Ne.stopPropagation(),O(W.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:P&&D===W.id,children:f.jsx(oi,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(W.createdAt,"MMM d, yyyy, h:mm a")})]})]},W.id))}),f.jsx(fn,{isOpen:!!D,onClose:()=>O(null),title:"Delete Product",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{children:"Are you sure you want to delete this product?"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(nt,{variant:"secondary",onClick:()=>O(null),disabled:P,children:"Cancel"}),f.jsxs(nt,{variant:"danger",onClick:he,isLoading:P,className:"flex items-center justify-center",children:[P&&f.jsx(gs,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),f.jsx(fn,{isOpen:!!I,onClose:()=>E(null),title:I?I.name:"Product Details",size:"xl",children:I&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.asin||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(I.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),C&&f.jsx(QV,{type:C.type,message:C.message,onClose:()=>N(null)})]})]})},Mye=()=>{const{user:e}=Ea();if(!e)return null;switch(e.role){case"admin":return f.jsx(jfe,{});case"staff":return f.jsx(Wq,{});default:return null}},Jr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=an();return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>f.jsx("option",{value:o.value,children:o.label},o.value))}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},Rye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=Ea(),[a,i]=F.useState({name:"",unit:"",barcode:""}),[s,o]=F.useState(null),[l,c]=F.useState(!1),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(null),v=D=>{i({...a,[D.target.name]:D.target.value})},y=async D=>{i(O=>({...O,barcode:D})),d(!1),m(null),p(!0);try{const P=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,_=await(await fetch(P)).json();if(_&&_.items&&_.items.length>0){const S=_.items[0];i(I=>({...I,name:S.title||I.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},w=async D=>{if(D.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const O=a.name.toUpperCase();await mr(wt(Xe,"scannedProducts"),{name:O,unit:a.unit,barcode:a.barcode,createdAt:ir.fromDate(new Date)}),n&&await mr(wt(Xe,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${O}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},b=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return f.jsxs(f.Fragment,{children:[f.jsx(fn,{isOpen:e,onClose:b,title:"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(jt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?f.jsx(gs,{size:18,className:"animate-spin text-blue-500"}):f.jsx(Jc,{size:18,className:"text-blue-500"})})]}),s&&f.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&f.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(gs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(nt,{type:"button",variant:"secondary",onClick:()=>d(!0),children:"Scan"}),f.jsx(nt,{type:"submit",isLoading:l,children:"Add"})]})]})}),f.jsx(_h,{isOpen:u,onClose:()=>d(!1),onBarcodeScanned:y})]})},Fye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>f.jsx(fn,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(xN,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",f.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",f.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(nt,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),f.jsx(nt,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),$ye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=an();return f.jsx(fn,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(Tv,{size:24}),f.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(nt,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),f.jsx(nt,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},Pf=e=>{const t=e==="Awaiting Location"||e==="Awaiting Locations Sparklin"||e==="Awaiting Locations Aztec",r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1]),n=t?0:r?7:5;return Array.from({length:n+1},(a,i)=>({value:i.toString(),label:i.toString()}))},Bye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Uye=e=>Pf(e),HS=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Hq=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1,onShowProductLocationInfo:a})=>{const{user:i}=Ea(),s=()=>{switch(i==null?void 0:i.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return"supply & serve"}},[o,l]=F.useState({name:"",price:"",unit:"",supplier:HS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:s(),selectedAsins:[]}),[c,u]=F.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[d,h]=F.useState({}),[p,g]=F.useState(!1),[m,v]=F.useState(!1),[y,w]=F.useState(""),{isDarkMode:b}=an(),[D,O]=F.useState(null),[P,T]=F.useState(!1),[_,S]=F.useState(null),[I,E]=F.useState(!1),[C,N]=F.useState(""),[U,X]=F.useState(!1),[z,H]=F.useState(null),[V,q]=F.useState(null),[te,Z]=F.useState(!1),[k,R]=F.useState(""),[G,Y]=F.useState(!1),[J,se]=F.useState(null),[ue,ae]=F.useState([]),[he,xe]=F.useState(!1),[W,Ne]=F.useState(null),[ke,_e]=F.useState([]),[le,Le]=F.useState(!1),[Oe,Ve]=F.useState(null);F.useEffect(()=>{o.storeName==="supply & serve"&&o.fulfillmentType!=="mf"&&l(Re=>({...Re,fulfillmentType:"mf"}))},[o.storeName,o.fulfillmentType]);const We=Re=>{const{name:rt,value:vt}=Re.target;if(l(Nt=>({...Nt,[rt]:vt})),rt==="supplier"&&(E(vt==="other"),vt!=="other"&&N("")),d[rt]&&h(Nt=>{const Kt={...Nt};return delete Kt[rt],Kt}),rt==="barcode"&&vt.length===13&&!P){J&&clearTimeout(J);const Nt=setTimeout(()=>{vt.length===13&&at(vt)},500);se(Nt)}else rt==="barcode"&&vt.length!==13&&J&&(clearTimeout(J),se(null))},Ee=(Re,rt,vt)=>{u(Nt=>{const Kt=[...Nt];if(Kt[Re]={...Kt[Re],[rt]:vt},rt==="locationCode"&&(Kt[Re].shelfNumber="0"),rt==="shelfNumber"){const Ft=Kt[Re].locationCode,Dt=Pf(Ft).length-1;parseInt(vt)>Dt&&(Kt[Re].shelfNumber="0")}return Kt})},Fe=()=>{u(Re=>[...Re,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Se=Re=>{u(rt=>rt.filter((vt,Nt)=>Nt!==Re))},Me=async Re=>{l(vt=>({...vt,barcode:Re})),O(null),S(null),T(!0);let rt=!1;try{const vt=lr(wt(Xe,"scannedProducts"),sr("barcode","==",Re)),Nt=await ur(vt);if(Nt.empty){const Ft=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Re}`,rr=await(await fetch(Ft)).json();if(rr&&rr.items&&rr.items.length>0){const gr=rr.items[0],or=gr.asin||gr.amazon_asin||"";if(or&&or.includes(" ")){const Tr=or.split(" ").filter(An=>An.trim());if(Tr.length>1){ae(Tr),_e([]),Ne({name:gr.title||"",unit:"",asin:Tr[0]}),xe(!0),O("Multiple ASINs detected. Please select one or more."),rt=!0;return}}l(Tr=>({...Tr,name:gr.title||Tr.name,asin:or||Tr.asin,selectedAsins:or?[or]:[]})),O("Product name and ASIN auto-filled from external database."),a&&gr.title&&a(gr.title,Re),rt=!0}else O("No product found for this barcode. Please enter details manually.")}else{const Kt=Nt.docs[0].data(),Ft=Kt.asin||"";if(Ft&&Ft.includes(" ")){const Dt=Ft.split(" ").filter(rr=>rr.trim());if(Dt.length>1){ae(Dt),_e([]),Ne({name:Kt.name||"",unit:Kt.unit||"",asin:Dt[0]}),xe(!0),O("Multiple ASINs detected. Please select one or more."),rt=!0;return}}l(Dt=>({...Dt,name:Kt.name||Dt.name,unit:Kt.unit||Dt.unit,asin:Ft||Dt.asin,selectedAsins:Ft?[Ft]:[]})),O("Product name, unit, and ASIN auto-filled from scanned products."),a&&Kt.name&&a(Kt.name,Re),rt=!0}}catch{S("Failed to fetch product info."),O("Failed to search for product. Please enter details manually.")}finally{T(!1),!rt&&Re.length===13&&setTimeout(()=>{at(Re)},100)}},He=async Re=>{try{const rt=lr(wt(Xe,"inventory"),sr("barcode","==",Re),sr("quantity","==",0)),vt=await ur(rt);if(!vt.empty){const Nt=vt.docs[0].data();return Ve({hiddenProduct:{...Nt,id:vt.docs[0].id,lastUpdated:Nt.lastUpdated instanceof Date?Nt.lastUpdated:new Date(Nt.lastUpdated)},newProductName:o.name||"New Product"}),Le(!0),!0}return!1}catch(rt){return console.error("Error checking for hidden products:",rt),!1}},at=async Re=>{const rt=Re||o.barcode;if(!(!rt||P)){S(null),T(!0);try{const vt=lr(wt(Xe,"scannedProducts"),sr("barcode","==",rt)),Nt=await ur(vt);if(!Nt.empty){const gr=Nt.docs[0].data(),or=gr.asin||"";if(or&&or.includes(" ")){const Tr=or.split(" ").filter(An=>An.trim());if(Tr.length>1){ae(Tr),_e([]),Ne({name:gr.name||"",unit:gr.unit||"",asin:Tr[0]}),xe(!0),O("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Tr=>({...Tr,name:gr.name||Tr.name,unit:gr.unit||Tr.unit,asin:or||Tr.asin,selectedAsins:or?[or]:[]})),O("Product name, unit, and ASIN auto-filled from scanned products."),a&&gr.name&&a(gr.name,rt),T(!1);return}const Ft=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${rt}`,rr=await(await fetch(Ft)).json();if(rr&&rr.items&&rr.items.length>0){const gr=rr.items[0],or=gr.asin||gr.amazon_asin||"";if(or&&or.includes(" ")){const Tr=or.split(" ").filter(An=>An.trim());if(Tr.length>1){ae(Tr),_e([]),Ne({name:gr.title||"",unit:"",asin:Tr[0]}),xe(!0),O("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Tr=>({...Tr,name:gr.title||Tr.name,asin:or||Tr.asin,selectedAsins:or?[or]:[]})),O("Product name and ASIN auto-filled from UPC database."),a&&gr.title&&a(gr.title,rt)}else S("No product info found for this barcode.")}catch{S("Failed to fetch product info.")}finally{T(!1),await He(rt)}}},ot=()=>{const Re={};return o.name.trim()||(Re.name="Product name is required"),c.forEach((rt,vt)=>{rt.quantity?(isNaN(Number(rt.quantity))||Number(rt.quantity)<0)&&(Re[`location_${vt}_quantity`]="Quantity must be a positive number"):Re[`location_${vt}_quantity`]="Quantity is required"}),h(Re),Object.keys(Re).length===0},xt=async Re=>{if(Re.preventDefault(),ot()){const rt=o.supplier||HS[0].value,vt=o.storeName||"supply & serve",Nt=o.selectedAsins.length>0?o.selectedAsins:o.asin?[o.asin]:[],Kt=c.map(Dt=>({name:o.name,quantity:parseInt(Dt.quantity),price:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve"?parseFloat(o.price):0,unit:o.unit||null,supplier:rt==="other"?C:rt,locationCode:Dt.locationCode,shelfNumber:Dt.shelfNumber,asin:Nt.length>0?Nt.join(", "):null,status:o.status,damagedItems:parseInt(o.damagedItems),barcode:o.barcode||null,fulfillmentType:o.fulfillmentType,lastUpdated:new Date,storeName:vt==="other"?y:vt})),Ft=Kt.find(Dt=>r.some(rr=>rr.name.trim().toLowerCase()===Dt.name.trim().toLowerCase()&&(rr.barcode||"")===(Dt.barcode||"")&&rr.locationCode===Dt.locationCode&&rr.shelfNumber===Dt.shelfNumber));if(Ft){q({name:Ft.name,location:`${Ft.locationCode}-${Ft.shelfNumber}`}),H(Kt),X(!0);return}try{await e(Kt)}catch(Dt){console.error("Error adding stock:",Dt)}}},ht=async()=>{if(z){try{await e(z)}catch(Re){console.error("Error adding stock:",Re)}X(!1),H(null),q(null)}},mt=()=>{X(!1),H(null),q(null)},ct=()=>{Y(!0)},Zt=()=>{R("Product has been successfully added to the database!"),Z(!0)},Ht=Re=>{W&&(l(rt=>({...rt,name:W.name||rt.name,unit:W.unit||rt.unit,asin:Re.join(", "),selectedAsins:Re})),O(`Product info and ${Re.length} selected ASIN(s) auto-filled.`)),xe(!1),ae([]),Ne(null),_e([])},Rr=()=>{xe(!1),ae([]),Ne(null),_e([]),O("ASIN selection cancelled. Please enter details manually.")},Ir=Re=>{_e(rt=>rt.includes(Re)?rt.filter(Nt=>Nt!==Re):[...rt,Re])},Wr=(Re,rt)=>{c.length>0&&u(vt=>{const Nt=[...vt];return Nt[0]={...Nt[0],locationCode:Re,shelfNumber:rt},Nt}),Le(!1),Ve(null)},Pe=()=>{Le(!1),Ve(null)};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:xt,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:o.name,onChange:We,error:d.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx("div",{children:f.jsx(Jr,{label:"Supplier",name:"supplier",value:o.supplier,onChange:We,options:HS,required:!0,fullWidth:!0})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve")&&f.jsx(jt,{label:"Price",name:"price",type:"number",value:o.price,onChange:We,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!I&&f.jsx(jt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:We,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),I&&f.jsx(jt,{label:"Other Supplier",value:C,onChange:Re=>N(Re.target.value),placeholder:"Enter supplier name",required:I,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I&&f.jsx(jt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:We,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),f.jsx(nt,{type:"button",onClick:Fe,variant:"primary",icon:f.jsx(Ei,{size:18}),children:"Add Location"})]}),c.map((Re,rt)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[f.jsx(Jr,{label:"Location Code",value:Re.locationCode,onChange:vt=>Ee(rt,"locationCode",vt.target.value),options:Bye,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Shelf Number",value:Re.shelfNumber,onChange:vt=>Ee(rt,"shelfNumber",vt.target.value),options:Uye(Re.locationCode),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Quantity",type:"number",value:Re.quantity,onChange:vt=>Ee(rt,"quantity",vt.target.value),error:d[`location_${rt}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),c.length>1&&f.jsx(nt,{type:"button",onClick:()=>Se(rt),variant:"danger",icon:f.jsx(oi,{size:18}),children:"Remove"})]},rt))]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Fulfillment Type",name:"fulfillmentType",value:o.fulfillmentType,onChange:We,options:o.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),f.jsx(Jr,{label:"Status",name:"status",value:o.status,onChange:We,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:o.barcode||"",onChange:We,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>at(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:P,children:P?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Jc,{size:18,className:"text-blue-500"})})]}),f.jsx(jt,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:o.asin,onChange:We,placeholder:"Enter Amazon ASIN",fullWidth:!0}),_&&f.jsxs("div",{className:"text-red-500 text-sm",children:[_," Please enter details manually."]}),D&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:D})]}),!n&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="staff")&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(Jr,{label:"Store Name",value:o.storeName,onChange:Re=>{const rt=Re.target.value;l(vt=>({...vt,storeName:rt,fulfillmentType:rt==="supply & serve"?"mf":vt.fulfillmentType})),v(rt==="other"),rt!=="other"&&w("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})}),m&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${b?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(jt,{type:"text",value:y,onChange:Re=>w(Re.target.value),placeholder:"Enter store name",required:m})]})]}),f.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(nt,{type:"button",onClick:ct,variant:"primary",icon:f.jsx(Ei,{size:18}),children:"Add New Product"}),f.jsx(nt,{type:"submit",isLoading:t,variant:"success",icon:f.jsx(Ei,{size:18}),children:"Confirm"})]})})]}),f.jsx(_h,{isOpen:p,onClose:()=>g(!1),onBarcodeScanned:Me}),f.jsx(Rye,{isOpen:G,onClose:()=>Y(!1),onSuccess:Zt}),f.jsx($ye,{isOpen:U,onClose:mt,onConfirm:ht,title:"Duplicate Stock Detected",message:V?`A product with the same name and barcode already exists at location ${V.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),f.jsx(fn,{isOpen:te,onClose:()=>Z(!1),title:"Success!",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[f.jsx(wj,{size:24}),f.jsx("p",{className:b?"text-slate-200":"text-slate-700",children:k})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(nt,{variant:"primary",onClick:()=>Z(!1),children:"OK"})})]})}),f.jsx(fn,{isOpen:he,onClose:Rr,title:"Multiple ASINs Detected",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:b?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),f.jsx("div",{className:"space-y-3",children:ue.map((Re,rt)=>f.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${ke.includes(Re)?b?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":b?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>Ir(Re),children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:`font-mono text-sm ${b?"text-slate-200":"text-slate-800"}`,children:Re}),f.jsxs("div",{className:"flex items-center gap-2",children:[ke.includes(Re)&&f.jsx(wj,{size:16,className:"text-blue-500"}),f.jsxs("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:["ASIN ",rt+1]})]})]})},rt))}),f.jsxs("div",{className:"flex justify-between items-center pt-4",children:[f.jsx("div",{className:"text-sm text-slate-500",children:ke.length>0?`${ke.length} ASIN(s) selected`:"No ASINs selected"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(nt,{variant:"secondary",onClick:Rr,children:"Cancel"}),f.jsx(nt,{variant:"primary",onClick:()=>Ht(ke),disabled:ke.length===0,children:"Confirm Selection"})]})]})]})}),(Oe==null?void 0:Oe.hiddenProduct)&&f.jsx(Fye,{isOpen:le,onClose:()=>Le(!1),onUseLocation:Wr,onManualLocation:Pe,hiddenProduct:Oe.hiddenProduct,newProductName:Oe.newProductName||"New Product"})]})},Vye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],zye=e=>Pf(e),qye=["supply & serve","APHY","AZTEC","ZK","Fahiz"],g8=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Gq=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=an(),{user:a}=Ea(),[i,s]=F.useState(null),o=()=>{switch(a==null?void 0:a.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return e.storeName}},l=(a==null?void 0:a.role)==="admin"?e.storeName:o(),c=l&&!qye.includes(l),u=g8.some(N=>N.value===(e.supplier||"")),d=u?e.supplier||"":"other",h=u?"":e.supplier||"",[p,g]=F.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:d,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=F.useState(c),[y,w]=F.useState(c?l:""),[b,D]=F.useState(d==="other"),[O,P]=F.useState(h),[T,_]=F.useState(!1);F.useEffect(()=>{p.storeName==="supply & serve"&&p.fulfillmentType!=="mf"&&g(N=>({...N,fulfillmentType:"mf"}))},[p.storeName,p.fulfillmentType]);const S=N=>{const{name:U,value:X}=N.target;if(U==="damagedItems"){const z=Number(X),H=Number(p.quantity);if(z<0){s("Damaged items cannot be negative");return}s(null),g(V=>({...V,damagedItems:X,quantity:(H-(z-Number(V.damagedItems))).toString()}));return}U==="supplier"&&(D(X==="other"),X!=="other"&&P("")),g(z=>({...z,[U]:X}))},I=N=>{g(U=>({...U,barcode:N})),_(!1)},E=async N=>{if(N.preventDefault(),C())try{const U={id:e.id,name:p.name,quantity:parseInt(p.quantity),price:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?parseFloat(p.price):e.price,unit:p.unit||null,supplier:p.supplier==="other"?O:p.supplier||null,locationCode:p.locationCode,shelfNumber:p.shelfNumber,asin:p.asin||null,status:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?p.status:"pending",damagedItems:parseInt(p.damagedItems),fulfillmentType:p.fulfillmentType,lastUpdated:new Date,storeName:p.storeName==="other"?y:p.storeName,barcode:p.barcode||null};await t(U,e)}catch(U){console.error("Error updating stock:",U),s("Failed to update stock. Please try again.")}},C=()=>p.name.trim()?!p.quantity||parseInt(p.quantity)<0?(s("Quantity must be a positive number"),!1):((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&(!p.price||parseFloat(p.price)<0)?(s("Price must be a positive number"),!1):!p.locationCode||!p.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:p.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?f.jsx(Jr,{label:"Status",name:"status",value:p.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):f.jsx(jt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&f.jsx(jt,{label:"Price",name:"price",type:"number",value:p.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),f.jsx(jt,{label:"Unit (Optional)",name:"unit",value:p.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),f.jsx(Jr,{label:"Fulfillment Type",name:"fulfillmentType",value:p.fulfillmentType,onChange:S,options:p.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Location Code",name:"locationCode",value:p.locationCode,onChange:S,options:Vye,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Shelf Number",name:"shelfNumber",value:p.shelfNumber,onChange:S,options:zye(p.locationCode),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:p.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(Jc,{size:18,className:"text-blue-500"})})]}),f.jsx(jt,{label:"ASIN",name:"asin",value:p.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(Jr,{label:"Supplier",name:"supplier",value:p.supplier,onChange:S,options:g8,required:!0,fullWidth:!0})}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),f.jsx(Jr,{value:p.storeName,onChange:N=>{const U=N.target.value;g(X=>({...X,storeName:U,fulfillmentType:U==="supply & serve"?"mf":X.fulfillmentType})),v(U==="other"),U!=="other"&&w("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b&&f.jsx(jt,{label:"Other Supplier",value:O,onChange:N=>P(N.target.value),placeholder:"Enter supplier name",required:b,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&!b&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(jt,{type:"text",value:y,onChange:N=>w(N.target.value),placeholder:"Enter store name",required:m})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&b&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(jt,{type:"text",value:y,onChange:N=>w(N.target.value),placeholder:"Enter store name",required:m})]}),f.jsxs("div",{children:[f.jsx(jt,{label:"Damaged Items",name:"damagedItems",type:"number",value:p.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(nt,{type:"submit",isLoading:r,icon:f.jsx(Ei,{size:18}),children:"Update Product"})}),f.jsx(_h,{isOpen:T,onClose:()=>_(!1),onBarcodeScanned:I})]})},Wye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Kq=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=F.useState([]),[i,s]=F.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=F.useState({}),[c,u]=F.useState(!1),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState(null),y=F.useRef(null);F.useEffect(()=>{a(Pf(i.locationCode))},[]),F.useEffect(()=>{a(Pf(i.locationCode));const _=Pf(i.locationCode).length-1;parseInt(i.shelfNumber)>_&&s(S=>({...S,shelfNumber:"0"}))},[i.locationCode]);const w=_=>{const{name:S,value:I}=_.target;s(E=>({...E,[S]:I})),o[S]&&l(E=>{const C={...E};return delete C[S],C}),S==="barcode"&&I.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{I.length===13&&O(I)},500)):S==="barcode"&&I.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},b=()=>{u(!0)},D=async _=>{s(I=>({...I,barcode:_})),h(null),v(null),g(!0);let S=!1;try{const I=lr(wt(Xe,"scannedProducts"),sr("barcode","==",_)),E=await ur(I);if(E.empty){const N=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_}`,X=await(await fetch(N)).json();if(X&&X.items&&X.items.length>0){const z=X.items[0];s(H=>({...H,name:z.title||H.name})),h("Product name auto-filled from external database."),S=!0}else h("No product found for this barcode. Please enter details manually.")}else{const C=E.docs[0].data();s(N=>({...N,name:C.name||N.name})),h("Product name auto-filled from scanned products."),S=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!S&&_.length===13&&setTimeout(()=>{O(_)},100)}},O=async _=>{const S=_||i.barcode;if(!(!S||p)){v(null),g(!0);try{const I=lr(wt(Xe,"scannedProducts"),sr("barcode","==",S)),E=await ur(I);if(E.empty){const N=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,X=await(await fetch(N)).json();if(X&&X.items&&X.items.length>0){const z=X.items[0];s(H=>({...H,name:z.title||H.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const C=E.docs[0].data();s(N=>({...N,name:C.name||N.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},P=()=>{const _={};return i.name.trim()||(_.name="Product name is required"),i.locationCode||(_.locationCode="Location is required"),i.shelfNumber||(_.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(_.quantity="Quantity must be greater than 0"),l(_),Object.keys(_).length===0},T=async _=>{if(_.preventDefault(),!P())return;const S={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([S]),t()}catch(I){console.error("Error adding stock:",I)}};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:T,className:"space-y-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:i.name,onChange:w,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:w,options:Wye,error:o.locationCode,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:w,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:w,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await O()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Jc,{size:18,className:"text-blue-500"})})]}),m&&f.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),d&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:d}),p&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),f.jsx(jt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:w,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),f.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[f.jsx(nt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(nt,{type:"submit",isLoading:r,icon:f.jsx(Ei,{size:18}),children:"Quick Add"}),f.jsx(nt,{type:"button",onClick:b,variant:"primary",icon:f.jsx(Jc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),f.jsx(_h,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:D})]})},sy=({isOpen:e,onClose:t,item:r})=>{var i,s;const{isDarkMode:n}=an(),{user:a}=Ea();return r?f.jsx(fn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 flex items-center justify-between",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),f.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((i=r.supplier)==null?void 0:i.toUpperCase())||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),f.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((o,l)=>f.jsx("span",{className:"block",children:o.trim()},l)):r.asin:"-"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.lastUpdated&&!isNaN(new Date(r.lastUpdated).getTime())?qt(new Date(r.lastUpdated),"MMM d, yyyy"):"Unknown"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((s=r.storeName)==null?void 0:s.toUpperCase())||"-"})]})]})]})}),f.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),f.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),f.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[f.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),f.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[f.jsx("span",{children:"0"}),f.jsx("span",{children:"Critical: <10"}),f.jsx("span",{children:"Low: 10-25"}),f.jsx("span",{children:"25+"})]})]})]})}):null},fh=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=an();return f.jsx(fn,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(Tv,{size:24}),f.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(nt,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),f.jsx(nt,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},Yq=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),d=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return f.jsx(fn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Tv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",f.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),f.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),f.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>f.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",m.name," (",m.quantity," units)",m.barcode&&f.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),f.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",d," product",d!==1?"s":""," (",h," units)"]})]}):f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",f.jsx("strong",{children:l})," to this location?"]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(nt,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&f.jsx(nt,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),f.jsx(nt,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Hye=({isOpen:e,onClose:t,productName:r,barcode:n,existingLocations:a})=>{const{isDarkMode:i}=an();return f.jsx(fn,{isOpen:e,onClose:t,title:"Product Location Information",size:"lg",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`${i?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Hl,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),f.jsx("h3",{className:`font-semibold ${i?"text-blue-200":"text-blue-900"}`,children:"Product Details"})]}),f.jsxs("div",{className:`text-sm ${i?"text-blue-300":"text-blue-800"}`,children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Name:"})," ",r]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Barcode:"})," ",n]})]})]}),f.jsxs("div",{className:`${i?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(xN,{className:`w-5 h-5 ${i?"text-green-400":"text-green-600"}`}),f.jsxs("h3",{className:`font-semibold ${i?"text-green-200":"text-green-900"}`,children:["Current Locations (",a.length,")"]})]}),a.length>0?f.jsx("div",{className:"space-y-2",children:a.map((s,o)=>f.jsx("div",{className:`${i?"bg-slate-700 border-slate-600":"bg-white border-slate-200"} rounded-lg p-3 border`,children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:`font-medium ${i?"text-slate-100":"text-slate-900"}`,children:[s.locationCode," - ",s.shelfNumber]}),f.jsxs("p",{className:`text-sm font-semibold ${i?"text-slate-200":"text-slate-700"}`,children:[s.quantity," units"]})]})},o))}):f.jsx("p",{className:`text-sm ${i?"text-green-300":"text-green-700"}`,children:"This product is not currently in any location."})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(nt,{variant:"secondary",onClick:t,className:i?"text-slate-100":"text-slate-700",children:"Close"})})]})})},Gye=()=>{var Mn,Rn;const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState("name"),[s,o]=F.useState(!1),[l,c]=F.useState("date"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(!1),[D,O]=F.useState(null),[P,T]=F.useState([]),[_,S]=F.useState(new Set),[I,E]=F.useState(!1),{showToast:C}=lc(),{isDarkMode:N}=an(),{user:U}=Ea(),[X,z]=F.useState(!1),[H,V]=F.useState(null),[q,te]=F.useState(!1),[Z,k]=F.useState(!1),[R,G]=F.useState(null),[Y,J]=F.useState(null),[se,ue]=F.useState(null),[ae,he]=F.useState(!1),[xe,W]=F.useState("all"),[Ne,ke]=F.useState(!1),[_e,le]=F.useState({min:null,max:null}),[Le,Oe]=F.useState(!1),[Ve,We]=F.useState(null),[Ee,Fe]=F.useState(!1),[Se,Me]=F.useState(null);F.useEffect(()=>{const Ce=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ce)}},[e]);const He=F.useCallback(async()=>{b(!0);try{const Ce=lr(wt(Xe,"inventory"),Fa("name")),ut=(await ur(Ce)).docs.map(ee=>{const ve=ee.data();return{id:ee.id,...ve,lastUpdated:ve.lastUpdated instanceof ir?ve.lastUpdated.toDate():new Date(ve.lastUpdated)}});T(ut)}catch{C("Failed to fetch stock items","error")}finally{b(!1)}},[C]),at=F.useCallback(async()=>{try{const Ce=wt(Xe,"inventory"),it=await uk(Ce);We(it.data().count)}catch{We(null)}},[]);F.useEffect(()=>{He(),at()},[He,at]),F.useEffect(()=>{const Ce=it=>{const ut=it.target;ut.closest(".store-filter-dropdown")||he(!1),ut.closest(".status-filter-dropdown")||ke(!1),ut.closest(".search-type-dropdown")||o(!1),ut.closest(".quantity-filter-dropdown")||Oe(!1)};return(ae||Ne||s||Le)&&document.addEventListener("mousedown",Ce),()=>{document.removeEventListener("mousedown",Ce)}},[ae,Ne,s,Le]);const ot=F.useMemo(()=>[{value:"date",label:"Date Updated"},{value:"quantity",label:"Quantity (High-Low)"},{value:"name",label:"Name (A-Z)"},{value:"price",label:"Price (High-Low)"}],[]),xt=F.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),ht=F.useCallback(Ce=>({"supply & serve":"bg-blue-100 text-blue-700",APHY:"bg-green-100 text-green-700",AZTEC:"bg-purple-100 text-purple-700",ZK:"bg-orange-100 text-orange-700",Fahiz:"bg-pink-100 text-pink-700"})[Ce]||"bg-gray-100 text-gray-700",[]),mt=F.useMemo(()=>{const Ce=r.toLowerCase();return P.filter(it=>{if(it.quantity===0)return!1;let ut=!0;if(r!=="")switch(a){case"name":ut=it.name.toLowerCase().includes(Ce);break;case"barcode":ut=!!(it.barcode&&it.barcode.toLowerCase().includes(Ce));break;case"asin":ut=!!(it.asin&&it.asin.split(",").some(ge=>ge.trim().toLowerCase().includes(Ce)));break;case"location":ut=`${it.locationCode}-${it.shelfNumber}`.toLowerCase().includes(Ce);break;default:ut=!0}const ee=se?se.fulfillmentType==="all"?se.storeName==="other"?!xt.includes(it.storeName):it.storeName===se.storeName:se.storeName==="other"?!xt.includes(it.storeName)&&it.fulfillmentType===se.fulfillmentType:it.storeName===se.storeName&&it.fulfillmentType===se.fulfillmentType:!0,ve=xe==="all"||it.status===xe,pe=!_e.min&&!_e.max?!0:(!_e.min||it.quantity>=_e.min)&&(!_e.max||it.quantity<=_e.max);return ut&&ee&&ve&&pe}).sort((it,ut)=>l==="name"?it.name.localeCompare(ut.name):l==="quantity"?ut.quantity-it.quantity:l==="price"?ut.price-it.price:l==="date"?new Date(ut.lastUpdated).getTime()-new Date(it.lastUpdated).getTime():0)},[P,r,a,se,xe,_e,l,xt]),ct=F.useCallback((Ce,it)=>P.filter(ut=>ut.locationCode===Ce&&ut.shelfNumber===it),[P]),Zt=F.useCallback(Ce=>P.filter(it=>it.barcode===Ce&&it.quantity>0),[P]),Ht=F.useCallback((Ce,it)=>{const ut=Zt(it);ut.length>0&&(Me({productName:Ce,barcode:it,existingLocations:ut}),Fe(!0))},[Zt]),Rr=F.useCallback(async Ce=>{b(!0);try{const it=[];for(const ut of Ce)if(ut.barcode){const ee=lr(wt(Xe,"inventory"),sr("barcode","==",ut.barcode),sr("quantity","==",0)),ve=await ur(ee);if(!ve.empty){const pe=ve.docs[0];if(await Ms(Sr(Xe,"inventory",pe.id)),T(ge=>ge.filter(ye=>ye.id!==pe.id)),U){const ge=pe.data();await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${ge.name}" with barcode ${ut.barcode} from location ${ge.locationCode}-${ge.shelfNumber}`,time:new Date().toISOString()})}}}for(const ut of Ce){const ee=await mr(wt(Xe,"inventory"),{...ut,lastUpdated:ir.fromDate(new Date)});it.push({...ut,id:ee.id,lastUpdated:new Date})}if(U){const ut=Ce.reduce((ve,pe)=>ve+pe.quantity,0),ee=Ce.map(ve=>`${ve.quantity} at ${ve.locationCode}-${ve.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Ce[0].name}" with total quantity ${ut} (${ee})`,time:new Date().toISOString()})}T(ut=>[...ut,...it]),d(!1),te(!1),C("Stock items added successfully","success")}catch{C("Failed to add stock items","error")}finally{b(!1)}},[U,C]),Ir=F.useCallback(async Ce=>{const it=[];for(const ut of Ce){const ee=ct(ut.locationCode,ut.shelfNumber);ee.length>0&&it.push({locationCode:ut.locationCode,shelfNumber:ut.shelfNumber,products:ee})}if(it.length>0){const ut=it[0];J({locationCode:ut.locationCode,shelfNumber:ut.shelfNumber,existingProducts:ut.products,newProductName:Ce[0].name,newProductBarcode:Ce[0].barcode||void 0}),G(Ce),k(!0);return}await Rr(Ce)},[ct,Rr]),Wr=F.useCallback(async()=>{R&&(await Rr(R),k(!1),G(null),J(null),d(!1),te(!1))},[R,Rr]),Pe=F.useCallback(()=>{k(!1),G(null),J(null),d(!1),te(!1)},[]),Re=F.useCallback(async()=>{if(R&&Y)try{b(!0);const Ce=Y.existingProducts.find(it=>it.barcode===Y.newProductBarcode);if(Ce){const it=Ce.quantity+R[0].quantity,ut=Sr(Xe,"inventory",Ce.id);await Vn(ut,{quantity:it,lastUpdated:ir.fromDate(new Date)}),U&&(await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${R[0].quantity} units of "${R[0].name}" with existing stock "${Ce.name}" at location ${Y.locationCode}-${Y.shelfNumber}`,time:new Date().toISOString()}),await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ce.name}": quantity from ${Ce.quantity} to ${it}`,time:new Date().toISOString()})),await He(),C("Products merged successfully","success")}}catch{C("Failed to merge products","error")}finally{b(!1),k(!1),G(null),J(null),d(!1),te(!1)}},[R,Y,U,He,C]),rt=F.useCallback(async(Ce,it)=>{b(!0);try{const ut=new Date,ee={},ve=[];if(Ce.name!==it.name&&(ee.name=Ce.name,ve.push(`name from "${it.name}" to "${Ce.name}"`)),Ce.price!==it.price){ee.price=Ce.price;const pe=Number(it.price||0).toFixed(2),ge=Number(Ce.price||0).toFixed(2);ve.push(`price from £${pe} to £${ge}`)}if((Ce.locationCode!==it.locationCode||Ce.shelfNumber!==it.shelfNumber)&&(ee.locationCode=Ce.locationCode,ee.shelfNumber=Ce.shelfNumber,ve.push(`location from ${it.locationCode}-${it.shelfNumber} to ${Ce.locationCode}-${Ce.shelfNumber}`)),Ce.supplier!==it.supplier&&(ee.supplier=Ce.supplier,ve.push(`supplier from "${it.supplier||"none"}" to "${Ce.supplier||"none"}"`)),Ce.asin!==it.asin&&(ee.asin=Ce.asin,ve.push(`ASIN from "${it.asin||"none"}" to "${Ce.asin||"none"}"`)),Ce.status!==it.status&&(ee.status=Ce.status,ve.push(`status from "${it.status}" to "${Ce.status}"`)),Ce.damagedItems!==it.damagedItems&&(ee.damagedItems=Ce.damagedItems,ve.push(`damaged items from ${it.damagedItems} to ${Ce.damagedItems}`)),Ce.fulfillmentType!==it.fulfillmentType&&(ee.fulfillmentType=Ce.fulfillmentType,ve.push(`fulfillment type from "${it.fulfillmentType.toUpperCase()}" to "${Ce.fulfillmentType.toUpperCase()}"`)),Ce.storeName!==it.storeName&&(ee.storeName=Ce.storeName,ve.push(`store name from "${it.storeName}" to "${Ce.storeName}"`)),Ce.unit!==it.unit&&(ee.unit=Ce.unit,ve.push(`unit from "${it.unit||"none"}" to "${Ce.unit||"none"}"`)),Ce.barcode!==it.barcode&&(ee.barcode=Ce.barcode,ve.push(`barcode from "${it.barcode||"none"}" to "${Ce.barcode||"none"}"`)),Object.keys(ee).length>0){const pe=Sr(Xe,"inventory",Ce.id);await Vn(pe,{...ee,lastUpdated:ir.fromDate(ut)}),U&&ve.length>0&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ce.name}": ${ve.join(", ")}`,time:ut.toISOString()});const ge=P.map(ye=>ye.id===Ce.id?{...ye,...ee,lastUpdated:ut}:ye);T(ge),C("Stock details updated successfully","success"),p(!1),O(null)}if(Ce.quantity>it.quantity)V({itemId:Ce.id,newQuantity:Ce.quantity}),z(!0),p(!1);else if(Ce.quantity!==it.quantity){const pe=Sr(Xe,"inventory",Ce.id);await Vn(pe,{quantity:Ce.quantity,lastUpdated:ir.fromDate(ut)}),U&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ce.name}": quantity from ${it.quantity} to ${Ce.quantity}`,time:ut.toISOString()});const ge=P.map(ye=>ye.id===Ce.id?{...ye,quantity:Ce.quantity,lastUpdated:ut}:ye);T(ge),C("Stock quantity updated","success"),p(!1),O(null)}else p(!1),O(null)}catch{C("Failed to update stock item","error")}finally{b(!1)}},[P,U,C]),vt=F.useCallback(async()=>{if(H){b(!0);try{const{itemId:Ce,newQuantity:it}=H,ut=new Date,ee=P.find(ge=>ge.id===Ce),ve=Sr(Xe,"inventory",Ce);await Vn(ve,{quantity:it,lastUpdated:ir.fromDate(ut)}),U&&ee&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${ee.name}": quantity from ${ee.quantity} to ${it}`,time:ut.toISOString()});const pe=P.map(ge=>ge.id===Ce?{...ge,quantity:it,lastUpdated:ut}:ge);T(pe),C("Stock quantity updated successfully","success"),O(null)}catch{C("Failed to update quantity","error")}finally{b(!1),z(!1),V(null)}}},[H,P,U,C]),Nt=F.useCallback(async Ce=>{b(!0);try{const it=P.find(ut=>ut.id===Ce);await Ms(Sr(Xe,"inventory",Ce)),U&&it&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${it.name}" (${it.quantity} units) from location ${it.locationCode}-${it.shelfNumber}`,time:new Date().toISOString()}),T(P.filter(ut=>ut.id!==Ce)),m(!1),O(null),C("Stock item deleted successfully","success")}catch{C("Failed to delete stock item","error")}finally{b(!1)}},[P,U,C]),Kt=F.useCallback(Ce=>{O(Ce)},[]),Ft=F.useCallback((Ce,it)=>{Ce.stopPropagation(),O(it),p(!0)},[]),Dt=F.useCallback((Ce,it)=>{Ce.stopPropagation(),O(it),m(!0)},[]),rr=F.useCallback(()=>{_.size===mt.length?S(new Set):S(new Set(mt.map(Ce=>Ce.id)))},[mt,_.size]),gr=F.useCallback(Ce=>{const it=new Set(_);it.has(Ce)?it.delete(Ce):it.add(Ce),S(it)},[_]),or=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Ce=P.filter(ut=>_.has(ut.id)),it=Array.from(_).map(ut=>Ms(Sr(Xe,"inventory",ut)));if(await Promise.all(it),U){const ut=Ce.map(ee=>`"${ee.name}" (${ee.quantity} units) from ${ee.locationCode}-${ee.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${ut}`,time:new Date().toISOString()})}T(P.filter(ut=>!_.has(ut.id))),S(new Set),E(!1),y(!1),C(`Successfully deleted ${_.size} items`,"success")}catch{C("Failed to delete selected items","error")}finally{b(!1)}}},[_,P,U,C]),Tr=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Ce=P.filter(ut=>_.has(ut.id)&&ut.status==="pending");if(Ce.length===0){C("No pending items selected to activate","error");return}const it=Ce.map(ut=>Vn(Sr(Xe,"inventory",ut.id),{status:"active",lastUpdated:ir.fromDate(new Date)}));if(await Promise.all(it),U){const ut=Ce.map(ee=>`"${ee.name}" from ${ee.locationCode}-${ee.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Ce.length} pending products: ${ut}`,time:new Date().toISOString()})}T(P.map(ut=>_.has(ut.id)&&ut.status==="pending"?{...ut,status:"active",lastUpdated:new Date}:ut)),S(new Set),E(!1),C(`Successfully activated ${Ce.length} items`,"success")}catch{C("Failed to activate selected items","error")}finally{b(!1)}}},[_,P,U,C]),An=F.useCallback(()=>{E(!I),I||S(new Set)},[I]),Yt=F.useCallback(({item:Ce})=>{var it;return f.jsxs("tr",{className:`hover:${N?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Kt(Ce),children:[I&&f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,onClick:ut=>ut.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:_.has(Ce.id),onChange:()=>gr(Ce.id),className:`h-4 w-4 text-blue-600 rounded ${N?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-blue-400":"text-blue-700"} font-medium`,children:Ce.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:Ce.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ce.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ce.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:Ce.storeName&&Ce.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ht(Ce.storeName)}`,children:(it=Ce.storeName)==null?void 0:it.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:[Ce.locationCode," - ",Ce.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:Ce.asin?Ce.asin.split(",").length>3?Ce.asin.split(",").slice(0,3).map(ut=>ut.trim()).join(", ")+"...":Ce.asin.split(",").map(ut=>ut.trim()).join(", "):"-"}),(U==null?void 0:U.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("td",{className:`px-4 py-3 text-right text-sm ${N?"text-slate-200":"text-slate-900"}`,children:Number(Ce.price)>0?`£${Number(Ce.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${N?"text-slate-200":"text-slate-900"}`,children:Number(Ce.quantity*Ce.price)>0?`£${Number(Ce.quantity*Ce.price).toFixed(2)}`:"(Not set)"})]}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ce.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ce.quantity>10&&Ce.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:Ce.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:qt(new Date(Ce.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:ut=>Ft(ut,Ce),className:`p-1 ${N?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:ut=>Dt(ut,Ce),className:`p-1 ${N?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(oi,{size:16})})]})})]},Ce.id)},[I,_,N,U,Kt,gr,Ft,Dt,ht]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${N?"text-white":"text-gray-900"}`,children:"Inbound"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${N?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",Ve!==null?Ve:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${N?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:I?f.jsxs(f.Fragment,{children:[xe==="pending"&&f.jsxs(nt,{onClick:Tr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||_.size===0,children:[f.jsx(p9,{size:16}),"Go Live (",_.size,")"]}),f.jsxs(nt,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||_.size===0,children:[f.jsx(oi,{size:16}),"Delete Selected (",_.size,")"]}),f.jsx(nt,{onClick:An,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(nt,{onClick:An,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(t2,{size:16}),"Select Items"]}),f.jsxs(nt,{variant:"secondary",onClick:()=>te(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(Ei,{size:16}),"Quick Add"]}),f.jsxs(nt,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(Ei,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(El,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:`Search by ${a}...`,value:e,onChange:Ce=>t(Ce.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative search-type-dropdown",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>o(!s),className:`flex items-center gap-2 ${a!=="name"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[a==="name"?"Name":a==="barcode"?"Barcode":a==="asin"?"ASIN":"Location",f.jsx(vl,{size:16})]}),s&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${N?"text-slate-200":"text-slate-700"}`,children:"Search by"}),[{value:"name",label:"Name"},{value:"barcode",label:"Barcode"},{value:"asin",label:"ASIN"},{value:"location",label:"Location"}].map(Ce=>f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${a===Ce.value?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{i(Ce.value),t(""),o(!1)},children:Ce.label},Ce.value))]})})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:l,onChange:Ce=>c(Ce.target.value),options:ot})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>ke(!Ne),className:`flex items-center gap-2 ${xe!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[xe==="all"?"Status Filter":xe==="active"?"Active":"Pending",f.jsx(vl,{size:16})]}),Ne&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${N?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="all"?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),ke(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="active"?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),ke(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="pending"?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),ke(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${N?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),ke(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>he(!ae),className:`flex items-center gap-2 ${se?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[se?`${se.storeName==="other"?"OTHER":(Mn=se.storeName)==null?void 0:Mn.toUpperCase()}${se.fulfillmentType!=="all"?` - ${se.fulfillmentType.toUpperCase()}`:""}`:"Store Filter",f.jsx(vl,{size:16})]}),ae&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${N?"text-slate-200":"text-slate-700"}`,children:"Filter by Store"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Ce=>f.jsx("div",{children:f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(se==null?void 0:se.storeName)===Ce?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ue({storeName:Ce,fulfillmentType:"all"}),he(!1)},children:Ce.toUpperCase()})},Ce)),f.jsx("div",{className:`border-t ${N?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{ue(null),he(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative quantity-filter-dropdown",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>Oe(!Le),className:`flex items-center gap-2 ${_e.min!==null||_e.max!==null?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[_e.min!==null||_e.max!==null?`Qty: ${_e.min||0}-${_e.max||"∞"}`:"Quantity Filter",f.jsx(vl,{size:16})]}),Le&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:`text-sm font-medium mb-3 ${N?"text-slate-200":"text-slate-700"}`,children:"Filter by Quantity Range"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${N?"text-slate-300":"text-slate-600"}`,children:"Minimum Quantity"}),f.jsx(jt,{type:"number",placeholder:"Min quantity",value:_e.min||"",onChange:Ce=>le(it=>({...it,min:Ce.target.value?parseInt(Ce.target.value):null})),className:"w-full",min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${N?"text-slate-300":"text-slate-600"}`,children:"Maximum Quantity"}),f.jsx(jt,{type:"number",placeholder:"Max quantity",value:_e.max||"",onChange:Ce=>le(it=>({...it,max:Ce.target.value?parseInt(Ce.target.value):null})),className:"w-full",min:"0"})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx(nt,{variant:"secondary",size:"sm",onClick:()=>{le({min:null,max:null}),Oe(!1)},className:"flex-1",children:"Clear"}),f.jsx(nt,{variant:"primary",size:"sm",onClick:()=>Oe(!1),className:"flex-1",children:"Apply"})]})]})})]})]}),f.jsx(nt,{variant:"secondary",onClick:He,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:f.jsx(La,{size:16,className:w?"animate-spin":""})})]}),(r||se||xe!=="all"||_e.min!==null||_e.max!==null)&&f.jsx("div",{className:`px-4 py-2 rounded-lg ${N?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-blue-400":"bg-blue-600"}`}),f.jsxs("span",{className:`text-sm font-medium ${N?"text-slate-300":"text-slate-700"}`,children:[mt.length," product",mt.length!==1?"s":""," found"]}),mt.length!==P.length&&f.jsxs("span",{className:`text-xs ${N?"text-slate-400":"text-slate-500"}`,children:["(filtered from ",P.length," total)"]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-700"}`,children:['Search: "',r,'"']}),se&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N?"bg-green-900 text-green-300":"bg-green-100 text-green-700"}`,children:["Store: ",se.storeName==="other"?"OTHER":(Rn=se.storeName)==null?void 0:Rn.toUpperCase()]}),xe!=="all"&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N?"bg-yellow-900 text-yellow-300":"bg-yellow-100 text-yellow-700"}`,children:["Status: ",xe==="active"?"Active":"Pending"]}),(_e.min!==null||_e.max!==null)&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-700"}`,children:["Qty: ",_e.min||0,"-",_e.max||"∞"]}),f.jsx("button",{onClick:()=>{t(""),ue(null),W("all"),le({min:null,max:null})},className:`px-2 py-1 text-xs font-medium rounded transition-colors ${N?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,children:"Clear All"})]})]})}),w?f.jsx("div",{className:`text-center py-12 ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(gs,{className:`w-8 h-8 ${N?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:N?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):mt.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${N?"divide-slate-700":"divide-slate-200"} ${N?"bg-slate-800":"bg-white"} rounded-lg border ${N?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:N?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[I&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:_.size===mt.length,onChange:rr,className:`h-4 w-4 text-blue-600 rounded ${N?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Store"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(U==null?void 0:U.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${N?"divide-slate-700":"divide-slate-200"}`,children:mt.map((Ce,it)=>f.jsx(Yt,{item:Ce,index:it},Ce.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:mt.map(Ce=>{var it;return f.jsxs("div",{className:`rounded-lg border ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Kt(Ce),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${N?"text-blue-400":"text-blue-700"}`,children:Ce.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ce.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ce.status==="active"?"Active":"Pending"}),Ce.storeName&&Ce.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ht(Ce.storeName)}`,children:(it=Ce.storeName)==null?void 0:it.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[Ce.locationCode," - ",Ce.shelfNumber]})]}),f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:Ce.quantity})]}),Ce.asin&&f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:Ce.asin})]}),(U==null?void 0:U.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(Ce.price)>0?`£${Number(Ce.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(Ce.quantity*Ce.price)>0?`£${Number(Ce.quantity*Ce.price).toFixed(2)}`:"(Not set)"})]})]}),f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(Ce.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(nt,{size:"sm",variant:"secondary",onClick:ut=>{ut.stopPropagation(),Ft(ut,Ce)},children:[f.jsx(vs,{size:14})," Edit"]}),f.jsxs(nt,{size:"sm",variant:"danger",onClick:ut=>{ut.stopPropagation(),Dt(ut,Ce)},children:[f.jsx(oi,{size:14})," Delete"]})]})]},Ce.id)})})]}):f.jsx("div",{className:`text-center py-12 ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:N?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(fn,{isOpen:u,onClose:()=>d(!1),title:"Add New Stock Item",size:"xl",children:f.jsx(Hq,{onSubmit:Ir,onCancel:()=>d(!1),isLoading:w,existingStockItems:P,onShowProductLocationInfo:Ht})}),f.jsx(fn,{isOpen:q,onClose:()=>te(!1),title:"Quick Add Stock",size:"md",children:f.jsx(Kq,{onSubmit:Ir,onClose:()=>te(!1),isLoading:w})}),f.jsx(fn,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:D&&f.jsx(Gq,{item:D,onSubmit:rt,onCancel:()=>p(!1),isLoading:w})}),D&&f.jsx(fh,{isOpen:g,onClose:()=>{m(!1),O(null)},onConfirm:()=>Nt(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:w}),D&&!h&&!g&&!X&&f.jsx(sy,{isOpen:!!D,onClose:()=>O(null),item:D}),f.jsx(fh,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:or,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),f.jsx(fn,{isOpen:X,onClose:()=>{z(!1),V(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(nt,{variant:"secondary",onClick:()=>{z(!1),V(null)},children:"No"}),f.jsx(nt,{onClick:vt,isLoading:w,children:"Yes"})]})]})}),Y&&f.jsx(Yq,{isOpen:Z,onClose:Pe,onConfirm:Wr,onCancel:Pe,onMerge:Re,locationCode:Y.locationCode,shelfNumber:Y.shelfNumber,existingProducts:Y.existingProducts,newProductName:Y.newProductName,newProductBarcode:Y.newProductBarcode}),Se&&f.jsx(Hye,{isOpen:Ee,onClose:()=>{Fe(!1),Me(null)},productName:Se.productName,barcode:Se.barcode,existingLocations:Se.existingLocations})]})},Kye=()=>{const{isDarkMode:e}=an(),{showToast:t}=lc(),{user:r}=Ea();Ea();const[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(""),[c,u]=F.useState(null),[d,h]=F.useState(""),[p,g]=F.useState(null),[m,v]=F.useState("all"),[y,w]=F.useState("all"),[b,D]=F.useState(!1),[O,P]=F.useState(!1),[T,_]=F.useState(null),S=async Z=>{if(r)try{await mr(wt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:Z,time:new Date().toISOString()})}catch(k){console.error("Failed to log activity:",k)}},I=F.useCallback(async()=>{a(!0);try{const Z=lr(wt(Xe,"inventory"),Fa("name")),R=(await ur(Z)).docs.map(G=>{const Y=G.data();return{id:G.id,...Y,lastUpdated:Y.lastUpdated instanceof ir?Y.lastUpdated.toDate():new Date(Y.lastUpdated)}});s(R)}catch(Z){console.error("Failed to fetch inventory",Z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=F.useCallback(async()=>{try{const Z=wt(Xe,"inventory"),k=await uk(Z);g(k.data().count)}catch{g(null)}},[]);F.useEffect(()=>{I(),E()},[I,E]),F.useEffect(()=>{const Z=k=>{const R=k.target;R.closest(".damage-filter-dropdown")||D(!1),R.closest(".duplicate-filter-dropdown")||P(!1)};return(b||O)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[b,O]);const C=F.useMemo(()=>{const Z={};for(const k of i){const R=(k.name||"").trim().toLowerCase();if(!R)continue;const G=`${k.locationCode||""}-${k.shelfNumber||""}`.trim().toLowerCase();Z[R]||(Z[R]=new Set),Z[R].add(G)}return Z},[i]),U=((Z,k)=>{const[R,G]=F.useState(Z);return F.useEffect(()=>{const Y=setTimeout(()=>G(Z),k);return()=>clearTimeout(Y)},[Z,k]),R})(o,300),X=F.useMemo(()=>{const Z=U.trim().toLowerCase();return i.filter(k=>{var W,Ne;const R=((W=k.name)==null?void 0:W.toLowerCase())||"",G=(k.asin||"").toLowerCase(),Y=(k.barcode||"").toLowerCase(),J=Z?R.includes(Z)||G.includes(Z)||Y.includes(Z):!0,se=m==="all"?!0:m==="damaged"?(k.damagedItems||0)>0:(k.damagedItems||0)<=0,ue=(k.name||"").trim().toLowerCase(),he=(ue&&((Ne=C[ue])==null?void 0:Ne.size)||0)>1;return J&&se&&(y==="all"?!0:y==="duplicates"?he:!he)})},[i,U,m,y,C]),z=F.useMemo(()=>U.trim()?X.reduce((Z,k)=>Z+(k.quantity||0),0):0,[X,U]),H=F.useMemo(()=>{var ae;const Z=X.length;let k=0,R=0,G=0,Y=0,J=0;for(const he of X){(he.damagedItems||0)>0&&k++,he.status==="active"&&R++,he.status==="pending"&&G++,Number(he.price)>0&&Y++;const xe=(he.name||"").trim().toLowerCase();(xe&&((ae=C[xe])==null?void 0:ae.size)||0)>1&&J++}const se=Z-J,ue=Z-Y;return{total:Z,damaged:k,duplicates:J,unique:se,active:R,pending:G,priceSet:Y,noPrice:ue}},[X,C]),V=Z=>{u(Z.id),h(Z.price!=null?String(Z.price):"")},q=()=>{u(null),h("")},te=async Z=>{const k=Number(d);if(Number.isNaN(k)||k<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,G=Sr(Xe,"inventory",Z.id);await Vn(G,{price:k,lastUpdated:ir.fromDate(R)}),await S(`updated price for ${Z.name} (barcode: ${Z.barcode}) from £${Z.price||0} to £${k.toFixed(2)}`),s(Y=>Y.map(J=>J.id===Z.id?{...J,price:k,lastUpdated:R}:J)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return f.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[f.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:f.jsx("span",{className:"animate-pulse",children:"..."})]}),f.jsxs(nt,{variant:"secondary",onClick:()=>{I(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[f.jsx(La,{size:14,className:n?"animate-spin":""}),f.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[U.trim()?f.jsx(bi,{title:"Total Quantity",value:z,icon:f.jsx(Hl,{size:20,className:"text-blue-600"})}):f.jsx(bi,{title:"Products",value:H.total,icon:f.jsx(Hl,{size:20,className:"text-blue-600"})}),f.jsx(bi,{title:"Damaged",value:H.damaged,icon:f.jsx(ah,{size:20,className:"text-blue-600"})}),f.jsx(bi,{title:"Duplicates",value:H.duplicates,icon:f.jsx(PZ,{size:20,className:"text-blue-600"})}),f.jsx(bi,{title:"Unique",value:H.unique,icon:f.jsx(O4,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[f.jsx(bi,{title:"Active",value:H.active,icon:f.jsx(O4,{size:20,className:"text-blue-600"})}),f.jsx(bi,{title:"Pending",value:H.pending,icon:f.jsx(ah,{size:20,className:"text-blue-600"})}),f.jsx(bi,{title:"With Price",value:H.priceSet,icon:f.jsx(K2,{size:20,className:"text-blue-600"})}),f.jsx(bi,{title:"No Price",value:H.noPrice,icon:f.jsx(K2,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(El,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:Z=>l(Z.target.value),className:"pl-10 text-sm sm:text-base"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>D(!b),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),f.jsx(vl,{size:16})]}),b&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),D(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),D(!1)},children:"Damaged"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),D(!1)},children:"Not Damaged"})]})})]}),f.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>P(!O),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),f.jsx(vl,{size:16})]}),O&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("all"),P(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("duplicates"),P(!1)},children:"Duplicates Only"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("unique"),P(!1)},children:"Unique Only"})]})})]})]})]}),n?f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[f.jsx(gs,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):X.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),f.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:X.map(Z=>f.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:Z.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.asin?Z.asin.split(",").length>3?Z.asin.split(",").slice(0,3).map(k=>k.trim()).join(", ")+"...":Z.asin.split(",").map(k=>k.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===Z.id?f.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:k=>k.stopPropagation(),children:[f.jsx(jt,{type:"number",step:"0.01",value:d,onChange:k=>h(k.target.value),className:"w-28 text-right"}),f.jsx(nt,{size:"sm",onClick:()=>te(Z),isLoading:n,children:f.jsx(_j,{size:14})}),f.jsx(nt,{size:"sm",variant:"secondary",onClick:q,disabled:n,children:f.jsx(up,{size:14})})]}):f.jsx("button",{onClick:k=>{k.stopPropagation(),V(Z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"(Not set)"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:Z.quantity}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.barcode||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:f.jsx("button",{onClick:()=>_(Z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:f.jsx(I4,{size:16})})})]},Z.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-3",children:X.map(Z=>{var k;return f.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:Z.name}),f.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:((k=Z.asin)==null?void 0:k.split(",")[0])||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",f.jsx("span",{className:"font-medium",children:Z.barcode||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",f.jsx("span",{className:"font-medium",children:Z.quantity})]})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[f.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"No price"}),f.jsxs("div",{className:"flex gap-1",children:[c===Z.id?f.jsxs(f.Fragment,{children:[f.jsx(nt,{size:"sm",onClick:()=>te(Z),isLoading:n,children:f.jsx(_j,{size:12})}),f.jsx(nt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q()},disabled:n,children:f.jsx(up,{size:12})})]}):f.jsx(nt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),V(Z)},children:f.jsx(vs,{size:12})}),f.jsx(nt,{size:"sm",variant:"secondary",onClick:()=>_(Z),children:f.jsx(I4,{size:12})})]})]})]}),c===Z.id&&f.jsx("div",{className:"mt-1",children:f.jsx(jt,{type:"number",step:"0.01",value:d,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},Z.id)})})]}):f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&f.jsx(sy,{isOpen:!!T,onClose:()=>_(null),item:T})]})},Xq=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=an(),[o,l]=F.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},d=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${qt(e,"MMM d, yyyy")} - ${qt(t,"MMM d, yyyy")}`:e?`From ${qt(e,"MMM d, yyyy")}`:t?`To ${qt(t,"MMM d, yyyy")}`:"Select date range";return f.jsxs("div",{className:`relative ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(f9,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&f.jsx("span",{onClick:p=>{p.stopPropagation(),d()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),d())},children:f.jsx(up,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:e?qt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:t?qt(t,"yyyy-MM-dd"):"",onChange:u,min:e?qt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:d,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},Yye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState("stock sold"),[l,c]=F.useState(""),[u,d]=F.useState(""),[h,p]=F.useState([]),[g,m]=F.useState(""),[v,y]=F.useState(!1),{isDarkMode:w}=an();F.useEffect(()=>{(async()=>{y(!0);try{let S=lr(wt(Xe,"inventory"),sr("barcode","==",e.barcode)),I=await ur(S);if(I.empty&&e.barcode){const N=String(e.barcode).trim();S=lr(wt(Xe,"inventory"),sr("barcode","==",N)),I=await ur(S)}I.empty&&e.name&&(S=lr(wt(Xe,"inventory"),sr("name","==",e.name)),I=await ur(S));const E=[];I.docs.forEach(N=>{const U=N.data();U.locationCode&&U.shelfNumber&&(U.quantity||0)>0&&E.push({locationCode:String(U.locationCode).trim(),shelfNumber:String(U.shelfNumber).trim(),quantity:Number(U.quantity)||0,storeName:(U.storeName?String(U.storeName):"Unknown").trim()})});const C=E.filter((N,U,X)=>U===X.findIndex(z=>z.locationCode===N.locationCode&&z.shelfNumber===N.shelfNumber)).sort((N,U)=>N.locationCode.localeCompare(U.locationCode));if(p(C),C.length>0){const N=C[0];m(`${N.locationCode}-${N.shelfNumber}`),d(N.storeName)}}catch(S){console.error("Error fetching locations:",S)}finally{y(!1)}})()},[e.barcode]);const b=_=>{if(m(_),_){const[S,I]=_.split("-"),E=h.find(C=>String(C.locationCode)===String(S)&&String(C.shelfNumber)===String(I));E&&d(E.storeName)}},D=async _=>{_.preventDefault();const S=Number(a);if(!a||S<0)return;const I=O();if(S>I||!g)return;const E=s==="other"?l:s,C=u.trim(),[N,U]=g.split("-");await t({id:e.id,quantity:e.quantity-S,reason:E,storeName:C,locationCode:N,shelfNumber:U})},O=()=>{if(!g)return e.quantity;const[_,S]=g.split("-"),I=h.find(E=>String(E.locationCode)===String(_)&&String(E.shelfNumber)===String(S));return I?I.quantity:e.quantity},T=(()=>{const _=Number(a);if(!a||_<0)return"Quantity to deduct must be 0 or greater";const S=O();return _>S?`Cannot deduct more than current stock at selected location (${S} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":g?null:"Please select a location":"Please select a reason"})();return f.jsxs("form",{onSubmit:D,className:`space-y-6 ${w?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${w?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${w?"text-white":"text-gray-900"}`,children:e.name}),f.jsx("p",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:g&&f.jsxs("span",{className:` ${w?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",O()," units"]})}),f.jsxs("p",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),v?f.jsxs("div",{className:`flex items-center gap-2 text-sm ${w?"text-slate-400":"text-slate-500"}`,children:[f.jsx(gs,{size:16,className:"animate-spin"}),"Loading locations..."]}):h.length>0?f.jsx(Jr,{id:"location",value:g,onChange:_=>b(_.target.value),required:!0,options:[{value:"",label:"Select a location"},...h.map(_=>{var S;return{value:`${_.locationCode}-${_.shelfNumber}`,label:`${_.locationCode} - Shelf ${_.shelfNumber} (${_.quantity} units) - ${(S=_.storeName)==null?void 0:S.toUpperCase()}`}})],className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}):f.jsx("div",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:"No locations with available stock found for this product"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(jt,{id:"deductQuantity",type:"number",min:"0",max:O(),value:a,onChange:_=>i(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}),g&&f.jsxs("p",{className:`text-xs ${w?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",O()," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(Jr,{id:"reason",value:s,onChange:_=>o(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(jt,{id:"otherReason",type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Enter the reason",required:!0,className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),g&&u&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsxs("div",{className:`p-3 rounded-lg ${w?"bg-slate-700 border-slate-600":"bg-slate-100 border-slate-300"} border`,children:[f.jsx("span",{className:`text-sm font-medium ${w?"text-slate-200":"text-slate-800"}`,children:u==null?void 0:u.toUpperCase()}),f.jsx("p",{className:`text-xs ${w?"text-slate-400":"text-slate-500"} mt-1`,children:"Automatically selected based on location"})]})]}),T?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${w?"text-red-400":"text-red-600"}`,children:[f.jsx(ah,{size:16}),f.jsx("span",{children:T})]}):f.jsx("p",{className:`text-xs ${w?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(nt,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),f.jsx(nt,{type:"submit",disabled:n||!!T,className:"min-w-[100px]",children:n?f.jsxs(f.Fragment,{children:[f.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Xye=({isOpen:e,onClose:t})=>{const[r,n]=F.useState("0"),[a,i]=F.useState(null),[s,o]=F.useState(null),[l,c]=F.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},d=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const w=parseFloat(r);if(a===null)i(w);else if(s){const D=g(a||0,w,s);n(String(D)),i(D)}c(!0),o(y)},g=(y,w,b)=>{switch(b){case"+":return y+w;case"-":return y-w;case"×":return y*w;case"÷":return y/w;default:return w}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"±",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"÷",onClick:()=>p("÷"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>d("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>d("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>d("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"×",onClick:()=>p("×"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>d("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>d("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>d("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>d("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>d("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>d("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>d("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),w=g(a,y,s);n(String(w)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return f.jsx(fn,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[f.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&f.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,w)=>f.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},w))}),f.jsx("div",{className:"pt-2",children:f.jsx(nt,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function Qq(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Qq(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function un(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Qq(e))&&(n&&(n+=" "),n+=t);return n}var Qye=Array.isArray,Vs=Qye,Jye=typeof lg=="object"&&lg&&lg.Object===Object&&lg,Jq=Jye,Zye=Jq,exe=typeof self=="object"&&self&&self.Object===Object&&self,txe=Zye||exe||Function("return this")(),fc=txe,rxe=fc,nxe=rxe.Symbol,oy=nxe,v8=oy,Zq=Object.prototype,axe=Zq.hasOwnProperty,ixe=Zq.toString,Xm=v8?v8.toStringTag:void 0;function sxe(e){var t=axe.call(e,Xm),r=e[Xm];try{e[Xm]=void 0;var n=!0}catch{}var a=ixe.call(e);return n&&(t?e[Xm]=r:delete e[Xm]),a}var oxe=sxe,lxe=Object.prototype,cxe=lxe.toString;function uxe(e){return cxe.call(e)}var fxe=uxe,y8=oy,dxe=oxe,hxe=fxe,pxe="[object Null]",mxe="[object Undefined]",x8=y8?y8.toStringTag:void 0;function gxe(e){return e==null?e===void 0?mxe:pxe:x8&&x8 in Object(e)?dxe(e):hxe(e)}var gu=gxe;function vxe(e){return e!=null&&typeof e=="object"}var vu=vxe,yxe=gu,xxe=vu,bxe="[object Symbol]";function wxe(e){return typeof e=="symbol"||xxe(e)&&yxe(e)==bxe}var fm=wxe,_xe=Vs,Sxe=fm,Axe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Txe=/^\w*$/;function Exe(e,t){if(_xe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Sxe(e)?!0:Txe.test(e)||!Axe.test(e)||t!=null&&e in Object(t)}var bC=Exe;function Nxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zf=Nxe;const dm=kn(Zf);var kxe=gu,Cxe=Zf,Pxe="[object AsyncFunction]",jxe="[object Function]",Oxe="[object GeneratorFunction]",Ixe="[object Proxy]";function Dxe(e){if(!Cxe(e))return!1;var t=kxe(e);return t==jxe||t==Oxe||t==Pxe||t==Ixe}var wC=Dxe;const Br=kn(wC);var Lxe=fc,Mxe=Lxe["__core-js_shared__"],Rxe=Mxe,GS=Rxe,b8=function(){var e=/[^.]+$/.exec(GS&&GS.keys&&GS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Fxe(e){return!!b8&&b8 in e}var $xe=Fxe,Bxe=Function.prototype,Uxe=Bxe.toString;function Vxe(e){if(e!=null){try{return Uxe.call(e)}catch{}try{return e+""}catch{}}return""}var eW=Vxe,zxe=wC,qxe=$xe,Wxe=Zf,Hxe=eW,Gxe=/[\\^$.*+?()[\]{}|]/g,Kxe=/^\[object .+?Constructor\]$/,Yxe=Function.prototype,Xxe=Object.prototype,Qxe=Yxe.toString,Jxe=Xxe.hasOwnProperty,Zxe=RegExp("^"+Qxe.call(Jxe).replace(Gxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e2e(e){if(!Wxe(e)||qxe(e))return!1;var t=zxe(e)?Zxe:Kxe;return t.test(Hxe(e))}var t2e=e2e;function r2e(e,t){return e==null?void 0:e[t]}var n2e=r2e,a2e=t2e,i2e=n2e;function s2e(e,t){var r=i2e(e,t);return a2e(r)?r:void 0}var Ch=s2e,o2e=Ch,l2e=o2e(Object,"create"),N5=l2e,w8=N5;function c2e(){this.__data__=w8?w8(null):{},this.size=0}var u2e=c2e;function f2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var d2e=f2e,h2e=N5,p2e="__lodash_hash_undefined__",m2e=Object.prototype,g2e=m2e.hasOwnProperty;function v2e(e){var t=this.__data__;if(h2e){var r=t[e];return r===p2e?void 0:r}return g2e.call(t,e)?t[e]:void 0}var y2e=v2e,x2e=N5,b2e=Object.prototype,w2e=b2e.hasOwnProperty;function _2e(e){var t=this.__data__;return x2e?t[e]!==void 0:w2e.call(t,e)}var S2e=_2e,A2e=N5,T2e="__lodash_hash_undefined__";function E2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=A2e&&t===void 0?T2e:t,this}var N2e=E2e,k2e=u2e,C2e=d2e,P2e=y2e,j2e=S2e,O2e=N2e;function hm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hm.prototype.clear=k2e;hm.prototype.delete=C2e;hm.prototype.get=P2e;hm.prototype.has=j2e;hm.prototype.set=O2e;var I2e=hm;function D2e(){this.__data__=[],this.size=0}var L2e=D2e;function M2e(e,t){return e===t||e!==e&&t!==t}var _C=M2e,R2e=_C;function F2e(e,t){for(var r=e.length;r--;)if(R2e(e[r][0],t))return r;return-1}var k5=F2e,$2e=k5,B2e=Array.prototype,U2e=B2e.splice;function V2e(e){var t=this.__data__,r=$2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():U2e.call(t,r,1),--this.size,!0}var z2e=V2e,q2e=k5;function W2e(e){var t=this.__data__,r=q2e(t,e);return r<0?void 0:t[r][1]}var H2e=W2e,G2e=k5;function K2e(e){return G2e(this.__data__,e)>-1}var Y2e=K2e,X2e=k5;function Q2e(e,t){var r=this.__data__,n=X2e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var J2e=Q2e,Z2e=L2e,ebe=z2e,tbe=H2e,rbe=Y2e,nbe=J2e;function pm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pm.prototype.clear=Z2e;pm.prototype.delete=ebe;pm.prototype.get=tbe;pm.prototype.has=rbe;pm.prototype.set=nbe;var C5=pm,abe=Ch,ibe=fc,sbe=abe(ibe,"Map"),SC=sbe,_8=I2e,obe=C5,lbe=SC;function cbe(){this.size=0,this.__data__={hash:new _8,map:new(lbe||obe),string:new _8}}var ube=cbe;function fbe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dbe=fbe,hbe=dbe;function pbe(e,t){var r=e.__data__;return hbe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var P5=pbe,mbe=P5;function gbe(e){var t=mbe(this,e).delete(e);return this.size-=t?1:0,t}var vbe=gbe,ybe=P5;function xbe(e){return ybe(this,e).get(e)}var bbe=xbe,wbe=P5;function _be(e){return wbe(this,e).has(e)}var Sbe=_be,Abe=P5;function Tbe(e,t){var r=Abe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ebe=Tbe,Nbe=ube,kbe=vbe,Cbe=bbe,Pbe=Sbe,jbe=Ebe;function mm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mm.prototype.clear=Nbe;mm.prototype.delete=kbe;mm.prototype.get=Cbe;mm.prototype.has=Pbe;mm.prototype.set=jbe;var AC=mm,tW=AC,Obe="Expected a function";function TC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Obe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(TC.Cache||tW),r}TC.Cache=tW;var rW=TC;const Ibe=kn(rW);var Dbe=rW,Lbe=500;function Mbe(e){var t=Dbe(e,function(n){return r.size===Lbe&&r.clear(),n}),r=t.cache;return t}var Rbe=Mbe,Fbe=Rbe,$be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bbe=/\\(\\)?/g,Ube=Fbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($be,function(r,n,a,i){t.push(a?i.replace(Bbe,"$1"):n||r)}),t}),Vbe=Ube;function zbe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var EC=zbe,S8=oy,qbe=EC,Wbe=Vs,Hbe=fm,Gbe=1/0,A8=S8?S8.prototype:void 0,T8=A8?A8.toString:void 0;function nW(e){if(typeof e=="string")return e;if(Wbe(e))return qbe(e,nW)+"";if(Hbe(e))return T8?T8.call(e):"";var t=e+"";return t=="0"&&1/e==-Gbe?"-0":t}var Kbe=nW,Ybe=Kbe;function Xbe(e){return e==null?"":Ybe(e)}var aW=Xbe,Qbe=Vs,Jbe=bC,Zbe=Vbe,ewe=aW;function twe(e,t){return Qbe(e)?e:Jbe(e,t)?[e]:Zbe(ewe(e))}var iW=twe,rwe=fm,nwe=1/0;function awe(e){if(typeof e=="string"||rwe(e))return e;var t=e+"";return t=="0"&&1/e==-nwe?"-0":t}var j5=awe,iwe=iW,swe=j5;function owe(e,t){t=iwe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[swe(t[r++])];return r&&r==n?e:void 0}var NC=owe,lwe=NC;function cwe(e,t,r){var n=e==null?void 0:lwe(e,t);return n===void 0?r:n}var sW=cwe;const Ro=kn(sW);function uwe(e){return e==null}var fwe=uwe;const zr=kn(fwe);var dwe=gu,hwe=Vs,pwe=vu,mwe="[object String]";function gwe(e){return typeof e=="string"||!hwe(e)&&pwe(e)&&dwe(e)==mwe}var vwe=gwe;const dh=kn(vwe);var oW={exports:{}},Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=Symbol.for("react.element"),CC=Symbol.for("react.portal"),O5=Symbol.for("react.fragment"),I5=Symbol.for("react.strict_mode"),D5=Symbol.for("react.profiler"),L5=Symbol.for("react.provider"),M5=Symbol.for("react.context"),ywe=Symbol.for("react.server_context"),R5=Symbol.for("react.forward_ref"),F5=Symbol.for("react.suspense"),$5=Symbol.for("react.suspense_list"),B5=Symbol.for("react.memo"),U5=Symbol.for("react.lazy"),xwe=Symbol.for("react.offscreen"),lW;lW=Symbol.for("react.module.reference");function Ho(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kC:switch(e=e.type,e){case O5:case D5:case I5:case F5:case $5:return e;default:switch(e=e&&e.$$typeof,e){case ywe:case M5:case R5:case U5:case B5:case L5:return e;default:return t}}case CC:return t}}}Sn.ContextConsumer=M5;Sn.ContextProvider=L5;Sn.Element=kC;Sn.ForwardRef=R5;Sn.Fragment=O5;Sn.Lazy=U5;Sn.Memo=B5;Sn.Portal=CC;Sn.Profiler=D5;Sn.StrictMode=I5;Sn.Suspense=F5;Sn.SuspenseList=$5;Sn.isAsyncMode=function(){return!1};Sn.isConcurrentMode=function(){return!1};Sn.isContextConsumer=function(e){return Ho(e)===M5};Sn.isContextProvider=function(e){return Ho(e)===L5};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kC};Sn.isForwardRef=function(e){return Ho(e)===R5};Sn.isFragment=function(e){return Ho(e)===O5};Sn.isLazy=function(e){return Ho(e)===U5};Sn.isMemo=function(e){return Ho(e)===B5};Sn.isPortal=function(e){return Ho(e)===CC};Sn.isProfiler=function(e){return Ho(e)===D5};Sn.isStrictMode=function(e){return Ho(e)===I5};Sn.isSuspense=function(e){return Ho(e)===F5};Sn.isSuspenseList=function(e){return Ho(e)===$5};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===O5||e===D5||e===I5||e===F5||e===$5||e===xwe||typeof e=="object"&&e!==null&&(e.$$typeof===U5||e.$$typeof===B5||e.$$typeof===L5||e.$$typeof===M5||e.$$typeof===R5||e.$$typeof===lW||e.getModuleId!==void 0)};Sn.typeOf=Ho;oW.exports=Sn;var bwe=oW.exports,wwe=gu,_we=vu,Swe="[object Number]";function Awe(e){return typeof e=="number"||_we(e)&&wwe(e)==Swe}var cW=Awe;const Twe=kn(cW);var Ewe=cW;function Nwe(e){return Ewe(e)&&e!=+e}var kwe=Nwe;const ly=kn(kwe);var bl=function(t){return t===0?0:t>0?1:-1},Fd=function(t){return dh(t)&&t.indexOf("%")===t.length-1},Ut=function(t){return Twe(t)&&!ly(t)},Cwe=function(t){return zr(t)},Ya=function(t){return Ut(t)||dh(t)},Pwe=0,cy=function(t){var r=++Pwe;return"".concat(t||"").concat(r)},hh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ut(t)&&!dh(t))return n;var i;if(Fd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ly(i)&&(i=n),a&&i>r&&(i=r),i},af=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},jwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},pl=function(t,r){return Ut(t)&&Ut(r)?function(n){return t+n*(r-t)}:function(){return r}};function Cb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ro(n,t))===r})}var Owe=function(t,r){return Ut(t)&&Ut(r)?t-r:dh(t)&&dh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function H0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function R3(e){"@babel/helpers - typeof";return R3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R3(e)}var Iwe=["viewBox","children"],Dwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],E8=["points","pathLength"],KS={svg:Iwe,polygon:E8,polyline:E8},PC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),!dm(n))return null;var a={};return Object.keys(n).forEach(function(i){PC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Lwe=function(t,r,n){return function(a){return t(r,n,a),null}},jb=function(t,r,n){if(!dm(t)||R3(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];PC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Lwe(s,r,n))}),a},Mwe=["children"],Rwe=["children"];function N8(e,t){if(e==null)return{};var r=Fwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F3(e){"@babel/helpers - typeof";return F3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F3(e)}var k8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},C8=null,YS=null,jC=function e(t){if(t===C8&&Array.isArray(YS))return YS;var r=[];return F.Children.forEach(t,function(n){zr(n)||(bwe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),YS=r,C8=t,r};function Fo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Vc(a)}):n=[Vc(t)],jC(e).forEach(function(a){var i=Ro(a,"type.displayName")||Ro(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function eo(e,t){var r=Fo(e,t);return r&&r[0]}var P8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ut(n)||n<=0||!Ut(a)||a<=0)},$we=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bwe=function(t){return t&&t.type&&dh(t.type)&&$we.indexOf(t.type)>=0},Uwe=function(t){return t&&F3(t)==="object"&&"clipDot"in t},Vwe=function(t,r,n,a){var i,s=(i=KS==null?void 0:KS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Br(t)&&(a&&s.includes(r)||Dwe.includes(r))||n&&PC.includes(r)},Zr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(F.isValidElement(t)&&(a=t.props),!dm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Vwe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},$3=function e(t,r){if(t===r)return!0;var n=F.Children.count(t);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return j8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!j8(i,s))return!1}return!0},j8=function(t,r){if(zr(t)&&zr(r))return!0;if(!zr(t)&&!zr(r)){var n=t.props||{},a=n.children,i=N8(n,Mwe),s=r.props||{},o=s.children,l=N8(s,Rwe);return a&&o?H0(i,l)&&$3(a,o):!a&&!o?H0(i,l):!1}return!1},O8=function(t,r){var n=[],a={};return jC(t).forEach(function(i,s){if(Bwe(i))n.push(i);else if(i){var o=Vc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var d=c(i,o,s);n.push(d),a[o]=!0}}}),n},zwe=function(t){var r=t&&t.type;return r&&k8[r]?k8[r]:null},qwe=function(t,r){return jC(r).indexOf(t)},Wwe=["children","width","height","viewBox","className","style","title","desc"];function B3(){return B3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B3.apply(this,arguments)}function Hwe(e,t){if(e==null)return{};var r=Gwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U3(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Hwe(e,Wwe),u=a||{width:r,height:n,x:0,y:0},d=un("recharts-surface",i);return Ue.createElement("svg",B3({},Zr(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ue.createElement("title",null,o),Ue.createElement("desc",null,l),t)}var Kwe=["children","className"];function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}function Ywe(e,t){if(e==null)return{};var r=Xwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ta=Ue.forwardRef(function(e,t){var r=e.children,n=e.className,a=Ywe(e,Kwe),i=un("recharts-layer",n);return Ue.createElement("g",V3({className:i},Zr(a,!0),{ref:t}),r)}),zc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Qwe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Jwe=Qwe,Zwe=Jwe;function e5e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Zwe(e,t,r)}var t5e=e5e,r5e="\\ud800-\\udfff",n5e="\\u0300-\\u036f",a5e="\\ufe20-\\ufe2f",i5e="\\u20d0-\\u20ff",s5e=n5e+a5e+i5e,o5e="\\ufe0e\\ufe0f",l5e="\\u200d",c5e=RegExp("["+l5e+r5e+s5e+o5e+"]");function u5e(e){return c5e.test(e)}var uW=u5e;function f5e(e){return e.split("")}var d5e=f5e,fW="\\ud800-\\udfff",h5e="\\u0300-\\u036f",p5e="\\ufe20-\\ufe2f",m5e="\\u20d0-\\u20ff",g5e=h5e+p5e+m5e,v5e="\\ufe0e\\ufe0f",y5e="["+fW+"]",z3="["+g5e+"]",q3="\\ud83c[\\udffb-\\udfff]",x5e="(?:"+z3+"|"+q3+")",dW="[^"+fW+"]",hW="(?:\\ud83c[\\udde6-\\uddff]){2}",pW="[\\ud800-\\udbff][\\udc00-\\udfff]",b5e="\\u200d",mW=x5e+"?",gW="["+v5e+"]?",w5e="(?:"+b5e+"(?:"+[dW,hW,pW].join("|")+")"+gW+mW+")*",_5e=gW+mW+w5e,S5e="(?:"+[dW+z3+"?",z3,hW,pW,y5e].join("|")+")",A5e=RegExp(q3+"(?="+q3+")|"+S5e+_5e,"g");function T5e(e){return e.match(A5e)||[]}var E5e=T5e,N5e=d5e,k5e=uW,C5e=E5e;function P5e(e){return k5e(e)?C5e(e):N5e(e)}var j5e=P5e,O5e=t5e,I5e=uW,D5e=j5e,L5e=aW;function M5e(e){return function(t){t=L5e(t);var r=I5e(t)?D5e(t):void 0,n=r?r[0]:t.charAt(0),a=r?O5e(r,1).join(""):t.slice(1);return n[e]()+a}}var R5e=M5e,F5e=R5e,$5e=F5e("toUpperCase"),B5e=$5e;const V5=kn(B5e);function Un(e){return function(){return e}}const vW=Math.cos,Ob=Math.sin,Cl=Math.sqrt,Ib=Math.PI,z5=2*Ib,W3=Math.PI,H3=2*W3,Td=1e-6,U5e=H3-Td;function yW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function V5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class z5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yW:V5e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,d=o-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Td)if(!(Math.abs(d*l-c*u)>Td)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),w=Math.sqrt(h),b=i*Math.tan((W3-Math.acos((m+h-v)/(2*y*w)))/2),D=b/w,O=b/y;Math.abs(D-1)>Td&&this._append`L${t+D*u},${r+D*d}`,this._append`A${i},${i},0,0,${+(d*p>u*g)},${this._x1=t+O*l},${this._y1=r+O*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Td||Math.abs(this._y1-u)>Td)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%H3+H3),h>U5e?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Td&&this._append`A${n},${n},0,${+(h>=W3)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function OC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new z5e(t)}function IC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xW(e){this._context=e}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q5(e){return new xW(e)}function bW(e){return e[0]}function wW(e){return e[1]}function _W(e,t){var r=Un(!0),n=null,a=q5,i=null,s=OC(o);e=typeof e=="function"?e:e===void 0?bW:Un(e),t=typeof t=="function"?t:t===void 0?wW:Un(t);function o(l){var c,u=(l=IC(l)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Un(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Un(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Un(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Ax(e,t,r){var n=null,a=Un(!0),i=null,s=q5,o=null,l=OC(c);e=typeof e=="function"?e:e===void 0?bW:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wW:Un(+r);function c(d){var h,p,g,m=(d=IC(d)).length,v,y=!1,w,b=new Array(m),D=new Array(m);for(i==null&&(o=s(w=l())),h=0;h<=m;++h){if(!(h<m&&a(v=d[h],h,d))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],D[g]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+e(v,h,d),D[h]=+t(v,h,d),o.point(n?+n(v,h,d):b[h],r?+r(v,h,d):D[h]))}if(w)return o=null,w+""||null}function u(){return _W().defined(a).curve(s).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Un(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Un(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Un(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),c):s},c.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),c):i},c}class SW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function q5e(e){return new SW(e,!0)}function W5e(e){return new SW(e,!1)}const DC={draw(e,t){const r=Cl(t/Ib);e.moveTo(r,0),e.arc(0,0,r,0,z5)}},H5e={draw(e,t){const r=Cl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},AW=Cl(1/3),G5e=AW*2,K5e={draw(e,t){const r=Cl(t/G5e),n=r*AW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Y5e={draw(e,t){const r=Cl(t),n=-r/2;e.rect(n,n,r,r)}},X5e=.8908130915292852,TW=Ob(Ib/10)/Ob(7*Ib/10),Q5e=Ob(z5/10)*TW,J5e=-vW(z5/10)*TW,Z5e={draw(e,t){const r=Cl(t*X5e),n=Q5e*r,a=J5e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=z5*i/5,o=vW(s),l=Ob(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},XS=Cl(3),e_e={draw(e,t){const r=-Cl(t/(XS*3));e.moveTo(0,r*2),e.lineTo(-XS*r,-r),e.lineTo(XS*r,-r),e.closePath()}},Ao=-.5,To=Cl(3)/2,G3=1/Cl(12),t_e=(G3/2+1)*3,r_e={draw(e,t){const r=Cl(t/t_e),n=r/2,a=r*G3,i=n,s=r*G3+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Ao*n-To*a,To*n+Ao*a),e.lineTo(Ao*i-To*s,To*i+Ao*s),e.lineTo(Ao*o-To*l,To*o+Ao*l),e.lineTo(Ao*n+To*a,Ao*a-To*n),e.lineTo(Ao*i+To*s,Ao*s-To*i),e.lineTo(Ao*o+To*l,Ao*l-To*o),e.closePath()}};function n_e(e,t){let r=null,n=OC(a);e=typeof e=="function"?e:Un(e||DC),t=typeof t=="function"?t:Un(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Un(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Un(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Db(){}function Lb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function EW(e){this._context=e}EW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a_e(e){return new EW(e)}function NW(e){this._context=e}NW.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i_e(e){return new NW(e)}function kW(e){this._context=e}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s_e(e){return new kW(e)}function CW(e){this._context=e}CW.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function o_e(e){return new CW(e)}function I8(e){return e<0?-1:1}function D8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(I8(i)+I8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function L8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function QS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Mb(e){this._context=e}Mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:QS(this,this._t0,L8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,QS(this,L8(this,r=D8(this,e,t)),r);break;default:QS(this,this._t0,r=D8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PW(e){this._context=new jW(e)}(PW.prototype=Object.create(Mb.prototype)).point=function(e,t){Mb.prototype.point.call(this,t,e)};function jW(e){this._context=e}jW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function l_e(e){return new Mb(e)}function c_e(e){return new PW(e)}function OW(e){this._context=e}OW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=M8(e),a=M8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function M8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function u_e(e){return new OW(e)}function W5(e,t){this._context=e,this._t=t}W5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function f_e(e){return new W5(e,.5)}function d_e(e){return new W5(e,0)}function h_e(e){return new W5(e,1)}function Sp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function K3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function p_e(e,t){return e[t]}function m_e(e){const t=[];return t.key=e,t}function g_e(){var e=Un([]),t=K3,r=Sp,n=p_e;function a(i){var s=Array.from(e.apply(this,arguments),m_e),o,l=s.length,c=-1,u;for(const d of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(d,s[o].key,c,i)]).data=d;for(o=0,u=IC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Un(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Un(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?K3:typeof i=="function"?i:Un(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Sp,a):r},a}function v_e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Sp(e,t)}}function y_e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Sp(e,t)}}function x_e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Sp(e,t)}}function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}var b_e=["type","size","sizeType"];function Y3(){return Y3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y3.apply(this,arguments)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){w_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w_e(e,t,r){return t=__e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function __e(e){var t=S_e(e,"string");return Zv(t)=="symbol"?t:t+""}function S_e(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_e(e,t){if(e==null)return{};var r=T_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IW={symbolCircle:DC,symbolCross:H5e,symbolDiamond:K5e,symbolSquare:Y5e,symbolStar:Z5e,symbolTriangle:e_e,symbolWye:r_e},E_e=Math.PI/180,N_e=function(t){var r="symbol".concat(V5(t));return IW[r]||DC},k_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*E_e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},C_e=function(t,r){IW["symbol".concat(V5(t))]=r},LC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=A_e(t,b_e),c=F8(F8({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=N_e(n),y=n_e().type(v).size(k_e(i,o,n));return y()},d=c.className,h=c.cx,p=c.cy,g=Zr(c,!0);return h===+h&&p===+p&&i===+i?Ue.createElement("path",Y3({},g,{className:un("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};LC.registerSymbol=C_e;function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X3.apply(this,arguments)}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){e1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LW(n.key),n)}}function I_e(e,t,r){return t&&O_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D_e(e,t,r){return t=Rb(t),L_e(e,DW()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function L_e(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M_e(e)}function M_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function R_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q3(e,t)}function Q3(e,t){return Q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q3(e,t)}function e1(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=F_e(e,"string");return Ap(t)=="symbol"?t:t+""}function F_e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eo=32,MC=function(e){function t(){return j_e(this,t),D_e(this,t,arguments)}return R_e(t,e),I_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Eo/2,s=Eo/6,o=Eo/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Eo,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Eo,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Eo/8,"h").concat(Eo,"v").concat(Eo*3/4,"h").concat(-Eo,"z"),className:"recharts-legend-icon"});if(Ue.isValidElement(n.legendIcon)){var c=P_e({},n);return delete c.legendIcon,Ue.cloneElement(n.legendIcon,c)}return Ue.createElement(LC,{fill:l,cx:i,cy:i,size:Eo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Eo,height:Eo},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=un(e1(e1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Br(p.value)?null:p.value;zc(!Br(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return Ue.createElement("li",X3({className:v,style:d,key:"legend-item-".concat(g)},jb(n.props,p,g)),Ue.createElement(U3,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),Ue.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ue.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(F.PureComponent);e1(MC,"displayName","Legend");e1(MC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $_e=C5;function B_e(){this.__data__=new $_e,this.size=0}var U_e=B_e;function V_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var z_e=V_e;function q_e(e){return this.__data__.get(e)}var W_e=q_e;function H_e(e){return this.__data__.has(e)}var G_e=H_e,K_e=C5,Y_e=SC,X_e=AC,Q_e=200;function J_e(e,t){var r=this.__data__;if(r instanceof K_e){var n=r.__data__;if(!Y_e||n.length<Q_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new X_e(n)}return r.set(e,t),this.size=r.size,this}var Z_e=J_e,eSe=C5,tSe=U_e,rSe=z_e,nSe=W_e,aSe=G_e,iSe=Z_e;function gm(e){var t=this.__data__=new eSe(e);this.size=t.size}gm.prototype.clear=tSe;gm.prototype.delete=rSe;gm.prototype.get=nSe;gm.prototype.has=aSe;gm.prototype.set=iSe;var MW=gm,sSe="__lodash_hash_undefined__";function oSe(e){return this.__data__.set(e,sSe),this}var lSe=oSe;function cSe(e){return this.__data__.has(e)}var uSe=cSe,fSe=AC,dSe=lSe,hSe=uSe;function Fb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new fSe;++t<r;)this.add(e[t])}Fb.prototype.add=Fb.prototype.push=dSe;Fb.prototype.has=hSe;var RW=Fb;function pSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var FW=pSe;function mSe(e,t){return e.has(t)}var $W=mSe,gSe=RW,vSe=FW,ySe=$W,xSe=1,bSe=2;function wSe(e,t,r,n,a,i){var s=r&xSe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=r&bSe?new gSe:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var g=e[d],m=t[d];if(n)var v=s?n(m,g,d,t,e,i):n(g,m,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!vSe(t,function(y,w){if(!ySe(p,w)&&(g===y||a(g,y,r,n,i)))return p.push(w)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var BW=wSe,_Se=fc,SSe=_Se.Uint8Array,ASe=SSe;function TSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var ESe=TSe;function NSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var RC=NSe,B8=oy,U8=ASe,kSe=_C,CSe=BW,PSe=ESe,jSe=RC,OSe=1,ISe=2,DSe="[object Boolean]",LSe="[object Date]",MSe="[object Error]",RSe="[object Map]",FSe="[object Number]",$Se="[object RegExp]",BSe="[object Set]",USe="[object String]",VSe="[object Symbol]",zSe="[object ArrayBuffer]",qSe="[object DataView]",V8=B8?B8.prototype:void 0,JS=V8?V8.valueOf:void 0;function WSe(e,t,r,n,a,i,s){switch(r){case qSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zSe:return!(e.byteLength!=t.byteLength||!i(new U8(e),new U8(t)));case DSe:case LSe:case FSe:return kSe(+e,+t);case MSe:return e.name==t.name&&e.message==t.message;case $Se:case USe:return e==t+"";case RSe:var o=PSe;case BSe:var l=n&OSe;if(o||(o=jSe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=ISe,s.set(e,t);var u=CSe(o(e),o(t),n,a,i,s);return s.delete(e),u;case VSe:if(JS)return JS.call(e)==JS.call(t)}return!1}var HSe=WSe;function GSe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var UW=GSe,KSe=UW,YSe=Vs;function XSe(e,t,r){var n=t(e);return YSe(e)?n:KSe(n,r(e))}var QSe=XSe;function JSe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var ZSe=JSe;function eAe(){return[]}var tAe=eAe,rAe=ZSe,nAe=tAe,aAe=Object.prototype,iAe=aAe.propertyIsEnumerable,z8=Object.getOwnPropertySymbols,sAe=z8?function(e){return e==null?[]:(e=Object(e),rAe(z8(e),function(t){return iAe.call(e,t)}))}:nAe,oAe=sAe;function lAe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cAe=lAe,uAe=gu,fAe=vu,dAe="[object Arguments]";function hAe(e){return fAe(e)&&uAe(e)==dAe}var pAe=hAe,q8=pAe,mAe=vu,VW=Object.prototype,gAe=VW.hasOwnProperty,vAe=VW.propertyIsEnumerable,yAe=q8(function(){return arguments}())?q8:function(e){return mAe(e)&&gAe.call(e,"callee")&&!vAe.call(e,"callee")},FC=yAe,$b={exports:{}};function xAe(){return!1}var bAe=xAe;$b.exports;(function(e,t){var r=fc,n=bAe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})($b,$b.exports);var zW=$b.exports,wAe=9007199254740991,_Ae=/^(?:0|[1-9]\d*)$/;function SAe(e,t){var r=typeof e;return t=t??wAe,!!t&&(r=="number"||r!="symbol"&&_Ae.test(e))&&e>-1&&e%1==0&&e<t}var $C=SAe,AAe=9007199254740991;function TAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=AAe}var BC=TAe,EAe=gu,NAe=BC,kAe=vu,CAe="[object Arguments]",PAe="[object Array]",jAe="[object Boolean]",OAe="[object Date]",IAe="[object Error]",DAe="[object Function]",LAe="[object Map]",MAe="[object Number]",RAe="[object Object]",FAe="[object RegExp]",$Ae="[object Set]",BAe="[object String]",UAe="[object WeakMap]",VAe="[object ArrayBuffer]",zAe="[object DataView]",qAe="[object Float32Array]",WAe="[object Float64Array]",HAe="[object Int8Array]",GAe="[object Int16Array]",KAe="[object Int32Array]",YAe="[object Uint8Array]",XAe="[object Uint8ClampedArray]",QAe="[object Uint16Array]",JAe="[object Uint32Array]",Kn={};Kn[qAe]=Kn[WAe]=Kn[HAe]=Kn[GAe]=Kn[KAe]=Kn[YAe]=Kn[XAe]=Kn[QAe]=Kn[JAe]=!0;Kn[CAe]=Kn[PAe]=Kn[VAe]=Kn[jAe]=Kn[zAe]=Kn[OAe]=Kn[IAe]=Kn[DAe]=Kn[LAe]=Kn[MAe]=Kn[RAe]=Kn[FAe]=Kn[$Ae]=Kn[BAe]=Kn[UAe]=!1;function ZAe(e){return kAe(e)&&NAe(e.length)&&!!Kn[EAe(e)]}var e4e=ZAe;function t4e(e){return function(t){return e(t)}}var qW=t4e,Bb={exports:{}};Bb.exports;(function(e,t){var r=Jq,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Bb,Bb.exports);var r4e=Bb.exports,n4e=e4e,a4e=qW,W8=r4e,H8=W8&&W8.isTypedArray,i4e=H8?a4e(H8):n4e,WW=i4e,s4e=cAe,o4e=FC,l4e=Vs,c4e=zW,u4e=$C,f4e=WW,d4e=Object.prototype,h4e=d4e.hasOwnProperty;function p4e(e,t){var r=l4e(e),n=!r&&o4e(e),a=!r&&!n&&c4e(e),i=!r&&!n&&!a&&f4e(e),s=r||n||a||i,o=s?s4e(e.length,String):[],l=o.length;for(var c in e)(t||h4e.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||u4e(c,l)))&&o.push(c);return o}var m4e=p4e,g4e=Object.prototype;function v4e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||g4e;return e===r}var y4e=v4e;function x4e(e,t){return function(r){return e(t(r))}}var HW=x4e,b4e=HW,w4e=b4e(Object.keys,Object),_4e=w4e,S4e=y4e,A4e=_4e,T4e=Object.prototype,E4e=T4e.hasOwnProperty;function N4e(e){if(!S4e(e))return A4e(e);var t=[];for(var r in Object(e))E4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var k4e=N4e,C4e=wC,P4e=BC;function j4e(e){return e!=null&&P4e(e.length)&&!C4e(e)}var uy=j4e,O4e=m4e,I4e=k4e,D4e=uy;function L4e(e){return D4e(e)?O4e(e):I4e(e)}var H5=L4e,M4e=QSe,R4e=oAe,F4e=H5;function $4e(e){return M4e(e,F4e,R4e)}var B4e=$4e,G8=B4e,U4e=1,V4e=Object.prototype,z4e=V4e.hasOwnProperty;function q4e(e,t,r,n,a,i){var s=r&U4e,o=G8(e),l=o.length,c=G8(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in t:z4e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++d<l;){h=o[d];var y=e[h],w=t[h];if(n)var b=s?n(w,y,h,t,e,i):n(y,w,h,e,t,i);if(!(b===void 0?y===w||a(y,w,r,n,i):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var D=e.constructor,O=t.constructor;D!=O&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof O=="function"&&O instanceof O)&&(m=!1)}return i.delete(e),i.delete(t),m}var W4e=q4e,H4e=Ch,G4e=fc,K4e=H4e(G4e,"DataView"),Y4e=K4e,X4e=Ch,Q4e=fc,J4e=X4e(Q4e,"Promise"),Z4e=J4e,e3e=Ch,t3e=fc,r3e=e3e(t3e,"Set"),GW=r3e,n3e=Ch,a3e=fc,i3e=n3e(a3e,"WeakMap"),s3e=i3e,J3=Y4e,Z3=SC,eT=Z4e,tT=GW,rT=s3e,KW=gu,vm=eW,K8="[object Map]",o3e="[object Object]",Y8="[object Promise]",X8="[object Set]",Q8="[object WeakMap]",J8="[object DataView]",l3e=vm(J3),c3e=vm(Z3),u3e=vm(eT),f3e=vm(tT),d3e=vm(rT),Ed=KW;(J3&&Ed(new J3(new ArrayBuffer(1)))!=J8||Z3&&Ed(new Z3)!=K8||eT&&Ed(eT.resolve())!=Y8||tT&&Ed(new tT)!=X8||rT&&Ed(new rT)!=Q8)&&(Ed=function(e){var t=KW(e),r=t==o3e?e.constructor:void 0,n=r?vm(r):"";if(n)switch(n){case l3e:return J8;case c3e:return K8;case u3e:return Y8;case f3e:return X8;case d3e:return Q8}return t});var h3e=Ed,ZS=MW,p3e=BW,m3e=HSe,g3e=W4e,Z8=h3e,eL=Vs,tL=zW,v3e=WW,y3e=1,rL="[object Arguments]",nL="[object Array]",Tx="[object Object]",x3e=Object.prototype,aL=x3e.hasOwnProperty;function b3e(e,t,r,n,a,i){var s=eL(e),o=eL(t),l=s?nL:Z8(e),c=o?nL:Z8(t);l=l==rL?Tx:l,c=c==rL?Tx:c;var u=l==Tx,d=c==Tx,h=l==c;if(h&&tL(e)){if(!tL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new ZS),s||v3e(e)?p3e(e,t,r,n,a,i):m3e(e,t,l,r,n,a,i);if(!(r&y3e)){var p=u&&aL.call(e,"__wrapped__"),g=d&&aL.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new ZS),a(m,v,r,n,i)}}return h?(i||(i=new ZS),g3e(e,t,r,n,a,i)):!1}var w3e=b3e,_3e=w3e,iL=vu;function YW(e,t,r,n,a){return e===t?!0:e==null||t==null||!iL(e)&&!iL(t)?e!==e&&t!==t:_3e(e,t,r,n,YW,a)}var UC=YW,S3e=MW,A3e=UC,T3e=1,E3e=2;function N3e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new S3e;if(n)var h=n(c,u,l,e,t,d);if(!(h===void 0?A3e(u,c,T3e|E3e,n,d):h))return!1}}return!0}var k3e=N3e,C3e=Zf;function P3e(e){return e===e&&!C3e(e)}var XW=P3e,j3e=XW,O3e=H5;function I3e(e){for(var t=O3e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,j3e(a)]}return t}var D3e=I3e;function L3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var QW=L3e,M3e=k3e,R3e=D3e,F3e=QW;function $3e(e){var t=R3e(e);return t.length==1&&t[0][2]?F3e(t[0][0],t[0][1]):function(r){return r===e||M3e(r,e,t)}}var B3e=$3e;function U3e(e,t){return e!=null&&t in Object(e)}var V3e=U3e,z3e=iW,q3e=FC,W3e=Vs,H3e=$C,G3e=BC,K3e=j5;function Y3e(e,t,r){t=z3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=K3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&G3e(a)&&H3e(s,a)&&(W3e(e)||q3e(e)))}var X3e=Y3e,Q3e=V3e,J3e=X3e;function Z3e(e,t){return e!=null&&J3e(e,t,Q3e)}var eTe=Z3e,tTe=UC,rTe=sW,nTe=eTe,aTe=bC,iTe=XW,sTe=QW,oTe=j5,lTe=1,cTe=2;function uTe(e,t){return aTe(e)&&iTe(t)?sTe(oTe(e),t):function(r){var n=rTe(r,e);return n===void 0&&n===t?nTe(r,e):tTe(t,n,lTe|cTe)}}var fTe=uTe;function dTe(e){return e}var ym=dTe;function hTe(e){return function(t){return t==null?void 0:t[e]}}var pTe=hTe,mTe=NC;function gTe(e){return function(t){return mTe(t,e)}}var vTe=gTe,yTe=pTe,xTe=vTe,bTe=bC,wTe=j5;function _Te(e){return bTe(e)?yTe(wTe(e)):xTe(e)}var STe=_Te,ATe=B3e,TTe=fTe,ETe=ym,NTe=Vs,kTe=STe;function CTe(e){return typeof e=="function"?e:e==null?ETe:typeof e=="object"?NTe(e)?TTe(e[0],e[1]):ATe(e):kTe(e)}var ed=CTe;function PTe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var JW=PTe;function jTe(e){return e!==e}var OTe=jTe;function ITe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var DTe=ITe,LTe=JW,MTe=OTe,RTe=DTe;function FTe(e,t,r){return t===t?RTe(e,t,r):LTe(e,MTe,r)}var $Te=FTe,BTe=$Te;function UTe(e,t){var r=e==null?0:e.length;return!!r&&BTe(e,t,0)>-1}var VTe=UTe;function zTe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var qTe=zTe;function WTe(){}var HTe=WTe,eA=GW,GTe=HTe,KTe=RC,YTe=1/0,XTe=eA&&1/KTe(new eA([,-0]))[1]==YTe?function(e){return new eA(e)}:GTe,QTe=XTe,JTe=RW,ZTe=VTe,eEe=qTe,tEe=$W,rEe=QTe,nEe=RC,aEe=200;function iEe(e,t,r){var n=-1,a=ZTe,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=eEe;else if(i>=aEe){var c=t?null:rEe(e);if(c)return nEe(c);s=!1,a=tEe,l=new JTe}else l=t?[]:o;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else a(l,d,r)||(l!==o&&l.push(d),o.push(u))}return o}var sEe=iEe,oEe=ed,lEe=sEe;function cEe(e,t){return e&&e.length?lEe(e,oEe(t)):[]}var uEe=cEe;const sL=kn(uEe);function ZW(e,t,r){return t===!0?sL(e,r):Br(t)?sL(e,t):e}function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}var fEe=["ref"];function oL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(r),!0).forEach(function(n){G5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function hEe(e,t,r){return t&&lL(e.prototype,t),r&&lL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pEe(e,t,r){return t=Ub(t),mEe(e,eH()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function mEe(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gEe(e)}function gEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function vEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nT(e,t)}function nT(e,t){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nT(e,t)}function G5(e,t,r){return t=tH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=yEe(e,"string");return Tp(t)=="symbol"?t:t+""}function yEe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xEe(e,t){if(e==null)return{};var r=bEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wEe(e){return e.value}function _Ee(e,t){if(Ue.isValidElement(e))return Ue.cloneElement(e,t);if(typeof e=="function")return Ue.createElement(e,t);t.ref;var r=xEe(t,fEe);return Ue.createElement(MC,r)}var cL=1,$o=function(e){function t(){var r;dEe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pEe(this,t,[].concat(a)),G5(r,"lastBoundingBox",{width:-1,height:-1}),r}return vEe(t,e),hEe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>cL||Math.abs(a.height-this.lastBoundingBox.height)>cL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return kc(kc({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,d=kc(kc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ue.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},_Ee(i,kc(kc({},this.props),{},{payload:ZW(u,c,wEe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=kc(kc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Ut(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(F.PureComponent);G5($o,"displayName","Legend");G5($o,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uL=oy,SEe=FC,AEe=Vs,fL=uL?uL.isConcatSpreadable:void 0;function TEe(e){return AEe(e)||SEe(e)||!!(fL&&e&&e[fL])}var EEe=TEe,NEe=UW,kEe=EEe;function rH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=kEe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?rH(o,t-1,r,n,a):NEe(a,o):n||(a[a.length]=o)}return a}var nH=rH;function CEe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var PEe=CEe,jEe=PEe,OEe=jEe(),IEe=OEe,DEe=IEe,LEe=H5;function MEe(e,t){return e&&DEe(e,t,LEe)}var aH=MEe,REe=uy;function FEe(e,t){return function(r,n){if(r==null)return r;if(!REe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var $Ee=FEe,BEe=aH,UEe=$Ee,VEe=UEe(BEe),VC=VEe,zEe=VC,qEe=uy;function WEe(e,t){var r=-1,n=qEe(e)?Array(e.length):[];return zEe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var iH=WEe;function HEe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var GEe=HEe,dL=fm;function KEe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=dL(e),s=t!==void 0,o=t===null,l=t===t,c=dL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var YEe=KEe,XEe=YEe;function QEe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=XEe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var JEe=QEe,tA=EC,ZEe=NC,eNe=ed,tNe=iH,rNe=GEe,nNe=qW,aNe=JEe,iNe=ym,sNe=Vs;function oNe(e,t,r){t.length?t=tA(t,function(i){return sNe(i)?function(s){return ZEe(s,i.length===1?i[0]:i)}:i}):t=[iNe];var n=-1;t=tA(t,nNe(eNe));var a=tNe(e,function(i,s,o){var l=tA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return rNe(a,function(i,s){return aNe(i,s,r)})}var lNe=oNe;function cNe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uNe=cNe,fNe=uNe,hL=Math.max;function dNe(e,t,r){return t=hL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=hL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),fNe(e,this,o)}}var hNe=dNe;function pNe(e){return function(){return e}}var mNe=pNe,gNe=Ch,vNe=function(){try{var e=gNe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sH=vNe,yNe=mNe,pL=sH,xNe=ym,bNe=pL?function(e,t){return pL(e,"toString",{configurable:!0,enumerable:!1,value:yNe(t),writable:!0})}:xNe,wNe=bNe,_Ne=800,SNe=16,ANe=Date.now;function TNe(e){var t=0,r=0;return function(){var n=ANe(),a=SNe-(n-r);if(r=n,a>0){if(++t>=_Ne)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ENe=TNe,NNe=wNe,kNe=ENe,CNe=kNe(NNe),PNe=CNe,jNe=ym,ONe=hNe,INe=PNe;function DNe(e,t){return INe(ONe(e,t,jNe),e+"")}var LNe=DNe,MNe=_C,RNe=uy,FNe=$C,$Ne=Zf;function BNe(e,t,r){if(!$Ne(r))return!1;var n=typeof t;return(n=="number"?RNe(r)&&FNe(t,r.length):n=="string"&&t in r)?MNe(r[t],e):!1}var K5=BNe,UNe=nH,VNe=lNe,zNe=LNe,mL=K5,qNe=zNe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&mL(e,t[0],t[1])?t=[]:r>2&&mL(t[0],t[1],t[2])&&(t=[t[0]]),VNe(e,UNe(t,1),[])}),WNe=qNe;const zC=kn(WNe);function t1(e){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t1(e)}function aT(){return aT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aT.apply(this,arguments)}function HNe(e,t){return XNe(e)||YNe(e,t)||KNe(e,t)||GNe()}function GNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KNe(e,t){if(e){if(typeof e=="string")return gL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gL(e,t)}}function gL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function XNe(e){if(Array.isArray(e))return e}function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(n){QNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QNe(e,t,r){return t=JNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JNe(e){var t=ZNe(e,"string");return t1(t)=="symbol"?t:t+""}function ZNe(e,t){if(t1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(t1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eke(e){return Array.isArray(e)&&Ya(e[0])&&Ya(e[1])?e.join(" ~ "):e}var tke=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(u&&u.length){var C={padding:0,margin:0},N=(h?zC(u,h):u).map(function(U,X){if(U.type==="none")return null;var z=rA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),H=U.formatter||d||eke,V=U.value,q=U.name,te=V,Z=q;if(H&&te!=null&&Z!=null){var k=H(V,q,U,X,u);if(Array.isArray(k)){var R=HNe(k,2);te=R[0],Z=R[1]}else te=k}return Ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:z},Ya(Z)?Ue.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Ya(Z)?Ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ue.createElement("span",{className:"recharts-tooltip-item-value"},te),Ue.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Ue.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},D=rA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),O=rA({margin:0},c),P=!zr(m),T=P?m:"",_=un("recharts-default-tooltip",p),S=un("recharts-tooltip-label",g);P&&v&&u!==void 0&&u!==null&&(T=v(m,u));var I=w?{role:"status","aria-live":"assertive"}:{};return Ue.createElement("div",aT({className:_,style:D},I),Ue.createElement("p",{className:S,style:O},Ue.isValidElement(T)?T:"".concat(T)),b())};function r1(e){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(e)}function Ex(e,t,r){return t=rke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rke(e){var t=nke(e,"string");return r1(t)=="symbol"?t:t+""}function nke(e,t){if(r1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(r1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm="recharts-tooltip-wrapper",ake={visibility:"hidden"};function ike(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return un(Qm,Ex(Ex(Ex(Ex({},"".concat(Qm,"-right"),Ut(r)&&t&&Ut(t.x)&&r>=t.x),"".concat(Qm,"-left"),Ut(r)&&t&&Ut(t.x)&&r<t.x),"".concat(Qm,"-bottom"),Ut(n)&&t&&Ut(t.y)&&n>=t.y),"".concat(Qm,"-top"),Ut(n)&&t&&Ut(t.y)&&n<t.y))}function yL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Ut(i[n]))return i[n];var u=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?u:d;if(s[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(d,l[n])}function ske(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oke(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,d;return s.height>0&&s.width>0&&r?(u=yL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=yL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=ske({translateX:u,translateY:d,useTranslate3d:o})):c=ake,{cssProperties:c,cssClasses:ike({translateX:u,translateY:d,coordinate:r})}}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(n){sT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lH(n.key),n)}}function uke(e,t,r){return t&&cke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fke(e,t,r){return t=Vb(t),dke(e,oH()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function dke(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hke(e)}function hke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function pke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iT(e,t)}function iT(e,t){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iT(e,t)}function sT(e,t,r){return t=lH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=mke(e,"string");return Ep(t)=="symbol"?t:t+""}function mke(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wL=1,gke=function(e){function t(){var r;lke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=fke(this,t,[].concat(a)),sT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sT(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return pke(t,e),uke(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wL||Math.abs(n.height-this.state.lastBoundingBox.height)>wL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,b=oke({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),D=b.cssClasses,O=b.cssProperties,P=bL(bL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return Ue.createElement("div",{tabIndex:-1,className:D,style:P,ref:function(_){n.wrapperNode=_}},c)}}])}(F.PureComponent),vke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qc={isSsr:vke(),get:function(t){return qc[t]},set:function(t,r){if(typeof t=="string")qc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){qc[a]=t[a]})}}};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(n){qC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uH(n.key),n)}}function bke(e,t,r){return t&&xke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wke(e,t,r){return t=zb(t),_ke(e,cH()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function _ke(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ske(e)}function Ske(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function Ake(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oT(e,t)}function oT(e,t){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oT(e,t)}function qC(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=Tke(e,"string");return Np(t)=="symbol"?t:t+""}function Tke(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eke(e){return e.dataKey}function Nke(e,t){return Ue.isValidElement(e)?Ue.cloneElement(e,t):typeof e=="function"?Ue.createElement(e,t):Ue.createElement(tke,t)}var ps=function(e){function t(){return yke(this,t),wke(this,t,arguments)}return Ake(t,e),bke(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,D=a.wrapperStyle,O=g??[];d&&O.length&&(O=ZW(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,Eke));var P=O.length>0;return Ue.createElement(gke,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:P,offset:p,position:v,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:D},Nke(c,SL(SL({},this.props),{},{payload:O})))}}])}(F.PureComponent);qC(ps,"displayName","Tooltip");qC(ps,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kke=fc,Cke=function(){return kke.Date.now()},Pke=Cke,jke=/\s/;function Oke(e){for(var t=e.length;t--&&jke.test(e.charAt(t)););return t}var Ike=Oke,Dke=Ike,Lke=/^\s+/;function Mke(e){return e&&e.slice(0,Dke(e)+1).replace(Lke,"")}var Rke=Mke,Fke=Rke,AL=Zf,$ke=fm,TL=NaN,Bke=/^[-+]0x[0-9a-f]+$/i,Uke=/^0b[01]+$/i,Vke=/^0o[0-7]+$/i,zke=parseInt;function qke(e){if(typeof e=="number")return e;if($ke(e))return TL;if(AL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fke(e);var r=Uke.test(e);return r||Vke.test(e)?zke(e.slice(2),r?2:8):Bke.test(e)?TL:+e}var fH=qke,Wke=Zf,nA=Pke,EL=fH,Hke="Expected a function",Gke=Math.max,Kke=Math.min;function Yke(e,t,r){var n,a,i,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Hke);t=EL(t)||0,Wke(r)&&(u=!!r.leading,d="maxWait"in r,i=d?Gke(EL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(P){var T=n,_=a;return n=a=void 0,c=P,s=e.apply(_,T),s}function g(P){return c=P,o=setTimeout(y,t),u?p(P):s}function m(P){var T=P-l,_=P-c,S=t-T;return d?Kke(S,i-_):S}function v(P){var T=P-l,_=P-c;return l===void 0||T>=t||T<0||d&&_>=i}function y(){var P=nA();if(v(P))return w(P);o=setTimeout(y,m(P))}function w(P){return o=void 0,h&&n?p(P):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function D(){return o===void 0?s:w(nA())}function O(){var P=nA(),T=v(P);if(n=arguments,a=this,l=P,T){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return O.cancel=b,O.flush=D,O}var Xke=Yke,Qke=Xke,Jke=Zf,Zke="Expected a function";function eCe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Zke);return Jke(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Qke(e,t,{leading:n,maxWait:t,trailing:a})}var tCe=eCe;const dH=kn(tCe);function n1(e){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(e)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){rCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t,r){return t=nCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=aCe(e,"string");return n1(t)=="symbol"?t:t+""}function aCe(e,t){if(n1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iCe(e,t){return cCe(e)||lCe(e,t)||oCe(e,t)||sCe()}function sCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oCe(e,t){if(e){if(typeof e=="string")return kL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kL(e,t)}}function kL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function cCe(e){if(Array.isArray(e))return e}var G0=F.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,b=e.style,D=b===void 0?{}:b,O=F.useRef(null),P=F.useRef();P.current=w,F.useImperativeHandle(t,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var T=F.useState({containerWidth:a.width,containerHeight:a.height}),_=iCe(T,2),S=_[0],I=_[1],E=F.useCallback(function(N,U){I(function(X){var z=Math.round(N),H=Math.round(U);return X.containerWidth===z&&X.containerHeight===H?X:{containerWidth:z,containerHeight:H}})},[]);F.useEffect(function(){var N=function(q){var te,Z=q[0].contentRect,k=Z.width,R=Z.height;E(k,R),(te=P.current)===null||te===void 0||te.call(P,k,R)};m>0&&(N=dH(N,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),X=O.current.getBoundingClientRect(),z=X.width,H=X.height;return E(z,H),U.observe(O.current),function(){U.disconnect()}},[E,m]);var C=F.useMemo(function(){var N=S.containerWidth,U=S.containerHeight;if(N<0||U<0)return null;zc(Fd(s)||Fd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),zc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=Fd(s)?N:s,z=Fd(l)?U:l;r&&r>0&&(X?z=X/r:z&&(X=z*r),h&&z>h&&(z=h)),zc(X>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,z,s,l,u,d,r);var H=!Array.isArray(p)&&Vc(p.type).endsWith("Chart");return Ue.Children.map(p,function(V){return Ue.isValidElement(V)?F.cloneElement(V,Nx({width:X,height:z},H?{style:Nx({height:"100%",width:"100%",maxHeight:z,maxWidth:X},V.props.style)}:{})):V})},[r,p,l,h,d,u,S,s]);return Ue.createElement("div",{id:v?"".concat(v):void 0,className:un("recharts-responsive-container",y),style:Nx(Nx({},D),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:O},C)}),hH=function(t){return null};hH.displayName="Cell";function a1(e){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(e)}function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(r),!0).forEach(function(n){uCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uCe(e,t,r){return t=fCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fCe(e){var t=dCe(e,"string");return a1(t)=="symbol"?t:t+""}function dCe(e,t){if(a1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t0={widthCache:{},cacheCount:0},hCe=2e3,pCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PL="recharts_measurement_span";function mCe(e){var t=lT({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Zg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qc.isSsr)return{width:0,height:0};var n=mCe(r),a=JSON.stringify({text:t,copyStyle:n});if(t0.widthCache[a])return t0.widthCache[a];try{var i=document.getElementById(PL);i||(i=document.createElement("span"),i.setAttribute("id",PL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=lT(lT({},pCe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return t0.widthCache[a]=l,++t0.cacheCount>hCe&&(t0.cacheCount=0,t0.widthCache={}),l}catch{return{width:0,height:0}}},gCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function qb(e,t){return bCe(e)||xCe(e,t)||yCe(e,t)||vCe()}function vCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(e,t){if(e){if(typeof e=="string")return jL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(e,t)}}function jL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function bCe(e){if(Array.isArray(e))return e}function wCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SCe(n.key),n)}}function _Ce(e,t,r){return t&&OL(e.prototype,t),r&&OL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SCe(e){var t=ACe(e,"string");return i1(t)=="symbol"?t:t+""}function ACe(e,t){if(i1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ECe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NCe=Object.keys(pH),j0="NaN";function kCe(e,t){return e*pH[t]}var kx=function(){function e(t,r){wCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!TCe.test(r)&&(this.num=NaN,this.unit=""),NCe.includes(r)&&(this.num=kCe(t,r),this.unit="px")}return _Ce(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=ECe.exec(r))!==null&&n!==void 0?n:[],i=qb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function mH(e){if(e.includes(j0))return j0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=IL.exec(t))!==null&&r!==void 0?r:[],a=qb(n,4),i=a[1],s=a[2],o=a[3],l=kx.parse(i??""),c=kx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return j0;t=t.replace(IL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=DL.exec(t))!==null&&d!==void 0?d:[],p=qb(h,4),g=p[1],m=p[2],v=p[3],y=kx.parse(g??""),w=kx.parse(v??""),b=m==="+"?y.add(w):y.subtract(w);if(b.isNaN())return j0;t=t.replace(DL,b.toString())}return t}var LL=/\(([^()]*)\)/;function CCe(e){for(var t=e;t.includes("(");){var r=LL.exec(t),n=qb(r,2),a=n[1];t=t.replace(LL,mH(a))}return t}function PCe(e){var t=e.replace(/\s+/g,"");return t=CCe(t),t=mH(t),t}function jCe(e){try{return PCe(e)}catch{return j0}}function aA(e){var t=jCe(e.slice(5,-1));return t===j0?"":t}var OCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ICe=["dx","dy","angle","className","breakAll"];function cT(){return cT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cT.apply(this,arguments)}function ML(e,t){if(e==null)return{};var r=DCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RL(e,t){return FCe(e)||RCe(e,t)||MCe(e,t)||LCe()}function LCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MCe(e,t){if(e){if(typeof e=="string")return FL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FL(e,t)}}function FL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function FCe(e){if(Array.isArray(e))return e}var gH=/[ \f\n\r\t\v\u2028\u2029]+/,vH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];zr(r)||(n?i=r.toString().split(""):i=r.toString().split(gH));var s=i.map(function(l){return{word:l,width:Zg(l,a).width}}),o=n?0:Zg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},$Ce=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Ut(s),d=o,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(z,H){var V=H.word,q=H.width,te=z[z.length-1];if(te&&(a==null||i||te.width+q+n<Number(a)))te.words.push(V),te.width+=q+n;else{var Z={words:[V],width:q};z.push(Z)}return z},[])},p=h(r),g=function(X){return X.reduce(function(z,H){return z.width>H.width?z:H})};if(!u)return p;for(var m="…",v=function(X){var z=d.slice(0,X),H=vH({breakAll:c,style:l,children:z+m}).wordsWithComputedWidth,V=h(H),q=V.length>s||g(V).width>Number(a);return[q,V]},y=0,w=d.length-1,b=0,D;y<=w&&b<=d.length-1;){var O=Math.floor((y+w)/2),P=O-1,T=v(P),_=RL(T,2),S=_[0],I=_[1],E=v(O),C=RL(E,1),N=C[0];if(!S&&!N&&(y=O+1),S&&N&&(w=O-1),!S&&N){D=I;break}b++}return D||p},$L=function(t){var r=zr(t)?[]:t.toString().split(gH);return[{words:r}]},BCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!qc.isSsr){var l,c,u=vH({breakAll:s,children:a,style:i});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return $L(a);return $Ce({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return $L(a)},BL="#808080",Wb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?BL:v,w=ML(t,OCe),b=F.useMemo(function(){return BCe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),D=w.dx,O=w.dy,P=w.angle,T=w.className,_=w.breakAll,S=ML(w,ICe);if(!Ya(n)||!Ya(i))return null;var I=n+(Ut(D)?D:0),E=i+(Ut(O)?O:0),C;switch(m){case"start":C=aA("calc(".concat(c,")"));break;case"middle":C=aA("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:C=aA("calc(".concat(b.length-1," * -").concat(o,")"));break}var N=[];if(d){var U=b[0].width,X=w.width;N.push("scale(".concat((Ut(X)?X/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(I,", ").concat(E,")")),N.length&&(S.transform=N.join(" ")),Ue.createElement("text",cT({},Zr(S,!0),{x:I,y:E,className:un("recharts-text",T),textAnchor:p,fill:y.includes("url")?BL:y}),b.map(function(z,H){var V=z.words.join(_?"":" ");return Ue.createElement("tspan",{x:I,dy:H===0?C:o,key:"".concat(V,"-").concat(H)},V)}))};function jf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WC(e){let t,r,n;e.length!==2?(t=jf,r=(o,l)=>jf(e(o),l),n=(o,l)=>e(o)-l):(t=e===jf||e===UCe?e:VCe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=a(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function VCe(){return 0}function yH(e){return e===null?NaN:+e}function*zCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const qCe=WC(jf),fy=qCe.right;WC(yH).center;class UL extends Map{constructor(t,r=GCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(VL(this,t))}has(t){return super.has(VL(this,t))}set(t,r){return super.set(WCe(this,t),r)}delete(t){return super.delete(HCe(this,t))}}function VL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function WCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function HCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function GCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KCe(e=jf){if(e===jf)return xH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YCe=Math.sqrt(50),XCe=Math.sqrt(10),QCe=Math.sqrt(2);function Hb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=YCe?10:i>=XCe?5:i>=QCe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Hb(e,t,r*2):[o,l,c]}function uT(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Hb(t,e,r):Hb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function fT(e,t,r){return t=+t,e=+e,r=+r,Hb(e,t,r)[2]}function dT(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?fT(t,e,r):fT(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function zL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?xH:KCe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),g=Math.min(n,Math.floor(t+(l-c)*d/l+h));bH(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Jm(e,r,t),a(e[n],i)>0&&Jm(e,r,n);s<o;){for(Jm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Jm(e,r,o):(++o,Jm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Jm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function JCe(e,t,r){if(e=Float64Array.from(zCe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qL(e);if(t>=1)return zL(e);var n,a=(n-1)*t,i=Math.floor(a),s=zL(bH(e,i).subarray(0,i+1)),o=qL(e.subarray(i+1));return s+(o-s)*(a-i)}}function ZCe(e,t,r=yH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function ePe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Go(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hT=Symbol("implicit");function HC(){var e=new UL,t=[],r=[],n=hT;function a(i){let s=e.get(i);if(s===void 0){if(n!==hT)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new UL;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return HC(t,r).unknown(n)},Go.apply(a,arguments),a}function s1(){var e=HC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=ePe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return s1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Go.apply(d(),arguments)}function wH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wH(t())},e}function ev(){return wH(s1.apply(null,arguments).paddingInner(1))}function GC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _H(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function dy(){}var o1=.7,Gb=1/o1,K0="\\s*([+-]?\\d+)\\s*",l1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tPe=/^#([0-9a-f]{3,8})$/,rPe=new RegExp(`^rgb\\(${K0},${K0},${K0}\\)$`),nPe=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),aPe=new RegExp(`^rgba\\(${K0},${K0},${K0},${l1}\\)$`),iPe=new RegExp(`^rgba\\(${rc},${rc},${rc},${l1}\\)$`),sPe=new RegExp(`^hsl\\(${l1},${rc},${rc}\\)$`),oPe=new RegExp(`^hsla\\(${l1},${rc},${rc},${l1}\\)$`),WL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GC(dy,c1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HL,formatHex:HL,formatHex8:lPe,formatHsl:cPe,formatRgb:GL,toString:GL});function HL(){return this.rgb().formatHex()}function lPe(){return this.rgb().formatHex8()}function cPe(){return SH(this).formatHsl()}function GL(){return this.rgb().formatRgb()}function c1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?KL(t):r===3?new Fs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Cx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Cx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rPe.exec(e))?new Fs(t[1],t[2],t[3],1):(t=nPe.exec(e))?new Fs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aPe.exec(e))?Cx(t[1],t[2],t[3],t[4]):(t=iPe.exec(e))?Cx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sPe.exec(e))?QL(t[1],t[2]/100,t[3]/100,1):(t=oPe.exec(e))?QL(t[1],t[2]/100,t[3]/100,t[4]):WL.hasOwnProperty(e)?KL(WL[e]):e==="transparent"?new Fs(NaN,NaN,NaN,0):null}function KL(e){return new Fs(e>>16&255,e>>8&255,e&255,1)}function Cx(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fs(e,t,r,n)}function uPe(e){return e instanceof dy||(e=c1(e)),e?(e=e.rgb(),new Fs(e.r,e.g,e.b,e.opacity)):new Fs}function pT(e,t,r,n){return arguments.length===1?uPe(e):new Fs(e,t,r,n??1)}function Fs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}GC(Fs,pT,_H(dy,{brighter(e){return e=e==null?Gb:Math.pow(Gb,e),new Fs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?o1:Math.pow(o1,e),new Fs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fs(Yd(this.r),Yd(this.g),Yd(this.b),Kb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YL,formatHex:YL,formatHex8:fPe,formatRgb:XL,toString:XL}));function YL(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}`}function fPe(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}${$d((isNaN(this.opacity)?1:this.opacity)*255)}`}function XL(){const e=Kb(this.opacity);return`${e===1?"rgb(":"rgba("}${Yd(this.r)}, ${Yd(this.g)}, ${Yd(this.b)}${e===1?")":`, ${e})`}`}function Kb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $d(e){return e=Yd(e),(e<16?"0":"")+e.toString(16)}function QL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gl(e,t,r,n)}function SH(e){if(e instanceof gl)return new gl(e.h,e.s,e.l,e.opacity);if(e instanceof dy||(e=c1(e)),!e)return new gl;if(e instanceof gl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new gl(s,o,l,e.opacity)}function dPe(e,t,r,n){return arguments.length===1?SH(e):new gl(e,t,r,n??1)}function gl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}GC(gl,dPe,_H(dy,{brighter(e){return e=e==null?Gb:Math.pow(Gb,e),new gl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?o1:Math.pow(o1,e),new gl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Fs(iA(e>=240?e-240:e+120,a,n),iA(e,a,n),iA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new gl(JL(this.h),Px(this.s),Px(this.l),Kb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kb(this.opacity);return`${e===1?"hsl(":"hsla("}${JL(this.h)}, ${Px(this.s)*100}%, ${Px(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JL(e){return e=(e||0)%360,e<0?e+360:e}function Px(e){return Math.max(0,Math.min(1,e||0))}function iA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const KC=e=>()=>e;function hPe(e,t){return function(r){return e+r*t}}function pPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mPe(e){return(e=+e)==1?AH:function(t,r){return r-t?pPe(t,r,e):KC(isNaN(t)?r:t)}}function AH(e,t){var r=t-e;return r?hPe(e,r):KC(isNaN(e)?t:e)}const ZL=function e(t){var r=mPe(t);function n(a,i){var s=r((a=pT(a)).r,(i=pT(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=AH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function gPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function vPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yPe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=xm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function xPe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Yb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bPe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=xm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var mT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sA=new RegExp(mT.source,"g");function wPe(e){return function(){return e}}function _Pe(e){return function(t){return e(t)+""}}function SPe(e,t){var r=mT.lastIndex=sA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=mT.exec(e))&&(a=sA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Yb(n,a)})),r=sA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?_Pe(l[0].x):wPe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function xm(e,t){var r=typeof t,n;return t==null||r==="boolean"?KC(t):(r==="number"?Yb:r==="string"?(n=c1(t))?(t=n,ZL):SPe:t instanceof c1?ZL:t instanceof Date?xPe:vPe(t)?gPe:Array.isArray(t)?yPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bPe:Yb)(e,t)}function YC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function APe(e,t){t===void 0&&(t=e,e=xm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function TPe(e){return function(){return e}}function Xb(e){return+e}var eM=[0,1];function bs(e){return e}function gT(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:TPe(isNaN(t)?NaN:.5)}function EPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function NPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=gT(a,n),i=r(s,i)):(n=gT(n,a),i=r(i,s)),function(o){return i(n(o))}}function kPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=gT(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=fy(e,o,1,n)-1;return i[l](a[l](o))}}function hy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Y5(){var e=eM,t=eM,r=xm,n,a,i,s=bs,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==bs&&(s=EPe(e[0],e[h-1])),o=h>2?kPe:NPe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((c||(c=o(t,e.map(n),Yb)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Xb),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=YC,u()},d.clamp=function(h){return arguments.length?(s=h?!0:bs,u()):s!==bs},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,u()}}function XC(){return Y5()(bs,bs)}function CPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function kp(e){return e=Qb(Math.abs(e)),e?e[1]:NaN}function PPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function jPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var OPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function u1(e){if(!(t=OPe.exec(e)))throw new Error("invalid format: "+e);var t;return new QC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}u1.prototype=QC.prototype;function QC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}QC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var TH;function DPe(e,t){var r=Qb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(TH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Qb(e,Math.max(0,t+i-1))[0]}function tM(e,t){var r=Qb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const rM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tM(e*100,t),r:tM,s:DPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nM(e){return e}var aM=Array.prototype.map,iM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LPe(e){var t=e.grouping===void 0||e.thousands===void 0?nM:PPe(aM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nM:jPe(aM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=u1(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,y=d.width,w=d.comma,b=d.precision,D=d.trim,O=d.type;O==="n"?(w=!0,O="g"):rM[O]||(b===void 0&&(b=12),D=!0,O="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var P=m==="$"?r:m==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=m==="$"?n:/[%p]/.test(O)?s:"",_=rM[O],S=/[defgprs%]/.test(O);b=b===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(E){var C=P,N=T,U,X,z;if(O==="c")N=_(E)+N,E="";else{E=+E;var H=E<0||1/E<0;if(E=isNaN(E)?l:_(Math.abs(E),b),D&&(E=IPe(E)),H&&+E==0&&g!=="+"&&(H=!1),C=(H?g==="("?g:o:g==="-"||g==="("?"":g)+C,N=(O==="s"?iM[8+TH/3]:"")+N+(H&&g==="("?")":""),S){for(U=-1,X=E.length;++U<X;)if(z=E.charCodeAt(U),48>z||z>57){N=(z===46?a+E.slice(U+1):E.slice(U))+N,E=E.slice(0,U);break}}}w&&!v&&(E=t(E,1/0));var V=C.length+E.length+N.length,q=V<y?new Array(y-V+1).join(h):"";switch(w&&v&&(E=t(q+E,q.length?y-N.length:1/0),q=""),p){case"<":E=C+E+N+q;break;case"=":E=C+q+E+N;break;case"^":E=q.slice(0,V=q.length>>1)+C+E+N+q.slice(V);break;default:E=q+C+E+N;break}return i(E)}return I.toString=function(){return d+""},I}function u(d,h){var p=c((d=u1(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(kp(h)/3)))*3,m=Math.pow(10,-g),v=iM[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var jx,JC,EH;MPe({thousands:",",grouping:[3],currency:["$",""]});function MPe(e){return jx=LPe(e),JC=jx.format,EH=jx.formatPrefix,jx}function RPe(e){return Math.max(0,-kp(Math.abs(e)))}function FPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kp(t)/3)))*3-kp(Math.abs(e)))}function $Pe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kp(t)-kp(e))+1}function NH(e,t,r,n){var a=dT(e,t,r),i;switch(n=u1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=FPe(a,s))&&(n.precision=i),EH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=$Pe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=RPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return JC(n)}function td(e){var t=e.domain;return e.ticks=function(r){var n=t();return uT(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return NH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=fT(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Jb(){var e=XC();return e.copy=function(){return hy(e,Jb())},Go.apply(e,arguments),td(e)}function kH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kH(e).unknown(t)},e=arguments.length?Array.from(e,Xb):[0,1],td(r)}function CH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function sM(e){return Math.log(e)}function oM(e){return Math.exp(e)}function BPe(e){return-Math.log(-e)}function UPe(e){return-Math.exp(-e)}function VPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zPe(e){return e===10?VPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lM(e){return(t,r)=>-e(-t,r)}function ZC(e){const t=e(sM,oM),r=t.domain;let n=10,a,i;function s(){return a=qPe(n),i=zPe(n),r()[0]<0?(a=lM(a),i=lM(i),e(BPe,UPe)):e(sM,oM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=uT(c,u,v))}else y=uT(h,p,Math.min(p-h,v)).map(i);return d?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=u1(l)).precision==null&&(l.trim=!0),l=JC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(CH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function PH(){const e=ZC(Y5()).domain([1,10]);return e.copy=()=>hy(e,PH()).base(e.base()),Go.apply(e,arguments),e}function cM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eP(e){var t=1,r=e(cM(t),uM(t));return r.constant=function(n){return arguments.length?e(cM(t=+n),uM(t)):t},td(r)}function jH(){var e=eP(Y5());return e.copy=function(){return hy(e,jH()).constant(e.constant())},Go.apply(e,arguments)}function fM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HPe(e){return e<0?-e*e:e*e}function tP(e){var t=e(bs,bs),r=1;function n(){return r===1?e(bs,bs):r===.5?e(WPe,HPe):e(fM(r),fM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},td(t)}function rP(){var e=tP(Y5());return e.copy=function(){return hy(e,rP()).exponent(e.exponent())},Go.apply(e,arguments),e}function GPe(){return rP.apply(null,arguments).exponent(.5)}function dM(e){return Math.sign(e)*e*e}function KPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OH(){var e=XC(),t=[0,1],r=!1,n;function a(i){var s=KPe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(dM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Xb)).map(dM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return OH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Go.apply(a,arguments),td(a)}function IH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=ZCe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[fy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(jf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return IH().domain(e).range(t).unknown(n)},Go.apply(i,arguments)}function DH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[fy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return DH().domain([e,t]).range(a).unknown(i)},Go.apply(td(s),arguments)}function LH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[fy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return LH().domain(e).range(t).unknown(r)},Go.apply(a,arguments)}const oA=new Date,lA=new Date;function Ja(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Ja(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(oA.setTime(+i),lA.setTime(+s),e(oA),e(lA),Math.floor(r(oA,lA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Zb=Ja(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ja(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zb);Zb.range;const Lc=1e3,Do=Lc*60,Mc=Do*60,su=Mc*24,nP=su*7,hM=su*30,cA=su*365,Bd=Ja(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Lc)},(e,t)=>(t-e)/Lc,e=>e.getUTCSeconds());Bd.range;const aP=Ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lc)},(e,t)=>{e.setTime(+e+t*Do)},(e,t)=>(t-e)/Do,e=>e.getMinutes());aP.range;const iP=Ja(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Do)},(e,t)=>(t-e)/Do,e=>e.getUTCMinutes());iP.range;const sP=Ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lc-e.getMinutes()*Do)},(e,t)=>{e.setTime(+e+t*Mc)},(e,t)=>(t-e)/Mc,e=>e.getHours());sP.range;const oP=Ja(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mc)},(e,t)=>(t-e)/Mc,e=>e.getUTCHours());oP.range;const py=Ja(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Do)/su,e=>e.getDate()-1);py.range;const X5=Ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/su,e=>e.getUTCDate()-1);X5.range;const MH=Ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/su,e=>Math.floor(e/su));MH.range;function Ph(e){return Ja(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Do)/nP)}const Q5=Ph(0),ew=Ph(1),YPe=Ph(2),XPe=Ph(3),Cp=Ph(4),QPe=Ph(5),JPe=Ph(6);Q5.range;ew.range;YPe.range;XPe.range;Cp.range;QPe.range;JPe.range;function jh(e){return Ja(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nP)}const J5=jh(0),tw=jh(1),ZPe=jh(2),e6e=jh(3),Pp=jh(4),t6e=jh(5),r6e=jh(6);J5.range;tw.range;ZPe.range;e6e.range;Pp.range;t6e.range;r6e.range;const lP=Ja(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lP.range;const cP=Ja(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cP.range;const ou=Ja(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ou.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ja(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ou.range;const lu=Ja(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());lu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ja(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});lu.range;function RH(e,t,r,n,a,i){const s=[[Bd,1,Lc],[Bd,5,5*Lc],[Bd,15,15*Lc],[Bd,30,30*Lc],[i,1,Do],[i,5,5*Do],[i,15,15*Do],[i,30,30*Do],[a,1,Mc],[a,3,3*Mc],[a,6,6*Mc],[a,12,12*Mc],[n,1,su],[n,2,2*su],[r,1,nP],[t,1,hM],[t,3,3*hM],[e,1,cA]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=WC(([,,v])=>v).right(s,h);if(p===s.length)return e.every(dT(c/cA,u/cA,d));if(p===0)return Zb.every(Math.max(dT(c,u,d),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[n6e,a6e]=RH(lu,cP,J5,MH,oP,iP),[i6e,s6e]=RH(ou,lP,Q5,py,sP,aP);function uA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function o6e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=eg(a),u=tg(a),d=eg(i),h=tg(i),p=eg(s),g=tg(s),m=eg(o),v=tg(o),y=eg(l),w=tg(l),b={a:H,A:V,b:q,B:te,c:null,d:xM,e:xM,f:P6e,g:B6e,G:V6e,H:N6e,I:k6e,j:C6e,L:FH,m:j6e,M:O6e,p:Z,q:k,Q:_M,s:SM,S:I6e,u:D6e,U:L6e,V:M6e,w:R6e,W:F6e,x:null,X:null,y:$6e,Y:U6e,Z:z6e,"%":wM},D={a:R,A:G,b:Y,B:J,c:null,d:bM,e:bM,f:G6e,g:nje,G:ije,H:q6e,I:W6e,j:H6e,L:BH,m:K6e,M:Y6e,p:se,q:ue,Q:_M,s:SM,S:X6e,u:Q6e,U:J6e,V:Z6e,w:eje,W:tje,x:null,X:null,y:rje,Y:aje,Z:sje,"%":wM},O={a:I,A:E,b:C,B:N,c:U,d:vM,e:vM,f:S6e,g:gM,G:mM,H:yM,I:yM,j:x6e,L:_6e,m:y6e,M:b6e,p:S,q:v6e,Q:T6e,s:E6e,S:w6e,u:d6e,U:h6e,V:p6e,w:f6e,W:m6e,x:X,X:z,y:gM,Y:mM,Z:g6e,"%":A6e};b.x=P(r,b),b.X=P(n,b),b.c=P(t,b),D.x=P(r,D),D.X=P(n,D),D.c=P(t,D);function P(ae,he){return function(xe){var W=[],Ne=-1,ke=0,_e=ae.length,le,Le,Oe;for(xe instanceof Date||(xe=new Date(+xe));++Ne<_e;)ae.charCodeAt(Ne)===37&&(W.push(ae.slice(ke,Ne)),(Le=pM[le=ae.charAt(++Ne)])!=null?le=ae.charAt(++Ne):Le=le==="e"?" ":"0",(Oe=he[le])&&(le=Oe(xe,Le)),W.push(le),ke=Ne+1);return W.push(ae.slice(ke,Ne)),W.join("")}}function T(ae,he){return function(xe){var W=Zm(1900,void 0,1),Ne=_(W,ae,xe+="",0),ke,_e;if(Ne!=xe.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(he&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ke=fA(Zm(W.y,0,1)),_e=ke.getUTCDay(),ke=_e>4||_e===0?tw.ceil(ke):tw(ke),ke=X5.offset(ke,(W.V-1)*7),W.y=ke.getUTCFullYear(),W.m=ke.getUTCMonth(),W.d=ke.getUTCDate()+(W.w+6)%7):(ke=uA(Zm(W.y,0,1)),_e=ke.getDay(),ke=_e>4||_e===0?ew.ceil(ke):ew(ke),ke=py.offset(ke,(W.V-1)*7),W.y=ke.getFullYear(),W.m=ke.getMonth(),W.d=ke.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),_e="Z"in W?fA(Zm(W.y,0,1)).getUTCDay():uA(Zm(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(_e+5)%7:W.w+W.U*7-(_e+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,fA(W)):uA(W)}}function _(ae,he,xe,W){for(var Ne=0,ke=he.length,_e=xe.length,le,Le;Ne<ke;){if(W>=_e)return-1;if(le=he.charCodeAt(Ne++),le===37){if(le=he.charAt(Ne++),Le=O[le in pM?he.charAt(Ne++):le],!Le||(W=Le(ae,xe,W))<0)return-1}else if(le!=xe.charCodeAt(W++))return-1}return W}function S(ae,he,xe){var W=c.exec(he.slice(xe));return W?(ae.p=u.get(W[0].toLowerCase()),xe+W[0].length):-1}function I(ae,he,xe){var W=p.exec(he.slice(xe));return W?(ae.w=g.get(W[0].toLowerCase()),xe+W[0].length):-1}function E(ae,he,xe){var W=d.exec(he.slice(xe));return W?(ae.w=h.get(W[0].toLowerCase()),xe+W[0].length):-1}function C(ae,he,xe){var W=y.exec(he.slice(xe));return W?(ae.m=w.get(W[0].toLowerCase()),xe+W[0].length):-1}function N(ae,he,xe){var W=m.exec(he.slice(xe));return W?(ae.m=v.get(W[0].toLowerCase()),xe+W[0].length):-1}function U(ae,he,xe){return _(ae,t,he,xe)}function X(ae,he,xe){return _(ae,r,he,xe)}function z(ae,he,xe){return _(ae,n,he,xe)}function H(ae){return s[ae.getDay()]}function V(ae){return i[ae.getDay()]}function q(ae){return l[ae.getMonth()]}function te(ae){return o[ae.getMonth()]}function Z(ae){return a[+(ae.getHours()>=12)]}function k(ae){return 1+~~(ae.getMonth()/3)}function R(ae){return s[ae.getUTCDay()]}function G(ae){return i[ae.getUTCDay()]}function Y(ae){return l[ae.getUTCMonth()]}function J(ae){return o[ae.getUTCMonth()]}function se(ae){return a[+(ae.getUTCHours()>=12)]}function ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var he=P(ae+="",b);return he.toString=function(){return ae},he},parse:function(ae){var he=T(ae+="",!1);return he.toString=function(){return ae},he},utcFormat:function(ae){var he=P(ae+="",D);return he.toString=function(){return ae},he},utcParse:function(ae){var he=T(ae+="",!0);return he.toString=function(){return ae},he}}}var pM={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,l6e=/^%/,c6e=/[\\^$*+?|[\]().{}]/g;function dn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function u6e(e){return e.replace(c6e,"\\$&")}function eg(e){return new RegExp("^(?:"+e.map(u6e).join("|")+")","i")}function tg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function f6e(e,t,r){var n=fi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function d6e(e,t,r){var n=fi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function h6e(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function p6e(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function m6e(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mM(e,t,r){var n=fi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gM(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function g6e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function v6e(e,t,r){var n=fi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function y6e(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function vM(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function x6e(e,t,r){var n=fi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yM(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function b6e(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function w6e(e,t,r){var n=fi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function _6e(e,t,r){var n=fi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function S6e(e,t,r){var n=fi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function A6e(e,t,r){var n=l6e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function T6e(e,t,r){var n=fi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function E6e(e,t,r){var n=fi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xM(e,t){return dn(e.getDate(),t,2)}function N6e(e,t){return dn(e.getHours(),t,2)}function k6e(e,t){return dn(e.getHours()%12||12,t,2)}function C6e(e,t){return dn(1+py.count(ou(e),e),t,3)}function FH(e,t){return dn(e.getMilliseconds(),t,3)}function P6e(e,t){return FH(e,t)+"000"}function j6e(e,t){return dn(e.getMonth()+1,t,2)}function O6e(e,t){return dn(e.getMinutes(),t,2)}function I6e(e,t){return dn(e.getSeconds(),t,2)}function D6e(e){var t=e.getDay();return t===0?7:t}function L6e(e,t){return dn(Q5.count(ou(e)-1,e),t,2)}function $H(e){var t=e.getDay();return t>=4||t===0?Cp(e):Cp.ceil(e)}function M6e(e,t){return e=$H(e),dn(Cp.count(ou(e),e)+(ou(e).getDay()===4),t,2)}function R6e(e){return e.getDay()}function F6e(e,t){return dn(ew.count(ou(e)-1,e),t,2)}function $6e(e,t){return dn(e.getFullYear()%100,t,2)}function B6e(e,t){return e=$H(e),dn(e.getFullYear()%100,t,2)}function U6e(e,t){return dn(e.getFullYear()%1e4,t,4)}function V6e(e,t){var r=e.getDay();return e=r>=4||r===0?Cp(e):Cp.ceil(e),dn(e.getFullYear()%1e4,t,4)}function z6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dn(t/60|0,"0",2)+dn(t%60,"0",2)}function bM(e,t){return dn(e.getUTCDate(),t,2)}function q6e(e,t){return dn(e.getUTCHours(),t,2)}function W6e(e,t){return dn(e.getUTCHours()%12||12,t,2)}function H6e(e,t){return dn(1+X5.count(lu(e),e),t,3)}function BH(e,t){return dn(e.getUTCMilliseconds(),t,3)}function G6e(e,t){return BH(e,t)+"000"}function K6e(e,t){return dn(e.getUTCMonth()+1,t,2)}function Y6e(e,t){return dn(e.getUTCMinutes(),t,2)}function X6e(e,t){return dn(e.getUTCSeconds(),t,2)}function Q6e(e){var t=e.getUTCDay();return t===0?7:t}function J6e(e,t){return dn(J5.count(lu(e)-1,e),t,2)}function UH(e){var t=e.getUTCDay();return t>=4||t===0?Pp(e):Pp.ceil(e)}function Z6e(e,t){return e=UH(e),dn(Pp.count(lu(e),e)+(lu(e).getUTCDay()===4),t,2)}function eje(e){return e.getUTCDay()}function tje(e,t){return dn(tw.count(lu(e)-1,e),t,2)}function rje(e,t){return dn(e.getUTCFullYear()%100,t,2)}function nje(e,t){return e=UH(e),dn(e.getUTCFullYear()%100,t,2)}function aje(e,t){return dn(e.getUTCFullYear()%1e4,t,4)}function ije(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pp(e):Pp.ceil(e),dn(e.getUTCFullYear()%1e4,t,4)}function sje(){return"+0000"}function wM(){return"%"}function _M(e){return+e}function SM(e){return Math.floor(+e/1e3)}var r0,VH,zH;oje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oje(e){return r0=o6e(e),VH=r0.format,r0.parse,zH=r0.utcFormat,r0.utcParse,r0}function lje(e){return new Date(e)}function cje(e){return e instanceof Date?+e:+new Date(+e)}function uP(e,t,r,n,a,i,s,o,l,c){var u=XC(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),b=c("%B"),D=c("%Y");function O(P){return(l(P)<P?p:o(P)<P?g:s(P)<P?m:i(P)<P?v:n(P)<P?a(P)<P?y:w:r(P)<P?b:D)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,cje)):h().map(lje)},u.ticks=function(P){var T=h();return e(T[0],T[T.length-1],P??10)},u.tickFormat=function(P,T){return T==null?O:c(T)},u.nice=function(P){var T=h();return(!P||typeof P.range!="function")&&(P=t(T[0],T[T.length-1],P??10)),P?h(CH(T,P)):u},u.copy=function(){return hy(u,uP(e,t,r,n,a,i,s,o,l,c))},u}function uje(){return Go.apply(uP(i6e,s6e,ou,lP,Q5,py,sP,aP,Bd,VH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fje(){return Go.apply(uP(n6e,a6e,lu,cP,J5,X5,oP,iP,Bd,zH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Z5(){var e=0,t=1,r,n,a,i,s=bs,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(xm),c.rangeRound=u(YC),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function rd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qH(){var e=td(Z5()(bs));return e.copy=function(){return rd(e,qH())},yu.apply(e,arguments)}function WH(){var e=ZC(Z5()).domain([1,10]);return e.copy=function(){return rd(e,WH()).base(e.base())},yu.apply(e,arguments)}function HH(){var e=eP(Z5());return e.copy=function(){return rd(e,HH()).constant(e.constant())},yu.apply(e,arguments)}function fP(){var e=tP(Z5());return e.copy=function(){return rd(e,fP()).exponent(e.exponent())},yu.apply(e,arguments)}function dje(){return fP.apply(null,arguments).exponent(.5)}function GH(){var e=[],t=bs;function r(n){if(n!=null&&!isNaN(n=+n))return t((fy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>JCe(e,i/n))},r.copy=function(){return GH(t).domain(e)},yu.apply(r,arguments)}function e_(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=bs,u,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,c=APe(m,[y,w,b]),p):[c(0),c(.5),c(1)]}}return p.range=g(xm),p.rangeRound=g(YC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function KH(){var e=td(e_()(bs));return e.copy=function(){return rd(e,KH())},yu.apply(e,arguments)}function YH(){var e=ZC(e_()).domain([.1,1,10]);return e.copy=function(){return rd(e,YH()).base(e.base())},yu.apply(e,arguments)}function XH(){var e=eP(e_());return e.copy=function(){return rd(e,XH()).constant(e.constant())},yu.apply(e,arguments)}function dP(){var e=tP(e_());return e.copy=function(){return rd(e,dP()).exponent(e.exponent())},yu.apply(e,arguments)}function hje(){return dP.apply(null,arguments).exponent(.5)}const AM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:s1,scaleDiverging:KH,scaleDivergingLog:YH,scaleDivergingPow:dP,scaleDivergingSqrt:hje,scaleDivergingSymlog:XH,scaleIdentity:kH,scaleImplicit:hT,scaleLinear:Jb,scaleLog:PH,scaleOrdinal:HC,scalePoint:ev,scalePow:rP,scaleQuantile:IH,scaleQuantize:DH,scaleRadial:OH,scaleSequential:qH,scaleSequentialLog:WH,scaleSequentialPow:fP,scaleSequentialQuantile:GH,scaleSequentialSqrt:dje,scaleSequentialSymlog:HH,scaleSqrt:GPe,scaleSymlog:jH,scaleThreshold:LH,scaleTime:uje,scaleUtc:fje,tickFormat:NH},Symbol.toStringTag,{value:"Module"}));var pje=fm;function mje(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!pje(s):r(s,o)))var o=s,l=i}return l}var QH=mje;function gje(e,t){return e>t}var vje=gje,yje=QH,xje=vje,bje=ym;function wje(e){return e&&e.length?yje(e,bje,xje):void 0}var _je=wje;const t_=kn(_je);function Sje(e,t){return e<t}var Aje=Sje,Tje=QH,Eje=Aje,Nje=ym;function kje(e){return e&&e.length?Tje(e,Nje,Eje):void 0}var Cje=kje;const r_=kn(Cje);var Pje=EC,jje=ed,Oje=iH,Ije=Vs;function Dje(e,t){var r=Ije(e)?Pje:Oje;return r(e,jje(t))}var Lje=Dje,Mje=nH,Rje=Lje;function Fje(e,t){return Mje(Rje(e,t),1)}var $je=Fje;const Bje=kn($je);var Uje=UC;function Vje(e,t){return Uje(e,t)}var zje=Vje;const n_=kn(zje);var bm=1e9,qje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pP,ra=!0,qo="[DecimalError] ",Xd=qo+"Invalid argument: ",hP=qo+"Exponent out of range: ",wm=Math.floor,Nd=Math.pow,Wje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,no,ai=1e7,Yn=7,JH=9007199254740991,rw=wm(JH/Yn),tr={};tr.absoluteValue=tr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tr.comparedTo=tr.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};tr.decimalPlaces=tr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};tr.dividedBy=tr.div=function(e){return Wc(this,new this.constructor(e))};tr.dividedToIntegerBy=tr.idiv=function(e){var t=this,r=t.constructor;return Ln(Wc(t,new r(e),0,1),r.precision)};tr.equals=tr.eq=function(e){return!this.cmp(e)};tr.exponent=function(){return $a(this)};tr.greaterThan=tr.gt=function(e){return this.cmp(e)>0};tr.greaterThanOrEqualTo=tr.gte=function(e){return this.cmp(e)>=0};tr.isInteger=tr.isint=function(){return this.e>this.d.length-2};tr.isNegative=tr.isneg=function(){return this.s<0};tr.isPositive=tr.ispos=function(){return this.s>0};tr.isZero=function(){return this.s===0};tr.lessThan=tr.lt=function(e){return this.cmp(e)<0};tr.lessThanOrEqualTo=tr.lte=function(e){return this.cmp(e)<1};tr.logarithm=tr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(no))throw Error(qo+"NaN");if(r.s<1)throw Error(qo+(r.s?"NaN":"-Infinity"));return r.eq(no)?new n(0):(ra=!1,t=Wc(f1(r,i),f1(e,i),i),ra=!0,Ln(t,a))};tr.minus=tr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tG(t,e):ZH(t,(e.s=-e.s,e))};tr.modulo=tr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(qo+"NaN");return r.s?(ra=!1,t=Wc(r,e,0,1).times(e),ra=!0,r.minus(t)):Ln(new n(r),a)};tr.naturalExponential=tr.exp=function(){return eG(this)};tr.naturalLogarithm=tr.ln=function(){return f1(this)};tr.negated=tr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tr.plus=tr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZH(t,e):tG(t,(e.s=-e.s,e))};tr.precision=tr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xd+e);if(t=$a(a)+1,n=a.d.length-1,r=n*Yn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};tr.squareRoot=tr.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(qo+"NaN")}for(e=$a(o),ra=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Gl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Wc(o,i,s+2)).times(.5),Gl(i.d).slice(0,s)===(t=Gl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ln(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return ra=!0,Ln(n,r)};tr.times=tr.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%ai|0,t=o/ai|0;i[a]=(i[a]+t)%ai|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ra?Ln(e,d.precision):e};tr.toDecimalPlaces=tr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oc(e,0,bm),t===void 0?t=n.rounding:oc(t,0,8),Ln(r,e+$a(r)+1,t))};tr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ph(n,!0):(oc(e,0,bm),t===void 0?t=a.rounding:oc(t,0,8),n=Ln(new a(n),e+1,t),r=ph(n,!0,e+1)),r};tr.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ph(a):(oc(e,0,bm),t===void 0?t=i.rounding:oc(t,0,8),n=Ln(new i(a),e+$a(a)+1,t),r=ph(n.abs(),!1,e+$a(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};tr.toInteger=tr.toint=function(){var e=this,t=e.constructor;return Ln(new t(e),$a(e)+1,t.rounding)};tr.toNumber=function(){return+this};tr.toPower=tr.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(no);if(o=new l(o),!o.s){if(e.s<1)throw Error(qo+"Infinity");return o}if(o.eq(no))return o;if(n=l.precision,e.eq(no))return Ln(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=JH){for(a=new l(no),t=Math.ceil(n/Yn+4),ra=!1;r%2&&(a=a.times(o),EM(a.d,t)),r=wm(r/2),r!==0;)o=o.times(o),EM(o.d,t);return ra=!0,e.s<0?new l(no).div(a):Ln(a,n)}}else if(i<0)throw Error(qo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ra=!1,a=e.times(f1(o,n+c)),ra=!0,a=eG(a),a.s=i,a};tr.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=$a(a),n=ph(a,r<=i.toExpNeg||r>=i.toExpPos)):(oc(e,1,bm),t===void 0?t=i.rounding:oc(t,0,8),a=Ln(new i(a),e,t),r=$a(a),n=ph(a,e<=r||r<=i.toExpNeg,e)),n};tr.toSignificantDigits=tr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oc(e,1,bm),t===void 0?t=n.rounding:oc(t,0,8)),Ln(new n(r),e,t)};tr.toString=tr.valueOf=tr.val=tr.toJSON=tr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$a(e),r=e.constructor;return ph(e,t<=r.toExpNeg||t>=r.toExpPos)};function ZH(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ra?Ln(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(d/Yn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/ai|0,l[i]%=ai;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,ra?Ln(t,d):t}function oc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xd+e)}function Gl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Yn-n.length,r&&(i+=Ju(r)),i+=n;s=e[t],n=s+"",r=Yn-n.length,r&&(i+=Ju(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Wc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ai|0,s=i/ai|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ai+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,d,h,p,g,m,v,y,w,b,D,O,P,T,_,S=n.constructor,I=n.s==a.s?1:-1,E=n.d,C=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(qo+"Division by zero");for(l=n.e-a.e,T=C.length,O=E.length,p=new S(I),g=p.d=[],c=0;C[c]==(E[c]||0);)++c;if(C[c]>(E[c]||0)&&--l,i==null?w=i=S.precision:s?w=i+($a(n)-$a(a))+1:w=i,w<0)return new S(0);if(w=w/Yn+2|0,c=0,T==1)for(u=0,C=C[0],w++;(c<O||u)&&w--;c++)b=u*ai+(E[c]||0),g[c]=b/C|0,u=b%C|0;else{for(u=ai/(C[0]+1)|0,u>1&&(C=e(C,u),E=e(E,u),T=C.length,O=E.length),D=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;_=C.slice(),_.unshift(0),P=C[0],C[1]>=ai/2&&++P;do u=0,o=t(C,m,T,v),o<0?(y=m[0],T!=v&&(y=y*ai+(m[1]||0)),u=y/P|0,u>1?(u>=ai&&(u=ai-1),d=e(C,u),h=d.length,v=m.length,o=t(d,m,h,v),o==1&&(u--,r(d,T<h?_:C,h))):(u==0&&(o=u=1),d=C.slice()),h=d.length,h<v&&d.unshift(0),r(m,d,v),o==-1&&(v=m.length,o=t(C,m,T,v),o<1&&(u++,r(m,T<v?_:C,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[D]||0:(m=[E[D]],v=1);while((D++<O||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,Ln(p,s?i+$a(p)+1:i)}}();function eG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,d=u.precision;if($a(e)>16)throw Error(hP+$a(e));if(!e.s)return new u(no);for(t==null?(ra=!1,o=d):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Nd(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(no),u.precision=o;;){if(a=Ln(a.times(e),o),r=r.times(++l),s=i.plus(Wc(a,r,o)),Gl(s.d).slice(0,o)===Gl(i.d).slice(0,o)){for(;c--;)i=Ln(i.times(i),o);return u.precision=d,t==null?(ra=!0,Ln(i,d)):i}i=s}}function $a(e){for(var t=e.e*Yn,r=e.d[0];r>=10;r/=10)t++;return t}function dA(e,t,r){if(t>e.LN10.sd())throw ra=!0,r&&(e.precision=r),Error(qo+"LN10 precision limit exceeded");return Ln(new e(e.LN10),t)}function Ju(e){for(var t="";e--;)t+="0";return t}function f1(e,t){var r,n,a,i,s,o,l,c,u,d=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(qo+(p.s?"NaN":"-Infinity"));if(p.eq(no))return new m(0);if(t==null?(ra=!1,c=v):c=t,p.eq(10))return t==null&&(ra=!0),dA(m,c);if(c+=h,m.precision=c,r=Gl(g),n=r.charAt(0),i=$a(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Gl(p.d),n=r.charAt(0),d++;i=$a(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=dA(m,c+2,v).times(i+""),p=f1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(ra=!0,Ln(p,v)):p;for(o=s=p=Wc(p.minus(no),p.plus(no),c),u=Ln(p.times(p),c),a=3;;){if(s=Ln(s.times(u),c),l=o.plus(Wc(s,new m(a),c)),Gl(l.d).slice(0,c)===Gl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(dA(m,c+2,v).times(i+""))),o=Wc(o,new m(d),c),m.precision=v,t==null?(ra=!0,Ln(o,v)):o;o=l,a+=2}}function TM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wm(r/Yn),e.d=[],n=(r+1)%Yn,r<0&&(n+=Yn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yn;n<a;)e.d.push(+t.slice(n,n+=Yn));t=t.slice(n),n=Yn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ra&&(e.e>rw||e.e<-rw))throw Error(hP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ln(e,t,r){var n,a,i,s,o,l,c,u,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Yn,a=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Yn),i=d.length,u>=i)return e;for(c=i=d[u],s=1;i>=10;i/=10)s++;n%=Yn,a=n-Yn+s}if(r!==void 0&&(i=Nd(10,s-a-1),o=c/i%10|0,l=t<0||d[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/Nd(10,s-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=$a(e),d.length=1,t=t-i-1,d[0]=Nd(10,(Yn-t%Yn)%Yn),e.e=wm(-t/Yn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=Nd(10,Yn-n),d[u]=a>0?(c/Nd(10,s-a)%Nd(10,a)|0)*i:0),l)for(;;)if(u==0){(d[0]+=i)==ai&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=ai)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(ra&&(e.e>rw||e.e<-rw))throw Error(hP+$a(e));return e}function tG(e,t){var r,n,a,i,s,o,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ra?Ln(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),a=Math.max(Math.ceil(p/Yn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}s=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=ai-1;--l[i],l[a]+=ai}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ra?Ln(t,p):t):new h(0)}function ph(e,t,r){var n,a=$a(e),i=Gl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Ju(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ju(-a-1)+i,r&&(n=r-s)>0&&(i+=Ju(n))):a>=s?(i+=Ju(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Ju(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Ju(n))),e.s<0?"-"+i:i}function EM(e,t){if(e.length>t)return e.length=t,!0}function rG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Xd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return TM(s,i.toString())}else if(typeof i!="string")throw Error(Xd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Wje.test(i))TM(s,i);else throw Error(Xd+i)}if(a.prototype=tr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rG,a.config=a.set=Hje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Hje(e){if(!e||typeof e!="object")throw Error(qo+"Object expected");var t,r,n,a=["precision",1,bm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Xd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xd+r+": "+n);return this}var pP=rG(qje);no=new pP(1);const Nn=pP;function Gje(e){return Qje(e)||Xje(e)||Yje(e)||Kje()}function Kje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yje(e,t){if(e){if(typeof e=="string")return vT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vT(e,t)}}function Xje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Qje(e){if(Array.isArray(e))return vT(e)}function vT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jje=function(t){return t},nG={"@@functional/placeholder":!0},aG=function(t){return t===nG},NM=function(t){return function r(){return arguments.length===0||arguments.length===1&&aG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Zje=function e(t,r){return t===1?r:NM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==nG}).length;return s>=t?r.apply(void 0,a):e(t-s,NM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(d){return aG(d)?l.shift():d});return r.apply(void 0,Gje(u).concat(l))}))})},a_=function(t){return Zje(t.length,t)},yT=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},eOe=a_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),tOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Jje;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},xT=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},iG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function rOe(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function nOe(e,t,r){for(var n=new Nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var aOe=a_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),iOe=a_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),sOe=a_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const i_={rangeStep:nOe,getDigitCount:rOe,interpolateNumber:aOe,uninterpolateNumber:iOe,uninterpolateTruncation:sOe};function bT(e){return cOe(e)||lOe(e)||sG(e)||oOe()}function oOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cOe(e){if(Array.isArray(e))return wT(e)}function d1(e,t){return dOe(e)||fOe(e,t)||sG(e,t)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sG(e,t){if(e){if(typeof e=="string")return wT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wT(e,t)}}function wT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function dOe(e){if(Array.isArray(e))return e}function oG(e){var t=d1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function lG(e,t,r){if(e.lte(0))return new Nn(0);var n=i_.getDigitCount(e.toNumber()),a=new Nn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Nn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Nn(Math.ceil(l))}function hOe(e,t,r){var n=1,a=new Nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Nn(10).pow(i_.getDigitCount(e)-1),a=new Nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nn(Math.floor(e)))}else e===0?a=new Nn(Math.floor((t-1)/2)):r||(a=new Nn(Math.floor(e)));var s=Math.floor((t-1)/2),o=tOe(eOe(function(l){return a.add(new Nn(l-s).mul(n)).toNumber()}),yT);return o(0,t)}function cG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var i=lG(new Nn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Nn(0):(s=new Nn(e).add(t).div(2),s=s.sub(new Nn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Nn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?cG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Nn(o).mul(i)),tickMax:s.add(new Nn(l).mul(i))})}function pOe(e){var t=d1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=oG([r,n]),l=d1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(bT(yT(0,a-1).map(function(){return 1/0}))):[].concat(bT(yT(0,a-1).map(function(){return-1/0})),[u]);return r>n?xT(d):d}if(c===u)return hOe(c,a,i);var h=cG(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=i_.rangeStep(g,m.add(new Nn(.1).mul(p)),p);return r>n?xT(v):v}function mOe(e,t){var r=d1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oG([n,a]),o=d1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),d=lG(new Nn(c).sub(l).div(u-1),i,0),h=[].concat(bT(i_.rangeStep(new Nn(l),new Nn(c).sub(new Nn(.99).mul(d)),d)),[c]);return n>a?xT(h):h}var gOe=iG(pOe),vOe=iG(mOe),yOe="Invariant failed";function mh(e,t){throw new Error(yOe)}var xOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}function bOe(e,t){return AOe(e)||SOe(e,t)||_Oe(e,t)||wOe()}function wOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Oe(e,t){if(e){if(typeof e=="string")return kM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(e,t)}}function kM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function AOe(e){if(Array.isArray(e))return e}function TOe(e,t){if(e==null)return{};var r=EOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dG(n.key),n)}}function COe(e,t,r){return t&&kOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function POe(e,t,r){return t=aw(t),jOe(e,uG()?Reflect.construct(t,r||[],aw(e).constructor):t.apply(e,r))}function jOe(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OOe(e)}function OOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!e})()}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(e)}function IOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_T(e,t)}function _T(e,t){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_T(e,t)}function fG(e,t,r){return t=dG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=DOe(e,"string");return jp(t)=="symbol"?t:t+""}function DOe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var my=function(e){function t(){return NOe(this,t),POe(this,t,arguments)}return IOe(t,e),COe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=TOe(n,xOe),p=Zr(h,!1);this.props.direction==="x"&&u.type!=="number"&&mh();var g=l.map(function(m){var v=c(m,o),y=v.x,w=v.y,b=v.value,D=v.errorVal;if(!D)return null;var O=[],P,T;if(Array.isArray(D)){var _=bOe(D,2);P=_[0],T=_[1]}else P=T=D;if(i==="vertical"){var S=u.scale,I=w+a,E=I+s,C=I-s,N=S(b-P),U=S(b+T);O.push({x1:U,y1:E,x2:U,y2:C}),O.push({x1:N,y1:I,x2:U,y2:I}),O.push({x1:N,y1:E,x2:N,y2:C})}else if(i==="horizontal"){var X=d.scale,z=y+a,H=z-s,V=z+s,q=X(b-P),te=X(b+T);O.push({x1:H,y1:te,x2:V,y2:te}),O.push({x1:z,y1:q,x2:z,y2:te}),O.push({x1:H,y1:q,x2:V,y2:q})}return Ue.createElement(Ta,nw({className:"recharts-errorBar",key:"bar-".concat(O.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),O.map(function(Z){return Ue.createElement("line",nw({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Ue.createElement(Ta,{className:"recharts-errorBars"},g)}}])}(Ue.Component);fG(my,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fG(my,"displayName","ErrorBar");function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){LOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LOe(e,t,r){return t=MOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MOe(e){var t=ROe(e,"string");return h1(t)=="symbol"?t:t+""}function ROe(e,t){if(h1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=eo(r,$o);if(!s)return null;var o=$o.defaultProps,l=o!==void 0?xd(xd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?xd(xd({},h),d.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:mP(d),value:m||g,payload:p}}),xd(xd(xd({},l),$o.getWithHeight(s,a)),{},{payload:c,item:s})};function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function PM(e){return UOe(e)||BOe(e)||$Oe(e)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Oe(e,t){if(e){if(typeof e=="string")return ST(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ST(e,t)}}function BOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UOe(e){if(Array.isArray(e))return ST(e)}function ST(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){Y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y0(e,t,r){return t=VOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VOe(e){var t=zOe(e,"string");return p1(t)=="symbol"?t:t+""}function zOe(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uo(e,t,r){return zr(e)||zr(t)?r:Ya(t)?Ro(e,t,r):Br(t)?t(e):r}function tv(e,t,r,n){var a=Bje(e,function(o){return uo(o,t)});if(r==="number"){var i=a.filter(function(o){return Ut(o)||parseFloat(o)});return i.length?[r_(i),t_(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!zr(o)}):a;return s.map(function(o){return Ya(o)||o instanceof Date?o:""})}var qOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,d=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(bl(d-u)!==bl(h-d)){var g=[];if(bl(h-d)===bl(l[1]-l[0])){p=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var w=Math.min(u,h),b=Math.max(u,h);if(t>(w+d)/2&&t<=(b+d)/2){s=a[c].index;break}}}else for(var D=0;D<o;D++)if(D===0&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D===o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},mP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ma(ma({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},WOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return Vc(T.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?ma(ma({},w),y[0].props):y[0].props,D=b.barSize,O=b[v];s[O]||(s[O]=[]);var P=zr(D)?r:D;s[O].push({item:y[0],stackList:y.slice(1),barSize:zr(P)?void 0:hh(P,n,0)})}}return s},HOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=hh(r,a,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(D,O){return D+O.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(D,O){var P={item:O.item,position:{offset:v.offset+v.size+c,size:h?p:O.barSize}},T=[].concat(PM(D),[P]);return v=T[T.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(_){T.push({item:_,position:v})}),T},d)}else{var y=hh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var w=(a-2*y-(l-1)*c)/l;w>1&&(w>>=0);var b=o===+o?Math.min(w,o):w;u=s.reduce(function(D,O,P){var T=[].concat(PM(D),[{item:O.item,position:{offset:y+(w+c)*P+(w-b)/2,size:b}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(_){T.push({item:_,position:T[T.length-1].position})}),T},d)}return u},GOe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=hG({children:i,legendWidth:l});if(c){var u=a||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Ut(t[p]))return ma(ma({},t),{},Y0({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Ut(t[g]))return ma(ma({},t),{},Y0({},g,t[g]+(h||0)))}return t},KOe=function(t,r,n){return zr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pG=function(t,r,n,a,i){var s=r.props.children,o=Fo(s,my).filter(function(c){return KOe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=uo(u,n);if(zr(d))return c;var h=Array.isArray(d)?[r_(d),t_(d)]:[d,d],p=l.reduce(function(g,m){var v=uo(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},YOe=function(t,r,n,a,i){var s=r.map(function(o){return pG(t,o,n,i,a)}).filter(function(o){return!zr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},mG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&pG(t,l,c,a)||tv(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},gG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},vG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Rc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?bl(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return u.filter(function(d){return!ly(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},hA=new WeakMap,Ox=function(t,r){if(typeof r!="function")return t;hA.has(t)||hA.set(t,new WeakMap);var n=hA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},XOe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:s1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Jb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ev(),realScaleType:"point"}:i==="category"?{scale:s1(),realScaleType:"band"}:{scale:Jb(),realScaleType:"linear"};if(dh(a)){var l="scale".concat(V5(a));return{scale:(AM[l]||ev)(),realScaleType:AM[l]?l:"point"}}return Br(a)?{scale:a}:{scale:ev(),realScaleType:"point"}},OM=1e-4,QOe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-OM,s=Math.max(a[0],a[1])+OM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},JOe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},ZOe=function(t,r){if(!r||r.length!==2||!Ut(r[0])||!Ut(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ut(t[0])||t[0]<n)&&(i[0]=n),(!Ut(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},eIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=ly(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},tIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=ly(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},rIe={sign:eIe,expand:v_e,none:Sp,silhouette:y_e,wiggle:x_e,positive:tIe},nIe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=rIe[n],s=g_e().keys(a).value(function(o,l){return+uo(o,l,0)}).order(K3).offset(i);return s(t)},aIe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ma(ma({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return d;var y=g[n],w=d[y]||{hasStack:!1,stackGroups:{}};if(Ya(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[cy("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ma(ma({},d),{},Y0({},y,w))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return ma(ma({},m),{},Y0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:nIe(t,y.items,i)}))},g)}return ma(ma({},d),{},Y0({},h,p))},u)},iIe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=gOe(c,i,o);return t.domain([r_(u),t_(u)]),{niceTicks:u}}if(i&&a==="number"){var d=t.domain(),h=vOe(d,i,o);return{niceTicks:h}}return null};function IM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zr(a[t.dataKey])){var o=Cb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=uo(a,zr(s)?t.dataKey:s);return zr(l)?null:t.scale(l)}var DM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=uo(s,r.dataKey,r.domain[o]);return zr(l)?null:r.scale(l)-i/2+a},sIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},oIe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ma(ma({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ya(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},lIe=function(t){return t.reduce(function(r,n){return[r_(n.concat([r[0]]).filter(Ut)),t_(n.concat([r[1]]).filter(Ut))]},[1/0,-1/0])},yG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var d=lIe(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},LM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AT=function(t,r,n){if(Br(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ut(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(LM.test(t[0])){var i=+LM.exec(t[0])[1];a[0]=r[0]-i}else Br(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ut(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(MM.test(t[1])){var s=+MM.exec(t[1])[1];a[1]=r[1]+s}else Br(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},iw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=zC(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},RM=function(t,r,n){return!t||!t.length||n_(t,Ro(n,"type.defaultProps.domain"))?r:t},xG=function(t,r){var n=t.type.defaultProps?ma(ma({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return ma(ma({},Zr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:mP(t),value:uo(r,a),type:l,payload:r,chartType:c,hide:u})};function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){cIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cIe(e,t,r){return t=uIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uIe(e){var t=fIe(e,"string");return m1(t)=="symbol"?t:t+""}function fIe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sw=Math.PI/180,dIe=function(t){return t*180/Math.PI},Ai=function(t,r,n,a){return{x:t+Math.cos(-sw*a)*n,y:r+Math.sin(-sw*a)*n}},hIe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},pIe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=hIe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:dIe(c),angleInRadian:c}},mIe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},gIe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},BM=function(t,r){var n=t.x,a=t.y,i=pIe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=mIe(r),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?$M($M({},r),{},{radius:s,angle:gIe(p,r)}):null};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}var vIe=["offset"];function yIe(e){return _Ie(e)||wIe(e)||bIe(e)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function wIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ie(e){if(Array.isArray(e))return TT(e)}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SIe(e,t){if(e==null)return{};var r=AIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){TIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TIe(e,t,r){return t=EIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EIe(e){var t=NIe(e,"string");return g1(t)=="symbol"?t:t+""}function NIe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}var kIe=function(t){var r=t.value,n=t.formatter,a=zr(t.children)?r:t.children;return Br(n)?n(a):a},CIe=function(t,r){var n=bl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},PIe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(d+h)/2,y=CIe(p,g),w=y>=0?1:-1,b,D;a==="insideStart"?(b=p+w*s,D=m):a==="insideEnd"?(b=g-w*s,D=!m):a==="end"&&(b=g+w*s,D=m),D=y<=0?D:!D;var O=Ai(c,u,v,b),P=Ai(c,u,v,b+(D?1:-1)*359),T="M".concat(O.x,",").concat(O.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(D?0:1,`,
    `).concat(P.x,",").concat(P.y),_=zr(t.id)?cy("recharts-radial-line-"):t.id;return Ue.createElement("text",v1({},n,{dominantBaseline:"central",className:un("recharts-radial-bar-label",o)}),Ue.createElement("defs",null,Ue.createElement("path",{id:_,d:T})),Ue.createElement("textPath",{xlinkHref:"#".concat(_)},r))},jIe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,d=i.endAngle,h=(u+d)/2;if(a==="outside"){var p=Ai(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Ai(s,o,v,h),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},OIe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*a,p=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var b={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return qa(qa({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var D={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return qa(qa({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var O={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return qa(qa({},O),n?{width:Math.max(O.x-n.x,0),height:u}:{})}if(i==="right"){var P={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return qa(qa({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?qa({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},T):i==="insideRight"?qa({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?qa({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?qa({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?qa({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},T):i==="insideTopRight"?qa({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?qa({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:p},T):i==="insideBottomRight"?qa({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):dm(i)&&(Ut(i.x)||Fd(i.x))&&(Ut(i.y)||Fd(i.y))?qa({x:o+hh(i.x,c),y:l+hh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):qa({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},IIe=function(t){return"cx"in t&&Ut(t.cx)};function Gi(e){var t=e.offset,r=t===void 0?5:t,n=SIe(e,vIe),a=qa({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!i||zr(o)&&zr(l)&&!F.isValidElement(c)&&!Br(c))return null;if(F.isValidElement(c))return F.cloneElement(c,a);var p;if(Br(c)){if(p=F.createElement(c,a),F.isValidElement(p))return p}else p=kIe(a);var g=IIe(i),m=Zr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return PIe(a,p,m);var v=g?jIe(a):OIe(a);return Ue.createElement(Wb,v1({className:un("recharts-label",d)},m,v,{breakAll:h}),p)}Gi.displayName="Label";var bG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ut(m)&&Ut(v)){if(Ut(d)&&Ut(h))return{x:d,y:h,width:m,height:v};if(Ut(p)&&Ut(g))return{x:p,y:g,width:m,height:v}}return Ut(d)&&Ut(h)?{x:d,y:h,width:0,height:0}:Ut(r)&&Ut(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},DIe=function(t,r){return t?t===!0?Ue.createElement(Gi,{key:"label-implicit",viewBox:r}):Ya(t)?Ue.createElement(Gi,{key:"label-implicit",viewBox:r,value:t}):F.isValidElement(t)?t.type===Gi?F.cloneElement(t,{key:"label-implicit",viewBox:r}):Ue.createElement(Gi,{key:"label-implicit",content:t,viewBox:r}):Br(t)?Ue.createElement(Gi,{key:"label-implicit",content:t,viewBox:r}):dm(t)?Ue.createElement(Gi,v1({viewBox:r},t,{key:"label-implicit"})):null:null},LIe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=bG(t),s=Fo(a,Gi).map(function(l,c){return F.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=DIe(t.label,r||i);return[o].concat(yIe(s))};Gi.parseViewBox=bG;Gi.renderCallByParent=LIe;function MIe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var RIe=MIe;const FIe=kn(RIe);function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}var $Ie=["valueAccessor"],BIe=["data","dataKey","clockWise","id","textBreakAll"];function UIe(e){return WIe(e)||qIe(e)||zIe(e)||VIe()}function VIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zIe(e,t){if(e){if(typeof e=="string")return ET(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ET(e,t)}}function qIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WIe(e){if(Array.isArray(e))return ET(e)}function ET(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(this,arguments)}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(n){HIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HIe(e,t,r){return t=GIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GIe(e){var t=KIe(e,"string");return y1(t)=="symbol"?t:t+""}function KIe(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qM(e,t){if(e==null)return{};var r=YIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XIe=function(t){return Array.isArray(t.value)?FIe(t.value):t.value};function Of(e){var t=e.valueAccessor,r=t===void 0?XIe:t,n=qM(e,$Ie),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=qM(n,BIe);return!a||!a.length?null:Ue.createElement(Ta,{className:"recharts-label-list"},a.map(function(u,d){var h=zr(i)?r(u,d):uo(u&&u.payload,i),p=zr(o)?{}:{id:"".concat(o,"-").concat(d)};return Ue.createElement(Gi,ow({},Zr(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Gi.parseViewBox(zr(s)?u:zM(zM({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Of.displayName="LabelList";function QIe(e,t){return e?e===!0?Ue.createElement(Of,{key:"labelList-implicit",data:t}):Ue.isValidElement(e)||Br(e)?Ue.createElement(Of,{key:"labelList-implicit",data:t,content:e}):dm(e)?Ue.createElement(Of,ow({data:t},e,{key:"labelList-implicit"})):null:null}function JIe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Fo(n,Of).map(function(s,o){return F.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=QIe(e.label,t);return[i].concat(UIe(a))}Of.renderCallByParent=JIe;function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function NT(){return NT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NT.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){ZIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZIe(e,t,r){return t=eDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eDe(e){var t=tDe(e,"string");return x1(t)=="symbol"?t:t+""}function tDe(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rDe=function(t,r){var n=bl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ix=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,d=Math.asin(l/u)/sw,h=c?i:i+s*d,p=Ai(r,n,u,h),g=Ai(r,n,a,h),m=c?i-s*d:i,v=Ai(r,n,u*Math.cos(d*sw),m);return{center:p,circleTangency:g,lineTangency:v,theta:d}},wG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=rDe(s,o),c=s+l,u=Ai(r,n,i,s),d=Ai(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Ai(r,n,a,s),g=Ai(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},nDe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=bl(u-c),h=Ix({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Ix({cx:r,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,b=v.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(D<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):wG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var O="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var P=Ix({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=P.circleTangency,_=P.lineTangency,S=P.theta,I=Ix({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=I.circleTangency,C=I.lineTangency,N=I.theta,U=l?Math.abs(c-u):Math.abs(c-u)-S-N;if(U<0&&s===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},aDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_G=function(t){var r=HM(HM({},aDe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(s<i||u===d)return null;var p=un("recharts-sector",h),g=s-i,m=hh(o,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=nDe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=wG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),Ue.createElement("path",NT({},Zr(r,!0),{className:p,d:v,role:"img"}))};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function kT(){return kT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kT.apply(this,arguments)}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){iDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iDe(e,t,r){return t=sDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=oDe(e,"string");return b1(t)=="symbol"?t:t+""}function oDe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YM={curveBasisClosed:i_e,curveBasisOpen:s_e,curveBasis:a_e,curveBumpX:q5e,curveBumpY:W5e,curveLinearClosed:o_e,curveLinear:q5,curveMonotoneX:l_e,curveMonotoneY:c_e,curveNatural:u_e,curveStep:f_e,curveStepAfter:h_e,curveStepBefore:d_e},Dx=function(t){return t.x===+t.x&&t.y===+t.y},rg=function(t){return t.x},ng=function(t){return t.y},lDe=function(t,r){if(Br(t))return t;var n="curve".concat(V5(t));return(n==="curveMonotone"||n==="curveBump")&&r?YM["".concat(n).concat(r==="vertical"?"Y":"X")]:YM[n]||q5},cDe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=lDe(n,o),d=c?i.filter(function(m){return Dx(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Dx(m)}):s,g=d.map(function(m,v){return KM(KM({},m),{},{base:p[v]})});return o==="vertical"?h=Ax().y(ng).x1(rg).x0(function(m){return m.base.x}):h=Ax().x(rg).y1(ng).y0(function(m){return m.base.y}),h.defined(Dx).curve(u),h(g)}return o==="vertical"&&Ut(s)?h=Ax().y(ng).x1(rg).x0(s):Ut(s)?h=Ax().x(rg).y1(ng).y0(s):h=_W().x(rg).y(ng),h.defined(Dx).curve(u),h(d)},CT=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?cDe(t):a;return F.createElement("path",kT({},Zr(t,!1),Pb(t),{className:un("recharts-curve",r),d:s,ref:i}))},SG={exports:{}},uDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fDe=uDe,dDe=fDe;function AG(){}function TG(){}TG.resetWarningCache=AG;var hDe=function(){function e(n,a,i,s,o,l){if(l!==dDe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TG,resetWarningCache:AG};return r.PropTypes=r,r};SG.exports=hDe();var pDe=SG.exports;const yn=kn(pDe);var mDe=Object.getOwnPropertyNames,gDe=Object.getOwnPropertySymbols,vDe=Object.prototype.hasOwnProperty;function XM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Lx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function QM(e){return mDe(e).concat(gDe(e))}var yDe=Object.hasOwn||function(e,t){return vDe.call(e,t)};function Oh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var xDe="__v",bDe="__o",wDe="_owner",JM=Object.getOwnPropertyDescriptor,ZM=Object.keys;function _De(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function SDe(e,t){return Oh(e.getTime(),t.getTime())}function ADe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function TDe(e,t){return e===t}function e7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;){if(a[d]){d++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var EDe=Oh;function NDe(e,t,r){var n=ZM(e),a=n.length;if(ZM(t).length!==a)return!1;for(;a-- >0;)if(!EG(e,t,r,n[a]))return!1;return!0}function ag(e,t,r){var n=QM(e),a=n.length;if(QM(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!EG(e,t,r,i)||(s=JM(e,i),o=JM(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function kDe(e,t){return Oh(e.valueOf(),t.valueOf())}function CDe(e,t){return e.source===t.source&&e.flags===t.flags}function t7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function PDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function jDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function EG(e,t,r,n){return(n===wDe||n===bDe||n===xDe)&&(e.$$typeof||t.$$typeof)?!0:yDe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var ODe="[object Arguments]",IDe="[object Boolean]",DDe="[object Date]",LDe="[object Error]",MDe="[object Map]",RDe="[object Number]",FDe="[object Object]",$De="[object RegExp]",BDe="[object Set]",UDe="[object String]",VDe="[object URL]",zDe=Array.isArray,r7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,n7=Object.assign,qDe=Object.prototype.toString.call.bind(Object.prototype.toString);function WDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return o(g,m,v);if(zDe(g))return t(g,m,v);if(r7!=null&&r7(g))return d(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return i(g,m,v);if(w===Set)return u(g,m,v);var b=qDe(g);return b===DDe?r(g,m,v):b===$De?c(g,m,v):b===MDe?i(g,m,v):b===BDe?u(g,m,v):b===FDe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):b===VDe?h(g,m,v):b===LDe?n(g,m,v):b===ODe?o(g,m,v):b===IDe||b===RDe||b===UDe?l(g,m,v):!1}}function HDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?ag:_De,areDatesEqual:SDe,areErrorsEqual:ADe,areFunctionsEqual:TDe,areMapsEqual:n?XM(e7,ag):e7,areNumbersEqual:EDe,areObjectsEqual:n?ag:NDe,arePrimitiveWrappersEqual:kDe,areRegExpsEqual:CDe,areSetsEqual:n?XM(t7,ag):t7,areTypedArraysEqual:n?ag:PDe,areUrlsEqual:jDe};if(r&&(a=n7({},a,r(a))),t){var i=Lx(a.areArraysEqual),s=Lx(a.areMapsEqual),o=Lx(a.areObjectsEqual),l=Lx(a.areSetsEqual);a=n7({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function GDe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function KDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?t?new WeakMap:void 0:d,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var YDe=nd();nd({strict:!0});nd({circular:!0});nd({circular:!0,strict:!0});nd({createInternalComparator:function(){return Oh}});nd({strict:!0,createInternalComparator:function(){return Oh}});nd({circular:!0,createInternalComparator:function(){return Oh}});nd({circular:!0,createInternalComparator:function(){return Oh},strict:!0});function nd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=HDe(e),l=WDe(o),c=n?n(l):GDe(l);return KDe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function XDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function a7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):XDe(a)};requestAnimationFrame(n)}function PT(e){"@babel/helpers - typeof";return PT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PT(e)}function QDe(e){return t8e(e)||e8e(e)||ZDe(e)||JDe()}function JDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZDe(e,t){if(e){if(typeof e=="string")return i7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i7(e,t)}}function i7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t8e(e){if(Array.isArray(e))return e}function r8e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=QDe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){a7(a.bind(null,c),l);return}a(l),a7(a.bind(null,c));return}PT(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(n){NG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NG(e,t,r){return t=n8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8e(e){var t=a8e(e,"string");return w1(t)==="symbol"?t:String(t)}function a8e(e,t){if(w1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},s8e=function(t){return t},o8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},rv=function(t,r){return Object.keys(r).reduce(function(n,a){return o7(o7({},n),{},NG({},a,t(a,r[a])))},{})},l7=function(t,r,n){return t.map(function(a){return"".concat(o8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function l8e(e,t){return f8e(e)||u8e(e,t)||kG(e,t)||c8e()}function c8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function f8e(e){if(Array.isArray(e))return e}function d8e(e){return m8e(e)||p8e(e)||kG(e)||h8e()}function h8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(e,t){if(e){if(typeof e=="string")return jT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jT(e,t)}}function p8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m8e(e){if(Array.isArray(e))return jT(e)}function jT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lw=1e-4,CG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},PG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},c7=function(t,r){return function(n){var a=CG(t,r);return PG(a,n)}},g8e=function(t,r){return function(n){var a=CG(t,r),i=[].concat(d8e(a.map(function(s,o){return s*o}).slice(1)),[0]);return PG(i,n)}},u7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=l8e(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var d=c7(a,s),h=c7(i,o),p=g8e(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,b=w,D=0;D<8;++D){var O=d(b)-w,P=p(b);if(Math.abs(O-w)<lw||P<lw)return h(b);b=g(b-O/P)}return h(b)};return m.isStepper=!1,m},v8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<lw&&Math.abs(m)<lw?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},y8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u7(a);case"spring":return v8e();default:if(a.split("(")[0]==="cubic-bezier")return u7(a)}return typeof a=="function"?a:null};function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function f7(e){return w8e(e)||b8e(e)||jG(e)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w8e(e){if(Array.isArray(e))return IT(e)}function d7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(r),!0).forEach(function(n){OT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OT(e,t,r){return t=_8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8e(e){var t=S8e(e,"string");return _1(t)==="symbol"?t:String(t)}function S8e(e,t){if(_1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8e(e,t){return N8e(e)||E8e(e,t)||jG(e,t)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(e,t){if(e){if(typeof e=="string")return IT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(e,t)}}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function N8e(e){if(Array.isArray(e))return e}var cw=function(t,r,n){return t+(r-t)*n},DT=function(t){var r=t.from,n=t.to;return r!==n},k8e=function e(t,r,n){var a=rv(function(i,s){if(DT(s)){var o=t(s.from,s.to,s.velocity),l=A8e(o,2),c=l[0],u=l[1];return vi(vi({},s),{},{from:c,velocity:u})}return s},r);return n<1?rv(function(i,s){return DT(s)?vi(vi({},s),{},{velocity:cw(s.velocity,a[i].velocity,n),from:cw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const C8e=function(e,t,r,n,a){var i=i8e(e,t),s=i.reduce(function(v,y){return vi(vi({},v),{},OT({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return vi(vi({},v),{},OT({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return rv(function(y,w){return w.from},o)},p=function(){return!Object.values(o).filter(DT).length},g=function(y){c||(c=y);var w=y-c,b=w/r.dt;o=k8e(r,o,b),a(vi(vi(vi({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},m=function(y){u||(u=y);var w=(y-u)/n,b=rv(function(O,P){return cw.apply(void 0,f7(P).concat([r(w)]))},s);if(a(vi(vi(vi({},e),t),b)),w<1)l=requestAnimationFrame(d);else{var D=rv(function(O,P){return cw.apply(void 0,f7(P).concat([r(1)]))},s);a(vi(vi(vi({},e),t),D))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}var P8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function j8e(e,t){if(e==null)return{};var r=O8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pA(e){return M8e(e)||L8e(e)||D8e(e)||I8e()}function I8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(e,t){if(e){if(typeof e=="string")return LT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(e,t)}}function L8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M8e(e){if(Array.isArray(e))return LT(e)}function LT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(r),!0).forEach(function(n){Sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sg(e,t,r){return t=OG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OG(n.key),n)}}function $8e(e,t,r){return t&&F8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OG(e){var t=B8e(e,"string");return Op(t)==="symbol"?t:String(t)}function B8e(e,t){if(Op(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MT(e,t)}function MT(e,t){return MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MT(e,t)}function V8e(e){var t=z8e();return function(){var n=uw(e),a;if(t){var i=uw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return RT(this,a)}}function RT(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FT(e)}function FT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}var cu=function(e){U8e(r,e);var t=V8e(r);function r(n,a){var i;R8e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(FT(i)),i.changeStyle=i.changeStyle.bind(FT(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),RT(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},RT(i);i.state={style:l?Sg({},l,c):c}}else i.state={style:{}};return i}return $8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,d=i.from,h=this.state.style;if(o){if(!s){var p={style:l?Sg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(YDe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:a.to;if(this.state&&h){var v={style:l?Sg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(al(al({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=C8e(s,o,y8e(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,v,y){if(y===0)return m;var w=v.duration,b=v.easing,D=b===void 0?"ease":b,O=v.style,P=v.properties,T=v.onAnimationEnd,_=y>0?s[y-1]:v,S=P||Object.keys(O);if(typeof D=="function"||D==="spring")return[].concat(pA(m),[i.runJSAnimation.bind(i,{from:_.style,to:O,duration:w,easing:D}),w]);var I=l7(S,w,D),E=al(al(al({},_.style),O),{},{transition:I});return[].concat(pA(m),[E,w,T]).filter(s8e)};return this.manager.start([l].concat(pA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=r8e());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?Sg({},o,l):l,v=l7(Object.keys(m),s,c);g.start([u,i,al(al({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=j8e(a,P8e),c=F.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var d=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=F.cloneElement(p,al(al({},l),{},{style:al(al({},v),u),className:y}));return w};return c===1?d(F.Children.only(i)):Ue.createElement("div",null,F.Children.map(i,function(h){return d(h)}))}}]),r}(F.PureComponent);cu.displayName="Animate";cu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};cu.propTypes={from:yn.oneOfType([yn.object,yn.string]),to:yn.oneOfType([yn.object,yn.string]),attributeName:yn.string,duration:yn.number,begin:yn.number,easing:yn.oneOfType([yn.string,yn.func]),steps:yn.arrayOf(yn.shape({duration:yn.number.isRequired,style:yn.object.isRequired,easing:yn.oneOfType([yn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yn.func]),properties:yn.arrayOf("string"),onAnimationEnd:yn.func})),children:yn.oneOfType([yn.node,yn.func]),isActive:yn.bool,canBegin:yn.bool,onAnimationEnd:yn.func,shouldReAnimate:yn.bool,onAnimationStart:yn.func,onAnimationReStart:yn.func};function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(this,arguments)}function q8e(e,t){return K8e(e)||G8e(e,t)||H8e(e,t)||W8e()}function W8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8e(e,t){if(e){if(typeof e=="string")return p7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p7(e,t)}}function p7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function K8e(e){if(Array.isArray(e))return e}function m7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(r),!0).forEach(function(n){Y8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8e(e,t,r){return t=X8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8e(e){var t=Q8e(e,"string");return S1(t)=="symbol"?t:t+""}function Q8e(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v7=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*d[1])),u+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),u+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},J8e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=d&&a<=h}return!1},Z8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gP=function(t){var r=g7(g7({},Z8e),t),n=F.useRef(),a=F.useState(-1),i=q8e(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&o(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=un("recharts-rectangle",p);return w?Ue.createElement(cu,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(D){var O=D.width,P=D.height,T=D.x,_=D.y;return Ue.createElement(cu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Ue.createElement("path",fw({},Zr(r,!0),{className:b,d:v7(T,_,O,P,h),ref:n})))}):Ue.createElement("path",fw({},Zr(r,!0),{className:b,d:v7(l,c,u,d,h)}))};function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}var vP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=un("recharts-dot",i);return r===+r&&n===+n&&a===+a?F.createElement("circle",$T({},Zr(t,!1),Pb(t),{className:s,cx:r,cy:n,r:a})):null};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}var eLe=["x","y","top","left","width","height","className"];function BT(){return BT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BT.apply(this,arguments)}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tLe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(n){rLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rLe(e,t,r){return t=nLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nLe(e){var t=aLe(e,"string");return A1(t)=="symbol"?t:t+""}function aLe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iLe(e,t){if(e==null)return{};var r=sLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oLe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},lLe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=iLe(t,eLe),v=tLe({x:n,y:i,top:o,left:c,width:d,height:p},m);return!Ut(n)||!Ut(i)||!Ut(d)||!Ut(p)||!Ut(o)||!Ut(c)?null:Ue.createElement("path",BT({},Zr(v,!0),{className:un("recharts-cross",g),d:oLe(n,i,d,p,o,c)}))},cLe=HW,uLe=cLe(Object.getPrototypeOf,Object),fLe=uLe,dLe=gu,hLe=fLe,pLe=vu,mLe="[object Object]",gLe=Function.prototype,vLe=Object.prototype,IG=gLe.toString,yLe=vLe.hasOwnProperty,xLe=IG.call(Object);function bLe(e){if(!pLe(e)||dLe(e)!=mLe)return!1;var t=hLe(e);if(t===null)return!0;var r=yLe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&IG.call(r)==xLe}var wLe=bLe;const _Le=kn(wLe);var SLe=gu,ALe=vu,TLe="[object Boolean]";function ELe(e){return e===!0||e===!1||ALe(e)&&SLe(e)==TLe}var NLe=ELe;const kLe=kn(NLe);function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function CLe(e,t){return ILe(e)||OLe(e,t)||jLe(e,t)||PLe()}function PLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jLe(e,t){if(e){if(typeof e=="string")return x7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x7(e,t)}}function x7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ILe(e){if(Array.isArray(e))return e}function b7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b7(Object(r),!0).forEach(function(n){DLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DLe(e,t,r){return t=LLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LLe(e){var t=MLe(e,"string");return T1(t)=="symbol"?t:t+""}function MLe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _7=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},RLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FLe=function(t){var r=w7(w7({},RLe),t),n=F.useRef(),a=F.useState(-1),i=CLe(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var w=un("recharts-trapezoid",p);return y?Ue.createElement(cu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(b){var D=b.upperWidth,O=b.lowerWidth,P=b.height,T=b.x,_=b.y;return Ue.createElement(cu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Ue.createElement("path",dw({},Zr(r,!0),{className:w,d:_7(T,_,D,O,P),ref:n})))}):Ue.createElement("g",null,Ue.createElement("path",dw({},Zr(r,!0),{className:w,d:_7(l,c,u,d,h)})))},$Le=["option","shapeType","propTransformer","activeClassName","isActive"];function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function BLe(e,t){if(e==null)return{};var r=ULe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ULe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(r),!0).forEach(function(n){VLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VLe(e,t,r){return t=zLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zLe(e){var t=qLe(e,"string");return E1(t)=="symbol"?t:t+""}function qLe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WLe(e,t){return hw(hw({},t),e)}function HLe(e,t){return e==="symbols"}function A7(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ue.createElement(gP,r);case"trapezoid":return Ue.createElement(FLe,r);case"sector":return Ue.createElement(_G,r);case"symbols":if(HLe(t))return Ue.createElement(LC,r);break;default:return null}}function GLe(e){return F.isValidElement(e)?e.props:e}function KLe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?WLe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=BLe(e,$Le),c;if(F.isValidElement(t))c=F.cloneElement(t,hw(hw({},l),GLe(t)));else if(Br(t))c=t(l);else if(_Le(t)&&!kLe(t)){var u=a(t,l);c=Ue.createElement(A7,{shapeType:r,elementProps:u})}else{var d=l;c=Ue.createElement(A7,{shapeType:r,elementProps:d})}return o?Ue.createElement(Ta,{className:s},c):c}function s_(e,t){return t!=null&&"trapezoids"in e.props}function o_(e,t){return t!=null&&"sectors"in e.props}function N1(e,t){return t!=null&&"points"in e.props}function YLe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function XLe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function QLe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function JLe(e,t){var r;return s_(e,t)?r=YLe:o_(e,t)?r=XLe:N1(e,t)&&(r=QLe),r}function ZLe(e,t){var r;return s_(e,t)?r="trapezoids":o_(e,t)?r="sectors":N1(e,t)&&(r="points"),r}function eMe(e,t){if(s_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(o_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return N1(e,t)?t.payload:{}}function tMe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=ZLe(r,t),i=eMe(r,t),s=n.filter(function(l,c){var u=n_(i,l),d=r.props[a].filter(function(g){var m=JLe(r,t);return m(g,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var rMe=Math.ceil,nMe=Math.max;function aMe(e,t,r,n){for(var a=-1,i=nMe(rMe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var iMe=aMe,sMe=fH,T7=1/0,oMe=17976931348623157e292;function lMe(e){if(!e)return e===0?e:0;if(e=sMe(e),e===T7||e===-T7){var t=e<0?-1:1;return t*oMe}return e===e?e:0}var DG=lMe,cMe=iMe,uMe=K5,mA=DG;function fMe(e){return function(t,r,n){return n&&typeof n!="number"&&uMe(t,r,n)&&(r=n=void 0),t=mA(t),r===void 0?(r=t,t=0):r=mA(r),n=n===void 0?t<r?1:-1:mA(n),cMe(t,r,n,e)}}var dMe=fMe,hMe=dMe,pMe=hMe(),mMe=pMe;const pw=kn(mMe);function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function E7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E7(Object(r),!0).forEach(function(n){LG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LG(e,t,r){return t=gMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gMe(e){var t=vMe(e,"string");return k1(t)=="symbol"?t:t+""}function vMe(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yMe=["Webkit","Moz","O","ms"],xMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=yMe.reduce(function(i,s){return N7(N7({},i),{},LG({},s+n,r))},{});return a[t]=r,a};function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(this,arguments)}function k7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RG(n.key),n)}}function wMe(e,t,r){return t&&C7(e.prototype,t),r&&C7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Me(e,t,r){return t=gw(t),SMe(e,MG()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function SMe(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AMe(e)}function AMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function TMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UT(e,t)}function UT(e,t){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UT(e,t)}function Js(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=EMe(e,"string");return Ip(t)=="symbol"?t:t+""}function EMe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ev().domain(pw(0,l)).range([i,i+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},P7=function(t){return t.changedTouches&&!!t.changedTouches.length},Dp=function(e){function t(r){var n;return bMe(this,t),n=_Me(this,t,[r]),Js(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Js(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Js(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Js(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Js(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Js(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Js(n,"handleSlideDragStart",function(a){var i=P7(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return TMe(t,e),wMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,d),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=uo(i[n],o,n);return Br(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-d-o,c+u-d-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=P7(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,d+h-p-c):w<0&&(w=Math.max(w,d-c)),y[s]=c+w;var b=this.getIndex(y),D=b.startIndex,O=b.endIndex,P=function(){var _=v.length-1;return s==="startX"&&(o>l?D%m===0:O%m===0)||o<l&&O===_||s==="endX"&&(o>l?O%m===0:D%m===0)||o>l&&O===_};this.setState(Js(Js({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&P()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],d=o.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Js({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ue.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,d=F.Children.only(c);return d?Ue.cloneElement(d,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),w=gA(gA({},Zr(this.props,!1)),{},{x:y,y:c,width:u,height:d}),b=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Ue.createElement(Ta,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),o.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return Ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return Ue.createElement(Ta,{className:"recharts-brush-texts"},Ue.createElement(Wb,mw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(a)),Ue.createElement(Wb,mw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!Ut(o)||!Ut(l)||!Ut(c)||!Ut(u)||c<=0||u<=0)return null;var b=un("recharts-brush",i),D=Ue.Children.count(s)===1,O=xMe("userSelect","none");return Ue.createElement(Ta,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ue.createElement(Ue.Fragment,null,Ue.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ue.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ue.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ue.isValidElement(n)?i=Ue.cloneElement(n,a):Br(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return gA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?NMe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(F.PureComponent);Js(Dp,"displayName","Brush");Js(Dp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kMe=VC;function CMe(e,t){var r;return kMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var PMe=CMe,jMe=FW,OMe=ed,IMe=PMe,DMe=Vs,LMe=K5;function MMe(e,t,r){var n=DMe(e)?jMe:IMe;return r&&LMe(e,t,r)&&(t=void 0),n(e,OMe(t))}var RMe=MMe;const FMe=kn(RMe);var nc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},j7=sH;function $Me(e,t,r){t=="__proto__"&&j7?j7(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var BMe=$Me,UMe=BMe,VMe=aH,zMe=ed;function qMe(e,t){var r={};return t=zMe(t),VMe(e,function(n,a,i){UMe(r,a,t(n,a,i))}),r}var WMe=qMe;const HMe=kn(WMe);function GMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var KMe=GMe,YMe=VC;function XMe(e,t){var r=!0;return YMe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var QMe=XMe,JMe=KMe,ZMe=QMe,e7e=ed,t7e=Vs,r7e=K5;function n7e(e,t,r){var n=t7e(e)?JMe:ZMe;return r&&r7e(e,t,r)&&(t=void 0),n(e,e7e(t))}var a7e=n7e;const FG=kn(a7e);var i7e=["x","y"];function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VT.apply(this,arguments)}function O7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(r),!0).forEach(function(n){s7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7e(e,t,r){return t=o7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7e(e){var t=l7e(e,"string");return C1(t)=="symbol"?t:t+""}function l7e(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c7e(e,t){if(e==null)return{};var r=u7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f7e(e,t){var r=e.x,n=e.y,a=c7e(e,i7e),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return ig(ig(ig(ig(ig({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function I7(e){return Ue.createElement(KLe,VT({shapeType:"rectangle",propTransformer:f7e,activeClassName:"recharts-active-bar"},e))}var d7e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ut(n)||Cwe(n);return i?t(n,a):(i||mh(),r)}},h7e=["value","background"],$G;function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function p7e(e,t){if(e==null)return{};var r=m7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(this,arguments)}function D7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(r),!0).forEach(function(n){pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UG(n.key),n)}}function v7e(e,t,r){return t&&L7(e.prototype,t),r&&L7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y7e(e,t,r){return t=yw(t),x7e(e,BG()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function x7e(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b7e(e)}function b7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function w7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zT(e,t)}function zT(e,t){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zT(e,t)}function pf(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=_7e(e,"string");return Lp(t)=="symbol"?t:t+""}function _7e(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy=function(e){function t(){var r;g7e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=y7e(this,t,[].concat(a)),pf(r,"state",{isAnimationFinished:!1}),pf(r,"id",cy("recharts-bar-")),pf(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),pf(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return w7e(t,e),v7e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Zr(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?c:s,m=Ia(Ia(Ia({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ue.createElement(Ta,vw({className:"recharts-bar-rectangle"},jb(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),Ue.createElement(I7,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return Ue.createElement(cu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var w=h&&h[y];if(w){var b=pl(w.x,v.x),D=pl(w.y,v.y),O=pl(w.width,v.width),P=pl(w.height,v.height);return Ia(Ia({},v),{},{x:b(g),y:D(g),width:O(g),height:P(g)})}if(s==="horizontal"){var T=pl(0,v.height),_=T(g);return Ia(Ia({},v),{},{y:v.y+v.height-_,height:_})}var S=pl(0,v.width),I=S(g);return Ia(Ia({},v),{},{width:I})});return Ue.createElement(Ta,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!n_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Zr(this.props.background,!1);return i.map(function(c,u){c.value;var d=c.background,h=p7e(c,h7e);if(!d)return null;var p=Ia(Ia(Ia(Ia(Ia({},h),{},{fill:"#eee"},d),l),jb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ue.createElement(I7,vw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Fo(u,my);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:uo(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(Ta,g,d.map(function(m){return Ue.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=un("recharts-bar",s),w=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,D=w||b,O=zr(m)?this.id:m;return Ue.createElement(Ta,{className:y},w||b?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(O)},Ue.createElement("rect",{x:w?c:c-d/2,y:b?u:u-h/2,width:w?d:d*2,height:b?h:h*2}))):null,Ue.createElement(Ta,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(O,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,O),(!p||v)&&Of.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(F.PureComponent);$G=gy;pf(gy,"displayName","Bar");pf(gy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pf(gy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=JOe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ia(Ia({},m),r.props):r.props,y=v.dataKey,w=v.children,b=v.minPointSize,D=g==="horizontal"?s:i,O=c?D.scale.domain():null,P=sIe({numericAxis:D}),T=Fo(w,hH),_=d.map(function(S,I){var E,C,N,U,X,z;c?E=ZOe(c[u+I],O):(E=uo(S,y),Array.isArray(E)||(E=[P,E]));var H=d7e(b,$G.defaultProps.minPointSize)(E[1],I);if(g==="horizontal"){var V,q=[s.scale(E[0]),s.scale(E[1])],te=q[0],Z=q[1];C=DM({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:S,index:I}),N=(V=Z??te)!==null&&V!==void 0?V:void 0,U=p.size;var k=te-Z;if(X=Number.isNaN(k)?0:k,z={x:C,y:s.y,width:U,height:s.height},Math.abs(H)>0&&Math.abs(X)<Math.abs(H)){var R=bl(X||H)*(Math.abs(H)-Math.abs(X));N-=R,X+=R}}else{var G=[i.scale(E[0]),i.scale(E[1])],Y=G[0],J=G[1];if(C=Y,N=DM({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:S,index:I}),U=J-Y,X=p.size,z={x:i.x,y:N,width:i.width,height:X},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var se=bl(U||H)*(Math.abs(H)-Math.abs(U));U+=se}}return Ia(Ia(Ia({},S),{},{x:C,y:N,width:U,height:X,value:c?E:E[1],payload:S,background:z},T&&T[I]&&T[I].props),{},{tooltipPayload:[xG(r,S)],tooltipPosition:{x:C+U/2,y:N+X/2}})});return Ia({data:_,layout:g},h)});function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function S7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function A7e(e,t,r){return t&&M7(e.prototype,t),r&&M7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l_(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=T7e(e,"string");return P1(t)=="symbol"?t:t+""}function T7e(e,t){if(P1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7e=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!eo(c,gy);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,w=m.padding,b=w===void 0?{}:w,D=m.mirror,O=m.reversed,P="".concat(v).concat(D?"Mirror":""),T,_,S,I,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=y[1]-y[0],N=1/0,U=m.categoricalDomain.sort(Owe);if(U.forEach(function(G,Y){Y>0&&(N=Math.min((G||0)-(U[Y-1]||0),N))}),Number.isFinite(N)){var X=N/C,z=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=X*z/2),m.padding==="no-gap"){var H=hh(t.barCategoryGap,X*z),V=X*z/2;T=V-H-(V-H)/z*H}}}a==="xAxis"?_=[n.left+(b.left||0)+(T||0),n.left+n.width-(b.right||0)-(T||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(T||0),n.top+n.height-(b.bottom||0)-(T||0)]:_=m.range,O&&(_=[_[1],_[0]]);var q=XOe(m,i,h),te=q.scale,Z=q.realScaleType;te.domain(y).range(_),QOe(te);var k=iIe(te,fl(fl({},m),{},{realScaleType:Z}));a==="xAxis"?(E=v==="top"&&!D||v==="bottom"&&D,S=n.left,I=d[P]-E*m.height):a==="yAxis"&&(E=v==="left"&&!D||v==="right"&&D,S=d[P]-E*m.width,I=n.top);var R=fl(fl(fl({},m),k),{},{realScaleType:Z,x:S,y:I,scale:te,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=iw(R,k),!m.hide&&a==="xAxis"?d[P]+=(E?-1:1)*R.height:m.hide||(d[P]+=(E?-1:1)*R.width),fl(fl({},p),{},l_({},g,R))},{})},zG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},N7e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return zG({x:r,y:n},{x:a,y:i})},qG=function(){function e(t){S7e(this,e),this.scale=t}return A7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();l_(qG,"EPS",1e-4);var yP=function(t){var r=Object.keys(t).reduce(function(n,a){return fl(fl({},n),{},l_({},a,qG.create(t[a])))},{});return fl(fl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return HMe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return FG(a,function(i,s){return r[s].isInRange(i)})}})};function k7e(e){return(e%180+180)%180}var C7e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=k7e(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},P7e=ed,j7e=uy,O7e=H5;function I7e(e){return function(t,r,n){var a=Object(t);if(!j7e(t)){var i=P7e(r);t=O7e(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var D7e=I7e,L7e=DG;function M7e(e){var t=L7e(e),r=t%1;return t===t?r?t-r:t:0}var R7e=M7e,F7e=JW,$7e=ed,B7e=R7e,U7e=Math.max;function V7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:B7e(r);return a<0&&(a=U7e(n+a,0)),F7e(e,$7e(t),a)}var z7e=V7e,q7e=D7e,W7e=z7e,H7e=q7e(W7e),G7e=H7e;const K7e=kn(G7e);var Y7e=Ibe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),xP=F.createContext(void 0),bP=F.createContext(void 0),WG=F.createContext(void 0),HG=F.createContext({}),GG=F.createContext(void 0),KG=F.createContext(0),YG=F.createContext(0),F7=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=Y7e(i);return Ue.createElement(xP.Provider,{value:n},Ue.createElement(bP.Provider,{value:a},Ue.createElement(HG.Provider,{value:i},Ue.createElement(WG.Provider,{value:u},Ue.createElement(GG.Provider,{value:s},Ue.createElement(KG.Provider,{value:c},Ue.createElement(YG.Provider,{value:l},o)))))))},X7e=function(){return F.useContext(GG)},XG=function(t){var r=F.useContext(xP);r==null&&mh();var n=r[t];return n==null&&mh(),n},Q7e=function(){var t=F.useContext(xP);return af(t)},J7e=function(){var t=F.useContext(bP),r=K7e(t,function(n){return FG(n.domain,Number.isFinite)});return r||af(t)},QG=function(t){var r=F.useContext(bP);r==null&&mh();var n=r[t];return n==null&&mh(),n},Z7e=function(){var t=F.useContext(WG);return t},eRe=function(){return F.useContext(HG)},wP=function(){return F.useContext(YG)},_P=function(){return F.useContext(KG)};function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function tRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZG(n.key),n)}}function nRe(e,t,r){return t&&rRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aRe(e,t,r){return t=xw(t),iRe(e,JG()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function iRe(e,t){if(t&&(Mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sRe(e)}function sRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function oRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qT(e,t)}function qT(e,t){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qT(e,t)}function $7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$7(Object(r),!0).forEach(function(n){SP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SP(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=lRe(e,"string");return Mp(t)=="symbol"?t:t+""}function lRe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cRe(e,t){return hRe(e)||dRe(e,t)||fRe(e,t)||uRe()}function uRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(e,t){if(e){if(typeof e=="string")return U7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U7(e,t)}}function U7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hRe(e){if(Array.isArray(e))return e}function WT(){return WT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WT.apply(this,arguments)}var pRe=function(t,r){var n;return Ue.isValidElement(t)?n=Ue.cloneElement(t,r):Br(t)?n=t(r):n=Ue.createElement("line",WT({},r,{className:"recharts-reference-line-line"})),n},mRe=function(t,r,n,a,i,s,o,l,c){var u=i.x,d=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(nc(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,w=t.x.apply(y,{position:s});if(nc(c,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:d+p},{x:w,y:d}];return o==="top"?b.reverse():b}if(a){var D=c.segment,O=D.map(function(P){return t.apply(P,{position:s})});return nc(c,"discard")&&FMe(O,function(P){return!t.isInRange(P)})?null:O}return null};function gRe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=X7e(),u=XG(a),d=QG(i),h=Z7e();if(!c||!h)return null;zc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=yP({x:u.scale,y:d.scale}),g=Ya(t),m=Ya(r),v=n&&n.length===2,y=mRe(p,g,m,v,h,e.position,u.orientation,d.orientation,e);if(!y)return null;var w=cRe(y,2),b=w[0],D=b.x,O=b.y,P=w[1],T=P.x,_=P.y,S=nc(e,"hidden")?"url(#".concat(c,")"):void 0,I=B7(B7({clipPath:S},Zr(e,!0)),{},{x1:D,y1:O,x2:T,y2:_});return Ue.createElement(Ta,{className:un("recharts-reference-line",o)},pRe(s,I),Gi.renderCallByParent(e,N7e({x1:D,y1:O,x2:T,y2:_})))}var AP=function(e){function t(){return tRe(this,t),aRe(this,t,arguments)}return oRe(t,e),nRe(t,[{key:"render",value:function(){return Ue.createElement(gRe,this.props)}}])}(Ue.Component);SP(AP,"displayName","ReferenceLine");SP(AP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HT.apply(this,arguments)}function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function V7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V7(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tK(n.key),n)}}function xRe(e,t,r){return t&&yRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bRe(e,t,r){return t=bw(t),wRe(e,eK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function wRe(e,t){if(t&&(Rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Re(e)}function _Re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function SRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GT(e,t)}function GT(e,t){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GT(e,t)}function c_(e,t,r){return t=tK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=ARe(e,"string");return Rp(t)=="symbol"?t:t+""}function ARe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TRe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=yP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return nc(t,"discard")&&!s.isInRange(o)?null:o},u_=function(e){function t(){return vRe(this,t),bRe(this,t,arguments)}return SRe(t,e),xRe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ya(a),u=Ya(i);if(zc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=TRe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,m=g.shape,v=g.className,y=nc(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=z7(z7({clipPath:y},Zr(this.props,!0)),{},{cx:h,cy:p});return Ue.createElement(Ta,{className:un("recharts-reference-dot",v)},t.renderDot(m,w),Gi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(Ue.Component);c_(u_,"displayName","ReferenceDot");c_(u_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});c_(u_,"renderDot",function(e,t){var r;return Ue.isValidElement(e)?r=Ue.cloneElement(e,t):Br(e)?r=e(t):r=Ue.createElement(vP,HT({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(r),!0).forEach(function(n){f_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ERe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nK(n.key),n)}}function kRe(e,t,r){return t&&NRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CRe(e,t,r){return t=ww(t),PRe(e,rK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function PRe(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jRe(e)}function jRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function ORe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YT(e,t)}function YT(e,t){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YT(e,t)}function f_(e,t,r){return t=nK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=IRe(e,"string");return Fp(t)=="symbol"?t:t+""}function IRe(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DRe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,d=i.yAxis;if(!u||!d)return null;var h=yP({x:u.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return nc(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:zG(p,g)},d_=function(e){function t(){return ERe(this,t),CRe(this,t,arguments)}return ORe(t,e),kRe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;zc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ya(a),h=Ya(i),p=Ya(s),g=Ya(o),m=this.props.shape;if(!d&&!h&&!p&&!g&&!m)return null;var v=DRe(d,h,p,g,this.props);if(!v&&!m)return null;var y=nc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ue.createElement(Ta,{className:un("recharts-reference-area",l)},t.renderRect(m,W7(W7({clipPath:y},Zr(this.props,!0)),v)),Gi.renderCallByParent(this.props,v))}}])}(Ue.Component);f_(d_,"displayName","ReferenceArea");f_(d_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});f_(d_,"renderRect",function(e,t){var r;return Ue.isValidElement(e)?r=Ue.cloneElement(e,t):Br(e)?r=e(t):r=Ue.createElement(gP,KT({},t,{className:"recharts-reference-area-rect"})),r});function aK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function LRe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return C7e(n,r)}function MRe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function _w(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function RRe(e,t){return aK(e,t+1)}function FRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:aK(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,b=l===0||_w(e,w,y,u,o);b||(l=0,u=s,c+=1),b&&(u=w+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function H7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(r),!0).forEach(function(n){$Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Re(e,t,r){return t=BRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BRe(e){var t=URe(e,"string");return j1(t)=="symbol"?t:t+""}function URe(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=Vi(Vi({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Vi(Vi({},p),{},{tickCoord:p.coordinate});var y=_w(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=Vi(Vi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function zRe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=Vi(Vi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=_w(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+a),s[o-1]=Vi(Vi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(w){var b=s[w],D,O=function(){return D===void 0&&(D=r(b,w)),D};if(w===0){var P=e*(b.coordinate-e*O()/2-l);s[w]=b=Vi(Vi({},b),{},{tickCoord:P<0?b.coordinate-P*e:b.coordinate})}else s[w]=b=Vi(Vi({},b),{},{tickCoord:b.coordinate});var T=_w(e,b.tickCoord,O,l,c);T&&(l=b.tickCoord+e*(O()/2+a),s[w]=Vi(Vi({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function TP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Ut(l)||qc.isSsr)return RRe(a,typeof l=="number"&&Ut(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Zg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,D){var O=Br(c)?c(b.value,D):b.value;return p==="width"?LRe(Zg(O,{fontSize:t,letterSpacing:r}),g,d):Zg(O,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?bl(a[1].coordinate-a[0].coordinate):1,y=MRe(i,v,p);return l==="equidistantPreserveStart"?FRe(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=zRe(v,y,m,a,s,l==="preserveStartEnd"):h=VRe(v,y,m,a,s),h.filter(function(w){return w.isShow}))}var qRe=["viewBox"],WRe=["viewBox"],HRe=["ticks"];function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(n){EP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vA(e,t){if(e==null)return{};var r=GRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function YRe(e,t,r){return t&&K7(e.prototype,t),r&&K7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XRe(e,t,r){return t=Sw(t),QRe(e,iK()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function QRe(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JRe(e)}function JRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function ZRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XT(e,t)}function XT(e,t){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XT(e,t)}function EP(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=eFe(e,"string");return $p(t)=="symbol"?t:t+""}function eFe(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _m=function(e){function t(r){var n;return KRe(this,t),n=XRe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ZRe(t,e),YRe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=vA(n,qRe),o=this.props,l=o.viewBox,c=vA(o,WRe);return!H0(i,l)||!H0(s,c)||!H0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,p,g,m,v,y,w,b=d?-1:1,D=n.tickSize||u,O=Ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!d*l,m=v-b*D,w=m-b*h,y=O;break;case"left":m=v=n.coordinate,g=i+ +!d*o,p=g-b*D,y=p-b*h,w=O;break;case"right":m=v=n.coordinate,g=i+ +d*o,p=g+b*D,y=p+b*h,w=O;break;default:p=g=n.coordinate,v=s+ +d*l,m=v+b*D,w=m+b*h,y=O;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=za(za(za({},Zr(this.props,!1)),Zr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=za(za({},d),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=za(za({},d),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return Ue.createElement("line",O0({},d,{className:un("recharts-cartesian-axis-line",Ro(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=TP(za(za({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Zr(this.props,!1),y=Zr(u,!1),w=za(za({},v),{},{fill:"none"},Zr(l,!1)),b=p.map(function(D,O){var P=s.getTickLineCoord(D),T=P.line,_=P.tick,S=za(za(za(za({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),_),{},{index:O,payload:D,visibleTicksCount:p.length,tickFormatter:d});return Ue.createElement(Ta,O0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},jb(s.props,D,O)),l&&Ue.createElement("line",O0({},w,T,{className:un("recharts-cartesian-axis-tick-line",Ro(l,"className"))})),u&&t.renderTickItem(u,S,"".concat(Br(d)?d(D.value,O):D.value).concat(h||"")))});return Ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,p=vA(d,HRe),g=h;return Br(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:Ue.createElement(Ta,{className:un("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=un(a.className,"recharts-cartesian-axis-tick-value");return Ue.isValidElement(n)?s=Ue.cloneElement(n,za(za({},a),{},{className:o})):Br(n)?s=n(za(za({},a),{},{className:o})):s=Ue.createElement(Wb,O0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(F.Component);EP(_m,"displayName","CartesianAxis");EP(_m,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tFe=["x1","y1","x2","y2","key"],rFe=["offset"];function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function Y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(r),!0).forEach(function(n){nFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nFe(e,t,r){return t=aFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aFe(e){var t=iFe(e,"string");return gh(t)=="symbol"?t:t+""}function iFe(e,t){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function X7(e,t){if(e==null)return{};var r=sFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ue.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function oK(e,t){var r;if(Ue.isValidElement(e))r=Ue.cloneElement(e,t);else if(Br(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=X7(t,tFe),c=Zr(l,!1);c.offset;var u=X7(c,rFe);r=Ue.createElement("line",Ud({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function lFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ki(Ki({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return oK(a,c)});return Ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function cFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ki(Ki({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return oK(a,c)});return Ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function uFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return Ue.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function fFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return Ue.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var dFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return vG(TP(Ki(Ki(Ki({},_m.defaultProps),n),{},{ticks:Rc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},hFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return vG(TP(Ki(Ki(Ki({},_m.defaultProps),n),{},{ticks:Rc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},n0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qd(e){var t,r,n,a,i,s,o=wP(),l=_P(),c=eRe(),u=Ki(Ki({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:n0.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:n0.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:n0.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:n0.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:n0.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:n0.verticalFill,x:Ut(e.x)?e.x:c.left,y:Ut(e.y)?e.y:c.top,width:Ut(e.width)?e.width:c.width,height:Ut(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=Q7e(),b=J7e();if(!Ut(p)||p<=0||!Ut(g)||g<=0||!Ut(d)||d!==+d||!Ut(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||dFe,O=u.horizontalCoordinatesGenerator||hFe,P=u.horizontalPoints,T=u.verticalPoints;if((!P||!P.length)&&Br(O)){var _=v&&v.length,S=O({yAxis:b?Ki(Ki({},b),{},{ticks:_?v:b.ticks}):void 0,width:o,height:l,offset:c},_?!0:m);zc(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gh(S),"]")),Array.isArray(S)&&(P=S)}if((!T||!T.length)&&Br(D)){var I=y&&y.length,E=D({xAxis:w?Ki(Ki({},w),{},{ticks:I?y:w.ticks}):void 0,width:o,height:l,offset:c},I?!0:m);zc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gh(E),"]")),Array.isArray(E)&&(T=E)}return Ue.createElement("g",{className:"recharts-cartesian-grid"},Ue.createElement(oFe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ue.createElement(lFe,Ud({},u,{offset:c,horizontalPoints:P,xAxis:w,yAxis:b})),Ue.createElement(cFe,Ud({},u,{offset:c,verticalPoints:T,xAxis:w,yAxis:b})),Ue.createElement(uFe,Ud({},u,{horizontalPoints:P})),Ue.createElement(fFe,Ud({},u,{verticalPoints:T})))}Qd.displayName="CartesianGrid";var pFe=["type","layout","connectNulls","ref"],mFe=["key"];function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function Q7(e,t){if(e==null)return{};var r=gFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(this,arguments)}function J7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(r),!0).forEach(function(n){dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a0(e){return bFe(e)||xFe(e)||yFe(e)||vFe()}function vFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yFe(e,t){if(e){if(typeof e=="string")return QT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QT(e,t)}}function xFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bFe(e){if(Array.isArray(e))return QT(e)}function QT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cK(n.key),n)}}function _Fe(e,t,r){return t&&Z7(e.prototype,t),r&&Z7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SFe(e,t,r){return t=Aw(t),AFe(e,lK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function AFe(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TFe(e)}function TFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function EFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JT(e,t)}function JT(e,t){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JT(e,t)}function dl(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=NFe(e,"string");return Bp(t)=="symbol"?t:t+""}function NFe(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Da=function(e){function t(){var r;wFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=SFe(this,t,[].concat(a)),dl(r,"state",{isAnimationFinished:!0,totalLength:0}),dl(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),dl(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),d=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>d){p=[].concat(a0(l.slice(0,g)),[d-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(a0(t.repeat(l,u)),a0(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),dl(r,"id",cy("recharts-line-")),dl(r,"pathRef",function(s){r.mainCurve=s}),dl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),dl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return EFe(t,e),_Fe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Fo(u,my);if(!d)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:uo(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(Ta,p,d.map(function(g){return Ue.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=Zr(this.props,!1),h=Zr(l,!0),p=c.map(function(m,v){var y=Qs(Qs(Qs({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ue.createElement(Ta,nv({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=Q7(o,pFe),h=Qs(Qs(Qs({},Zr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ue.createElement(CT,nv({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,w=y.prevPoints,b=y.totalLength;return Ue.createElement(cu,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var O=D.t;if(w){var P=w.length/o.length,T=o.map(function(C,N){var U=Math.floor(N*P);if(w[U]){var X=w[U],z=pl(X.x,C.x),H=pl(X.y,C.y);return Qs(Qs({},C),{},{x:z(O),y:H(O)})}if(g){var V=pl(m*2,C.x),q=pl(v/2,C.y);return Qs(Qs({},C),{},{x:V(O),y:q(O)})}return Qs(Qs({},C),{},{x:C.x,y:C.y})});return i.renderCurveStatically(T,n,a)}var _=pl(0,b),S=_(O),I;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});I=i.getStrokeDasharray(S,b,E)}else I=i.generateSimpleStrokeDasharray(b,S);return i.renderCurveStatically(o,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!n_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,d=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,b=un("recharts-line",l),D=c&&c.allowDataOverflow,O=u&&u.allowDataOverflow,P=D||O,T=zr(v)?this.id:v,_=(n=Zr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=_.r,I=S===void 0?3:S,E=_.strokeWidth,C=E===void 0?2:E,N=Uwe(s)?s:{},U=N.clipDot,X=U===void 0?!0:U,z=I*2+C;return Ue.createElement(Ta,{className:b},D||O?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(T)},Ue.createElement("rect",{x:D?h:h-p/2,y:O?d:d-g/2,width:D?p:p*2,height:O?g:g*2})),!X&&Ue.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ue.createElement("rect",{x:h-z/2,y:d-z/2,width:p+z,height:g+z}))):null,!w&&this.renderCurve(P,T),this.renderErrorBar(P,T),(w||s)&&this.renderDots(P,X,T),(!m||y)&&Of.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(a0(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(a0(s),a0(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ue.isValidElement(n))i=Ue.cloneElement(n,a);else if(Br(n))i=n(a);else{var s=a.key,o=Q7(a,mFe),l=un("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ue.createElement(vP,nv({key:s},o,{className:l}))}return i}}])}(F.PureComponent);dl(Da,"displayName","Line");dl(Da,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dl(Da,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var g=uo(h,s);return u==="horizontal"?{x:IM({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:zr(g)?null:n.scale(g),value:g,payload:h}:{x:zr(g)?null:r.scale(g),y:IM({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Qs({points:d,layout:u},c)});function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function kFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dK(n.key),n)}}function PFe(e,t,r){return t&&CFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jFe(e,t,r){return t=Tw(t),OFe(e,uK()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function OFe(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IFe(e)}function IFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function DFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZT(e,t)}function ZT(e,t){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZT(e,t)}function fK(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=LFe(e,"string");return Up(t)=="symbol"?t:t+""}function LFe(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eE.apply(this,arguments)}function MFe(e){var t=e.xAxisId,r=wP(),n=_P(),a=XG(t);return a==null?null:F.createElement(_m,eE({},a,{className:un("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Rc(s,!0)}}))}var Hc=function(e){function t(){return kFe(this,t),jFe(this,t,arguments)}return DFe(t,e),PFe(t,[{key:"render",value:function(){return F.createElement(MFe,this.props)}}])}(F.Component);fK(Hc,"displayName","XAxis");fK(Hc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function RFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mK(n.key),n)}}function $Fe(e,t,r){return t&&FFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BFe(e,t,r){return t=Ew(t),UFe(e,hK()?Reflect.construct(t,r||[],Ew(e).constructor):t.apply(e,r))}function UFe(e,t){if(t&&(Vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VFe(e)}function VFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function zFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tE(e,t)}function pK(e,t,r){return t=mK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=qFe(e,"string");return Vp(t)=="symbol"?t:t+""}function qFe(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}var WFe=function(t){var r=t.yAxisId,n=wP(),a=_P(),i=QG(r);return i==null?null:F.createElement(_m,rE({},i,{className:un("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Rc(o,!0)}}))},Gc=function(e){function t(){return RFe(this,t),BFe(this,t,arguments)}return zFe(t,e),$Fe(t,[{key:"render",value:function(){return F.createElement(WFe,this.props)}}])}(F.Component);pK(Gc,"displayName","YAxis");pK(Gc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function eR(e){return YFe(e)||KFe(e)||GFe(e)||HFe()}function HFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GFe(e,t){if(e){if(typeof e=="string")return nE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(e,t)}}function KFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YFe(e){if(Array.isArray(e))return nE(e)}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aE=function(t,r,n,a,i){var s=Fo(t,AP),o=Fo(t,u_),l=[].concat(eR(s),eR(o)),c=Fo(t,d_),u="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&nc(v.props,"extendDomain")&&Ut(v.props[d])){var y=v.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&nc(v.props,"extendDomain")&&Ut(v.props[p])&&Ut(v.props[g])){var y=v.props[p],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Ut(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},gK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var D=v.length,O;for(b=0;b<D;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,d);break;case 4:v[b].fn.call(v[b].context,u,d,h);break;default:if(!w)for(O=1,w=new Array(y-1);O<y;O++)w[O-1]=arguments[O];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(gK);var XFe=gK.exports;const QFe=kn(XFe);var yA=new QFe,xA="recharts.syncMouseEvents";function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function JFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vK(n.key),n)}}function e$e(e,t,r){return t&&ZFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bA(e,t,r){return t=vK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=t$e(e,"string");return O1(t)=="symbol"?t:t+""}function t$e(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var r$e=function(){function e(){JFe(this,e),bA(this,"activeIndex",0),bA(this,"coordinateList",[]),bA(this,"layout","horizontal")}return e$e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function n$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ut(n)&&Ut(a))return!0}return!1}function a$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ai(t,r,n,a),o=Ai(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function i$e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Ai(o,l,c,d),p=Ai(o,l,u,d);n=h.x,a=h.y,i=p.x,s=p.y}else return yK(t);return[{x:n,y:a},{x:i,y:s}]}function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){s$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s$e(e,t,r){return t=o$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o$e(e){var t=l$e(e,"string");return I1(t)=="symbol"?t:t+""}function l$e(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=CT;if(h==="ScatterChart")g=s,m=lLe;else if(h==="BarChart")g=a$e(d,s,l,u),m=gP;else if(d==="radial"){var v=yK(s),y=v.cx,w=v.cy,b=v.radius,D=v.startAngle,O=v.endAngle;g={cx:y,cy:w,startAngle:D,endAngle:O,innerRadius:b,outerRadius:b},m=_G}else g={points:i$e(d,s,l)},m=CT;var P=Mx(Mx(Mx(Mx({stroke:"#ccc",pointerEvents:"none"},l),g),Zr(p,!1)),{},{payload:o,payloadIndex:c,className:un("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,P):F.createElement(m,P)}var u$e=["item"],f$e=["children","className","width","height","style","compact","title","desc"];function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function rR(e,t){return p$e(e)||h$e(e,t)||bK(e,t)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function p$e(e){if(Array.isArray(e))return e}function nR(e,t){if(e==null)return{};var r=m$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wK(n.key),n)}}function y$e(e,t,r){return t&&v$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x$e(e,t,r){return t=Nw(t),b$e(e,xK()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function b$e(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w$e(e)}function w$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function _$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iE(e,t)}function qp(e){return T$e(e)||A$e(e)||bK(e)||S$e()}function S$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(e,t){if(e){if(typeof e=="string")return sE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sE(e,t)}}function A$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T$e(e){if(Array.isArray(e))return sE(e)}function sE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vr(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=E$e(e,"string");return zp(t)=="symbol"?t:t+""}function E$e(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N$e={xAxis:["bottom","top"],yAxis:["left","right"]},k$e={width:"100%",height:"100%"},_K={x:0,y:0};function Rx(e){return e}var C$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},P$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return ft(ft(ft({},a),Ai(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return ft(ft(ft({},a),Ai(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return _K},h_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(qp(o),qp(c)):o},[]);return s.length>0?s:t&&t.length&&Ut(a)&&Ut(i)?t.slice(a,i+1):[]};function SK(e){return e==="number"?[0,"auto"]:void 0}var oE=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=h_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=Cb(p,s.dataKey,a)}else h=d&&d[n]||o[n];return h?[].concat(qp(l),[xG(c,h)]):l},[])},iR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=C$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=qOe(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=oE(t,r,u,d),p=P$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},j$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=gG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?ft(ft({},m.type.defaultProps),m.props):m.props,w=y.type,b=y.dataKey,D=y.allowDataOverflow,O=y.allowDuplicatedCategory,P=y.scale,T=y.ticks,_=y.includeHidden,S=y[s];if(g[S])return g;var I=h_(t.data,{graphicalItems:a.filter(function(k){var R,G=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s];return G===S}),dataStartIndex:l,dataEndIndex:c}),E=I.length,C,N,U;n$e(y.domain,D,w)&&(C=AT(y.domain,null,D),p&&(w==="number"||P!=="auto")&&(U=tv(I,b,"category")));var X=SK(w);if(!C||C.length===0){var z,H=(z=y.domain)!==null&&z!==void 0?z:X;if(b){if(C=tv(I,b,w),w==="category"&&p){var V=jwe(C);O&&V?(N=C,C=pw(0,E)):O||(C=RM(H,C,m).reduce(function(k,R){return k.indexOf(R)>=0?k:[].concat(qp(k),[R])},[]))}else if(w==="category")O?C=C.filter(function(k){return k!==""&&!zr(k)}):C=RM(H,C,m).reduce(function(k,R){return k.indexOf(R)>=0||R===""||zr(R)?k:[].concat(qp(k),[R])},[]);else if(w==="number"){var q=YOe(I,a.filter(function(k){var R,G,Y=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s],J="hide"in k.props?k.props.hide:(G=k.type.defaultProps)===null||G===void 0?void 0:G.hide;return Y===S&&(_||!J)}),b,i,u);q&&(C=q)}p&&(w==="number"||P!=="auto")&&(U=tv(I,b,"category"))}else p?C=pw(0,E):o&&o[S]&&o[S].hasStack&&w==="number"?C=h==="expand"?[0,1]:yG(o[S].stackGroups,l,c):C=mG(I,a.filter(function(k){var R=s in k.props?k.props[s]:k.type.defaultProps[s],G="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return R===S&&(_||!G)}),w,u,!0);if(w==="number")C=aE(d,C,S,i,T),H&&(C=AT(H,C,D));else if(w==="category"&&H){var te=H,Z=C.every(function(k){return te.indexOf(k)>=0});Z&&(C=te)}}return ft(ft({},g),{},vr({},S,ft(ft({},y),{},{axisType:i,domain:C,categoricalDomain:U,duplicateDomain:N,originalDomain:(v=y.domain)!==null&&v!==void 0?v:X,isCategorical:p,layout:u})))},{})},O$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=h_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=gG(u,i),m=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?ft(ft({},y.type.defaultProps),y.props):y.props,b=w[s],D=SK("number");if(!v[b]){m++;var O;return g?O=pw(0,p):o&&o[b]&&o[b].hasStack?(O=yG(o[b].stackGroups,l,c),O=aE(d,O,b,i)):(O=AT(D,mG(h,n.filter(function(P){var T,_,S=s in P.props?P.props[s]:(T=P.type.defaultProps)===null||T===void 0?void 0:T[s],I="hide"in P.props?P.props.hide:(_=P.type.defaultProps)===null||_===void 0?void 0:_.hide;return S===b&&!I}),"number",u),a.defaultProps.allowDataOverflow),O=aE(d,O,b,i)),ft(ft({},v),{},vr({},b,ft(ft({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ro(N$e,"".concat(i,".").concat(m%2),null),domain:O,originalDomain:D,isCategorical:g,layout:u})))}return v},{})},I$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=Fo(u,i),p={};return h&&h.length?p=j$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=O$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},D$e=function(t){var r=af(t),n=Rc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:zC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:iw(r,n)}},sR=function(t){var r=t.children,n=t.defaultShowTooltip,a=eo(r,Dp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},L$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Vc(r&&r.type);return n&&n.indexOf("Bar")>=0})},oR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},M$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=eo(d,Dp),g=eo(d,$o),m=Object.keys(l).reduce(function(O,P){var T=l[P],_=T.orientation;return!T.mirror&&!T.hide?ft(ft({},O),{},vr({},_,O[_]+T.width)):O},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(O,P){var T=s[P],_=T.orientation;return!T.mirror&&!T.hide?ft(ft({},O),{},vr({},_,Ro(O,"".concat(_))+T.height)):O},{top:h.top||0,bottom:h.bottom||0}),y=ft(ft({},v),m),w=y.bottom;p&&(y.bottom+=p.props.height||Dp.defaultProps.height),g&&r&&(y=GOe(y,a,n,r));var b=c-y.left-y.right,D=u-y.top-y.bottom;return ft(ft({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(D,0)})},R$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},F$e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(y,w){var b=w.graphicalItems,D=w.stackGroups,O=w.offset,P=w.updateId,T=w.dataStartIndex,_=w.dataEndIndex,S=y.barSize,I=y.layout,E=y.barGap,C=y.barCategoryGap,N=y.maxBarSize,U=oR(I),X=U.numericAxisName,z=U.cateAxisName,H=L$e(b),V=[];return b.forEach(function(q,te){var Z=h_(y.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:_}),k=q.type.defaultProps!==void 0?ft(ft({},q.type.defaultProps),q.props):q.props,R=k.dataKey,G=k.maxBarSize,Y=k["".concat(X,"Id")],J=k["".concat(z,"Id")],se={},ue=l.reduce(function(Ee,Fe){var Se=w["".concat(Fe.axisType,"Map")],Me=k["".concat(Fe.axisType,"Id")];Se&&Se[Me]||Fe.axisType==="zAxis"||mh();var He=Se[Me];return ft(ft({},Ee),{},vr(vr({},Fe.axisType,He),"".concat(Fe.axisType,"Ticks"),Rc(He)))},se),ae=ue[z],he=ue["".concat(z,"Ticks")],xe=D&&D[Y]&&D[Y].hasStack&&oIe(q,D[Y].stackGroups),W=Vc(q.type).indexOf("Bar")>=0,Ne=iw(ae,he),ke=[],_e=H&&WOe({barSize:S,stackGroups:D,totalSize:R$e(ue,z)});if(W){var le,Le,Oe=zr(G)?N:G,Ve=(le=(Le=iw(ae,he,!0))!==null&&Le!==void 0?Le:Oe)!==null&&le!==void 0?le:0;ke=HOe({barGap:E,barCategoryGap:C,bandSize:Ve!==Ne?Ve:Ne,sizeList:_e[J],maxBarSize:Oe}),Ve!==Ne&&(ke=ke.map(function(Ee){return ft(ft({},Ee),{},{position:ft(ft({},Ee.position),{},{offset:Ee.position.offset-Ve/2})})}))}var We=q&&q.type&&q.type.getComposedData;We&&V.push({props:ft(ft({},We(ft(ft({},ue),{},{displayedData:Z,props:y,dataKey:R,item:q,bandSize:Ne,barPosition:ke,offset:O,stackedData:xe,layout:I,dataStartIndex:T,dataEndIndex:_}))),{},vr(vr(vr({key:q.key||"item-".concat(te)},X,ue[X]),z,ue[z]),"animationId",P)),childIndex:qwe(q,y.children),item:q})}),V},p=function(y,w){var b=y.props,D=y.dataStartIndex,O=y.dataEndIndex,P=y.updateId;if(!P8({props:b}))return null;var T=b.children,_=b.layout,S=b.stackOffset,I=b.data,E=b.reverseStackOrder,C=oR(_),N=C.numericAxisName,U=C.cateAxisName,X=Fo(T,n),z=aIe(I,X,"".concat(N,"Id"),"".concat(U,"Id"),S,E),H=l.reduce(function(k,R){var G="".concat(R.axisType,"Map");return ft(ft({},k),{},vr({},G,I$e(b,ft(ft({},R),{},{graphicalItems:X,stackGroups:R.axisType===N&&z,dataStartIndex:D,dataEndIndex:O}))))},{}),V=M$e(ft(ft({},H),{},{props:b,graphicalItems:X}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(k){H[k]=u(b,H[k],V,k.replace("Map",""),r)});var q=H["".concat(U,"Map")],te=D$e(q),Z=h(b,ft(ft({},H),{},{dataStartIndex:D,dataEndIndex:O,updateId:P,graphicalItems:X,stackGroups:z,offset:V}));return ft(ft({formattedGraphicalItems:Z,graphicalItems:X,offset:V,stackGroups:z},te),H)},g=function(v){function y(w){var b,D,O;return g$e(this,y),O=x$e(this,y,[w]),vr(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vr(O,"accessibilityManager",new r$e),vr(O,"handleLegendBBoxUpdate",function(P){if(P){var T=O.state,_=T.dataStartIndex,S=T.dataEndIndex,I=T.updateId;O.setState(ft({legendBBox:P},p({props:O.props,dataStartIndex:_,dataEndIndex:S,updateId:I},ft(ft({},O.state),{},{legendBBox:P}))))}}),vr(O,"handleReceiveSyncEvent",function(P,T,_){if(O.props.syncId===P){if(_===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(T)}}),vr(O,"handleBrushChange",function(P){var T=P.startIndex,_=P.endIndex;if(T!==O.state.dataStartIndex||_!==O.state.dataEndIndex){var S=O.state.updateId;O.setState(function(){return ft({dataStartIndex:T,dataEndIndex:_},p({props:O.props,dataStartIndex:T,dataEndIndex:_,updateId:S},O.state))}),O.triggerSyncEvent({dataStartIndex:T,dataEndIndex:_})}}),vr(O,"handleMouseEnter",function(P){var T=O.getMouseInfo(P);if(T){var _=ft(ft({},T),{},{isTooltipActive:!0});O.setState(_),O.triggerSyncEvent(_);var S=O.props.onMouseEnter;Br(S)&&S(_,P)}}),vr(O,"triggeredAfterMouseMove",function(P){var T=O.getMouseInfo(P),_=T?ft(ft({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(_),O.triggerSyncEvent(_);var S=O.props.onMouseMove;Br(S)&&S(_,P)}),vr(O,"handleItemMouseEnter",function(P){O.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),vr(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),vr(O,"handleMouseMove",function(P){P.persist(),O.throttleTriggeredAfterMouseMove(P)}),vr(O,"handleMouseLeave",function(P){O.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};O.setState(T),O.triggerSyncEvent(T);var _=O.props.onMouseLeave;Br(_)&&_(T,P)}),vr(O,"handleOuterEvent",function(P){var T=zwe(P),_=Ro(O.props,"".concat(T));if(T&&Br(_)){var S,I;/.*touch.*/i.test(T)?I=O.getMouseInfo(P.changedTouches[0]):I=O.getMouseInfo(P),_((S=I)!==null&&S!==void 0?S:{},P)}}),vr(O,"handleClick",function(P){var T=O.getMouseInfo(P);if(T){var _=ft(ft({},T),{},{isTooltipActive:!0});O.setState(_),O.triggerSyncEvent(_);var S=O.props.onClick;Br(S)&&S(_,P)}}),vr(O,"handleMouseDown",function(P){var T=O.props.onMouseDown;if(Br(T)){var _=O.getMouseInfo(P);T(_,P)}}),vr(O,"handleMouseUp",function(P){var T=O.props.onMouseUp;if(Br(T)){var _=O.getMouseInfo(P);T(_,P)}}),vr(O,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),vr(O,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&O.handleMouseDown(P.changedTouches[0])}),vr(O,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&O.handleMouseUp(P.changedTouches[0])}),vr(O,"handleDoubleClick",function(P){var T=O.props.onDoubleClick;if(Br(T)){var _=O.getMouseInfo(P);T(_,P)}}),vr(O,"handleContextMenu",function(P){var T=O.props.onContextMenu;if(Br(T)){var _=O.getMouseInfo(P);T(_,P)}}),vr(O,"triggerSyncEvent",function(P){O.props.syncId!==void 0&&yA.emit(xA,O.props.syncId,P,O.eventEmitterSymbol)}),vr(O,"applySyncEvent",function(P){var T=O.props,_=T.layout,S=T.syncMethod,I=O.state.updateId,E=P.dataStartIndex,C=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)O.setState(ft({dataStartIndex:E,dataEndIndex:C},p({props:O.props,dataStartIndex:E,dataEndIndex:C,updateId:I},O.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,X=P.activeTooltipIndex,z=O.state,H=z.offset,V=z.tooltipTicks;if(!H)return;if(typeof S=="function")X=S(V,P);else if(S==="value"){X=-1;for(var q=0;q<V.length;q++)if(V[q].value===P.activeLabel){X=q;break}}var te=ft(ft({},H),{},{x:H.left,y:H.top}),Z=Math.min(N,te.x+te.width),k=Math.min(U,te.y+te.height),R=V[X]&&V[X].value,G=oE(O.state,O.props.data,X),Y=V[X]?{x:_==="horizontal"?V[X].coordinate:Z,y:_==="horizontal"?k:V[X].coordinate}:_K;O.setState(ft(ft({},P),{},{activeLabel:R,activeCoordinate:Y,activePayload:G,activeTooltipIndex:X}))}else O.setState(P)}),vr(O,"renderCursor",function(P){var T,_=O.state,S=_.isTooltipActive,I=_.activeCoordinate,E=_.activePayload,C=_.offset,N=_.activeTooltipIndex,U=_.tooltipAxisBandSize,X=O.getTooltipEventType(),z=(T=P.props.active)!==null&&T!==void 0?T:S,H=O.props.layout,V=P.key||"_recharts-cursor";return Ue.createElement(c$e,{key:V,activeCoordinate:I,activePayload:E,activeTooltipIndex:N,chartName:r,element:P,isActive:z,layout:H,offset:C,tooltipAxisBandSize:U,tooltipEventType:X})}),vr(O,"renderPolarAxis",function(P,T,_){var S=Ro(P,"type.axisType"),I=Ro(O.state,"".concat(S,"Map")),E=P.type.defaultProps,C=E!==void 0?ft(ft({},E),P.props):P.props,N=I&&I[C["".concat(S,"Id")]];return F.cloneElement(P,ft(ft({},N),{},{className:un(S,N.className),key:P.key||"".concat(T,"-").concat(_),ticks:Rc(N,!0)}))}),vr(O,"renderPolarGrid",function(P){var T=P.props,_=T.radialLines,S=T.polarAngles,I=T.polarRadius,E=O.state,C=E.radiusAxisMap,N=E.angleAxisMap,U=af(C),X=af(N),z=X.cx,H=X.cy,V=X.innerRadius,q=X.outerRadius;return F.cloneElement(P,{polarAngles:Array.isArray(S)?S:Rc(X,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(I)?I:Rc(U,!0).map(function(te){return te.coordinate}),cx:z,cy:H,innerRadius:V,outerRadius:q,key:P.key||"polar-grid",radialLines:_})}),vr(O,"renderLegend",function(){var P=O.state.formattedGraphicalItems,T=O.props,_=T.children,S=T.width,I=T.height,E=O.props.margin||{},C=S-(E.left||0)-(E.right||0),N=hG({children:_,formattedGraphicalItems:P,legendWidth:C,legendContent:c});if(!N)return null;var U=N.item,X=nR(N,u$e);return F.cloneElement(U,ft(ft({},X),{},{chartWidth:S,chartHeight:I,margin:E,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),vr(O,"renderTooltip",function(){var P,T=O.props,_=T.children,S=T.accessibilityLayer,I=eo(_,ps);if(!I)return null;var E=O.state,C=E.isTooltipActive,N=E.activeCoordinate,U=E.activePayload,X=E.activeLabel,z=E.offset,H=(P=I.props.active)!==null&&P!==void 0?P:C;return F.cloneElement(I,{viewBox:ft(ft({},z),{},{x:z.left,y:z.top}),active:H,label:X,payload:H?U:[],coordinate:N,accessibilityLayer:S})}),vr(O,"renderBrush",function(P){var T=O.props,_=T.margin,S=T.data,I=O.state,E=I.offset,C=I.dataStartIndex,N=I.dataEndIndex,U=I.updateId;return F.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Ox(O.handleBrushChange,P.props.onChange),data:S,x:Ut(P.props.x)?P.props.x:E.left,y:Ut(P.props.y)?P.props.y:E.top+E.height+E.brushBottom-(_.bottom||0),width:Ut(P.props.width)?P.props.width:E.width,startIndex:C,endIndex:N,updateId:"brush-".concat(U)})}),vr(O,"renderReferenceElement",function(P,T,_){if(!P)return null;var S=O,I=S.clipPathId,E=O.state,C=E.xAxisMap,N=E.yAxisMap,U=E.offset,X=P.type.defaultProps||{},z=P.props,H=z.xAxisId,V=H===void 0?X.xAxisId:H,q=z.yAxisId,te=q===void 0?X.yAxisId:q;return F.cloneElement(P,{key:P.key||"".concat(T,"-").concat(_),xAxis:C[V],yAxis:N[te],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:I})}),vr(O,"renderActivePoints",function(P){var T=P.item,_=P.activePoint,S=P.basePoint,I=P.childIndex,E=P.isRange,C=[],N=T.props.key,U=T.item.type.defaultProps!==void 0?ft(ft({},T.item.type.defaultProps),T.item.props):T.item.props,X=U.activeDot,z=U.dataKey,H=ft(ft({index:I,dataKey:z,cx:_.x,cy:_.y,r:4,fill:mP(T.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Zr(X,!1)),Pb(X));return C.push(y.renderActiveDot(X,H,"".concat(N,"-activePoint-").concat(I))),S?C.push(y.renderActiveDot(X,ft(ft({},H),{},{cx:S.x,cy:S.y}),"".concat(N,"-basePoint-").concat(I))):E&&C.push(null),C}),vr(O,"renderGraphicChild",function(P,T,_){var S=O.filterFormatItem(P,T,_);if(!S)return null;var I=O.getTooltipEventType(),E=O.state,C=E.isTooltipActive,N=E.tooltipAxis,U=E.activeTooltipIndex,X=E.activeLabel,z=O.props.children,H=eo(z,ps),V=S.props,q=V.points,te=V.isRange,Z=V.baseLine,k=S.item.type.defaultProps!==void 0?ft(ft({},S.item.type.defaultProps),S.item.props):S.item.props,R=k.activeDot,G=k.hide,Y=k.activeBar,J=k.activeShape,se=!!(!G&&C&&H&&(R||Y||J)),ue={};I!=="axis"&&H&&H.props.trigger==="click"?ue={onClick:Ox(O.handleItemMouseEnter,P.props.onClick)}:I!=="axis"&&(ue={onMouseLeave:Ox(O.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Ox(O.handleItemMouseEnter,P.props.onMouseEnter)});var ae=F.cloneElement(P,ft(ft({},S.props),ue));function he(Fe){return typeof N.dataKey=="function"?N.dataKey(Fe.payload):null}if(se)if(U>=0){var xe,W;if(N.dataKey&&!N.allowDuplicatedCategory){var Ne=typeof N.dataKey=="function"?he:"payload.".concat(N.dataKey.toString());xe=Cb(q,Ne,X),W=te&&Z&&Cb(Z,Ne,X)}else xe=q==null?void 0:q[U],W=te&&Z&&Z[U];if(J||Y){var ke=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[F.cloneElement(P,ft(ft(ft({},S.props),ue),{},{activeIndex:ke})),null,null]}if(!zr(xe))return[ae].concat(qp(O.renderActivePoints({item:S,activePoint:xe,basePoint:W,childIndex:U,isRange:te})))}else{var _e,le=(_e=O.getItemByXY(O.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:ae},Le=le.graphicalItem,Oe=Le.item,Ve=Oe===void 0?P:Oe,We=Le.childIndex,Ee=ft(ft(ft({},S.props),ue),{},{activeIndex:We});return[F.cloneElement(Ve,Ee),null,null]}return te?[ae,null,null]:[ae,null]}),vr(O,"renderCustomized",function(P,T,_){return F.cloneElement(P,ft(ft({key:"recharts-customized-".concat(_)},O.props),O.state))}),vr(O,"renderMap",{CartesianGrid:{handler:Rx,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Rx},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Rx},YAxis:{handler:Rx},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:cy("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=dH(O.triggeredAfterMouseMove,(D=w.throttleDelay)!==null&&D!==void 0?D:1e3/60),O.state={},O}return _$e(y,v),y$e(y,[{key:"componentDidMount",value:function(){var b,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,D=b.children,O=b.data,P=b.height,T=b.layout,_=eo(D,ps);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,E=oE(this.state,O,S,I),C=this.state.tooltipTicks[S].coordinate,N=(this.state.offset.top+P)/2,U=T==="horizontal",X=U?{x:C,y:N}:{y:C,x:N},z=this.state.formattedGraphicalItems.find(function(V){var q=V.item;return q.type.name==="Scatter"});z&&(X=ft(ft({},X),z.props.points[S].tooltipPosition),E=z.props.points[S].tooltipPayload);var H={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:I,activePayload:E,activeCoordinate:X};this.setState(H),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var O,P;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(b){$3([eo(b.children,ps)],[eo(this.props.children,ps)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=eo(this.props.children,ps);if(b&&typeof b.props.shared=="boolean"){var D=b.props.shared?"axis":"item";return o.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var D=this.container,O=D.getBoundingClientRect(),P=gCe(O),T={chartX:Math.round(b.pageX-P.left),chartY:Math.round(b.pageY-P.top)},_=O.width/D.offsetWidth||1,S=this.inRange(T.chartX,T.chartY,_);if(!S)return null;var I=this.state,E=I.xAxisMap,C=I.yAxisMap,N=this.getTooltipEventType(),U=iR(this.state,this.props.data,this.props.layout,S);if(N!=="axis"&&E&&C){var X=af(E).scale,z=af(C).scale,H=X&&X.invert?X.invert(T.chartX):null,V=z&&z.invert?z.invert(T.chartY):null;return ft(ft({},T),{},{xValue:H,yValue:V},U)}return U?ft(ft({},T),U):null}},{key:"inRange",value:function(b,D){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,T=b/O,_=D/O;if(P==="horizontal"||P==="vertical"){var S=this.state.offset,I=T>=S.left&&T<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return I?{x:T,y:_}:null}var E=this.state,C=E.angleAxisMap,N=E.radiusAxisMap;if(C&&N){var U=af(C);return BM({x:T,y:_},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,D=this.getTooltipEventType(),O=eo(b,ps),P={};O&&D==="axis"&&(O.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Pb(this.props,this.handleOuterEvent);return ft(ft({},T),P)}},{key:"addListener",value:function(){yA.on(xA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yA.removeListener(xA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,D,O){for(var P=this.state.formattedGraphicalItems,T=0,_=P.length;T<_;T++){var S=P[T];if(S.item===b||S.props.key===b.key||D===Vc(S.item.type)&&O===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,D=this.state.offset,O=D.left,P=D.top,T=D.height,_=D.width;return Ue.createElement("defs",null,Ue.createElement("clipPath",{id:b},Ue.createElement("rect",{x:O,y:P,height:T,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(D,O){var P=rR(O,2),T=P[0],_=P[1];return ft(ft({},D),{},vr({},T,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(D,O){var P=rR(O,2),T=P[0],_=P[1];return ft(ft({},D),{},vr({},T,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[b])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(b){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[b])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(b){var D=this.state,O=D.formattedGraphicalItems,P=D.activeItem;if(O&&O.length)for(var T=0,_=O.length;T<_;T++){var S=O[T],I=S.props,E=S.item,C=E.type.defaultProps!==void 0?ft(ft({},E.type.defaultProps),E.props):E.props,N=Vc(E.type);if(N==="Bar"){var U=(I.data||[]).find(function(V){return J8e(b,V)});if(U)return{graphicalItem:S,payload:U}}else if(N==="RadialBar"){var X=(I.data||[]).find(function(V){return BM(b,V)});if(X)return{graphicalItem:S,payload:X}}else if(s_(S,P)||o_(S,P)||N1(S,P)){var z=tMe({graphicalItem:S,activeTooltipItem:P,itemData:C.data}),H=C.activeIndex===void 0?z:C.activeIndex;return{graphicalItem:ft(ft({},S),{},{childIndex:H}),payload:N1(S,P)?C.data[z]:S.props.data[z]}}}return null}},{key:"render",value:function(){var b=this;if(!P8(this))return null;var D=this.props,O=D.children,P=D.className,T=D.width,_=D.height,S=D.style,I=D.compact,E=D.title,C=D.desc,N=nR(D,f$e),U=Zr(N,!1);if(I)return Ue.createElement(F7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement(U3,I0({},U,{width:T,height:_,title:E,desc:C}),this.renderClipPath(),O8(O,this.renderMap)));if(this.props.accessibilityLayer){var X,z;U.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,U.role=(z=this.props.role)!==null&&z!==void 0?z:"application",U.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){b.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return Ue.createElement(F7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement("div",I0({className:un("recharts-wrapper",P),style:ft({position:"relative",cursor:"default",width:T,height:_},S)},H,{ref:function(q){b.container=q}}),Ue.createElement(U3,I0({},U,{width:T,height:_,title:E,desc:C,style:k$e}),this.renderClipPath(),O8(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);vr(g,"displayName",r),vr(g,"defaultProps",ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),vr(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,b=v.data,D=v.children,O=v.width,P=v.height,T=v.layout,_=v.stackOffset,S=v.margin,I=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var C=sR(v);return ft(ft(ft({},C),{},{updateId:0},p(ft(ft({props:v},C),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:O,prevHeight:P,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(w!==y.prevDataKey||b!==y.prevData||O!==y.prevWidth||P!==y.prevHeight||T!==y.prevLayout||_!==y.prevStackOffset||!H0(S,y.prevMargin)){var N=sR(v),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},X=ft(ft({},iR(y,b,T)),{},{updateId:y.updateId+1}),z=ft(ft(ft({},N),U),X);return ft(ft(ft({},z),p(ft({props:v},z),y)),{},{prevDataKey:w,prevData:b,prevWidth:O,prevHeight:P,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(!$3(D,y.prevChildren)){var H,V,q,te,Z=eo(D,Dp),k=Z&&(H=(V=Z.props)===null||V===void 0?void 0:V.startIndex)!==null&&H!==void 0?H:I,R=Z&&(q=(te=Z.props)===null||te===void 0?void 0:te.endIndex)!==null&&q!==void 0?q:E,G=k!==I||R!==E,Y=!zr(b),J=Y&&!G?y.updateId:y.updateId+1;return ft(ft({updateId:J},p(ft(ft({props:v},y),{},{updateId:J,dataStartIndex:k,dataEndIndex:R}),y)),{},{prevChildren:D,dataStartIndex:k,dataEndIndex:R})}return null}),vr(g,"renderActiveDot",function(v,y,w){var b;return F.isValidElement(v)?b=F.cloneElement(v,y):Br(v)?b=v(y):b=Ue.createElement(vP,y),Ue.createElement(Ta,{className:"recharts-active-dot",key:w},b)});var m=F.forwardRef(function(y,w){return Ue.createElement(g,I0({},y,{ref:w}))});return m.displayName=g.displayName,m},X0=F$e({chartName:"LineChart",GraphicalChild:Da,axisComponents:[{axisType:"xAxis",AxisComp:Hc},{axisType:"yAxis",AxisComp:Gc}],formatAxisMap:E7e});const $$e=()=>{const{isDarkMode:e}=an(),{showToast:t}=lc(),{user:r}=Ea(),[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState([]),[d,h]=F.useState([]),[p,g]=F.useState(null),[m,v]=F.useState(null),[y,w]=F.useState(null),[b,D]=F.useState(!1),[O,P]=F.useState(!1),[T,_]=F.useState(!1),[S,I]=F.useState(!1),[E,C]=F.useState(!1),[N,U]=F.useState(""),[X,z]=F.useState(!1),[H,V]=F.useState(null),[q,te]=F.useState(null),[Z,k]=F.useState(0),[R,G]=F.useState(new Set),[Y,J]=F.useState(!1),[se,ue]=F.useState(!1),[ae,he]=F.useState(0),[xe,W]=F.useState(new Set),[Ne,ke]=F.useState(new Set),[_e,le]=F.useState(!1),[Le,Oe]=F.useState(""),[Ve,We]=F.useState([]),[Ee,Fe]=F.useState(!1),[Se,Me]=F.useState("name"),[He,at]=F.useState(!1),[ot,xt]=F.useState(null),[ht,mt]=F.useState(null),[ct,Zt]=F.useState("all"),[Ht,Rr]=F.useState(""),[Ir,Wr]=F.useState([]),[Pe,Re]=F.useState(()=>{const ie=new Date;return ie.setHours(0,0,0,0),ie}),[rt,vt]=F.useState(""),[Nt,Kt]=F.useState(()=>{const ie=new Date,Te=new Date;return Te.setDate(Te.getDate()-6),Te.setHours(0,0,0,0),ie.setHours(23,59,59,999),{start:Te,end:ie}}),[Ft,Dt]=F.useState({dailyStats:[],userStats:[]}),[rr,gr]=F.useState(!1),[or,Tr]=F.useState({workerStats:[],dailyProductivity:[]}),[An,Yt]=F.useState(!1),[Mn,Rn]=F.useState(()=>{const ie=new Date,Te=new Date;return Te.setDate(Te.getDate()-30),Te.setHours(0,0,0,0),ie.setHours(23,59,59,999),{start:Te,end:ie}}),Ce=ie=>{const Te=new Date,St=new Date(Te.getFullYear(),Te.getMonth(),Te.getDate());return ie.createdAt<St&&ie.status==="completed"},it=ie=>{if(!ot&&!ht)return!0;const Te=ie.createdAt;return ot&&ht?Te>=ot&&Te<=ht:ot?Te>=ot:ht?Te<=ht:!0},ut=()=>{const ie=new Set(i.map(Te=>Te.createdBy));return Array.from(ie).sort()},ee=ie=>ct==="all"?!0:ie.createdBy===ct,ve=ie=>{if(!Ht.trim())return!0;const Te=Ht.toLowerCase().trim();return ie.jobId.toLowerCase().includes(Te)?!0:ie.items.some(St=>St.name&&St.name.toLowerCase().includes(Te))},pe=i.filter(ie=>O?Ce(ie)&&it(ie)&&ee(ie)&&ve(ie):b?ie.status==="completed"&&!Ce(ie):T?ie.status==="picking":ie.status!=="completed"),ge=()=>{const ie=i.filter(St=>St.status==="picking"),Te=Ir.filter(St=>St.isActive);return{databaseJobs:ie,uiSessions:Te,totalCount:ie.length+Te.length}},ye=F.useCallback(async()=>{try{const ie=new Date(Date.now()-36e5),Te=lr(wt(Xe,"liveJobSessions"),sr("startTime","<",ie)),St=await ur(Te),$t=[];if(St.forEach(pt=>{(pt.data().items||[]).length===0&&$t.push(pt.id)}),$t.length>0){const pt=$t.map(dt=>Ms(Sr(Xe,"liveJobSessions",dt)));await Promise.all(pt)}}catch(ie){console.log("error",ie)}},[]),we=F.useCallback(async()=>{Yt(!0);try{const{start:ie,end:Te}=Mn,St=i.filter(Rt=>{const Et=Rt.createdAt;return Et>=ie&&Et<=Te&&Rt.status==="completed"}),$t=new Map;St.forEach(Rt=>{if(!Rt.picker)return;const Et=Rt.picker,ar=$t.get(Et)||{totalJobs:0,completedJobs:0,totalPickingTime:0,totalItems:0,pickingTimes:[]};ar.totalJobs++,Rt.status==="completed"&&ar.completedJobs++,Rt.pickingTime&&Rt.pickingTime>0&&(ar.totalPickingTime+=Rt.pickingTime,ar.pickingTimes.push(Rt.pickingTime)),ar.totalItems+=Rt.items.reduce((Nr,pr)=>Nr+pr.quantity,0),$t.set(Et,ar)});const pt=Array.from($t.entries()).map(([Rt,Et])=>{const ar=Et.pickingTimes.length>0?Et.pickingTimes.reduce((Fn,Pn)=>Fn+Pn,0)/Et.pickingTimes.length:0,Nr=Et.totalPickingTime>0?Et.totalItems/(Et.totalPickingTime/60):0;let pr;return Nr>=10?pr="excellent":Nr>=7?pr="good":Nr>=4?pr="average":pr="needs_improvement",{name:Rt,totalJobs:Et.totalJobs,completedJobs:Et.completedJobs,avgPickingTime:Math.round(ar),totalPickingTime:Et.totalPickingTime,itemsPicked:Et.totalItems,efficiency:Math.round(Nr*100)/100,performance:pr}}).sort((Rt,Et)=>Et.efficiency-Rt.efficiency),dt=[],Ot=new Date(ie);for(;Ot<=Te;){const Rt=new Date(Ot);Rt.setHours(0,0,0,0);const Et=new Date(Ot);Et.setHours(23,59,59,999);const ar=St.filter(Pn=>{const Gr=Pn.createdAt;return Gr>=Rt&&Gr<=Et}),Nr=ar.reduce((Pn,Gr)=>Pn+Gr.items.reduce((Tn,Za)=>Tn+Za.quantity,0),0),pr=ar.filter(Pn=>Pn.pickingTime&&Pn.pickingTime>0).map(Pn=>Pn.pickingTime),Fn=pr.length>0?pr.reduce((Pn,Gr)=>Pn+Gr,0)/pr.length:0;dt.push({date:Ot.toISOString().split("T")[0],totalJobs:ar.length,avgPickingTime:Math.round(Fn),totalItems:Nr}),Ot.setDate(Ot.getDate()+1)}Tr({workerStats:pt,dailyProductivity:dt})}catch(ie){console.error("Error generating productivity data:",ie),t("Failed to generate productivity data","error")}finally{Yt(!1)}},[i,Mn,t]),Ge=F.useCallback(async ie=>{gr(!0);try{const Te=new Date(ie);Te.setHours(0,0,0,0);const St=new Date(ie);St.setHours(23,59,59,999);const $t=i.filter(Rt=>{const Et=Rt.createdAt;return Et>=Te&&Et<=St}),pt=[];for(let Rt=6;Rt>=0;Rt--){const Et=new Date(ie);Et.setDate(Et.getDate()-Rt);const ar=new Date(Et);ar.setHours(0,0,0,0);const Nr=new Date(Et);Nr.setHours(23,59,59,999);const pr=i.filter(Gr=>{const Tn=Gr.createdAt;return Tn>=ar&&Tn<=Nr}),Fn=pr.reduce((Gr,Tn)=>Gr+Tn.items.reduce((Za,Wn)=>Za+Wn.quantity,0),0),Pn=pr.filter(Gr=>Gr.status==="completed").length;pt.push({date:Et.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:Fn,jobsCompleted:Pn})}const dt=[],Ot=new Set($t.map(Rt=>Rt.createdBy));for(const Rt of Ot){const Et=$t.filter(Gr=>Gr.createdBy===Rt),ar=Et.filter(Gr=>Gr.status==="completed"),Nr=Et.reduce((Gr,Tn)=>Gr+Tn.items.reduce((Za,Wn)=>Za+Wn.quantity,0),0);let pr=0,Fn=0;ar.forEach(Gr=>{Gr.pickingTime&&Gr.pickingTime>0&&(pr+=Gr.pickingTime,Fn++)});const Pn=Fn>0?pr/Fn:0;dt.push({name:Rt,jobsCreated:Et.length,jobsCompleted:ar.length,itemsPicked:Nr,avgTimePerJob:Pn,totalTime:pr})}dt.sort((Rt,Et)=>Et.itemsPicked-Rt.itemsPicked),Dt({dailyStats:pt,userStats:dt})}catch(Te){console.log("error",Te),t("Failed to generate reports","error")}finally{gr(!1)}},[i,t]),tt=async ie=>{if(r)try{await mr(wt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:ie,time:new Date().toISOString()})}catch(Te){console.log("error",Te)}},Ke=ie=>{if(ie<60)return`${Math.round(ie)}s`;if(ie<3600){const Te=Math.floor(ie/60),St=Math.round(ie%60);return`${Te}m ${St}s`}else{const Te=Math.floor(ie/3600),St=Math.floor(ie%3600/60),$t=Math.round(ie%60);return`${Te}h ${St}m ${$t}s`}},Ye=F.useCallback(async()=>{a(!0),D(!1),P(!1),_(!1),I(!1),xt(null),mt(null),Zt("all"),W(new Set);try{const ie=lr(wt(Xe,"jobs"),Fa("createdAt","desc")),St=(await ur(ie)).docs.map(pt=>{const dt=pt.data();return{id:pt.id,jobId:dt.jobId||"",createdAt:dt.createdAt instanceof ir?dt.createdAt.toDate():new Date,createdBy:dt.createdBy||"Unknown",status:dt.status||"picking",picker:dt.picker??null,packer:dt.packer??null,items:Array.isArray(dt.items)?dt.items.map(Ot=>({barcode:String(Ot.barcode||""),name:Ot.name??null,asin:Ot.asin??null,quantity:Number(Ot.quantity||1),verified:!!Ot.verified,locationCode:Ot.locationCode,shelfNumber:Ot.shelfNumber,reason:Ot.reason||"Unknown",storeName:Ot.storeName||"Unknown"})):[],pickingTime:dt.pickingTime||0}}),$t=await Promise.all(St.map(async pt=>{const dt=await Promise.all(pt.items.map(async Ot=>{if(Ot.name)return Ot;try{const Rt=lr(wt(Xe,"inventory"),sr("barcode","==",Ot.barcode)),Et=await ur(Rt);if(!Et.empty){const ar=Et.docs[0].data();return{...Ot,name:ar.name||null}}}catch(Rt){console.log("error",Rt),console.log("")}return Ot}));return{...pt,items:dt}}));s($t)}catch(ie){console.log("error",ie),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);F.useEffect(()=>{Ye()},[Ye]),F.useEffect(()=>{ye()},[ye]),F.useEffect(()=>{const ie=setInterval(()=>{ye()},18e5);return()=>clearInterval(ie)},[ye]),F.useEffect(()=>()=>{W(new Set),ke(new Set)},[i]),F.useEffect(()=>{O&&!ot&&!ht&&sn()},[O,ot,ht]),F.useEffect(()=>{if(!T)return;ye();const ie=Bae(wt(Xe,"liveJobSessions"),Te=>{const St=[];Te.forEach($t=>{const pt=$t.data();pt.isActive&&St.push({id:$t.id,createdBy:pt.createdBy||"Unknown",startTime:pt.startTime instanceof ir?pt.startTime.toDate():new Date(pt.startTime),items:pt.items||[],isActive:pt.isActive||!1})}),Wr(St)},Te=>{console.log("error",Te)});return()=>ie()},[T,ye]),F.useEffect(()=>{S&&Ge(Pe)},[S,Pe,Ge]),F.useEffect(()=>{E&&we()},[E,we]),F.useEffect(()=>{S&&Re(new Date(Nt.end))},[Nt,S]),F.useEffect(()=>{if(S&&i.length>0){const ie=Array.from(new Set(i.map(Te=>Te.createdBy)));ie.length>0&&!rt&&vt(ie[0])}},[S,i,rt]),F.useEffect(()=>{S&&console.log("reportDate",Pe)},[Pe,S]);const Ze=ie=>{ke(Te=>{const St=new Set(Te);return St.has(ie)?St.delete(ie):St.add(ie),St})};F.useEffect(()=>{let ie;return q&&(ie=setInterval(()=>{const St=Math.floor((new Date().getTime()-q.getTime())/1e3);k(St),St>=600&&!se&&(ue(!0),he(600)),St>=600&&St%300===0&&St!==ae&&(ue(!0),he(St))},1e3)),()=>{ie&&clearInterval(ie)}},[q,se,ae]);const Tt=ie=>{const Te=Math.floor(ie/60),St=ie%60;return`${Te}:${St.toString().padStart(2,"0")}`},Mt=()=>{U(""),u([]),h([]),te(new Date),k(0),ue(!1),he(0),l(!0);const ie=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;mr(wt(Xe,"liveJobSessions"),{id:ie,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:uf(),items:[],isActive:!0,createdAt:uf()}).catch(Te=>{console.log("error",Te)})},Vt=async ie=>{try{const Te=lr(wt(Xe,"inventory"),sr("barcode","==",ie));return!(await ur(Te)).empty}catch(Te){return console.log("error",Te),!1}},It=async ie=>{ie.preventDefault();const Te=N.trim();if(!Te)return;if(!await Vt(Te)){t(`Product with barcode ${Te} does not exist`,"error");return}try{const $t=lr(wt(Xe,"inventory"),sr("barcode","==",Te)),pt=await ur($t);if(!pt.empty){const dt=pt.docs[0].data(),Ot={...dt,id:pt.docs[0].id,lastUpdated:dt.lastUpdated instanceof ir?dt.lastUpdated.toDate():new Date(dt.lastUpdated)};V(Ot),z(!0),l(!1)}}catch($t){console.log("error",$t),t("Error fetching stock item details","error")}},Bt=async ie=>{if(!H)return;const Te=H.quantity-ie.quantity;try{const pt=lr(wt(Xe,"inventory"),sr("barcode","==",H.barcode),sr("locationCode","==",String(ie.locationCode).trim())),dt=await ur(pt);if(dt.empty){t("Stock item not found for this location","error");return}const Ot=String(ie.shelfNumber).trim(),Rt=Number(Ot),Et=dt.docs.filter(pr=>{const Fn=pr.data().shelfNumber;return String(Fn).trim()===Ot||!Number.isNaN(Rt)&&Number(Fn)===Rt});if(Et.length===0){t("Stock item not found for this shelf","error");return}const ar=Et.slice().sort((pr,Fn)=>(Number(Fn.data().quantity)||0)-(Number(pr.data().quantity)||0))[0],Nr={...H,id:ar.id,quantity:Number(ar.data().quantity)||0};if(Te>Nr.quantity){t(`Cannot deduct ${Te} units - only ${Nr.quantity} units available at this location`,"error");return}if(Te<0){t("Cannot deduct negative quantity","error");return}h(pr=>[...pr,{stockItem:Nr,deductedQuantity:Te,reason:ie.reason,storeName:ie.storeName,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber}])}catch{t("Error locating stock for this location","error");return}H.barcode&&u(pt=>{const dt=H.barcode,Ot=pt.findIndex(Rt=>Rt.barcode===dt&&Rt.locationCode===ie.locationCode&&Rt.shelfNumber===ie.shelfNumber);if(Ot>=0){const Rt=[...pt];return Rt[Ot]={...Rt[Ot],quantity:Rt[Ot].quantity+Te},Rt}else return[...pt,{barcode:dt,name:H.name,quantity:Te,verified:!1,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber,reason:ie.reason,storeName:ie.storeName}]}),t("Item added to job","success"),z(!1),V(null),l(!0),U("");const St=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0)),$t=await ur(St);if(!$t.empty){const pt=$t.docs[0],dt=pt.data().items||[],Ot={barcode:H.barcode,name:H.name,quantity:Te,verified:!1,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber,reason:ie.reason,storeName:ie.storeName};await Vn(Sr(Xe,"liveJobSessions",pt.id),{items:[...dt,Ot]})}Vr()},dr=()=>{z(!1),V(null),l(!0),Vr()},Vr=()=>{Oe(""),We([]),Me("name"),at(!1)},Hr=()=>{O?sn():(xt(null),mt(null))},sn=()=>{const ie=new Date,Te=new Date(ie);Te.setDate(ie.getDate()-1);const St=new Date(Te.getFullYear(),Te.getMonth(),Te.getDate()),$t=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate(),23,59,59,999);xt(St),mt($t)},di=()=>{O?sn():(xt(null),mt(null)),Zt("all"),Rr("")},qs=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(Y){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}J(!0),a(!0);try{for(const pt of d){const dt=Sr(Xe,"inventory",pt.stockItem.id),Ot=pt.stockItem.quantity-pt.deductedQuantity;if(Ot<0)throw t(`Error: Cannot deduct ${pt.deductedQuantity} units from "${pt.stockItem.name}" - only ${pt.stockItem.quantity} units available`,"error"),new Error(`Insufficient stock: trying to deduct ${pt.deductedQuantity} from ${pt.stockItem.quantity} units`);await Vn(dt,{quantity:Ot,lastUpdated:uf()}),await mr(wt(Xe,"activityLogs"),{detail:`${pt.deductedQuantity} units deducted from stock "${pt.stockItem.name}"  (Reason: ${pt.reason}, Store: ${pt.storeName}) by ${r==null?void 0:r.role} from location ${pt.locationCode} shelf ${pt.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}const ie=Date.now().toString(),Te=await mr(wt(Xe,"jobs"),{jobId:ie,createdAt:uf(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:Z});await Vn(Te,{docId:Te.id}),await tt(`created new job ${ie} with ${c.length} items (${c.reduce((pt,dt)=>pt+dt.quantity,0)} total units)`),t(`Job ${ie} created and awaiting pack`,"success"),l(!1),u([]),h([]),U(""),te(null),k(0),ue(!1),he(0);const St=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0)),$t=await ur(St);$t.empty||await Ms(Sr(Xe,"liveJobSessions",$t.docs[0].id)),Ye()}catch(ie){console.log("error",ie),t("Failed to create job","error")}finally{a(!1),J(!1)}},is=async ie=>{try{await Vn(Sr(Xe,"jobs",ie.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||ie.picker||null}),await tt(`completed picking for job ${ie.jobId} with ${ie.items.length} items (${ie.items.reduce((Te,St)=>Te+St.quantity,0)} total units)`),t(`Job ${ie.jobId} completed and awaiting pack`,"success"),Ye()}catch{t("Failed to update job","error")}},ji=async(ie,Te,St)=>{const $t=`${ie.id}-${Te}`;G(pt=>new Set(pt).add($t));try{if(!ie.id||!Te){t("Invalid job or barcode","error");return}W(St?pt=>new Set(pt).add($t):pt=>{const dt=new Set(pt);return dt.delete($t),dt})}catch(pt){console.log("error",pt),t("Failed to verify item","error")}finally{G(pt=>{const dt=new Set(pt);return dt.delete($t),dt})}},ss=async ie=>{try{const Te=Array.from(xe).filter(pt=>pt.startsWith(ie.id)).map(pt=>pt.split("-")[1]),St=ie.items.filter(pt=>pt.verified||Te.includes(pt.barcode)).length,$t=ie.items.map(pt=>({...pt,verified:Te.includes(pt.barcode)||pt.verified}));await Vn(Sr(Xe,"jobs",ie.id),{status:"completed",packer:(r==null?void 0:r.name)||ie.packer||null,items:$t}),await tt(`completed packing for job ${ie.jobId} with ${ie.items.length} items (${ie.items.reduce((pt,dt)=>pt+dt.quantity,0)} total units) - ${St} items verified`),W(pt=>{const dt=new Set(pt);return Te.forEach(Ot=>{dt.delete(`${ie.id}-${Ot}`)}),dt}),t(`Job ${ie.jobId} completed successfully with ${St}/${ie.items.length} items verified`,"success"),Ye()}catch(Te){console.log("error",Te),t("Failed to complete job","error")}},Ba=ie=>{w(ie)},Cn=async()=>{if(y)try{await tt(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((ie,Te)=>ie+Te.quantity,0)} total units))`),await Ms(Sr(Xe,"jobs",y.id)),W(ie=>{const Te=new Set(ie);return y.items.forEach(St=>{Te.delete(`${y.id}-${St.barcode}`)}),Te}),t("Job deleted","success"),w(null),Ye()}catch{t("Failed to delete job","error")}},hc=async(ie,Te,St,$t)=>{try{const pt=[...ie.items];pt[Te]={...pt[Te],barcode:St,quantity:$t},await Vn(Sr(Xe,"jobs",ie.id),{items:pt}),await tt(`updated job item in job ${ie.jobId}: barcode ${ie.items[Te].barcode} → ${St}, quantity ${ie.items[Te].quantity} → ${$t}`),t("Job item updated successfully","success"),v(null),Ye()}catch{t("Failed to update job item","error")}},pc=async(ie,Te)=>{try{const St=ie.items.filter(($t,pt)=>pt!==Te);await Vn(Sr(Xe,"jobs",ie.id),{items:St}),await tt(`removed item ${ie.items[Te].barcode} (qty: ${ie.items[Te].quantity}) from job ${ie.jobId}`),t("Job item removed successfully","success"),Ye()}catch{t("Failed to remove job item","error")}},mc=async(ie,Te)=>{if(!ie.trim()){We([]);return}Fe(!0);try{let St;switch(Te){case"barcode":St=lr(wt(Xe,"inventory"),sr("barcode","==",ie.trim()));break;case"asin":St=lr(wt(Xe,"inventory"),sr("asin","==",ie.trim()));break;case"name":default:St=lr(wt(Xe,"inventory"),sr("name",">=",ie.trim().toUpperCase()),sr("name","<=",ie.trim().toUpperCase()+""));break}const pt=(await ur(St)).docs.map(dt=>{const Ot=dt.data();return{id:dt.id,name:Ot.name||"",quantity:Ot.quantity||0,price:Ot.price||0,unit:Ot.unit||null,supplier:Ot.supplier||null,lastUpdated:Ot.lastUpdated instanceof ir?Ot.lastUpdated.toDate():new Date,locationCode:Ot.locationCode||"",shelfNumber:Ot.shelfNumber||"",barcode:Ot.barcode||null,asin:Ot.asin||null,status:Ot.status||"pending",damagedItems:Ot.damagedItems||0,fulfillmentType:Ot.fulfillmentType||"fba",storeName:Ot.storeName||""}});We(pt)}catch(St){console.log("error",St),t("Failed to search inventory","error"),We([])}finally{Fe(!1)}},gc=({job:ie})=>{const Te=ie.status==="awaiting_pack",St=ie.status==="picking",$t=ie.status==="completed",pt=Ne.has(ie.id);return f.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(uS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",ie.jobId]}),f.jsx("button",{onClick:()=>Ze(ie.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:pt?f.jsxs(f.Fragment,{children:[f.jsx(d9,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",ie.items.length,")"]}):f.jsxs(f.Fragment,{children:[f.jsx(vl,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",ie.items.length,")"]})})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ie.createdBy," • ",ie.createdAt.toLocaleString(),ie.pickingTime&&ie.pickingTime>0&&f.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",Ke(ie.pickingTime)]})]}),(b||O)&&ie.packer&&f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Verified by ",ie.packer]}),!pt&&ie.items.length>0&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ie.items.length," item",ie.items.length!==1?"s":""," • Total Qty: ",ie.items.reduce((dt,Ot)=>dt+Ot.quantity,0),Te&&f.jsxs("span",{className:"ml-2",children:["• Verified: ",ie.items.filter(dt=>dt.verified||xe.has(`${ie.id}-${dt.barcode}`)).length,"/",ie.items.length]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$t?"bg-green-100 text-green-700":Te?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:$t?"Completed":Te?"Awaiting Pack":"Picking"}),f.jsx(nt,{variant:"secondary",onClick:Ye,size:"sm",className:"h-8 w-8 p-0",children:f.jsx(La,{size:14})}),f.jsx(nt,{variant:"danger",onClick:()=>Ba(ie),size:"sm",className:"h-8 w-8 p-0",children:f.jsx(oi,{size:14})})]})]})})}),pt&&f.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[St&&f.jsxs(nt,{onClick:()=>z(!0),className:"flex items-center gap-1",size:"sm",children:[f.jsx(uS,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),Te&&f.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",ie.items.filter(dt=>dt.verified||xe.has(`${ie.id}-${dt.barcode}`)).length,"/",ie.items.length," items verified"]})]}),f.jsxs("div",{className:"space-y-3",children:[ie.items.map((dt,Ot)=>{var Rt;return f.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===ie.id&&(m==null?void 0:m.itemIndex)===Ot?f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[f.jsx(jt,{value:m.barcode,onChange:Et=>v({...m,barcode:Et.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),f.jsx(jt,{type:"number",value:m.quantity.toString(),onChange:Et=>v({...m,quantity:Number(Et.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(nt,{size:"sm",onClick:()=>hc(ie,Ot,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),f.jsx(nt,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:"✕"})]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:dt.name||dt.barcode}),dt.name&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",dt.barcode]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[Te&&f.jsx(nt,{variant:dt.verified||xe.has(`${ie.id}-${dt.barcode}`)?"success":"primary",size:"sm",onClick:()=>ji(ie,dt.barcode,!(dt.verified||xe.has(`${ie.id}-${dt.barcode}`))),disabled:R.has(`${ie.id}-${dt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${dt.verified||xe.has(`${ie.id}-${dt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:R.has(`${ie.id}-${dt.barcode}`)?f.jsx(La,{size:12,className:"animate-spin"}):f.jsx("span",{className:"hidden sm:inline",children:dt.verified||xe.has(`${ie.id}-${dt.barcode}`)?"Verified":"Verify"})}),Te&&!m&&f.jsx(f.Fragment,{children:f.jsx(nt,{variant:"danger",size:"sm",onClick:()=>pc(ie,Ot),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:f.jsx(oi,{size:16})})})]})]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[f.jsxs("div",{children:["Qty: ",dt.quantity]}),dt.locationCode&&dt.shelfNumber&&f.jsxs("div",{children:["Location: ",dt.locationCode,"-",dt.shelfNumber]}),dt.reason&&f.jsxs("div",{children:["Reason: ",dt.reason]}),dt.storeName&&f.jsxs("div",{children:["Store: ",(Rt=dt.storeName)==null?void 0:Rt.toUpperCase()]})]})]})},`${dt.barcode}-${Ot}-${ie.id}`)}),ie.items.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[St&&f.jsxs(nt,{onClick:()=>is(ie),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[f.jsx(t2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),Te&&f.jsxs(nt,{onClick:()=>ss(ie),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[f.jsx(t2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[O?"Archived":b?"Completed":T?"Live":S?"Reports":E?"Worker Productivity":"Active"," Jobs"]}),T&&f.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"}),S&&f.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Analytics and performance reports for warehouse operations"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx(nt,{variant:"secondary",onClick:Ye,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:f.jsx(La,{size:16,className:n?"animate-spin":""})}),f.jsxs(nt,{onClick:Mt,className:"flex items-center gap-1",size:"sm",children:[f.jsx(Ei,{size:16})," ",f.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),f.jsx(nt,{variant:!b&&!O&&!T&&!S&&!E?"primary":"secondary",onClick:()=>{D(!1),P(!1),_(!1),I(!1),C(!1)},size:"sm",children:"Active Jobs"}),f.jsx(nt,{variant:b?"primary":"secondary",onClick:()=>{D(!0),P(!1),_(!1),I(!1),C(!1)},size:"sm",children:"Completed Jobs"}),f.jsx(nt,{variant:O?"primary":"secondary",onClick:()=>{D(!1),P(!0),_(!1),I(!1),C(!1),sn()},size:"sm",children:"Archived Jobs"}),(r==null?void 0:r.role)==="admin"&&f.jsx(nt,{variant:T?"primary":"secondary",onClick:()=>{D(!1),P(!1),_(!0),I(!1),C(!1)},size:"sm",children:"Live Jobs"}),f.jsx(nt,{variant:S?"primary":"secondary",onClick:()=>{D(!1),P(!1),_(!1),C(!1),I(!0)},size:"sm",children:"Reports"}),(r==null?void 0:r.role)==="admin"&&f.jsx(nt,{variant:E?"primary":"secondary",onClick:()=>{D(!1),P(!1),_(!1),I(!1),C(!0)},size:"sm",children:"Productivity"})]})]}),f.jsx("div",{className:"flex flex-col gap-4",children:O&&f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),f.jsxs("div",{className:"relative",children:[f.jsx(El,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),f.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:Ht,onChange:ie=>Rr(ie.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),f.jsxs("select",{value:ct,onChange:ie=>Zt(ie.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[f.jsx("option",{value:"all",children:"All Users"}),ut().map(ie=>f.jsx("option",{value:ie,children:ie},ie))]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),f.jsx(Xq,{startDate:ot,endDate:ht,onStartDateChange:xt,onEndDateChange:mt,onClear:Hr,className:"w-full"})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx(nt,{variant:"secondary",onClick:di,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),f.jsxs("div",{className:"space-y-4",children:[O&&(ot||ht||ct!=="all"||Ht.trim())&&f.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[f.jsx("span",{className:"font-medium",children:"Active Filters:"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ht.trim()&&f.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',Ht,'"']}),ct!=="all"&&f.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",ct]}),ot&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",ot.toLocaleDateString()]}),ht&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",ht.toLocaleDateString()]}),f.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[pe.length," jobs found"]})]})]})}),!S&&!E&&pe.map(ie=>f.jsx(gc,{job:ie},ie.id)),T&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),f.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[ge().totalCount," active"]})]}),f.jsxs(nt,{variant:"secondary",onClick:()=>{Ye(),ye()},className:"flex items-center gap-2",size:"sm",children:[f.jsx(La,{size:16}),"Refresh Live Jobs"]})]}),ge().uiSessions.map(ie=>f.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(uS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ie.createdBy," • Started at ",ie.startTime.toLocaleString()]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ie.items.length," item",ie.items.length!==1?"s":""," scanned"]})]})]})})})})},ie.id))]}),S&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const ie=String(Pe.getDate()).padStart(2,"0"),Te=String(Pe.getMonth()+1).padStart(2,"0"),St=Pe.getFullYear();return`${ie}/${Te}/${St}`})()})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"date",value:(()=>{const ie=Pe.getFullYear(),Te=String(Pe.getMonth()+1).padStart(2,"0"),St=String(Pe.getDate()).padStart(2,"0");return`${ie}-${Te}-${St}`})(),onChange:ie=>{const Te=new Date(ie.target.value);Re(Te),Ge(Te)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),f.jsx(nt,{variant:"secondary",onClick:()=>Ge(Pe),className:"flex items-center gap-2",size:"sm",disabled:rr,children:f.jsx(La,{size:16,className:rr?"animate-spin":""})})]})]}),rr?f.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[f.jsx(La,{size:24,className:"animate-spin mx-auto mb-2"}),f.jsx("p",{children:"Generating reports..."})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:Ft.userStats.reduce((ie,Te)=>ie+Te.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:Ft.userStats.reduce((ie,Te)=>ie+Te.jobsCompleted,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:Ft.userStats.length})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Pe.toLocaleDateString()]}),Ft.userStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[600px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),f.jsx("tbody",{children:Ft.userStats.map((ie,Te)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:ie.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ie.jobsCreated}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ie.jobsCompleted}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:ie.itemsPicked}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ke(ie.avgTimePerJob)}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ke(ie.totalTime)})]},Te))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const ie=[];for(let Te=6;Te>=0;Te--){const St=new Date;St.setDate(St.getDate()-Te);const $t=new Date(St);$t.setHours(0,0,0,0);const pt=new Date(St);pt.setHours(23,59,59,999);const dt=i.filter(ar=>{const Nr=ar.createdAt;return Nr>=$t&&Nr<=pt}),Ot=dt.reduce((ar,Nr)=>ar+Nr.items.reduce((pr,Fn)=>pr+Fn.quantity,0),0),Rt=dt.filter(ar=>ar.status==="completed").length,Et=qt(St,"MMM dd");ie.push({date:Et,itemsPicked:Ot,jobsCompleted:Rt})}return ie})().map((ie,Te)=>f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:ie.date}),f.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:ie.itemsPicked}),f.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[ie.jobsCompleted," jobs"]})]},Te))})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:(()=>{const ie=Nt.start.getFullYear(),Te=String(Nt.start.getMonth()+1).padStart(2,"0"),St=String(Nt.start.getDate()).padStart(2,"0");return`${ie}-${Te}-${St}`})(),onChange:ie=>{const Te=new Date(ie.target.value);Te.setHours(0,0,0,0),Te<=Nt.end&&Kt(St=>({...St,start:Te}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:(()=>{const ie=Nt.end.getFullYear(),Te=String(Nt.end.getMonth()+1).padStart(2,"0"),St=String(Nt.end.getDate()).padStart(2,"0");return`${ie}-${Te}-${St}`})(),onChange:ie=>{const Te=new Date(ie.target.value);Te.setHours(23,59,59,999),Te>=Nt.start&&Kt(St=>({...St,end:Te}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("button",{onClick:()=>{const ie=new Date,Te=new Date;Te.setDate(Te.getDate()-6),Te.setHours(0,0,0,0),ie.setHours(23,59,59,999),Kt({start:Te,end:ie})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ie=new Date,Te=new Date;return Te.setDate(Te.getDate()-6),Te.setHours(0,0,0,0),ie.setHours(23,59,59,999),Nt.start.getTime()===Te.getTime()&&Nt.end.getTime()===ie.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),f.jsx("button",{onClick:()=>{const ie=new Date,Te=new Date;Te.setDate(Te.getDate()-29),Te.setHours(0,0,0,0),ie.setHours(23,59,59,999),Kt({start:Te,end:ie})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ie=new Date,Te=new Date;return Te.setDate(Te.getDate()-29),Te.setHours(0,0,0,0),ie.setHours(23,59,59,999),Nt.start.getTime()===Te.getTime()&&Nt.end.getTime()===ie.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),f.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",Nt.start.toLocaleDateString("en-GB")," to ",Nt.end.toLocaleDateString("en-GB"),")"]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(G0,{width:"100%",height:"100%",children:f.jsxs(X0,{data:(()=>{const ie=[],Te=new Map,St=new Date(Nt.start),$t=new Date(Nt.end),pt=Math.ceil(($t.getTime()-St.getTime())/(1e3*60*60*24));for(let dt=0;dt<=pt;dt++){const Ot=new Date(St);Ot.setDate(St.getDate()+dt);const Rt=new Date(Ot);Rt.setHours(0,0,0,0);const Et=new Date(Ot);Et.setHours(23,59,59,999);const ar=i.filter(Gr=>{const Tn=Gr.createdAt;return Tn>=Rt&&Tn<=Et}),Nr=ar.reduce((Gr,Tn)=>Gr+Tn.items.reduce((Za,Wn)=>Za+Wn.quantity,0),0),pr=ar.filter(Gr=>Gr.status==="completed").length,Fn=ar.length,Pn=qt(Ot,"MMM dd");Te.set(Pn,{itemsPicked:Nr,jobsCompleted:pr,jobsCreated:Fn})}return Te.forEach((dt,Ot)=>{ie.push({date:Ot,itemsPicked:dt.itemsPicked,jobsCompleted:dt.jobsCompleted,jobsCreated:dt.jobsCreated})}),ie.sort((dt,Ot)=>{const Rt=new Date(dt.date),Et=new Date(Ot.date);return Rt.getTime()-Et.getTime()})})(),children:[f.jsx(Qd,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(Hc,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(Gc,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ie,Te)=>Te==="Items Picked"?[`${ie} items`,Te]:Te==="Jobs Completed"?[`${ie} jobs`,Te]:Te==="Jobs Created"?[`${ie} jobs`,Te]:[ie,Te],labelFormatter:ie=>`Date: ${ie}`}),f.jsx($o,{}),f.jsx(Da,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Nt.start.toLocaleDateString("en-GB")," to ",Nt.end.toLocaleDateString("en-GB")]}),f.jsx("select",{value:rt||(()=>{const ie=Array.from(new Set(i.map(Te=>Te.createdBy)));return ie.length>0?ie[0]:""})(),onChange:ie=>{vt(ie.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(Te=>Te.createdBy))).map(Te=>f.jsx("option",{value:Te,children:Te},Te))})]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(G0,{width:"100%",height:"100%",children:f.jsxs(X0,{data:(()=>{const ie=[],Te=new Map,St=Array.from(new Set(i.map(Rt=>Rt.createdBy))),$t=rt||(St.length>0?St[0]:""),pt=new Date(Nt.start),dt=new Date(Nt.end),Ot=Math.ceil((dt.getTime()-pt.getTime())/(1e3*60*60*24));for(let Rt=0;Rt<=Ot;Rt++){const Et=new Date(pt);Et.setDate(pt.getDate()+Rt);const ar=new Date(Et);ar.setHours(0,0,0,0);const Nr=new Date(Et);Nr.setHours(23,59,59,999);const pr=i.filter(Wn=>{const os=Wn.createdAt;return os>=ar&&os<=Nr&&Wn.createdBy===$t}),Fn=pr.reduce((Wn,os)=>Wn+os.items.reduce((jn,xu)=>jn+xu.quantity,0),0),Pn=pr.filter(Wn=>Wn.status==="completed").length,Gr=pr.length;let Tn=0;pr.forEach(Wn=>{Wn.pickingTime&&Wn.pickingTime>0&&(Tn+=Wn.pickingTime)});const Za=qt(Et,"MMM dd");Te.set(Za,{itemsPicked:Fn,jobsCompleted:Pn,jobsCreated:Gr,totalPickingTime:Tn})}return Te.forEach((Rt,Et)=>{ie.push({date:Et,itemsPicked:Rt.itemsPicked,jobsCompleted:Rt.jobsCompleted,jobsCreated:Rt.jobsCreated,totalPickingTime:Rt.totalPickingTime})}),ie.sort((Rt,Et)=>{const ar=new Date(Rt.date),Nr=new Date(Et.date);return ar.getTime()-Nr.getTime()})})(),children:[f.jsx(Qd,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(Hc,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(Gc,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ie,Te)=>Te==="Items Picked"?[`${ie} items`,Te]:Te==="Jobs Completed"?[`${ie} jobs`,Te]:Te==="Jobs Created"?[`${ie} jobs`,Te]:Te==="Total Picking Time"?[`${Ke(ie)}`,Te]:[ie,Te],labelFormatter:ie=>`Date: ${ie}`}),f.jsx($o,{}),f.jsx(Da,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),E&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Productivity Analytics"}),f.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:[Mn.start.toLocaleDateString()," - ",Mn.end.toLocaleDateString()]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"From:"}),f.jsx("input",{type:"date",value:Mn.start.toISOString().split("T")[0],onChange:ie=>{const Te=new Date(ie.target.value);Rn(St=>({...St,start:Te})),we()},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"To:"}),f.jsx("input",{type:"date",value:Mn.end.toISOString().split("T")[0],onChange:ie=>{const Te=new Date(ie.target.value);Rn(St=>({...St,end:Te})),we()},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsx(nt,{variant:"secondary",onClick:we,className:"flex items-center gap-2",size:"sm",disabled:An,children:f.jsx(La,{size:16,className:An?"animate-spin":""})})]})]}),An?f.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[f.jsx(La,{size:24,className:"animate-spin mx-auto mb-2"}),f.jsx("p",{children:"Analyzing worker productivity..."})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Workers"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:or.workerStats.length})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:or.workerStats.reduce((ie,Te)=>ie+Te.completedJobs,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:or.workerStats.reduce((ie,Te)=>ie+Te.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Avg Efficiency"}),f.jsxs("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-orange-400":"text-orange-600"}`,children:[or.workerStats.length>0?(or.workerStats.reduce((ie,Te)=>ie+Te.efficiency,0)/or.workerStats.length).toFixed(1):"0"," items/min"]})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Worker Performance Ranking"}),or.workerStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[700px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Rank"}),f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Worker"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Efficiency"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Performance"})]})}),f.jsx("tbody",{children:or.workerStats.map((ie,Te)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:["#",Te+1]}),f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:ie.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ie.completedJobs}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:ie.itemsPicked}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-green-400":"text-green-600"} font-semibold`,children:[ie.efficiency," items/min"]}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:[Math.round(ie.avgPickingTime/60),"m ",ie.avgPickingTime%60,"s"]}),f.jsx("td",{className:"text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ie.performance==="excellent"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":ie.performance==="good"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":ie.performance==="average"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:ie.performance==="needs_improvement"?"Needs Improvement":ie.performance.charAt(0).toUpperCase()+ie.performance.slice(1)})})]},ie.name))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No productivity data available for the selected date range"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Daily Productivity Trends"}),f.jsx("div",{className:"h-80",children:f.jsx(G0,{width:"100%",height:"100%",children:f.jsxs(X0,{data:or.dailyProductivity,children:[f.jsx(Qd,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(Hc,{dataKey:"date",stroke:e?"#94a3b8":"#64748b",fontSize:12,tickFormatter:ie=>new Date(ie).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),f.jsx(Gc,{stroke:e?"#94a3b8":"#64748b",fontSize:12}),f.jsx(ps,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ie,Te)=>Te==="Total Items"?[`${ie} items`,Te]:Te==="Total Jobs"?[`${ie} jobs`,Te]:Te==="Avg Picking Time"?[`${Math.round(ie/60)}m ${ie%60}s`,Te]:[ie,Te],labelFormatter:ie=>`Date: ${new Date(ie).toLocaleDateString()}`}),f.jsx($o,{}),f.jsx(Da,{type:"monotone",dataKey:"totalJobs",stroke:"#10b981",name:"Total Jobs",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"totalItems",stroke:"#3b82f6",name:"Total Items",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"avgPickingTime",stroke:"#f59e0b",name:"Avg Picking Time",strokeWidth:2})]})})})]})]})]}),!S&&!E&&pe.length===0&&ge().uiSessions.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:O?f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{children:"No archived jobs found."}),(ot||ht||ct!=="all")&&f.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):b?"No completed jobs found.":T?"No live jobs found.":"No active jobs found."})]}),f.jsx(fn,{isOpen:o,onClose:()=>{l(!1),te(null),k(0),ue(!1),he(0),at(!1);const ie=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));ur(ie).then(Te=>{Te.empty||Ms(Sr(Xe,"liveJobSessions",Te.docs[0].id))}).catch(Te=>{console.log("error",Te)})},title:He?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:f.jsxs("div",{className:"space-y-4",children:[!He&&f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>at(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[f.jsx(El,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),f.jsx(nt,{variant:"secondary",onClick:()=>le(!0),size:"sm",className:"px-3 py-2",children:f.jsx(bj,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${Z>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(H2,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:Tt(Z)})]})]}),se&&f.jsx("div",{className:`p-3 rounded-md border-l-4 ${e?"bg-red-900/20 border-red-500 text-red-200":"bg-red-50 border-red-500 text-red-800"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"animate-pulse",children:"⚠️"}),f.jsx("span",{className:"font-medium",children:Z>=600&&Z<900?"Hurry up! You've been working on this job for 10+ minutes.":`Time Alert: ${Math.floor(Z/60)} minutes elapsed. Please complete the job soon.`}),f.jsx("button",{onClick:()=>ue(!1),className:`ml-auto px-2 py-1 rounded text-xs ${e?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-200 hover:bg-red-300 text-red-800"}`,children:"Dismiss"})]})}),He&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>at(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[f.jsx(EZ,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),f.jsx(nt,{variant:"secondary",onClick:()=>le(!0),size:"sm",className:"px-3 py-2",children:f.jsx(bj,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${Z>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(H2,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:Tt(Z)})]})]}),f.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(ie=>f.jsx("button",{onClick:()=>Me(ie),className:`px-3 py-1 text-xs rounded-md transition-colors ${Se===ie?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:ie.charAt(0).toUpperCase()+ie.slice(1)},ie))}),f.jsxs("div",{className:"flex gap-2 mb-3",children:[f.jsx(jt,{value:Le,onChange:ie=>Oe(ie.target.value),placeholder:`Search by ${Se}...`,className:"flex-1",onKeyPress:ie=>ie.key==="Enter"&&mc(Le,Se)}),f.jsx(nt,{onClick:()=>mc(Le,Se),disabled:Ee||!Le.trim(),size:"sm",className:"px-4",children:Ee?f.jsx(La,{size:14,className:"animate-spin"}):"Search"})]}),Ve.length>0&&f.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[f.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",Ve.length," product",Ve.length!==1?"s":"",":"]}),Ve.map(ie=>{var Te;return f.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[f.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:ie.name}),f.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[ie.barcode&&f.jsxs("span",{className:"mr-3",children:["Barcode: ",ie.barcode]}),ie.asin&&f.jsxs("span",{className:"mr-3",children:["ASIN: ",ie.asin]}),ie.locationCode&&ie.shelfNumber&&f.jsxs("span",{className:"mr-3",children:["Location: ",ie.locationCode,"-",ie.shelfNumber]}),f.jsxs("span",{className:"mr-3",children:["Qty: ",ie.quantity]}),f.jsxs("span",{children:["Store: ",(Te=ie.storeName)==null?void 0:Te.toUpperCase()]})]})]},ie.id)})]}),Le&&Ve.length===0&&!Ee&&f.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',Le,'"']})]}),!He&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),f.jsxs("form",{onSubmit:It,className:"flex gap-2",children:[f.jsx(jt,{name:"manualBarcode",type:"text",value:N,onChange:ie=>U(ie.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),f.jsxs(nt,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[f.jsx(Ei,{size:16})," Add"]})]})]}),f.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!He&&c.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),f.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((ie,Te)=>{var St;return f.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===Te?f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx(jt,{value:p.barcode,onChange:$t=>g({...p,barcode:$t.target.value}),className:"w-24 text-sm"}),f.jsx(jt,{type:"number",value:p.quantity,onChange:$t=>g({...p,quantity:Number($t.target.value)||1}),className:"w-16 text-sm",min:"1"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx(nt,{size:"sm",onClick:()=>{const $t=c[Te].quantity,pt=Number(p.quantity),dt=pt-$t;u(Rt=>{const Et=[...Rt];return Et[Te]={...Et[Te],barcode:p.barcode,quantity:pt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},Et}),h(Rt=>{const Et=[...Rt],ar=Et.findIndex(Nr=>Nr.stockItem.barcode===p.barcode&&Nr.locationCode===c[Te].locationCode&&Nr.shelfNumber===c[Te].shelfNumber);return ar>=0&&(Et[ar]={...Et[ar],deductedQuantity:Et[ar].deductedQuantity+dt}),Et});const Ot=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));ur(Ot).then(Rt=>{if(!Rt.empty){const Et=Rt.docs[0],Nr=(Et.data().items||[]).map(pr=>pr.barcode===c[Te].barcode&&pr.locationCode===c[Te].locationCode&&pr.shelfNumber===c[Te].shelfNumber?{...pr,barcode:p.barcode,quantity:pt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:pr);Vn(Sr(Xe,"liveJobSessions",Et.id),{items:Nr})}}).catch(Rt=>{console.log("error",Rt)}),g(null)},className:"h-6 px-2",children:"✓"}),f.jsx(nt,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"truncate block font-medium",children:ie.name||ie.barcode}),ie.name&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",ie.barcode]}),ie.locationCode&&ie.shelfNumber&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",ie.locationCode," - Shelf ",ie.shelfNumber]}),ie.reason&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",ie.reason]}),ie.storeName&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",(St=ie.storeName)==null?void 0:St.toUpperCase()]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",ie.quantity]}),f.jsx(nt,{variant:"secondary",size:"sm",onClick:()=>g({index:Te,barcode:ie.barcode,quantity:ie.quantity,reason:ie.reason,storeName:ie.storeName,name:ie.name}),className:"h-6 px-2",children:"Edit"}),f.jsx("button",{type:"button",onClick:()=>{u(dt=>dt.filter((Ot,Rt)=>Rt!==Te));const $t=c[Te];h(dt=>dt.filter(Ot=>!(Ot.stockItem.barcode===$t.barcode&&Ot.locationCode===$t.locationCode&&Ot.shelfNumber===$t.shelfNumber)));const pt=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));ur(pt).then(dt=>{if(!dt.empty){const Ot=dt.docs[0],Et=(Ot.data().items||[]).filter(ar=>!(ar.barcode===$t.barcode&&ar.locationCode===$t.locationCode&&ar.shelfNumber===$t.shelfNumber));Vn(Sr(Xe,"liveJobSessions",Ot.id),{items:Et})}}).catch(dt=>{console.log("error",dt)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${ie.barcode}-${ie.locationCode}-${ie.shelfNumber}-${Te}`)})}),f.jsx("div",{className:"pt-2",children:f.jsxs(nt,{onClick:qs,disabled:c.length===0||Y,isLoading:Y,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[f.jsx(t2,{size:16}),Y?"Creating Job...":"Finish Picking"]})})]})]})}),f.jsx(fh,{isOpen:!!y,onClose:()=>w(null),onConfirm:Cn,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),f.jsx(fn,{isOpen:X,onClose:()=>z(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:H&&f.jsx(Yye,{item:H,onSubmit:Bt,onCancel:dr,isLoading:!1})}),f.jsx(Xye,{isOpen:_e,onClose:()=>le(!1)})]})},B$e=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return f.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},AK=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return f.jsx(B$e,{variant:t(),children:r()})},U$e=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=an();return f.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),f.jsxs("div",{className:"flex items-center gap-2",children:[r,f.jsx(AK,{status:e.status})]})]}),f.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),f.jsx("div",{className:"space-y-1 mb-3",children:f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),f.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),f.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[f.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:qt(e.createdAt,"MMM d, yyyy")}),f.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},V$e=({isOpen:e,onClose:t,order:r})=>r?f.jsx(fn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),f.jsx("div",{className:"mt-1",children:f.jsx(AK,{status:r.status})})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),f.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),f.jsx("p",{className:"text-slate-800",children:r.createdAt?qt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),f.jsx("p",{className:"text-slate-800",children:r.updatedAt?qt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),f.jsx("p",{className:"text-slate-800",children:r.shippedTime?qt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),f.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[f.jsx("thead",{className:"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),f.jsx("tfoot",{className:"bg-slate-50",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),f.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),f.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),f.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})}):null,kw=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Mr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Mr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Mr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Mr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Mr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Mr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Mr(new Date,6),locationCode:"D2",shelfNumber:4}],z$e=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Mr(new Date,1),updatedAt:Mr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Mr(new Date,2),updatedAt:Mr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Mr(new Date,5),updatedAt:Mr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Mr(new Date,10),updatedAt:Mr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Mr(new Date,15),updatedAt:Mr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];z$e.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:qt(Mr(new Date,29-t),"MMM dd"),amount:r}});Mr(new Date,1),Mr(new Date,1),Mr(new Date,3),Mr(new Date,4),Mr(new Date,5);const q$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],W$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],wA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},lR={street:"",city:"",state:"",zipCode:"",country:""};function H$e(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const G$e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,cR=e=>G$e(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},K$e=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("pending"),[u,d]=F.useState(""),[h,p]=F.useState([{...wA}]),[g,m]=F.useState({...lR}),[v,y]=F.useState({...lR}),[w,b]=F.useState("Credit Card"),[D,O]=F.useState(""),[P,T]=F.useState([]),[_,S]=F.useState(!1);F.useEffect(()=>{e&&(i(H$e()),d(qt(new Date,"yyyy-MM-dd")),p([{...wA}]),c("pending"))},[e]),F.useEffect(()=>{e&&(async()=>{S(!0);try{const z=lr(wt(Xe,"inventory"),Fa("name")),V=(await ur(z)).docs.map(q=>({id:q.id,...q.data()}));T(V.length>0?V:kw)}catch{T(kw)}finally{S(!1)}})()},[e]);const I=(X,z,H)=>{p(V=>V.map((q,te)=>{if(te!==X)return q;if(z==="productName"){const Z=P.find(k=>k.name===H);return Z?{...q,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:q}if(z==="quantity"){const Z=Number(H);return{...q,quantity:Z,totalPrice:q.unitPrice*Z}}return{...q,[z]:H}}))},E=()=>{p([...h,{...wA}])},C=X=>{p(z=>z.filter((H,V)=>V!==X))},N=(X,z,H)=>{X==="shipping"?m(V=>({...cR(V),[z]:H})):y(V=>({...cR(V),[z]:H}))},U=X=>{if(X.preventDefault(),h.some(V=>!V.productId||!V.productName)){alert("Please select a product for each order item.");return}const z=new Date,H={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):z,updatedAt:z,items:h.map((V,q)=>({...V,id:`item${q+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:w,totalAmount:h.reduce((V,q)=>V+(q.totalPrice||0),0)};D&&(H.notes=D),r(H),t()};return f.jsx(fn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(jt,{label:"Customer Name",value:s,onChange:X=>o(X.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Status",value:l,onChange:X=>c(X.target.value),options:q$e,required:!0,fullWidth:!0,disabled:!0}),f.jsx(Jr,{label:"Payment Method",value:w,onChange:X=>b(X.target.value),options:W$e,required:!0,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.jsx(jt,{label:"Order Date",type:"date",value:u,onChange:X=>d(X.target.value),required:!0,fullWidth:!0})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((X,z)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(Jr,{label:"Product Name",value:X.productName,onChange:H=>I(z,"productName",H.target.value),options:[{value:"",label:"Select product..."},...P.map(H=>({value:H.name,label:H.name}))],required:!0,fullWidth:!0,disabled:_}),f.jsx(jt,{label:"Quantity",type:"number",value:X.quantity,onChange:H=>I(z,"quantity",Number(H.target.value)),min:1,required:!0,fullWidth:!0,disabled:!X.productName}),f.jsx(jt,{label:"Unit Price",type:"number",value:X.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(jt,{label:"Total Price",type:"number",value:X.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(nt,{type:"button",variant:"danger",size:"sm",icon:f.jsx(oi,{size:16}),onClick:()=>C(z),children:"Remove"})]},z)),f.jsx(nt,{type:"button",variant:"primary",icon:f.jsx(Ei,{size:16}),onClick:E,disabled:_,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(jt,{label:"Street",value:g.street,onChange:X=>N("shipping","street",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:g.city,onChange:X=>N("shipping","city",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:g.state,onChange:X=>N("shipping","state",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:g.zipCode,onChange:X=>N("shipping","zipCode",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:g.country,onChange:X=>N("shipping","country",X.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(jt,{label:"Street",value:v.street,onChange:X=>N("billing","street",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:v.city,onChange:X=>N("billing","city",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:v.state,onChange:X=>N("billing","state",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:v.zipCode,onChange:X=>N("billing","zipCode",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:v.country,onChange:X=>N("billing","country",X.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(jt,{label:"Notes (optional)",value:D,onChange:X=>O(X.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(nt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(nt,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Y$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],X$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],uR={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},fR={street:"",city:"",state:"",zipCode:"",country:""},Q$e=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=F.useState(""),[o,l]=F.useState(""),[c,u]=F.useState("pending"),[d,h]=F.useState(""),[p,g]=F.useState(""),[m,v]=F.useState([{...uR}]),[y,w]=F.useState({...fR}),[b,D]=F.useState({...fR}),[O,P]=F.useState("Credit Card"),[T,_]=F.useState(""),[S,I]=F.useState([]),[E,C]=F.useState(!1);F.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(qt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(te=>({...te}))),w(a.shippingAddress),D(a.billingAddress),P(a.paymentMethod),_(a.notes||""),a.status==="shipped"&&a.shippedTime?g(qt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),F.useEffect(()=>{e&&(async()=>{C(!0);try{const Z=lr(wt(Xe,"inventory"),Fa("name")),R=(await ur(Z)).docs.map(G=>({id:G.id,...G.data()}));I(R.length>0?R:kw)}catch{I(kw)}finally{C(!1)}})()},[e]);const N=(te,Z,k)=>{v(R=>R.map((G,Y)=>{if(Y!==te)return G;if(Z==="productName"){const J=S.find(se=>se.name===k);return J?{...G,productId:J.id,productName:J.name,unitPrice:J.price,quantity:1,totalPrice:J.price*1}:G}if(Z==="quantity"){const J=Number(k);return{...G,quantity:J,totalPrice:G.unitPrice*J}}return{...G,[Z]:k}}))},U=()=>{v([...m,{...uR}])},X=te=>{v(Z=>Z.filter((k,R)=>R!==te))},z=(te,Z,k)=>{te==="shipping"?w(R=>({...q(R),[Z]:k})):D(R=>({...q(R),[Z]:k}))},H=te=>{if(te.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const Z={orderNumber:i,customerName:o,status:c,items:m.map((R,G)=>{let Y;return typeof R.id=="string"&&R.id?Y=R.id:Y=`item${G+1}`,{...R,id:Y}}),shippingAddress:y,billingAddress:b,paymentMethod:O,totalAmount:m.reduce((R,G)=>R+(G.totalPrice||0),0)};T&&(Z.notes=T),c==="shipped"&&p?Z.shippedTime=pfe(p):a!=null&&a.shippedTime&&c!=="shipped"&&(Z.shippedTime=null);const k={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...Z};r(k),t()},V=te=>typeof te=="object"&&te!==null&&!Array.isArray(te)&&"street"in te&&"city"in te&&"state"in te&&"zipCode"in te&&"country"in te,q=te=>V(te)?te:{street:"",city:"",state:"",zipCode:"",country:""};return f.jsx(fn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:f.jsxs("form",{onSubmit:H,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(jt,{label:"Customer Name",value:o,onChange:te=>l(te.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Status",value:c,onChange:te=>u(te.target.value),options:Y$e,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Payment Method",value:O,onChange:te=>P(te.target.value),options:X$e,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Order Date",type:"date",value:d,onChange:te=>h(te.target.value),required:!0,fullWidth:!0}),c==="shipped"&&f.jsx(jt,{label:"Shipped Time",type:"datetime-local",value:p,onChange:te=>g(te.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((te,Z)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(Jr,{label:"Product Name",value:te.productName,onChange:k=>N(Z,"productName",k.target.value),options:[{value:"",label:"Select product..."},...S.map(k=>({value:k.name,label:k.name}))],required:!0,fullWidth:!0,disabled:E}),f.jsx(jt,{label:"Quantity",type:"number",value:te.quantity,onChange:k=>N(Z,"quantity",Number(k.target.value)),min:1,required:!0,fullWidth:!0,disabled:!te.productName}),f.jsx(jt,{label:"Unit Price",type:"number",value:te.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(jt,{label:"Total Price",type:"number",value:te.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(nt,{type:"button",variant:"danger",size:"sm",icon:f.jsx(oi,{size:16}),onClick:()=>X(Z),children:"Remove"})]},Z)),f.jsx(nt,{type:"button",variant:"primary",icon:f.jsx(Ei,{size:16}),onClick:U,disabled:E,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(jt,{label:"Street",value:y.street,onChange:te=>z("shipping","street",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:y.city,onChange:te=>z("shipping","city",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:y.state,onChange:te=>z("shipping","state",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:y.zipCode,onChange:te=>z("shipping","zipCode",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:y.country,onChange:te=>z("shipping","country",te.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(jt,{label:"Street",value:b.street,onChange:te=>z("billing","street",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:b.city,onChange:te=>z("billing","city",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:b.state,onChange:te=>z("billing","state",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:b.zipCode,onChange:te=>z("billing","zipCode",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:b.country,onChange:te=>z("billing","country",te.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(jt,{label:"Notes (optional)",value:T,onChange:te=>_(te.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(nt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(nt,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},J$e=()=>{const[e,t]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState("date"),[s,o]=F.useState(null),[l,c]=F.useState("grid"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState([]),[v,y]=F.useState(null),[w,b]=F.useState(!1),{showToast:D}=lc(),{user:O}=Ea(),{isDarkMode:P}=an(),T=async()=>{p(!0);try{const V=lr(wt(Xe,"orders"),Fa("createdAt","desc")),te=(await ur(V)).docs.map(Z=>{const k=Z.data();return{id:Z.id,orderNumber:k.orderNumber||"",customerName:k.customerName||"",items:k.items||[],status:k.status||"pending",createdAt:k.createdAt instanceof ir?k.createdAt.toDate():new Date(k.createdAt),updatedAt:k.updatedAt instanceof ir?k.updatedAt.toDate():new Date(k.updatedAt),shippingAddress:k.shippingAddress||{},billingAddress:k.billingAddress||{},paymentMethod:k.paymentMethod||"",totalAmount:k.totalAmount||0,notes:k.notes||"",shippedTime:k.shippedTime instanceof ir?k.shippedTime.toDate():k.shippedTime?new Date(k.shippedTime):void 0}});m(te)}catch(V){console.error("Error fetching orders:",V),D("Failed to fetch orders","error")}finally{p(!1)}};F.useEffect(()=>{T()},[]);const _=g.filter(V=>{const q=V.orderNumber.toLowerCase().includes(e.toLowerCase())||V.customerName.toLowerCase().includes(e.toLowerCase()),te=r==="all"||V.status===r;return q&&te}).sort((V,q)=>a==="date"?new Date(q.createdAt).getTime()-new Date(V.createdAt).getTime():a==="amount"?q.totalAmount-V.totalAmount:0),S=V=>{o(V)},I=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],C=async V=>{p(!0);try{await mr(wt(Xe,"orders"),{...V,createdAt:uf(),updatedAt:uf()}),await mr(wt(Xe,"activityLogs"),{user:O==null?void 0:O.name,role:O==null?void 0:O.role,detail:`created new order #${V.orderNumber} for '${V.customerName}' with ${V.items.length} items (${V.items.map(q=>`${q.quantity} ${q.productName}`).join(", ")}) - Total: $${V.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),V.status==="shipped"&&await Fx(V.items,!0),await T(),d(!1),D("Order added successfully!","success")}catch(q){console.error("Error in handleAddOrder:",q),alert("Error adding order: "+((q==null?void 0:q.message)||q))}finally{p(!1)}},N=async V=>{p(!0);try{const q=Sr(Xe,"orders",V.id),Z=(await qd(q)).data(),k={status:V.status,updatedAt:uf()},R=[];if((Z==null?void 0:Z.status)!==V.status&&R.push(`status from "${Z==null?void 0:Z.status}" to "${V.status}"`),(Z==null?void 0:Z.customerName)!==V.customerName&&R.push(`customer from "${Z==null?void 0:Z.customerName}" to "${V.customerName}"`),JSON.stringify(Z==null?void 0:Z.items)!==JSON.stringify(V.items)){const Y=[];V.items.forEach(J=>{const se=Z==null?void 0:Z.items.find(ue=>ue.id===J.id);se?se.quantity!==J.quantity&&Y.push(`changed ${J.productName} quantity from ${se.quantity} to ${J.quantity}`):Y.push(`added ${J.quantity} ${J.productName}`)}),Z==null||Z.items.forEach(J=>{V.items.find(se=>se.id===J.id)||Y.push(`removed ${J.quantity} ${J.productName}`)}),Y.length>0&&R.push(`items: ${Y.join(", ")}`)}(Z==null?void 0:Z.totalAmount)!==V.totalAmount&&R.push(`total amount from $${Z==null?void 0:Z.totalAmount.toFixed(2)} to $${V.totalAmount.toFixed(2)}`),V.status==="shipped"&&(Z==null?void 0:Z.status)!=="shipped"?(await Fx(V.items,!0),V.shippedTime?k.shippedTime=ir.fromDate(V.shippedTime):k.shippedTime=uf()):(Z==null?void 0:Z.status)==="shipped"&&V.status!=="shipped"?(await Fx(V.items,!1),k.shippedTime=RO()):(V.status==="cancelled"||V.status==="returned")&&(Z==null?void 0:Z.status)!=="cancelled"&&(Z==null?void 0:Z.status)!=="returned"?(await Fx(V.items,!1),k.shippedTime=RO()):Z!=null&&Z.shippedTime&&(k.shippedTime=ir.fromDate(Z.shippedTime));const{...G}=V;Object.assign(k,G),await Vn(q,k),R.length>0&&await mr(wt(Xe,"activityLogs"),{user:O==null?void 0:O.name,role:O==null?void 0:O.role,detail:`edited order #${V.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),D("Order updated successfully!","success")}catch(q){console.error("Error updating order:",q),D("Failed to update order","error")}finally{p(!1)}},U=()=>{y(null)},X=async V=>{p(!0);try{const q=Sr(Xe,"orders",V),Z=(await qd(q)).data();Z&&(await mr(wt(Xe,"activityLogs"),{user:O==null?void 0:O.name,role:O==null?void 0:O.role,detail:`deleted order #${Z.orderNumber} for '${Z.customerName}' with ${Z.items.length} items (${Z.items.map(k=>`${k.quantity} ${k.productName}`).join(", ")}) - Total: $${Z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Ms(q),await T(),b(!1),o(null),D("Order deleted successfully!","success"))}catch(q){console.error("Error deleting order:",q),D("Failed to delete order","error")}finally{p(!1)}},z=(V,q)=>{V.stopPropagation(),o(q),b(!0)},H=(V,q)=>{V.stopPropagation(),y(q)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${P?"text-white":"text-slate-800"}`,children:"Current Orders"}),f.jsx("p",{className:`${P?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),f.jsx(nt,{onClick:()=>d(!0),className:"flex items-center gap-2",children:f.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsx("div",{className:"md:flex-1",children:f.jsx(jt,{placeholder:"Search by order number or customer...",value:e,onChange:V=>t(V.target.value),icon:f.jsx(El,{size:18}),fullWidth:!0})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Jr,{options:I,value:r,onChange:V=>n(V.target.value)}),f.jsx(Jr,{options:E,value:a,onChange:V=>i(V.target.value)})]})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("div",{className:"relative inline-block",children:[f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":P?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[f.jsx(LZ,{size:18,className:"inline mr-1"})," Grid"]}),f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":P?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[f.jsx(VZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx(gs,{className:`w-8 h-8 ${P?"text-blue-400":"text-blue-500"} animate-spin`}),f.jsx("p",{className:`mt-2 ${P?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?_.length>0?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(V=>f.jsx("div",{className:"flex flex-col",children:f.jsx(U$e,{order:V,onClick:()=>S(V),editButton:f.jsx("button",{onClick:q=>H(q,V),className:`p-2 ${P?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:f.jsx(vs,{className:`w-4 h-4 ${P?"text-blue-400":"text-blue-500"}`})})})},V.id))}):f.jsx("div",{className:`text-center py-12 ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${P?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):_.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${P?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[f.jsx("thead",{className:P?"bg-slate-900":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${P?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`${P?"divide-slate-700":"divide-slate-200"}`,children:_.map(V=>f.jsxs("tr",{className:`${P?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>S(V),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-blue-400":"text-blue-700"} font-medium`,children:V.orderNumber}),f.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-300":"text-slate-800"}`,children:V.customerName}),f.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-300":"text-slate-800"} capitalize`,children:V.status}),f.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-300":"text-slate-800"}`,children:new Date(V.createdAt).toLocaleDateString()}),f.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${P?"text-slate-200":"text-slate-900"} text-right`,children:["$",V.totalAmount.toFixed(2)]}),f.jsx("td",{className:"px-4 py-3 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:q=>{q.stopPropagation(),y(V)},className:`p-1 ${P?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:q=>z(q,V),className:`p-1 ${P?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(oi,{size:16})})]})})]},V.id))})]})}):f.jsx("div",{className:`text-center py-12 ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${P?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&f.jsx(V$e,{isOpen:!!s,onClose:()=>o(null),order:s}),f.jsx(K$e,{isOpen:u,onClose:()=>d(!1),onAdd:C,isLoading:h}),f.jsx(Q$e,{isOpen:!!v,onClose:U,onEdit:N,isLoading:h,order:v}),s&&f.jsx(fh,{isOpen:w,onClose:()=>{b(!1),o(null)},onConfirm:()=>X(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},Fx=async(e,t)=>{const r=zae(Xe),n=[];for(const a of e){const i=Sr(Xe,"inventory",a.productId),s=await qd(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await mr(wt(Xe,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},Z$e="modulepreload",e9e=function(e){return"/"+e},dR={},lE=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=e9e(l),l in dR)return;dR[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Z$e,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Xi=Uint8Array,so=Uint16Array,NP=Int32Array,p_=new Xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m_=new Xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cE=new Xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TK=function(e,t){for(var r=new so(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new NP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},EK=TK(p_,2),NK=EK.b,uE=EK.r;NK[28]=258,uE[258]=28;var kK=TK(m_,0),t9e=kK.b,hR=kK.r,fE=new so(32768);for(var Qn=0;Qn<32768;++Qn){var Hu=(Qn&43690)>>1|(Qn&21845)<<1;Hu=(Hu&52428)>>2|(Hu&13107)<<2,Hu=(Hu&61680)>>4|(Hu&3855)<<4,fE[Qn]=((Hu&65280)>>8|(Hu&255)<<8)>>1}var ac=function(e,t,r){for(var n=e.length,a=0,i=new so(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new so(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new so(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],d=s[e[a]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[fE[d]>>l]=c}else for(o=new so(n),a=0;a<n;++a)e[a]&&(o[a]=fE[s[e[a]-1]++]>>15-e[a]);return o},qf=new Xi(288);for(var Qn=0;Qn<144;++Qn)qf[Qn]=8;for(var Qn=144;Qn<256;++Qn)qf[Qn]=9;for(var Qn=256;Qn<280;++Qn)qf[Qn]=7;for(var Qn=280;Qn<288;++Qn)qf[Qn]=8;var D1=new Xi(32);for(var Qn=0;Qn<32;++Qn)D1[Qn]=5;var r9e=ac(qf,9,0),n9e=ac(qf,9,1),a9e=ac(D1,5,0),i9e=ac(D1,5,1),_A=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},il=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},SA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},kP=function(e){return(e+7)/8|0},CK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Xi(e.subarray(t,r))},s9e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],cl=function(e,t,r){var n=new Error(t||s9e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,cl),!r)throw n;return n},o9e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Xi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Xi(a*3));var c=function(xe){var W=r.length;if(xe>W){var Ne=new Xi(Math.max(W*2,xe));Ne.set(r),r=Ne}},u=t.f||0,d=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=il(e,d,1);var w=il(e,d+1,3);if(d+=3,w)if(w==1)p=n9e,g=i9e,m=9,v=5;else if(w==2){var P=il(e,d,31)+257,T=il(e,d+10,15)+4,_=P+il(e,d+5,31)+1;d+=14;for(var S=new Xi(_),I=new Xi(19),E=0;E<T;++E)I[cE[E]]=il(e,d+E*3,7);d+=T*3;for(var C=_A(I),N=(1<<C)-1,U=ac(I,C,1),E=0;E<_;){var X=U[il(e,d,N)];d+=X&15;var b=X>>4;if(b<16)S[E++]=b;else{var z=0,H=0;for(b==16?(H=3+il(e,d,3),d+=2,z=S[E-1]):b==17?(H=3+il(e,d,7),d+=3):b==18&&(H=11+il(e,d,127),d+=7);H--;)S[E++]=z}}var V=S.subarray(0,P),q=S.subarray(P);m=_A(V),v=_A(q),p=ac(V,m,1),g=ac(q,v,1)}else cl(1);else{var b=kP(d)+4,D=e[b-4]|e[b-3]<<8,O=b+D;if(O>a){l&&cl(0);break}o&&c(h+D),r.set(e.subarray(b,O),h),t.b=h+=D,t.p=d=O*8,t.f=u;continue}if(d>y){l&&cl(0);break}}o&&c(h+131072);for(var te=(1<<m)-1,Z=(1<<v)-1,k=d;;k=d){var z=p[SA(e,d)&te],R=z>>4;if(d+=z&15,d>y){l&&cl(0);break}if(z||cl(2),R<256)r[h++]=R;else if(R==256){k=d,p=null;break}else{var G=R-254;if(R>264){var E=R-257,Y=p_[E];G=il(e,d,(1<<Y)-1)+NK[E],d+=Y}var J=g[SA(e,d)&Z],se=J>>4;J||cl(3),d+=J&15;var q=t9e[se];if(se>3){var Y=m_[se];q+=SA(e,d)&(1<<Y)-1,d+=Y}if(d>y){l&&cl(0);break}o&&c(h+131072);var ue=h+G;if(h<q){var ae=i-q,he=Math.min(q,ue);for(ae+h<0&&cl(3);h<he;++h)r[h]=n[ae+h]}for(;h<ue;++h)r[h]=r[h-q]}}t.l=p,t.p=k,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?CK(r,0,h):r.subarray(0,h)},Cc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},sg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},AA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:jK,l:0};if(a==1){var s=new Xi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(O,P){return O.f-P.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new so(h+1),g=dE(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(P,T){return p[T.s]-p[P.s]||P.f-T.f});n<a;++n){var w=i[n].s;if(p[w]>t)m+=y-(1<<g-p[w]),p[w]=t;else break}for(m>>=v;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var D=i[n].s;p[D]==t&&(--p[D],++m)}g=t}return{t:new Xi(p),l:g}},dE=function(e,t,r){return e.s==-1?Math.max(dE(e.l,t,r+1),dE(e.r,t,r+1)):t[e.s]=r},pR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new so(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},og=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},PK=function(e,t,r){var n=r.length,a=kP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},mR=function(e,t,r,n,a,i,s,o,l,c,u){Cc(t,u++,r),++a[256];for(var d=AA(a,15),h=d.t,p=d.l,g=AA(i,15),m=g.t,v=g.l,y=pR(h),w=y.c,b=y.n,D=pR(m),O=D.c,P=D.n,T=new so(19),_=0;_<w.length;++_)++T[w[_]&31];for(var _=0;_<O.length;++_)++T[O[_]&31];for(var S=AA(T,7),I=S.t,E=S.l,C=19;C>4&&!I[cE[C-1]];--C);var N=c+5<<3,U=og(a,qf)+og(i,D1)+s,X=og(a,h)+og(i,m)+s+14+3*C+og(T,I)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&N<=U&&N<=X)return PK(t,u,e.subarray(l,l+c));var z,H,V,q;if(Cc(t,u,1+(X<U)),u+=2,X<U){z=ac(h,p,0),H=h,V=ac(m,v,0),q=m;var te=ac(I,E,0);Cc(t,u,b-257),Cc(t,u+5,P-1),Cc(t,u+10,C-4),u+=14;for(var _=0;_<C;++_)Cc(t,u+3*_,I[cE[_]]);u+=3*C;for(var Z=[w,O],k=0;k<2;++k)for(var R=Z[k],_=0;_<R.length;++_){var G=R[_]&31;Cc(t,u,te[G]),u+=I[G],G>15&&(Cc(t,u,R[_]>>5&127),u+=R[_]>>12)}}else z=r9e,H=qf,V=a9e,q=D1;for(var _=0;_<o;++_){var Y=n[_];if(Y>255){var G=Y>>18&31;sg(t,u,z[G+257]),u+=H[G+257],G>7&&(Cc(t,u,Y>>23&31),u+=p_[G]);var J=Y&31;sg(t,u,V[J]),u+=q[J],J>3&&(sg(t,u,Y>>5&8191),u+=m_[J])}else sg(t,u,z[Y]),u+=H[Y]}return sg(t,u,z[256]),u+H[256]},l9e=new NP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jK=new Xi(0),c9e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Xi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var d=l9e[t-1],h=d>>13,p=d&8191,g=(1<<r)-1,m=i.p||new so(32768),v=i.h||new so(g+1),y=Math.ceil(r/3),w=2*y,b=function(ke){return(e[ke]^e[ke+1]<<y^e[ke+2]<<w)&g},D=new NP(25e3),O=new so(288),P=new so(32),T=0,_=0,S=i.i||0,I=0,E=i.w||0,C=0;S+2<s;++S){var N=b(S),U=S&32767,X=v[N];if(m[U]=X,v[N]=U,E<=S){var z=s-S;if((T>7e3||I>24576)&&(z>423||!c)){u=mR(e,l,0,D,O,P,_,I,C,S-C,u),I=T=_=0,C=S;for(var H=0;H<286;++H)O[H]=0;for(var H=0;H<30;++H)P[H]=0}var V=2,q=0,te=p,Z=U-X&32767;if(z>2&&N==b(S-Z))for(var k=Math.min(h,z)-1,R=Math.min(32767,S),G=Math.min(258,z);Z<=R&&--te&&U!=X;){if(e[S+V]==e[S+V-Z]){for(var Y=0;Y<G&&e[S+Y]==e[S+Y-Z];++Y);if(Y>V){if(V=Y,q=Z,Y>k)break;for(var J=Math.min(Z,Y-2),se=0,H=0;H<J;++H){var ue=S-Z+H&32767,ae=m[ue],he=ue-ae&32767;he>se&&(se=he,X=ue)}}}U=X,X=m[U],Z+=U-X&32767}if(q){D[I++]=268435456|uE[V]<<18|hR[q];var xe=uE[V]&31,W=hR[q]&31;_+=p_[xe]+m_[W],++O[257+xe],++P[W],E=S+V,++T}else D[I++]=e[S],++O[e[S]]}}for(S=Math.max(S,E);S<s;++S)D[I++]=e[S],++O[e[S]];u=mR(e,l,c,D,O,P,_,I,C,S-C,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=S,i.w=E)}else{for(var S=i.w||0;S<s+c;S+=65535){var Ne=S+65535;Ne>=s&&(l[u/8|0]=c,Ne=s),u=PK(l,u+1,e.subarray(S,Ne))}i.i=s}return CK(o,0,n+kP(u)+a)},OK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},u9e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Xi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return c9e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},IK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},f9e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=OK();a.p(t.dictionary),IK(e,2,a.d())}},d9e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&cl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&cl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function hE(e,t){t||(t={});var r=OK();r.p(e);var n=u9e(e,t,t.dictionary?6:2,4);return f9e(n,t),IK(n,n.length-4,r.d()),n}function h9e(e,t){return o9e(e.subarray(d9e(e,t),-4),{i:2},t,t)}var p9e=typeof TextDecoder<"u"&&new TextDecoder,m9e=0;try{p9e.decode(jK,{stream:!0}),m9e=1}catch{}var xr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function TA(){xr.console&&typeof xr.console.log=="function"&&xr.console.log.apply(xr.console,arguments)}var Dn={log:TA,warn:function(e){xr.console&&(typeof xr.console.warn=="function"?xr.console.warn.apply(xr.console,arguments):TA.call(null,arguments))},error:function(e){xr.console&&(typeof xr.console.error=="function"?xr.console.error.apply(xr.console,arguments):TA(e))}};function EA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){kd(n.response,t,r)},n.onerror=function(){Dn.error("could not download file")},n.send()}function gR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $x(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var av,pE,kd=xr.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=xr.URL||xr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?gR(a.href)?EA(e,t,r):$x(a,a.target="_blank"):$x(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){$x(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(gR(e))EA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){$x(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:pn(i)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return EA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(xr.HTMLElement)||xr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=xr.URL||xr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function NA(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ri(r,n,a,i,t[0],7,-680876936),i=Ri(i,r,n,a,t[1],12,-389564586),a=Ri(a,i,r,n,t[2],17,606105819),n=Ri(n,a,i,r,t[3],22,-1044525330),r=Ri(r,n,a,i,t[4],7,-176418897),i=Ri(i,r,n,a,t[5],12,1200080426),a=Ri(a,i,r,n,t[6],17,-1473231341),n=Ri(n,a,i,r,t[7],22,-45705983),r=Ri(r,n,a,i,t[8],7,1770035416),i=Ri(i,r,n,a,t[9],12,-1958414417),a=Ri(a,i,r,n,t[10],17,-42063),n=Ri(n,a,i,r,t[11],22,-1990404162),r=Ri(r,n,a,i,t[12],7,1804603682),i=Ri(i,r,n,a,t[13],12,-40341101),a=Ri(a,i,r,n,t[14],17,-1502002290),r=Fi(r,n=Ri(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Fi(i,r,n,a,t[6],9,-1069501632),a=Fi(a,i,r,n,t[11],14,643717713),n=Fi(n,a,i,r,t[0],20,-373897302),r=Fi(r,n,a,i,t[5],5,-701558691),i=Fi(i,r,n,a,t[10],9,38016083),a=Fi(a,i,r,n,t[15],14,-660478335),n=Fi(n,a,i,r,t[4],20,-405537848),r=Fi(r,n,a,i,t[9],5,568446438),i=Fi(i,r,n,a,t[14],9,-1019803690),a=Fi(a,i,r,n,t[3],14,-187363961),n=Fi(n,a,i,r,t[8],20,1163531501),r=Fi(r,n,a,i,t[13],5,-1444681467),i=Fi(i,r,n,a,t[2],9,-51403784),a=Fi(a,i,r,n,t[7],14,1735328473),r=$i(r,n=Fi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=$i(i,r,n,a,t[8],11,-2022574463),a=$i(a,i,r,n,t[11],16,1839030562),n=$i(n,a,i,r,t[14],23,-35309556),r=$i(r,n,a,i,t[1],4,-1530992060),i=$i(i,r,n,a,t[4],11,1272893353),a=$i(a,i,r,n,t[7],16,-155497632),n=$i(n,a,i,r,t[10],23,-1094730640),r=$i(r,n,a,i,t[13],4,681279174),i=$i(i,r,n,a,t[0],11,-358537222),a=$i(a,i,r,n,t[3],16,-722521979),n=$i(n,a,i,r,t[6],23,76029189),r=$i(r,n,a,i,t[9],4,-640364487),i=$i(i,r,n,a,t[12],11,-421815835),a=$i(a,i,r,n,t[15],16,530742520),r=Bi(r,n=$i(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Bi(i,r,n,a,t[7],10,1126891415),a=Bi(a,i,r,n,t[14],15,-1416354905),n=Bi(n,a,i,r,t[5],21,-57434055),r=Bi(r,n,a,i,t[12],6,1700485571),i=Bi(i,r,n,a,t[3],10,-1894986606),a=Bi(a,i,r,n,t[10],15,-1051523),n=Bi(n,a,i,r,t[1],21,-2054922799),r=Bi(r,n,a,i,t[8],6,1873313359),i=Bi(i,r,n,a,t[15],10,-30611744),a=Bi(a,i,r,n,t[6],15,-1560198380),n=Bi(n,a,i,r,t[13],21,1309151649),r=Bi(r,n,a,i,t[4],6,-145523070),i=Bi(i,r,n,a,t[11],10,-1120210379),a=Bi(a,i,r,n,t[2],15,718787259),n=Bi(n,a,i,r,t[9],21,-343485551),e[0]=mf(r,e[0]),e[1]=mf(n,e[1]),e[2]=mf(a,e[2]),e[3]=mf(i,e[3])}function g_(e,t,r,n,a,i){return t=mf(mf(t,e),mf(n,i)),mf(t<<a|t>>>32-a,r)}function Ri(e,t,r,n,a,i,s){return g_(t&r|~t&n,e,t,a,i,s)}function Fi(e,t,r,n,a,i,s){return g_(t&n|r&~n,e,t,a,i,s)}function $i(e,t,r,n,a,i,s){return g_(t^r^n,e,t,a,i,s)}function Bi(e,t,r,n,a,i,s){return g_(r^(t|~n),e,t,a,i,s)}function LK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)NA(n,g9e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(NA(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,NA(n,a),n}function g9e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}av=xr.atob.bind(xr),pE=xr.btoa.bind(xr);var vR="0123456789abcdef".split("");function v9e(e){for(var t="",r=0;r<4;r++)t+=vR[e>>8*r+4&15]+vR[e>>8*r&15];return t}function y9e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function mE(e){return LK(e).map(y9e).join("")}var x9e=function(e){for(var t=0;t<e.length;t++)e[t]=v9e(e[t]);return e.join("")}(LK("hello"))!="5d41402abc4b2a76b9719d911017c592";function mf(e,t){if(x9e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function gE(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var d=t.length,h=0,p=0,g="";for(l=0;l<d;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yR={print:4,modify:8,copy:16,"annot-forms":32};function f0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(yR.perm!==void 0)throw new Error("Invalid permission: "+o);a+=yR[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=mE(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=gE(this.encryptionKey,this.padding)}function d0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function xR(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){xr.console&&Dn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Cw(e){if(!(this instanceof Cw))return new Cw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function MK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Pd(e,t,r,n,a){if(!(this instanceof Pd))return new Pd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,MK.call(this,n,a)}function D0(e,t,r,n,a){if(!(this instanceof D0))return new D0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,MK.call(this,n,a)}function yr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;pn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=xR;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function D(){this.saveGraphicsState(),le(new Yt(ct,0,0,-ct,0,Oi()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),c="n",b=w.ADVANCED}function O(){this.restoreGraphicsState(),c="S",b=w.COMPAT}var P=p.__private__.combineFontStyleAndFontWeight=function(L,re){if(L=="bold"&&re=="normal"||L=="bold"&&re==400||L=="normal"&&re=="italic"||L=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(L=re==400||re==="normal"?L==="italic"?"italic":"normal":re!=700&&re!=="bold"||L!=="normal"?(re==700?"bold":re)+""+L:"bold"),L};p.advancedAPI=function(L){var re=b===w.COMPAT;return re&&D.call(this),typeof L!="function"||(L(this),re&&O.call(this)),this},p.compatAPI=function(L){var re=b===w.ADVANCED;return re&&O.call(this),typeof L!="function"||(L(this),re&&D.call(this)),this},p.isAdvancedAPI=function(){return b===w.ADVANCED};var T,_=function(L){if(b!==w.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(L,re){var Ae=t||re;if(isNaN(L)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ae).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,16)};var I=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return S(L,2)},E=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return S(L,3)},C=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?L*ct:b===w.ADVANCED?L:void 0},N=function(L){return b===w.COMPAT?Oi()-L:b===w.ADVANCED?L:void 0},U=function(L){return C(N(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var X,z="00000000000000000000000000000000",H=p.__private__.getFileId=function(){return z},V=p.__private__.setFileId=function(L){return z=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(jn=new f0(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};p.setFileId=function(L){return V(L),this},p.getFileId=function(){return H()};var q=p.__private__.convertDateToPDFDate=function(L){var re=L.getTimezoneOffset(),Ae=re<0?"+":"-",je=Math.floor(Math.abs(re/60)),ze=Math.abs(re%60),lt=[Ae,G(je),"'",G(ze),"'"].join("");return["D:",L.getFullYear(),G(L.getMonth()+1),G(L.getDate()),G(L.getHours()),G(L.getMinutes()),G(L.getSeconds()),lt].join("")},te=p.__private__.convertPDFDateToDate=function(L){var re=parseInt(L.substr(2,4),10),Ae=parseInt(L.substr(6,2),10)-1,je=parseInt(L.substr(8,2),10),ze=parseInt(L.substr(10,2),10),lt=parseInt(L.substr(12,2),10),Ct=parseInt(L.substr(14,2),10);return new Date(re,Ae,je,ze,lt,Ct,0)},Z=p.__private__.setCreationDate=function(L){var re;if(L===void 0&&(L=new Date),L instanceof Date)re=q(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=L}return X=re},k=p.__private__.getCreationDate=function(L){var re=X;return L==="jsDate"&&(re=te(X)),re};p.setCreationDate=function(L){return Z(L),this},p.getCreationDate=function(L){return k(L)};var R,G=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},Y=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},J=0,se=[],ue=[],ae=0,he=[],xe=[],W=!1,Ne=ue,ke=function(){J=0,ae=0,ue=[],se=[],he=[],pe=ut(),ge=ut()};p.__private__.setCustomOutputDestination=function(L){W=!0,Ne=L};var _e=function(L){W||(Ne=L)};p.__private__.resetCustomOutputDestination=function(){W=!1,Ne=ue};var le=p.__private__.out=function(L){return L=L.toString(),ae+=L.length+1,Ne.push(L),Ne},Le=p.__private__.write=function(L){return le(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Oe=p.__private__.getArrayBuffer=function(L){for(var re=L.length,Ae=new ArrayBuffer(re),je=new Uint8Array(Ae);re--;)je[re]=L.charCodeAt(re);return Ae},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ve};var We=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return We=b===w.ADVANCED?L/ct:L,this};var Ee,Fe=p.__private__.getFontSize=p.getFontSize=function(){return b===w.COMPAT?We:We*ct},Se=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return Se=L,this},p.__private__.getR2L=p.getR2L=function(){return Se};var Me,He=p.__private__.setZoomMode=function(L){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Ee=L;else if(isNaN(L)){if(re.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Ee=L}else Ee=parseInt(L,10)};p.__private__.getZoomMode=function(){return Ee};var at,ot=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Me=L};p.__private__.getPageMode=function(){return Me};var xt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');at=L};p.__private__.getLayoutMode=function(){return at},p.__private__.setDisplayMode=p.setDisplayMode=function(L,re,Ae){return He(L),xt(re),ot(Ae),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[L]},p.__private__.getDocumentProperties=function(){return ht},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var re in ht)ht.hasOwnProperty(re)&&L[re]&&(ht[re]=L[re]);return this},p.__private__.setDocumentProperty=function(L,re){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[L]=re};var mt,ct,Zt,Ht,Rr,Ir={},Wr={},Pe=[],Re={},rt={},vt={},Nt={},Kt=null,Ft=0,Dt=[],rr=new xR(p),gr=e.hotfixes||[],or={},Tr={},An=[],Yt=function L(re,Ae,je,ze,lt,Ct){if(!(this instanceof L))return new L(re,Ae,je,ze,lt,Ct);isNaN(re)&&(re=1),isNaN(Ae)&&(Ae=0),isNaN(je)&&(je=0),isNaN(ze)&&(ze=1),isNaN(lt)&&(lt=0),isNaN(Ct)&&(Ct=0),this._matrix=[re,Ae,je,ze,lt,Ct]};Object.defineProperty(Yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Yt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},Yt.prototype.multiply=function(L){var re=L.sx*this.sx+L.shy*this.shx,Ae=L.sx*this.shy+L.shy*this.sy,je=L.shx*this.sx+L.sy*this.shx,ze=L.shx*this.shy+L.sy*this.sy,lt=L.tx*this.sx+L.ty*this.shx+this.tx,Ct=L.tx*this.shy+L.ty*this.sy+this.ty;return new Yt(re,Ae,je,ze,lt,Ct)},Yt.prototype.decompose=function(){var L=this.sx,re=this.shy,Ae=this.shx,je=this.sy,ze=this.tx,lt=this.ty,Ct=Math.sqrt(L*L+re*re),Wt=(L/=Ct)*Ae+(re/=Ct)*je;Ae-=L*Wt,je-=re*Wt;var A=Math.sqrt(Ae*Ae+je*je);return Wt/=A,L*(je/=A)<re*(Ae/=A)&&(L=-L,re=-re,Wt=-Wt,Ct=-Ct),{scale:new Yt(Ct,0,0,A,0,0),translate:new Yt(1,0,0,1,ze,lt),rotate:new Yt(L,re,-re,L,0,0),skew:new Yt(1,0,Wt,1,0,0)}},Yt.prototype.toString=function(L){return this.join(" ")},Yt.prototype.inversed=function(){var L=this.sx,re=this.shy,Ae=this.shx,je=this.sy,ze=this.tx,lt=this.ty,Ct=1/(L*je-re*Ae),Wt=je*Ct,A=-re*Ct,B=-Ae*Ct,Q=L*Ct;return new Yt(Wt,A,B,Q,-Wt*ze-B*lt,-A*ze-Q*lt)},Yt.prototype.applyToPoint=function(L){var re=L.x*this.sx+L.y*this.shx+this.tx,Ae=L.x*this.shy+L.y*this.sy+this.ty;return new xc(re,Ae)},Yt.prototype.applyToRectangle=function(L){var re=this.applyToPoint(L),Ae=this.applyToPoint(new xc(L.x+L.w,L.y+L.h));return new ku(re.x,re.y,Ae.x-re.x,Ae.y-re.y)},Yt.prototype.clone=function(){var L=this.sx,re=this.shy,Ae=this.shx,je=this.sy,ze=this.tx,lt=this.ty;return new Yt(L,re,Ae,je,ze,lt)},p.Matrix=Yt;var Mn=p.matrixMult=function(L,re){return re.multiply(L)},Rn=new Yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Rn;var Ce=function(L,re){if(!rt[L]){var Ae=(re instanceof Pd?"Sh":"P")+(Object.keys(Re).length+1).toString(10);re.id=Ae,rt[L]=Ae,Re[Ae]=re,rr.publish("addPattern",re)}};p.ShadingPattern=Pd,p.TilingPattern=D0,p.addShadingPattern=function(L,re){return _("addShadingPattern()"),Ce(L,re),this},p.beginTilingPattern=function(L){_("beginTilingPattern()"),Cu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,re){_("endTilingPattern()"),re.stream=xe[R].join(`
`),Ce(L,re),rr.publish("endTilingPattern",re),An.pop().restore()};var it=p.__private__.newObject=function(){var L=ut();return ee(L,!0),L},ut=p.__private__.newObjectDeferred=function(){return J++,se[J]=function(){return ae},J},ee=function(L,re){return re=typeof re=="boolean"&&re,se[L]=ae,re&&le(L+" 0 obj"),L},ve=p.__private__.newAdditionalObject=function(){var L={objId:ut(),content:""};return he.push(L),L},pe=ut(),ge=ut(),ye=p.__private__.decodeColorString=function(L){var re=L.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ae=parseFloat(re[0]);re=[Ae,Ae,Ae,"r"]}for(var je="#",ze=0;ze<3;ze++)je+=("0"+Math.floor(255*parseFloat(re[ze])).toString(16)).slice(-2);return je},we=p.__private__.encodeColorString=function(L){var re;typeof L=="string"&&(L={ch1:L});var Ae=L.ch1,je=L.ch2,ze=L.ch3,lt=L.ch4,Ct=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Wt=new DK(Ae);if(Wt.ok)Ae=Wt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var A=parseInt(Ae.substr(1),16);Ae=A>>16&255,je=A>>8&255,ze=255&A}if(je===void 0||lt===void 0&&Ae===je&&je===ze)if(typeof Ae=="string")re=Ae+" "+Ct[0];else switch(L.precision){case 2:re=I(Ae/255)+" "+Ct[0];break;case 3:default:re=E(Ae/255)+" "+Ct[0]}else if(lt===void 0||pn(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return re=["1.","1.","1.",Ct[1]].join(" ");if(typeof Ae=="string")re=[Ae,je,ze,Ct[1]].join(" ");else switch(L.precision){case 2:re=[I(Ae/255),I(je/255),I(ze/255),Ct[1]].join(" ");break;default:case 3:re=[E(Ae/255),E(je/255),E(ze/255),Ct[1]].join(" ")}}else if(typeof Ae=="string")re=[Ae,je,ze,lt,Ct[2]].join(" ");else switch(L.precision){case 2:re=[I(Ae),I(je),I(ze),I(lt),Ct[2]].join(" ");break;case 3:default:re=[E(Ae),E(je),E(ze),E(lt),Ct[2]].join(" ")}return re},Ge=p.__private__.getFilters=function(){return s},tt=p.__private__.putStream=function(L){var re=(L=L||{}).data||"",Ae=L.filters||Ge(),je=L.alreadyAppliedFilters||[],ze=L.addLength1||!1,lt=re.length,Ct=L.objectId,Wt=function(Cr){return Cr};if(u!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Wt=jn.encryptor(Ct,0));var A={};Ae===!0&&(Ae=["FlateEncode"]);var B=L.additionalKeyValues||[],Q=(A=yr.API.processDataByFilters!==void 0?yr.API.processDataByFilters(re,Ae):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(A.data.length!==0&&(B.push({key:"Length",value:A.data.length}),ze===!0&&B.push({key:"Length1",value:lt})),Q.length!=0)if(Q.split("/").length-1==1)B.push({key:"Filter",value:Q});else{B.push({key:"Filter",value:"["+Q+"]"});for(var fe=0;fe<B.length;fe+=1)if(B[fe].key==="DecodeParms"){for(var Be=[],et=0;et<A.reverseChain.split("/").length-1;et+=1)Be.push("null");Be.push(B[fe].value),B[fe].value="["+Be.join(" ")+"]"}}le("<<");for(var Pt=0;Pt<B.length;Pt++)le("/"+B[Pt].key+" "+B[Pt].value);le(">>"),A.data.length!==0&&(le("stream"),le(Wt(A.data)),le("endstream"))},Ke=p.__private__.putPage=function(L){var re=L.number,Ae=L.data,je=L.objId,ze=L.contentsObjId;ee(je,!0),le("<</Type /Page"),le("/Parent "+L.rootDictionaryObjId+" 0 R"),le("/Resources "+L.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&le("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&le("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&le("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&le("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&le("/UserUnit "+L.userUnit),rr.publish("putPage",{objId:je,pageContext:Dt[re],pageNumber:re,page:Ae}),le("/Contents "+ze+" 0 R"),le(">>"),le("endobj");var lt=Ae.join(`
`);return b===w.ADVANCED&&(lt+=`
Q`),ee(ze,!0),tt({data:lt,filters:Ge(),objectId:ze}),le("endobj"),je},Ye=p.__private__.putPages=function(){var L,re,Ae=[];for(L=1;L<=Ft;L++)Dt[L].objId=ut(),Dt[L].contentsObjId=ut();for(L=1;L<=Ft;L++)Ae.push(Ke({number:L,data:xe[L],objId:Dt[L].objId,contentsObjId:Dt[L].contentsObjId,mediaBox:Dt[L].mediaBox,cropBox:Dt[L].cropBox,bleedBox:Dt[L].bleedBox,trimBox:Dt[L].trimBox,artBox:Dt[L].artBox,userUnit:Dt[L].userUnit,rootDictionaryObjId:pe,resourceDictionaryObjId:ge}));ee(pe,!0),le("<</Type /Pages");var je="/Kids [";for(re=0;re<Ft;re++)je+=Ae[re]+" 0 R ";le(je+"]"),le("/Count "+Ft),le(">>"),le("endobj"),rr.publish("postPutPages")},Ze=function(L){rr.publish("putFont",{font:L,out:le,newObject:it,putStream:tt}),L.isAlreadyPutted!==!0&&(L.objectNumber=it(),le("<<"),le("/Type /Font"),le("/BaseFont /"+d0(L.postScriptName)),le("/Subtype /Type1"),typeof L.encoding=="string"&&le("/Encoding /"+L.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Tt=function(){for(var L in Ir)Ir.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&Ze(Ir[L])},Mt=function(L){L.objectNumber=it();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ae=L.pages[1].join(`
`);tt({data:Ae,additionalKeyValues:re,objectId:L.objectNumber}),le("endobj")},Vt=function(){for(var L in or)or.hasOwnProperty(L)&&Mt(or[L])},It=function(L,re){var Ae,je=[],ze=1/(re-1);for(Ae=0;Ae<1;Ae+=ze)je.push(Ae);if(je.push(1),L[0].offset!=0){var lt={offset:0,color:L[0].color};L.unshift(lt)}if(L[L.length-1].offset!=1){var Ct={offset:1,color:L[L.length-1].color};L.push(Ct)}for(var Wt="",A=0,B=0;B<je.length;B++){for(Ae=je[B];Ae>L[A+1].offset;)A++;var Q=L[A].offset,fe=(Ae-Q)/(L[A+1].offset-Q),Be=L[A].color,et=L[A+1].color;Wt+=Y(Math.round((1-fe)*Be[0]+fe*et[0]).toString(16))+Y(Math.round((1-fe)*Be[1]+fe*et[1]).toString(16))+Y(Math.round((1-fe)*Be[2]+fe*et[2]).toString(16))}return Wt.trim()},Bt=function(L,re){re||(re=21);var Ae=it(),je=It(L.colors,re),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+re+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:je,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),le("endobj"),L.objectNumber=it(),le("<< /ShadingType "+L.type),le("/ColorSpace /DeviceRGB");var lt="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?lt+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):lt+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),le(lt+="]"),L.matrix&&le("/Matrix ["+L.matrix.toString()+"]"),le("/Function "+Ae+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},dr=function(L,re){var Ae=ut(),je=it();re.push({resourcesOid:Ae,objectOid:je}),L.objectNumber=je;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),ze.push({key:"XStep",value:T(L.xStep)}),ze.push({key:"YStep",value:T(L.yStep)}),ze.push({key:"Resources",value:Ae+" 0 R"}),L.matrix&&ze.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),tt({data:L.stream,additionalKeyValues:ze,objectId:L.objectNumber}),le("endobj")},Vr=function(L){var re;for(re in Re)Re.hasOwnProperty(re)&&(Re[re]instanceof Pd?Bt(Re[re]):Re[re]instanceof D0&&dr(Re[re],L))},Hr=function(L){for(var re in L.objectNumber=it(),le("<<"),L)switch(re){case"opacity":le("/ca "+I(L[re]));break;case"stroke-opacity":le("/CA "+I(L[re]))}le(">>"),le("endobj")},sn=function(){var L;for(L in vt)vt.hasOwnProperty(L)&&Hr(vt[L])},di=function(){for(var L in le("/XObject <<"),or)or.hasOwnProperty(L)&&or[L].objectNumber>=0&&le("/"+L+" "+or[L].objectNumber+" 0 R");rr.publish("putXobjectDict"),le(">>")},qs=function(){jn.oid=it(),le("<<"),le("/Filter /Standard"),le("/V "+jn.v),le("/R "+jn.r),le("/U <"+jn.toHexString(jn.U)+">"),le("/O <"+jn.toHexString(jn.O)+">"),le("/P "+jn.P),le(">>"),le("endobj")},is=function(){for(var L in le("/Font <<"),Ir)Ir.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&le("/"+L+" "+Ir[L].objectNumber+" 0 R");le(">>")},ji=function(){if(Object.keys(Re).length>0){for(var L in le("/Shading <<"),Re)Re.hasOwnProperty(L)&&Re[L]instanceof Pd&&Re[L].objectNumber>=0&&le("/"+L+" "+Re[L].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),le(">>")}},ss=function(L){if(Object.keys(Re).length>0){for(var re in le("/Pattern <<"),Re)Re.hasOwnProperty(re)&&Re[re]instanceof p.TilingPattern&&Re[re].objectNumber>=0&&Re[re].objectNumber<L&&le("/"+re+" "+Re[re].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),le(">>")}},Ba=function(){if(Object.keys(vt).length>0){var L;for(L in le("/ExtGState <<"),vt)vt.hasOwnProperty(L)&&vt[L].objectNumber>=0&&le("/"+L+" "+vt[L].objectNumber+" 0 R");rr.publish("putGStateDict"),le(">>")}},Cn=function(L){ee(L.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),is(),ji(),ss(L.objectOid),Ba(),di(),le(">>"),le("endobj")},hc=function(){var L=[];Tt(),sn(),Vt(),Vr(L),rr.publish("putResources"),L.forEach(Cn),Cn({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources")},pc=function(){rr.publish("putAdditionalObjects");for(var L=0;L<he.length;L++){var re=he[L];ee(re.objId,!0),le(re.content),le("endobj")}rr.publish("postPutAdditionalObjects")},mc=function(L){Wr[L.fontName]=Wr[L.fontName]||{},Wr[L.fontName][L.fontStyle]=L.id},gc=function(L,re,Ae,je,ze){var lt={id:"F"+(Object.keys(Ir).length+1).toString(10),postScriptName:L,fontName:re,fontStyle:Ae,encoding:je,isStandardFont:ze||!1,metadata:{}};return rr.publish("addFont",{font:lt,instance:this}),Ir[lt.id]=lt,mc(lt),lt.id},ie=function(L){for(var re=0,Ae=Ve.length;re<Ae;re++){var je=gc.call(this,L[re][0],L[re][1],L[re][2],Ve[re][3],!0);d===!1&&(h[je]=!0);var ze=L[re][0].split("-");mc({id:je,fontName:ze[0],fontStyle:ze[1]||""})}rr.publish("addFonts",{fonts:Ir,dictionary:Wr})},Te=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(je){var re=je.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Ae="Error in function "+re.split(`
`)[0].split("<")[0]+": "+je.message;if(!xr.console)throw new Error(Ae);xr.console.error(Ae,je),xr.alert&&alert(Ae)}},L.foo.bar=L,L.foo},St=function(L,re){var Ae,je,ze,lt,Ct,Wt,A,B,Q;if(ze=(re=re||{}).sourceEncoding||"Unicode",Ct=re.outputEncoding,(re.autoencode||Ct)&&Ir[mt].metadata&&Ir[mt].metadata[ze]&&Ir[mt].metadata[ze].encoding&&(lt=Ir[mt].metadata[ze].encoding,!Ct&&Ir[mt].encoding&&(Ct=Ir[mt].encoding),!Ct&&lt.codePages&&(Ct=lt.codePages[0]),typeof Ct=="string"&&(Ct=lt[Ct]),Ct)){for(A=!1,Wt=[],Ae=0,je=L.length;Ae<je;Ae++)(B=Ct[L.charCodeAt(Ae)])?Wt.push(String.fromCharCode(B)):Wt.push(L[Ae]),Wt[Ae].charCodeAt(0)>>8&&(A=!0);L=Wt.join("")}for(Ae=L.length;A===void 0&&Ae!==0;)L.charCodeAt(Ae-1)>>8&&(A=!0),Ae--;if(!A)return L;for(Wt=re.noBOM?[]:[254,255],Ae=0,je=L.length;Ae<je;Ae++){if((Q=(B=L.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wt.push(Q),Wt.push(B-(Q<<8))}return String.fromCharCode.apply(void 0,Wt)},$t=p.__private__.pdfEscape=p.pdfEscape=function(L,re){return St(L,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pt=p.__private__.beginPage=function(L){xe[++Ft]=[],Dt[Ft]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Rt(Ft),_e(xe[R])},dt=function(L,re){var Ae,je,ze;switch(r=re||r,typeof L=="string"&&(Ae=y(L.toLowerCase()),Array.isArray(Ae)&&(je=Ae[0],ze=Ae[1])),Array.isArray(L)&&(je=L[0]*ct,ze=L[1]*ct),isNaN(je)&&(je=a[0],ze=a[1]),(je>14400||ze>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),ze=Math.min(14400,ze)),a=[je,ze],r.substr(0,1)){case"l":ze>je&&(a=[ze,je]);break;case"p":je>ze&&(a=[ze,je])}pt(a),ld(od),le(hi),fd!==0&&le(fd+" J"),Nu!==0&&le(Nu+" j"),rr.publish("addPage",{pageNumber:Ft})},Ot=function(L){L>0&&L<=Ft&&(xe.splice(L,1),Dt.splice(L,1),Ft--,R>Ft&&(R=Ft),this.setPage(R))},Rt=function(L){L>0&&L<=Ft&&(R=L)},Et=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},ar=function(L,re,Ae){var je,ze=void 0;return Ae=Ae||{},L=L!==void 0?L:Ir[mt].fontName,re=re!==void 0?re:Ir[mt].fontStyle,je=L.toLowerCase(),Wr[je]!==void 0&&Wr[je][re]!==void 0?ze=Wr[je][re]:Wr[L]!==void 0&&Wr[L][re]!==void 0?ze=Wr[L][re]:Ae.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+L+"', '"+re+"'. Refer to getFontList() for available fonts."),ze||Ae.noFallback||(ze=Wr.times[re])==null&&(ze=Wr.times.normal),ze},Nr=p.__private__.putInfo=function(){var L=it(),re=function(je){return je};for(var Ae in u!==null&&(re=jn.encryptor(L,0)),le("<<"),le("/Producer ("+$t(re("jsPDF "+yr.version))+")"),ht)ht.hasOwnProperty(Ae)&&ht[Ae]&&le("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+$t(re(ht[Ae]))+")");le("/CreationDate ("+$t(re(X))+")"),le(">>"),le("endobj")},pr=p.__private__.putCatalog=function(L){var re=(L=L||{}).rootDictionaryObjId||pe;switch(it(),le("<<"),le("/Type /Catalog"),le("/Pages "+re+" 0 R"),Ee||(Ee="fullwidth"),Ee){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+Ee;Ae.substr(Ae.length-1)==="%"&&(Ee=parseInt(Ee)/100),typeof Ee=="number"&&le("/OpenAction [3 0 R /XYZ null null "+I(Ee)+"]")}switch(at||(at="continuous"),at){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Me&&le("/PageMode /"+Me),rr.publish("putCatalog"),le(">>"),le("endobj")},Fn=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(J+1)),le("/Root "+J+" 0 R"),le("/Info "+(J-1)+" 0 R"),u!==null&&le("/Encrypt "+jn.oid+" 0 R"),le("/ID [ <"+z+"> <"+z+"> ]"),le(">>")},Pn=p.__private__.putHeader=function(){le("%PDF-"+g),le("%ºß¬à")},Gr=p.__private__.putXRef=function(){var L="0000000000";le("xref"),le("0 "+(J+1)),le("0000000000 65535 f ");for(var re=1;re<=J;re++)typeof se[re]=="function"?le((L+se[re]()).slice(-10)+" 00000 n "):se[re]!==void 0?le((L+se[re]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Tn=p.__private__.buildDocument=function(){ke(),_e(ue),rr.publish("buildDocument"),Pn(),Ye(),pc(),hc(),u!==null&&qs(),Nr(),pr();var L=ae;return Gr(),Fn(),le("startxref"),le(""+L),le("%%EOF"),_e(xe[R]),ue.join(`
`)},Za=p.__private__.getBlob=function(L){return new Blob([Oe(L)],{type:"application/pdf"})},Wn=p.output=p.__private__.output=Te(function(L,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",L){case void 0:return Tn();case"save":p.save(re.filename);break;case"arraybuffer":return Oe(Tn());case"blob":return Za(Tn());case"bloburi":case"bloburl":if(xr.URL!==void 0&&typeof xr.URL.createObjectURL=="function")return xr.URL&&xr.URL.createObjectURL(Za(Tn()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",je=Tn();try{Ae=pE(je)}catch{Ae=pE(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(ze=re.pdfObjectUrl,lt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Wt=xr.open();return Wt!==null&&Wt.document.write(Ct),Wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',B=xr.open();if(B!==null){B.document.write(A);var Q=this;B.document.documentElement.querySelector("#pdfViewer").onload=function(){B.document.title=re.filename,B.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Q.output("bloburl"))}}return B}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Be=xr.open();if(Be!==null&&(Be.document.write(fe),Be.document.title=re.filename),Be||typeof safari>"u")return Be;break;case"datauri":case"dataurl":return xr.document.location.href=this.output("datauristring",re);default:return null}}),os=function(L){return Array.isArray(gr)===!0&&gr.indexOf(L)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=os("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var jn=null;Z(),V();var xu=function(L){return u!==null?jn.encryptor(L,0):function(re){return re}},ad=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[L].objId,pageNumber:L,pageContext:Dt[L]}},wr=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Dt)if(Dt[re].objId===L)break;return ad(re)},Ol=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Dt[R].objId,pageNumber:R,pageContext:Dt[R]}};p.addPage=function(){return dt.apply(this,arguments),this},p.setPage=function(){return Rt.apply(this,arguments),_e.call(this,xe[R]),this},p.insertPage=function(L){return this.addPage(),this.movePage(R,L),this},p.movePage=function(L,re){var Ae,je;if(L>re){Ae=xe[L],je=Dt[L];for(var ze=L;ze>re;ze--)xe[ze]=xe[ze-1],Dt[ze]=Dt[ze-1];xe[re]=Ae,Dt[re]=je,this.setPage(re)}else if(L<re){Ae=xe[L],je=Dt[L];for(var lt=L;lt<re;lt++)xe[lt]=xe[lt+1],Dt[lt]=Dt[lt+1];xe[re]=Ae,Dt[re]=je,this.setPage(re)}return this},p.deletePage=function(){return Ot.apply(this,arguments),this},p.__private__.text=p.text=function(L,re,Ae,je,ze){var lt,Ct,Wt,A,B,Q,fe,Be,et,Pt=(je=je||{}).scope||this;if(typeof L=="number"&&typeof re=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Cr=Ae;Ae=re,re=L,L=Cr}if(arguments[3]instanceof Yt?(_("The transform parameter of text() with a Matrix value"),et=ze):(Wt=arguments[4],A=arguments[5],pn(fe=arguments[3])==="object"&&fe!==null||(typeof Wt=="string"&&(A=Wt,Wt=null),typeof fe=="string"&&(A=fe,fe=null),typeof fe=="number"&&(Wt=fe,fe=null),je={flags:fe,angle:Wt,align:A})),isNaN(re)||isNaN(Ae)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Pt;var Kr="",Pr=!1,vn=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:gn,On=Pt.internal.scaleFactor;function Jo($n){return $n=$n.split("	").join(Array(je.TabLen||9).join(" ")),$t($n,fe)}function pi($n){for(var Bn,ya=$n.concat(),Va=[],Ac=ya.length;Ac--;)typeof(Bn=ya.shift())=="string"?Va.push(Bn):Array.isArray($n)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Va.push(Bn[0]):Va.push([Bn[0],Bn[1],Bn[2]]);return Va}function Ml($n,Bn){var ya;if(typeof $n=="string")ya=Bn($n)[0];else if(Array.isArray($n)){for(var Va,Ac,jm=$n.concat(),Hh=[],wy=jm.length;wy--;)typeof(Va=jm.shift())=="string"?Hh.push(Bn(Va)[0]):Array.isArray(Va)&&typeof Va[0]=="string"&&(Ac=Bn(Va[0],Va[1],Va[2]),Hh.push([Ac[0],Ac[1],Ac[2]]));ya=Hh}return ya}var Rl=!1,Am=!0;if(typeof L=="string")Rl=!0;else if(Array.isArray(L)){var Tm=L.concat();Ct=[];for(var Fh,mi=Tm.length;mi--;)(typeof(Fh=Tm.shift())!="string"||Array.isArray(Fh)&&typeof Fh[0]!="string")&&(Am=!1);Rl=Am}if(Rl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var $h=We/Pt.internal.scaleFactor,Bh=$h*(vn-1);switch(je.baseline){case"bottom":Ae-=Bh;break;case"top":Ae+=$h-Bh;break;case"hanging":Ae+=$h-2*Bh;break;case"middle":Ae+=$h/2-Bh}if((Q=je.maxWidth||0)>0&&(typeof L=="string"?L=Pt.splitTextToSize(L,Q):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function($n,Bn){return $n.concat(Pt.splitTextToSize(Bn,Q))},[]))),lt={text:L,x:re,y:Ae,options:je,mutex:{pdfEscape:$t,activeFontKey:mt,fonts:Ir,activeFontSize:We}},rr.publish("preProcessText",lt),L=lt.text,Wt=(je=lt.options).angle,!(et instanceof Yt)&&Wt&&typeof Wt=="number"){Wt*=Math.PI/180,je.rotationDirection===0&&(Wt=-Wt),b===w.ADVANCED&&(Wt=-Wt);var Uh=Math.cos(Wt),Em=Math.sin(Wt);et=new Yt(Uh,Em,-Em,Uh,0,0)}else Wt&&Wt instanceof Yt&&(et=Wt);b!==w.ADVANCED||et||(et=Rn),(B=je.charSpace||yc)!==void 0&&(Kr+=T(C(B))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Be=je.horizontalScale)!==void 0&&(Kr+=T(100*Be)+` Tz
`),je.lang;var Ns=-1,y_=je.renderingMode!==void 0?je.renderingMode:je.stroke,Nm=Pt.internal.getCurrentPageInfo().pageContext;switch(y_){case 0:case!1:case"fill":Ns=0;break;case 1:case!0:case"stroke":Ns=1;break;case 2:case"fillThenStroke":Ns=2;break;case 3:case"invisible":Ns=3;break;case 4:case"fillAndAddForClipping":Ns=4;break;case 5:case"strokeAndAddPathForClipping":Ns=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ns=6;break;case 7:case"addToPathForClipping":Ns=7}var vy=Nm.usedRenderingMode!==void 0?Nm.usedRenderingMode:-1;Ns!==-1?Kr+=Ns+` Tr
`:vy!==-1&&(Kr+=`0 Tr
`),Ns!==-1&&(Nm.usedRenderingMode=Ns),A=je.align||"left";var mo,Vh=We*vn,yy=Pt.internal.pageSize.getWidth(),xy=Ir[mt];B=je.charSpace||yc,Q=je.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},je.flags);var Ou=[],dd=function($n){return Pt.getStringUnitWidth($n,{font:xy,charSpace:B,fontSize:We,doKerning:!1})*We/On};if(Object.prototype.toString.call(L)==="[object Array]"){var ks;Ct=pi(L),A!=="left"&&(mo=Ct.map(dd));var ls,Iu=0;if(A==="right"){re-=mo[0],L=[],mi=Ct.length;for(var wc=0;wc<mi;wc++)wc===0?(ls=Gs(re),ks=Ua(Ae)):(ls=C(Iu-mo[wc]),ks=-Vh),L.push([Ct[wc],ls,ks]),Iu=mo[wc]}else if(A==="center"){re-=mo[0]/2,L=[],mi=Ct.length;for(var _c=0;_c<mi;_c++)_c===0?(ls=Gs(re),ks=Ua(Ae)):(ls=C((Iu-mo[_c])/2),ks=-Vh),L.push([Ct[_c],ls,ks]),Iu=mo[_c]}else if(A==="left"){L=[],mi=Ct.length;for(var zh=0;zh<mi;zh++)L.push(Ct[zh])}else if(A==="justify"&&xy.encoding==="Identity-H"){L=[],mi=Ct.length,Q=Q!==0?Q:yy;for(var Sc=0,va=0;va<mi;va++)if(ks=va===0?Ua(Ae):-Vh,ls=va===0?Gs(re):Sc,va<mi-1){var km=C((Q-mo[va])/(Ct[va].split(" ").length-1)),cs=Ct[va].split(" ");L.push([cs[0]+" ",ls,ks]),Sc=0;for(var go=1;go<cs.length;go++){var qh=(dd(cs[go-1]+" "+cs[go])-dd(cs[go]))*On+km;go==cs.length-1?L.push([cs[go],qh,0]):L.push([cs[go]+" ",qh,0]),Sc-=qh}}else L.push([Ct[va],ls,ks]);L.push(["",Sc,0])}else{if(A!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],mi=Ct.length,Q=Q!==0?Q:yy,va=0;va<mi;va++)ks=va===0?Ua(Ae):-Vh,ls=va===0?Gs(re):0,va<mi-1?Ou.push(T(C((Q-mo[va])/(Ct[va].split(" ").length-1)))):Ou.push(0),L.push([Ct[va],ls,ks])}}var by=typeof je.R2L=="boolean"?je.R2L:Se;by===!0&&(L=Ml(L,function($n,Bn,ya){return[$n.split("").reverse().join(""),Bn,ya]})),lt={text:L,x:re,y:Ae,options:je,mutex:{pdfEscape:$t,activeFontKey:mt,fonts:Ir,activeFontSize:We}},rr.publish("postProcessText",lt),L=lt.text,Pr=lt.mutex.isHex||!1;var Cm=Ir[mt].encoding;Cm!=="WinAnsiEncoding"&&Cm!=="StandardEncoding"||(L=Ml(L,function($n,Bn,ya){return[Jo($n),Bn,ya]})),Ct=pi(L),L=[];for(var hd,pd,Du,md=0,Wh=1,gd=Array.isArray(Ct[0])?Wh:md,Lu="",Pm=function($n,Bn,ya){var Va="";return ya instanceof Yt?(ya=typeof je.angle=="number"?Mn(ya,new Yt(1,0,0,1,$n,Bn)):Mn(new Yt(1,0,0,1,$n,Bn),ya),b===w.ADVANCED&&(ya=Mn(new Yt(1,0,0,-1,0,0),ya)),Va=ya.join(" ")+` Tm
`):Va=T($n)+" "+T(Bn)+` Td
`,Va},vo=0;vo<Ct.length;vo++){switch(Lu="",gd){case Wh:Du=(Pr?"<":"(")+Ct[vo][0]+(Pr?">":")"),hd=parseFloat(Ct[vo][1]),pd=parseFloat(Ct[vo][2]);break;case md:Du=(Pr?"<":"(")+Ct[vo]+(Pr?">":")"),hd=Gs(re),pd=Ua(Ae)}Ou!==void 0&&Ou[vo]!==void 0&&(Lu=Ou[vo]+` Tw
`),vo===0?L.push(Lu+Pm(hd,pd,et)+Du):gd===md?L.push(Lu+Du):gd===Wh&&L.push(Lu+Pm(hd,pd,et)+Du)}L=gd===md?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var yo=`BT
/`;return yo+=mt+" "+We+` Tf
`,yo+=T(We*vn)+` TL
`,yo+=Xo+`
`,yo+=Kr,yo+=L,le(yo+="ET"),h[mt]=!0,Pt};var Sm=p.__private__.clip=p.clip=function(L){return le(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Sm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var po=p.__private__.isValidStyle=function(L){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(re=!0),re};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return po(L)&&(c=L),this};var Dh=p.__private__.getStyle=p.getStyle=function(L){var re=c;switch(L){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=L}return re},Ws=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(L){return bu("f",L),this},p.fillEvenOdd=function(L){return bu("f*",L),this},p.fillStroke=function(L){return bu("B",L),this},p.fillStrokeEvenOdd=function(L){return bu("B*",L),this};var bu=function(L,re){pn(re)==="object"?_u(re,L):le(L)},id=function(L){L===null||b===w.ADVANCED&&L===void 0||(L=Dh(L),le(L))};function wu(L,re,Ae,je,ze){var lt=new D0(re||this.boundingBox,Ae||this.xStep,je||this.yStep,this.gState,ze||this.matrix);lt.stream=this.stream;var Ct=L+"$$"+this.cloneIndex+++"$$";return Ce(Ct,lt),lt}var _u=function(L,re){var Ae=rt[L.key],je=Re[Ae];if(je instanceof Pd)le("q"),le(Lh(re)),je.gState&&p.setGState(je.gState),le(L.matrix.toString()+" cm"),le("/"+Ae+" sh"),le("Q");else if(je instanceof D0){var ze=new Yt(1,0,0,-1,0,Oi());L.matrix&&(ze=ze.multiply(L.matrix||Rn),Ae=wu.call(je,L.key,L.boundingBox,L.xStep,L.yStep,ze).id),le("q"),le("/Pattern cs"),le("/"+Ae+" scn"),je.gState&&p.setGState(je.gState),le(re),le("Q")}},Lh=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ko=p.moveTo=function(L,re){return le(T(C(L))+" "+T(U(re))+" m"),this},Hs=p.lineTo=function(L,re){return le(T(C(L))+" "+T(U(re))+" l"),this},Yo=p.curveTo=function(L,re,Ae,je,ze,lt){return le([T(C(L)),T(U(re)),T(C(Ae)),T(U(je)),T(C(ze)),T(U(lt)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,re,Ae,je,ze){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||!po(ze))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[Ae-L,je-re]],L,re,[1,1],ze||"S"):this.lines([[Ae-L,je-re]],L,re,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,re,Ae,je,ze,lt){var Ct,Wt,A,B,Q,fe,Be,et,Pt,Cr,Kr,Pr;if(typeof L=="number"&&(Pr=Ae,Ae=re,re=L,L=Pr),je=je||[1,1],lt=lt||!1,isNaN(re)||isNaN(Ae)||!Array.isArray(L)||!Array.isArray(je)||!po(ze)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(re,Ae),Ct=je[0],Wt=je[1],B=L.length,Cr=re,Kr=Ae,A=0;A<B;A++)(Q=L[A]).length===2?(Cr=Q[0]*Ct+Cr,Kr=Q[1]*Wt+Kr,Hs(Cr,Kr)):(fe=Q[0]*Ct+Cr,Be=Q[1]*Wt+Kr,et=Q[2]*Ct+Cr,Pt=Q[3]*Wt+Kr,Cr=Q[4]*Ct+Cr,Kr=Q[5]*Wt+Kr,Yo(fe,Be,et,Pt,Cr,Kr));return lt&&Ws(),id(ze),this},p.path=function(L){for(var re=0;re<L.length;re++){var Ae=L[re],je=Ae.c;switch(Ae.op){case"m":Ko(je[0],je[1]);break;case"l":Hs(je[0],je[1]);break;case"c":Yo.apply(this,je);break;case"h":Ws()}}return this},p.__private__.rect=p.rect=function(L,re,Ae,je,ze){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||!po(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(je=-je),le([T(C(L)),T(U(re)),T(C(Ae)),T(C(je)),"re"].join(" ")),id(ze),this},p.__private__.triangle=p.triangle=function(L,re,Ae,je,ze,lt,Ct){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||isNaN(ze)||isNaN(lt)||!po(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-L,je-re],[ze-Ae,lt-je],[L-ze,re-lt]],L,re,[1,1],Ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,re,Ae,je,ze,lt,Ct){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||isNaN(ze)||isNaN(lt)||!po(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wt=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ae),lt=Math.min(lt,.5*je),this.lines([[Ae-2*ze,0],[ze*Wt,0,ze,lt-lt*Wt,ze,lt],[0,je-2*lt],[0,lt*Wt,-ze*Wt,lt,-ze,lt],[2*ze-Ae,0],[-ze*Wt,0,-ze,-lt*Wt,-ze,-lt],[0,2*lt-je],[0,-lt*Wt,ze*Wt,-lt,ze,-lt]],L+ze,re,[1,1],Ct,!0),this},p.__private__.ellipse=p.ellipse=function(L,re,Ae,je,ze){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||!po(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*Ae,Ct=4/3*(Math.SQRT2-1)*je;return Ko(L+Ae,re),Yo(L+Ae,re-Ct,L+lt,re-je,L,re-je),Yo(L-lt,re-je,L-Ae,re-Ct,L-Ae,re),Yo(L-Ae,re+Ct,L-lt,re+je,L,re+je),Yo(L+lt,re+je,L+Ae,re+Ct,L+Ae,re),id(ze),this},p.__private__.circle=p.circle=function(L,re,Ae,je){if(isNaN(L)||isNaN(re)||isNaN(Ae)||!po(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,re,Ae,Ae,je)},p.setFont=function(L,re,Ae){return Ae&&(re=P(re,Ae)),mt=ar(L,re,{disableWarning:!1}),this};var sd=p.__private__.getFont=p.getFont=function(){return Ir[ar.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,re,Ae={};for(L in Wr)if(Wr.hasOwnProperty(L))for(re in Ae[L]=[],Wr[L])Wr[L].hasOwnProperty(re)&&Ae[L].push(re);return Ae},p.addFont=function(L,re,Ae,je,ze){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(Ae=P(Ae,je)),ze=ze||"Identity-H",gc.call(this,L,re,Ae,ze)};var gn,od=e.lineWidth||.200025,Su=p.__private__.getLineWidth=p.getLineWidth=function(){return od},ld=p.__private__.setLineWidth=p.setLineWidth=function(L){return od=L,le(T(C(L))+" w"),this};p.__private__.setLineDash=yr.API.setLineDash=yr.API.setLineDashPattern=function(L,re){if(L=L||[],re=re||0,isNaN(re)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ae){return T(C(Ae))}).join(" "),re=T(C(re)),le("["+L+"] "+re+" d"),this};var cd=p.__private__.getLineHeight=p.getLineHeight=function(){return We*gn};p.__private__.getLineHeight=p.getLineHeight=function(){return We*gn};var ud=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(gn=L),this},vc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return gn};ud(e.lineHeight);var Gs=p.__private__.getHorizontalCoordinate=function(L){return C(L)},Ua=p.__private__.getVerticalCoordinate=function(L){return b===w.ADVANCED?L:Dt[R].mediaBox.topRightY-Dt[R].mediaBox.bottomLeftY-C(L)},Mh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(Gs(L))},Il=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(Ua(L))},hi=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ye(hi)},p.__private__.setStrokeColor=p.setDrawColor=function(L,re,Ae,je){return hi=we({ch1:L,ch2:re,ch3:Ae,ch4:je,pdfColorType:"draw",precision:2}),le(hi),this};var Au=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ye(Au)},p.__private__.setFillColor=p.setFillColor=function(L,re,Ae,je){return Au=we({ch1:L,ch2:re,ch3:Ae,ch4:je,pdfColorType:"fill",precision:2}),le(Au),this};var Xo=e.textColor||"0 g",Tu=p.__private__.getTextColor=p.getTextColor=function(){return ye(Xo)};p.__private__.setTextColor=p.setTextColor=function(L,re,Ae,je){return Xo=we({ch1:L,ch2:re,ch3:Ae,ch4:je,pdfColorType:"text",precision:3}),this};var yc=e.charSpace,Eu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(yc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yc=L,this};var fd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fd=re,le(re+" J"),this};var Nu=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nu=re,le(re+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(T(C(L))+" M"),this},p.GState=Cw,p.setGState=function(L){(L=typeof L=="string"?vt[Nt[L]]:Dl(null,L)).equals(Kt)||(le("/"+L.id+" gs"),Kt=L)};var Dl=function(L,re){if(!L||!Nt[L]){var Ae=!1;for(var je in vt)if(vt.hasOwnProperty(je)&&vt[je].equals(re)){Ae=!0;break}if(Ae)re=vt[je];else{var ze="GS"+(Object.keys(vt).length+1).toString(10);vt[ze]=re,re.id=ze}return L&&(Nt[L]=re.id),rr.publish("addGState",re),re}};p.addGState=function(L,re){return Dl(L,re),this},p.saveGraphicsState=function(){return le("q"),Pe.push({key:mt,size:We,color:Xo}),this},p.restoreGraphicsState=function(){le("Q");var L=Pe.pop();return mt=L.key,We=L.size,Xo=L.color,Kt=null,this},p.setCurrentTransformationMatrix=function(L){return le(L.toString()+" cm"),this},p.comment=function(L){return le("#"+L),this};var xc=function(L,re){var Ae=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(lt){isNaN(lt)||(Ae=parseFloat(lt))}});var je=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(lt){isNaN(lt)||(je=parseFloat(lt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(lt){ze=lt.toString()}}),this},ku=function(L,re,Ae,je){xc.call(this,L,re),this.type="rect";var ze=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(Ct){isNaN(Ct)||(ze=parseFloat(Ct))}});var lt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(Ct){isNaN(Ct)||(lt=parseFloat(Ct))}}),this},bc=function(){this.page=Ft,this.currentPage=R,this.pages=xe.slice(0),this.pagesContext=Dt.slice(0),this.x=Zt,this.y=Ht,this.matrix=Rr,this.width=Ll(R),this.height=Oi(R),this.outputDestination=Ne,this.id="",this.objectNumber=-1};bc.prototype.restore=function(){Ft=this.page,R=this.currentPage,Dt=this.pagesContext,xe=this.pages,Zt=this.x,Ht=this.y,Rr=this.matrix,Pu(R,this.width),ju(R,this.height),Ne=this.outputDestination};var Cu=function(L,re,Ae,je,ze){An.push(new bc),Ft=R=0,xe=[],Zt=L,Ht=re,Rr=ze,pt([Ae,je])},Rh=function(L){if(Tr[L])An.pop().restore();else{var re=new bc,Ae="Xo"+(Object.keys(or).length+1).toString(10);re.id=Ae,Tr[L]=Ae,or[Ae]=re,rr.publish("addFormObject",re),An.pop().restore()}};for(var Qo in p.beginFormObject=function(L,re,Ae,je,ze){return Cu(L,re,Ae,je,ze),this},p.endFormObject=function(L){return Rh(L),this},p.doFormObject=function(L,re){var Ae=or[Tr[L]];return le("q"),le(re.toString()+" cm"),le("/"+Ae.id+" Do"),le("Q"),this},p.getFormObject=function(L){var re=or[Tr[L]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},p.save=function(L,re){return L=L||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(kd(Za(Tn()),L),typeof kd.unload=="function"&&xr.setTimeout&&setTimeout(kd.unload,911),this):new Promise(function(Ae,je){try{var ze=kd(Za(Tn()),L);typeof kd.unload=="function"&&xr.setTimeout&&setTimeout(kd.unload,911),Ae(ze)}catch(lt){je(lt.message)}})},yr.API)yr.API.hasOwnProperty(Qo)&&(Qo==="events"&&yr.API.events.length?function(L,re){var Ae,je,ze;for(ze=re.length-1;ze!==-1;ze--)Ae=re[ze][0],je=re[ze][1],L.subscribe.apply(L,[Ae].concat(typeof je=="function"?[je]:je))}(rr,yr.API.events):p[Qo]=yr.API[Qo]);var Ll=p.getPageWidth=function(L){return(Dt[L=L||R].mediaBox.topRightX-Dt[L].mediaBox.bottomLeftX)/ct},Pu=p.setPageWidth=function(L,re){Dt[L].mediaBox.topRightX=re*ct+Dt[L].mediaBox.bottomLeftX},Oi=p.getPageHeight=function(L){return(Dt[L=L||R].mediaBox.topRightY-Dt[L].mediaBox.bottomLeftY)/ct},ju=p.setPageHeight=function(L,re){Dt[L].mediaBox.topRightY=re*ct+Dt[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:$t,getStyle:Dh,getFont:sd,getFontSize:Fe,getCharSpace:Eu,getTextColor:Tu,getLineHeight:cd,getLineHeightFactor:vc,getLineWidth:Su,write:Le,getHorizontalCoordinate:Gs,getVerticalCoordinate:Ua,getCoordinateString:Mh,getVerticalCoordinateString:Il,collections:{},newObject:it,newAdditionalObject:ve,newObjectDeferred:ut,newObjectDeferredBegin:ee,getFilters:Ge,putStream:tt,events:rr,scaleFactor:ct,pageSize:{getWidth:function(){return Ll(R)},setWidth:function(L){Pu(R,L)},getHeight:function(){return Oi(R)},setHeight:function(L){ju(R,L)}},encryptionOptions:u,encryption:jn,getEncryptor:xu,output:Wn,getNumberOfPages:Et,pages:xe,out:le,f2:I,f3:E,getPageInfo:ad,getPageInfoByObjId:wr,getCurrentPageInfo:Ol,getPDFVersion:m,Point:xc,Rectangle:ku,Matrix:Yt,hasHotfix:os},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ll(R)},set:function(L){Pu(R,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Oi(R)},set:function(L){ju(R,L)},enumerable:!0,configurable:!0}),ie.call(p,Ve),mt="F1",dt(a,r),rr.publish("initialized"),p}f0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},f0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},f0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},f0.prototype.processOwnerPassword=function(e,t){return gE(mE(t).substr(0,5),e)},f0.prototype.encryptor=function(e,t){var r=mE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return gE(r,n)}},Cw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},yr.API={events:[]},yr.version="3.0.1";var fa=yr.API,CP=1,Ih=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},i0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jr=function(e){return e.toFixed(2)},Gu=function(e){return e.toFixed(5)};fa.__acroform__={};var zs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},bR=function(e){return e*CP},Vl=function(e){var t=new FK,r=nr.internal.getHeight(e)||0,n=nr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(jr(n)),Number(jr(r))],t},b9e=fa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},w9e=fa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},_9e=fa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_a=fa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _9e(e,t-1)},Sa=fa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return b9e(e,t-1)},Aa=fa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return w9e(e,t-1)},S9e=fa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(jr(l.lowerLeft_X)),Number(jr(l.lowerLeft_Y)),Number(jr(l.upperRight_X)),Number(jr(l.upperRight_Y))]},A9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=vE(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+jr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Vl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},vE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=nr.internal.getHeight(e)||0;s=s<0?-s:s;var o=nr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,C,N){if(E+1<a.length){var U=C+" "+a[E+1][0];return Bx(U,e,N).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,d=Bx("3",e,i).height,h=e.multiline?s-i:(s-d)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var D=!1;if(a[b].length!==1&&v!==a[b].length-1){if((d+2)*(w+2)+2>s)continue e;y+=a[b][v],D=!0,m=b,b--}else{y=(y+=a[b][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var O=parseInt(b),P=l(O,y,i),T=b>=a.length-1;if(P&&!T){y+=" ",v=0;continue}if(P||T){if(T)m=O;else if(e.multiline&&(d+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(w+2)+2>s)continue e;m=O}}for(var _="",S=g;S<=m;S++){var I=a[S];if(e.multiline){if(S===m){_+=I[v]+" ",v=(v+1)%I.length;continue}if(S===g){_+=I[I.length-1]+" ";continue}}_+=I[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Bx(_,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=jr(c)+" "+jr(p)+` Td
`,t+="("+Ih(_)+`) Tj
`,t+=-jr(c)+` 0 Td
`,p=-(i+2),u=0,g=D?m:m+1,w++,y=""}break}return n.text=t,n.fontSize=i,n},Bx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},T9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},N9e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),pn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},k9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Pl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(T9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new $K,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&E9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=S9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nr.createDefaultAppearanceStream(o),pn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=A9e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&N9e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},RK=fa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),pn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ih(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ih(n(e))+")"},Kl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Kl.prototype.toString=function(){return this.objId+" 0 R"},Kl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Kl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:RK(a,this.objId,this.scope)}):a instanceof Kl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var FK=function(){Kl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};zs(FK,Kl);var $K=function(){Kl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ih(r(e))+")"}},set:function(r){e=r}})};zs($K,Kl);var Pl=function e(){Kl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_a(t,3)},set:function(y){y?this.F=Sa(t,3):this.F=Aa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Pw)return;i="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ih(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/CP:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Pw||this instanceof Jd))return kA(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof si?h:kA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof si?y:y.substr(0,1)==="("?i0(y.substr(1,y.length-2)):i0(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof si?i0(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof si?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof si?p:kA(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof si?y:y.substr(0,1)==="("?i0(y.substr(1,y.length-2)):i0(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof si?i0(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof si?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,1)},set:function(y){y?this.Ff=Sa(this.Ff,1):this.Ff=Aa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,2)},set:function(y){y?this.Ff=Sa(this.Ff,2):this.Ff=Aa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,3)},set:function(y){y?this.Ff=Sa(this.Ff,3):this.Ff=Aa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};zs(Pl,Kl);var Q0=function(){Pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,18)},set:function(r){r?this.Ff=Sa(this.Ff,18):this.Ff=Aa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Sa(this.Ff,19):this.Ff=Aa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,20)},set:function(r){r?(this.Ff=Sa(this.Ff,20),t.sort()):this.Ff=Aa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,22)},set:function(r){r?this.Ff=Sa(this.Ff,22):this.Ff=Aa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,23)},set:function(r){r?this.Ff=Sa(this.Ff,23):this.Ff=Aa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,27)},set:function(r){r?this.Ff=Sa(this.Ff,27):this.Ff=Aa(this.Ff,27)}}),this.hasAppearanceStream=!1};zs(Q0,Pl);var J0=function(){Q0.call(this),this.fontName="helvetica",this.combo=!1};zs(J0,Q0);var Z0=function(){J0.call(this),this.combo=!0};zs(Z0,J0);var p2=function(){Z0.call(this),this.edit=!0};zs(p2,Z0);var si=function(){Pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,15)},set:function(r){r?this.Ff=Sa(this.Ff,15):this.Ff=Aa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,16)},set:function(r){r?this.Ff=Sa(this.Ff,16):this.Ff=Aa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,17)},set:function(r){r?this.Ff=Sa(this.Ff,17):this.Ff=Aa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,26)},set:function(r){r?this.Ff=Sa(this.Ff,26):this.Ff=Aa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ih(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){pn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};zs(si,Pl);var m2=function(){si.call(this),this.pushButton=!0};zs(m2,si);var ep=function(){si.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};zs(ep,si);var Pw=function(){var e,t;Pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Ih(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){pn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zs(Pw,Pl),ep.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},ep.prototype.createOption=function(e){var t=new Pw;return t.Parent=this,t.optionName=e,this.Kids.push(t),C9e.call(this.scope,t),t};var g2=function(){si.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nr.CheckBox.createAppearanceStream()};zs(g2,si);var Jd=function(){Pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,13)},set:function(t){t?this.Ff=Sa(this.Ff,13):this.Ff=Aa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,21)},set:function(t){t?this.Ff=Sa(this.Ff,21):this.Ff=Aa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,23)},set:function(t){t?this.Ff=Sa(this.Ff,23):this.Ff=Aa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,24)},set:function(t){t?this.Ff=Sa(this.Ff,24):this.Ff=Aa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,25)},set:function(t){t?this.Ff=Sa(this.Ff,25):this.Ff=Aa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,26)},set:function(t){t?this.Ff=Sa(this.Ff,26):this.Ff=Aa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zs(Jd,Pl);var v2=function(){Jd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,14)},set:function(e){e?this.Ff=Sa(this.Ff,14):this.Ff=Aa(this.Ff,14)}}),this.password=!0};zs(v2,Jd);var nr={CheckBox:{createAppearanceStream:function(){return{N:{On:nr.CheckBox.YesNormal},D:{On:nr.CheckBox.YesPushDown,Off:nr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=vE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=nr.internal.getHeight(e),s=nr.internal.getWidth(e),o=vE(e,e.caption);return a.push("1 g"),a.push("0 0 "+jr(s)+" "+jr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jr(s-1)+" "+jr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+jr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Circle.YesNormal,t.D[e]=nr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=nr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Gu(nr.internal.getWidth(e)/2)+" "+Gu(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nr.internal.Bezier_C).toFixed(5)),s=Number((n*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gu(nr.internal.getWidth(e)/2)+" "+Gu(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Gu(nr.internal.getWidth(e)/2)+" "+Gu(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gu(nr.internal.getWidth(e)/2)+" "+Gu(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Cross.YesNormal,t.D[e]=nr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+jr(nr.internal.getWidth(e)-2)+" "+jr(nr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(n.x1.x)+" "+jr(n.x1.y)+" m"),r.push(jr(n.x2.x)+" "+jr(n.x2.y)+" l"),r.push(jr(n.x4.x)+" "+jr(n.x4.y)+" m"),r.push(jr(n.x3.x)+" "+jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=nr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jr(nr.internal.getWidth(e)-2)+" "+jr(nr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),n.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),n.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),n.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};nr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nr.internal.getWidth(e),r=nr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},nr.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=bR(e.Rect[2])),t},nr.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=bR(e.Rect[3])),t};var C9e=fa.addField=function(e){if(k9e(this,e),!(e instanceof Pl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};fa.AcroFormChoiceField=Q0,fa.AcroFormListBox=J0,fa.AcroFormComboBox=Z0,fa.AcroFormEditBox=p2,fa.AcroFormButton=si,fa.AcroFormPushButton=m2,fa.AcroFormRadioButton=ep,fa.AcroFormCheckBox=g2,fa.AcroFormTextField=Jd,fa.AcroFormPasswordField=v2,fa.AcroFormAppearance=nr,fa.AcroForm={ChoiceField:Q0,ListBox:J0,ComboBox:Z0,EditBox:p2,Button:si,PushButton:m2,RadioButton:ep,CheckBox:g2,TextField:Jd,PasswordField:v2,Appearance:nr},yr.AcroForm={ChoiceField:Q0,ListBox:J0,ComboBox:Z0,EditBox:p2,Button:si,PushButton:m2,RadioButton:ep,CheckBox:g2,TextField:Jd,PasswordField:v2,Appearance:nr};function BK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,C){var N,U,X,z,H,V=t;if((C=C||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(P(E))for(H in r)for(X=r[H],N=0;N<X.length;N+=1){for(z=!0,U=0;U<X[N].length;U+=1)if(X[N][U]!==void 0&&X[N][U]!==E[U]){z=!1;break}if(z===!0){V=H;break}}else for(H in r)for(X=r[H],N=0;N<X.length;N+=1){for(z=!0,U=0;U<X[N].length;U+=1)if(X[N][U]!==void 0&&X[N][U]!==E.charCodeAt(U)){z=!1;break}if(z===!0){V=H;break}}return V===t&&C!==t&&(V=C),V},a=function E(C){for(var N=this.internal.write,U=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:C.width}),z.push({key:"Height",value:C.height}),C.colorSpace===v.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===v.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var H="",V=0,q=C.transparency.length;V<q;V++)H+=C.transparency[V]+" "+C.transparency[V]+" ";z.push({key:"Mask",value:"["+H+"]"})}C.sMask!==void 0&&z.push({key:"SMask",value:C.objectId+1+" 0 R"});var te=C.filter!==void 0?["/"+C.filter]:void 0;if(U({data:C.data,additionalKeyValues:z,alreadyAppliedFilters:te,objectId:C.objectId}),N("endobj"),"sMask"in C&&C.sMask!==void 0){var Z="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,k={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:Z,data:C.sMask};"filter"in C&&(k.filter=C.filter),E.call(this,k)}if(C.colorSpace===v.INDEXED){var R=this.internal.newObject();U({data:_(new Uint8Array(C.palette)),objectId:R}),N("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var C in E)a.call(this,E[C])},s=function(){var E,C=this.internal.collections.addImage_images,N=this.internal.write;for(var U in C)N("/I"+(E=C[U]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},d=function(E){return pn(E)==="object"&&E.nodeType===1},h=function(E,C){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var N=""+E.getAttribute("src");if(N.indexOf("data:image/")===0)return av(unescape(N).split("base64,").pop());var U=e.loadFile(N,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var X;switch(C){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return av(E.toDataURL(X,1).split("base64,").pop())}},p=function(E){var C=this.internal.collections.addImage_images;if(C){for(var N in C)if(E===C[N].alias)return C[N]}},g=function(E,C,N){return E||C||(E=-96,C=-96),E<0&&(E=-1*N.width*72/E/this.internal.scaleFactor),C<0&&(C=-1*N.height*72/C/this.internal.scaleFactor),E===0&&(E=C*N.width/N.height),C===0&&(C=E*N.height/N.width),[E,C]},m=function(E,C,N,U,X,z){var H=g.call(this,N,U,X),V=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,te=l.call(this);if(N=H[0],U=H[1],te[X.index]=X,z){z*=Math.PI/180;var Z=Math.cos(z),k=Math.sin(z),R=function(Y){return Y.toFixed(4)},G=[R(Z),R(k),R(-1*k),R(Z),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,V(E),q(C+U),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([V(N),"0","0",V(U),"0","0","cm"].join(" "))):this.internal.write([V(N),"0","0",V(U),V(E),q(C+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var C,N,U=0;if(typeof E=="string")for(N=E.length,C=0;C<N;C++)U=(U<<5)-U+E.charCodeAt(C),U|=0;else if(P(E))for(N=E.byteLength/2,C=0;C<N;C++)U=(U<<5)-U+E[C],U|=0;return U},b=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var C=!0;return E.length===0&&(C=!1),E.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(C=!1),C},D=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var C=E.indexOf(",");return C<0?null:E.substring(0,C).trim().endsWith("base64")?E.substring(C+1):null},O=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return O()&&E instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(E){return O()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var C=E.length,N=new Uint8Array(C),U=0;U<C;U++)N[U]=E.charCodeAt(U);return N},_=e.__addimage__.arrayBufferToBinaryString=function(E){for(var C="",N=P(E)?E:new Uint8Array(E),U=0;U<N.length;U+=8192)C+=String.fromCharCode.apply(null,N.subarray(U,U+8192));return C};e.addImage=function(){var E,C,N,U,X,z,H,V,q;if(typeof arguments[1]=="number"?(C=t,N=arguments[1],U=arguments[2],X=arguments[3],z=arguments[4],H=arguments[5],V=arguments[6],q=arguments[7]):(C=arguments[1],N=arguments[2],U=arguments[3],X=arguments[4],z=arguments[5],H=arguments[6],V=arguments[7],q=arguments[8]),pn(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var te=E;E=te.imageData,C=te.format||C||t,N=te.x||N||0,U=te.y||U||0,X=te.w||te.width||X,z=te.h||te.height||z,H=te.alias||H,V=te.compression||V,q=te.rotation||te.angle||q}var Z=this.internal.getFilters();if(V===void 0&&Z.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(N)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=S.call(this,E,C,H,V);return m.call(this,N,U,X,z,k,q),this};var S=function(E,C,N,U){var X,z,H;if(typeof E=="string"&&n(E)===t){E=unescape(E);var V=I(E,!1);(V!==""||(V=e.loadFile(E,!0))!==void 0)&&(E=V)}if(d(E)&&(E=h(E,C)),C=n(E,C),!u(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((H=N)==null||H.length===0)&&(N=function(q){return typeof q=="string"||P(q)?w(q):P(q.data)?w(q.data):null}(E)),(X=p.call(this,N))||(O()&&(E instanceof Uint8Array||C==="RGBA"||(z=E,E=T(E))),X=this["process"+C.toUpperCase()](E,c.call(this),N,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:y.NONE}(U),z)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},I=e.__addimage__.convertBase64ToBinaryString=function(E,C){C=typeof C!="boolean"||C;var N,U="";if(typeof E=="string"){var X;N=(X=D(E))!==null&&X!==void 0?X:E;try{U=av(N)}catch(z){if(C)throw b(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(E){var C,N,U="";if(d(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((U=I(E,!1))===""&&(U=e.loadFile(E)||""),E=U),N=n(E),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(!O()||E instanceof Uint8Array||(E=T(E)),!(C=this["process"+N.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=N,C}})(yr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};yr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(w))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(yr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,w="",b=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(b++,typeof(y=y[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=r,b=0),v===m.length-1&&(y=r,w+=m.charAt(v-(b-1)),v-=b-1,b=0)):(y=r,w+=m.charAt(v-b),v-=b,b=0);return w};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,w=0,b="",D="",O="",P=(m=m||"").split("\\s+"),T=[];for(v=0;v<P.length;v+=1){for(T.push(""),y=0;y<P[v].length;y+=1)b=P[v][y],D=P[v][y-1],O=P[v][y+1],s(b)?(w=h(b,D,O),T[v]+=w!==-1?String.fromCharCode(t[b.charCodeAt(0)][w]):b):T[v]+=b;T[v]=d(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([p(v[w][0]),v[w][1],v[w][2]]):y.push([p(v[w])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(yr.API),yr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,D){return b.concat(v.splitTextToSize(D,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(m=this.getStringUnitWidth(l[w],{font:d})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],w=[],b=[],D={},O={},P=[],T=[],_=(h=h||{}).autoSize||!1,S=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,N=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=U,this.setFontSize(I),d==null)w=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(d)&&pn(d[0])==="object")for(y=d.map(function(te){return te.name}),w=d.map(function(te){return te.prompt||te.name||""}),b=d.map(function(te){return te.align||"left"}),p=0;p<d.length;p+=1)O[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=y=d,b=y.map(function(){return"left"}));if(_||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<y.length;p+=1){for(D[v=y[p]]=u.map(function(te){return te[v]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)P.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[v]=Math.max.apply(null,P)+C+C,P=[]}if(S){var X={};for(p=0;p<y.length;p+=1)X[y[p]]={},X[y[p]].text=w[p],X[y[p]].align=b[p];var z=o.call(this,X,O);T=y.map(function(te){return new i(l,c,O[te],z,X[te].text,void 0,X[te].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var H=d.reduce(function(te,Z){return te[Z.name]=Z.align,te},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var V=o.call(this,u[p],O);for(m=0;m<y.length;m+=1){var q=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:q},this),s.call(this,new i(l,c,O[y[m]],V,q,p+2,H[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(yr.API);var UK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yE=BK(VK),zK=[100,200,300,400,500,600,700,800,900],P9e=BK(zK);function xE(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return UK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof yE[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function wR(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var j9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_R={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function SR(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function O9e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},j9e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=xE(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+SR(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=yE[l],d=u<=yE.normal?-1:1,h=wR(c,VK,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=UK[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=P9e[l],d=wR(c,zK,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+SR(i)+"'.");return s}function AR(e){return e.trimLeft()}function I9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function D9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ux,TR,ER,CA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=k;Object.defineProperty(this,"pdf",{get:function(){return R}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(_e){G=!!_e}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(_e){Y=!!_e}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(_e){isNaN(_e)||(J=_e)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(_e){isNaN(_e)||(se=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var le;typeof _e=="number"?le=[_e,_e,_e,_e]:((le=new Array(4))[0]=_e[0],le[1]=_e.length>=2?_e[1]:le[0],le[2]=_e.length>=3?_e[2]:le[0],le[3]=_e.length>=4?_e[3]:le[1]),c.margin=le}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(_e){ue=_e}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(_e){ae=_e}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(_e){he=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof u&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(_e){xe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var le;le=h(_e),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var le=h(_e);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var W=null;function Ne(_e,le){if(W===null){var Le=function(Oe){var Ve=[];return Object.keys(Oe).forEach(function(We){Oe[We].forEach(function(Ee){var Fe=null;switch(Ee){case"bold":Fe={family:We,weight:"bold"};break;case"italic":Fe={family:We,style:"italic"};break;case"bolditalic":Fe={family:We,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:We}}Fe!==null&&(Fe.ref={name:We,style:Ee},Ve.push(Fe))})}),Ve}(_e.getFontList());W=function(Oe){for(var Ve={},We=0;We<Oe.length;++We){var Ee=xE(Oe[We]),Fe=Ee.family,Se=Ee.stretch,Me=Ee.style,He=Ee.weight;Ve[Fe]=Ve[Fe]||{},Ve[Fe][Se]=Ve[Fe][Se]||{},Ve[Fe][Se][Me]=Ve[Fe][Se][Me]||{},Ve[Fe][Se][Me][He]=Ee}return Ve}(Le.concat(le))}return W}var ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(_e){W=null,ke=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var le;if(this.ctx.font=_e,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var Le=le[1];le[2];var Oe=le[3],Ve=le[4];le[5];var We=le[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(Ee==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var Fe=function(ht){var mt,ct,Zt=[],Ht=ht.trim();if(Ht==="")return CA;if(Ht in _R)return[_R[Ht]];for(;Ht!=="";){switch(ct=null,mt=(Ht=AR(Ht)).charAt(0)){case'"':case"'":ct=I9e(Ht.substring(1),mt);break;default:ct=D9e(Ht)}if(ct===null||(Zt.push(ct[0]),(Ht=AR(ct[1]))!==""&&Ht.charAt(0)!==","))return CA;Ht=Ht.replace(/^,/,"")}return Zt}(We);if(this.fontFaces){var Se=O9e(Ne(this.pdf,this.fontFaces),Fe.map(function(ht){return{family:ht,stretch:"normal",weight:Oe,style:Le}}));this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var Me="";(Oe==="bold"||parseInt(Oe,10)>=700||Le==="bold")&&(Me="bold"),Le==="italic"&&(Me+="italic"),Me.length===0&&(Me="normal");for(var He="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<Fe.length;ot++){if(this.pdf.internal.getFont(Fe[ot],Me,{noFallback:!0,disableWarning:!0})!==void 0){He=Fe[ot];break}if(Me==="bolditalic"&&this.pdf.internal.getFont(Fe[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=Fe[ot],Me="bold";else if(this.pdf.internal.getFont(Fe[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=Fe[ot],Me="normal";break}}if(He===""){for(var xt=0;xt<Fe.length;xt++)if(at[Fe[xt]]){He=at[Fe[xt]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};d.prototype.setLineDash=function(k){this.lineDash=k},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){D.call(this,"fill",!1)},d.prototype.stroke=function(){D.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(k,R)},d.prototype.closePath=function(){var k=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&pn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){k=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},d.prototype.lineTo=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},d.prototype.quadraticCurveTo=function(k,R,G,Y){if(isNaN(G)||isNaN(Y)||isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new s(G,Y)),se=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"qct",x1:se.x,y1:se.y,x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},d.prototype.bezierCurveTo=function(k,R,G,Y,J,se){if(isNaN(J)||isNaN(se)||isNaN(k)||isNaN(R)||isNaN(G)||isNaN(Y))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new s(J,se)),ae=this.ctx.transform.applyToPoint(new s(k,R)),he=this.ctx.transform.applyToPoint(new s(G,Y));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:he.x,y2:he.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},d.prototype.arc=function(k,R,G,Y,J,se){if(isNaN(k)||isNaN(R)||isNaN(G)||isNaN(Y)||isNaN(J))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new s(k,R));k=ue.x,R=ue.y;var ae=this.ctx.transform.applyToPoint(new s(0,G)),he=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(ae.x-he.x,2)+Math.pow(ae.y-he.y,2))}Math.abs(J-Y)>=2*Math.PI&&(Y=0,J=2*Math.PI),this.path.push({type:"arc",x:k,y:R,radius:G,startAngle:Y,endAngle:J,counterclockwise:se})},d.prototype.arcTo=function(k,R,G,Y,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(k,R,G,Y){if(isNaN(k)||isNaN(R)||isNaN(G)||isNaN(Y))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,R),this.lineTo(k+G,R),this.lineTo(k+G,R+Y),this.lineTo(k,R+Y),this.lineTo(k,R),this.lineTo(k+G,R),this.lineTo(k,R)},d.prototype.fillRect=function(k,R,G,Y){if(isNaN(k)||isNaN(R)||isNaN(G)||isNaN(Y))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,R,G,Y),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(k,R,G,Y){if(isNaN(k)||isNaN(R)||isNaN(G)||isNaN(Y))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(k,R,G,Y),this.stroke())},d.prototype.clearRect=function(k,R,G,Y){if(isNaN(k)||isNaN(R)||isNaN(G)||isNaN(Y))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,R,G,Y))},d.prototype.save=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},d.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(R),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(k){var R,G,Y,J;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))R=0,G=0,Y=0,J=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(se!==null)R=parseInt(se[1]),G=parseInt(se[2]),Y=parseInt(se[3]),J=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)R=parseInt(se[1]),G=parseInt(se[2]),Y=parseInt(se[3]),J=parseFloat(se[4]);else{if(J=1,typeof k=="string"&&k.charAt(0)!=="#"){var ue=new DK(k);k=ue.ok?ue.toHex():"#000000"}k.length===4?(R=k.substring(1,2),R+=R,G=k.substring(2,3),G+=G,Y=k.substring(3,4),Y+=Y):(R=k.substring(1,3),G=k.substring(3,5),Y=k.substring(5,7)),R=parseInt(R,16),G=parseInt(G,16),Y=parseInt(Y,16)}}return{r:R,g:G,b:Y,a:J,style:k}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(k,R,G,Y){if(isNaN(R)||isNaN(G)||typeof k!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;C.call(this,{text:k,x:R,y:G,scale:se,angle:J,align:this.textAlign,maxWidth:Y})}},d.prototype.strokeText=function(k,R,G,Y){if(isNaN(R)||isNaN(G)||typeof k!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Y=isNaN(Y)?void 0:Y;var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;C.call(this,{text:k,x:R,y:G,scale:se,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:Y})}},d.prototype.measureText=function(k){if(typeof k!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,G=this.pdf.internal.scaleFactor,Y=R.internal.getFontSize(),J=R.getStringUnitWidth(k)*Y/R.internal.scaleFactor,se=function(ue){var ae=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new se({width:J*=Math.round(96*G/72*1e4)/1e4})},d.prototype.scale=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(k,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.rotate=function(k){if(isNaN(k))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},d.prototype.translate=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,k,R);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.transform=function(k,R,G,Y,J,se){if(isNaN(k)||isNaN(R)||isNaN(G)||isNaN(Y)||isNaN(J)||isNaN(se))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(k,R,G,Y,J,se);this.ctx.transform=this.ctx.transform.multiply(ue)},d.prototype.setTransform=function(k,R,G,Y,J,se){k=isNaN(k)?1:k,R=isNaN(R)?0:R,G=isNaN(G)?0:G,Y=isNaN(Y)?1:Y,J=isNaN(J)?0:J,se=isNaN(se)?0:se,this.ctx.transform=new l(k,R,G,Y,J,se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(k,R,G,Y,J,se,ue,ae,he){var xe=this.pdf.getImageProperties(k),W=1,Ne=1,ke=1,_e=1;Y!==void 0&&ae!==void 0&&(ke=ae/Y,_e=he/J,W=xe.width/Y*ae/Y,Ne=xe.height/J*he/J),se===void 0&&(se=R,ue=G,R=0,G=0),Y!==void 0&&ae===void 0&&(ae=Y,he=J),Y===void 0&&ae===void 0&&(ae=xe.width,he=xe.height);for(var le,Le=this.ctx.transform.decompose(),Oe=V(Le.rotate.shx),Ve=new l,We=(Ve=(Ve=(Ve=Ve.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new o(se-R*ke,ue-G*_e,Y*W,J*Ne)),Ee=v.call(this,We),Fe=[],Se=0;Se<Ee.length;Se+=1)Fe.indexOf(Ee[Se])===-1&&Fe.push(Ee[Se]);if(b(Fe),this.autoPaging)for(var Me=Fe[0],He=Fe[Fe.length-1],at=Me;at<He+1;at++){this.pdf.setPage(at);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=at===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=at===1?0:ht+(at-2)*mt;if(this.ctx.clip_path.length!==0){var Zt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(le,this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Zt}var Ht=JSON.parse(JSON.stringify(We));Ht=w([Ht],this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset)[0];var Rr=(at>Me||at<He)&&m.call(this);Rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,mt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,Oe),Rr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",We.x,We.y,We.w,We.h,null,null,Oe)};var v=function(k,R,G){var Y=[];R=R||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Y.push(Math.floor((k.y+J)/G)+1);break;case"arc":Y.push(Math.floor((k.y+J-k.radius)/G)+1),Y.push(Math.floor((k.y+J+k.radius)/G)+1);break;case"qct":var se=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Y.push(Math.floor((se.y+J)/G)+1),Y.push(Math.floor((se.y+se.h+J)/G)+1);break;case"bct":var ue=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Y.push(Math.floor((ue.y+J)/G)+1),Y.push(Math.floor((ue.y+ue.h+J)/G)+1);break;case"rect":Y.push(Math.floor((k.y+J)/G)+1),Y.push(Math.floor((k.y+k.h+J)/G)+1)}for(var ae=0;ae<Y.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ae];)y.call(this);return Y},y=function(){var k=this.fillStyle,R=this.strokeStyle,G=this.font,Y=this.lineCap,J=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=R,this.font=G,this.lineCap=Y,this.lineWidth=J,this.lineJoin=se},w=function(k,R,G){for(var Y=0;Y<k.length;Y++)switch(k[Y].type){case"bct":k[Y].x2+=R,k[Y].y2+=G;case"qct":k[Y].x1+=R,k[Y].y1+=G;case"mt":case"lt":case"arc":default:k[Y].x+=R,k[Y].y+=G}return k},b=function(k){return k.sort(function(R,G){return R-G})},D=function(k,R){for(var G,Y,J=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,ae=this.lineWidth,he=Math.abs(ae*this.ctx.transform.scaleX),xe=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),ke=[],_e=0;_e<Ne.length;_e++)if(Ne[_e].x!==void 0)for(var le=v.call(this,Ne[_e]),Le=0;Le<le.length;Le+=1)ke.indexOf(le[Le])===-1&&ke.push(le[Le]);for(var Oe=0;Oe<ke.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<ke[Oe];)y.call(this);if(b(ke),this.autoPaging)for(var Ve=ke[0],We=ke[ke.length-1],Ee=Ve;Ee<We+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=J,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=he,this.lineJoin=xe;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=Ee===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Ee===1?0:Me+(Ee-2)*He;if(this.ctx.clip_path.length!==0){var ot=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-at+Se+this.ctx.prevPageLastElemOffset),O.call(this,k,!0),this.path=ot}if(Y=JSON.parse(JSON.stringify(W)),this.path=w(Y,this.posX+this.margin[3],-at+Se+this.ctx.prevPageLastElemOffset),R===!1||Ee===0){var xt=(Ee>Ve||Ee<We)&&m.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,He,null).clip().discardPath()),O.call(this,k,R),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=he,O.call(this,k,R),this.lineWidth=ae;this.path=W},O=function(k,R){if((k!=="stroke"||R||!g.call(this))&&(k==="stroke"||R||!p.call(this))){for(var G,Y,J=[],se=this.path,ue=0;ue<se.length;ue++){var ae=se[ue];switch(ae.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ae,deltas:[],abs:[]});break;case"lt":var he=J.length;if(se[ue-1]&&!isNaN(se[ue-1].x)&&(G=[ae.x-se[ue-1].x,ae.y-se[ue-1].y],he>0)){for(;he>=0;he--)if(J[he-1].close!==!0&&J[he-1].begin!==!0){J[he-1].deltas.push(G),J[he-1].abs.push(ae);break}}break;case"bct":G=[ae.x1-se[ue-1].x,ae.y1-se[ue-1].y,ae.x2-se[ue-1].x,ae.y2-se[ue-1].y,ae.x-se[ue-1].x,ae.y-se[ue-1].y],J[J.length-1].deltas.push(G);break;case"qct":var xe=se[ue-1].x+2/3*(ae.x1-se[ue-1].x),W=se[ue-1].y+2/3*(ae.y1-se[ue-1].y),Ne=ae.x+2/3*(ae.x1-ae.x),ke=ae.y+2/3*(ae.y1-ae.y),_e=ae.x,le=ae.y;G=[xe-se[ue-1].x,W-se[ue-1].y,Ne-se[ue-1].x,ke-se[ue-1].y,_e-se[ue-1].x,le-se[ue-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ae)}}Y=R?null:k==="stroke"?"stroke":"fill";for(var Le=!1,Oe=0;Oe<J.length;Oe++)if(J[Oe].arc)for(var Ve=J[Oe].abs,We=0;We<Ve.length;We++){var Ee=Ve[We];Ee.type==="arc"?_.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,R,!Le):N.call(this,Ee.x,Ee.y),Le=!0}else if(J[Oe].close===!0)this.pdf.internal.out("h"),Le=!1;else if(J[Oe].begin!==!0){var Fe=J[Oe].start.x,Se=J[Oe].start.y;U.call(this,J[Oe].deltas,Fe,Se),Le=!0}Y&&S.call(this,Y),R&&I.call(this)}},P=function(k){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-G;case"top":return k+R-G;case"hanging":return k+R-2*G;case"middle":return k+R/2-G;case"ideographic":return k;case"alphabetic":default:return k}},T=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(R,G){this.colorStops.push([R,G])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(k,R,G,Y,J,se,ue,ae,he){for(var xe=z.call(this,G,Y,J,se),W=0;W<xe.length;W++){var Ne=xe[W];W===0&&(he?E.call(this,Ne.x1+k,Ne.y1+R):N.call(this,Ne.x1+k,Ne.y1+R)),X.call(this,k,R,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ae?I.call(this):S.call(this,ue)},S=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(k,R){this.pdf.internal.out(r(k)+" "+n(R)+" m")},C=function(k){var R;switch(k.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var G=this.pdf.getTextDimensions(k.text),Y=P.call(this,k.y),J=T.call(this,Y)-G.h,se=this.ctx.transform.applyToPoint(new s(k.x,Y)),ue=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var he,xe,W,Ne=this.ctx.transform.applyToRectangle(new o(k.x,Y,G.w,G.h)),ke=ae.applyToRectangle(new o(k.x,J,G.w,G.h)),_e=v.call(this,ke),le=[],Le=0;Le<_e.length;Le+=1)le.indexOf(_e[Le])===-1&&le.push(_e[Le]);if(b(le),this.autoPaging)for(var Oe=le[0],Ve=le[le.length-1],We=Oe;We<Ve+1;We++){this.pdf.setPage(We);var Ee=We===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],Me=Se-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],at=He-this.margin[3],ot=We===1?0:Fe+(We-2)*Me;if(this.ctx.clip_path.length!==0){var xt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-1*ot+Ee),O.call(this,"fill",!0),this.path=xt}var ht=w([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ot+Ee+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale);var mt=this.autoPaging!=="text";if(mt||ht.y+ht.h<=Se){if(mt||ht.y>=Ee&&ht.x<=He){var ct=mt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||He-ht.x)[0],Zt=w([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-ot+Ee+this.ctx.prevPageLastElemOffset)[0],Ht=mt&&(We>Oe||We<Ve)&&m.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Me,null).clip().discardPath()),this.pdf.text(ct,Zt.x,Zt.y,{angle:k.angle,align:R,renderingMode:k.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else ht.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-ht.y);k.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=W)}else k.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale),this.pdf.text(k.text,se.x+this.posX,se.y+this.posY,{angle:k.angle,align:R,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=W)},N=function(k,R,G,Y){G=G||0,Y=Y||0,this.pdf.internal.out(r(k+G)+" "+n(R+Y)+" l")},U=function(k,R,G){return this.pdf.lines(k,R,G,null,null)},X=function(k,R,G,Y,J,se,ue,ae){this.pdf.internal.out([t(a(G+k)),t(i(Y+R)),t(a(J+k)),t(i(se+R)),t(a(ue+k)),t(i(ae+R)),"c"].join(" "))},z=function(k,R,G,Y){for(var J=2*Math.PI,se=Math.PI/2;R>G;)R-=J;var ue=Math.abs(G-R);ue<J&&Y&&(ue=J-ue);for(var ae=[],he=Y?-1:1,xe=R;ue>1e-5;){var W=xe+he*Math.min(ue,se);ae.push(H.call(this,k,xe,W)),ue-=Math.abs(W-xe),xe=W}return ae},H=function(k,R,G){var Y=(G-R)/2,J=k*Math.cos(Y),se=k*Math.sin(Y),ue=J,ae=-se,he=ue*ue+ae*ae,xe=he+ue*J+ae*se,W=4/3*(Math.sqrt(2*he*xe)-xe)/(ue*se-ae*J),Ne=ue-W*ae,ke=ae+W*ue,_e=Ne,le=-ke,Le=Y+R,Oe=Math.cos(Le),Ve=Math.sin(Le);return{x1:k*Math.cos(R),y1:k*Math.sin(R),x2:Ne*Oe-ke*Ve,y2:Ne*Ve+ke*Oe,x3:_e*Oe-le*Ve,y3:_e*Ve+le*Oe,x4:k*Math.cos(G),y4:k*Math.sin(G)}},V=function(k){return 180*k/Math.PI},q=function(k,R,G,Y,J,se){var ue=k+.5*(G-k),ae=R+.5*(Y-R),he=J+.5*(G-J),xe=se+.5*(Y-se),W=Math.min(k,J,ue,he),Ne=Math.max(k,J,ue,he),ke=Math.min(R,se,ae,xe),_e=Math.max(R,se,ae,xe);return new o(W,ke,Ne-W,_e-ke)},te=function(k,R,G,Y,J,se,ue,ae){var he,xe,W,Ne,ke,_e,le,Le,Oe,Ve,We,Ee,Fe,Se,Me=G-k,He=Y-R,at=J-G,ot=se-Y,xt=ue-J,ht=ae-se;for(xe=0;xe<41;xe++)Oe=(le=(W=k+(he=xe/40)*Me)+he*((ke=G+he*at)-W))+he*(ke+he*(J+he*xt-ke)-le),Ve=(Le=(Ne=R+he*He)+he*((_e=Y+he*ot)-Ne))+he*(_e+he*(se+he*ht-_e)-Le),xe==0?(We=Oe,Ee=Ve,Fe=Oe,Se=Ve):(We=Math.min(We,Oe),Ee=Math.min(Ee,Ve),Fe=Math.max(Fe,Oe),Se=Math.max(Se,Ve));return new o(Math.round(We),Math.round(Ee),Math.round(Fe-We),Math.round(Se-Ee))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,R,G=(k=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:R}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(yr.API),function(e){var t=function(i){var s,o,l,c,u,d,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(d+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,d=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,w){for(var b=w;b>0;b--)y.pop()}(l,s[h]),d.fromCharCode.apply(d,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=hE(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(yr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(yr.API),function(e){function t(){return(xr.html2canvas?Promise.resolve(xr.html2canvas):lE(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(xr.DOMPurify?Promise.resolve(xr.DOMPurify):lE(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=pn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||yr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,yr.getPageSize=function(s,o,l){if(pn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(d))g=h[d][1]/u,m=h[d][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(xE):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(yr.API),yr.API.addJS=function(e){return ER=e,this.internal.events.subscribe("postPutResources",function(){Ux=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ux+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),TR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ER+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ux!==void 0&&TR!==void 0&&this.internal.out("/Names <</JavaScript "+Ux+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(yr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var h,p=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}p=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(yr.API);var s0,Vx,NR,kR,CR,L9e=function(){var e,t,r;function n(i){var s,o,l,c,u,d,h,p,g,m,v,y,w,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),g=(function(){var D,O;for(O=[],D=0;D<4;++D)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(d!=null?d.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(w=0;0<=m?w<m:w>m;0<=m?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,h,p,g){var m,v,y,w,b,D,O,P,T,_,S,I,E,C,N,U,X,z,H,V,q,te=Math.ceil((c.width-d)/p),Z=Math.ceil((c.height-h)/g),k=c.width==te&&c.height==Z;for(C=s*te,I=k?o:new Uint8Array(C*Z),D=i.length,E=0,v=0;E<Z&&l<D;){switch(i[l++]){case 0:for(w=X=0;X<C;w=X+=1)I[v++]=i[l++];break;case 1:for(w=z=0;z<C;w=z+=1)m=i[l++],b=w<s?0:I[v-s],I[v++]=(m+b)%256;break;case 2:for(w=H=0;H<C;w=H+=1)m=i[l++],y=(w-w%s)/s,N=E&&I[(E-1)*C+y*s+w%s],I[v++]=(N+m)%256;break;case 3:for(w=V=0;V<C;w=V+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:I[v-s],N=E&&I[(E-1)*C+y*s+w%s],I[v++]=(m+Math.floor((b+N)/2))%256;break;case 4:for(w=q=0;q<C;w=q+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:I[v-s],E===0?N=U=0:(N=I[(E-1)*C+y*s+w%s],U=y&&I[(E-1)*C+(y-1)*s+w%s]),O=b+N-U,P=Math.abs(O-b),_=Math.abs(O-N),S=Math.abs(O-U),T=P<=_&&P<=S?b:_<=S?N:U,I[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!k){var R=((h+E*g)*c.width+d)*s,G=E*C;for(w=0;w<te;w+=1){for(var Y=0;Y<s;Y+=1)o[R++]=I[G++];R+=(p-1)*s}}E++}}return i=h9e(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,d,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=d=0,h=o.length;d<h;s=d+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,d,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,d=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=d[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?d[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=d[p++],c[u++]=d[p++],c[u++]=d[p++],c[u++]=o?d[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(xr)==="[object Window]"){try{t=xr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,d,h,p;if(this.animation){for(p=[],o=u=0,d=(h=this.animation.frames).length;u<d;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,d,h=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function M9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],d=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,D=e[t++],O=D>>6&1,P=1<<(7&D)+1,T=o,_=l,S=!1;D>>7&&(S=!0,T=t,_=P,t+=3*P);var I=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:w,height:b,has_local_palette:S,palette_offset:T,palette_size:_,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!O,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,N){var U=this.frameInfo(C),X=U.width*U.height,z=new Uint8Array(X);PR(e,U.data_offset,z,X);var H=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var q=U.width,te=r-q,Z=q,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),G=k,Y=4*te;U.interlaced===!0&&(Y+=4*r*7);for(var J=8,se=0,ue=z.length;se<ue;++se){var ae=z[se];if(Z===0&&(Z=q,(G+=Y)>=R&&(Y=4*te+4*r*(J-1),G=k+(q+te)*(J<<1),J>>=1)),ae===V)G+=4;else{var he=e[H+3*ae],xe=e[H+3*ae+1],W=e[H+3*ae+2];N[G++]=W,N[G++]=xe,N[G++]=he,N[G++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(C,N){var U=this.frameInfo(C),X=U.width*U.height,z=new Uint8Array(X);PR(e,U.data_offset,z,X);var H=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var q=U.width,te=r-q,Z=q,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),G=k,Y=4*te;U.interlaced===!0&&(Y+=4*r*7);for(var J=8,se=0,ue=z.length;se<ue;++se){var ae=z[se];if(Z===0&&(Z=q,(G+=Y)>=R&&(Y=4*te+4*r*(J-1),G=k+(q+te)*(J<<1),J>>=1)),ae===V)G+=4;else{var he=e[H+3*ae],xe=e[H+3*ae+1],W=e[H+3*ae+2];N[G++]=he,N[G++]=xe,N[G++]=W,N[G++]=255}--Z}}}function PR(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,d=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)d|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=d&c;if(d>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,w=0,b=y;b>i;)b=g[b]>>8,++w;var D=b;if(h+w+(y!==v?1:0)>n)return void Dn.log("Warning, gif stream longer than expected.");r[h++]=D;var O=h+=w;for(y!==v&&(r[h++]=D),b=y;w--;)b=g[b],r[--O]=255&b,b>>=8;m!==null&&o<4096&&(g[o++]=m<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&Dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function PA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,w=new Array(64),b=new Array(64),D=new Array(64),O=new Array(256),P=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(k,R){for(var G=0,Y=0,J=new Array,se=1;se<=16;se++){for(var ue=1;ue<=k[se];ue++)J[R[Y]]=[],J[R[Y]][0]=G,J[R[Y]][1]=se,Y++,G++;G*=2}return J}function H(k){for(var R=k[0],G=k[1]-1;G>=0;)R&1<<G&&(v|=1<<y),G--,--y<0&&(v==255?(V(255),V(0)):V(v),y=7,v=0)}function V(k){m.push(k)}function q(k){V(k>>8&255),V(255&k)}function te(k,R,G,Y,J){for(var se,ue=J[0],ae=J[240],he=function(Ve,We){var Ee,Fe,Se,Me,He,at,ot,xt,ht,mt,ct=0;for(ht=0;ht<8;++ht){Ee=Ve[ct],Fe=Ve[ct+1],Se=Ve[ct+2],Me=Ve[ct+3],He=Ve[ct+4],at=Ve[ct+5],ot=Ve[ct+6];var Zt=Ee+(xt=Ve[ct+7]),Ht=Ee-xt,Rr=Fe+ot,Ir=Fe-ot,Wr=Se+at,Pe=Se-at,Re=Me+He,rt=Me-He,vt=Zt+Re,Nt=Zt-Re,Kt=Rr+Wr,Ft=Rr-Wr;Ve[ct]=vt+Kt,Ve[ct+4]=vt-Kt;var Dt=.707106781*(Ft+Nt);Ve[ct+2]=Nt+Dt,Ve[ct+6]=Nt-Dt;var rr=.382683433*((vt=rt+Pe)-(Ft=Ir+Ht)),gr=.5411961*vt+rr,or=1.306562965*Ft+rr,Tr=.707106781*(Kt=Pe+Ir),An=Ht+Tr,Yt=Ht-Tr;Ve[ct+5]=Yt+gr,Ve[ct+3]=Yt-gr,Ve[ct+1]=An+or,Ve[ct+7]=An-or,ct+=8}for(ct=0,ht=0;ht<8;++ht){Ee=Ve[ct],Fe=Ve[ct+8],Se=Ve[ct+16],Me=Ve[ct+24],He=Ve[ct+32],at=Ve[ct+40],ot=Ve[ct+48];var Mn=Ee+(xt=Ve[ct+56]),Rn=Ee-xt,Ce=Fe+ot,it=Fe-ot,ut=Se+at,ee=Se-at,ve=Me+He,pe=Me-He,ge=Mn+ve,ye=Mn-ve,we=Ce+ut,Ge=Ce-ut;Ve[ct]=ge+we,Ve[ct+32]=ge-we;var tt=.707106781*(Ge+ye);Ve[ct+16]=ye+tt,Ve[ct+48]=ye-tt;var Ke=.382683433*((ge=pe+ee)-(Ge=it+Rn)),Ye=.5411961*ge+Ke,Ze=1.306562965*Ge+Ke,Tt=.707106781*(we=ee+it),Mt=Rn+Tt,Vt=Rn-Tt;Ve[ct+40]=Vt+Ye,Ve[ct+24]=Vt-Ye,Ve[ct+8]=Mt+Ze,Ve[ct+56]=Mt-Ze,ct++}for(ht=0;ht<64;++ht)mt=Ve[ht]*We[ht],p[ht]=mt>0?mt+.5|0:mt-.5|0;return p}(k,R),xe=0;xe<64;++xe)g[T[xe]]=he[xe];var W=g[0]-G;G=g[0],W==0?H(Y[0]):(H(Y[h[se=32767+W]]),H(d[se]));for(var Ne=63;Ne>0&&g[Ne]==0;)Ne--;if(Ne==0)return H(ue),G;for(var ke,_e=1;_e<=Ne;){for(var le=_e;g[_e]==0&&_e<=Ne;)++_e;var Le=_e-le;if(Le>=16){ke=Le>>4;for(var Oe=1;Oe<=ke;++Oe)H(ae);Le&=15}se=32767+g[_e],H(J[(Le<<4)+h[se]]),H(d[se]),_e++}return Ne!=63&&H(ue),G}function Z(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(R){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var J=s((G[Y]*R+50)/100);J=Math.min(Math.max(J,1),255),o[T[Y]]=J}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ae=s((se[ue]*R+50)/100);ae=Math.min(Math.max(ae,1),255),l[T[ue]]=ae}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,W=0;W<8;W++)for(var Ne=0;Ne<8;Ne++)c[xe]=1/(o[T[xe]]*he[W]*he[Ne]*8),u[xe]=1/(l[T[xe]]*he[W]*he[Ne]*8),xe++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,R){R&&Z(R),m=new Array,v=0,y=7,q(65496),q(65504),q(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),q(1),q(1),V(0),V(0),function(){q(65499),q(132),V(0);for(var Fe=0;Fe<64;Fe++)V(o[Fe]);V(1);for(var Se=0;Se<64;Se++)V(l[Se])}(),function(Fe,Se){q(65472),q(17),V(8),q(Se),q(Fe),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(k.width,k.height),function(){q(65476),q(418),V(0);for(var Fe=0;Fe<16;Fe++)V(_[Fe+1]);for(var Se=0;Se<=11;Se++)V(S[Se]);V(16);for(var Me=0;Me<16;Me++)V(I[Me+1]);for(var He=0;He<=161;He++)V(E[He]);V(1);for(var at=0;at<16;at++)V(C[at+1]);for(var ot=0;ot<=11;ot++)V(N[ot]);V(17);for(var xt=0;xt<16;xt++)V(U[xt+1]);for(var ht=0;ht<=161;ht++)V(X[ht])}(),q(65498),q(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var G=0,Y=0,J=0;v=0,y=7,this.encode.displayName="_encode_";for(var se,ue,ae,he,xe,W,Ne,ke,_e,le=k.data,Le=k.width,Oe=k.height,Ve=4*Le,We=0;We<Oe;){for(se=0;se<Ve;){for(xe=Ve*We+se,Ne=-1,ke=0,_e=0;_e<64;_e++)W=xe+(ke=_e>>3)*Ve+(Ne=4*(7&_e)),We+ke>=Oe&&(W-=Ve*(We+1+ke-Oe)),se+Ne>=Ve&&(W-=se+Ne-Ve+4),ue=le[W++],ae=le[W++],he=le[W++],w[_e]=(P[ue]+P[ae+256>>0]+P[he+512>>0]>>16)-128,b[_e]=(P[ue+768>>0]+P[ae+1024>>0]+P[he+1280>>0]>>16)-128,D[_e]=(P[ue+1280>>0]+P[ae+1536>>0]+P[he+1792>>0]>>16)-128;G=te(w,c,G,t,n),Y=te(b,u,Y,r,a),J=te(D,u,J,r,a),se+=32}We+=8}if(y>=0){var Ee=[];Ee[1]=y+1,Ee[0]=(1<<y+1)-1,H(Ee)}return q(65497),new Uint8Array(m)},e=e||50,function(){for(var k=String.fromCharCode,R=0;R<256;R++)O[R]=k(R)}(),t=z(_,S),r=z(C,N),n=z(I,E),a=z(U,X),function(){for(var k=1,R=2,G=1;G<=15;G++){for(var Y=k;Y<R;Y++)h[32767+Y]=G,d[32767+Y]=[],d[32767+Y][1]=G,d[32767+Y][0]=Y;for(var J=-(R-1);J<=-k;J++)h[32767+J]=G,d[32767+J]=[],d[32767+J][1]=G,d[32767+J][0]=R-1+J;k<<=1,R<<=1}}(),function(){for(var k=0;k<256;k++)P[k]=19595*k,P[k+256>>0]=38470*k,P[k+512>>0]=7471*k+32768,P[k+768>>0]=-11059*k,P[k+1024>>0]=-21709*k,P[k+1280>>0]=32768*k+8421375,P[k+1536>>0]=-27439*k,P[k+1792>>0]=-5329*k}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function sl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jR(e){function t(_){if(!_)throw Error("assert :P")}function r(_,S,I){for(var E=0;4>E;E++)if(_[S+E]!=I.charCodeAt(E))return!0;return!1}function n(_,S,I,E,C){for(var N=0;N<C;N++)_[S+N]=I[E+N]}function a(_,S,I,E){for(var C=0;C<E;C++)_[S+C]=I}function i(_){return new Int32Array(_)}function s(_,S){for(var I=[],E=0;E<_;E++)I.push(new S);return I}function o(_,S){var I=[];return function E(C,N,U){for(var X=U[N],z=0;z<X&&(C.push(U.length>N+1?[]:new S),!(U.length<N+1));z++)E(C[z],N+1,U)}(I,0,_),I}var l=function(){var _=this;function S(x,j){for(var M=1<<j-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function I(x,j,M,K,ne){t(!(K%M));do x[j+(K-=M)]=ne;while(0<K)}function E(x,j,M,K,ne){if(t(2328>=ne),512>=ne)var oe=i(512);else if((oe=i(ne))==null)return 0;return function(ce,de,me,be,Ie,Qe){var Je,qe,_t=de,st=1<<me,De=i(16),$e=i(16);for(t(Ie!=0),t(be!=null),t(ce!=null),t(0<me),qe=0;qe<Ie;++qe){if(15<be[qe])return 0;++De[be[qe]]}if(De[0]==Ie)return 0;for($e[1]=0,Je=1;15>Je;++Je){if(De[Je]>1<<Je)return 0;$e[Je+1]=$e[Je]+De[Je]}for(qe=0;qe<Ie;++qe)Je=be[qe],0<be[qe]&&(Qe[$e[Je]++]=qe);if($e[15]==1)return(be=new C).g=0,be.value=Qe[0],I(ce,_t,1,st,be),st;var gt,kt=-1,bt=st-1,Qt=0,zt=1,hr=1,Gt=1<<me;for(qe=0,Je=1,Ie=2;Je<=me;++Je,Ie<<=1){if(zt+=hr<<=1,0>(hr-=De[Je]))return 0;for(;0<De[Je];--De[Je])(be=new C).g=Je,be.value=Qe[qe++],I(ce,_t+Qt,Ie,Gt,be),Qt=S(Qt,Je)}for(Je=me+1,Ie=2;15>=Je;++Je,Ie<<=1){if(zt+=hr<<=1,0>(hr-=De[Je]))return 0;for(;0<De[Je];--De[Je]){if(be=new C,(Qt&bt)!=kt){for(_t+=Gt,gt=1<<(kt=Je)-me;15>kt&&!(0>=(gt-=De[kt]));)++kt,gt<<=1;st+=Gt=1<<(gt=kt-me),ce[de+(kt=Qt&bt)].g=gt+me,ce[de+kt].value=_t-de-kt}be.g=Je-me,be.value=Qe[qe++],I(ce,_t+(Qt>>me),Ie,Gt,be),Qt=S(Qt,Je)}}return zt!=2*$e[15]-1?0:st}(x,j,M,K,ne,oe)}function C(){this.value=this.g=0}function N(){this.value=this.g=0}function U(){this.G=s(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(mi,N)}function X(x,j,M,K){t(x!=null),t(j!=null),t(2147483648>K),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=j,x.pa=M,x.Jd=j,x.Yc=M+K,x.Zc=4<=K?M+K-4+1:M,se(x)}function z(x,j){for(var M=0;0<j--;)M|=ae(x,128)<<j;return M}function H(x,j){var M=z(x,j);return ue(x)?-M:M}function V(x,j,M,K){var ne,oe=0;for(t(x!=null),t(j!=null),t(4294967288>K),x.Sb=K,x.Ra=0,x.u=0,x.h=0,4<K&&(K=4),ne=0;ne<K;++ne)oe+=j[M+ne]<<8*ne;x.Ra=oe,x.bb=K,x.oa=j,x.pa=M}function q(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Uh-8>>>0,++x.bb,x.u-=8;G(x)&&(x.h=1,x.u=0)}function te(x,j){if(t(0<=j),!x.h&&j<=Bh){var M=R(x)&$h[j];return x.u+=j,q(x),M}return x.h=1,x.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&Uh-1)>>>0}function G(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Uh}function Y(x,j){x.u=j,x.h=G(x)}function J(x){x.u>=Em&&(t(x.u>=Em),q(x))}function se(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ue(x){return z(x,1)}function ae(x,j){var M=x.Ca;0>x.b&&se(x);var K=x.b,ne=M*j>>>8,oe=(x.I>>>K>ne)+0;for(oe?(M-=ne,x.I-=ne+1<<K>>>0):M=ne+1,K=M,ne=0;256<=K;)ne+=8,K>>=8;return K=7^ne+Ns[K],x.b-=K,x.Ca=(M<<K)-1,oe}function he(x,j,M){x[j+0]=M>>24&255,x[j+1]=M>>16&255,x[j+2]=M>>8&255,x[j+3]=M>>0&255}function xe(x,j){return x[j+0]<<0|x[j+1]<<8}function W(x,j){return xe(x,j)|x[j+2]<<16}function Ne(x,j){return xe(x,j)|xe(x,j+2)<<16}function ke(x,j){var M=1<<j;return t(x!=null),t(0<j),x.X=i(M),x.X==null?0:(x.Mb=32-j,x.Xa=j,1)}function _e(x,j){t(x!=null),t(j!=null),t(x.Xa==j.Xa),n(j.X,0,x.X,0,1<<j.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function Le(x,j,M,K){t(M!=null),t(K!=null);var ne=M[0],oe=K[0];return ne==0&&(ne=(x*oe+j/2)/j),oe==0&&(oe=(j*ne+x/2)/x),0>=ne||0>=oe?0:(M[0]=ne,K[0]=oe,1)}function Oe(x,j){return x+(1<<j)-1>>>j}function Ve(x,j){return((4278255360&x)+(4278255360&j)>>>0&4278255360)+((16711935&x)+(16711935&j)>>>0&16711935)>>>0}function We(x,j){_[j]=function(M,K,ne,oe,ce,de,me){var be;for(be=0;be<ce;++be){var Ie=_[x](de[me+be-1],ne,oe+be);de[me+be]=Ve(M[K+be],Ie)}}}function Ee(){this.ud=this.hd=this.jd=0}function Fe(x,j){return((4278124286&(x^j))>>>1)+(x&j)>>>0}function Se(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Me(x,j){return Se(x+(x-j+.5>>1))}function He(x,j,M){return Math.abs(j-M)-Math.abs(x-M)}function at(x,j,M,K,ne,oe,ce){for(K=oe[ce-1],M=0;M<ne;++M)oe[ce+M]=K=Ve(x[j+M],K)}function ot(x,j,M,K,ne){var oe;for(oe=0;oe<M;++oe){var ce=x[j+oe],de=ce>>8&255,me=16711935&(me=(me=16711935&ce)+((de<<16)+de));K[ne+oe]=(4278255360&ce)+me>>>0}}function xt(x,j){j.jd=x>>0&255,j.hd=x>>8&255,j.ud=x>>16&255}function ht(x,j,M,K,ne,oe){var ce;for(ce=0;ce<K;++ce){var de=j[M+ce],me=de>>>8,be=de,Ie=255&(Ie=(Ie=de>>>16)+((x.jd<<24>>24)*(me<<24>>24)>>>5));be=255&(be=(be=be+((x.hd<<24>>24)*(me<<24>>24)>>>5))+((x.ud<<24>>24)*(Ie<<24>>24)>>>5)),ne[oe+ce]=(4278255360&de)+(Ie<<16)+be}}function mt(x,j,M,K,ne){_[j]=function(oe,ce,de,me,be,Ie,Qe,Je,qe){for(me=Qe;me<Je;++me)for(Qe=0;Qe<qe;++Qe)be[Ie++]=ne(de[K(oe[ce++])])},_[x]=function(oe,ce,de,me,be,Ie,Qe){var Je=8>>oe.b,qe=oe.Ea,_t=oe.K[0],st=oe.w;if(8>Je)for(oe=(1<<oe.b)-1,st=(1<<Je)-1;ce<de;++ce){var De,$e=0;for(De=0;De<qe;++De)De&oe||($e=K(me[be++])),Ie[Qe++]=ne(_t[$e&st]),$e>>=Je}else _["VP8LMapColor"+M](me,be,_t,st,Ie,Qe,ce,de,qe)}}function ct(x,j,M,K,ne){for(M=j+M;j<M;){var oe=x[j++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=oe>>0&255}}function Zt(x,j,M,K,ne){for(M=j+M;j<M;){var oe=x[j++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=oe>>0&255,K[ne++]=oe>>24&255}}function Ht(x,j,M,K,ne){for(M=j+M;j<M;){var oe=(ce=x[j++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;K[ne++]=oe,K[ne++]=ce}}function Rr(x,j,M,K,ne){for(M=j+M;j<M;){var oe=(ce=x[j++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;K[ne++]=oe,K[ne++]=ce}}function Ir(x,j,M,K,ne){for(M=j+M;j<M;){var oe=x[j++];K[ne++]=oe>>0&255,K[ne++]=oe>>8&255,K[ne++]=oe>>16&255}}function Wr(x,j,M,K,ne,oe){if(oe==0)for(M=j+M;j<M;)he(K,((oe=x[j++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(K,ne,x,j,M)}function Pe(x,j){_[j][0]=_[x+"0"],_[j][1]=_[x+"1"],_[j][2]=_[x+"2"],_[j][3]=_[x+"3"],_[j][4]=_[x+"4"],_[j][5]=_[x+"5"],_[j][6]=_[x+"6"],_[j][7]=_[x+"7"],_[j][8]=_[x+"8"],_[j][9]=_[x+"9"],_[j][10]=_[x+"10"],_[j][11]=_[x+"11"],_[j][12]=_[x+"12"],_[j][13]=_[x+"13"],_[j][14]=_[x+"0"],_[j][15]=_[x+"0"]}function Re(x){return x==w_||x==__||x==Ny||x==S_}function rt(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rt,this.f.kb=new vt,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function rr(x,j){var M=x.T,K=j.ba.f.RGBA,ne=K.eb,oe=K.fb+x.ka*K.A,ce=bo[j.ba.S],de=x.y,me=x.O,be=x.f,Ie=x.N,Qe=x.ea,Je=x.W,qe=j.cc,_t=j.dc,st=j.Mc,De=j.Nc,$e=x.ka,gt=x.ka+x.T,kt=x.U,bt=kt+1>>1;for($e==0?ce(de,me,null,null,be,Ie,Qe,Je,be,Ie,Qe,Je,ne,oe,null,null,kt):(ce(j.ec,j.fc,de,me,qe,_t,st,De,be,Ie,Qe,Je,ne,oe-K.A,ne,oe,kt),++M);$e+2<gt;$e+=2)qe=be,_t=Ie,st=Qe,De=Je,Ie+=x.Rc,Je+=x.Rc,oe+=2*K.A,ce(de,(me+=2*x.fa)-x.fa,de,me,qe,_t,st,De,be,Ie,Qe,Je,ne,oe-K.A,ne,oe,kt);return me+=x.fa,x.j+gt<x.o?(n(j.ec,j.fc,de,me,kt),n(j.cc,j.dc,be,Ie,bt),n(j.Mc,j.Nc,Qe,Je,bt),M--):1&gt||ce(de,me,null,null,be,Ie,Qe,Je,be,Ie,Qe,Je,ne,oe+K.A,null,null,kt),M}function gr(x,j,M){var K=x.F,ne=[x.J];if(K!=null){var oe=x.U,ce=j.ba.S,de=ce==Ey||ce==Ny;j=j.ba.f.RGBA;var me=[0],be=x.ka;me[0]=x.T,x.Kb&&(be==0?--me[0]:(--be,ne[0]-=x.width),x.j+x.ka+x.T==x.o&&(me[0]=x.o-x.j-be));var Ie=j.eb;be=j.fb+be*j.A,x=Bn(K,ne[0],x.width,oe,me,Ie,be+(de?0:3),j.A),t(M==me),x&&Re(ce)&&yo(Ie,be,de,oe,me,j.A)}return 0}function or(x){var j=x.ma,M=j.ba.S,K=11>M,ne=M==Ay||M==Ty||M==Ey||M==b_||M==12||Re(M);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Am(j.Oa,x,ne?11:12))return 0;if(ne&&Re(M)&&Ct(),x.da)alert("todo:use_scaling");else{if(K){if(j.Ib=Dt,x.Kb){if(M=x.U+1>>1,j.memory=i(x.U+2*M),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+x.U,j.Mc=j.cc,j.Nc=j.dc+M,j.Ib=rr,Ct()}}else alert("todo:EmitYUV");ne&&(j.Jb=gr,K&&ze())}if(K&&!BP){for(x=0;256>x;++x)TY[x]=89858*(x-128)+Cy>>ky,kY[x]=-22014*(x-128)+Cy,NY[x]=-45773*(x-128),EY[x]=113618*(x-128)+Cy>>ky;for(x=Im;x<E_;++x)j=76283*(x-16)+Cy>>ky,CY[x-Im]=vn(j,255),PY[x-Im]=vn(j+8>>4,15);BP=1}return 1}function Tr(x){var j=x.ma,M=x.U,K=x.T;return t(!(1&x.ka)),0>=M||0>=K?0:(M=j.Ib(x,j),j.Jb!=null&&j.Jb(x,j,M),j.Dc+=M,1)}function An(x){x.ma.memory=null}function Yt(x,j,M,K){return te(x,8)!=47?0:(j[0]=te(x,14)+1,M[0]=te(x,14)+1,K[0]=te(x,1),te(x,3)!=0?0:!x.h)}function Mn(x,j){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+te(j,M)+1}function Rn(x,j){return 120<j?j-120:1<=(M=((M=fY[j-1])>>4)*x+(8-(15&M)))?M:1;var M}function Ce(x,j,M){var K=R(M),ne=x[j+=255&K].g-8;return 0<ne&&(Y(M,M.u+8),K=R(M),j+=x[j].value,j+=K&(1<<ne)-1),Y(M,M.u+x[j].g),x[j].value}function it(x,j,M){return M.g+=x.g,M.value+=x.value<<j>>>0,t(8>=M.g),x.g}function ut(x,j,M){var K=x.xc;return t((j=K==0?0:x.vc[x.md*(M>>K)+(j>>K)])<x.Wb),x.Ya[j]}function ee(x,j,M,K){var ne=x.ab,oe=x.c*j,ce=x.C;j=ce+j;var de=M,me=K;for(K=x.Ta,M=x.Ua;0<ne--;){var be=x.gc[ne],Ie=ce,Qe=j,Je=de,qe=me,_t=(me=K,de=M,be.Ea);switch(t(Ie<Qe),t(Qe<=be.nc),be.hc){case 2:vy(Je,qe,(Qe-Ie)*_t,me,de);break;case 0:var st=Ie,De=Qe,$e=me,gt=de,kt=(Gt=be).Ea;st==0&&(y_(Je,qe,null,null,1,$e,gt),at(Je,qe+1,0,0,kt-1,$e,gt+1),qe+=kt,gt+=kt,++st);for(var bt=1<<Gt.b,Qt=bt-1,zt=Oe(kt,Gt.b),hr=Gt.K,Gt=Gt.w+(st>>Gt.b)*zt;st<De;){var hn=hr,xn=Gt,on=1;for(Nm(Je,qe,$e,gt-kt,1,$e,gt);on<kt;){var Yr=(on&~Qt)+bt;Yr>kt&&(Yr=kt),(0,Ou[hn[xn++]>>8&15])(Je,qe+ +on,$e,gt+on-kt,Yr-on,$e,gt+on),on=Yr}qe+=kt,gt+=kt,++st&Qt||(Gt+=zt)}Qe!=be.nc&&n(me,de-_t,me,de+(Qe-Ie-1)*_t,_t);break;case 1:for(_t=Je,De=qe,kt=(Je=be.Ea)-(gt=Je&~($e=(qe=1<<be.b)-1)),st=Oe(Je,be.b),bt=be.K,be=be.w+(Ie>>be.b)*st;Ie<Qe;){for(Qt=bt,zt=be,hr=new Ee,Gt=De+gt,hn=De+Je;De<Gt;)xt(Qt[zt++],hr),dd(hr,_t,De,qe,me,de),De+=qe,de+=qe;De<hn&&(xt(Qt[zt++],hr),dd(hr,_t,De,kt,me,de),De+=kt,de+=kt),++Ie&$e||(be+=st)}break;case 3:if(Je==me&&qe==de&&0<be.b){for(De=me,Je=_t=de+(Qe-Ie)*_t-(gt=(Qe-Ie)*Oe(be.Ea,be.b)),qe=me,$e=de,st=[],gt=(kt=gt)-1;0<=gt;--gt)st[gt]=qe[$e+gt];for(gt=kt-1;0<=gt;--gt)De[Je+gt]=st[gt];mo(be,Ie,Qe,me,_t,me,de)}else mo(be,Ie,Qe,Je,qe,me,de)}de=K,me=M}me!=M&&n(K,M,de,me,oe)}function ve(x,j){var M=x.V,K=x.Ba+x.c*x.C,ne=j-x.C;if(t(j<=x.l.o),t(16>=ne),0<ne){var oe=x.l,ce=x.Ta,de=x.Ua,me=oe.width;if(ee(x,ne,M,K),ne=de=[de],t((M=x.C)<(K=j)),t(oe.v<oe.va),K>oe.o&&(K=oe.o),M<oe.j){var be=oe.j-M;M=oe.j,ne[0]+=be*me}if(M>=K?M=0:(ne[0]+=4*oe.v,oe.ka=M-oe.j,oe.U=oe.va-oe.v,oe.T=K-M,M=1),M){if(de=de[0],11>(M=x.ca).S){var Ie=M.f.RGBA,Qe=(K=M.S,ne=oe.U,oe=oe.T,be=Ie.eb,Ie.A),Je=oe;for(Ie=Ie.fb+x.Ma*Ie.A;0<Je--;){var qe=ce,_t=de,st=ne,De=be,$e=Ie;switch(K){case Sy:ks(qe,_t,st,De,$e);break;case Ay:ls(qe,_t,st,De,$e);break;case w_:ls(qe,_t,st,De,$e),yo(De,$e,0,st,1,0);break;case PP:_c(qe,_t,st,De,$e);break;case Ty:Wr(qe,_t,st,De,$e,1);break;case __:Wr(qe,_t,st,De,$e,1),yo(De,$e,0,st,1,0);break;case Ey:Wr(qe,_t,st,De,$e,0);break;case Ny:Wr(qe,_t,st,De,$e,0),yo(De,$e,1,st,1,0);break;case b_:Iu(qe,_t,st,De,$e);break;case S_:Iu(qe,_t,st,De,$e),$n(De,$e,st,1,0);break;case jP:wc(qe,_t,st,De,$e);break;default:t(0)}de+=me,Ie+=Qe}x.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=j,t(x.C<=x.i)}function pe(x){var j;if(0<x.ua)return 0;for(j=0;j<x.Wb;++j){var M=x.Ya[j].G,K=x.Ya[j].H;if(0<M[1][K[1]+0].g||0<M[2][K[2]+0].g||0<M[3][K[3]+0].g)return 0}return 1}function ge(x,j,M,K,ne,oe){if(x.Z!=0){var ce=x.qd,de=x.rd;for(t(Ru[x.Z]!=null);j<M;++j)Ru[x.Z](ce,de,K,ne,K,ne,oe),ce=K,de=ne,ne+=oe;x.qd=ce,x.rd=de}}function ye(x,j){var M=x.l.ma,K=M.Z==0||M.Z==1?x.l.j:x.C;if(K=x.C<K?K:x.C,t(j<=x.l.o),j>K){var ne=x.l.width,oe=M.ca,ce=M.tb+ne*K,de=x.V,me=x.Ba+x.c*K,be=x.gc;t(x.ab==1),t(be[0].hc==3),yy(be[0],K,j,de,me,oe,ce),ge(M,K,j,oe,ce,ne)}x.C=x.Ma=j}function we(x,j,M,K,ne,oe,ce){var de=x.$/K,me=x.$%K,be=x.m,Ie=x.s,Qe=M+x.$,Je=Qe;ne=M+K*ne;var qe=M+K*oe,_t=280+Ie.ua,st=x.Pb?de:16777216,De=0<Ie.ua?Ie.Wa:null,$e=Ie.wc,gt=Qe<qe?ut(Ie,me,de):null;t(x.C<oe),t(qe<=ne);var kt=!1;e:for(;;){for(;kt||Qe<qe;){var bt=0;if(de>=st){var Qt=Qe-M;t((st=x).Pb),st.wd=st.m,st.xd=Qt,0<st.s.ua&&_e(st.s.Wa,st.s.vb),st=de+hY}if(me&$e||(gt=ut(Ie,me,de)),t(gt!=null),gt.Qb&&(j[Qe]=gt.qb,kt=!0),!kt)if(J(be),gt.jc){bt=be,Qt=j;var zt=Qe,hr=gt.pd[R(bt)&mi-1];t(gt.jc),256>hr.g?(Y(bt,bt.u+hr.g),Qt[zt]=hr.value,bt=0):(Y(bt,bt.u+hr.g-256),t(256<=hr.value),bt=hr.value),bt==0&&(kt=!0)}else bt=Ce(gt.G[0],gt.H[0],be);if(be.h)break;if(kt||256>bt){if(!kt)if(gt.nd)j[Qe]=(gt.qb|bt<<8)>>>0;else{if(J(be),kt=Ce(gt.G[1],gt.H[1],be),J(be),Qt=Ce(gt.G[2],gt.H[2],be),zt=Ce(gt.G[3],gt.H[3],be),be.h)break;j[Qe]=(zt<<24|kt<<16|bt<<8|Qt)>>>0}if(kt=!1,++Qe,++me>=K&&(me=0,++de,ce!=null&&de<=oe&&!(de%16)&&ce(x,de),De!=null))for(;Je<Qe;)bt=j[Je++],De.X[(506832829*bt&4294967295)>>>De.Mb]=bt}else if(280>bt){if(bt=Mn(bt-256,be),Qt=Ce(gt.G[4],gt.H[4],be),J(be),Qt=Rn(K,Qt=Mn(Qt,be)),be.h)break;if(Qe-M<Qt||ne-Qe<bt)break e;for(zt=0;zt<bt;++zt)j[Qe+zt]=j[Qe+zt-Qt];for(Qe+=bt,me+=bt;me>=K;)me-=K,++de,ce!=null&&de<=oe&&!(de%16)&&ce(x,de);if(t(Qe<=ne),me&$e&&(gt=ut(Ie,me,de)),De!=null)for(;Je<Qe;)bt=j[Je++],De.X[(506832829*bt&4294967295)>>>De.Mb]=bt}else{if(!(bt<_t))break e;for(kt=bt-280,t(De!=null);Je<Qe;)bt=j[Je++],De.X[(506832829*bt&4294967295)>>>De.Mb]=bt;bt=Qe,t(!(kt>>>(Qt=De).Xa)),j[bt]=Qt.X[kt],kt=!0}kt||t(be.h==G(be))}if(x.Pb&&be.h&&Qe<ne)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&_e(x.s.vb,x.s.Wa);else{if(be.h)break e;ce!=null&&ce(x,de>oe?oe:de),x.a=0,x.$=Qe-M}return 1}return x.a=3,0}function Ge(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var j=x.Wa;j!=null&&(j.X=null),x.vb=null,t(x!=null)}function tt(){var x=new Rh;return x==null?null:(x.a=0,x.xb=DP,Pe("Predictor","VP8LPredictors"),Pe("Predictor","VP8LPredictors_C"),Pe("PredictorAdd","VP8LPredictorsAdd"),Pe("PredictorAdd","VP8LPredictorsAdd_C"),vy=ot,dd=ht,ks=ct,ls=Zt,Iu=Ht,wc=Rr,_c=Ir,_.VP8LMapColor32b=Vh,_.VP8LMapColor8b=xy,x)}function Ke(x,j,M,K,ne){var oe=1,ce=[x],de=[j],me=K.m,be=K.s,Ie=null,Qe=0;e:for(;;){if(M)for(;oe&&te(me,1);){var Je=ce,qe=de,_t=K,st=1,De=_t.m,$e=_t.gc[_t.ab],gt=te(De,2);if(_t.Oc&1<<gt)oe=0;else{switch(_t.Oc|=1<<gt,$e.hc=gt,$e.Ea=Je[0],$e.nc=qe[0],$e.K=[null],++_t.ab,t(4>=_t.ab),gt){case 0:case 1:$e.b=te(De,3)+2,st=Ke(Oe($e.Ea,$e.b),Oe($e.nc,$e.b),0,_t,$e.K),$e.K=$e.K[0];break;case 3:var kt,bt=te(De,8)+1,Qt=16<bt?0:4<bt?1:2<bt?2:3;if(Je[0]=Oe($e.Ea,Qt),$e.b=Qt,kt=st=Ke(bt,1,0,_t,$e.K)){var zt,hr=bt,Gt=$e,hn=1<<(8>>Gt.b),xn=i(hn);if(xn==null)kt=0;else{var on=Gt.K[0],Yr=Gt.w;for(xn[0]=Gt.K[0][0],zt=1;zt<1*hr;++zt)xn[zt]=Ve(on[Yr+zt],xn[zt-1]);for(;zt<4*hn;++zt)xn[zt]=0;Gt.K[0]=null,Gt.K[0]=xn,kt=1}}st=kt;break;case 2:break;default:t(0)}oe=st}}if(ce=ce[0],de=de[0],oe&&te(me,1)&&!(oe=1<=(Qe=te(me,4))&&11>=Qe)){K.a=3;break e}var In;if(In=oe)t:{var En,Dr,Na,Cs=K,ka=ce,Ps=de,bn=Qe,Ys=M,Xs=Cs.m,ei=Cs.s,gi=[null],us=1,wo=0,Fl=dY[bn];r:for(;;){if(Ys&&te(Xs,1)){var ti=te(Xs,3)+2,Ec=Oe(ka,ti),vd=Oe(Ps,ti),Gh=Ec*vd;if(!Ke(Ec,vd,0,Cs,gi))break r;for(gi=gi[0],ei.xc=ti,En=0;En<Gh;++En){var Fu=gi[En]>>8&65535;gi[En]=Fu,Fu>=us&&(us=Fu+1)}}if(Xs.h)break r;for(Dr=0;5>Dr;++Dr){var ca=OP[Dr];!Dr&&0<bn&&(ca+=1<<bn),wo<ca&&(wo=ca)}var N_=s(us*Fl,C),zP=us,qP=s(zP,U);if(qP==null)var jy=null;else t(65536>=zP),jy=qP;var Dm=i(wo);if(jy==null||Dm==null||N_==null){Cs.a=1;break r}var Oy=N_;for(En=Na=0;En<us;++En){var el=jy[En],Kh=el.G,Yh=el.H,WP=0,Iy=1,HP=0;for(Dr=0;5>Dr;++Dr){ca=OP[Dr],Kh[Dr]=Oy,Yh[Dr]=Na,!Dr&&0<bn&&(ca+=1<<bn);a:{var Dy,k_=ca,Ly=Cs,Lm=Dm,IY=Oy,DY=Na,C_=0,$u=Ly.m,LY=te($u,1);if(a(Lm,0,0,k_),LY){var MY=te($u,1)+1,RY=te($u,1),GP=te($u,RY==0?1:8);Lm[GP]=1,MY==2&&(Lm[GP=te($u,8)]=1);var My=1}else{var KP=i(19),YP=te($u,4)+4;if(19<YP){Ly.a=3;var Ry=0;break a}for(Dy=0;Dy<YP;++Dy)KP[uY[Dy]]=te($u,3);var P_=void 0,Mm=void 0,XP=Ly,FY=KP,Fy=k_,QP=Lm,j_=0,Bu=XP.m,JP=8,ZP=s(128,C);n:for(;E(ZP,0,7,FY,19);){if(te(Bu,1)){var $Y=2+2*te(Bu,3);if((P_=2+te(Bu,$Y))>Fy)break n}else P_=Fy;for(Mm=0;Mm<Fy&&P_--;){J(Bu);var e6=ZP[0+(127&R(Bu))];Y(Bu,Bu.u+e6.g);var Xh=e6.value;if(16>Xh)QP[Mm++]=Xh,Xh!=0&&(JP=Xh);else{var BY=Xh==16,t6=Xh-16,UY=lY[t6],r6=te(Bu,oY[t6])+UY;if(Mm+r6>Fy)break n;for(var VY=BY?JP:0;0<r6--;)QP[Mm++]=VY}}j_=1;break n}j_||(XP.a=3),My=j_}(My=My&&!$u.h)&&(C_=E(IY,DY,8,Lm,k_)),My&&C_!=0?Ry=C_:(Ly.a=3,Ry=0)}if(Ry==0)break r;if(Iy&&cY[Dr]==1&&(Iy=Oy[Na].g==0),WP+=Oy[Na].g,Na+=Ry,3>=Dr){var Rm,O_=Dm[0];for(Rm=1;Rm<ca;++Rm)Dm[Rm]>O_&&(O_=Dm[Rm]);HP+=O_}}if(el.nd=Iy,el.Qb=0,Iy&&(el.qb=(Kh[3][Yh[3]+0].value<<24|Kh[1][Yh[1]+0].value<<16|Kh[2][Yh[2]+0].value)>>>0,WP==0&&256>Kh[0][Yh[0]+0].value&&(el.Qb=1,el.qb+=Kh[0][Yh[0]+0].value<<8)),el.jc=!el.Qb&&6>HP,el.jc){var $y,Nc=el;for($y=0;$y<mi;++$y){var Uu=$y,Vu=Nc.pd[Uu],By=Nc.G[0][Nc.H[0]+Uu];256<=By.value?(Vu.g=By.g+256,Vu.value=By.value):(Vu.g=0,Vu.value=0,Uu>>=it(By,8,Vu),Uu>>=it(Nc.G[1][Nc.H[1]+Uu],16,Vu),Uu>>=it(Nc.G[2][Nc.H[2]+Uu],0,Vu),it(Nc.G[3][Nc.H[3]+Uu],24,Vu))}}}ei.vc=gi,ei.Wb=us,ei.Ya=jy,ei.yc=N_,In=1;break t}In=0}if(!(oe=In)){K.a=3;break e}if(0<Qe){if(be.ua=1<<Qe,!ke(be.Wa,Qe)){K.a=1,oe=0;break e}}else be.ua=0;var I_=K,n6=ce,zY=de,D_=I_.s,L_=D_.xc;if(I_.c=n6,I_.i=zY,D_.md=Oe(n6,L_),D_.wc=L_==0?-1:(1<<L_)-1,M){K.xb=bY;break e}if((Ie=i(ce*de))==null){K.a=1,oe=0;break e}oe=(oe=we(K,Ie,0,ce,de,de,null))&&!me.h;break e}return oe?(ne!=null?ne[0]=Ie:(t(Ie==null),t(M)),K.$=0,M||Ge(be)):Ge(be),oe}function Ye(x,j){var M=x.c*x.i,K=M+j+16*j;return t(x.c<=j),x.V=i(K),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+j,1)}function Ze(x,j){var M=x.C,K=j-M,ne=x.V,oe=x.Ba+x.c*M;for(t(j<=x.l.o);0<K;){var ce=16<K?16:K,de=x.l.ma,me=x.l.width,be=me*ce,Ie=de.ca,Qe=de.tb+me*M,Je=x.Ta,qe=x.Ua;ee(x,ce,ne,oe),ya(Je,qe,Ie,Qe,be),ge(de,M,M+ce,Ie,Qe,me),K-=ce,ne+=ce*x.c,M+=ce}t(M==j),x.C=x.Ma=j}function Tt(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function It(){this.Yb=function(){var x=[];return function j(M,K,ne){for(var oe=ne[K],ce=0;ce<oe&&(M.push(ne.length>K+1?[]:0),!(ne.length<K+1));ce++)j(M[ce],K+1,ne)}(x,0,[3,11]),x}()}function Bt(){this.jb=i(3),this.Wc=o([4,8],It),this.Xc=o([4,17],It)}function dr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function Hr(){this.Na=this.la=0}function sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function di(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new di),this.aa=0,this.l=new ss}function is(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ji(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new Tt,this.Kc=new Mt,this.ed=new dr,this.Qa=new Vt,this.Ic=this.$c=this.Aa=0,this.D=new qs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,sn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new is),this.Hd=0,this.rb=Array(new Hr),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new di),this.L=this.aa=0,this.gd=o([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ss(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ba(){var x=new ji;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Om||(Om=mc)),x}function Cn(x,j,M){return x.a==0&&(x.a=j,x.sc=M,x.cb=0),0}function hc(x,j,M){return 3<=M&&x[j+0]==157&&x[j+1]==1&&x[j+2]==42}function pc(x,j){if(x==null)return 0;if(x.a=0,x.sc="OK",j==null)return Cn(x,2,"null VP8Io passed to VP8GetHeaders()");var M=j.data,K=j.w,ne=j.ha;if(4>ne)return Cn(x,7,"Truncated header.");var oe=M[K+0]|M[K+1]<<8|M[K+2]<<16,ce=x.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return Cn(x,3,"Incorrect keyframe parameters.");if(!ce.yd)return Cn(x,4,"Frame not displayable.");K+=3,ne-=3;var de=x.Kc;if(ce.Rb){if(7>ne)return Cn(x,7,"cannot parse picture header");if(!hc(M,K,ne))return Cn(x,3,"Bad code word");de.c=16383&(M[K+4]<<8|M[K+3]),de.Td=M[K+4]>>6,de.i=16383&(M[K+6]<<8|M[K+5]),de.Ud=M[K+6]>>6,K+=7,ne-=7,x.za=de.c+15>>4,x.Ub=de.i+15>>4,j.width=de.c,j.height=de.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,a((oe=x.Pa).jb,0,255,oe.jb.length),t((oe=x.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(ce.ub>ne)return Cn(x,7,"bad partition length");X(oe=x.m,M,K,ce.ub),K+=ce.ub,ne-=ce.ub,ce.Rb&&(de.Ld=ue(oe),de.Kd=ue(oe)),de=x.Qa;var me,be=x.Pa;if(t(oe!=null),t(de!=null),de.Cb=ue(oe),de.Cb){if(de.Bb=ue(oe),ue(oe)){for(de.Fb=ue(oe),me=0;4>me;++me)de.Zb[me]=ue(oe)?H(oe,7):0;for(me=0;4>me;++me)de.Lb[me]=ue(oe)?H(oe,6):0}if(de.Bb)for(me=0;3>me;++me)be.jb[me]=ue(oe)?z(oe,8):255}else de.Bb=0;if(oe.Ka)return Cn(x,3,"cannot parse segment header");if((de=x.ed).zd=ue(oe),de.Tb=z(oe,6),de.wb=z(oe,3),de.Pc=ue(oe),de.Pc&&ue(oe)){for(be=0;4>be;++be)ue(oe)&&(de.vd[be]=H(oe,6));for(be=0;4>be;++be)ue(oe)&&(de.od[be]=H(oe,6))}if(x.L=de.Tb==0?0:de.zd?1:2,oe.Ka)return Cn(x,3,"cannot parse filter header");var Ie=ne;if(ne=me=K,K=me+Ie,de=Ie,x.Xb=(1<<z(x.m,2))-1,Ie<3*(be=x.Xb))M=7;else{for(me+=3*be,de-=3*be,Ie=0;Ie<be;++Ie){var Qe=M[ne+0]|M[ne+1]<<8|M[ne+2]<<16;Qe>de&&(Qe=de),X(x.Jc[+Ie],M,me,Qe),me+=Qe,de-=Qe,ne+=3}X(x.Jc[+be],M,me,de),M=me<K?0:5}if(M!=0)return Cn(x,M,"cannot parse partitions");for(M=z(me=x.m,7),ne=ue(me)?H(me,4):0,K=ue(me)?H(me,4):0,de=ue(me)?H(me,4):0,be=ue(me)?H(me,4):0,me=ue(me)?H(me,4):0,Ie=x.Qa,Qe=0;4>Qe;++Qe){if(Ie.Cb){var Je=Ie.Zb[Qe];Ie.Fb||(Je+=M)}else{if(0<Qe){x.pb[Qe]=x.pb[0];continue}Je=M}var qe=x.pb[Qe];qe.Sc[0]=A_[vn(Je+ne,127)],qe.Sc[1]=T_[vn(Je+0,127)],qe.Eb[0]=2*A_[vn(Je+K,127)],qe.Eb[1]=101581*T_[vn(Je+de,127)]>>16,8>qe.Eb[1]&&(qe.Eb[1]=8),qe.Qc[0]=A_[vn(Je+be,117)],qe.Qc[1]=T_[vn(Je+me,127)],qe.lc=Je+me}if(!ce.Rb)return Cn(x,4,"Not a key frame.");for(ue(oe),ce=x.Pa,M=0;4>M;++M){for(ne=0;8>ne;++ne)for(K=0;3>K;++K)for(de=0;11>de;++de)be=ae(oe,yY[M][ne][K][de])?z(oe,8):gY[M][ne][K][de],ce.Wc[M][ne].Yb[K][de]=be;for(ne=0;17>ne;++ne)ce.Xc[M][ne]=ce.Wc[M][xY[ne]]}return x.kc=ue(oe),x.kc&&(x.Bd=z(oe,8)),x.cb=1}function mc(x,j,M,K,ne,oe,ce){var de=j[ne].Yb[M];for(M=0;16>ne;++ne){if(!ae(x,de[M+0]))return ne;for(;!ae(x,de[M+1]);)if(de=j[++ne].Yb[0],M=0,ne==16)return 16;var me=j[ne+1].Yb;if(ae(x,de[M+2])){var be=x,Ie=0;if(ae(be,(Je=de)[(Qe=M)+3]))if(ae(be,Je[Qe+6])){for(de=0,Qe=2*(Ie=ae(be,Je[Qe+8]))+(Je=ae(be,Je[Qe+9+Ie])),Ie=0,Je=pY[Qe];Je[de];++de)Ie+=Ie+ae(be,Je[de]);Ie+=3+(8<<Qe)}else ae(be,Je[Qe+7])?(Ie=7+2*ae(be,165),Ie+=ae(be,145)):Ie=5+ae(be,159);else Ie=ae(be,Je[Qe+4])?3+ae(be,Je[Qe+5]):2;de=me[2]}else Ie=1,de=me[1];me=ce+mY[ne],0>(be=x).b&&se(be);var Qe,Je=be.b,qe=(Qe=be.Ca>>1)-(be.I>>Je)>>31;--be.b,be.Ca+=qe,be.Ca|=1,be.I-=(Qe+1&qe)<<Je,oe[me]=((Ie^qe)-qe)*K[(0<ne)+0]}return 16}function gc(x){var j=x.rb[x.sb-1];j.la=0,j.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function ie(x,j){if(x==null)return 0;if(j==null)return Cn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!pc(x,j))return 0;if(t(x.cb),j.ac==null||j.ac(j)){j.ob&&(x.L=0);var M=Py[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=j.v-M>>4,x.zb=j.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=j.o+15+M>>4,x.Hb=j.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var K=x.ed;for(M=0;4>M;++M){var ne;if(x.Qa.Cb){var oe=x.Qa.Lb[M];x.Qa.Fb||(oe+=K.Tb)}else oe=K.Tb;for(ne=0;1>=ne;++ne){var ce=x.gd[M][ne],de=oe;if(K.Pc&&(de+=K.vd[0],ne&&(de+=K.od[0])),0<(de=0>de?0:63<de?63:de)){var me=de;0<K.wb&&(me=4<K.wb?me>>2:me>>1)>9-K.wb&&(me=9-K.wb),1>me&&(me=1),ce.dd=me,ce.tc=2*de+me,ce.ld=40<=de?2:15<=de?1:0}else ce.tc=0;ce.La=ne}}}M=0}else Cn(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=OY);e:{M=x.Ic,K=4*(me=x.za);var be=32*me,Ie=me+1,Qe=0<x.L?me*(0<x.Aa?2:1):0,Je=(x.Aa==2?2:1)*me;if((ce=K+832+(ne=3*(16*M+Py[x.L])/2*be)+(oe=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=ce)M=0;else{if(ce>x.Vb){if(x.Vb=0,x.Ec=i(ce),x.Fc=0,x.Ec==null){M=Cn(x,1,"no memory during frame initialization.");break e}x.Vb=ce}ce=x.Ec,de=x.Fc,x.Ac=ce,x.Bc=de,de+=K,x.Gd=s(be,is),x.Hd=0,x.rb=s(Ie+1,Hr),x.sb=1,x.wa=Qe?s(Qe,Vr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=me),t(!0),x.oc=ce,x.pc=de,de+=832,x.ya=s(Je,di),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=me),x.R=16*me,x.B=8*me,me=(be=Py[x.L])*x.R,be=be/2*x.B,x.sa=ce,x.ta=de+me,x.qa=x.sa,x.ra=x.ta+16*M*x.R+be,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+be,x.$c=0,de+=ne,x.mb=oe?ce:null,x.nb=oe?de:null,t(de+oe<=x.Fc+x.Vb),gc(x),a(x.Ac,x.Bc,0,K),M=1}}if(M){if(j.ka=0,j.y=x.sa,j.O=x.ta,j.f=x.qa,j.N=x.ra,j.ea=x.Ha,j.Vd=x.Ia,j.fa=x.R,j.Rc=x.B,j.F=null,j.J=0,!wy){for(M=-255;255>=M;++M)Va[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)Ac[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)jm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Hh[255+M]=0>M?0:255<M?255:M;wy=1}zh=Nr,Sc=Ot,km=Rt,cs=Et,go=ar,va=dt,qh=Au,by=Xo,Cm=Eu,hd=fd,pd=Tu,Du=yc,md=Nu,Wh=Dl,gd=vc,Lu=Gs,Pm=Ua,vo=Mh,Zo[0]=po,Zo[1]=Fn,Zo[2]=Ol,Zo[3]=Sm,Zo[4]=Dh,Zo[5]=bu,Zo[6]=Ws,Zo[7]=id,Zo[8]=_u,Zo[9]=wu,Mu[0]=os,Mu[1]=Gr,Mu[2]=Tn,Mu[3]=Za,Mu[4]=jn,Mu[5]=xu,Mu[6]=ad,Tc[0]=Yo,Tc[1]=Pn,Tc[2]=Lh,Tc[3]=Ko,Tc[4]=gn,Tc[5]=sd,Tc[6]=od,M=1}else M=0}M&&(M=function(qe,_t){for(qe.M=0;qe.M<qe.Va;++qe.M){var st,De=qe.Jc[qe.M&qe.Xb],$e=qe.m,gt=qe;for(st=0;st<gt.za;++st){var kt=$e,bt=gt,Qt=bt.Ac,zt=bt.Bc+4*st,hr=bt.zc,Gt=bt.ya[bt.aa+st];if(bt.Qa.Bb?Gt.$b=ae(kt,bt.Pa.jb[0])?2+ae(kt,bt.Pa.jb[2]):ae(kt,bt.Pa.jb[1]):Gt.$b=0,bt.kc&&(Gt.Ad=ae(kt,bt.Bd)),Gt.Za=!ae(kt,145)+0,Gt.Za){var hn=Gt.Ob,xn=0;for(bt=0;4>bt;++bt){var on,Yr=hr[0+bt];for(on=0;4>on;++on){Yr=vY[Qt[zt+on]][Yr];for(var In=IP[ae(kt,Yr[0])];0<In;)In=IP[2*In+ae(kt,Yr[In])];Yr=-In,Qt[zt+on]=Yr}n(hn,xn,Qt,zt,4),xn+=4,hr[0+bt]=Yr}}else Yr=ae(kt,156)?ae(kt,128)?1:3:ae(kt,163)?2:0,Gt.Ob[0]=Yr,a(Qt,zt,Yr,4),a(hr,0,Yr,4);Gt.Dd=ae(kt,142)?ae(kt,114)?ae(kt,183)?1:3:2:0}if(gt.m.Ka)return Cn(qe,7,"Premature end-of-partition0 encountered.");for(;qe.ja<qe.za;++qe.ja){if(gt=De,kt=($e=qe).rb[$e.sb-1],Qt=$e.rb[$e.sb+$e.ja],st=$e.ya[$e.aa+$e.ja],zt=$e.kc?st.Ad:0)kt.la=Qt.la=0,st.Za||(kt.Na=Qt.Na=0),st.Hc=0,st.Gc=0,st.ia=0;else{var En,Dr;if(kt=Qt,Qt=gt,zt=$e.Pa.Xc,hr=$e.ya[$e.aa+$e.ja],Gt=$e.pb[hr.$b],bt=hr.ad,hn=0,xn=$e.rb[$e.sb-1],Yr=on=0,a(bt,hn,0,384),hr.Za)var Na=0,Cs=zt[3];else{In=i(16);var ka=kt.Na+xn.Na;if(ka=Om(Qt,zt[1],ka,Gt.Eb,0,In,0),kt.Na=xn.Na=(0<ka)+0,1<ka)zh(In,0,bt,hn);else{var Ps=In[0]+3>>3;for(In=0;256>In;In+=16)bt[hn+In]=Ps}Na=1,Cs=zt[0]}var bn=15&kt.la,Ys=15&xn.la;for(In=0;4>In;++In){var Xs=1&Ys;for(Ps=Dr=0;4>Ps;++Ps)bn=bn>>1|(Xs=(ka=Om(Qt,Cs,ka=Xs+(1&bn),Gt.Sc,Na,bt,hn))>Na)<<7,Dr=Dr<<2|(3<ka?3:1<ka?2:bt[hn+0]!=0),hn+=16;bn>>=4,Ys=Ys>>1|Xs<<7,on=(on<<8|Dr)>>>0}for(Cs=bn,Na=Ys>>4,En=0;4>En;En+=2){for(Dr=0,bn=kt.la>>4+En,Ys=xn.la>>4+En,In=0;2>In;++In){for(Xs=1&Ys,Ps=0;2>Ps;++Ps)ka=Xs+(1&bn),bn=bn>>1|(Xs=0<(ka=Om(Qt,zt[2],ka,Gt.Qc,0,bt,hn)))<<3,Dr=Dr<<2|(3<ka?3:1<ka?2:bt[hn+0]!=0),hn+=16;bn>>=2,Ys=Ys>>1|Xs<<5}Yr|=Dr<<4*En,Cs|=bn<<4<<En,Na|=(240&Ys)<<En}kt.la=Cs,xn.la=Na,hr.Hc=on,hr.Gc=Yr,hr.ia=43690&Yr?0:Gt.ia,zt=!(on|Yr)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[st.$b][st.Za],$e.wa[$e.Y+$e.ja].La|=!zt),gt.Ka)return Cn(qe,7,"Premature end-of-file encountered.")}if(gc(qe),$e=_t,gt=1,st=(De=qe).D,kt=0<De.L&&De.M>=De.zb&&De.M<=De.Va,De.Aa==0)e:{if(st.M=De.M,st.uc=kt,Ml(De,st),gt=1,st=(Dr=De.D).Nb,kt=(Yr=Py[De.L])*De.R,Qt=Yr/2*De.B,In=16*st*De.R,Ps=8*st*De.B,zt=De.sa,hr=De.ta-kt+In,Gt=De.qa,bt=De.ra-Qt+Ps,hn=De.Ha,xn=De.Ia-Qt+Ps,Ys=(bn=Dr.M)==0,on=bn>=De.Va-1,De.Aa==2&&Ml(De,Dr),Dr.uc)for(Xs=(ka=De).D.M,t(ka.D.uc),Dr=ka.yb;Dr<ka.Hb;++Dr){Na=Dr,Cs=Xs;var ei=(gi=(ca=ka).D).Nb;En=ca.R;var gi=gi.wa[gi.Y+Na],us=ca.sa,wo=ca.ta+16*ei*En+16*Na,Fl=gi.dd,ti=gi.tc;if(ti!=0)if(t(3<=ti),ca.L==1)0<Na&&Lu(us,wo,En,ti+4),gi.La&&vo(us,wo,En,ti),0<Cs&&gd(us,wo,En,ti+4),gi.La&&Pm(us,wo,En,ti);else{var Ec=ca.B,vd=ca.qa,Gh=ca.ra+8*ei*Ec+8*Na,Fu=ca.Ha,ca=ca.Ia+8*ei*Ec+8*Na;ei=gi.ld,0<Na&&(by(us,wo,En,ti+4,Fl,ei),hd(vd,Gh,Fu,ca,Ec,ti+4,Fl,ei)),gi.La&&(Du(us,wo,En,ti,Fl,ei),Wh(vd,Gh,Fu,ca,Ec,ti,Fl,ei)),0<Cs&&(qh(us,wo,En,ti+4,Fl,ei),Cm(vd,Gh,Fu,ca,Ec,ti+4,Fl,ei)),gi.La&&(pd(us,wo,En,ti,Fl,ei),md(vd,Gh,Fu,ca,Ec,ti,Fl,ei))}}if(De.ia&&alert("todo:DitherRow"),$e.put!=null){if(Dr=16*bn,bn=16*(bn+1),Ys?($e.y=De.sa,$e.O=De.ta+In,$e.f=De.qa,$e.N=De.ra+Ps,$e.ea=De.Ha,$e.W=De.Ia+Ps):(Dr-=Yr,$e.y=zt,$e.O=hr,$e.f=Gt,$e.N=bt,$e.ea=hn,$e.W=xn),on||(bn-=Yr),bn>$e.o&&(bn=$e.o),$e.F=null,$e.J=null,De.Fa!=null&&0<De.Fa.length&&Dr<bn&&($e.J=ju(De,$e,Dr,bn-Dr),$e.F=De.mb,$e.F==null&&$e.F.length==0)){gt=Cn(De,3,"Could not decode alpha data.");break e}Dr<$e.j&&(Yr=$e.j-Dr,Dr=$e.j,t(!(1&Yr)),$e.O+=De.R*Yr,$e.N+=De.B*(Yr>>1),$e.W+=De.B*(Yr>>1),$e.F!=null&&($e.J+=$e.width*Yr)),Dr<bn&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,$e.F!=null&&($e.J+=$e.v),$e.ka=Dr-$e.j,$e.U=$e.va-$e.v,$e.T=bn-Dr,gt=$e.put($e))}st+1!=De.Ic||on||(n(De.sa,De.ta-kt,zt,hr+16*De.R,kt),n(De.qa,De.ra-Qt,Gt,bt+8*De.B,Qt),n(De.Ha,De.Ia-Qt,hn,xn+8*De.B,Qt))}if(!gt)return Cn(qe,6,"Output aborted.")}return 1}(x,j)),j.bc!=null&&j.bc(j),M&=1}return M?(x.cb=0,M):0}function Te(x,j,M,K,ne){ne=x[j+M+32*K]+(ne>>3),x[j+M+32*K]=-256&ne?0>ne?0:255:ne}function St(x,j,M,K,ne,oe){Te(x,j,0,M,K+ne),Te(x,j,1,M,K+oe),Te(x,j,2,M,K-oe),Te(x,j,3,M,K-ne)}function $t(x){return(20091*x>>16)+x}function pt(x,j,M,K){var ne,oe=0,ce=i(16);for(ne=0;4>ne;++ne){var de=x[j+0]+x[j+8],me=x[j+0]-x[j+8],be=(35468*x[j+4]>>16)-$t(x[j+12]),Ie=$t(x[j+4])+(35468*x[j+12]>>16);ce[oe+0]=de+Ie,ce[oe+1]=me+be,ce[oe+2]=me-be,ce[oe+3]=de-Ie,oe+=4,j++}for(ne=oe=0;4>ne;++ne)de=(x=ce[oe+0]+4)+ce[oe+8],me=x-ce[oe+8],be=(35468*ce[oe+4]>>16)-$t(ce[oe+12]),Te(M,K,0,0,de+(Ie=$t(ce[oe+4])+(35468*ce[oe+12]>>16))),Te(M,K,1,0,me+be),Te(M,K,2,0,me-be),Te(M,K,3,0,de-Ie),oe++,K+=32}function dt(x,j,M,K){var ne=x[j+0]+4,oe=35468*x[j+4]>>16,ce=$t(x[j+4]),de=35468*x[j+1]>>16;St(M,K,0,ne+ce,x=$t(x[j+1]),de),St(M,K,1,ne+oe,x,de),St(M,K,2,ne-oe,x,de),St(M,K,3,ne-ce,x,de)}function Ot(x,j,M,K,ne){pt(x,j,M,K),ne&&pt(x,j+16,M,K+4)}function Rt(x,j,M,K){Sc(x,j+0,M,K,1),Sc(x,j+32,M,K+128,1)}function Et(x,j,M,K){var ne;for(x=x[j+0]+4,ne=0;4>ne;++ne)for(j=0;4>j;++j)Te(M,K,j,ne,x)}function ar(x,j,M,K){x[j+0]&&cs(x,j+0,M,K),x[j+16]&&cs(x,j+16,M,K+4),x[j+32]&&cs(x,j+32,M,K+128),x[j+48]&&cs(x,j+48,M,K+128+4)}function Nr(x,j,M,K){var ne,oe=i(16);for(ne=0;4>ne;++ne){var ce=x[j+0+ne]+x[j+12+ne],de=x[j+4+ne]+x[j+8+ne],me=x[j+4+ne]-x[j+8+ne],be=x[j+0+ne]-x[j+12+ne];oe[0+ne]=ce+de,oe[8+ne]=ce-de,oe[4+ne]=be+me,oe[12+ne]=be-me}for(ne=0;4>ne;++ne)ce=(x=oe[0+4*ne]+3)+oe[3+4*ne],de=oe[1+4*ne]+oe[2+4*ne],me=oe[1+4*ne]-oe[2+4*ne],be=x-oe[3+4*ne],M[K+0]=ce+de>>3,M[K+16]=be+me>>3,M[K+32]=ce-de>>3,M[K+48]=be-me>>3,K+=64}function pr(x,j,M){var K,ne=j-32,oe=Ks,ce=255-x[ne-1];for(K=0;K<M;++K){var de,me=oe,be=ce+x[j-1];for(de=0;de<M;++de)x[j+de]=me[be+x[ne+de]];j+=32}}function Fn(x,j){pr(x,j,4)}function Pn(x,j){pr(x,j,8)}function Gr(x,j){pr(x,j,16)}function Tn(x,j){var M;for(M=0;16>M;++M)n(x,j+32*M,x,j-32,16)}function Za(x,j){var M;for(M=16;0<M;--M)a(x,j,x[j-1],16),j+=32}function Wn(x,j,M){var K;for(K=0;16>K;++K)a(j,M+32*K,x,16)}function os(x,j){var M,K=16;for(M=0;16>M;++M)K+=x[j-1+32*M]+x[j+M-32];Wn(K>>5,x,j)}function jn(x,j){var M,K=8;for(M=0;16>M;++M)K+=x[j-1+32*M];Wn(K>>4,x,j)}function xu(x,j){var M,K=8;for(M=0;16>M;++M)K+=x[j+M-32];Wn(K>>4,x,j)}function ad(x,j){Wn(128,x,j)}function wr(x,j,M){return x+2*j+M+2>>2}function Ol(x,j){var M,K=j-32;for(K=new Uint8Array([wr(x[K-1],x[K+0],x[K+1]),wr(x[K+0],x[K+1],x[K+2]),wr(x[K+1],x[K+2],x[K+3]),wr(x[K+2],x[K+3],x[K+4])]),M=0;4>M;++M)n(x,j+32*M,K,0,K.length)}function Sm(x,j){var M=x[j-1],K=x[j-1+32],ne=x[j-1+64],oe=x[j-1+96];he(x,j+0,16843009*wr(x[j-1-32],M,K)),he(x,j+32,16843009*wr(M,K,ne)),he(x,j+64,16843009*wr(K,ne,oe)),he(x,j+96,16843009*wr(ne,oe,oe))}function po(x,j){var M,K=4;for(M=0;4>M;++M)K+=x[j+M-32]+x[j-1+32*M];for(K>>=3,M=0;4>M;++M)a(x,j+32*M,K,4)}function Dh(x,j){var M=x[j-1+0],K=x[j-1+32],ne=x[j-1+64],oe=x[j-1-32],ce=x[j+0-32],de=x[j+1-32],me=x[j+2-32],be=x[j+3-32];x[j+0+96]=wr(K,ne,x[j-1+96]),x[j+1+96]=x[j+0+64]=wr(M,K,ne),x[j+2+96]=x[j+1+64]=x[j+0+32]=wr(oe,M,K),x[j+3+96]=x[j+2+64]=x[j+1+32]=x[j+0+0]=wr(ce,oe,M),x[j+3+64]=x[j+2+32]=x[j+1+0]=wr(de,ce,oe),x[j+3+32]=x[j+2+0]=wr(me,de,ce),x[j+3+0]=wr(be,me,de)}function Ws(x,j){var M=x[j+1-32],K=x[j+2-32],ne=x[j+3-32],oe=x[j+4-32],ce=x[j+5-32],de=x[j+6-32],me=x[j+7-32];x[j+0+0]=wr(x[j+0-32],M,K),x[j+1+0]=x[j+0+32]=wr(M,K,ne),x[j+2+0]=x[j+1+32]=x[j+0+64]=wr(K,ne,oe),x[j+3+0]=x[j+2+32]=x[j+1+64]=x[j+0+96]=wr(ne,oe,ce),x[j+3+32]=x[j+2+64]=x[j+1+96]=wr(oe,ce,de),x[j+3+64]=x[j+2+96]=wr(ce,de,me),x[j+3+96]=wr(de,me,me)}function bu(x,j){var M=x[j-1+0],K=x[j-1+32],ne=x[j-1+64],oe=x[j-1-32],ce=x[j+0-32],de=x[j+1-32],me=x[j+2-32],be=x[j+3-32];x[j+0+0]=x[j+1+64]=oe+ce+1>>1,x[j+1+0]=x[j+2+64]=ce+de+1>>1,x[j+2+0]=x[j+3+64]=de+me+1>>1,x[j+3+0]=me+be+1>>1,x[j+0+96]=wr(ne,K,M),x[j+0+64]=wr(K,M,oe),x[j+0+32]=x[j+1+96]=wr(M,oe,ce),x[j+1+32]=x[j+2+96]=wr(oe,ce,de),x[j+2+32]=x[j+3+96]=wr(ce,de,me),x[j+3+32]=wr(de,me,be)}function id(x,j){var M=x[j+0-32],K=x[j+1-32],ne=x[j+2-32],oe=x[j+3-32],ce=x[j+4-32],de=x[j+5-32],me=x[j+6-32],be=x[j+7-32];x[j+0+0]=M+K+1>>1,x[j+1+0]=x[j+0+64]=K+ne+1>>1,x[j+2+0]=x[j+1+64]=ne+oe+1>>1,x[j+3+0]=x[j+2+64]=oe+ce+1>>1,x[j+0+32]=wr(M,K,ne),x[j+1+32]=x[j+0+96]=wr(K,ne,oe),x[j+2+32]=x[j+1+96]=wr(ne,oe,ce),x[j+3+32]=x[j+2+96]=wr(oe,ce,de),x[j+3+64]=wr(ce,de,me),x[j+3+96]=wr(de,me,be)}function wu(x,j){var M=x[j-1+0],K=x[j-1+32],ne=x[j-1+64],oe=x[j-1+96];x[j+0+0]=M+K+1>>1,x[j+2+0]=x[j+0+32]=K+ne+1>>1,x[j+2+32]=x[j+0+64]=ne+oe+1>>1,x[j+1+0]=wr(M,K,ne),x[j+3+0]=x[j+1+32]=wr(K,ne,oe),x[j+3+32]=x[j+1+64]=wr(ne,oe,oe),x[j+3+64]=x[j+2+64]=x[j+0+96]=x[j+1+96]=x[j+2+96]=x[j+3+96]=oe}function _u(x,j){var M=x[j-1+0],K=x[j-1+32],ne=x[j-1+64],oe=x[j-1+96],ce=x[j-1-32],de=x[j+0-32],me=x[j+1-32],be=x[j+2-32];x[j+0+0]=x[j+2+32]=M+ce+1>>1,x[j+0+32]=x[j+2+64]=K+M+1>>1,x[j+0+64]=x[j+2+96]=ne+K+1>>1,x[j+0+96]=oe+ne+1>>1,x[j+3+0]=wr(de,me,be),x[j+2+0]=wr(ce,de,me),x[j+1+0]=x[j+3+32]=wr(M,ce,de),x[j+1+32]=x[j+3+64]=wr(K,M,ce),x[j+1+64]=x[j+3+96]=wr(ne,K,M),x[j+1+96]=wr(oe,ne,K)}function Lh(x,j){var M;for(M=0;8>M;++M)n(x,j+32*M,x,j-32,8)}function Ko(x,j){var M;for(M=0;8>M;++M)a(x,j,x[j-1],8),j+=32}function Hs(x,j,M){var K;for(K=0;8>K;++K)a(j,M+32*K,x,8)}function Yo(x,j){var M,K=8;for(M=0;8>M;++M)K+=x[j+M-32]+x[j-1+32*M];Hs(K>>4,x,j)}function sd(x,j){var M,K=4;for(M=0;8>M;++M)K+=x[j+M-32];Hs(K>>3,x,j)}function gn(x,j){var M,K=4;for(M=0;8>M;++M)K+=x[j-1+32*M];Hs(K>>3,x,j)}function od(x,j){Hs(128,x,j)}function Su(x,j,M){var K=x[j-M],ne=x[j+0],oe=3*(ne-K)+x_[1020+x[j-2*M]-x[j+M]],ce=_y[112+(oe+4>>3)];x[j-M]=Ks[255+K+_y[112+(oe+3>>3)]],x[j+0]=Ks[255+ne-ce]}function ld(x,j,M,K){var ne=x[j+0],oe=x[j+M];return xo[255+x[j-2*M]-x[j-M]]>K||xo[255+oe-ne]>K}function cd(x,j,M,K){return 4*xo[255+x[j-M]-x[j+0]]+xo[255+x[j-2*M]-x[j+M]]<=K}function ud(x,j,M,K,ne){var oe=x[j-3*M],ce=x[j-2*M],de=x[j-M],me=x[j+0],be=x[j+M],Ie=x[j+2*M],Qe=x[j+3*M];return 4*xo[255+de-me]+xo[255+ce-be]>K?0:xo[255+x[j-4*M]-oe]<=ne&&xo[255+oe-ce]<=ne&&xo[255+ce-de]<=ne&&xo[255+Qe-Ie]<=ne&&xo[255+Ie-be]<=ne&&xo[255+be-me]<=ne}function vc(x,j,M,K){var ne=2*K+1;for(K=0;16>K;++K)cd(x,j+K,M,ne)&&Su(x,j+K,M)}function Gs(x,j,M,K){var ne=2*K+1;for(K=0;16>K;++K)cd(x,j+K*M,1,ne)&&Su(x,j+K*M,1)}function Ua(x,j,M,K){var ne;for(ne=3;0<ne;--ne)vc(x,j+=4*M,M,K)}function Mh(x,j,M,K){var ne;for(ne=3;0<ne;--ne)Gs(x,j+=4,M,K)}function Il(x,j,M,K,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(ud(x,j,M,oe,ce))if(ld(x,j,M,de))Su(x,j,M);else{var me=x,be=j,Ie=M,Qe=me[be-2*Ie],Je=me[be-Ie],qe=me[be+0],_t=me[be+Ie],st=me[be+2*Ie],De=27*(gt=x_[1020+3*(qe-Je)+x_[1020+Qe-_t]])+63>>7,$e=18*gt+63>>7,gt=9*gt+63>>7;me[be-3*Ie]=Ks[255+me[be-3*Ie]+gt],me[be-2*Ie]=Ks[255+Qe+$e],me[be-Ie]=Ks[255+Je+De],me[be+0]=Ks[255+qe-De],me[be+Ie]=Ks[255+_t-$e],me[be+2*Ie]=Ks[255+st-gt]}j+=K}}function hi(x,j,M,K,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(ud(x,j,M,oe,ce))if(ld(x,j,M,de))Su(x,j,M);else{var me=x,be=j,Ie=M,Qe=me[be-Ie],Je=me[be+0],qe=me[be+Ie],_t=_y[112+((st=3*(Je-Qe))+4>>3)],st=_y[112+(st+3>>3)],De=_t+1>>1;me[be-2*Ie]=Ks[255+me[be-2*Ie]+De],me[be-Ie]=Ks[255+Qe+st],me[be+0]=Ks[255+Je-_t],me[be+Ie]=Ks[255+qe-De]}j+=K}}function Au(x,j,M,K,ne,oe){Il(x,j,M,1,16,K,ne,oe)}function Xo(x,j,M,K,ne,oe){Il(x,j,1,M,16,K,ne,oe)}function Tu(x,j,M,K,ne,oe){var ce;for(ce=3;0<ce;--ce)hi(x,j+=4*M,M,1,16,K,ne,oe)}function yc(x,j,M,K,ne,oe){var ce;for(ce=3;0<ce;--ce)hi(x,j+=4,1,M,16,K,ne,oe)}function Eu(x,j,M,K,ne,oe,ce,de){Il(x,j,ne,1,8,oe,ce,de),Il(M,K,ne,1,8,oe,ce,de)}function fd(x,j,M,K,ne,oe,ce,de){Il(x,j,1,ne,8,oe,ce,de),Il(M,K,1,ne,8,oe,ce,de)}function Nu(x,j,M,K,ne,oe,ce,de){hi(x,j+4*ne,ne,1,8,oe,ce,de),hi(M,K+4*ne,ne,1,8,oe,ce,de)}function Dl(x,j,M,K,ne,oe,ce,de){hi(x,j+4,1,ne,8,oe,ce,de),hi(M,K+4,1,ne,8,oe,ce,de)}function xc(){this.ba=new Nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ku(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Cu(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new C}function Rh(){this.xb=this.a=0,this.l=new ss,this.ca=new Nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Cu,this.ab=0,this.gc=s(4,bc),this.Oc=0}function Qo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ss,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ll(x,j,M,K,ne,oe,ce){for(x=x==null?0:x[j+0],j=0;j<ce;++j)ne[oe+j]=x+M[K+j]&255,x=ne[oe+j]}function Pu(x,j,M,K,ne,oe,ce){var de;if(x==null)Ll(null,null,M,K,ne,oe,ce);else for(de=0;de<ce;++de)ne[oe+de]=x[j+de]+M[K+de]&255}function Oi(x,j,M,K,ne,oe,ce){if(x==null)Ll(null,null,M,K,ne,oe,ce);else{var de,me=x[j+0],be=me,Ie=me;for(de=0;de<ce;++de)be=Ie+(me=x[j+de])-be,Ie=M[K+de]+(-256&be?0>be?0:255:be)&255,be=me,ne[oe+de]=Ie}}function ju(x,j,M,K){var ne=j.width,oe=j.o;if(t(x!=null&&j!=null),0>M||0>=K||M+K>oe)return null;if(!x.Cc){if(x.ga==null){var ce;if(x.ga=new Qo,(ce=x.ga==null)||(ce=j.width*j.o,t(x.Gb.length==0),x.Gb=i(ce),x.Uc=0,x.Gb==null?ce=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ce=1),ce=!ce),!ce){ce=x.ga;var de=x.Fa,me=x.P,be=x.qc,Ie=x.mb,Qe=x.nb,Je=me+1,qe=be-1,_t=ce.l;if(t(de!=null&&Ie!=null&&j!=null),Ru[0]=null,Ru[1]=Ll,Ru[2]=Pu,Ru[3]=Oi,ce.ca=Ie,ce.tb=Qe,ce.c=j.width,ce.i=j.height,t(0<ce.c&&0<ce.i),1>=be)j=0;else if(ce.$a=de[me+0]>>0&3,ce.Z=de[me+0]>>2&3,ce.Lc=de[me+0]>>4&3,me=de[me+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||me)j=0;else if(_t.put=Tr,_t.ac=or,_t.bc=An,_t.ma=ce,_t.width=j.width,_t.height=j.height,_t.Da=j.Da,_t.v=j.v,_t.va=j.va,_t.j=j.j,_t.o=j.o,ce.$a)e:{t(ce.$a==1),j=tt();t:for(;;){if(j==null){j=0;break e}if(t(ce!=null),ce.mc=j,j.c=ce.c,j.i=ce.i,j.l=ce.l,j.l.ma=ce,j.l.width=ce.c,j.l.height=ce.i,j.a=0,V(j.m,de,Je,qe),!Ke(ce.c,ce.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&pe(j.s)?(ce.ic=1,de=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(de),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ce.ic=0,j=Ye(j,ce.c)),!j))break t;j=1;break e}ce.mc=null,j=0}else j=qe>=ce.c*ce.i;ce=!j}if(ce)return null;x.ga.Lc!=1?x.Ga=0:K=oe-M}t(x.ga!=null),t(M+K<=oe);e:{if(j=(de=x.ga).c,oe=de.l.o,de.$a==0){if(Je=x.rc,qe=x.Vc,_t=x.Fa,me=x.P+1+M*j,be=x.mb,Ie=x.nb+M*j,t(me<=x.P+x.qc),de.Z!=0)for(t(Ru[de.Z]!=null),ce=0;ce<K;++ce)Ru[de.Z](Je,qe,_t,me,be,Ie,j),Je=be,qe=Ie,Ie+=j,me+=j;else for(ce=0;ce<K;++ce)n(be,Ie,_t,me,j),Je=be,qe=Ie,Ie+=j,me+=j;x.rc=Je,x.Vc=qe}else{if(t(de.mc!=null),j=M+K,t((ce=de.mc)!=null),t(j<=ce.i),ce.C>=j)j=1;else if(de.ic||ze(),de.ic){de=ce.V,Je=ce.Ba,qe=ce.c;var st=ce.i,De=(_t=1,me=ce.$/qe,be=ce.$%qe,Ie=ce.m,Qe=ce.s,ce.$),$e=qe*st,gt=qe*j,kt=Qe.wc,bt=De<gt?ut(Qe,be,me):null;t(De<=$e),t(j<=st),t(pe(Qe));t:for(;;){for(;!Ie.h&&De<gt;){if(be&kt||(bt=ut(Qe,be,me)),t(bt!=null),J(Ie),256>(st=Ce(bt.G[0],bt.H[0],Ie)))de[Je+De]=st,++De,++be>=qe&&(be=0,++me<=j&&!(me%16)&&ye(ce,me));else{if(!(280>st)){_t=0;break t}st=Mn(st-256,Ie);var Qt,zt=Ce(bt.G[4],bt.H[4],Ie);if(J(Ie),!(De>=(zt=Rn(qe,zt=Mn(zt,Ie)))&&$e-De>=st)){_t=0;break t}for(Qt=0;Qt<st;++Qt)de[Je+De+Qt]=de[Je+De+Qt-zt];for(De+=st,be+=st;be>=qe;)be-=qe,++me<=j&&!(me%16)&&ye(ce,me);De<gt&&be&kt&&(bt=ut(Qe,be,me))}t(Ie.h==G(Ie))}ye(ce,me>j?j:me);break t}!_t||Ie.h&&De<$e?(_t=0,ce.a=Ie.h?5:3):ce.$=De,j=_t}else j=we(ce,ce.V,ce.Ba,ce.c,ce.i,j,Ze);if(!j){K=0;break e}}M+K>=oe&&(x.Cc=1),K=1}if(!K)return null;if(x.Cc&&((K=x.ga)!=null&&(K.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*ne}function L(x,j,M,K,ne,oe){for(;0<ne--;){var ce,de=x,me=j+(M?1:0),be=x,Ie=j+(M?0:3);for(ce=0;ce<K;++ce){var Qe=be[Ie+4*ce];Qe!=255&&(Qe*=32897,de[me+4*ce+0]=de[me+4*ce+0]*Qe>>23,de[me+4*ce+1]=de[me+4*ce+1]*Qe>>23,de[me+4*ce+2]=de[me+4*ce+2]*Qe>>23)}j+=oe}}function re(x,j,M,K,ne){for(;0<K--;){var oe;for(oe=0;oe<M;++oe){var ce=x[j+2*oe+0],de=15&(be=x[j+2*oe+1]),me=4369*de,be=(240&be|be>>4)*me>>16;x[j+2*oe+0]=(240&ce|ce>>4)*me>>16&240|(15&ce|ce<<4)*me>>16>>4&15,x[j+2*oe+1]=240&be|de}j+=ne}}function Ae(x,j,M,K,ne,oe,ce,de){var me,be,Ie=255;for(be=0;be<ne;++be){for(me=0;me<K;++me){var Qe=x[j+me];oe[ce+4*me]=Qe,Ie&=Qe}j+=M,ce+=de}return Ie!=255}function je(x,j,M,K,ne){var oe;for(oe=0;oe<ne;++oe)M[K+oe]=x[j+oe]>>8}function ze(){yo=L,$n=re,Bn=Ae,ya=je}function lt(x,j,M){_[x]=function(K,ne,oe,ce,de,me,be,Ie,Qe,Je,qe,_t,st,De,$e,gt,kt){var bt,Qt=kt-1>>1,zt=de[me+0]|be[Ie+0]<<16,hr=Qe[Je+0]|qe[_t+0]<<16;t(K!=null);var Gt=3*zt+hr+131074>>2;for(j(K[ne+0],255&Gt,Gt>>16,st,De),oe!=null&&(Gt=3*hr+zt+131074>>2,j(oe[ce+0],255&Gt,Gt>>16,$e,gt)),bt=1;bt<=Qt;++bt){var hn=de[me+bt]|be[Ie+bt]<<16,xn=Qe[Je+bt]|qe[_t+bt]<<16,on=zt+hn+hr+xn+524296,Yr=on+2*(hn+hr)>>3;Gt=Yr+zt>>1,zt=(on=on+2*(zt+xn)>>3)+hn>>1,j(K[ne+2*bt-1],255&Gt,Gt>>16,st,De+(2*bt-1)*M),j(K[ne+2*bt-0],255&zt,zt>>16,st,De+(2*bt-0)*M),oe!=null&&(Gt=on+hr>>1,zt=Yr+xn>>1,j(oe[ce+2*bt-1],255&Gt,Gt>>16,$e,gt+(2*bt-1)*M),j(oe[ce+2*bt+0],255&zt,zt>>16,$e,gt+(2*bt+0)*M)),zt=hn,hr=xn}1&kt||(Gt=3*zt+hr+131074>>2,j(K[ne+kt-1],255&Gt,Gt>>16,st,De+(kt-1)*M),oe!=null&&(Gt=3*hr+zt+131074>>2,j(oe[ce+kt-1],255&Gt,Gt>>16,$e,gt+(kt-1)*M)))}}function Ct(){bo[Sy]=wY,bo[Ay]=LP,bo[PP]=_Y,bo[Ty]=MP,bo[Ey]=RP,bo[b_]=FP,bo[jP]=SY,bo[w_]=LP,bo[__]=MP,bo[Ny]=RP,bo[S_]=FP}function Wt(x){return x&~AY?0>x?0:255:x>>$P}function A(x,j){return Wt((19077*x>>8)+(26149*j>>8)-14234)}function B(x,j,M){return Wt((19077*x>>8)-(6419*j>>8)-(13320*M>>8)+8708)}function Q(x,j){return Wt((19077*x>>8)+(33050*j>>8)-17685)}function fe(x,j,M,K,ne){K[ne+0]=A(x,M),K[ne+1]=B(x,j,M),K[ne+2]=Q(x,j)}function Be(x,j,M,K,ne){K[ne+0]=Q(x,j),K[ne+1]=B(x,j,M),K[ne+2]=A(x,M)}function et(x,j,M,K,ne){var oe=B(x,j,M);j=oe<<3&224|Q(x,j)>>3,K[ne+0]=248&A(x,M)|oe>>5,K[ne+1]=j}function Pt(x,j,M,K,ne){var oe=240&Q(x,j)|15;K[ne+0]=240&A(x,M)|B(x,j,M)>>4,K[ne+1]=oe}function Cr(x,j,M,K,ne){K[ne+0]=255,fe(x,j,M,K,ne+1)}function Kr(x,j,M,K,ne){Be(x,j,M,K,ne),K[ne+3]=255}function Pr(x,j,M,K,ne){fe(x,j,M,K,ne),K[ne+3]=255}function vn(x,j){return 0>x?0:x>j?j:x}function On(x,j,M){_[x]=function(K,ne,oe,ce,de,me,be,Ie,Qe){for(var Je=Ie+(-2&Qe)*M;Ie!=Je;)j(K[ne+0],oe[ce+0],de[me+0],be,Ie),j(K[ne+1],oe[ce+0],de[me+0],be,Ie+M),ne+=2,++ce,++me,Ie+=2*M;1&Qe&&j(K[ne+0],oe[ce+0],de[me+0],be,Ie)}}function Jo(x,j,M){return M==0?x==0?j==0?6:5:j==0?4:0:M}function pi(x,j,M,K,ne){switch(x>>>30){case 3:Sc(j,M,K,ne,0);break;case 2:va(j,M,K,ne);break;case 1:cs(j,M,K,ne)}}function Ml(x,j){var M,K,ne=j.M,oe=j.Nb,ce=x.oc,de=x.pc+40,me=x.oc,be=x.pc+584,Ie=x.oc,Qe=x.pc+600;for(M=0;16>M;++M)ce[de+32*M-1]=129;for(M=0;8>M;++M)me[be+32*M-1]=129,Ie[Qe+32*M-1]=129;for(0<ne?ce[de-1-32]=me[be-1-32]=Ie[Qe-1-32]=129:(a(ce,de-32-1,127,21),a(me,be-32-1,127,9),a(Ie,Qe-32-1,127,9)),K=0;K<x.za;++K){var Je=j.ya[j.aa+K];if(0<K){for(M=-1;16>M;++M)n(ce,de+32*M-4,ce,de+32*M+12,4);for(M=-1;8>M;++M)n(me,be+32*M-4,me,be+32*M+4,4),n(Ie,Qe+32*M-4,Ie,Qe+32*M+4,4)}var qe=x.Gd,_t=x.Hd+K,st=Je.ad,De=Je.Hc;if(0<ne&&(n(ce,de-32,qe[_t].y,0,16),n(me,be-32,qe[_t].f,0,8),n(Ie,Qe-32,qe[_t].ea,0,8)),Je.Za){var $e=ce,gt=de-32+16;for(0<ne&&(K>=x.za-1?a($e,gt,qe[_t].y[15],4):n($e,gt,qe[_t+1].y,0,4)),M=0;4>M;M++)$e[gt+128+M]=$e[gt+256+M]=$e[gt+384+M]=$e[gt+0+M];for(M=0;16>M;++M,De<<=2)$e=ce,gt=de+UP[M],Zo[Je.Ob[M]]($e,gt),pi(De,st,16*+M,$e,gt)}else if($e=Jo(K,ne,Je.Ob[0]),Mu[$e](ce,de),De!=0)for(M=0;16>M;++M,De<<=2)pi(De,st,16*+M,ce,de+UP[M]);for(M=Je.Gc,$e=Jo(K,ne,Je.Dd),Tc[$e](me,be),Tc[$e](Ie,Qe),De=st,$e=me,gt=be,255&(Je=M>>0)&&(170&Je?km(De,256,$e,gt):go(De,256,$e,gt)),Je=Ie,De=Qe,255&(M>>=8)&&(170&M?km(st,320,Je,De):go(st,320,Je,De)),ne<x.Ub-1&&(n(qe[_t].y,0,ce,de+480,16),n(qe[_t].f,0,me,be+224,8),n(qe[_t].ea,0,Ie,Qe+224,8)),M=8*oe*x.B,qe=x.sa,_t=x.ta+16*K+16*oe*x.R,st=x.qa,Je=x.ra+8*K+M,De=x.Ha,$e=x.Ia+8*K+M,M=0;16>M;++M)n(qe,_t+M*x.R,ce,de+32*M,16);for(M=0;8>M;++M)n(st,Je+M*x.B,me,be+32*M,8),n(De,$e+M*x.B,Ie,Qe+32*M,8)}}function Rl(x,j,M,K,ne,oe,ce,de,me){var be=[0],Ie=[0],Qe=0,Je=me!=null?me.kd:0,qe=me??new ku;if(x==null||12>M)return 7;qe.data=x,qe.w=j,qe.ha=M,j=[j],M=[M],qe.gb=[qe.gb];e:{var _t=j,st=M,De=qe.gb;if(t(x!=null),t(st!=null),t(De!=null),De[0]=0,12<=st[0]&&!r(x,_t[0],"RIFF")){if(r(x,_t[0]+8,"WEBP")){De=3;break e}var $e=Ne(x,_t[0]+4);if(12>$e||4294967286<$e){De=3;break e}if(Je&&$e>st[0]-8){De=7;break e}De[0]=$e,_t[0]+=12,st[0]-=12}De=0}if(De!=0)return De;for($e=0<qe.gb[0],M=M[0];;){e:{var gt=x;st=j,De=M;var kt=be,bt=Ie,Qt=_t=[0];if((Gt=Qe=[Qe])[0]=0,8>De[0])De=7;else{if(!r(gt,st[0],"VP8X")){if(Ne(gt,st[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var zt=Ne(gt,st[0]+8),hr=1+W(gt,st[0]+12);if(2147483648<=hr*(gt=1+W(gt,st[0]+15))){De=3;break e}Qt!=null&&(Qt[0]=zt),kt!=null&&(kt[0]=hr),bt!=null&&(bt[0]=gt),st[0]+=18,De[0]-=18,Gt[0]=1}De=0}}if(Qe=Qe[0],_t=_t[0],De!=0)return De;if(st=!!(2&_t),!$e&&Qe)return 3;if(oe!=null&&(oe[0]=!!(16&_t)),ce!=null&&(ce[0]=st),de!=null&&(de[0]=0),ce=be[0],_t=Ie[0],Qe&&st&&me==null){De=0;break}if(4>M){De=7;break}if($e&&Qe||!$e&&!Qe&&!r(x,j[0],"ALPH")){M=[M],qe.na=[qe.na],qe.P=[qe.P],qe.Sa=[qe.Sa];e:{zt=x,De=j,$e=M;var Gt=qe.gb;kt=qe.na,bt=qe.P,Qt=qe.Sa,hr=22,t(zt!=null),t($e!=null),gt=De[0];var hn=$e[0];for(t(kt!=null),t(Qt!=null),kt[0]=null,bt[0]=null,Qt[0]=0;;){if(De[0]=gt,$e[0]=hn,8>hn){De=7;break e}var xn=Ne(zt,gt+4);if(4294967286<xn){De=3;break e}var on=8+xn+1&-2;if(hr+=on,0<Gt&&hr>Gt){De=3;break e}if(!r(zt,gt,"VP8 ")||!r(zt,gt,"VP8L")){De=0;break e}if(hn[0]<on){De=7;break e}r(zt,gt,"ALPH")||(kt[0]=zt,bt[0]=gt+8,Qt[0]=xn),gt+=on,hn-=on}}if(M=M[0],qe.na=qe.na[0],qe.P=qe.P[0],qe.Sa=qe.Sa[0],De!=0)break}M=[M],qe.Ja=[qe.Ja],qe.xa=[qe.xa];e:if(Gt=x,De=j,$e=M,kt=qe.gb[0],bt=qe.Ja,Qt=qe.xa,zt=De[0],gt=!r(Gt,zt,"VP8 "),hr=!r(Gt,zt,"VP8L"),t(Gt!=null),t($e!=null),t(bt!=null),t(Qt!=null),8>$e[0])De=7;else{if(gt||hr){if(Gt=Ne(Gt,zt+4),12<=kt&&Gt>kt-12){De=3;break e}if(Je&&Gt>$e[0]-8){De=7;break e}bt[0]=Gt,De[0]+=8,$e[0]-=8,Qt[0]=hr}else Qt[0]=5<=$e[0]&&Gt[zt+0]==47&&!(Gt[zt+4]>>5),bt[0]=$e[0];De=0}if(M=M[0],qe.Ja=qe.Ja[0],qe.xa=qe.xa[0],j=j[0],De!=0)break;if(4294967286<qe.Ja)return 3;if(de==null||st||(de[0]=qe.xa?2:1),ce=[ce],_t=[_t],qe.xa){if(5>M){De=7;break}de=ce,Je=_t,st=oe,x==null||5>M?x=0:5<=M&&x[j+0]==47&&!(x[j+4]>>5)?($e=[0],Gt=[0],kt=[0],V(bt=new k,x,j,M),Yt(bt,$e,Gt,kt)?(de!=null&&(de[0]=$e[0]),Je!=null&&(Je[0]=Gt[0]),st!=null&&(st[0]=kt[0]),x=1):x=0):x=0}else{if(10>M){De=7;break}de=_t,x==null||10>M||!hc(x,j+3,M-3)?x=0:(Je=x[j+0]|x[j+1]<<8|x[j+2]<<16,st=16383&(x[j+7]<<8|x[j+6]),x=16383&(x[j+9]<<8|x[j+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=qe.Ja||!st||!x?x=0:(ce&&(ce[0]=st),de&&(de[0]=x),x=1))}if(!x||(ce=ce[0],_t=_t[0],Qe&&(be[0]!=ce||Ie[0]!=_t)))return 3;me!=null&&(me[0]=qe,me.offset=j-me.w,t(4294967286>j-me.w),t(me.offset==me.ha-M));break}return De==0||De==7&&Qe&&me==null?(oe!=null&&(oe[0]|=qe.na!=null&&0<qe.na.length),K!=null&&(K[0]=ce),ne!=null&&(ne[0]=_t),0):De}function Am(x,j,M){var K=j.width,ne=j.height,oe=0,ce=0,de=K,me=ne;if(j.Da=x!=null&&0<x.Da,j.Da&&(de=x.cd,me=x.bd,oe=x.v,ce=x.j,11>M||(oe&=-2,ce&=-2),0>oe||0>ce||0>=de||0>=me||oe+de>K||ce+me>ne))return 0;if(j.v=oe,j.j=ce,j.va=oe+de,j.o=ce+me,j.U=de,j.T=me,j.da=x!=null&&0<x.da,j.da){if(!Le(de,me,M=[x.ib],oe=[x.hb]))return 0;j.ib=M[0],j.hb=oe[0]}return j.ob=x!=null&&x.ob,j.Kb=x==null||!x.Sd,j.da&&(j.ob=j.ib<3*K/4&&j.hb<3*ne/4,j.Kb=0),1}function Tm(x){if(x==null)return 2;if(11>x.S){var j=x.f.RGBA;j.fb+=(x.height-1)*j.A,j.A=-j.A}else j=x.f.kb,x=x.height,j.O+=(x-1)*j.fa,j.fa=-j.fa,j.N+=(x-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(x-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(x-1)*j.lb,j.lb=-j.lb);return 0}function Fh(x,j,M,K){if(K==null||0>=x||0>=j)return 2;if(M!=null){if(M.Da){var ne=M.cd,oe=M.bd,ce=-2&M.v,de=-2&M.j;if(0>ce||0>de||0>=ne||0>=oe||ce+ne>x||de+oe>j)return 2;x=ne,j=oe}if(M.da){if(!Le(x,j,ne=[M.ib],oe=[M.hb]))return 2;x=ne[0],j=oe[0]}}K.width=x,K.height=j;e:{var me=K.width,be=K.height;if(x=K.S,0>=me||0>=be||!(x>=Sy&&13>x))x=2;else{if(0>=K.Rd&&K.sd==null){ce=oe=ne=j=0;var Ie=(de=me*VP[x])*be;if(11>x||(oe=(be+1)/2*(j=(me+1)/2),x==12&&(ce=(ne=me)*be)),(be=i(Ie+2*oe+ce))==null){x=1;break e}K.sd=be,11>x?((me=K.f.RGBA).eb=be,me.fb=0,me.A=de,me.size=Ie):((me=K.f.kb).y=be,me.O=0,me.fa=de,me.Fd=Ie,me.f=be,me.N=0+Ie,me.Ab=j,me.Cd=oe,me.ea=be,me.W=0+Ie+oe,me.Db=j,me.Ed=oe,x==12&&(me.F=be,me.J=0+Ie+2*oe),me.Tc=ce,me.lb=ne)}if(j=1,ne=K.S,oe=K.width,ce=K.height,ne>=Sy&&13>ne)if(11>ne)x=K.f.RGBA,j&=(de=Math.abs(x.A))*(ce-1)+oe<=x.size,j&=de>=oe*VP[ne],j&=x.eb!=null;else{x=K.f.kb,de=(oe+1)/2,Ie=(ce+1)/2,me=Math.abs(x.fa),be=Math.abs(x.Ab);var Qe=Math.abs(x.Db),Je=Math.abs(x.lb),qe=Je*(ce-1)+oe;j&=me*(ce-1)+oe<=x.Fd,j&=be*(Ie-1)+de<=x.Cd,j=(j&=Qe*(Ie-1)+de<=x.Ed)&me>=oe&be>=de&Qe>=de,j&=x.y!=null,j&=x.f!=null,j&=x.ea!=null,ne==12&&(j&=Je>=oe,j&=qe<=x.Tc,j&=x.F!=null)}else j=0;x=j?0:2}}return x!=0||M!=null&&M.fd&&(x=Tm(K)),x}var mi=64,$h=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bh=24,Uh=32,Em=8,Ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(x){return x},_.Predictor2=function(x,j,M){return j[M+0]},_.Predictor3=function(x,j,M){return j[M+1]},_.Predictor4=function(x,j,M){return j[M-1]},_.Predictor5=function(x,j,M){return Fe(Fe(x,j[M+1]),j[M+0])},_.Predictor6=function(x,j,M){return Fe(x,j[M-1])},_.Predictor7=function(x,j,M){return Fe(x,j[M+0])},_.Predictor8=function(x,j,M){return Fe(j[M-1],j[M+0])},_.Predictor9=function(x,j,M){return Fe(j[M+0],j[M+1])},_.Predictor10=function(x,j,M){return Fe(Fe(x,j[M-1]),Fe(j[M+0],j[M+1]))},_.Predictor11=function(x,j,M){var K=j[M+0];return 0>=He(K>>24&255,x>>24&255,(j=j[M-1])>>24&255)+He(K>>16&255,x>>16&255,j>>16&255)+He(K>>8&255,x>>8&255,j>>8&255)+He(255&K,255&x,255&j)?K:x},_.Predictor12=function(x,j,M){var K=j[M+0];return(Se((x>>24&255)+(K>>24&255)-((j=j[M-1])>>24&255))<<24|Se((x>>16&255)+(K>>16&255)-(j>>16&255))<<16|Se((x>>8&255)+(K>>8&255)-(j>>8&255))<<8|Se((255&x)+(255&K)-(255&j)))>>>0},_.Predictor13=function(x,j,M){var K=j[M-1];return(Me((x=Fe(x,j[M+0]))>>24&255,K>>24&255)<<24|Me(x>>16&255,K>>16&255)<<16|Me(x>>8&255,K>>8&255)<<8|Me(x>>0&255,K>>0&255))>>>0};var y_=_.PredictorAdd0;_.PredictorAdd1=at,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Nm=_.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var vy,mo=_.ColorIndexInverseTransform,Vh=_.MapARGB,yy=_.VP8LColorIndexInverseTransformAlpha,xy=_.MapAlpha,Ou=_.VP8LPredictorsAdd=[];Ou.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var dd,ks,ls,Iu,wc,_c,zh,Sc,va,km,cs,go,qh,by,Cm,hd,pd,Du,md,Wh,gd,Lu,Pm,vo,yo,$n,Bn,ya,Va=i(511),Ac=i(2041),jm=i(225),Hh=i(767),wy=0,x_=Ac,_y=jm,Ks=Hh,xo=Va,Sy=0,Ay=1,PP=2,Ty=3,Ey=4,b_=5,jP=6,w_=7,__=8,Ny=9,S_=10,oY=[2,3,7],lY=[3,3,11],OP=[280,256,256,256,40],cY=[0,1,1,1,0],uY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hY=8,A_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],T_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Om=null,pY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],IP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Mu=[],Zo=[],Tc=[],bY=1,DP=2,Ru=[],bo=[];lt("UpsampleRgbLinePair",fe,3),lt("UpsampleBgrLinePair",Be,3),lt("UpsampleRgbaLinePair",Pr,4),lt("UpsampleBgraLinePair",Kr,4),lt("UpsampleArgbLinePair",Cr,4),lt("UpsampleRgba4444LinePair",Pt,2),lt("UpsampleRgb565LinePair",et,2);var wY=_.UpsampleRgbLinePair,_Y=_.UpsampleBgrLinePair,LP=_.UpsampleRgbaLinePair,MP=_.UpsampleBgraLinePair,RP=_.UpsampleArgbLinePair,FP=_.UpsampleRgba4444LinePair,SY=_.UpsampleRgb565LinePair,ky=16,Cy=1<<ky-1,Im=-227,E_=482,$P=6,AY=(256<<$P)-1,BP=0,TY=i(256),EY=i(256),NY=i(256),kY=i(256),CY=i(E_-Im),PY=i(E_-Im);On("YuvToRgbRow",fe,3),On("YuvToBgrRow",Be,3),On("YuvToRgbaRow",Pr,4),On("YuvToBgraRow",Kr,4),On("YuvToArgbRow",Cr,4),On("YuvToRgba4444Row",Pt,2),On("YuvToRgb565Row",et,2);var UP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Py=[0,2,8],jY=[8,7,6,4,4,2,2,2,1,1,1,1],OY=1;this.WebPDecodeRGBA=function(x,j,M,K,ne){var oe=Ay,ce=new xc,de=new Nt;ce.ba=de,de.S=oe,de.width=[de.width],de.height=[de.height];var me=de.width,be=de.height,Ie=new Kt;if(Ie==null||x==null)var Qe=2;else t(Ie!=null),Qe=Rl(x,j,M,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(Qe!=0?me=0:(me!=null&&(me[0]=Ie.width[0]),be!=null&&(be[0]=Ie.height[0]),me=1),me){de.width=de.width[0],de.height=de.height[0],K!=null&&(K[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(K=new ss,(ne=new ku).data=x,ne.w=j,ne.ha=M,ne.kd=1,j=[0],t(ne!=null),((x=Rl(ne.data,ne.w,ne.ha,null,null,null,j,null,ne))==0||x==7)&&j[0]&&(x=4),(j=x)==0){if(t(ce!=null),K.data=ne.data,K.w=ne.w+ne.offset,K.ha=ne.ha-ne.offset,K.put=Tr,K.ac=or,K.bc=An,K.ma=ce,ne.xa){if((x=tt())==null){ce=1;break e}if(function(Je,qe){var _t=[0],st=[0],De=[0];t:for(;;){if(Je==null)return 0;if(qe==null)return Je.a=2,0;if(Je.l=qe,Je.a=0,V(Je.m,qe.data,qe.w,qe.ha),!Yt(Je.m,_t,st,De)){Je.a=3;break t}if(Je.xb=DP,qe.width=_t[0],qe.height=st[0],!Ke(_t[0],st[0],1,Je,null))break t;return 1}return t(Je.a!=0),0}(x,K)){if(K=(j=Fh(K.width,K.height,ce.Oa,ce.ba))==0){t:{K=x;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((M=K.l)!=null),t((ne=M.ma)!=null),K.xb!=0){if(K.ca=ne.ba,K.tb=ne.tb,t(K.ca!=null),!Am(ne.Oa,M,Ty)){K.a=2;break r}if(!Ye(K,M.width)||M.da)break r;if((M.da||Re(K.ca.S))&&ze(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&ze()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ke(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!we(K,K.V,K.Ba,K.c,K.i,M.o,ve))break r;ne.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(j=x.a)}else j=x.a}else{if((x=new Ba)==null){ce=1;break e}if(x.Fa=ne.na,x.P=ne.P,x.qc=ne.Sa,pc(x,K)){if((j=Fh(K.width,K.height,ce.Oa,ce.ba))==0){if(x.Aa=0,M=ce.Oa,t((ne=x)!=null),M!=null){if(0<(me=0>(me=M.Md)?0:100<me?255:255*me/100)){for(be=Ie=0;4>be;++be)12>(Qe=ne.pb[be]).lc&&(Qe.ia=me*jY[0>Qe.lc?0:Qe.lc]>>3),Ie|=Qe.ia;Ie&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=M.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}ie(x,K)||(j=x.a)}}else j=x.a}j==0&&ce.Oa!=null&&ce.Oa.fd&&(j=Tm(ce.ba))}ce=j}oe=ce!=0?null:11>oe?de.f.RGBA.eb:de.f.kb.y}else oe=null;return oe};var VP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,S){for(var I="",E=0;E<4;E++)I+=String.fromCharCode(_[S++]);return I}function u(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16)>>>0}function d(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16|_[S+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(_,S){var I={},E=0,C=!1,N=0,U=0;if(I.frames=[],!function(R,G,Y,J){for(var se=0;se<J;se++)if(R[G+se]!=Y.charCodeAt(se))return!0;return!1}(_,S,"RIFF",4)){for(d(_,S+=4),S+=8;S<_.length;){var X=c(_,S),z=d(_,S+=4);S+=4;var H=z+(1&z);switch(X){case"VP8 ":case"VP8L":I.frames[E]===void 0&&(I.frames[E]={}),(te=I.frames[E]).src_off=C?U:S-8,te.src_size=N+z+8,E++,C&&(C=!1,N=0,U=0);break;case"VP8X":(te=I.header={}).feature_flags=_[S];var V=S+4;te.canvas_width=1+u(_,V),V+=3,te.canvas_height=1+u(_,V),V+=3;break;case"ALPH":C=!0,N=H+8,U=S-8;break;case"ANIM":(te=I.header).bgcolor=d(_,S),V=S+4,te.loop_count=(Z=_)[(k=V)+0]<<0|Z[k+1]<<8,V+=2;break;case"ANMF":var q,te;(te=I.frames[E]={}).offset_x=2*u(_,S),S+=3,te.offset_y=2*u(_,S),S+=3,te.width=1+u(_,S),S+=3,te.height=1+u(_,S),S+=3,te.duration=u(_,S),S+=3,q=_[S++],te.dispose=1&q,te.blend=q>>1&1}X!="ANMF"&&(S+=H)}var Z,k;return I}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],p=[w.canvas_width];for(var D=0;D<b.length&&b[D].blend!=0;D++);}var O=b[0],P=m.WebPDecodeRGBA(v,O.src_off,O.src_size,p,h);O.rgba=P,O.imgwidth=p[0],O.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=P[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof hE=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var w=hE(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(h,p,g,m){for(var v,y,w,b=h.length/p,D=new Uint8Array(h.length+b),O=u(),P=0;P<b;P+=1){if(w=P*p,v=h.subarray(w,w+p),m)D.set(m(v,g,y),w+P);else{for(var T,_=O.length,S=[];T<_;T+=1)S[T]=O[T](v,g,y);var I=d(S.concat());D.set(S[I],w+P)}y=v}return D},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)m=g&&g[w]||0,v[w+1]=h[w]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],w=h.length;y[0]=3;for(var b=0;b<w;b+=1)m=h[b-p]||0,v=g&&g[b]||0,y[b+1]=h[b]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,w,b=[],D=h.length;b[0]=4;for(var O=0;O<D;O+=1)m=h[O-p]||0,v=g&&g[O]||0,y=g&&g[O-p]||0,w=c(m,v,y),b[O+1]=h[O]-w+256&255;return b},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},d=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,w,b,D,O,P,T,_,S,I,E,C,N,U,X=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new L9e(h)).imgData,y=w.bits,v=w.colorSpace,D=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){_=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,I=new Uint8Array(_*w.colors),S=new Uint8Array(_);var H,V=w.pixelBitlength-w.bits;for(N=0,U=0;N<_;N++){for(C=T[N],H=0;H<V;)I[U++]=C>>>H&255,H+=w.bits;S[N]=C>>>H&255}}if(w.bits===16){_=(T=new Uint32Array(w.decodePixels().buffer)).length,I=new Uint8Array(_*(32/w.pixelBitlength)*w.colors),S=new Uint8Array(_*(32/w.pixelBitlength)),E=w.colors>1,N=0,U=0;for(var q=0;N<_;)C=T[N++],I[U++]=C>>>0&255,E&&(I[U++]=C>>>16&255,C=T[N++],I[U++]=C>>>0&255),S[q++]=C>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(I,w.width*w.colors,w.colors,m),P=r(S,w.width,1,m)):(h=I,P=S,X=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,O=w.palette,w.transparency.indexed)){var te=w.transparency.indexed,Z=0;for(N=0,_=te.length;N<_;++N)Z+=te[N];if((Z/=255)===_-1&&te.indexOf(0)!==-1)b=[te.indexOf(0)];else if(Z!==_){for(T=w.decodePixels(),S=new Uint8Array(T.length),N=0,_=T.length;N<_;N++)S[N]=te[T[N]];P=r(S,w.width,1)}}var k=function(R){var G;switch(R){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(m);return X===this.decode.FLATE_DECODE&&(z="/Predictor "+k+" "),z+="/Colors "+D+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:g,data:h,index:p,filter:X,decodeParameters:z,transparency:b,palette:O,sMask:P,predictor:k,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(yr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new M9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new PA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(yr.API),sl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Dn.log("bit decode error:"+r)}},sl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},sl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},sl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},sl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},sl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},sl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},sl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},sl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new sl(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new PA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(yr.API),jR.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new jR(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new PA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(yr.API),yr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],d=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=d,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},s0=yr.API,Vx=s0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=d&&pn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},NR=s0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return s0.processArabic&&(e=s0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Vx.apply(this,arguments).reduce(function(i,s){return i+s},0)},kR=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},CR=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],d=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=Vx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];m.map(function(D){(D=D.split(/\s*\n/)).length>1?w=w.concat(D.map(function(O,P){return(P&&O.length?`
`:"")+O})):w.push(D[0])}),m=w,l=NR.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(g=(a=Vx.apply(this,[n,r])).reduce(function(D,O){return D+O},0))>t||b){if(g>t){for(o=kR.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,O){return D+O},0)}else u=[n];d.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(D,O){return(O?y:"")+D.join(" ")}:function(D){return D.join(" ")},d.map(c)},s0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(CR.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var h,p,g,m,v=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(pn(h)!=="object")throw new Error("Don't know what to do with value type "+pn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,w=v,b=[],D="",O="",P=d.length-1,T=1;T<P;T+=1)(m=d[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([w,g]),w={},g=void 0):m=="}"?((p=b.pop())[0][p[1]]=w,g=void 0,w=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(D+=r[m],g=parseInt(D,16)*y,y=1,D=""):D+=m:r.hasOwnProperty(m)?(O+=r[m],w[g]=parseInt(O,16)*y,y=1,g=void 0,O=""):O+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(yr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(av(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(yr),function(e){function t(){return(xr.canvg?Promise.resolve(xr.canvg):lE(()=>import("./index.es-BfMGAale.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}yr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),yr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},yr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(d=0;d<p;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(pn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(yr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=i.length;d<h;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;d<h;d++)s=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+d0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+d0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+d0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+d0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+d0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},h=d.pdfEscape,p=d.activeFontKey,g=d.fonts,m=p,v="",y=0,w="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(w=o,m=p,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var D="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?D=h(v,m).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(D=r(v,g[m])),d.isHex=!0,{text:D,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(yr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(yr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var D=function(E){var C=E.charCodeAt(),N=C>>8,U=m[N];return U!==void 0?d[256*U+(255&C)]:N===252||N===253?"AL":y.test(N)?"L":N===8?"R":"N"},O=function(E){for(var C,N=0;N<E.length;N++){if((C=D(E.charAt(N)))==="L")return!1;if(C==="R")return!0}return!1},P=function(E,C,N,U){var X,z,H,V,q=C[U];switch(q){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(q="AN");break;case"AL":w=!0,q="R";break;case"WS":q="N";break;case"CS":U<1||U+1>=C.length||(X=N[U-1])!=="EN"&&X!=="AN"||(z=C[U+1])!=="EN"&&z!=="AN"?q="N":w&&(z="AN"),q=z===X?z:"N";break;case"ES":q=(X=U>0?N[U-1]:"B")==="EN"&&U+1<C.length&&C[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&N[U-1]==="EN"){q="EN";break}if(w){q="N";break}for(H=U+1,V=C.length;H<V&&C[H]==="ET";)H++;q=H<V&&C[H]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(V=C.length,H=U+1;H<V&&C[H]==="NSM";)H++;if(H<V){var te=E[U],Z=te>=1425&&te<=2303||te===64286;if(X=C[H],Z&&(X==="R"||X==="AL")){q="R";break}}}q=U<1||(X=C[U-1])==="B"?"N":N[U-1];break;case"B":w=!1,a=!0,q=b;break;case"S":i=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":q="N"}return q},T=function(E,C,N){var U=E.split("");return N&&_(U,N,{hiLevel:b}),U.reverse(),C&&C.reverse(),U.join("")},_=function(E,C,N){var U,X,z,H,V,q=-1,te=E.length,Z=0,k=[],R=b?p:h,G=[];for(w=!1,a=!1,i=!1,X=0;X<te;X++)G[X]=D(E[X]);for(z=0;z<te;z++){if(V=Z,k[z]=P(E,G,k,z),U=240&(Z=R[V][g[k[z]]]),Z&=15,C[z]=H=R[Z][5],U>0)if(U===16){for(X=q;X<z;X++)C[X]=1;q=-1}else q=-1;if(R[Z][6])q===-1&&(q=z);else if(q>-1){for(X=q;X<z;X++)C[X]=H;q=-1}G[z]==="B"&&(C[z]=0),N.hiLevel|=H}i&&function(Y,J,se){for(var ue=0;ue<se;ue++)if(Y[ue]==="S"){J[ue]=b;for(var ae=ue-1;ae>=0&&Y[ae]==="WS";ae--)J[ae]=b}}(G,C,te)},S=function(E,C,N,U,X){if(!(X.hiLevel<E)){if(E===1&&b===1&&!a)return C.reverse(),void(N&&N.reverse());for(var z,H,V,q,te=C.length,Z=0;Z<te;){if(U[Z]>=E){for(V=Z+1;V<te&&U[V]>=E;)V++;for(q=Z,H=V-1;q<H;q++,H--)z=C[q],C[q]=C[H],C[H]=z,N&&(z=N[q],N[q]=N[H],N[H]=z);Z=V}Z++}}},I=function(E,C,N){var U=E.split(""),X={hiLevel:b};return N||(N=[]),_(U,N,X),function(z,H,V){if(V.hiLevel!==0&&u)for(var q,te=0;te<z.length;te++)H[te]===1&&(q=v.indexOf(z[te]))>=0&&(z[te]=v[q+1])}(U,N,X),S(2,U,C,N,X),S(1,U,C,N,X),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,C,N){if(function(X,z){if(z)for(var H=0;H<X.length;H++)z[H]=H;o===void 0&&(o=O(X)),c===void 0&&(c=O(X))}(E,C),s||!l||c)if(s&&l&&o^c)b=o?1:0,E=T(E,C,N);else if(!s&&l&&c)b=o?1:0,E=I(E,C,N),E=T(E,C);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,C),o?(b=0,E=I(E,C,N)):(b=1,E=I(E,C,N),E=T(E,C));else if(s&&o&&!l&&c)b=1,E=I(E,C,N),E=T(E,C);else if(!s&&!l&&o^c){var U=u;o?(b=1,E=I(E,C,N),b=0,u=!1,E=I(E,C,N),u=U):(b=0,E=I(E,C,N),E=T(E,C),b=1,u=!1,E=I(E,C,N),u=U,E=T(E,C))}}else b=0,E=I(E,C,N);else b=o?1:0,E=I(E,C,N);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(yr),yr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Wf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Q9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new R9e(this.contents),this.head=new $9e(this),this.name=new q9e(this),this.cmap=new qK(this),this.toUnicode={},this.hhea=new B9e(this),this.maxp=new W9e(this),this.hmtx=new H9e(this),this.post=new V9e(this),this.os2=new U9e(this),this.loca=new X9e(this),this.glyf=new G9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var jl,Wf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),R9e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,d,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),s=Math.floor(d/l),u=16*p-d,(a=new Wf).writeInt(this.scalarType),a.writeShort(p),a.writeShort(d),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=WK.call(r);r.length%4;)r.push(0);for(i=new Wf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),F9e={}.hasOwnProperty,dc=function(e,t){for(var r in t)F9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};jl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Wf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),OR=function(){function e(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,w,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var D,O;for(O=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)O.push(t.readUInt16());return O}(),t.pos+=2,m=function(){var D,O;for(O=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)O.push(t.readUInt16());return O}(),c=function(){var D,O;for(O=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)O.push(t.readUInt16());return O}(),u=function(){var D,O;for(O=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)O.push(t.readUInt16());return O}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,O;for(O=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)O.push(t.readUInt16());return O}(),l=y=0,b=i.length;y<b;l=++y)for(v=i[l],n=w=g=m[l];g<=v?w<=v:w>=v;n=g<=v?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=d}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,w,b,D,O,P,T,_,S,I,E,C,N,U,X,z,H,V,q,te,Z,k,R,G,Y,J,se,ue,ae,he,xe,W;switch(U=new Wf,s=Object.keys(t).sort(function(Ne,ke){return Ne-ke}),r){case"macroman":for(m=0,v=function(){var Ne=[];for(g=0;g<256;++g)Ne.push(0);return Ne}(),w={0:0},i={},X=0,q=s.length;X<q;X++)w[ae=t[a=s[X]]]==null&&(w[ae]=++m),i[a]={old:t[a],new:w[t[a]]},v[a]=w[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:i,subtable:U.data,maxGlyphID:m+1};case"unicode":for(C=[],d=[],b=0,w={},n={},y=c=null,z=0,te=s.length;z<te;z++)w[O=t[a=s[z]]]==null&&(w[O]=++b),n[a]={old:O,new:w[O]},o=w[O]-a,y!=null&&o===c||(y&&d.push(y),C.push(a),c=o),y=a;for(y&&d.push(y),d.push(65535),C.push(65535),I=2*(S=C.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,T=2*S-_,l=[],P=[],p=[],g=H=0,Z=C.length;H<Z;g=++H){if(E=C[g],u=d[g],E===65535){l.push(0),P.push(0);break}if(E-(N=n[E].new)>=32768)for(l.push(0),P.push(2*(p.length+S-g)),a=V=E;E<=u?V<=u:V>=u;a=E<=u?++V:--V)p.push(n[a].new);else l.push(N-E),P.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*S+2*p.length),U.writeUInt16(0),U.writeUInt16(I),U.writeUInt16(_),U.writeUInt16(h),U.writeUInt16(T),se=0,k=d.length;se<k;se++)a=d[se],U.writeUInt16(a);for(U.writeUInt16(0),ue=0,R=C.length;ue<R;ue++)a=C[ue],U.writeUInt16(a);for(he=0,G=l.length;he<G;he++)o=l[he],U.writeUInt16(o);for(xe=0,Y=P.length;xe<Y;xe++)D=P[xe],U.writeUInt16(D);for(W=0,J=p.length;W<J;W++)m=p[W],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:b+1}}},e}(),qK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new OR(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=OR.encode(r,n),(i=new Wf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),B9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),U9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),V9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),z9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},q9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,d,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=d=0,h=a.length;d<h;s=++d)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new z9e(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),W9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),H9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),WK=[].slice,G9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,d,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Wf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=o===-1?new Y9e(l,u,h,c,d):new K9e(l,o,u,h,c,d),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),K9e=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Y9e=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Wf(WK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),X9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return dc(t,jl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),d=0;d<a.length;++d)u[4*d+3]=255&a[d],u[4*d+2]=(65280&a[d])>>8,u[4*d+1]=(16711680&a[d])>>16,u[4*d]=(4278190080&a[d])>>24;return u},t}(),Q9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y;for(a in n=qK.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(w){var b,D;for(b in D={},w)D[w[b]]=b;return D}(p),d=Object.keys(u).sort(function(w,b){return w-b}),m=function(){var w,b,D;for(D=[],w=0,b=d.length;w<b;w++)o=d[w],D.push(u[o]);return D}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();yr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function HK(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof e=="string"?e.split(u):e,h=d.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),d&&h>=1){for(var g=0;g<d.length;g++)a.text(d[g],t-a.getStringUnitWidth(d[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var IR={},tp=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:IR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return IR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),bE=function(e,t){return bE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},bE(e,t)};function GK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var KK=function(e){GK(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function J9e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Z9e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function jw(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function YK(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=XK(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function XK(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function v_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function QK(e,t){var r=v_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function eBe(e,t,r,n,a){var i={},s=1.3333333333333333,o=jA(t,function(b){return a.getComputedStyle(b).backgroundColor});o!=null&&(i.fillColor=o);var l=jA(t,function(b){return a.getComputedStyle(b).color});l!=null&&(i.textColor=l);var c=rBe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",d=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/d;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=jA(t,function(b){return a.getComputedStyle(b)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=tBe(n);y&&(i.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(i.font=w),i}function tBe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function jA(e,t){var r=JK(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function JK(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:JK(e.parentElement,t):r}function rBe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=v_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function ZK(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=nBe(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):d.push(v))}return{head:u,body:d,foot:h}}function nBe(e,t,r,n,a,i){for(var s=new KK(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=eBe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:aBe(l)})}}var d=r.getComputedStyle(n);if(s.length>0&&(a||d.display!=="none"))return s}function aBe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function iBe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Fc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function eY(e,t){var r=new tp(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();iBe(a,n,t);var i=Fc({},a,n,t),s;typeof window<"u"&&(s=window);var o=sBe(a,n,t),l=oBe(a,n,t),c=lBe(r,i),u=uBe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function sBe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],d=r[l];n.columnStyles=Fc({},c,u,d)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=Fc({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function oBe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function lBe(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g=v_(t.margin,40/e.scaleFactor()),m=(r=cBe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=t.useCss)!==null&&i!==void 0?i:!1,b=t.theme||(w?"plain":"striped"),D=!!t.horizontalPageBreak,O=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:b,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:D,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function cBe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function uBe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=ZK(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||fBe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function fBe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var wE=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),dBe=function(e){GK(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(wE),hBe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new dBe(t,this,n,a,i,s),d=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new wE(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new wE(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),tY=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof KK&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),rY=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=v_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),pBe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function mBe(e,t){gBe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=_E(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=_E(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),yBe(t),xBe(t,e),vBe(t)}function gBe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=QK(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var d=c.padding("horizontal");c.contentWidth=jw(c.text,c.styles,e)+d;var h=jw(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function _E(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),d=c<u?u:c;t-=d-s.width,s.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=_E(h,t,r))}return t}function vBe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var d=n.length-a,h=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function yBe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function xBe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=DR(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=DR(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function DR(e,t,r,n,a){return e.map(function(i){return bBe(i,t,r,n,a)})}function bBe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=jw(e,r,n))return e;for(;t<jw(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function nY(e,t){var r=new tp(e),n=wBe(t,r.scaleFactor()),a=new hBe(t,n);return mBe(r,a),r.applyStyles(r.userStyles),a}function wBe(e,t){var r=e.content,n=SBe(r.columns);if(r.head.length===0){var a=LR(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=LR(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:OA("head",r.head,n,s,i,t),body:OA("body",r.body,n,s,i,t),foot:OA("foot",r.foot,n,s,i,t)}}function OA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,d={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var b=ABe(e,v,c,a,n,i,w),D=new rY(y,b,e);d[v.dataKey]=D,d[v.index]=D,p=D.colSpan-1,s[v.index]={left:D.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new tY(l,c,e,d)});return o}function LR(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=_Be(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function _Be(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function SBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new pBe(a,t,r)})}function ABe(e,t,r,n,a,i,s){var o=Z9e(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=Fc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},d=e==="body"?u:{},h=e==="body"&&r%2===0?Fc({},o.alternateRow,a.alternateRowStyles):{},p=J9e(i),g=Fc({},p,c,h,d);return Fc(g,s)}function TBe(e,t,r){var n;r===void 0&&(r={});var a=QK(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(c||a>=d)c=!1,s.push(u),o.push(t.columns[u]),a-=d;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function EBe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=TBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function aY(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new tp(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(sY(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var d=Fc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?NBe(u,t,d,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return uu(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;Ow(u,t,h,g,d,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return uu(u,t,h,i,t.columns)})),YK(u,t,d,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function NBe(e,t,r,n){var a=EBe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?iv(e,t,r,n,c.columns,!0):MR(e,t,n,c.columns),kBe(e,t,r,n,c.columns),IA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?iv(e,t,r,n,u,!0):MR(e,t,n,u),c=RR(e,t,s+1,n,u),IA(e,t,n,u)}var d=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),iv(e,t,r,n,h.columns,!0),RR(e,t,s+1,n,h.columns,d),IA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function MR(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return uu(e,t,i,r,n)})}function kBe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Ow(e,t,i,o,r,n,a)})}function RR(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,d=iY(e,t,u,n);l.canEntireRowFit(d,a)&&(uu(e,t,l,n,a),o=r+c)}),o}function IA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return uu(e,t,i,r,n)})}function CBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function PBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new rY(c.raw,c.styles,c.section);u=Fc(u,c),u.text=[];var d=CBe(c,t,n);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new tY(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function jBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>o;return d?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Ow(e,t,r,n,a,i,s){var o=iY(e,t,n,i);if(r.canEntireRowFit(o,s))uu(e,t,r,i,s);else if(jBe(e,r,o,t)){var l=PBe(r,o,t,e);uu(e,t,r,i,s),iv(e,t,a,i,s),Ow(e,t,l,n,a,i,s)}else iv(e,t,a,i,s),Ow(e,t,r,n,a,i,s)}function uu(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}OBe(e,l,n);var u=l.getTextPos();HK(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function OBe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=XK(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),IBe(e,t,r,n.lineWidth))}function IBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,d,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,d,h,p,"S")}}function iY(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function iv(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return uu(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;YK(e,t,r,n),sY(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return uu(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function sY(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function DBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=eY(this,n),i=nY(this,a);return aY(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){HK(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return tp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){tp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new tp(this),i=ZK(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var DA;function LBe(e,t){var r=eY(e,t),n=nY(e,r);aY(e,n)}try{if(typeof window<"u"&&window){var FR=window,$R=FR.jsPDF||((DA=FR.jspdf)===null||DA===void 0?void 0:DA.jsPDF);$R&&DBe($R)}}catch(e){console.error("Could not apply autoTable plugin",e)}const MBe=()=>{const[e,t]=F.useState([]),[r,n]=F.useState(!0),[a,i]=F.useState(new Date),[s,o]=F.useState(new Date),[l,c]=F.useState("all"),[u,d]=F.useState("all"),[h,p]=F.useState("all"),[g,m]=F.useState(""),[v,y]=F.useState([]),{showToast:w}=lc(),{isDarkMode:b}=an(),{user:D}=Ea(),O=async()=>{try{const U=(await ur(wt(Xe,"users"))).docs.map(X=>({id:X.id,...X.data()}));y(U)}catch(N){console.error("Error fetching users:",N),w("Failed to fetch users","error")}},P=async()=>{n(!0);try{let N=lr(wt(Xe,"activityLogs"),Fa("time","desc"));a&&s?N=lr(wt(Xe,"activityLogs"),sr("time",">=",bp(a).toISOString()),sr("time","<=",qv(s).toISOString()),Fa("time","desc")):a?N=lr(wt(Xe,"activityLogs"),sr("time",">=",bp(a).toISOString()),Fa("time","desc")):s&&(N=lr(wt(Xe,"activityLogs"),sr("time","<=",qv(s).toISOString()),Fa("time","desc")));let X=(await ur(N)).docs.map(z=>({id:z.id,user:z.data().user,role:z.data().role,detail:z.data().detail,time:z.data().time}));if(D&&D.role==="staff"&&(X=X.filter(z=>z.role!=="admin")),l!=="all"&&(X=X.filter(z=>z.user===l)),u!=="all"&&(X=X.filter(z=>{const H=z.detail.toLowerCase();return u==="inbound"?H.includes("added new product")||H.includes("edited product")||H.includes("quantity from")||H.includes("quantity to"):u==="outbound"?H.includes("units deducted from stock")||H.includes("deducted from stock"):!0})),h!=="all"&&(X=X.filter(z=>{const H=z.detail.toLowerCase();switch(h){case"add_product":return H.includes("added new product")||H.includes("added product");case"edit_product":return H.includes("edited product")||H.includes("updated product");case"delete_product":return H.includes("deleted product")||H.includes("removed product");case"stock_increase":return H.includes("quantity from")&&H.includes("quantity to")&&H.includes("increased")||H.includes("added to stock");case"stock_decrease":return H.includes("units deducted from stock")||H.includes("deducted from stock")||H.includes("decreased");case"move_product":return H.includes("moved")||H.includes("relocated");case"user_management":return H.includes("added new user")||H.includes("updated user")||H.includes("deleted user")||H.includes("changed username")||H.includes("changed email")||H.includes("changed password");case"profile_update":return H.includes("changed username")||H.includes("changed email")||H.includes("changed full name")||H.includes("changed their password");case"job_operations":return H.includes("job")||H.includes("task")||H.includes("work");case"location_operations":return H.includes("location")||H.includes("shelf")||H.includes("moved to");default:return!0}})),g.trim()){const z=g.toLowerCase();X=X.filter(H=>{const V=H.detail.toLowerCase(),q=H.user.toLowerCase(),te=H.role.toLowerCase(),Z=V.match(/"([^"]+)"/),k=Z?Z[1].toLowerCase():"";return V.includes(z)||q.includes(z)||te.includes(z)||k.includes(z)})}t(X)}catch(N){console.error("Error fetching activity logs:",N),w("Failed to fetch activity logs","error")}finally{n(!1)}};F.useEffect(()=>{O()},[]),F.useEffect(()=>{P()},[a,s,l,u,h,g,D]);const T=()=>{let N=v;return D&&D.role==="staff"&&(N=v.filter(U=>U.role!=="admin")),[{value:"all",label:"All Users"},...N.map(U=>({value:U.name,label:U.name}))]},_=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],S=[{value:"all",label:"All Actions"},{value:"add_product",label:"Add Product"},{value:"edit_product",label:"Edit Product"},{value:"delete_product",label:"Delete Product"},{value:"stock_increase",label:"Stock Increase"},{value:"stock_decrease",label:"Stock Decrease"},{value:"move_product",label:"Move Product"},{value:"user_management",label:"User Management"},{value:"profile_update",label:"Profile Update"},{value:"job_operations",label:"Job Operations"},{value:"location_operations",label:"Location Operations"}],I=()=>{i(null),o(null)},E=()=>{try{const U=[["User","Role","Activity","Time"].join(","),...e.map(V=>[V.user,V.role,`"${V.detail.replace(/"/g,'""')}"`,qt(new Date(V.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),X=new Blob([U],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),H=URL.createObjectURL(X);z.setAttribute("href",H),z.setAttribute("download",`activity_logs_${qt(new Date,"yyyy-MM-dd")}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)}catch(N){console.error("Error exporting to CSV:",N),w("Failed to export to CSV","error")}},C=()=>{var N,U,X;try{const z=new yr;z.setFontSize(16),z.text("Activity Logs Report",14,15),z.setFontSize(10);const H=a&&s?`${qt(a,"MMM d, yyyy")} - ${qt(s,"MMM d, yyyy")}`:a?`From ${qt(a,"MMM d, yyyy")}`:s?`To ${qt(s,"MMM d, yyyy")}`:"All Time";z.text(`Date Range: ${H}`,14,25),z.text(`User Filter: ${(N=T().find(V=>V.value===l))==null?void 0:N.label}`,14,30),z.text(`Activity Filter: ${(U=_.find(V=>V.value===u))==null?void 0:U.label}`,14,35),z.text(`Action Type Filter: ${(X=S.find(V=>V.value===h))==null?void 0:X.label}`,14,40),LBe(z,{startY:45,head:[["User","Role","Activity","Time"]],body:e.map(V=>[V.user,V.role,V.detail,qt(new Date(V.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),z.save(`activity_logs_${qt(new Date,"yyyy-MM-dd")}.pdf`)}catch(z){console.error("Error exporting to PDF:",z),w("Failed to export to PDF","error")}};return f.jsx("div",{className:`space-y-6 ${b?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:f.jsxs("div",{className:`rounded-lg shadow-sm border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsx("div",{className:`p-4 sm:p-6 border-b ${b?"border-slate-700":"border-slate-200"}`,children:f.jsxs("div",{className:"flex flex-col xs:flex-row xs:justify-between xs:items-center gap-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${b?"text-white":"text-slate-800"}`,children:"Activity Logs"}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 w-full xs:w-auto",children:[f.jsxs("button",{onClick:E,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${b?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(G2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),f.jsxs("button",{onClick:C,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${b?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(G2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})}),f.jsxs("div",{className:`p-4 sm:p-6 border-b ${b?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{className:"mb-4",children:f.jsx(jt,{type:"text",placeholder:"Search activities, product names, users...",value:g,onChange:N=>m(N.target.value),className:"w-full",icon:f.jsx(El,{size:16})})}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Jr,{value:l,onChange:N=>c(N.target.value),options:T(),className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Jr,{value:u,onChange:N=>d(N.target.value),options:_,className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Jr,{value:h,onChange:N=>p(N.target.value),options:S,className:"w-full"})})]}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 items-stretch xs:items-center",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Xq,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:I,className:"w-full"})}),f.jsxs(nt,{variant:"secondary",onClick:P,className:"flex items-center justify-center gap-2 px-4 py-2 min-w-[44px]",children:[f.jsx(La,{size:16}),f.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})]})]})]}),r?f.jsx("div",{className:"flex justify-center items-center h-32",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${b?"border-white":"border-slate-800"}`})}):e.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden lg:block overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${b?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(u2,{children:e.map(N=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${b?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:N.user}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:N.role}),f.jsx("td",{className:`px-2 py-4 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:N.detail}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:qt(new Date(N.time),"MMM d, yyyy h:mm:ss a")})]},N.id))})})]})}),f.jsx("div",{className:"hidden md:block lg:hidden overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${b?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-3 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(u2,{children:e.map(N=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${b?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-3 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium",children:N.user}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:N.role})]})}),f.jsx("td",{className:`px-2 py-4 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:N.detail,children:N.detail})}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:qt(new Date(N.time),"MMM d, h:mm a")})]},N.id))})})]})}),f.jsx("div",{className:"block md:hidden space-y-3 p-4",children:f.jsx(u2,{children:e.map(N=>f.jsxs(Gn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:`font-semibold text-sm ${b?"text-blue-400":"text-blue-700"}`,children:N.user}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:N.role})]}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:qt(new Date(N.time),"h:mm a")})]}),f.jsx("div",{className:`text-sm leading-relaxed ${b?"text-slate-200":"text-slate-800"}`,children:N.detail}),f.jsx("div",{className:"mt-2 text-xs",children:f.jsx("span",{className:b?"text-slate-400":"text-slate-600",children:qt(new Date(N.time),"MMM d, yyyy")})})]},N.id))})})]}):f.jsx("div",{className:`text-center py-8 ${b?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},RBe=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=an(),[o,l]=F.useState(!1),[c,u]=F.useState(new Date),[d,h]=F.useState(null);F.useEffect(()=>{const I=E=>{E.target.closest(".calendar-date-range-picker")||l(!1)};return o&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[o]);const p=I=>{!e||e&&t?(r(I),n(null)):e&&!t&&(I<e?(n(e),r(I)):n(I))},g=()=>{a(),l(!1)},m=()=>!e&&!t?"Select date range":e&&t?`${qt(e,"MMM d, yyyy")} - ${qt(t,"MMM d, yyyy")}`:e?`From ${qt(e,"MMM d, yyyy")}`:t?`To ${qt(t,"MMM d, yyyy")}`:"Select date range",v=I=>!e||!t?!1:fD(I,{start:e,end:t}),y=I=>e&&nD(I,e)||t&&nD(I,t),w=I=>!d||!e||t?!1:fD(I,{start:e<d?e:d,end:e<d?d:e}),b=I=>{const E="w-8 h-8 flex items-center justify-center text-sm rounded-full cursor-pointer transition-colors",C=uD(I,c),N=y(I),U=v(I),X=w(I);return C?N?`${E} bg-blue-600 text-white font-semibold`:U?`${E} bg-blue-100 text-blue-900`:X?`${E} ${s?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`:`${E} ${s?"text-slate-200 hover:bg-slate-600":"text-slate-700 hover:bg-slate-100"}`:`${E} ${s?"text-slate-500":"text-slate-300"}`},D=oue(c),O=nz(c),P=Xce(D),T=lue(O),_=sue({start:P,end:T}),S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return f.jsxs("div",{className:`relative calendar-date-range-picker ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(f9,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:m()})]}),(e||t)&&f.jsx("span",{onClick:I=>{I.stopPropagation(),g()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),g())},children:f.jsx(up,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 mt-1 z-50 p-4 border rounded-lg shadow-lg w-80 ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:()=>u(Pfe(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(kZ,{className:"h-4 w-4"})}),f.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-800"}`,children:qt(c,"MMMM yyyy")}),f.jsx("button",{onClick:()=>u(ZV(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(CZ,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(I=>f.jsx("div",{className:`text-center text-xs font-medium py-2 ${s?"text-slate-400":"text-slate-500"}`,children:I},I))}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map(I=>f.jsx("button",{onClick:()=>p(I),onMouseEnter:()=>h(I),onMouseLeave:()=>h(null),className:b(I),disabled:!uD(I,c),children:qt(I,"d")},I.toISOString()))}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:g,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},FBe=()=>{const[e,t]=F.useState("daily"),[r,n]=F.useState(Mr(new Date,7)),[a,i]=F.useState(new Date),[s,o]=F.useState([]),[l,c]=F.useState([]),[u,d]=F.useState([]),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=F.useState(!0),{isDarkMode:v}=an(),{user:y}=Ea(),w=F.useCallback(async()=>{m(!0);try{const S=a||new Date,I=r||Mr(S,7),E=lr(wt(Xe,"orders"),sr("createdAt",">=",ir.fromDate(I)),sr("createdAt","<=",ir.fromDate(S))),N=(await ur(E)).docs.map(Se=>{var Me,He,at;return{id:Se.id,...Se.data(),createdAt:(Me=Se.data().createdAt)==null?void 0:Me.toDate(),updatedAt:(He=Se.data().updatedAt)==null?void 0:He.toDate(),shippedTime:(at=Se.data().shippedTime)==null?void 0:at.toDate()}}),U=lr(wt(Xe,"inventory")),z=(await ur(U)).docs.map(Se=>({id:Se.id,...Se.data(),lastUpdated:Se.data().lastUpdated instanceof ir?Se.data().lastUpdated.toDate():new Date(Se.data().lastUpdated)})),H=lr(wt(Xe,"activityLogs"),sr("time",">=",I.toISOString()),sr("time","<=",S.toISOString()),Fa("time","desc")),q=(await ur(H)).docs.map(Se=>({id:Se.id,...Se.data()}));d(q),o(z),c(N);const te=z.reduce((Se,Me)=>Se+(Me.quantity||0),0),Z=z.reduce((Se,Me)=>Se+(Me.quantity||0)*(Me.price||0),0),k=N.length,R=Mr(new Date,1),G=new Date,Y=N.filter(Se=>{const Me=Se.createdAt;return Me>=R&&Me<=G}),J=Y.length,se=Y.reduce((Se,Me)=>Se+(Me.totalAmount||0),0),ue=a||new Date,ae=r||Mr(ue,7),xe=q.filter(Se=>{const Me=new Date(Se.time);return Me>=ae&&Me<=ue}).filter(Se=>{const Me=Se.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Me){const[,xt]=Me;return z.some(ht=>ht.name===xt)}const He=Se.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(He){const[,xt]=He;return z.some(ht=>ht.name===xt)}return Se.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Se.detail)),!0}),W=ue.getTime()-ae.getTime(),Ne=new Date(ae.getTime()-W),ke=new Date(ae.getTime()),le=q.filter(Se=>{const Me=new Date(Se.time);return Me>=Ne&&Me<=ke}).filter(Se=>{const Me=Se.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Me){const[,xt]=Me;return z.some(ht=>ht.name===xt)}const He=Se.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(He){const[,xt]=He;return z.some(ht=>ht.name===xt)}return Se.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Se.detail)),!0}),Le=xe.reduce((Se,Me)=>{const He=Me.detail.match(/(\d+) units deducted/);return Se+(He?parseInt(He[1]):0)},0),Oe=le.reduce((Se,Me)=>{const He=Me.detail.match(/(\d+) units deducted/);return Se+(He?parseInt(He[1]):0)},0),Ve=xe.reduce((Se,Me)=>{const He=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(He){const[,ot,xt]=He;if(z.find(mt=>mt.name===ot))return Se+parseInt(xt)}const at=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,ot,xt,ht]=at;if(z.find(ct=>ct.name===ot)){const ct=parseInt(ht)-parseInt(xt);if(ct>0)return Se+ct}}return Se},0),We=xe.reduce((Se,Me)=>{const He=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(He){const[,ot,xt]=He,ht=z.find(mt=>mt.name===ot);if(ht){const mt=ht.price||0;return Se+parseInt(xt)*mt}}const at=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,ot,xt,ht]=at,mt=z.find(ct=>ct.name===ot);if(mt){const ct=parseInt(ht)-parseInt(xt);if(ct>0){const Zt=mt.price||0;return Se+ct*Zt}}}return Se},0),Fe=xe.reduce((Se,Me)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ot=>ot.test(Me.detail))){let ot=0;const xt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,ht=Me.detail.match(xt);if(ht)ot=parseInt(ht[1]);else{const mt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ct of mt){const Zt=Me.detail.match(ct);if(Zt){if(Zt.length===3){const Ht=parseInt(Zt[1]),Rr=parseInt(Zt[2]);ot=Math.abs(Ht-Rr)}else ot=parseInt(Zt[1]);break}}}return{incidents:Se.incidents+1,units:Se.units+(ot>0?ot:1)}}return Se},{incidents:0,units:0}).incidents;p({totalOrders:k,totalStock:te,totalInventoryValue:Z,totalDamagedProducts:Fe,yesterdayOrders:J,yesterdayStockChange:0,yesterdayRevenue:se,totalDeductions:Le,previousDeductions:Oe,todayStockAdditions:Ve,todayInventoryValueAdditions:We})}catch(S){console.error("Error fetching data:",S)}finally{m(!1)}},[r,a]),b=()=>{n(null),i(null)};if(F.useEffect(()=>{w()},[w]),F.useEffect(()=>{},[e]),!y||y.role!=="admin"&&y.role!=="staff")return f.jsx(C4,{to:"/",replace:!0});const D=()=>{const S=[],I=new Map,E=new Date;let C;switch(e){case"hourly":C=dD(E,24);break;case"daily":C=Mr(E,7);break;case"weekly":C=Mr(E,30);break;case"monthly":C=Mr(E,90);break;default:C=Mr(E,7)}return u.filter(X=>{const z=new Date(X.time);return z>=C&&z<=E}).filter(X=>{const z=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(z){const[,V]=z;return s.some(q=>q.name===V)}const H=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(H){const[,V]=H;return s.some(q=>q.name===V)}return!0}).forEach(X=>{let z=0,H=!1,V="";const q=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(q){const[,Z,k]=q;s.find(G=>G.name===Z)&&(z=parseInt(k),V=Z,H=!0)}const te=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(te){const[,Z,k,R]=te;if(s.find(Y=>Y.name===Z)){const Y=parseInt(R)-parseInt(k);Y>0&&(z=Y,V=Z,H=!0)}}if(H){const Z=new Date(X.time);let k;switch(e){case"hourly":k=qt(Z,"HH:mm");break;case"daily":k=qt(Z,"MMM dd");break;case"weekly":k=qt(Z,"'Week' w");break;case"monthly":k=qt(Z,"MMM yyyy");break;default:k=qt(Z,"MMM dd")}const R=I.get(k)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(V),I.set(k,{activities:R.activities+1,units:R.units+z,uniqueProducts:R.uniqueProducts})}}),I.forEach((X,z)=>{S.push({date:z,activities:X.activities,units:X.units,uniqueProducts:X.uniqueProducts.size})}),S.sort((X,z)=>{const H=new Date(X.date),V=new Date(z.date);return H.getTime()-V.getTime()})},O=()=>{const S=[],I=new Map,E=new Date;let C;switch(e){case"hourly":C=dD(E,24);break;case"daily":C=Mr(E,7);break;case"weekly":C=Mr(E,30);break;case"monthly":C=Mr(E,90);break;default:C=Mr(E,7)}return u.filter(X=>{const z=new Date(X.time);return z>=C&&z<=E}).filter(X=>(X.detail.match(/(\d+) units deducted from stock/),!0)).forEach(X=>{const z=X.detail.match(/(\d+) units deducted from stock/);if(z){const H=new Date(X.time);let V;switch(e){case"hourly":V=qt(H,"HH:mm");break;case"daily":V=qt(H,"MMM dd");break;case"weekly":V=qt(H,"'Week' w");break;case"monthly":V=qt(H,"MMM yyyy");break;default:V=qt(H,"MMM dd")}const q=I.get(V)||0;I.set(V,q+parseInt(z[1]))}}),I.forEach((X,z)=>{S.push({date:z,products:X})}),S.sort((X,z)=>{const H=new Date(X.date),V=new Date(z.date);return H.getTime()-V.getTime()})},P=()=>{const S=[],I=new Map,E=[],C=a||new Date,N=r||Mr(C,7);u.filter(H=>{const V=new Date(H.time);return V>=N&&V<=C}).filter(H=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(q=>q.test(H.detail)),!0)).forEach(H=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(te=>te.test(H.detail))){const te=new Date(H.time);let Z;switch(e){case"hourly":Z=qt(te,"HH:mm");break;case"daily":Z=qt(te,"MMM dd");break;case"weekly":Z=qt(te,"'Week' w");break;case"monthly":Z=qt(te,"MMM yyyy");break;default:Z=qt(te,"MMM dd")}let k=0;const R=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,G=H.detail.match(R);if(G)k=parseInt(G[1]);else{const ue=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ae of ue){const he=H.detail.match(ae);if(he){if(he.length===3){const xe=parseInt(he[1]),W=parseInt(he[2]);k=Math.abs(xe-W)}else k=parseInt(he[1]);break}}}let Y="Unknown Product";const J=H.detail.match(/"([^"]+)"/);J&&(Y=J[1]),E.push({date:Z,time:qt(te,"HH:mm"),user:H.user,productName:Y,units:k>0?k:1,detail:H.detail}),I.has(Z)||I.set(Z,{incidents:0,units:0,productNames:new Set});const se=I.get(Z);se.incidents+=1,se.units+=k>0?k:1,se.productNames.add(Y)}}),I.forEach((H,V)=>{S.push({date:V,products:H.incidents,units:H.units,productNames:Array.from(H.productNames)})});const z=S.sort((H,V)=>new Date(H.date).getTime()-new Date(V.date).getTime());return z.detailedIncidents=E.sort((H,V)=>{const q=new Date(H.date+" "+H.time);return new Date(V.date+" "+V.time).getTime()-q.getTime()}),z},T=()=>{try{const S=qt(new Date,"yyyy-MM-dd-HH-mm"),I=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(Z=>[Z.name,Z.quantity,Z.price,`${Z.locationCode}-${Z.shelfNumber}`,Z.status,Z.damagedItems]),C=D(),N=O(),U=P(),X=Math.max(C.length,N.length,U.length,E.length),z=[];z.push(`Warehouse Analytics Report - ${I} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${qt(new Date,"yyyy-MM-dd HH:mm:ss")}`),z.push(""),z.push("SUMMARY STATISTICS");const H=`Total Stock Added (${I}),${h.todayStockAdditions},Total Units Deducted (${I}),${h.totalDeductions},Total Damaged Products (${I}),${h.totalDamagedProducts}${(y==null?void 0:y.role)==="admin"?`,Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`:""}`;z.push(H),z.push(""),z.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),z.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let Z=0;Z<X;Z++){const k=[];if(Z<C.length){const R=C[Z];k.push(R.date,R.activities,R.units,R.uniqueProducts)}else k.push("","","","");if(Z<N.length){const R=N[Z];k.push(R.date,R.products)}else k.push("","");if(Z<U.length){const R=U[Z];k.push(R.date,R.products,R.units)}else k.push("","","");if(Z<E.length){const R=E[Z];k.push(...R)}else k.push("","","","","","");z.push(k.join(","))}z.push(""),z.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),z.push("Date,Time,User,Product Name,Units Damaged,Details"),U.detailedIncidents&&U.detailedIncidents.length>0?U.detailedIncidents.forEach(Z=>{z.push(`${Z.date},${Z.time},${Z.user},${Z.productName},${Z.units},"${Z.detail.replace(/"/g,'""')}"`)}):z.push("No detailed incidents available,,,,,");const V=z.join(`
`),q=new Blob([V],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a");te.href=URL.createObjectURL(q),te.download=`warehouse-report-${I}-${S}.csv`,te.click(),URL.revokeObjectURL(te.href)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV. Please try again.")}},_=()=>{try{const S=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",I=D(),E=O(),C=P(),N=C.detailedIncidents||[];(!N||N.length===0)&&console.log("No detailed incidents found, generating on the fly...");const U=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${S}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${S}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${qt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${S})</div>
              </div>
              ${(y==null?void 0:y.role)==="admin"?`
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
              `:""}
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${I.length}</p>
                <p><strong>Total Activities:</strong> ${I.reduce((z,H)=>z+H.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${I.reduce((z,H)=>z+H.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${I.reduce((z,H)=>z+H.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${I.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.activities}</td>
                      <td>${z.units}</td>
                      <td>${z.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${I.length>15?`<tr><td colspan="4"><em>... and ${I.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((z,H)=>z+H.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${C.length}</p>
                <p><strong>Total Incidents:</strong> ${C.reduce((z,H)=>z+H.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${C.reduce((z,H)=>z+H.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${N.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${C.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.products}</td>
                      <td>${z.units}</td>
                      <td>${z.productNames?z.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${C.length>15?`<tr><td colspan="4"><em>... and ${C.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.length>0?N.slice(0,50).map(z=>`
                    <tr>
                      <td>${z.date} ${z.time}</td>
                      <td>${z.user}</td>
                      <td>${z.productName}</td>
                      <td>${z.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${z.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${N.length>50?`<tr><td colspan="5"><em>... and ${N.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(z=>z.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(z=>z.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((z,H)=>z+(H.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(z=>`
                    <tr>
                      <td>${z.name}</td>
                      <td>${z.quantity}</td>
                      <td>${z.price&&!isNaN(z.price)?`£${z.price.toFixed(2)}`:"Not set"}</td>
                      <td>${z.locationCode}-${z.shelfNumber}</td>
                      <td>${z.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,X=window.open("","_blank");X?(X.document.write(U),X.document.close(),X.focus(),setTimeout(()=>{X.print()},500)):alert("Please allow pop-ups to export PDF")}catch(S){console.error("Error exporting PDF:",S),alert("Failed to export PDF. Please try again.")}};return f.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[f.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),f.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[f.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[f.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[f.jsx(G2,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),f.jsxs("button",{onClick:_,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[f.jsx(G2,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx(Jr,{value:e,onChange:S=>t(S.target.value),options:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx(RBe,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:b,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),f.jsx(nt,{variant:"secondary",onClick:w,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:f.jsx(La,{size:16,className:g?"animate-spin":""})})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?f.jsxs(f.Fragment,{children:[f.jsx(ff,{}),f.jsx(ff,{}),f.jsx(ff,{}),f.jsx(ff,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(bi,{title:`Total Stock Added (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:f.jsx(Hl,{size:24,className:"text-blue-600"})}),f.jsx(bi,{title:`Total Units Deducted (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:f.jsx(g9,{size:24,className:"text-blue-600"})}),f.jsx(bi,{title:`Total Damaged Products (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:f.jsx(ah,{size:24,className:"text-blue-600"})}),(y==null?void 0:y.role)==="admin"&&f.jsx(bi,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(K2,{size:24,className:"text-blue-600"})})]})}),g?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(G0,{width:"100%",height:"100%",children:f.jsxs(X0,{data:D(),children:[f.jsx(Qd,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(Hc,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(Gc,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Inbound Activities"?[`${S} activities`,I]:I==="Units Added"?[`${S} units`,I]:I==="Affected Products"?[`${S} products`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),f.jsx($o,{}),f.jsx(Da,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(G0,{width:"100%",height:"100%",children:f.jsxs(X0,{data:O(),children:[f.jsx(Qd,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(Hc,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(Gc,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),f.jsx($o,{}),f.jsx(Da,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(G0,{width:"100%",height:"100%",children:f.jsxs(X0,{data:P(),children:[f.jsx(Qd,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(Hc,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(Gc,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Damaged Incidents"?[`${S} incidents`,I]:I==="Units Damaged"?[`${S} units`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),f.jsx($o,{}),f.jsx(Da,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},$Be=()=>{const{user:e,setUser:t}=Ea(),{showToast:r}=lc(),{isDarkMode:n,toggleDarkMode:a}=an(),[i,s]=F.useState(!1),[o,l]=F.useState({}),[c,u]=F.useState([]),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,w]=F.useState({}),[b,D]=F.useState({}),[O,P]=F.useState(!1),[T,_]=F.useState(null),[S,I]=F.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,C]=F.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),N=F.useCallback(async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const se=(await ur(wt(Xe,"users"))).docs.map(ue=>({id:ue.id,...ue.data()}));u(se)}catch(J){console.error("Error fetching users:",J),r("Error fetching users","error")}finally{s(!1)}}},[e==null?void 0:e.role,r]);F.useEffect(()=>{N()},[e==null?void 0:e.role,r,N]);const U=J=>J.split(" ").map(se=>se[0]).join("").toUpperCase().slice(0,2),X=J=>{const{name:se,value:ue}=J.target;I(ae=>({...ae,[se]:ue})),o[se]&&l(ae=>{const he={...ae};return delete he[se],he})},z=()=>{const J={};return S.username.trim()||(J.username="Username is required"),S.email.trim()&&!/\S+@\S+\.\S+/.test(S.email)&&(J.email="Invalid email format"),S.name.trim()||(J.name="Name is required"),(S.currentPassword||S.newPassword||S.confirmPassword)&&(S.currentPassword?S.currentPassword!==(e==null?void 0:e.password)&&(J.currentPassword="Current password is incorrect"):J.currentPassword="Current password is required",S.newPassword?S.newPassword.length<6&&(J.newPassword="Password must be at least 6 characters"):J.newPassword="New password is required",S.newPassword!==S.confirmPassword&&(J.confirmPassword="Passwords do not match")),l(J),Object.keys(J).length===0},H=async J=>{if(J.preventDefault(),!!e&&z()){s(!0);try{const se={username:S.username,email:S.email,name:S.name,password:S.currentPassword!=""&&S.confirmPassword!=""&&S.newPassword!=""?S.newPassword:e.password},ue=[];e.username!==S.username&&ue.push(`changed username from "${e.username}" to "${S.username}"`),e.email!==S.email&&ue.push(`changed email from "${e.email}" to "${S.email}"`),e.name!==S.name&&ue.push(`changed full name from "${e.name}" to "${S.name}"`),S.currentPassword&&S.newPassword&&ue.push("changed their password");const ae=Sr(Xe,"users",e.id);await Vn(ae,se),ue.length>0&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:ue.length===1?ue[0]:`made multiple profile changes: ${ue.join("; ")}`,time:new Date().toISOString()}),t({...e,username:S.username,email:S.email,name:S.name,password:S.newPassword||e.password}),I(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(se){console.error("Error updating profile:",se),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},V=J=>{h(J),D({}),C({username:J.username,email:J.email,name:J.name,newPassword:"",confirmPassword:""})},q=J=>{const{name:se,value:ue}=J.target;C(ae=>({...ae,[se]:ue})),b[se]&&D(ae=>{const he={...ae};return delete he[se],he})},te=async()=>{if(d)try{if(s(!0),D({}),!E.username.trim()){D({username:"Username is required"});return}if(!E.name.trim()){D({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){D({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){D({newPassword:"Password must be at least 6 characters"});return}}const J=Sr(Xe,"users",d.id),se={username:E.username,email:E.email,name:E.name,role:d.role};E.newPassword&&(se.password=E.newPassword),console.log("Attempting to update document with data:",se);try{await Vn(J,se),console.log("User updated successfully in Firestore")}catch(ue){console.error("Failed to update by ID, trying to find by username:",ue);const ae=lr(wt(Xe,"users"),sr("username","==",d.username)),he=await ur(ae);if(he.empty)throw new Error("User not found by username either");{const xe=he.docs[0],W=Sr(Xe,"users",xe.id);await Vn(W,se),console.log("User updated successfully using fallback method"),u(Ne=>Ne.map(ke=>ke.username===d.username?{...ke,id:xe.id,...se}:ke))}}await mr(wt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${d.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(ue=>ue.map(ae=>ae.id===d.id?{...ae,...se}:ae)),r("User updated successfully","success"),h(null)}catch(J){console.error("Error updating user:",J),r("Failed to update user","error")}finally{s(!1)}},Z=J=>{const{name:se,value:ue}=J.target;v(ae=>({...ae,[se]:ue})),y[se]&&w(ae=>{const he={...ae};return delete he[se],he})},k=()=>{const J={};return m.username.trim()||(J.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(J.email="Invalid email format"),m.name.trim()||(J.name="Name is required"),m.password?m.password.length<6&&(J.password="Password must be at least 6 characters"):J.password="Password is required",m.password!==m.confirmPassword&&(J.confirmPassword="Passwords do not match"),w(J),Object.keys(J).length===0},R=async J=>{if(J.preventDefault(),!!k()){s(!0);try{const ue=(await ur(wt(Xe,"users"))).docs.map(he=>he.data());if(ue.some(he=>he.username===m.username)){w({username:"Username already exists"});return}if(m.email.trim()&&ue.some(he=>he.email===m.email)){w({email:"Email already exists"});return}const ae=await mr(wt(Xe,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await mr(wt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(he=>[...he,{id:ae.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(se){console.error("Error adding user:",se),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},G=async(J,se)=>{_({username:se,name:J}),P(!0)},Y=async()=>{if(T)try{s(!0);const J=wt(Xe,"users"),se=lr(J,sr("username","==",T.username)),ue=await ur(se);if(ue.empty){r("User not found.","error");return}const ae=ue.docs[0],he=Sr(Xe,"users",ae.id);await Ms(he),await mr(wt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(xe=>xe.filter(W=>W.username!==T.username)),r("User deleted successfully!","success")}catch(J){console.error("Error deleting user:",J),r("Failed to delete user. Please try again.","error")}finally{s(!1),P(!1),_(null)}};return f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),f.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&f.jsx(nt,{variant:"secondary",onClick:N,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:f.jsx(La,{size:16,className:i?"animate-spin":""})}),f.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?f.jsx(m9,{size:20}):f.jsx(h9,{size:20})})]})]}),d&&f.jsxs(fn,{isOpen:!!d,onClose:()=>{h(null),D({})},title:"Edit User",size:"md",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(jt,{label:"Username",name:"username",value:E.username,onChange:q,error:b.username}),f.jsx(jt,{label:"Email",name:"email",type:"email",value:E.email,onChange:q,error:b.email}),f.jsx(jt,{label:"Name",name:"name",value:E.name,onChange:q,error:b.name}),f.jsx(Yu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:q,error:b.newPassword}),f.jsx(Yu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:q,error:b.confirmPassword})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[f.jsx(nt,{variant:"secondary",onClick:()=>{h(null),D({})},disabled:i,children:"Cancel"}),f.jsx(nt,{onClick:te,disabled:i,children:i?"Updating...":"Update User"})]})]}),f.jsxs(fn,{isOpen:O,onClose:()=>P(!1),title:"Confirm Deletion",size:"sm",children:[f.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx(nt,{variant:"secondary",onClick:()=>P(!1),disabled:i,children:"Cancel"}),f.jsx(nt,{variant:"danger",onClick:Y,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),f.jsxs("form",{onSubmit:H,className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"relative",children:f.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:f.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:U((e==null?void 0:e.name)||"")})})}),f.jsxs("div",{children:[f.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:S.name}),f.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Username",name:"username",value:S.username,onChange:X,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),f.jsx(jt,{label:"Email",name:"email",type:"email",value:S.email,onChange:X,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),f.jsx(jt,{label:"Full Name",name:"name",value:S.name,onChange:X,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),f.jsx(Yu,{label:"Current Password",name:"currentPassword",value:S.currentPassword,onChange:X,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Yu,{label:"New Password",name:"newPassword",value:S.newPassword,onChange:X,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),f.jsx(Yu,{label:"Confirm Password",name:"confirmPassword",value:S.confirmPassword,onChange:X,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&f.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),f.jsx("div",{className:"flex justify-end",children:f.jsx(nt,{type:"submit",isLoading:i,icon:f.jsx(L4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&f.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),f.jsxs(nt,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[f.jsx(L4,{size:16}),"Add New User"]})]}),f.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[f.jsx("div",{className:"hidden md:block overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[f.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(J=>J.id!==(e==null?void 0:e.id)).map(J=>f.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.username}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.email||"-"}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.name}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.role==="admin"?"Admin":J.role==="staff"?"Staff":J.role==="supply_serve"?"Supply & Serve":J.role==="fahiz"?"Fahiz":J.role==="aphy"?"APHY":J.role}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>V(J),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>G(J.name,J.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(oi,{size:16})})]})})]},J.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(J=>J.id!==(e==null?void 0:e.id)).map(J=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:J.name}),f.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:J.username})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>V(J),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(nt,{variant:"ghost",size:"sm",onClick:()=>G(J.name,J.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(oi,{size:16})})]})]}),f.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:J.email||"-"}),f.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:J.role==="admin"?"Admin":J.role==="staff"?"Staff":J.role==="supply_serve"?"Supply & Serve":J.role==="fahiz"?"Fahiz":J.role==="aphy"?"APHY":J.role})]},J.id))})]}),f.jsx(fn,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:f.jsxs("form",{onSubmit:R,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Username",name:"username",value:m.username,onChange:Z,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),f.jsx(jt,{label:"Email",name:"email",type:"email",value:m.email,onChange:Z,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Full Name",name:"name",value:m.name,onChange:Z,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),f.jsx(Jr,{label:"Role",name:"role",value:m.role,onChange:Z,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"},{value:"fahiz",label:"Fahiz"},{value:"aphy",label:"APHY"}],fullWidth:!0})]}),f.jsx(Yu,{label:"Password",name:"password",value:m.password,onChange:Z,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),f.jsx(Yu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:Z,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(nt,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},LA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],BBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=F.useState(""),[i,s]=F.useState("stock sold"),[o,l]=F.useState(""),c=LA.includes(e.storeName)?LA:[e.storeName,...LA],u=[...c,"other"],[d,h]=F.useState(e.storeName||c[0]||""),[p,g]=F.useState(""),{isDarkMode:m}=an(),v=async b=>{b.preventDefault();const D=Number(n);if(!n||D<=0||D>e.quantity)return;const O=i==="other"?o:i,P=d==="other"?p.trim():d.trim();await t({id:e.id,quantity:e.quantity-D,reason:O,storeName:P})},w=(()=>{const b=Number(n);return!n||b<=0?"Quantity to deduct must be greater than 0":b>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!d.trim()||d==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return f.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(jt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:b=>a(b.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(Jr,{id:"reason",value:i,onChange:b=>s(b.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(jt,{id:"otherReason",type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsx(Jr,{id:"storeName",value:d,onChange:b=>h(b.target.value),options:u.map(b=>({value:b,label:b==="other"?"OTHER":b==null?void 0:b.toUpperCase()})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`}),d==="other"&&f.jsx(jt,{id:"otherStoreName",type:"text",value:p,onChange:b=>g(b.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),w?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[f.jsx(ah,{size:16}),f.jsx("span",{children:w})]}):f.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsx("div",{className:"flex justify-end space-x-3",children:f.jsx(nt,{type:"submit",disabled:r||!!w,className:"min-w-[100px]",children:r?f.jsxs(f.Fragment,{children:[f.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},UBe=()=>{var Z;const[e,t]=F.useState(""),[r,n]=F.useState("name"),[a,i]=F.useState(!1),[s,o]=F.useState(!1),[l,c]=F.useState(null),[u,d]=F.useState([]),[h,p]=F.useState(!1),[g,m]=F.useState(new Set),[v,y]=F.useState(null),[w,b]=F.useState(!1),[D,O]=F.useState("all"),[P,T]=F.useState(!1),{showToast:_}=lc(),{isDarkMode:S}=an(),{user:I}=Ea(),E=["supply & serve","APHY","AZTEC","ZK","Fahiz"],C=async()=>{o(!0);try{const k=lr(wt(Xe,"inventory"),Fa("name")),G=(await ur(k)).docs.map(Y=>{const J=Y.data();return{id:Y.id,...J,lastUpdated:J.lastUpdated instanceof ir?J.lastUpdated.toDate():new Date(J.lastUpdated)}});d(G)}catch(k){console.error("Error fetching stock items:",k),_("Failed to fetch stock items","error")}finally{o(!1)}},N=async()=>{try{const k=Mr(new Date,90),R=lr(wt(Xe,"activityLogs"),sr("time",">=",k.toISOString()),Fa("time","desc")),Y=(await ur(R)).docs.map(he=>({id:he.id,...he.data()})),J=Mr(new Date,10),se=new Set,ue=new Map;Y.forEach(he=>{if(he.detail.includes("added new product")){const xe=he.detail.match(/added new product "([^"]+)"/);if(xe){const W=xe[1],Ne=new Date(he.time);(!ue.has(W)||Ne<ue.get(W))&&ue.set(W,Ne)}}if(he.detail.includes("units deducted from stock")){const xe=he.detail.match(/units deducted from stock "([^"]+)"/);if(xe){const W=xe[1];new Date(he.time)>=J&&se.add(W)}}});const ae=new Set;u.forEach(he=>{const xe=he.name,W=ue.get(xe);W&&W<J&&!se.has(xe)&&ae.add(xe)}),m(ae)}catch(k){console.error("Error fetching activity logs:",k)}};F.useEffect(()=>{C()},[_]),F.useEffect(()=>{u.length>0&&N()},[u]),F.useEffect(()=>{const k=R=>{if(w||P){const G=R.target;!G.closest(".store-filter-dropdown")&&!G.closest(".status-filter-dropdown")&&(b(!1),T(!1))}};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[w,P]);const U=()=>{y(null),O("all"),b(!1),T(!1)},X=u.filter(k=>k.quantity>0).filter(k=>{const R=e.toLowerCase(),G=k.name.toLowerCase().includes(R),Y=`${k.locationCode} - ${k.shelfNumber}`.toLowerCase().includes(R),J=k.asin?k.asin.split(",").some(he=>he.trim().toLowerCase().includes(R)):!1,se=k.barcode?k.barcode.toLowerCase().includes(R):!1,ue=v?v.storeName==="other"?!E.includes(k.storeName)&&k.fulfillmentType===v.fulfillmentType:k.storeName===v.storeName&&k.fulfillmentType===v.fulfillmentType:!0,ae=D==="all"||k.status===D;return(G||Y||J||se)&&ue&&ae}).sort((k,R)=>r==="name"?k.name.localeCompare(R.name):r==="quantity"?R.quantity-k.quantity:r==="price"?R.price-k.price:r==="date"?new Date(R.lastUpdated).getTime()-new Date(k.lastUpdated).getTime():0),z=async k=>{var R;o(!0);try{const G=Sr(Xe,"inventory",k.id),Y=await qd(G);if(!Y.exists())throw new Error("Stock item not found");const J=Y.data();if(!I)throw new Error("User not authenticated");const se=k.reason==="damaged"?J.damagedItems+(J.quantity-k.quantity):J.damagedItems,ue=new Date;await Vn(G,{quantity:k.quantity,damagedItems:se,lastUpdated:ir.fromDate(ue)}),await mr(wt(Xe,"activityLogs"),{detail:`${J.quantity-k.quantity} units deducted from stock "${J.name}" (Reason: ${k.reason}, Store: ${(R=k.storeName)==null?void 0:R.toUpperCase()}) by ${I.role} from location ${J.locationCode} shelf ${J.shelfNumber}`,time:new Date().toISOString(),user:I.name,role:I.role});const ae=u.map(he=>he.id===k.id?{...he,quantity:k.quantity,damagedItems:se}:he);d(ae),c(null),i(!1),_("Stock quantity updated successfully","success")}catch(G){console.error("Error updating stock:",G),_("Failed to update stock quantity","error")}finally{o(!1)}},H=k=>{a||c(k)},V=(k,R)=>{k.stopPropagation(),c(R),i(!0)},q=()=>{p(!0)},te=k=>{t(k),p(!1)};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${S?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),f.jsx("p",{className:`${S?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(jt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:k=>t(k.target.value),icon:f.jsx(El,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:q,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(Jc,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:r,onChange:k=>n(k.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>T(!P),className:`flex items-center gap-2 ${D!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[D==="all"?"Status Filter":D==="active"?"Active":"Pending",f.jsx(vl,{size:16})]}),P&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="all"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{O("all"),T(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="active"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{O("active"),T(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="pending"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{O("pending"),T(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{O("all"),T(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>b(!w),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"OTHER":(Z=v.storeName)==null?void 0:Z.toUpperCase()} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",f.jsx(vl,{size:16})]}),w&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(k=>f.jsxs("div",{className:"group relative",children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k?S?"bg-slate-700":"bg-slate-100":""}`,children:k==null?void 0:k.toUpperCase()}),f.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k&&(v==null?void 0:v.fulfillmentType)==="fba"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:k,fulfillmentType:"fba"}),b(!1)},children:"FBA"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k&&(v==null?void 0:v.fulfillmentType)==="mf"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:k,fulfillmentType:"mf"}),b(!1)},children:"MF"})]})]},k)),f.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),b(!1)},children:"Clear Filter"})})]})})]})]}),f.jsx(nt,{variant:"secondary",onClick:()=>{C(),U()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:f.jsx(La,{size:16,className:s?"animate-spin":""})}),(v||D!=="all")&&f.jsx(nt,{variant:"secondary",onClick:U,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?f.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(gs,{className:`w-8 h-8 ${S?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:S?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):X.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:`${S?"bg-slate-800":"bg-slate-50"}`,children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(I==null?void 0:I.role)==="admin"&&f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${S?"divide-slate-700":"divide-slate-200"}`,children:X.map(k=>f.jsxs("tr",{className:`${S?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>H(k),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-blue-400":"text-blue-700"} font-medium`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[k.name,g.has(k.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(Tv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:k.status==="active"?"Active":"Pending"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:[k.locationCode," - ",k.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.asin?k.asin.split(",").length>3?k.asin.split(",").slice(0,3).map(R=>R.trim()).join(", ")+"...":k.asin.split(",").map(R=>R.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),k.quantity>10&&k.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),f.jsx("span",{children:k.quantity})]})}),(I==null?void 0:I.role)==="admin"&&f.jsx("td",{className:`px-4 py-3 text-right text-sm ${S?"text-slate-200":"text-slate-900"}`,children:Number(k.price)>0?`£${Number(k.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:qt(new Date(k.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:"px-4 py-3 text-right text-sm",children:f.jsx("div",{className:"flex items-center justify-end gap-2",children:f.jsx(nt,{variant:"secondary",size:"sm",onClick:R=>V(R,k),className:`p-1 ${S?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:f.jsx(vs,{size:16})})})})]},k.id))})]})})}),f.jsx("div",{className:"block md:hidden space-y-4",children:X.map(k=>f.jsxs("div",{className:`rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>H(k),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${S?"text-blue-400":"text-blue-700"}`,children:k.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[g.has(k.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(Tv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:k.status==="active"?"Active":"Pending"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[k.locationCode," - ",k.shelfNumber]})]}),f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:k.quantity})]}),k.asin&&f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:k.asin})]}),(I==null?void 0:I.role)==="admin"&&f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(k.price)>0?`£${Number(k.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(k.lastUpdated),"MMM d, yyyy")})]})]}),f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsxs(nt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),V(R,k)},children:[f.jsx(vs,{size:14})," Edit"]})})]},k.id))})]}):f.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:S?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(fn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&f.jsx(BBe,{item:l,onSubmit:z,isLoading:s})}),l&&!a&&f.jsx(sy,{isOpen:!0,onClose:()=>c(null),item:l}),f.jsx(_h,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:te})]})},VBe=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState(new Set),[s,o]=F.useState(""),[l,c]=F.useState(""),[u,d]=F.useState("locationCode"),[h,p]=F.useState({}),{showToast:g}=lc(),{isDarkMode:m}=an(),[v,y]=F.useState(!1),[w,b]=F.useState(null),[D,O]=F.useState(1),[P,T]=F.useState("A1"),[_,S]=F.useState("0"),[I,E]=F.useState(!1),[C,N]=F.useState(!1),[U,X]=F.useState(""),[z,H]=F.useState(Pf("A1")),[V,q]=F.useState(null),[te,Z]=F.useState(!1),[k,R]=F.useState(null),[G,Y]=F.useState(!1),{user:J}=Ea(),se=Ee=>{T(Ee);const Fe=Pf(Ee);H(Fe),parseInt(_)>=Fe.length&&S("0")},ue=async()=>{t(!0);try{const Ee=lr(wt(Xe,"inventory"),Fa("locationCode")),Se=(await ur(Ee)).docs.map(Me=>{const He=Me.data();return{id:Me.id,name:He.name||"",quantity:He.quantity||0,price:He.price||0,unit:He.unit||null,supplier:He.supplier??null,lastUpdated:He.lastUpdated instanceof ir?He.lastUpdated.toDate():new Date,locationCode:He.locationCode||"",shelfNumber:He.shelfNumber||"",barcode:He.barcode??null,asin:He.asin??null,status:He.status||"pending",damagedItems:He.damagedItems||0,fulfillmentType:He.fulfillmentType||"fba",storeName:He.storeName||""}});n(Se)}catch(Ee){console.error("Error fetching locations:",Ee),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},ae=async()=>{try{const Ee=lr(wt(Xe,"locations")),Fe=await ur(Ee),Se={};Fe.forEach(Me=>{Se[Me.id]=Me.data().isAvailable!==!1}),p(Se)}catch(Ee){console.error("Error fetching location availability:",Ee)}};F.useEffect(()=>{t(!0),Promise.all([ue(),ae()]).finally(()=>t(!1))},[]);const he=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location","Awaiting Locations Sparklin","Awaiting Locations Aztec"],xe=he.reduce((Ee,Fe)=>{const Me=r.filter(He=>He.locationCode===Fe).reduce((He,at)=>{const ot=He.findIndex(xt=>xt.name===at.name&&Oe(xt.asin)===Oe(at.asin)&&Oe(xt.barcode)===Oe(at.barcode)&&xt.locationCode===at.locationCode&&xt.shelfNumber===at.shelfNumber);return ot>=0?He[ot]={...He[ot],quantity:He[ot].quantity+at.quantity,lastUpdated:He[ot].lastUpdated>at.lastUpdated?He[ot].lastUpdated:at.lastUpdated}:He.push(at),He},[]);return Ee[Fe]={locationCode:Fe,totalStock:Me.reduce((He,at)=>He+at.quantity,0),products:Me},Ee},{}),W=Object.values(xe).filter(Ee=>{const Fe=s.toLowerCase(),Se=l.toLowerCase(),Me=Se===""||Ee.locationCode.toLowerCase().includes(Se),He=Fe===""||Ee.products.some(at=>at.name.toLowerCase().includes(Fe)||at.asin&&at.asin.split(",").some(ot=>ot.trim().toLowerCase().includes(Fe))||at.barcode&&at.barcode.toLowerCase().includes(Fe));return Me&&He}).sort((Ee,Fe)=>{if(u==="totalStock")return Fe.totalStock-Ee.totalStock;if(u==="locationCode")return Ee.locationCode==="Awaiting Location"?-1:Fe.locationCode==="Awaiting Location"?1:Ee.locationCode==="Awaiting Locations Sparklin"?-1:Fe.locationCode==="Awaiting Locations Sparklin"?1:Ee.locationCode==="Awaiting Locations Aztec"?-1:Fe.locationCode==="Awaiting Locations Aztec"?1:Ee.locationCode.localeCompare(Fe.locationCode);if(u==="availability"){const Se=h[Ee.locationCode]!==!1,Me=h[Fe.locationCode]!==!1;return Se===Me?Ee.locationCode==="Awaiting Location"?-1:Fe.locationCode==="Awaiting Location"?1:Ee.locationCode==="Awaiting Locations Sparklin"?-1:Fe.locationCode==="Awaiting Locations Sparklin"?1:Ee.locationCode==="Awaiting Locations Aztec"?-1:Fe.locationCode==="Awaiting Locations Aztec"?1:Ee.locationCode.localeCompare(Fe.locationCode):Se?-1:1}return 0});F.useEffect(()=>{if(s.trim()&&s!==U){const Ee=W.filter(Fe=>{const Se=s.toLowerCase();return Fe.products.some(Me=>Me.quantity>0&&(Me.name.toLowerCase().includes(Se)||Me.asin&&Me.asin.split(",").some(He=>He.trim().toLowerCase().includes(Se))||Me.barcode&&Me.barcode.toLowerCase().includes(Se)))});if(Ee.length>0){const Fe=Ee.flatMap(Me=>Me.products.filter(He=>{if(He.quantity===0)return!1;const at=s.toLowerCase();return He.name.toLowerCase().includes(at)||He.asin&&He.asin.split(",").some(ot=>ot.trim().toLowerCase().includes(at))||He.barcode&&He.barcode.toLowerCase().includes(at)})),Se=[...new Set(Fe.map(Me=>`${Me.locationCode}-${Me.shelfNumber}`))];g(`Product found! Located at: ${Se.join(", ")}`,"success"),X(s)}else s.trim()&&s!==U&&(g("Product not found in any location","error"),X(s))}else!s.trim()&&U&&X("")},[W,s,g,U]);const Ne=Ee=>{i(Fe=>{const Se=new Set(Fe);return Se.has(Ee)?Se.delete(Ee):Se.add(Ee),Se})},ke=()=>{N(!0)},_e=Ee=>{o(Ee),N(!1)},le=async Ee=>{const Fe=!(h[Ee]??!0);p(Se=>({...Se,[Ee]:Fe}));try{await cx(Sr(Xe,"locations",Ee),{isAvailable:Fe},{merge:!0})}catch(Se){g("Failed to update availability","error"),p(Me=>({...Me,[Ee]:!Fe})),console.log(Se)}};function Le(Ee){const Fe={...Ee};return Object.keys(Fe).forEach(Se=>{Fe[Se]===void 0&&(Fe[Se]=null)}),Fe}function Oe(Ee){return Ee??""}const Ve=async()=>{if(w&&!(D<1||D>w.quantity)){E(!0);try{const Ee=lr(wt(Xe,"inventory")),Fe=await ur(Ee);let Se=null;if(Fe.forEach(Me=>{const He=Me.data();He.name===w.name&&He.locationCode===P&&He.shelfNumber===_&&Oe(He.asin)===Oe(w.asin)&&Oe(He.barcode)===Oe(w.barcode)&&(Se={...He,id:Me.id})}),D===w.quantity)await cx(Sr(Xe,"inventory",w.id),Le({...w,locationCode:P,shelfNumber:_,lastUpdated:new Date}),{merge:!0});else if(await cx(Sr(Xe,"inventory",w.id),Le({...w,quantity:w.quantity-D,lastUpdated:new Date}),{merge:!0}),Se)await cx(Sr(Xe,"inventory",Se.id),Le({...Se,quantity:Se.quantity+D,lastUpdated:new Date}),{merge:!0});else{const{id:Me,...He}=w;await mr(wt(Xe,"inventory"),Le({...He,quantity:D,locationCode:P,shelfNumber:_,lastUpdated:new Date}))}await mr(wt(Xe,"activityLogs"),{user:(J==null?void 0:J.name)||"Unknown",role:(J==null?void 0:J.role)||"Unknown",detail:`Moved ${D} unit(s) of "${w.name}" from ${w.locationCode}-${w.shelfNumber} to ${P}-${_}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),b(null),ue()}catch(Ee){g("Failed to move stock","error"),console.log(Ee)}finally{E(!1)}}},We=async()=>{if(V){Z(!0);try{await Ms(Sr(Xe,"inventory",V.id)),await mr(wt(Xe,"activityLogs"),{user:(J==null?void 0:J.name)||"Unknown",role:(J==null?void 0:J.role)||"Unknown",detail:`deleted product "${V.name}" (${V.quantity} units) from location ${V.locationCode}-${V.shelfNumber}`,time:new Date().toISOString()}),g("Product deleted successfully","success"),q(null),ue()}catch(Ee){g("Failed to delete product","error"),console.error("Error deleting product:",Ee)}finally{Z(!1)}}};return f.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),f.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),f.jsxs(nt,{variant:"primary",onClick:()=>Y(!0),className:"flex items-center gap-2",children:[f.jsx(MZ,{size:16}),"Visual Map"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(jt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:Ee=>o(Ee.target.value),icon:f.jsx(El,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:ke,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(Jc,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"flex-1",children:f.jsx(jt,{type:"text",placeholder:"Search by location code...",value:l,onChange:Ee=>c(Ee.target.value),icon:f.jsx(El,{size:16})})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:u,onChange:Ee=>d(Ee.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),f.jsx(nt,{variant:"secondary",onClick:ue,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:f.jsx(La,{size:16,className:e?"animate-spin":""})})]}),e?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):W.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[f.jsx(Hl,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),f.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(W).map(Ee=>{const Fe=a.has(Ee.locationCode);return f.jsxs("div",{"data-location":Ee.locationCode,className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Fe?"ring-2 ring-blue-500":""}`,children:[f.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>Ne(Ee.locationCode),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:f.jsx(Hl,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),f.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:Ee.locationCode==="Awaiting Location"?"Awaiting Location":Ee.locationCode==="Awaiting Locations Sparklin"?"Awaiting Locations Sparklin":Ee.locationCode==="Awaiting Locations Aztec"?"Awaiting Locations Aztec":`Location ${Ee.locationCode}`})]}),f.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:h[Ee.locationCode]!==!1,onChange:Se=>{Se.stopPropagation(),le(Ee.locationCode)},className:"sr-only peer"}),f.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[Ee.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),f.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[Ee.locationCode]!==!1?"translate-x-5":""}
                          `})]}),f.jsx("span",{className:`text-xs font-semibold ml-2 ${h[Ee.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[Ee.locationCode]!==!1?"Available":"Not Available"}),f.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:Se=>{Se.stopPropagation(),Ne(Ee.locationCode)},"aria-label":Fe?"Collapse":"Expand",children:Fe?f.jsx(d9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):f.jsx(vl,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),f.jsxs("div",{className:"flex justify-between items-end mt-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),f.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[Ee.totalStock," units"]})]}),f.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?Ee.products.filter(Se=>{if(Se.quantity===0)return!1;const Me=s.toLowerCase();return Se.name.toLowerCase().includes(Me)||Se.asin&&Se.asin.split(",").some(He=>He.trim().toLowerCase().includes(Me))||Se.barcode&&Se.barcode.toLowerCase().includes(Me)}).length:Ee.products.filter(Se=>Se.quantity>0).length," product",(s.trim()?Ee.products.filter(Se=>{if(Se.quantity===0)return!1;const Me=s.toLowerCase();return Se.name.toLowerCase().includes(Me)||Se.asin&&Se.asin.split(",").some(He=>He.trim().toLowerCase().includes(Me))||Se.barcode&&Se.barcode.toLowerCase().includes(Me)}).length:Ee.products.filter(Se=>Se.quantity>0).length)!==1?"s":""]})]})]}),Fe&&f.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[f.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?Ee.products.filter(Se=>{if(Se.quantity===0)return!1;const Me=s.toLowerCase();return Se.name.toLowerCase().includes(Me)||Se.asin&&Se.asin.split(",").some(He=>He.trim().toLowerCase().includes(Me))||Se.barcode&&Se.barcode.toLowerCase().includes(Me)}).length===0:Ee.products.filter(Se=>Se.quantity>0).length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),f.jsx("div",{className:"space-y-4",children:Ee.products.filter(Se=>{if(Se.quantity===0)return!1;if(s.trim()){const Me=s.toLowerCase();return Se.name.toLowerCase().includes(Me)||Se.asin&&Se.asin.split(",").some(He=>He.trim().toLowerCase().includes(Me))||Se.barcode&&Se.barcode.toLowerCase().includes(Me)}return!0}).map(Se=>{const Me=Ee.totalStock===0?0:Se.quantity/Ee.totalStock*100,He=s.toLowerCase(),at=Se.name.toLowerCase().includes(He)||Se.asin&&Se.asin.split(",").some(ot=>ot.trim().toLowerCase().includes(He))||Se.barcode&&Se.barcode.toLowerCase().includes(He);return f.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors cursor-pointer hover:bg-opacity-80 ${at?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":m?"hover:bg-slate-700":"hover:bg-slate-100"}`,onClick:async()=>{var xt;const ot=await qd(Sr(Xe,"inventory",Se.id));if(ot.exists()){const ht=ot.data(),mt={...ht,id:Se.id,lastUpdated:(xt=ht.lastUpdated)!=null&&xt.toDate?ht.lastUpdated.toDate():new Date(ht.lastUpdated)};R(mt)}else g("Failed to fetch product details","error")},children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:`font-medium ${at?"text-blue-600":m?"text-white":"text-slate-800"}`,children:Se.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",Se.shelfNumber]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[Se.quantity," units"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center gap-1",onClick:async ot=>{ot.stopPropagation();const xt=await qd(Sr(Xe,"inventory",Se.id));if(xt.exists()){const ht=xt.data();b({...ht,id:Se.id}),O(1),T(Se.locationCode),S(Se.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"}),f.jsxs("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center gap-1",onClick:async ot=>{ot.stopPropagation();const xt=await qd(Sr(Xe,"inventory",Se.id));if(xt.exists()){const ht=xt.data();q({...ht,id:Se.id})}else g("Failed to fetch product details","error")},children:[f.jsx(oi,{size:12}),"Delete"]})]})]})]}),f.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${Me>75?"bg-green-500":Me>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${Me}%`},title:`${Se.quantity} out of ${Ee.totalStock} units (${Me.toFixed(1)}%)`})})]},Se.id)})})]})]},Ee.locationCode)})}),f.jsx(fn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:w&&f.jsxs("form",{onSubmit:Ee=>{Ee.preventDefault(),Ve()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),f.jsx("input",{type:"number",min:1,max:w.quantity,value:D,onChange:Ee=>O(Number(Ee.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),f.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",w.quantity]})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),f.jsx("select",{value:P,onChange:Ee=>se(Ee.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:he.map(Ee=>f.jsx("option",{value:Ee,children:Ee},Ee))})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),f.jsx("select",{value:_,onChange:Ee=>S(Ee.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:z.map(Ee=>f.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),f.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:I,children:I?"Moving...":"Move"})]})]})}),f.jsx(_h,{isOpen:C,onClose:()=>N(!1),onBarcodeScanned:_e}),f.jsx(fh,{isOpen:!!V,onClose:()=>q(null),onConfirm:We,title:"Delete Product",message:V?`Are you sure you want to delete "${V.name}" (${V.quantity} units) from location ${V.locationCode}-${V.shelfNumber}? This action cannot be undone.`:"",isLoading:te}),k&&f.jsx(sy,{isOpen:!!k,onClose:()=>R(null),item:k}),G&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>Y(!1)}),f.jsxs("div",{className:`relative w-full h-full max-w-none max-h-none m-0 rounded-none ${m?"bg-slate-900":"bg-white"} flex flex-col`,children:[f.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${m?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{children:f.jsx("h2",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Visual Map"})}),f.jsx("button",{onClick:()=>Y(!1),className:`p-2 rounded-lg ${m?"hover:bg-slate-700":"hover:bg-slate-100"} transition-colors`,children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"flex-1 overflow-hidden p-6",children:f.jsxs("div",{className:`space-y-6 h-full flex flex-col ${m?"border-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"High Stock (50+)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Medium Stock (10-49)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Low Stock (1-9)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Empty"})]})]}),f.jsx("div",{})]}),f.jsx("div",{className:"flex-1 overflow-auto",children:f.jsx("div",{className:"grid grid-cols-12 gap-2 min-w-max h-full",children:he.map(Ee=>{const Fe=xe[Ee],Se=(Fe==null?void 0:Fe.totalStock)||0,Me=(Fe==null?void 0:Fe.products.filter(ht=>ht.quantity>0).length)||0,He=h[Ee]!==!1;let at="bg-gray-300",ot="text-gray-600";Se>=50?(at="bg-green-500",ot="text-white"):Se>=10?(at="bg-yellow-500",ot="text-white"):Se>=1&&(at="bg-red-500",ot="text-white");const xt=He?"":"border-2 border-red-400";return f.jsxs("div",{className:`
                            ${at} ${ot} ${xt}
                            p-4 rounded-lg text-center text-sm font-medium
                            hover:opacity-80 transition-all duration-200 cursor-pointer
                            hover:scale-105 hover:shadow-lg
                            min-w-[70px] min-h-[50px] flex flex-col justify-center items-center
                          `,title:`${Ee}: ${Se} units, ${Me} products${He?"":" (Unavailable)"}`,onClick:()=>{const ht=document.querySelector(`[data-location="${Ee}"]`);ht&&(ht.scrollIntoView({behavior:"smooth",block:"center"}),Y(!1))},children:[f.jsx("div",{className:"font-bold",children:Ee}),f.jsxs("div",{className:"text-xs opacity-90",children:[Se," - ",Me,"p"]})]},Ee)})})}),f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:[f.jsx("h4",{className:`font-semibold mb-2 ${m?"text-white":"text-slate-800"}`,children:"Summary"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Locations:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:he.length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Occupied:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(xe).filter(Ee=>Ee.totalStock>0).length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Stock:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(xe).reduce((Ee,Fe)=>Ee+Fe.totalStock,0)})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Unavailable:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.keys(h).filter(Ee=>h[Ee]===!1).length})]})]})]})]})})]})]})]})},zBe=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("name"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(!1),[D,O]=F.useState(null),[P,T]=F.useState([]),[_,S]=F.useState(new Set),[I,E]=F.useState(!1),{showToast:C}=lc(),{isDarkMode:N}=an(),{user:U}=Ea(),z=F.useCallback(()=>{switch(U==null?void 0:U.role){case"fahiz":return{title:"Fahiz Stock",storeName:"Fahiz",storeNameDisplay:"FAHIZ"};case"aphy":return{title:"APHY Stock",storeName:"APHY",storeNameDisplay:"APHY"};case"supply_serve":default:return{title:"Supply & Serve Stock",storeName:"supply & serve",storeNameDisplay:"SUPPLY & SERVE"}}},[U==null?void 0:U.role])(),[H,V]=F.useState(!1),[q,te]=F.useState(null),[Z,k]=F.useState(!1),[R,G]=F.useState(!1),[Y,J]=F.useState(null),[se,ue]=F.useState(null),[ae,he]=F.useState(!1),[xe,W]=F.useState("all"),[Ne,ke]=F.useState(!1);F.useEffect(()=>{const Pe=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Pe)}},[e]),F.useEffect(()=>{const Pe=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Pe)}},[a]);const _e=F.useCallback(async()=>{b(!0);try{const Pe=lr(wt(Xe,"inventory"),Fa("name")),rt=(await ur(Pe)).docs.map(vt=>{const Nt=vt.data();return{id:vt.id,...Nt,lastUpdated:Nt.lastUpdated instanceof ir?Nt.lastUpdated.toDate():new Date(Nt.lastUpdated)}});T(rt)}catch(Pe){console.error("Error fetching stock items:",Pe),C("Failed to fetch stock items","error")}finally{b(!1)}},[C]);F.useEffect(()=>{_e()},[_e]),F.useEffect(()=>{const Pe=Re=>{const rt=Re.target;rt.closest(".store-filter-dropdown")||he(!1),rt.closest(".status-filter-dropdown")||ke(!1)};return(ae||Ne)&&document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[ae,Ne]);const le=F.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Le=F.useMemo(()=>{const Pe=r.toLowerCase(),Re=s.toLowerCase(),rt=z.storeName;return P.filter(vt=>{if(vt.quantity===0||vt.storeName!==rt)return!1;const Nt=r===""||vt.name.toLowerCase().startsWith(Pe),Kt=s===""||vt.barcode&&vt.barcode.toLowerCase().includes(Re)||vt.asin&&vt.asin.split(",").some(Dt=>Dt.trim().toLowerCase().includes(Re)),Ft=xe==="all"||vt.status===xe;return Nt&&Kt&&Ft}).sort((vt,Nt)=>l==="name"?vt.name.localeCompare(Nt.name):l==="quantity"?Nt.quantity-vt.quantity:l==="price"?Nt.price-vt.price:l==="date"?new Date(Nt.lastUpdated).getTime()-new Date(vt.lastUpdated).getTime():0)},[P,r,s,xe,l,z]),Oe=F.useMemo(()=>P.filter(Pe=>Pe.quantity>0&&Pe.storeName===z.storeName).length,[P,z]),Ve=F.useCallback((Pe,Re)=>P.filter(rt=>rt.locationCode===Pe&&rt.shelfNumber===Re),[P]),We=F.useCallback(async Pe=>{b(!0);try{const Re=[];for(const rt of Pe)if(rt.barcode){const vt=lr(wt(Xe,"inventory"),sr("barcode","==",rt.barcode),sr("quantity","==",0)),Nt=await ur(vt);if(!Nt.empty){const Kt=Nt.docs[0];if(await Ms(Sr(Xe,"inventory",Kt.id)),T(Ft=>Ft.filter(Dt=>Dt.id!==Kt.id)),U){const Ft=Kt.data();await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${Ft.name}" with barcode ${rt.barcode} from location ${Ft.locationCode}-${Ft.shelfNumber}`,time:new Date().toISOString()})}}}for(const rt of Pe){const vt=await mr(wt(Xe,"inventory"),{...rt,lastUpdated:ir.fromDate(new Date)});Re.push({...rt,id:vt.id,lastUpdated:new Date})}if(U){const rt=Pe.reduce((Nt,Kt)=>Nt+Kt.quantity,0),vt=Pe.map(Nt=>`${Nt.quantity} at ${Nt.locationCode}-${Nt.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Pe[0].name}" with total quantity ${rt} (${vt})`,time:new Date().toISOString()})}T(rt=>[...rt,...Re]),d(!1),k(!1),C("Stock items added successfully","success")}catch(Re){console.error("Error adding stock:",Re),C("Failed to add stock items","error")}finally{b(!1)}},[U,C]),Ee=F.useCallback(async Pe=>{const Re=[];for(const rt of Pe){const vt=Ve(rt.locationCode,rt.shelfNumber);vt.length>0&&Re.push({locationCode:rt.locationCode,shelfNumber:rt.shelfNumber,products:vt})}if(Re.length>0){const rt=Re[0];ue({locationCode:rt.locationCode,shelfNumber:rt.shelfNumber,existingProducts:rt.products,newProductName:Pe[0].name,newProductBarcode:Pe[0].barcode||void 0}),J(Pe),G(!0);return}await We(Pe)},[Ve,We]),Fe=F.useCallback(async()=>{Y&&(await We(Y),G(!1),J(null),ue(null),d(!1),k(!1))},[Y,We]),Se=F.useCallback(()=>{G(!1),J(null),ue(null),d(!1),k(!1)},[]),Me=F.useCallback(async()=>{if(Y&&se)try{b(!0);const Pe=se.existingProducts.find(Re=>Re.barcode===se.newProductBarcode);if(Pe){const Re=Pe.quantity+Y[0].quantity,rt=Sr(Xe,"inventory",Pe.id);await Vn(rt,{quantity:Re,lastUpdated:ir.fromDate(new Date)}),U&&(await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${Y[0].quantity} units of "${Y[0].name}" with existing stock "${Pe.name}" at location ${se.locationCode}-${se.shelfNumber}`,time:new Date().toISOString()}),await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Pe.name}": quantity from ${Pe.quantity} to ${Re}`,time:new Date().toISOString()})),await _e(),C("Products merged successfully","success")}}catch(Pe){console.error("Error merging products:",Pe),C("Failed to merge products","error")}finally{b(!1),G(!1),J(null),ue(null),d(!1),k(!1)}},[Y,se,U,_e,C]),He=F.useCallback(async(Pe,Re)=>{var rt,vt;b(!0);try{const Nt=new Date,Kt={},Ft=[];if(Pe.name!==Re.name&&(Kt.name=Pe.name,Ft.push(`name from "${Re.name}" to "${Pe.name}"`)),Pe.price!==Re.price){Kt.price=Pe.price;const Dt=Number(Re.price||0).toFixed(2),rr=Number(Pe.price||0).toFixed(2);Ft.push(`price from £${Dt} to £${rr}`)}if((Pe.locationCode!==Re.locationCode||Pe.shelfNumber!==Re.shelfNumber)&&(Kt.locationCode=Pe.locationCode,Kt.shelfNumber=Pe.shelfNumber,Ft.push(`location from ${Re.locationCode}-${Re.shelfNumber} to ${Pe.locationCode}-${Pe.shelfNumber}`)),Pe.supplier!==Re.supplier&&(Kt.supplier=Pe.supplier,Ft.push(`supplier from "${Re.supplier||"none"}" to "${Pe.supplier||"none"}"`)),Pe.asin!==Re.asin&&(Kt.asin=Pe.asin,Ft.push(`ASIN from "${Re.asin||"none"}" to "${Pe.asin||"none"}"`)),Pe.status!==Re.status&&(Kt.status=Pe.status,Ft.push(`status from "${Re.status}" to "${Pe.status}"`)),Pe.damagedItems!==Re.damagedItems&&(Kt.damagedItems=Pe.damagedItems,Ft.push(`damaged items from ${Re.damagedItems} to ${Pe.damagedItems}`)),Pe.fulfillmentType!==Re.fulfillmentType&&(Kt.fulfillmentType=Pe.fulfillmentType,Ft.push(`fulfillment type from "${Re.fulfillmentType.toUpperCase()}" to "${Pe.fulfillmentType.toUpperCase()}"`)),Pe.storeName!==Re.storeName&&(Kt.storeName=Pe.storeName,Ft.push(`store name from "${(rt=Re.storeName)==null?void 0:rt.toUpperCase()}" to "${(vt=Pe.storeName)==null?void 0:vt.toUpperCase()}"`)),Pe.unit!==Re.unit&&(Kt.unit=Pe.unit,Ft.push(`unit from "${Re.unit||"none"}" to "${Pe.unit||"none"}"`)),Pe.barcode!==Re.barcode&&(Kt.barcode=Pe.barcode,Ft.push(`barcode from "${Re.barcode||"none"}" to "${Pe.barcode||"none"}"`)),Object.keys(Kt).length>0){const Dt=Sr(Xe,"inventory",Pe.id);await Vn(Dt,{...Kt,lastUpdated:ir.fromDate(Nt)}),U&&Ft.length>0&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Pe.name}": ${Ft.join(", ")}`,time:Nt.toISOString()});const rr=P.map(gr=>gr.id===Pe.id?{...gr,...Kt,lastUpdated:Nt}:gr);T(rr),C("Stock details updated successfully","success"),p(!1),O(null)}if(Pe.quantity>Re.quantity)te({itemId:Pe.id,newQuantity:Pe.quantity}),V(!0),p(!1);else if(Pe.quantity!==Re.quantity){const Dt=Sr(Xe,"inventory",Pe.id);await Vn(Dt,{quantity:Pe.quantity,lastUpdated:ir.fromDate(Nt)}),U&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Pe.name}": quantity from ${Re.quantity} to ${Pe.quantity}`,time:Nt.toISOString()});const rr=P.map(gr=>gr.id===Pe.id?{...gr,quantity:Pe.quantity,lastUpdated:Nt}:gr);T(rr),C("Stock quantity updated","success"),p(!1),O(null)}else p(!1),O(null)}catch(Nt){console.error("Error updating stock:",Nt),C("Failed to update stock item","error")}finally{b(!1)}},[P,U,C]),at=F.useCallback(async()=>{if(q){b(!0);try{const{itemId:Pe,newQuantity:Re}=q,rt=new Date,vt=P.find(Ft=>Ft.id===Pe),Nt=Sr(Xe,"inventory",Pe);await Vn(Nt,{quantity:Re,lastUpdated:ir.fromDate(rt)}),U&&vt&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${vt.name}": quantity from ${vt.quantity} to ${Re}`,time:rt.toISOString()});const Kt=P.map(Ft=>Ft.id===Pe?{...Ft,quantity:Re,lastUpdated:rt}:Ft);T(Kt),C("Stock quantity updated successfully","success"),O(null)}catch(Pe){console.error("Error updating quantity:",Pe),C("Failed to update quantity","error")}finally{b(!1),V(!1),te(null)}}},[q,P,U,C]),ot=F.useCallback(async Pe=>{b(!0);try{const Re=P.find(rt=>rt.id===Pe);await Ms(Sr(Xe,"inventory",Pe)),U&&Re&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${Re.name}" (${Re.quantity} units) from location ${Re.locationCode}-${Re.shelfNumber}`,time:new Date().toISOString()}),T(P.filter(rt=>rt.id!==Pe)),m(!1),O(null),C("Stock item deleted successfully","success")}catch(Re){console.error("Error deleting stock:",Re),C("Failed to delete stock item","error")}finally{b(!1)}},[P,U,C]),xt=F.useCallback(Pe=>{O(Pe)},[]),ht=F.useCallback((Pe,Re)=>{Pe.stopPropagation(),O(Re),p(!0)},[]),mt=F.useCallback((Pe,Re)=>{Pe.stopPropagation(),O(Re),m(!0)},[]),ct=F.useCallback(()=>{_.size===Le.length?S(new Set):S(new Set(Le.map(Pe=>Pe.id)))},[Le,_.size]),Zt=F.useCallback(Pe=>{const Re=new Set(_);Re.has(Pe)?Re.delete(Pe):Re.add(Pe),S(Re)},[_]),Ht=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Pe=P.filter(rt=>_.has(rt.id)),Re=Array.from(_).map(rt=>Ms(Sr(Xe,"inventory",rt)));if(await Promise.all(Re),U){const rt=Pe.map(vt=>`"${vt.name}" (${vt.quantity} units) from ${vt.locationCode}-${vt.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${rt}`,time:new Date().toISOString()})}T(P.filter(rt=>!_.has(rt.id))),S(new Set),E(!1),y(!1),C(`Successfully deleted ${_.size} items`,"success")}catch(Pe){console.error("Error deleting items:",Pe),C("Failed to delete selected items","error")}finally{b(!1)}}},[_,P,U,C]),Rr=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Pe=P.filter(rt=>_.has(rt.id)&&rt.status==="pending");if(Pe.length===0){C("No pending items selected to activate","error");return}const Re=Pe.map(rt=>Vn(Sr(Xe,"inventory",rt.id),{status:"active",lastUpdated:ir.fromDate(new Date)}));if(await Promise.all(Re),U){const rt=Pe.map(vt=>`"${vt.name}" from ${vt.locationCode}-${vt.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Pe.length} pending products: ${rt}`,time:new Date().toISOString()})}T(P.map(rt=>_.has(rt.id)&&rt.status==="pending"?{...rt,status:"active",lastUpdated:new Date}:rt)),S(new Set),E(!1),C(`Successfully activated ${Pe.length} items`,"success")}catch(Pe){console.error("Error activating items:",Pe),C("Failed to activate selected items","error")}finally{b(!1)}}},[_,P,U,C]),Ir=F.useCallback(()=>{E(!I),I||S(new Set)},[I]),Wr=F.useCallback(({item:Pe})=>f.jsxs("tr",{className:`hover:${N?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>xt(Pe),children:[I&&f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,onClick:Re=>Re.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:_.has(Pe.id),onChange:()=>Zt(Pe.id),className:`h-4 w-4 text-blue-600 rounded ${N?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-blue-400":"text-blue-700"} font-medium`,children:Pe.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:Pe.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Pe.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Pe.fulfillmentType.toUpperCase()})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:[Pe.locationCode," - ",Pe.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:Pe.asin?Pe.asin.split(",").length>3?Pe.asin.split(",").slice(0,3).map(Re=>Re.trim()).join(", ")+"...":Pe.asin.split(",").map(Re=>Re.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${N?"text-slate-200":"text-slate-900"}`,children:Number(Pe.price)>0?`£${Number(Pe.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${N?"text-slate-200":"text-slate-900"}`,children:Number(Pe.quantity*Pe.price)>0?`£${Number(Pe.quantity*Pe.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Pe.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Pe.quantity>10&&Pe.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:Pe.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"}`,children:qt(new Date(Pe.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:Re=>ht(Re,Pe),className:`p-1 ${N?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:Re=>mt(Re,Pe),className:`p-1 ${N?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",children:f.jsx(oi,{size:16})})]})})]},Pe.id),[I,_,N,xt,Zt,ht,mt]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${N?"text-white":"text-gray-900"}`,children:z.title}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${N?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:[z.storeNameDisplay," Products: ",Oe]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsxs("p",{className:`${N?"text-slate-400":"text-slate-500"} mt-1`,children:["Manage your ",z.storeNameDisplay.toLowerCase()," stock, track quantities, and monitor product status"]})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:I?f.jsxs(f.Fragment,{children:[xe==="pending"&&f.jsxs(nt,{onClick:Rr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||_.size===0,children:[f.jsx(p9,{size:16}),"Go Live (",_.size,")"]}),f.jsx(nt,{onClick:Ir,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(nt,{variant:"secondary",onClick:()=>k(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(Ei,{size:16}),"Quick Add"]}),f.jsxs(nt,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(Ei,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(El,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:"Search by product name",value:e,onChange:Pe=>t(Pe.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(El,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Pe=>i(Pe.target.value),className:"pl-10"})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:l,onChange:Pe=>c(Pe.target.value),options:le})}),f.jsx("div",{className:"flex flex-row gap-2",children:f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(nt,{variant:"secondary",onClick:()=>ke(!Ne),className:`flex items-center gap-2 ${xe!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[xe==="all"?"Status Filter":xe==="active"?"Active":"Pending",f.jsx(vl,{size:16})]}),Ne&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${N?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="all"?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),ke(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="active"?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),ke(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="pending"?N?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),ke(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${N?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${N?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),ke(!1)},children:"Clear Filter"})})]})})]})}),f.jsx(nt,{variant:"secondary",onClick:_e,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:f.jsx(La,{size:16,className:w?"animate-spin":""})})]}),w?f.jsx("div",{className:`text-center py-12 ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(gs,{className:`w-8 h-8 ${N?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:N?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Le.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${N?"divide-slate-700":"divide-slate-200"} ${N?"bg-slate-800":"bg-white"} rounded-lg border ${N?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:N?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[I&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:_.size===Le.length,onChange:ct,className:`h-4 w-4 text-blue-600 rounded ${N?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${N?"divide-slate-700":"divide-slate-200"}`,children:Le.map((Pe,Re)=>f.jsx(Wr,{item:Pe,index:Re},Pe.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:Le.map(Pe=>f.jsxs("div",{className:`rounded-lg border ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>xt(Pe),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${N?"text-blue-400":"text-blue-700"}`,children:Pe.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Pe.status==="active"?"Active":"Pending"}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Pe.fulfillmentType.toUpperCase()})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[Pe.locationCode," - ",Pe.shelfNumber]})]}),f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:Pe.quantity})]}),Pe.asin&&f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:Pe.asin})]}),f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(Pe.price)>0?`£${Number(Pe.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(Pe.quantity*Pe.price)>0?`£${Number(Pe.quantity*Pe.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:N?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(Pe.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(nt,{size:"sm",variant:"secondary",onClick:Re=>{Re.stopPropagation(),ht(Re,Pe)},children:[f.jsx(vs,{size:14})," Edit"]}),f.jsxs(nt,{size:"sm",variant:"danger",onClick:Re=>{Re.stopPropagation(),mt(Re,Pe)},children:[f.jsx(oi,{size:14})," Delete"]})]})]},Pe.id))})]}):f.jsx("div",{className:`text-center py-12 ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:N?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(fn,{isOpen:u,onClose:()=>d(!1),title:`Add New ${z.storeNameDisplay} Stock Item`,size:"xl",children:f.jsx(Hq,{onSubmit:Ee,onCancel:()=>d(!1),isLoading:w,existingStockItems:P})}),f.jsx(fn,{isOpen:Z,onClose:()=>k(!1),title:`Quick Add ${z.storeNameDisplay} Stock`,size:"md",children:f.jsx(Kq,{onSubmit:Ee,onClose:()=>k(!1),isLoading:w})}),f.jsx(fn,{isOpen:h,onClose:()=>p(!1),title:`Edit ${z.storeNameDisplay} Stock`,size:"xl",children:D&&f.jsx(Gq,{item:D,onSubmit:He,onCancel:()=>p(!1),isLoading:w})}),D&&f.jsx(fh,{isOpen:g,onClose:()=>{m(!1),O(null)},onConfirm:()=>ot(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:w}),D&&!h&&!g&&!H&&f.jsx(sy,{isOpen:!!D,onClose:()=>O(null),item:D}),f.jsx(fh,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:Ht,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),f.jsx(fn,{isOpen:H,onClose:()=>{V(!1),te(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(nt,{variant:"secondary",onClick:()=>{V(!1),te(null)},children:"No"}),f.jsx(nt,{onClick:at,isLoading:w,children:"Yes"})]})]})}),se&&f.jsx(Yq,{isOpen:R,onClose:Se,onConfirm:Fe,onCancel:Se,onMerge:Me,locationCode:se.locationCode,shelfNumber:se.shelfNumber,existingProducts:se.existingProducts,newProductName:se.newProductName,newProductBarcode:se.newProductBarcode})]})},No=({children:e,allowedRoles:t})=>{const{user:r}=Ea();return r?t.includes(r.role)?f.jsx(f.Fragment,{children:e}):f.jsx(C4,{to:"/",replace:!0}):f.jsx(C4,{to:"/login",replace:!0})};function qBe(){return f.jsxs(lZ,{children:[f.jsx(fs,{path:"/login",element:f.jsx(Wce,{})}),f.jsxs(fs,{path:"/",element:f.jsx(zce,{}),children:[f.jsx(fs,{index:!0,element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx(Mye,{})})}),f.jsx(fs,{path:"stock",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx(Gye,{})})}),f.jsx(fs,{path:"jobs",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx($$e,{})})}),f.jsx(fs,{path:"inventory",element:f.jsx(No,{allowedRoles:["admin"],children:f.jsx(Kye,{})})}),f.jsx(fs,{path:"orders",element:f.jsx(No,{allowedRoles:[""],children:f.jsx(J$e,{})})}),f.jsx(fs,{path:"outbound-stock",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx(UBe,{})})}),f.jsx(fs,{path:"warehouse-locations",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx(VBe,{})})}),f.jsx(fs,{path:"warehouse-operations",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx(MBe,{})})}),f.jsx(fs,{path:"reports-analytics",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx(FBe,{})})}),f.jsx(fs,{path:"settings",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx($Be,{})})}),f.jsx(fs,{path:"add",element:f.jsx(No,{allowedRoles:["admin","staff"],children:f.jsx(Wq,{})})}),f.jsx(fs,{path:"supply-serve",element:f.jsx(No,{allowedRoles:["supply_serve","fahiz","aphy"],children:f.jsx(zBe,{})})})]})]})}J$(document.getElementById("root")).render(f.jsx(F.StrictMode,{children:f.jsx(gZ,{basename:"/",children:f.jsx(Gae,{children:f.jsx(Hae,{children:f.jsx(qce,{children:f.jsx(qBe,{})})})})})}));export{pn as _,lg as c,kn as g};
