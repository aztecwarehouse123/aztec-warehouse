function UY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F7={exports:{}},Pw={},$7={exports:{}},Hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=Symbol.for("react.element"),VY=Symbol.for("react.portal"),zY=Symbol.for("react.fragment"),qY=Symbol.for("react.strict_mode"),WY=Symbol.for("react.profiler"),HY=Symbol.for("react.provider"),GY=Symbol.for("react.context"),KY=Symbol.for("react.forward_ref"),YY=Symbol.for("react.suspense"),XY=Symbol.for("react.memo"),QY=Symbol.for("react.lazy"),t6=Symbol.iterator;function JY(e){return e===null||typeof e!="object"?null:(e=t6&&e[t6]||e["@@iterator"],typeof e=="function"?e:null)}var B7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U7=Object.assign,V7={};function Bp(e,t,r){this.props=e,this.context=t,this.refs=V7,this.updater=r||B7}Bp.prototype.isReactComponent={};Bp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z7(){}z7.prototype=Bp.prototype;function bE(e,t,r){this.props=e,this.context=t,this.refs=V7,this.updater=r||B7}var wE=bE.prototype=new z7;wE.constructor=bE;U7(wE,Bp.prototype);wE.isPureReactComponent=!0;var r6=Array.isArray,q7=Object.prototype.hasOwnProperty,_E={current:null},W7={key:!0,ref:!0,__self:!0,__source:!0};function H7(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)q7.call(t,n)&&!W7.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:j1,type:e,key:i,ref:s,props:a,_owner:_E.current}}function ZY(e,t){return{$$typeof:j1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function SE(e){return typeof e=="object"&&e!==null&&e.$$typeof===j1}function eX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var n6=/\/+/g;function j_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eX(""+e.key):t.toString(36)}function Vx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case j1:case VY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+j_(s,0):n,r6(a)?(r="",e!=null&&(r=e.replace(n6,"$&/")+"/"),Vx(a,t,r,"",function(c){return c})):a!=null&&(SE(a)&&(a=ZY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(n6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",r6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+j_(i,o);s+=Vx(i,t,r,l,a)}else if(l=JY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+j_(i,o++),s+=Vx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function By(e,t,r){if(e==null)return e;var n=[],a=0;return Vx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function tX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},zx={transition:null},rX={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:zx,ReactCurrentOwner:_E};function G7(){throw Error("act(...) is not supported in production builds of React.")}Hr.Children={map:By,forEach:function(e,t,r){By(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return By(e,function(){t++}),t},toArray:function(e){return By(e,function(t){return t})||[]},only:function(e){if(!SE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Hr.Component=Bp;Hr.Fragment=zY;Hr.Profiler=WY;Hr.PureComponent=bE;Hr.StrictMode=qY;Hr.Suspense=YY;Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rX;Hr.act=G7;Hr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=U7({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=_E.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)q7.call(t,l)&&!W7.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:j1,type:e.type,key:a,ref:i,props:n,_owner:s}};Hr.createContext=function(e){return e={$$typeof:GY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HY,_context:e},e.Consumer=e};Hr.createElement=H7;Hr.createFactory=function(e){var t=H7.bind(null,e);return t.type=e,t};Hr.createRef=function(){return{current:null}};Hr.forwardRef=function(e){return{$$typeof:KY,render:e}};Hr.isValidElement=SE;Hr.lazy=function(e){return{$$typeof:QY,_payload:{_status:-1,_result:e},_init:tX}};Hr.memo=function(e,t){return{$$typeof:XY,type:e,compare:t===void 0?null:t}};Hr.startTransition=function(e){var t=zx.transition;zx.transition={};try{e()}finally{zx.transition=t}};Hr.unstable_act=G7;Hr.useCallback=function(e,t){return ys.current.useCallback(e,t)};Hr.useContext=function(e){return ys.current.useContext(e)};Hr.useDebugValue=function(){};Hr.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};Hr.useEffect=function(e,t){return ys.current.useEffect(e,t)};Hr.useId=function(){return ys.current.useId()};Hr.useImperativeHandle=function(e,t,r){return ys.current.useImperativeHandle(e,t,r)};Hr.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};Hr.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};Hr.useMemo=function(e,t){return ys.current.useMemo(e,t)};Hr.useReducer=function(e,t,r){return ys.current.useReducer(e,t,r)};Hr.useRef=function(e){return ys.current.useRef(e)};Hr.useState=function(e){return ys.current.useState(e)};Hr.useSyncExternalStore=function(e,t,r){return ys.current.useSyncExternalStore(e,t,r)};Hr.useTransition=function(){return ys.current.useTransition()};Hr.version="18.3.1";$7.exports=Hr;var B=$7.exports;const Fe=On(B),nX=UY({__proto__:null,default:Fe},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aX=B,iX=Symbol.for("react.element"),sX=Symbol.for("react.fragment"),oX=Object.prototype.hasOwnProperty,lX=aX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cX={key:!0,ref:!0,__self:!0,__source:!0};function K7(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)oX.call(t,n)&&!cX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:iX,type:e,key:i,ref:s,props:a,_owner:lX.current}}Pw.Fragment=sX;Pw.jsx=K7;Pw.jsxs=K7;F7.exports=Pw;var d=F7.exports,Y7={exports:{}},oo={},X7={exports:{}},Q7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,V){var ee=q.length;q.push(V);e:for(;0<ee;){var Z=ee-1>>>1,k=q[Z];if(0<a(k,V))q[Z]=V,q[ee]=k,ee=Z;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var V=q[0],ee=q.pop();if(ee!==V){q[0]=ee;e:for(var Z=0,k=q.length,R=k>>>1;Z<R;){var z=2*(Z+1)-1,G=q[z],Q=z+1,oe=q[Q];if(0>a(G,ee))Q<k&&0>a(oe,G)?(q[Z]=oe,q[Q]=ee,Z=Q):(q[Z]=G,q[z]=ee,Z=z);else if(Q<k&&0>a(oe,ee))q[Z]=oe,q[Q]=ee,Z=Q;else break e}}return V}function a(q,V){var ee=q.sortIndex-V.sortIndex;return ee!==0?ee:q.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=q)n(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(c)}}function D(q){if(m=!1,w(q),!g)if(r(l)!==null)g=!0,K(P);else{var V=r(c);V!==null&&J(D,V.startTime-q)}}function P(q,V){g=!1,m&&(m=!1,y(_),_=-1),p=!0;var ee=h;try{for(w(V),f=r(l);f!==null&&(!(f.expirationTime>V)||q&&!E());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var k=Z(f.expirationTime<=V);V=e.unstable_now(),typeof k=="function"?f.callback=k:f===r(l)&&n(l),w(V)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var z=r(c);z!==null&&J(D,z.startTime-V),R=!1}return R}finally{f=null,h=ee,p=!1}}var j=!1,T=null,_=-1,S=5,I=-1;function E(){return!(e.unstable_now()-I<S)}function N(){if(T!==null){var q=e.unstable_now();I=q;var V=!0;try{V=T(!0,q)}finally{V?O():(j=!1,T=null)}}else j=!1}var O;if(typeof b=="function")O=function(){b(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=N,O=function(){Y.postMessage(null)}}else O=function(){v(N,0)};function K(q){T=q,j||(j=!0,O())}function J(q,V){_=v(function(){q(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,K(P))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var ee=h;h=V;try{return q()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=h;h=q;try{return V()}finally{h=ee}},e.unstable_scheduleCallback=function(q,V,ee){var Z=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ee+k,q={id:u++,callback:V,priorityLevel:q,startTime:ee,expirationTime:k,sortIndex:-1},ee>Z?(q.sortIndex=ee,t(c,q),r(l)===null&&q===r(c)&&(m?(y(_),_=-1):m=!0,J(D,ee-Z))):(q.sortIndex=k,t(l,q),g||p||(g=!0,K(P))),q},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(q){var V=h;return function(){var ee=h;h=V;try{return q.apply(this,arguments)}finally{h=ee}}}})(Q7);X7.exports=Q7;var uX=X7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fX=B,ao=uX;function It(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J7=new Set,av={};function dh(e,t){Q0(e,t),Q0(e+"Capture",t)}function Q0(e,t){for(av[e]=t,e=0;e<t.length;e++)J7.add(t[e])}var Bc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DA=Object.prototype.hasOwnProperty,dX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a6={},i6={};function hX(e){return DA.call(i6,e)?!0:DA.call(a6,e)?!1:dX.test(e)?i6[e]=!0:(a6[e]=!0,!1)}function pX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mX(e,t,r,n){if(t===null||typeof t>"u"||pX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xs(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ti[e]=new xs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ti[t]=new xs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ti[e]=new xs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ti[e]=new xs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ti[e]=new xs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ti[e]=new xs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ti[e]=new xs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ti[e]=new xs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ti[e]=new xs(e,5,!1,e.toLowerCase(),null,!1,!1)});var AE=/[\-:]([a-z])/g;function TE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(AE,TE);Ti[t]=new xs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(AE,TE);Ti[t]=new xs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(AE,TE);Ti[t]=new xs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ti[e]=new xs(e,1,!1,e.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ti[e]=new xs(e,1,!1,e.toLowerCase(),null,!0,!0)});function EE(e,t,r,n){var a=Ti.hasOwnProperty(t)?Ti[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mX(t,r,a,n)&&(r=null),n||a===null?hX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nu=fX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uy=Symbol.for("react.element"),c0=Symbol.for("react.portal"),u0=Symbol.for("react.fragment"),NE=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),Z7=Symbol.for("react.provider"),eF=Symbol.for("react.context"),kE=Symbol.for("react.forward_ref"),MA=Symbol.for("react.suspense"),RA=Symbol.for("react.suspense_list"),CE=Symbol.for("react.memo"),zu=Symbol.for("react.lazy"),tF=Symbol.for("react.offscreen"),s6=Symbol.iterator;function Dm(e){return e===null||typeof e!="object"?null:(e=s6&&e[s6]||e["@@iterator"],typeof e=="function"?e:null)}var sa=Object.assign,D_;function ig(e){if(D_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D_=t&&t[1]||""}return`
`+D_+e}var L_=!1;function M_(e,t){if(!e||L_)return"";L_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{L_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ig(e):""}function gX(e){switch(e.tag){case 5:return ig(e.type);case 16:return ig("Lazy");case 13:return ig("Suspense");case 19:return ig("SuspenseList");case 0:case 2:case 15:return e=M_(e.type,!1),e;case 11:return e=M_(e.type.render,!1),e;case 1:return e=M_(e.type,!0),e;default:return""}}function FA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case u0:return"Fragment";case c0:return"Portal";case LA:return"Profiler";case NE:return"StrictMode";case MA:return"Suspense";case RA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eF:return(e.displayName||"Context")+".Consumer";case Z7:return(e._context.displayName||"Context")+".Provider";case kE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case CE:return t=e.displayName||null,t!==null?t:FA(e.type)||"Memo";case zu:t=e._payload,e=e._init;try{return FA(e(t))}catch{}}return null}function vX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FA(t);case 8:return t===NE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yX(e){var t=rF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vy(e){e._valueTracker||(e._valueTracker=yX(e))}function nF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function g2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $A(e,t){var r=t.checked;return sa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function o6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aF(e,t){t=t.checked,t!=null&&EE(e,"checked",t,!1)}function BA(e,t){aF(e,t);var r=kf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?UA(e,t.type,r):t.hasOwnProperty("defaultValue")&&UA(e,t.type,kf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function l6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function UA(e,t,r){(t!=="number"||g2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sg=Array.isArray;function O0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function VA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(It(91));return sa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function c6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(It(92));if(sg(r)){if(1<r.length)throw Error(It(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kf(r)}}function iF(e,t){var r=kf(t.value),n=kf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function u6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zy,oF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zy=zy||document.createElement("div"),zy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function iv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xX=["Webkit","ms","Moz","O"];Object.keys(bg).forEach(function(e){xX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bg[t]=bg[e]})});function lF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bg.hasOwnProperty(e)&&bg[e]?(""+t).trim():t+"px"}function cF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=lF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var bX=sa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qA(e,t){if(t){if(bX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(It(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(It(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(It(61))}if(t.style!=null&&typeof t.style!="object")throw Error(It(62))}}function WA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HA=null;function PE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var GA=null,I0=null,j0=null;function f6(e){if(e=M1(e)){if(typeof GA!="function")throw Error(It(280));var t=e.stateNode;t&&(t=Lw(t),GA(e.stateNode,e.type,t))}}function uF(e){I0?j0?j0.push(e):j0=[e]:I0=e}function fF(){if(I0){var e=I0,t=j0;if(j0=I0=null,f6(e),t)for(e=0;e<t.length;e++)f6(t[e])}}function dF(e,t){return e(t)}function hF(){}var R_=!1;function pF(e,t,r){if(R_)return e(t,r);R_=!0;try{return dF(e,t,r)}finally{R_=!1,(I0!==null||j0!==null)&&(hF(),fF())}}function sv(e,t){var r=e.stateNode;if(r===null)return null;var n=Lw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(It(231,t,typeof r));return r}var KA=!1;if(Bc)try{var Lm={};Object.defineProperty(Lm,"passive",{get:function(){KA=!0}}),window.addEventListener("test",Lm,Lm),window.removeEventListener("test",Lm,Lm)}catch{KA=!1}function wX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var wg=!1,v2=null,y2=!1,YA=null,_X={onError:function(e){wg=!0,v2=e}};function SX(e,t,r,n,a,i,s,o,l){wg=!1,v2=null,wX.apply(_X,arguments)}function AX(e,t,r,n,a,i,s,o,l){if(SX.apply(this,arguments),wg){if(wg){var c=v2;wg=!1,v2=null}else throw Error(It(198));y2||(y2=!0,YA=c)}}function hh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d6(e){if(hh(e)!==e)throw Error(It(188))}function TX(e){var t=e.alternate;if(!t){if(t=hh(e),t===null)throw Error(It(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return d6(a),e;if(i===n)return d6(a),t;i=i.sibling}throw Error(It(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(It(189))}}if(r.alternate!==n)throw Error(It(190))}if(r.tag!==3)throw Error(It(188));return r.stateNode.current===r?e:t}function gF(e){return e=TX(e),e!==null?vF(e):null}function vF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vF(e);if(t!==null)return t;e=e.sibling}return null}var yF=ao.unstable_scheduleCallback,h6=ao.unstable_cancelCallback,EX=ao.unstable_shouldYield,NX=ao.unstable_requestPaint,ba=ao.unstable_now,kX=ao.unstable_getCurrentPriorityLevel,OE=ao.unstable_ImmediatePriority,xF=ao.unstable_UserBlockingPriority,x2=ao.unstable_NormalPriority,CX=ao.unstable_LowPriority,bF=ao.unstable_IdlePriority,Ow=null,Hl=null;function PX(e){if(Hl&&typeof Hl.onCommitFiberRoot=="function")try{Hl.onCommitFiberRoot(Ow,e,void 0,(e.current.flags&128)===128)}catch{}}var vl=Math.clz32?Math.clz32:jX,OX=Math.log,IX=Math.LN2;function jX(e){return e>>>=0,e===0?32:31-(OX(e)/IX|0)|0}var qy=64,Wy=4194304;function og(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function b2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=og(o):(i&=s,i!==0&&(n=og(i)))}else s=r&~a,s!==0?n=og(s):i!==0&&(n=og(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-vl(t),a=1<<r,n|=e[r],t&=~a;return n}function DX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-vl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=DX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function XA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wF(){var e=qy;return qy<<=1,!(qy&4194240)&&(qy=64),e}function F_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function D1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vl(t),e[t]=r}function MX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-vl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function IE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-vl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Nn=0;function _F(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SF,jE,AF,TF,EF,QA=!1,Hy=[],cf=null,uf=null,ff=null,ov=new Map,lv=new Map,Hu=[],RX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p6(e,t){switch(e){case"focusin":case"focusout":cf=null;break;case"dragenter":case"dragleave":uf=null;break;case"mouseover":case"mouseout":ff=null;break;case"pointerover":case"pointerout":ov.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lv.delete(t.pointerId)}}function Mm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=M1(t),t!==null&&jE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function FX(e,t,r,n,a){switch(t){case"focusin":return cf=Mm(cf,e,t,r,n,a),!0;case"dragenter":return uf=Mm(uf,e,t,r,n,a),!0;case"mouseover":return ff=Mm(ff,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ov.set(i,Mm(ov.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,lv.set(i,Mm(lv.get(i)||null,e,t,r,n,a)),!0}return!1}function NF(e){var t=Ed(e.target);if(t!==null){var r=hh(t);if(r!==null){if(t=r.tag,t===13){if(t=mF(r),t!==null){e.blockedOn=t,EF(e.priority,function(){AF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=JA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);HA=n,r.target.dispatchEvent(n),HA=null}else return t=M1(r),t!==null&&jE(t),e.blockedOn=r,!1;t.shift()}return!0}function m6(e,t,r){qx(e)&&r.delete(t)}function $X(){QA=!1,cf!==null&&qx(cf)&&(cf=null),uf!==null&&qx(uf)&&(uf=null),ff!==null&&qx(ff)&&(ff=null),ov.forEach(m6),lv.forEach(m6)}function Rm(e,t){e.blockedOn===t&&(e.blockedOn=null,QA||(QA=!0,ao.unstable_scheduleCallback(ao.unstable_NormalPriority,$X)))}function cv(e){function t(a){return Rm(a,e)}if(0<Hy.length){Rm(Hy[0],e);for(var r=1;r<Hy.length;r++){var n=Hy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cf!==null&&Rm(cf,e),uf!==null&&Rm(uf,e),ff!==null&&Rm(ff,e),ov.forEach(t),lv.forEach(t),r=0;r<Hu.length;r++)n=Hu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hu.length&&(r=Hu[0],r.blockedOn===null);)NF(r),r.blockedOn===null&&Hu.shift()}var D0=nu.ReactCurrentBatchConfig,w2=!0;function BX(e,t,r,n){var a=Nn,i=D0.transition;D0.transition=null;try{Nn=1,DE(e,t,r,n)}finally{Nn=a,D0.transition=i}}function UX(e,t,r,n){var a=Nn,i=D0.transition;D0.transition=null;try{Nn=4,DE(e,t,r,n)}finally{Nn=a,D0.transition=i}}function DE(e,t,r,n){if(w2){var a=JA(e,t,r,n);if(a===null)K_(e,t,n,_2,r),p6(e,n);else if(FX(a,e,t,r,n))n.stopPropagation();else if(p6(e,n),t&4&&-1<RX.indexOf(e)){for(;a!==null;){var i=M1(a);if(i!==null&&SF(i),i=JA(e,t,r,n),i===null&&K_(e,t,n,_2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else K_(e,t,n,null,r)}}var _2=null;function JA(e,t,r,n){if(_2=null,e=PE(n),e=Ed(e),e!==null)if(t=hh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _2=e,null}function kF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kX()){case OE:return 1;case xF:return 4;case x2:case CX:return 16;case bF:return 536870912;default:return 16}default:return 16}}var Ju=null,LE=null,Wx=null;function CF(){if(Wx)return Wx;var e,t=LE,r=t.length,n,a="value"in Ju?Ju.value:Ju.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Wx=a.slice(e,1<n?1-n:void 0)}function Hx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gy(){return!0}function g6(){return!1}function lo(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gy:g6,this.isPropagationStopped=g6,this}return sa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gy)},persist:function(){},isPersistent:Gy}),t}var Up={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ME=lo(Up),L1=sa({},Up,{view:0,detail:0}),VX=lo(L1),$_,B_,Fm,Iw=sa({},L1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fm&&(Fm&&e.type==="mousemove"?($_=e.screenX-Fm.screenX,B_=e.screenY-Fm.screenY):B_=$_=0,Fm=e),$_)},movementY:function(e){return"movementY"in e?e.movementY:B_}}),v6=lo(Iw),zX=sa({},Iw,{dataTransfer:0}),qX=lo(zX),WX=sa({},L1,{relatedTarget:0}),U_=lo(WX),HX=sa({},Up,{animationName:0,elapsedTime:0,pseudoElement:0}),GX=lo(HX),KX=sa({},Up,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YX=lo(KX),XX=sa({},Up,{data:0}),y6=lo(XX),QX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZX[e])?!!t[e]:!1}function RE(){return eQ}var tQ=sa({},L1,{key:function(e){if(e.key){var t=QX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RE,charCode:function(e){return e.type==="keypress"?Hx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rQ=lo(tQ),nQ=sa({},Iw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x6=lo(nQ),aQ=sa({},L1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RE}),iQ=lo(aQ),sQ=sa({},Up,{propertyName:0,elapsedTime:0,pseudoElement:0}),oQ=lo(sQ),lQ=sa({},Iw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cQ=lo(lQ),uQ=[9,13,27,32],FE=Bc&&"CompositionEvent"in window,_g=null;Bc&&"documentMode"in document&&(_g=document.documentMode);var fQ=Bc&&"TextEvent"in window&&!_g,PF=Bc&&(!FE||_g&&8<_g&&11>=_g),b6=" ",w6=!1;function OF(e,t){switch(e){case"keyup":return uQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var f0=!1;function dQ(e,t){switch(e){case"compositionend":return IF(t);case"keypress":return t.which!==32?null:(w6=!0,b6);case"textInput":return e=t.data,e===b6&&w6?null:e;default:return null}}function hQ(e,t){if(f0)return e==="compositionend"||!FE&&OF(e,t)?(e=CF(),Wx=LE=Ju=null,f0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return PF&&t.locale!=="ko"?null:t.data;default:return null}}var pQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pQ[e.type]:t==="textarea"}function jF(e,t,r,n){uF(n),t=S2(t,"onChange"),0<t.length&&(r=new ME("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sg=null,uv=null;function mQ(e){qF(e,0)}function jw(e){var t=p0(e);if(nF(t))return e}function gQ(e,t){if(e==="change")return t}var DF=!1;if(Bc){var V_;if(Bc){var z_="oninput"in document;if(!z_){var S6=document.createElement("div");S6.setAttribute("oninput","return;"),z_=typeof S6.oninput=="function"}V_=z_}else V_=!1;DF=V_&&(!document.documentMode||9<document.documentMode)}function A6(){Sg&&(Sg.detachEvent("onpropertychange",LF),uv=Sg=null)}function LF(e){if(e.propertyName==="value"&&jw(uv)){var t=[];jF(t,uv,e,PE(e)),pF(mQ,t)}}function vQ(e,t,r){e==="focusin"?(A6(),Sg=t,uv=r,Sg.attachEvent("onpropertychange",LF)):e==="focusout"&&A6()}function yQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jw(uv)}function xQ(e,t){if(e==="click")return jw(t)}function bQ(e,t){if(e==="input"||e==="change")return jw(t)}function wQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _l=typeof Object.is=="function"?Object.is:wQ;function fv(e,t){if(_l(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!DA.call(t,a)||!_l(e[a],t[a]))return!1}return!0}function T6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E6(e,t){var r=T6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=T6(r)}}function MF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RF(){for(var e=window,t=g2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=g2(e.document)}return t}function $E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _Q(e){var t=RF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&MF(r.ownerDocument.documentElement,r)){if(n!==null&&$E(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=E6(r,i);var s=E6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SQ=Bc&&"documentMode"in document&&11>=document.documentMode,d0=null,ZA=null,Ag=null,e4=!1;function N6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;e4||d0==null||d0!==g2(n)||(n=d0,"selectionStart"in n&&$E(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ag&&fv(Ag,n)||(Ag=n,n=S2(ZA,"onSelect"),0<n.length&&(t=new ME("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=d0)))}function Ky(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var h0={animationend:Ky("Animation","AnimationEnd"),animationiteration:Ky("Animation","AnimationIteration"),animationstart:Ky("Animation","AnimationStart"),transitionend:Ky("Transition","TransitionEnd")},q_={},FF={};Bc&&(FF=document.createElement("div").style,"AnimationEvent"in window||(delete h0.animationend.animation,delete h0.animationiteration.animation,delete h0.animationstart.animation),"TransitionEvent"in window||delete h0.transitionend.transition);function Dw(e){if(q_[e])return q_[e];if(!h0[e])return e;var t=h0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in FF)return q_[e]=t[r];return e}var $F=Dw("animationend"),BF=Dw("animationiteration"),UF=Dw("animationstart"),VF=Dw("transitionend"),zF=new Map,k6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uf(e,t){zF.set(e,t),dh(t,[e])}for(var W_=0;W_<k6.length;W_++){var H_=k6[W_],AQ=H_.toLowerCase(),TQ=H_[0].toUpperCase()+H_.slice(1);Uf(AQ,"on"+TQ)}Uf($F,"onAnimationEnd");Uf(BF,"onAnimationIteration");Uf(UF,"onAnimationStart");Uf("dblclick","onDoubleClick");Uf("focusin","onFocus");Uf("focusout","onBlur");Uf(VF,"onTransitionEnd");Q0("onMouseEnter",["mouseout","mouseover"]);Q0("onMouseLeave",["mouseout","mouseover"]);Q0("onPointerEnter",["pointerout","pointerover"]);Q0("onPointerLeave",["pointerout","pointerover"]);dh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dh("onBeforeInput",["compositionend","keypress","textInput","paste"]);dh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(lg));function C6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AX(n,t,void 0,e),e.currentTarget=null}function qF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;C6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;C6(a,o,c),i=l}}}if(y2)throw e=YA,y2=!1,YA=null,e}function zn(e,t){var r=t[i4];r===void 0&&(r=t[i4]=new Set);var n=e+"__bubble";r.has(n)||(WF(t,e,2,!1),r.add(n))}function G_(e,t,r){var n=0;t&&(n|=4),WF(r,e,n,t)}var Yy="_reactListening"+Math.random().toString(36).slice(2);function dv(e){if(!e[Yy]){e[Yy]=!0,J7.forEach(function(r){r!=="selectionchange"&&(EQ.has(r)||G_(r,!1,e),G_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yy]||(t[Yy]=!0,G_("selectionchange",!1,t))}}function WF(e,t,r,n){switch(kF(t)){case 1:var a=BX;break;case 4:a=UX;break;default:a=DE}r=a.bind(null,t,r,e),a=void 0,!KA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function K_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ed(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}pF(function(){var c=i,u=PE(r),f=[];e:{var h=zF.get(e);if(h!==void 0){var p=ME,g=e;switch(e){case"keypress":if(Hx(r)===0)break e;case"keydown":case"keyup":p=rQ;break;case"focusin":g="focus",p=U_;break;case"focusout":g="blur",p=U_;break;case"beforeblur":case"afterblur":p=U_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=v6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iQ;break;case $F:case BF:case UF:p=GX;break;case VF:p=oQ;break;case"scroll":p=VX;break;case"wheel":p=cQ;break;case"copy":case"cut":case"paste":p=YX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=x6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,w;b!==null;){w=b;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,y!==null&&(D=sv(b,y),D!=null&&m.push(hv(b,D,w)))),v)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==HA&&(g=r.relatedTarget||r.fromElement)&&(Ed(g)||g[Uc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ed(g):null,g!==null&&(v=hh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=v6,D="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=x6,D="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:p0(p),w=g==null?h:p0(g),h=new m(D,b+"leave",p,r,u),h.target=v,h.relatedTarget=w,D=null,Ed(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=w,m.relatedTarget=v,D=m),v=D,p&&g)t:{for(m=p,y=g,b=0,w=m;w;w=Kh(w))b++;for(w=0,D=y;D;D=Kh(D))w++;for(;0<b-w;)m=Kh(m),b--;for(;0<w-b;)y=Kh(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Kh(m),y=Kh(y)}m=null}else m=null;p!==null&&P6(f,h,p,m,!1),g!==null&&v!==null&&P6(f,v,g,m,!0)}}e:{if(h=c?p0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=gQ;else if(_6(h))if(DF)P=bQ;else{P=yQ;var j=vQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=xQ);if(P&&(P=P(e,c))){jF(f,P,r,u);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&UA(h,"number",h.value)}switch(j=c?p0(c):window,e){case"focusin":(_6(j)||j.contentEditable==="true")&&(d0=j,ZA=c,Ag=null);break;case"focusout":Ag=ZA=d0=null;break;case"mousedown":e4=!0;break;case"contextmenu":case"mouseup":case"dragend":e4=!1,N6(f,r,u);break;case"selectionchange":if(SQ)break;case"keydown":case"keyup":N6(f,r,u)}var T;if(FE)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else f0?OF(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(PF&&r.locale!=="ko"&&(f0||_!=="onCompositionStart"?_==="onCompositionEnd"&&f0&&(T=CF()):(Ju=u,LE="value"in Ju?Ju.value:Ju.textContent,f0=!0)),j=S2(c,_),0<j.length&&(_=new y6(_,e,null,r,u),f.push({event:_,listeners:j}),T?_.data=T:(T=IF(r),T!==null&&(_.data=T)))),(T=fQ?dQ(e,r):hQ(e,r))&&(c=S2(c,"onBeforeInput"),0<c.length&&(u=new y6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}qF(f,t)})}function hv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function S2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=sv(e,r),i!=null&&n.unshift(hv(e,i,a)),i=sv(e,t),i!=null&&n.push(hv(e,i,a))),e=e.return}return n}function Kh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=sv(r,i),l!=null&&s.unshift(hv(r,l,o))):a||(l=sv(r,i),l!=null&&s.push(hv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var NQ=/\r\n?/g,kQ=/\u0000|\uFFFD/g;function O6(e){return(typeof e=="string"?e:""+e).replace(NQ,`
`).replace(kQ,"")}function Xy(e,t,r){if(t=O6(t),O6(e)!==t&&r)throw Error(It(425))}function A2(){}var t4=null,r4=null;function n4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a4=typeof setTimeout=="function"?setTimeout:void 0,CQ=typeof clearTimeout=="function"?clearTimeout:void 0,I6=typeof Promise=="function"?Promise:void 0,PQ=typeof queueMicrotask=="function"?queueMicrotask:typeof I6<"u"?function(e){return I6.resolve(null).then(e).catch(OQ)}:a4;function OQ(e){setTimeout(function(){throw e})}function Y_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),cv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);cv(t)}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function j6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vp=Math.random().toString(36).slice(2),zl="__reactFiber$"+Vp,pv="__reactProps$"+Vp,Uc="__reactContainer$"+Vp,i4="__reactEvents$"+Vp,IQ="__reactListeners$"+Vp,jQ="__reactHandles$"+Vp;function Ed(e){var t=e[zl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Uc]||r[zl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=j6(e);e!==null;){if(r=e[zl])return r;e=j6(e)}return t}e=r,r=e.parentNode}return null}function M1(e){return e=e[zl]||e[Uc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function p0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(It(33))}function Lw(e){return e[pv]||null}var s4=[],m0=-1;function Vf(e){return{current:e}}function Kn(e){0>m0||(e.current=s4[m0],s4[m0]=null,m0--)}function Bn(e,t){m0++,s4[m0]=e.current,e.current=t}var Cf={},Xi=Vf(Cf),Ds=Vf(!1),Gd=Cf;function J0(e,t){var r=e.type.contextTypes;if(!r)return Cf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ls(e){return e=e.childContextTypes,e!=null}function T2(){Kn(Ds),Kn(Xi)}function D6(e,t,r){if(Xi.current!==Cf)throw Error(It(168));Bn(Xi,t),Bn(Ds,r)}function HF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(It(108,vX(e)||"Unknown",a));return sa({},r,n)}function E2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cf,Gd=Xi.current,Bn(Xi,e),Bn(Ds,Ds.current),!0}function L6(e,t,r){var n=e.stateNode;if(!n)throw Error(It(169));r?(e=HF(e,t,Gd),n.__reactInternalMemoizedMergedChildContext=e,Kn(Ds),Kn(Xi),Bn(Xi,e)):Kn(Ds),Bn(Ds,r)}var Tc=null,Mw=!1,X_=!1;function GF(e){Tc===null?Tc=[e]:Tc.push(e)}function DQ(e){Mw=!0,GF(e)}function zf(){if(!X_&&Tc!==null){X_=!0;var e=0,t=Nn;try{var r=Tc;for(Nn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tc=null,Mw=!1}catch(a){throw Tc!==null&&(Tc=Tc.slice(e+1)),yF(OE,zf),a}finally{Nn=t,X_=!1}}return null}var g0=[],v0=0,N2=null,k2=0,No=[],ko=0,Kd=null,Ec=1,Nc="";function md(e,t){g0[v0++]=k2,g0[v0++]=N2,N2=e,k2=t}function KF(e,t,r){No[ko++]=Ec,No[ko++]=Nc,No[ko++]=Kd,Kd=e;var n=Ec;e=Nc;var a=32-vl(n)-1;n&=~(1<<a),r+=1;var i=32-vl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Ec=1<<32-vl(t)+a|r<<a|n,Nc=i+e}else Ec=1<<i|r<<a|n,Nc=e}function BE(e){e.return!==null&&(md(e,1),KF(e,1,0))}function UE(e){for(;e===N2;)N2=g0[--v0],g0[v0]=null,k2=g0[--v0],g0[v0]=null;for(;e===Kd;)Kd=No[--ko],No[ko]=null,Nc=No[--ko],No[ko]=null,Ec=No[--ko],No[ko]=null}var no=null,eo=null,Xn=!1,ul=null;function YF(e,t){var r=Co(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function M6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,no=e,eo=df(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,no=e,eo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kd!==null?{id:Ec,overflow:Nc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Co(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,no=e,eo=null,!0):!1;default:return!1}}function o4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function l4(e){if(Xn){var t=eo;if(t){var r=t;if(!M6(e,t)){if(o4(e))throw Error(It(418));t=df(r.nextSibling);var n=no;t&&M6(e,t)?YF(n,r):(e.flags=e.flags&-4097|2,Xn=!1,no=e)}}else{if(o4(e))throw Error(It(418));e.flags=e.flags&-4097|2,Xn=!1,no=e}}}function R6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;no=e}function Qy(e){if(e!==no)return!1;if(!Xn)return R6(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!n4(e.type,e.memoizedProps)),t&&(t=eo)){if(o4(e))throw XF(),Error(It(418));for(;t;)YF(e,t),t=df(t.nextSibling)}if(R6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(It(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){eo=df(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}eo=null}}else eo=no?df(e.stateNode.nextSibling):null;return!0}function XF(){for(var e=eo;e;)e=df(e.nextSibling)}function Z0(){eo=no=null,Xn=!1}function VE(e){ul===null?ul=[e]:ul.push(e)}var LQ=nu.ReactCurrentBatchConfig;function $m(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(It(309));var n=r.stateNode}if(!n)throw Error(It(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(It(284));if(!r._owner)throw Error(It(290,e))}return e}function Jy(e,t){throw e=Object.prototype.toString.call(t),Error(It(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function F6(e){var t=e._init;return t(e._payload)}function QF(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=gf(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,D){return b===null||b.tag!==6?(b=nS(w,y.mode,D),b.return=y,b):(b=a(b,w),b.return=y,b)}function l(y,b,w,D){var P=w.type;return P===u0?u(y,b,w.props.children,D,w.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zu&&F6(P)===b.type)?(D=a(b,w.props),D.ref=$m(y,b,w),D.return=y,D):(D=Zx(w.type,w.key,w.props,null,y.mode,D),D.ref=$m(y,b,w),D.return=y,D)}function c(y,b,w,D){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=aS(w,y.mode,D),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function u(y,b,w,D,P){return b===null||b.tag!==7?(b=Fd(w,y.mode,D,P),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=nS(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uy:return w=Zx(b.type,b.key,b.props,null,y.mode,w),w.ref=$m(y,null,b),w.return=y,w;case c0:return b=aS(b,y.mode,w),b.return=y,b;case zu:var D=b._init;return f(y,D(b._payload),w)}if(sg(b)||Dm(b))return b=Fd(b,y.mode,w,null),b.return=y,b;Jy(y,b)}return null}function h(y,b,w,D){var P=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(y,b,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uy:return w.key===P?l(y,b,w,D):null;case c0:return w.key===P?c(y,b,w,D):null;case zu:return P=w._init,h(y,b,P(w._payload),D)}if(sg(w)||Dm(w))return P!==null?null:u(y,b,w,D,null);Jy(y,w)}return null}function p(y,b,w,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(w)||null,o(b,y,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Uy:return y=y.get(D.key===null?w:D.key)||null,l(b,y,D,P);case c0:return y=y.get(D.key===null?w:D.key)||null,c(b,y,D,P);case zu:var j=D._init;return p(y,b,w,j(D._payload),P)}if(sg(D)||Dm(D))return y=y.get(w)||null,u(b,y,D,P,null);Jy(b,D)}return null}function g(y,b,w,D){for(var P=null,j=null,T=b,_=b=0,S=null;T!==null&&_<w.length;_++){T.index>_?(S=T,T=null):S=T.sibling;var I=h(y,T,w[_],D);if(I===null){T===null&&(T=S);break}e&&T&&I.alternate===null&&t(y,T),b=i(I,b,_),j===null?P=I:j.sibling=I,j=I,T=S}if(_===w.length)return r(y,T),Xn&&md(y,_),P;if(T===null){for(;_<w.length;_++)T=f(y,w[_],D),T!==null&&(b=i(T,b,_),j===null?P=T:j.sibling=T,j=T);return Xn&&md(y,_),P}for(T=n(y,T);_<w.length;_++)S=p(T,y,_,w[_],D),S!==null&&(e&&S.alternate!==null&&T.delete(S.key===null?_:S.key),b=i(S,b,_),j===null?P=S:j.sibling=S,j=S);return e&&T.forEach(function(E){return t(y,E)}),Xn&&md(y,_),P}function m(y,b,w,D){var P=Dm(w);if(typeof P!="function")throw Error(It(150));if(w=P.call(w),w==null)throw Error(It(151));for(var j=P=null,T=b,_=b=0,S=null,I=w.next();T!==null&&!I.done;_++,I=w.next()){T.index>_?(S=T,T=null):S=T.sibling;var E=h(y,T,I.value,D);if(E===null){T===null&&(T=S);break}e&&T&&E.alternate===null&&t(y,T),b=i(E,b,_),j===null?P=E:j.sibling=E,j=E,T=S}if(I.done)return r(y,T),Xn&&md(y,_),P;if(T===null){for(;!I.done;_++,I=w.next())I=f(y,I.value,D),I!==null&&(b=i(I,b,_),j===null?P=I:j.sibling=I,j=I);return Xn&&md(y,_),P}for(T=n(y,T);!I.done;_++,I=w.next())I=p(T,y,_,I.value,D),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?_:I.key),b=i(I,b,_),j===null?P=I:j.sibling=I,j=I);return e&&T.forEach(function(N){return t(y,N)}),Xn&&md(y,_),P}function v(y,b,w,D){if(typeof w=="object"&&w!==null&&w.type===u0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Uy:e:{for(var P=w.key,j=b;j!==null;){if(j.key===P){if(P=w.type,P===u0){if(j.tag===7){r(y,j.sibling),b=a(j,w.props.children),b.return=y,y=b;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zu&&F6(P)===j.type){r(y,j.sibling),b=a(j,w.props),b.ref=$m(y,j,w),b.return=y,y=b;break e}r(y,j);break}else t(y,j);j=j.sibling}w.type===u0?(b=Fd(w.props.children,y.mode,D,w.key),b.return=y,y=b):(D=Zx(w.type,w.key,w.props,null,y.mode,D),D.ref=$m(y,b,w),D.return=y,y=D)}return s(y);case c0:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=aS(w,y.mode,D),b.return=y,y=b}return s(y);case zu:return j=w._init,v(y,b,j(w._payload),D)}if(sg(w))return g(y,b,w,D);if(Dm(w))return m(y,b,w,D);Jy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=nS(w,y.mode,D),b.return=y,y=b),s(y)):r(y,b)}return v}var ep=QF(!0),JF=QF(!1),C2=Vf(null),P2=null,y0=null,zE=null;function qE(){zE=y0=P2=null}function WE(e){var t=C2.current;Kn(C2),e._currentValue=t}function c4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function L0(e,t){P2=e,zE=y0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ps=!0),e.firstContext=null)}function Lo(e){var t=e._currentValue;if(zE!==e)if(e={context:e,memoizedValue:t,next:null},y0===null){if(P2===null)throw Error(It(308));y0=e,P2.dependencies={lanes:0,firstContext:e}}else y0=y0.next=e;return t}var Nd=null;function HE(e){Nd===null?Nd=[e]:Nd.push(e)}function ZF(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,HE(t)):(r.next=a.next,a.next=r),t.interleaved=r,Vc(e,n)}function Vc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qu=!1;function GE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dn&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Vc(e,r)}return a=n.interleaved,a===null?(t.next=t,HE(n)):(t.next=a.next,a.next=t),n.interleaved=t,Vc(e,r)}function Gx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,IE(e,r)}}function $6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function O2(e,t,r,n){var a=e.updateQueue;qu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=sa({},f,h);break e;case 2:qu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Xd|=s,e.lanes=s,e.memoizedState=f}}function B6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(It(191,a));a.call(n)}}}var R1={},Gl=Vf(R1),mv=Vf(R1),gv=Vf(R1);function kd(e){if(e===R1)throw Error(It(174));return e}function KE(e,t){switch(Bn(gv,t),Bn(mv,e),Bn(Gl,R1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zA(t,e)}Kn(Gl),Bn(Gl,t)}function tp(){Kn(Gl),Kn(mv),Kn(gv)}function t$(e){kd(gv.current);var t=kd(Gl.current),r=zA(t,e.type);t!==r&&(Bn(mv,e),Bn(Gl,r))}function YE(e){mv.current===e&&(Kn(Gl),Kn(mv))}var na=Vf(0);function I2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Q_=[];function XE(){for(var e=0;e<Q_.length;e++)Q_[e]._workInProgressVersionPrimary=null;Q_.length=0}var Kx=nu.ReactCurrentDispatcher,J_=nu.ReactCurrentBatchConfig,Yd=0,aa=null,Ua=null,ei=null,j2=!1,Tg=!1,vv=0,MQ=0;function ki(){throw Error(It(321))}function QE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_l(e[r],t[r]))return!1;return!0}function JE(e,t,r,n,a,i){if(Yd=i,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kx.current=e===null||e.memoizedState===null?BQ:UQ,e=r(n,a),Tg){i=0;do{if(Tg=!1,vv=0,25<=i)throw Error(It(301));i+=1,ei=Ua=null,t.updateQueue=null,Kx.current=VQ,e=r(n,a)}while(Tg)}if(Kx.current=D2,t=Ua!==null&&Ua.next!==null,Yd=0,ei=Ua=aa=null,j2=!1,t)throw Error(It(300));return e}function ZE(){var e=vv!==0;return vv=0,e}function Ul(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?aa.memoizedState=ei=e:ei=ei.next=e,ei}function Mo(){if(Ua===null){var e=aa.alternate;e=e!==null?e.memoizedState:null}else e=Ua.next;var t=ei===null?aa.memoizedState:ei.next;if(t!==null)ei=t,Ua=e;else{if(e===null)throw Error(It(310));Ua=e,e={memoizedState:Ua.memoizedState,baseState:Ua.baseState,baseQueue:Ua.baseQueue,queue:Ua.queue,next:null},ei===null?aa.memoizedState=ei=e:ei=ei.next=e}return ei}function yv(e,t){return typeof t=="function"?t(e):t}function Z_(e){var t=Mo(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=Ua,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Yd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,aa.lanes|=u,Xd|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,_l(n,t.memoizedState)||(Ps=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,aa.lanes|=i,Xd|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eS(e){var t=Mo(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);_l(i,t.memoizedState)||(Ps=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function r$(){}function n$(e,t){var r=aa,n=Mo(),a=t(),i=!_l(n.memoizedState,a);if(i&&(n.memoizedState=a,Ps=!0),n=n.queue,eN(s$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ei!==null&&ei.memoizedState.tag&1){if(r.flags|=2048,xv(9,i$.bind(null,r,n,a,t),void 0,null),ii===null)throw Error(It(349));Yd&30||a$(r,t,a)}return a}function a$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function i$(e,t,r,n){t.value=r,t.getSnapshot=n,o$(t)&&l$(e)}function s$(e,t,r){return r(function(){o$(t)&&l$(e)})}function o$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_l(e,r)}catch{return!0}}function l$(e){var t=Vc(e,1);t!==null&&yl(t,e,1,-1)}function U6(e){var t=Ul();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:e},t.queue=e,e=e.dispatch=$Q.bind(null,aa,e),[t.memoizedState,e]}function xv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function c$(){return Mo().memoizedState}function Yx(e,t,r,n){var a=Ul();aa.flags|=e,a.memoizedState=xv(1|t,r,void 0,n===void 0?null:n)}function Rw(e,t,r,n){var a=Mo();n=n===void 0?null:n;var i=void 0;if(Ua!==null){var s=Ua.memoizedState;if(i=s.destroy,n!==null&&QE(n,s.deps)){a.memoizedState=xv(t,r,i,n);return}}aa.flags|=e,a.memoizedState=xv(1|t,r,i,n)}function V6(e,t){return Yx(8390656,8,e,t)}function eN(e,t){return Rw(2048,8,e,t)}function u$(e,t){return Rw(4,2,e,t)}function f$(e,t){return Rw(4,4,e,t)}function d$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function h$(e,t,r){return r=r!=null?r.concat([e]):null,Rw(4,4,d$.bind(null,t,e),r)}function tN(){}function p$(e,t){var r=Mo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&QE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function m$(e,t){var r=Mo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&QE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function g$(e,t,r){return Yd&21?(_l(r,t)||(r=wF(),aa.lanes|=r,Xd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ps=!0),e.memoizedState=r)}function RQ(e,t){var r=Nn;Nn=r!==0&&4>r?r:4,e(!0);var n=J_.transition;J_.transition={};try{e(!1),t()}finally{Nn=r,J_.transition=n}}function v$(){return Mo().memoizedState}function FQ(e,t,r){var n=mf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},y$(e))x$(t,r);else if(r=ZF(e,t,r,n),r!==null){var a=ps();yl(r,e,n,a),b$(r,t,n)}}function $Q(e,t,r){var n=mf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(y$(e))x$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,_l(o,s)){var l=t.interleaved;l===null?(a.next=a,HE(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=ZF(e,t,a,n),r!==null&&(a=ps(),yl(r,e,n,a),b$(r,t,n))}}function y$(e){var t=e.alternate;return e===aa||t!==null&&t===aa}function x$(e,t){Tg=j2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function b$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,IE(e,r)}}var D2={readContext:Lo,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},BQ={readContext:Lo,useCallback:function(e,t){return Ul().memoizedState=[e,t===void 0?null:t],e},useContext:Lo,useEffect:V6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yx(4194308,4,d$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yx(4,2,e,t)},useMemo:function(e,t){var r=Ul();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ul();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=FQ.bind(null,aa,e),[n.memoizedState,e]},useRef:function(e){var t=Ul();return e={current:e},t.memoizedState=e},useState:U6,useDebugValue:tN,useDeferredValue:function(e){return Ul().memoizedState=e},useTransition:function(){var e=U6(!1),t=e[0];return e=RQ.bind(null,e[1]),Ul().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=aa,a=Ul();if(Xn){if(r===void 0)throw Error(It(407));r=r()}else{if(r=t(),ii===null)throw Error(It(349));Yd&30||a$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,V6(s$.bind(null,n,i,e),[e]),n.flags|=2048,xv(9,i$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ul(),t=ii.identifierPrefix;if(Xn){var r=Nc,n=Ec;r=(n&~(1<<32-vl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=MQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UQ={readContext:Lo,useCallback:p$,useContext:Lo,useEffect:eN,useImperativeHandle:h$,useInsertionEffect:u$,useLayoutEffect:f$,useMemo:m$,useReducer:Z_,useRef:c$,useState:function(){return Z_(yv)},useDebugValue:tN,useDeferredValue:function(e){var t=Mo();return g$(t,Ua.memoizedState,e)},useTransition:function(){var e=Z_(yv)[0],t=Mo().memoizedState;return[e,t]},useMutableSource:r$,useSyncExternalStore:n$,useId:v$,unstable_isNewReconciler:!1},VQ={readContext:Lo,useCallback:p$,useContext:Lo,useEffect:eN,useImperativeHandle:h$,useInsertionEffect:u$,useLayoutEffect:f$,useMemo:m$,useReducer:eS,useRef:c$,useState:function(){return eS(yv)},useDebugValue:tN,useDeferredValue:function(e){var t=Mo();return Ua===null?t.memoizedState=e:g$(t,Ua.memoizedState,e)},useTransition:function(){var e=eS(yv)[0],t=Mo().memoizedState;return[e,t]},useMutableSource:r$,useSyncExternalStore:n$,useId:v$,unstable_isNewReconciler:!1};function il(e,t){if(e&&e.defaultProps){t=sa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function u4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:sa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fw={isMounted:function(e){return(e=e._reactInternals)?hh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ps(),a=mf(e),i=jc(n,a);i.payload=t,r!=null&&(i.callback=r),t=hf(e,i,a),t!==null&&(yl(t,e,a,n),Gx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ps(),a=mf(e),i=jc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=hf(e,i,a),t!==null&&(yl(t,e,a,n),Gx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ps(),n=mf(e),a=jc(r,n);a.tag=2,t!=null&&(a.callback=t),t=hf(e,a,n),t!==null&&(yl(t,e,n,r),Gx(t,e,n))}};function z6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!fv(r,n)||!fv(a,i):!0}function w$(e,t,r){var n=!1,a=Cf,i=t.contextType;return typeof i=="object"&&i!==null?i=Lo(i):(a=Ls(t)?Gd:Xi.current,n=t.contextTypes,i=(n=n!=null)?J0(e,a):Cf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function q6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fw.enqueueReplaceState(t,t.state,null)}function f4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},GE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Lo(i):(i=Ls(t)?Gd:Xi.current,a.context=J0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(u4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fw.enqueueReplaceState(a,a.state,null),O2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rp(e,t){try{var r="",n=t;do r+=gX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function tS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function d4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zQ=typeof WeakMap=="function"?WeakMap:Map;function _$(e,t,r){r=jc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){M2||(M2=!0,_4=n),d4(e,t)},r}function S$(e,t,r){r=jc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){d4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){d4(e,t),typeof n!="function"&&(pf===null?pf=new Set([this]):pf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function W6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=nJ.bind(null,e,t,r),t.then(e,e))}function H6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jc(-1,1),t.tag=2,hf(r,t,1))),r.lanes|=1),e)}var qQ=nu.ReactCurrentOwner,Ps=!1;function ss(e,t,r,n){t.child=e===null?JF(t,null,r,n):ep(t,e.child,r,n)}function K6(e,t,r,n,a){r=r.render;var i=t.ref;return L0(t,a),n=JE(e,t,r,n,i,a),r=ZE(),e!==null&&!Ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zc(e,t,a)):(Xn&&r&&BE(t),t.flags|=1,ss(e,t,n,a),t.child)}function Y6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!cN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,A$(e,t,i,n,a)):(e=Zx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:fv,r(s,n)&&e.ref===t.ref)return zc(e,t,a)}return t.flags|=1,e=gf(i,n),e.ref=t.ref,e.return=t,t.child=e}function A$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(fv(i,n)&&e.ref===t.ref)if(Ps=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ps=!0);else return t.lanes=e.lanes,zc(e,t,a)}return h4(e,t,r,n,a)}function T$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(b0,Ys),Ys|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bn(b0,Ys),Ys|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Bn(b0,Ys),Ys|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Bn(b0,Ys),Ys|=n;return ss(e,t,a,r),t.child}function E$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function h4(e,t,r,n,a){var i=Ls(r)?Gd:Xi.current;return i=J0(t,i),L0(t,a),r=JE(e,t,r,n,i,a),n=ZE(),e!==null&&!Ps?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zc(e,t,a)):(Xn&&n&&BE(t),t.flags|=1,ss(e,t,r,a),t.child)}function X6(e,t,r,n,a){if(Ls(r)){var i=!0;E2(t)}else i=!1;if(L0(t,a),t.stateNode===null)Xx(e,t),w$(t,r,n),f4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Lo(c):(c=Ls(r)?Gd:Xi.current,c=J0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&q6(t,s,n,c),qu=!1;var h=t.memoizedState;s.state=h,O2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Ds.current||qu?(typeof u=="function"&&(u4(t,r,u,n),l=t.memoizedState),(o=qu||z6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,e$(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:il(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Lo(l):(l=Ls(r)?Gd:Xi.current,l=J0(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&q6(t,s,n,l),qu=!1,h=t.memoizedState,s.state=h,O2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||Ds.current||qu?(typeof p=="function"&&(u4(t,r,p,n),g=t.memoizedState),(c=qu||z6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return p4(e,t,r,n,i,a)}function p4(e,t,r,n,a,i){E$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&L6(t,r,!1),zc(e,t,i);n=t.stateNode,qQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ep(t,e.child,null,i),t.child=ep(t,null,o,i)):ss(e,t,o,i),t.memoizedState=n.state,a&&L6(t,r,!0),t.child}function N$(e){var t=e.stateNode;t.pendingContext?D6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D6(e,t.context,!1),KE(e,t.containerInfo)}function Q6(e,t,r,n,a){return Z0(),VE(a),t.flags|=256,ss(e,t,r,n),t.child}var m4={dehydrated:null,treeContext:null,retryLane:0};function g4(e){return{baseLanes:e,cachePool:null,transitions:null}}function k$(e,t,r){var n=t.pendingProps,a=na.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Bn(na,a&1),e===null)return l4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Uw(s,n,0,null),e=Fd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=g4(r),t.memoizedState=m4,e):rN(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return WQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=gf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=gf(o,i):(i=Fd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?g4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=m4,n}return i=e.child,e=i.sibling,n=gf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rN(e,t){return t=Uw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zy(e,t,r,n){return n!==null&&VE(n),ep(t,e.child,null,r),e=rN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=tS(Error(It(422))),Zy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Uw({mode:"visible",children:n.children},a,0,null),i=Fd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ep(t,e.child,null,s),t.child.memoizedState=g4(s),t.memoizedState=m4,i);if(!(t.mode&1))return Zy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(It(419)),n=tS(i,n,void 0),Zy(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ps||o){if(n=ii,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Vc(e,a),yl(n,e,a,-1))}return lN(),n=tS(Error(It(421))),Zy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=aJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,eo=df(a.nextSibling),no=t,Xn=!0,ul=null,e!==null&&(No[ko++]=Ec,No[ko++]=Nc,No[ko++]=Kd,Ec=e.id,Nc=e.overflow,Kd=t),t=rN(t,n.children),t.flags|=4096,t)}function J6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),c4(e.return,t,r)}function rS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function C$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ss(e,t,n.children,r),n=na.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J6(e,r,t);else if(e.tag===19)J6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Bn(na,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&I2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&I2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rS(t,!0,r,null,i);break;case"together":rS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(It(153));if(t.child!==null){for(e=t.child,r=gf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HQ(e,t,r){switch(t.tag){case 3:N$(t),Z0();break;case 5:t$(t);break;case 1:Ls(t.type)&&E2(t);break;case 4:KE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Bn(C2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Bn(na,na.current&1),t.flags|=128,null):r&t.child.childLanes?k$(e,t,r):(Bn(na,na.current&1),e=zc(e,t,r),e!==null?e.sibling:null);Bn(na,na.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return C$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Bn(na,na.current),n)break;return null;case 22:case 23:return t.lanes=0,T$(e,t,r)}return zc(e,t,r)}var P$,v4,O$,I$;P$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};v4=function(){};O$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kd(Gl.current);var i=null;switch(r){case"input":a=$A(e,a),n=$A(e,n),i=[];break;case"select":a=sa({},a,{value:void 0}),n=sa({},n,{value:void 0}),i=[];break;case"textarea":a=VA(e,a),n=VA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=A2)}qA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(av.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(av.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&zn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};I$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bm(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ci(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GQ(e,t,r){var n=t.pendingProps;switch(UE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(t),null;case 1:return Ls(t.type)&&T2(),Ci(t),null;case 3:return n=t.stateNode,tp(),Kn(Ds),Kn(Xi),XE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ul!==null&&(T4(ul),ul=null))),v4(e,t),Ci(t),null;case 5:YE(t);var a=kd(gv.current);if(r=t.type,e!==null&&t.stateNode!=null)O$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(It(166));return Ci(t),null}if(e=kd(Gl.current),Qy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zl]=t,n[pv]=i,e=(t.mode&1)!==0,r){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(a=0;a<lg.length;a++)zn(lg[a],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":o6(n,i),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},zn("invalid",n);break;case"textarea":c6(n,i),zn("invalid",n)}qA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Xy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Xy(n.textContent,o,e),a=["children",""+o]):av.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&zn("scroll",n)}switch(r){case"input":Vy(n),l6(n,i,!0);break;case"textarea":Vy(n),u6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=A2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[zl]=t,e[pv]=n,P$(e,t,!1,!1),t.stateNode=e;e:{switch(s=WA(r,n),r){case"dialog":zn("cancel",e),zn("close",e),a=n;break;case"iframe":case"object":case"embed":zn("load",e),a=n;break;case"video":case"audio":for(a=0;a<lg.length;a++)zn(lg[a],e);a=n;break;case"source":zn("error",e),a=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),a=n;break;case"details":zn("toggle",e),a=n;break;case"input":o6(e,n),a=$A(e,n),zn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=sa({},n,{value:void 0}),zn("invalid",e);break;case"textarea":c6(e,n),a=VA(e,n),zn("invalid",e);break;default:a=n}qA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?cF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&iv(e,l):typeof l=="number"&&iv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(av.hasOwnProperty(i)?l!=null&&i==="onScroll"&&zn("scroll",e):l!=null&&EE(e,i,l,s))}switch(r){case"input":Vy(e),l6(e,n,!1);break;case"textarea":Vy(e),u6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?O0(e,!!n.multiple,i,!1):n.defaultValue!=null&&O0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=A2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ci(t),null;case 6:if(e&&t.stateNode!=null)I$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(It(166));if(r=kd(gv.current),kd(Gl.current),Qy(t)){if(n=t.stateNode,r=t.memoizedProps,n[zl]=t,(i=n.nodeValue!==r)&&(e=no,e!==null))switch(e.tag){case 3:Xy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zl]=t,t.stateNode=n}return Ci(t),null;case 13:if(Kn(na),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&eo!==null&&t.mode&1&&!(t.flags&128))XF(),Z0(),t.flags|=98560,i=!1;else if(i=Qy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(It(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(It(317));i[zl]=t}else Z0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ci(t),i=!1}else ul!==null&&(T4(ul),ul=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||na.current&1?Va===0&&(Va=3):lN())),t.updateQueue!==null&&(t.flags|=4),Ci(t),null);case 4:return tp(),v4(e,t),e===null&&dv(t.stateNode.containerInfo),Ci(t),null;case 10:return WE(t.type._context),Ci(t),null;case 17:return Ls(t.type)&&T2(),Ci(t),null;case 19:if(Kn(na),i=t.memoizedState,i===null)return Ci(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Bm(i,!1);else{if(Va!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=I2(e),s!==null){for(t.flags|=128,Bm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Bn(na,na.current&1|2),t.child}e=e.sibling}i.tail!==null&&ba()>np&&(t.flags|=128,n=!0,Bm(i,!1),t.lanes=4194304)}else{if(!n)if(e=I2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Xn)return Ci(t),null}else 2*ba()-i.renderingStartTime>np&&r!==1073741824&&(t.flags|=128,n=!0,Bm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ba(),t.sibling=null,r=na.current,Bn(na,n?r&1|2:r&1),t):(Ci(t),null);case 22:case 23:return oN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ys&1073741824&&(Ci(t),t.subtreeFlags&6&&(t.flags|=8192)):Ci(t),null;case 24:return null;case 25:return null}throw Error(It(156,t.tag))}function KQ(e,t){switch(UE(t),t.tag){case 1:return Ls(t.type)&&T2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tp(),Kn(Ds),Kn(Xi),XE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return YE(t),null;case 13:if(Kn(na),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(It(340));Z0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kn(na),null;case 4:return tp(),null;case 10:return WE(t.type._context),null;case 22:case 23:return oN(),null;case 24:return null;default:return null}}var ex=!1,Bi=!1,YQ=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function x0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){da(e,t,n)}else r.current=null}function y4(e,t,r){try{r()}catch(n){da(e,t,n)}}var Z6=!1;function XQ(e,t){if(t4=w2,e=RF(),$E(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(r4={focusedElem:e,selectionRange:r},w2=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){t=Qt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:il(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(It(163))}}catch(D){da(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}return g=Z6,Z6=!1,g}function Eg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&y4(t,r,i)}a=a.next}while(a!==n)}}function $w(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function x4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function j$(e){var t=e.alternate;t!==null&&(e.alternate=null,j$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zl],delete t[pv],delete t[i4],delete t[IQ],delete t[jQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D$(e){return e.tag===5||e.tag===3||e.tag===4}function eO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=A2));else if(n!==4&&(e=e.child,e!==null))for(b4(e,t,r),e=e.sibling;e!==null;)b4(e,t,r),e=e.sibling}function w4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(w4(e,t,r),e=e.sibling;e!==null;)w4(e,t,r),e=e.sibling}var hi=null,ol=!1;function Mu(e,t,r){for(r=r.child;r!==null;)L$(e,t,r),r=r.sibling}function L$(e,t,r){if(Hl&&typeof Hl.onCommitFiberUnmount=="function")try{Hl.onCommitFiberUnmount(Ow,r)}catch{}switch(r.tag){case 5:Bi||x0(r,t);case 6:var n=hi,a=ol;hi=null,Mu(e,t,r),hi=n,ol=a,hi!==null&&(ol?(e=hi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hi.removeChild(r.stateNode));break;case 18:hi!==null&&(ol?(e=hi,r=r.stateNode,e.nodeType===8?Y_(e.parentNode,r):e.nodeType===1&&Y_(e,r),cv(e)):Y_(hi,r.stateNode));break;case 4:n=hi,a=ol,hi=r.stateNode.containerInfo,ol=!0,Mu(e,t,r),hi=n,ol=a;break;case 0:case 11:case 14:case 15:if(!Bi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&y4(r,t,s),a=a.next}while(a!==n)}Mu(e,t,r);break;case 1:if(!Bi&&(x0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){da(r,t,o)}Mu(e,t,r);break;case 21:Mu(e,t,r);break;case 22:r.mode&1?(Bi=(n=Bi)||r.memoizedState!==null,Mu(e,t,r),Bi=n):Mu(e,t,r);break;default:Mu(e,t,r)}}function tO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YQ),t.forEach(function(n){var a=iJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Jo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:hi=o.stateNode,ol=!1;break e;case 3:hi=o.stateNode.containerInfo,ol=!0;break e;case 4:hi=o.stateNode.containerInfo,ol=!0;break e}o=o.return}if(hi===null)throw Error(It(160));L$(i,s,a),hi=null,ol=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){da(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M$(t,e),t=t.sibling}function M$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jo(t,e),Rl(e),n&4){try{Eg(3,e,e.return),$w(3,e)}catch(m){da(e,e.return,m)}try{Eg(5,e,e.return)}catch(m){da(e,e.return,m)}}break;case 1:Jo(t,e),Rl(e),n&512&&r!==null&&x0(r,r.return);break;case 5:if(Jo(t,e),Rl(e),n&512&&r!==null&&x0(r,r.return),e.flags&32){var a=e.stateNode;try{iv(a,"")}catch(m){da(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&aF(a,i),WA(o,s);var c=WA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?cF(a,f):u==="dangerouslySetInnerHTML"?oF(a,f):u==="children"?iv(a,f):EE(a,u,f,c)}switch(o){case"input":BA(a,i);break;case"textarea":iF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?O0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?O0(a,!!i.multiple,i.defaultValue,!0):O0(a,!!i.multiple,i.multiple?[]:"",!1))}a[pv]=i}catch(m){da(e,e.return,m)}}break;case 6:if(Jo(t,e),Rl(e),n&4){if(e.stateNode===null)throw Error(It(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){da(e,e.return,m)}}break;case 3:if(Jo(t,e),Rl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cv(t.containerInfo)}catch(m){da(e,e.return,m)}break;case 4:Jo(t,e),Rl(e);break;case 13:Jo(t,e),Rl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(iN=ba())),n&4&&tO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Bi=(c=Bi)||u,Jo(t,e),Bi=c):Jo(t,e),Rl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Qt=e,u=e.child;u!==null;){for(f=Qt=u;Qt!==null;){switch(h=Qt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Eg(4,h,h.return);break;case 1:x0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){da(n,r,m)}}break;case 5:x0(h,h.return);break;case 22:if(h.memoizedState!==null){nO(f);continue}}p!==null?(p.return=h,Qt=p):nO(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lF("display",s))}catch(m){da(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){da(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jo(t,e),Rl(e),n&4&&tO(e);break;case 21:break;default:Jo(t,e),Rl(e)}}function Rl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(D$(r)){var n=r;break e}r=r.return}throw Error(It(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(iv(a,""),n.flags&=-33);var i=eO(e);w4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=eO(e);b4(e,o,s);break;default:throw Error(It(161))}}catch(l){da(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QQ(e,t,r){Qt=e,R$(e)}function R$(e,t,r){for(var n=(e.mode&1)!==0;Qt!==null;){var a=Qt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||ex;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Bi;o=ex;var c=Bi;if(ex=s,(Bi=l)&&!c)for(Qt=a;Qt!==null;)s=Qt,l=s.child,s.tag===22&&s.memoizedState!==null?aO(a):l!==null?(l.return=s,Qt=l):aO(a);for(;i!==null;)Qt=i,R$(i),i=i.sibling;Qt=a,ex=o,Bi=c}rO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Qt=i):rO(e)}}function rO(e){for(;Qt!==null;){var t=Qt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bi||$w(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Bi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:il(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&B6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}B6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&cv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(It(163))}Bi||t.flags&512&&x4(t)}catch(h){da(t,t.return,h)}}if(t===e){Qt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function nO(e){for(;Qt!==null;){var t=Qt;if(t===e){Qt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function aO(e){for(;Qt!==null;){var t=Qt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$w(4,t)}catch(l){da(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){da(t,a,l)}}var i=t.return;try{x4(t)}catch(l){da(t,i,l)}break;case 5:var s=t.return;try{x4(t)}catch(l){da(t,s,l)}}}catch(l){da(t,t.return,l)}if(t===e){Qt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Qt=o;break}Qt=t.return}}var JQ=Math.ceil,L2=nu.ReactCurrentDispatcher,nN=nu.ReactCurrentOwner,Oo=nu.ReactCurrentBatchConfig,dn=0,ii=null,ja=null,wi=0,Ys=0,b0=Vf(0),Va=0,bv=null,Xd=0,Bw=0,aN=0,Ng=null,ks=null,iN=0,np=1/0,Ac=null,M2=!1,_4=null,pf=null,tx=!1,Zu=null,R2=0,kg=0,S4=null,Qx=-1,Jx=0;function ps(){return dn&6?ba():Qx!==-1?Qx:Qx=ba()}function mf(e){return e.mode&1?dn&2&&wi!==0?wi&-wi:LQ.transition!==null?(Jx===0&&(Jx=wF()),Jx):(e=Nn,e!==0||(e=window.event,e=e===void 0?16:kF(e.type)),e):1}function yl(e,t,r,n){if(50<kg)throw kg=0,S4=null,Error(It(185));D1(e,r,n),(!(dn&2)||e!==ii)&&(e===ii&&(!(dn&2)&&(Bw|=r),Va===4&&Gu(e,wi)),Ms(e,n),r===1&&dn===0&&!(t.mode&1)&&(np=ba()+500,Mw&&zf()))}function Ms(e,t){var r=e.callbackNode;LX(e,t);var n=b2(e,e===ii?wi:0);if(n===0)r!==null&&h6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&h6(r),t===1)e.tag===0?DQ(iO.bind(null,e)):GF(iO.bind(null,e)),PQ(function(){!(dn&6)&&zf()}),r=null;else{switch(_F(n)){case 1:r=OE;break;case 4:r=xF;break;case 16:r=x2;break;case 536870912:r=bF;break;default:r=x2}r=W$(r,F$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function F$(e,t){if(Qx=-1,Jx=0,dn&6)throw Error(It(327));var r=e.callbackNode;if(M0()&&e.callbackNode!==r)return null;var n=b2(e,e===ii?wi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=F2(e,n);else{t=n;var a=dn;dn|=2;var i=B$();(ii!==e||wi!==t)&&(Ac=null,np=ba()+500,Rd(e,t));do try{tJ();break}catch(o){$$(e,o)}while(!0);qE(),L2.current=i,dn=a,ja!==null?t=0:(ii=null,wi=0,t=Va)}if(t!==0){if(t===2&&(a=XA(e),a!==0&&(n=a,t=A4(e,a))),t===1)throw r=bv,Rd(e,0),Gu(e,n),Ms(e,ba()),r;if(t===6)Gu(e,n);else{if(a=e.current.alternate,!(n&30)&&!ZQ(a)&&(t=F2(e,n),t===2&&(i=XA(e),i!==0&&(n=i,t=A4(e,i))),t===1))throw r=bv,Rd(e,0),Gu(e,n),Ms(e,ba()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(It(345));case 2:gd(e,ks,Ac);break;case 3:if(Gu(e,n),(n&130023424)===n&&(t=iN+500-ba(),10<t)){if(b2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ps(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=a4(gd.bind(null,e,ks,Ac),t);break}gd(e,ks,Ac);break;case 4:if(Gu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-vl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=ba()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JQ(n/1960))-n,10<n){e.timeoutHandle=a4(gd.bind(null,e,ks,Ac),n);break}gd(e,ks,Ac);break;case 5:gd(e,ks,Ac);break;default:throw Error(It(329))}}}return Ms(e,ba()),e.callbackNode===r?F$.bind(null,e):null}function A4(e,t){var r=Ng;return e.current.memoizedState.isDehydrated&&(Rd(e,t).flags|=256),e=F2(e,t),e!==2&&(t=ks,ks=r,t!==null&&T4(t)),e}function T4(e){ks===null?ks=e:ks.push.apply(ks,e)}function ZQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!_l(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gu(e,t){for(t&=~aN,t&=~Bw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vl(t),n=1<<r;e[r]=-1,t&=~n}}function iO(e){if(dn&6)throw Error(It(327));M0();var t=b2(e,0);if(!(t&1))return Ms(e,ba()),null;var r=F2(e,t);if(e.tag!==0&&r===2){var n=XA(e);n!==0&&(t=n,r=A4(e,n))}if(r===1)throw r=bv,Rd(e,0),Gu(e,t),Ms(e,ba()),r;if(r===6)throw Error(It(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gd(e,ks,Ac),Ms(e,ba()),null}function sN(e,t){var r=dn;dn|=1;try{return e(t)}finally{dn=r,dn===0&&(np=ba()+500,Mw&&zf())}}function Qd(e){Zu!==null&&Zu.tag===0&&!(dn&6)&&M0();var t=dn;dn|=1;var r=Oo.transition,n=Nn;try{if(Oo.transition=null,Nn=1,e)return e()}finally{Nn=n,Oo.transition=r,dn=t,!(dn&6)&&zf()}}function oN(){Ys=b0.current,Kn(b0)}function Rd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,CQ(r)),ja!==null)for(r=ja.return;r!==null;){var n=r;switch(UE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&T2();break;case 3:tp(),Kn(Ds),Kn(Xi),XE();break;case 5:YE(n);break;case 4:tp();break;case 13:Kn(na);break;case 19:Kn(na);break;case 10:WE(n.type._context);break;case 22:case 23:oN()}r=r.return}if(ii=e,ja=e=gf(e.current,null),wi=Ys=t,Va=0,bv=null,aN=Bw=Xd=0,ks=Ng=null,Nd!==null){for(t=0;t<Nd.length;t++)if(r=Nd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Nd=null}return e}function $$(e,t){do{var r=ja;try{if(qE(),Kx.current=D2,j2){for(var n=aa.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}j2=!1}if(Yd=0,ei=Ua=aa=null,Tg=!1,vv=0,nN.current=null,r===null||r.return===null){Va=1,bv=t,ja=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=wi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=H6(s);if(p!==null){p.flags&=-257,G6(p,s,o,i,t),p.mode&1&&W6(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){W6(i,c,t),lN();break e}l=Error(It(426))}}else if(Xn&&o.mode&1){var v=H6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),G6(v,s,o,i,t),VE(rp(l,o));break e}}i=l=rp(l,o),Va!==4&&(Va=2),Ng===null?Ng=[i]:Ng.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=_$(i,l,t);$6(i,y);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pf===null||!pf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=S$(i,o,t);$6(i,D);break e}}i=i.return}while(i!==null)}V$(r)}catch(P){t=P,ja===r&&r!==null&&(ja=r=r.return);continue}break}while(!0)}function B$(){var e=L2.current;return L2.current=D2,e===null?D2:e}function lN(){(Va===0||Va===3||Va===2)&&(Va=4),ii===null||!(Xd&268435455)&&!(Bw&268435455)||Gu(ii,wi)}function F2(e,t){var r=dn;dn|=2;var n=B$();(ii!==e||wi!==t)&&(Ac=null,Rd(e,t));do try{eJ();break}catch(a){$$(e,a)}while(!0);if(qE(),dn=r,L2.current=n,ja!==null)throw Error(It(261));return ii=null,wi=0,Va}function eJ(){for(;ja!==null;)U$(ja)}function tJ(){for(;ja!==null&&!EX();)U$(ja)}function U$(e){var t=q$(e.alternate,e,Ys);e.memoizedProps=e.pendingProps,t===null?V$(e):ja=t,nN.current=null}function V$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KQ(r,t),r!==null){r.flags&=32767,ja=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Va=6,ja=null;return}}else if(r=GQ(r,t,Ys),r!==null){ja=r;return}if(t=t.sibling,t!==null){ja=t;return}ja=t=e}while(t!==null);Va===0&&(Va=5)}function gd(e,t,r){var n=Nn,a=Oo.transition;try{Oo.transition=null,Nn=1,rJ(e,t,r,n)}finally{Oo.transition=a,Nn=n}return null}function rJ(e,t,r,n){do M0();while(Zu!==null);if(dn&6)throw Error(It(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(It(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(MX(e,i),e===ii&&(ja=ii=null,wi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tx||(tx=!0,W$(x2,function(){return M0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Oo.transition,Oo.transition=null;var s=Nn;Nn=1;var o=dn;dn|=4,nN.current=null,XQ(e,r),M$(r,e),_Q(r4),w2=!!t4,r4=t4=null,e.current=r,QQ(r),NX(),dn=o,Nn=s,Oo.transition=i}else e.current=r;if(tx&&(tx=!1,Zu=e,R2=a),i=e.pendingLanes,i===0&&(pf=null),PX(r.stateNode),Ms(e,ba()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(M2)throw M2=!1,e=_4,_4=null,e;return R2&1&&e.tag!==0&&M0(),i=e.pendingLanes,i&1?e===S4?kg++:(kg=0,S4=e):kg=0,zf(),null}function M0(){if(Zu!==null){var e=_F(R2),t=Oo.transition,r=Nn;try{if(Oo.transition=null,Nn=16>e?16:e,Zu===null)var n=!1;else{if(e=Zu,Zu=null,R2=0,dn&6)throw Error(It(331));var a=dn;for(dn|=4,Qt=e.current;Qt!==null;){var i=Qt,s=i.child;if(Qt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Qt=c;Qt!==null;){var u=Qt;switch(u.tag){case 0:case 11:case 15:Eg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Qt=f;else for(;Qt!==null;){u=Qt;var h=u.sibling,p=u.return;if(j$(u),u===c){Qt=null;break}if(h!==null){h.return=p,Qt=h;break}Qt=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Qt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Qt=s;else e:for(;Qt!==null;){if(i=Qt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Qt=y;break e}Qt=i.return}}var b=e.current;for(Qt=b;Qt!==null;){s=Qt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Qt=w;else e:for(s=b;Qt!==null;){if(o=Qt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$w(9,o)}}catch(P){da(o,o.return,P)}if(o===s){Qt=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,Qt=D;break e}Qt=o.return}}if(dn=a,zf(),Hl&&typeof Hl.onPostCommitFiberRoot=="function")try{Hl.onPostCommitFiberRoot(Ow,e)}catch{}n=!0}return n}finally{Nn=r,Oo.transition=t}}return!1}function sO(e,t,r){t=rp(r,t),t=_$(e,t,1),e=hf(e,t,1),t=ps(),e!==null&&(D1(e,1,t),Ms(e,t))}function da(e,t,r){if(e.tag===3)sO(e,e,r);else for(;t!==null;){if(t.tag===3){sO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pf===null||!pf.has(n))){e=rp(r,e),e=S$(t,e,1),t=hf(t,e,1),e=ps(),t!==null&&(D1(t,1,e),Ms(t,e));break}}t=t.return}}function nJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ps(),e.pingedLanes|=e.suspendedLanes&r,ii===e&&(wi&r)===r&&(Va===4||Va===3&&(wi&130023424)===wi&&500>ba()-iN?Rd(e,0):aN|=r),Ms(e,t)}function z$(e,t){t===0&&(e.mode&1?(t=Wy,Wy<<=1,!(Wy&130023424)&&(Wy=4194304)):t=1);var r=ps();e=Vc(e,t),e!==null&&(D1(e,t,r),Ms(e,r))}function aJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),z$(e,r)}function iJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(It(314))}n!==null&&n.delete(t),z$(e,r)}var q$;q$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ds.current)Ps=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ps=!1,HQ(e,t,r);Ps=!!(e.flags&131072)}else Ps=!1,Xn&&t.flags&1048576&&KF(t,k2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xx(e,t),e=t.pendingProps;var a=J0(t,Xi.current);L0(t,r),a=JE(null,t,n,e,a,r);var i=ZE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(n)?(i=!0,E2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,GE(t),a.updater=Fw,t.stateNode=a,a._reactInternals=t,f4(t,n,e,r),t=p4(null,t,n,!0,i,r)):(t.tag=0,Xn&&i&&BE(t),ss(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=oJ(n),e=il(n,e),a){case 0:t=h4(null,t,n,e,r);break e;case 1:t=X6(null,t,n,e,r);break e;case 11:t=K6(null,t,n,e,r);break e;case 14:t=Y6(null,t,n,il(n.type,e),r);break e}throw Error(It(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:il(n,a),h4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:il(n,a),X6(e,t,n,a,r);case 3:e:{if(N$(t),e===null)throw Error(It(387));n=t.pendingProps,i=t.memoizedState,a=i.element,e$(e,t),O2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=rp(Error(It(423)),t),t=Q6(e,t,n,r,a);break e}else if(n!==a){a=rp(Error(It(424)),t),t=Q6(e,t,n,r,a);break e}else for(eo=df(t.stateNode.containerInfo.firstChild),no=t,Xn=!0,ul=null,r=JF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Z0(),n===a){t=zc(e,t,r);break e}ss(e,t,n,r)}t=t.child}return t;case 5:return t$(t),e===null&&l4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,n4(n,a)?s=null:i!==null&&n4(n,i)&&(t.flags|=32),E$(e,t),ss(e,t,s,r),t.child;case 6:return e===null&&l4(t),null;case 13:return k$(e,t,r);case 4:return KE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ep(t,null,n,r):ss(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:il(n,a),K6(e,t,n,a,r);case 7:return ss(e,t,t.pendingProps,r),t.child;case 8:return ss(e,t,t.pendingProps.children,r),t.child;case 12:return ss(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Bn(C2,n._currentValue),n._currentValue=s,i!==null)if(_l(i.value,s)){if(i.children===a.children&&!Ds.current){t=zc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=jc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),c4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(It(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),c4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ss(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,L0(t,r),a=Lo(a),n=n(a),t.flags|=1,ss(e,t,n,r),t.child;case 14:return n=t.type,a=il(n,t.pendingProps),a=il(n.type,a),Y6(e,t,n,a,r);case 15:return A$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:il(n,a),Xx(e,t),t.tag=1,Ls(n)?(e=!0,E2(t)):e=!1,L0(t,r),w$(t,n,a),f4(t,n,a,r),p4(null,t,n,!0,e,r);case 19:return C$(e,t,r);case 22:return T$(e,t,r)}throw Error(It(156,t.tag))};function W$(e,t){return yF(e,t)}function sJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Co(e,t,r,n){return new sJ(e,t,r,n)}function cN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oJ(e){if(typeof e=="function")return cN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kE)return 11;if(e===CE)return 14}return 2}function gf(e,t){var r=e.alternate;return r===null?(r=Co(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")cN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case u0:return Fd(r.children,a,i,t);case NE:s=8,a|=8;break;case LA:return e=Co(12,r,t,a|2),e.elementType=LA,e.lanes=i,e;case MA:return e=Co(13,r,t,a),e.elementType=MA,e.lanes=i,e;case RA:return e=Co(19,r,t,a),e.elementType=RA,e.lanes=i,e;case tF:return Uw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z7:s=10;break e;case eF:s=9;break e;case kE:s=11;break e;case CE:s=14;break e;case zu:s=16,n=null;break e}throw Error(It(130,e==null?e:typeof e,""))}return t=Co(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Fd(e,t,r,n){return e=Co(7,e,n,t),e.lanes=r,e}function Uw(e,t,r,n){return e=Co(22,e,n,t),e.elementType=tF,e.lanes=r,e.stateNode={isHidden:!1},e}function nS(e,t,r){return e=Co(6,e,null,t),e.lanes=r,e}function aS(e,t,r){return t=Co(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F_(0),this.expirationTimes=F_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function uN(e,t,r,n,a,i,s,o,l){return e=new lJ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Co(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},GE(i),e}function cJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function H$(e){if(!e)return Cf;e=e._reactInternals;e:{if(hh(e)!==e||e.tag!==1)throw Error(It(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(It(171))}if(e.tag===1){var r=e.type;if(Ls(r))return HF(e,r,t)}return t}function G$(e,t,r,n,a,i,s,o,l){return e=uN(r,n,!0,e,a,i,s,o,l),e.context=H$(null),r=e.current,n=ps(),a=mf(r),i=jc(n,a),i.callback=t??null,hf(r,i,a),e.current.lanes=a,D1(e,a,n),Ms(e,n),e}function Vw(e,t,r,n){var a=t.current,i=ps(),s=mf(a);return r=H$(r),t.context===null?t.context=r:t.pendingContext=r,t=jc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hf(a,t,s),e!==null&&(yl(e,a,s,i),Gx(e,a,s)),s}function $2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fN(e,t){oO(e,t),(e=e.alternate)&&oO(e,t)}function uJ(){return null}var K$=typeof reportError=="function"?reportError:function(e){console.error(e)};function dN(e){this._internalRoot=e}zw.prototype.render=dN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(It(409));Vw(e,t,null,null)};zw.prototype.unmount=dN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qd(function(){Vw(null,e,null,null)}),t[Uc]=null}};function zw(e){this._internalRoot=e}zw.prototype.unstable_scheduleHydration=function(e){if(e){var t=TF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hu.length&&t!==0&&t<Hu[r].priority;r++);Hu.splice(r,0,e),r===0&&NF(e)}};function hN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lO(){}function fJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=$2(s);i.call(c)}}var s=G$(t,n,e,0,null,!1,!1,"",lO);return e._reactRootContainer=s,e[Uc]=s.current,dv(e.nodeType===8?e.parentNode:e),Qd(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=$2(l);o.call(c)}}var l=uN(e,0,!1,null,null,!1,!1,"",lO);return e._reactRootContainer=l,e[Uc]=l.current,dv(e.nodeType===8?e.parentNode:e),Qd(function(){Vw(t,l,r,n)}),l}function Ww(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=$2(s);o.call(l)}}Vw(t,s,e,a)}else s=fJ(r,t,e,a,n);return $2(s)}SF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=og(t.pendingLanes);r!==0&&(IE(t,r|1),Ms(t,ba()),!(dn&6)&&(np=ba()+500,zf()))}break;case 13:Qd(function(){var n=Vc(e,1);if(n!==null){var a=ps();yl(n,e,1,a)}}),fN(e,1)}};jE=function(e){if(e.tag===13){var t=Vc(e,134217728);if(t!==null){var r=ps();yl(t,e,134217728,r)}fN(e,134217728)}};AF=function(e){if(e.tag===13){var t=mf(e),r=Vc(e,t);if(r!==null){var n=ps();yl(r,e,t,n)}fN(e,t)}};TF=function(){return Nn};EF=function(e,t){var r=Nn;try{return Nn=e,t()}finally{Nn=r}};GA=function(e,t,r){switch(t){case"input":if(BA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Lw(n);if(!a)throw Error(It(90));nF(n),BA(n,a)}}}break;case"textarea":iF(e,r);break;case"select":t=r.value,t!=null&&O0(e,!!r.multiple,t,!1)}};dF=sN;hF=Qd;var dJ={usingClientEntryPoint:!1,Events:[M1,p0,Lw,uF,fF,sN]},Um={findFiberByHostInstance:Ed,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hJ={bundleType:Um.bundleType,version:Um.version,rendererPackageName:Um.rendererPackageName,rendererConfig:Um.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gF(e),e===null?null:e.stateNode},findFiberByHostInstance:Um.findFiberByHostInstance||uJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rx.isDisabled&&rx.supportsFiber)try{Ow=rx.inject(hJ),Hl=rx}catch{}}oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dJ;oo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hN(t))throw Error(It(200));return cJ(e,t,null,r)};oo.createRoot=function(e,t){if(!hN(e))throw Error(It(299));var r=!1,n="",a=K$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=uN(e,1,!1,null,null,r,!1,n,a),e[Uc]=t.current,dv(e.nodeType===8?e.parentNode:e),new dN(t)};oo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(It(188)):(e=Object.keys(e).join(","),Error(It(268,e)));return e=gF(t),e=e===null?null:e.stateNode,e};oo.flushSync=function(e){return Qd(e)};oo.hydrate=function(e,t,r){if(!qw(t))throw Error(It(200));return Ww(null,e,t,!0,r)};oo.hydrateRoot=function(e,t,r){if(!hN(e))throw Error(It(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=K$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=G$(t,null,e,1,r??null,a,!1,i,s),e[Uc]=t.current,dv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new zw(t)};oo.render=function(e,t,r){if(!qw(t))throw Error(It(200));return Ww(null,e,t,!1,r)};oo.unmountComponentAtNode=function(e){if(!qw(e))throw Error(It(40));return e._reactRootContainer?(Qd(function(){Ww(null,null,e,!1,function(){e._reactRootContainer=null,e[Uc]=null})}),!0):!1};oo.unstable_batchedUpdates=sN;oo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qw(r))throw Error(It(200));if(e==null||e._reactInternals===void 0)throw Error(It(38));return Ww(e,t,r,!1,n)};oo.version="18.3.1-next-f1338f8080-20240426";function Y$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y$)}catch(e){console.error(e)}}Y$(),Y7.exports=oo;var pJ=Y7.exports,X$,cO=pJ;X$=cO.createRoot,cO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(this,arguments)}var ef;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ef||(ef={}));const uO="popstate";function mJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return E4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:B2(a)}return vJ(t,r,null,e)}function ia(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gJ(){return Math.random().toString(36).substr(2,8)}function fO(e,t){return{usr:e.state,key:e.key,idx:t}}function E4(e,t,r,n){return r===void 0&&(r=null),wv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zp(t):t,{state:r,key:t&&t.key||n||gJ()})}function B2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function vJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=ef.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(wv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=ef.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=ef.Push;let b=E4(m.location,v,y);c=u()+1;let w=fO(b,c),D=m.createHref(b);try{s.pushState(w,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=ef.Replace;let b=E4(m.location,v,y);c=u();let w=fO(b,c),D=m.createHref(b);s.replaceState(w,"",D),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:B2(v);return b=b.replace(/ $/,"%20"),ia(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(uO,f),l=v,()=>{a.removeEventListener(uO,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var dO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dO||(dO={}));function yJ(e,t,r){return r===void 0&&(r="/"),xJ(e,t,r,!1)}function xJ(e,t,r,n){let a=typeof t=="string"?zp(t):t,i=ap(a.pathname||"/",r);if(i==null)return null;let s=J$(e);bJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=OJ(i);o=CJ(s[l],c,n)}return o}function J$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ia(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=vf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(ia(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),J$(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:NJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of Z$(i.path))a(i,s,l)}),t}function Z$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=Z$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function bJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const wJ=/^:[\w-]+$/,_J=3,SJ=2,AJ=1,TJ=10,EJ=-2,hO=e=>e==="*";function NJ(e,t){let r=e.split("/"),n=r.length;return r.some(hO)&&(n+=EJ),t&&(n+=SJ),r.filter(a=>!hO(a)).reduce((a,i)=>a+(wJ.test(i)?_J:i===""?AJ:TJ),n)}function kJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function CJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=U2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=U2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:vf([i,f.pathname]),pathnameBase:LJ(vf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=vf([i,f.pathnameBase]))}return s}function U2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=PJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function PJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Q$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function OJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Q$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ap(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function IJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zp(e):e;return{pathname:r?r.startsWith("/")?r:jJ(r,t):t,search:MJ(n),hash:RJ(a)}}function jJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function iS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pN(e,t){let r=DJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=zp(e):(a=wv({},e),ia(!a.pathname||!a.pathname.includes("?"),iS("?","pathname","search",a)),ia(!a.pathname||!a.pathname.includes("#"),iS("#","pathname","hash",a)),ia(!a.search||!a.search.includes("#"),iS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=IJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const vf=e=>e.join("/").replace(/\/\/+/g,"/"),LJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const e9=["post","put","patch","delete"];new Set(e9);const $J=["get",...e9];new Set($J);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(this,arguments)}const Hw=B.createContext(null),t9=B.createContext(null),au=B.createContext(null),Gw=B.createContext(null),iu=B.createContext({outlet:null,matches:[],isDataRoute:!1}),r9=B.createContext(null);function BJ(e,t){let{relative:r}=t===void 0?{}:t;qp()||ia(!1);let{basename:n,navigator:a}=B.useContext(au),{hash:i,pathname:s,search:o}=Kw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:vf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function qp(){return B.useContext(Gw)!=null}function Wp(){return qp()||ia(!1),B.useContext(Gw).location}function n9(e){B.useContext(au).static||B.useLayoutEffect(e)}function F1(){let{isDataRoute:e}=B.useContext(iu);return e?tZ():UJ()}function UJ(){qp()||ia(!1);let e=B.useContext(Hw),{basename:t,future:r,navigator:n}=B.useContext(au),{matches:a}=B.useContext(iu),{pathname:i}=Wp(),s=JSON.stringify(pN(a,r.v7_relativeSplatPath)),o=B.useRef(!1);return n9(()=>{o.current=!0}),B.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=mN(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const VJ=B.createContext(null);function zJ(e){let t=B.useContext(iu).outlet;return t&&B.createElement(VJ.Provider,{value:e},t)}function Kw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=B.useContext(au),{matches:a}=B.useContext(iu),{pathname:i}=Wp(),s=JSON.stringify(pN(a,n.v7_relativeSplatPath));return B.useMemo(()=>mN(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function qJ(e,t){return WJ(e,t)}function WJ(e,t,r,n){qp()||ia(!1);let{navigator:a,static:i}=B.useContext(au),{matches:s}=B.useContext(iu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Wp(),f;if(t){var h;let y=typeof t=="string"?zp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ia(!1),f=y}else f=u;let p=f.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:yJ(e,{pathname:g}),v=XJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:vf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:vf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?B.createElement(Gw.Provider,{value:{location:_v({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ef.Pop}},v):v}function HJ(){let e=eZ(),t=FJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:a},r):null,null)}const GJ=B.createElement(HJ,null);class KJ extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(iu.Provider,{value:this.props.routeContext},B.createElement(r9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YJ(e){let{routeContext:t,match:r,children:n}=e,a=B.useContext(Hw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(iu.Provider,{value:t},n)}function XJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||ia(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||GJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=B.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,B.createElement(YJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?B.createElement(KJ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var a9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(a9||{}),V2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(V2||{});function QJ(e){let t=B.useContext(Hw);return t||ia(!1),t}function JJ(e){let t=B.useContext(t9);return t||ia(!1),t}function ZJ(e){let t=B.useContext(iu);return t||ia(!1),t}function i9(e){let t=ZJ(),r=t.matches[t.matches.length-1];return r.route.id||ia(!1),r.route.id}function eZ(){var e;let t=B.useContext(r9),r=JJ(V2.UseRouteError),n=i9(V2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function tZ(){let{router:e}=QJ(a9.UseNavigateStable),t=i9(V2.UseNavigateStable),r=B.useRef(!1);return n9(()=>{r.current=!0}),B.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_v({fromRouteId:t},i)))},[e,t])}function rZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function N4(e){let{to:t,replace:r,state:n,relative:a}=e;qp()||ia(!1);let{future:i,static:s}=B.useContext(au),{matches:o}=B.useContext(iu),{pathname:l}=Wp(),c=F1(),u=mN(t,pN(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return B.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function nZ(e){return zJ(e.context)}function is(e){ia(!1)}function aZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ef.Pop,navigator:i,static:s=!1,future:o}=e;qp()&&ia(!1);let l=t.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:i,static:s,future:_v({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=zp(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=B.useMemo(()=>{let v=ap(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[l,u,f,h,p,g,a]);return m==null?null:B.createElement(au.Provider,{value:c},B.createElement(Gw.Provider,{children:r,value:m}))}function iZ(e){let{children:t,location:r}=e;return qJ(k4(t),r)}new Promise(()=>{});function k4(e,t){t===void 0&&(t=[]);let r=[];return B.Children.forEach(e,(n,a)=>{if(!B.isValidElement(n))return;let i=[...t,a];if(n.type===B.Fragment){r.push.apply(r,k4(n.props.children,i));return}n.type!==is&&ia(!1),!n.props.index||!n.props.children||ia(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=k4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z2.apply(this,arguments)}function s9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function sZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oZ(e,t){return e.button===0&&(!t||t==="_self")&&!sZ(e)}const lZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uZ="6";try{window.__reactRouterVersion=uZ}catch{}const fZ=B.createContext({isTransitioning:!1}),dZ="startTransition",pO=nX[dZ];function hZ(e){let{basename:t,children:r,future:n,window:a}=e,i=B.useRef();i.current==null&&(i.current=mJ({window:a,v5Compat:!0}));let s=i.current,[o,l]=B.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=B.useCallback(f=>{c&&pO?pO(()=>l(f)):l(f)},[l,c]);return B.useLayoutEffect(()=>s.listen(u),[s,u]),B.useEffect(()=>rZ(n),[n]),B.createElement(aZ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const pZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gZ=B.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=s9(t,lZ),{basename:p}=B.useContext(au),g,m=!1;if(typeof c=="string"&&mZ.test(c)&&(g=c,pZ))try{let w=new URL(window.location.href),D=c.startsWith("//")?new URL(w.protocol+c):new URL(c),P=ap(D.pathname,p);D.origin===w.origin&&P!=null?c=P+D.search+D.hash:m=!0}catch{}let v=BJ(c,{relative:a}),y=yZ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return B.createElement("a",z2({},h,{href:g||v,onClick:m||i?n:b,ref:r,target:l}))}),sS=B.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=s9(t,cZ),h=Kw(l,{relative:f.relative}),p=Wp(),g=B.useContext(t9),{navigator:m,basename:v}=B.useContext(au),y=g!=null&&xZ(h)&&c===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),D=D?D.toLowerCase():null,b=b.toLowerCase()),D&&v&&(D=ap(D,v)||D);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=w===b||!s&&w.startsWith(b)&&w.charAt(P)==="/",T=D!=null&&(D===b||!s&&D.startsWith(b)&&D.charAt(b.length)==="/"),_={isActive:j,isPending:T,isTransitioning:y},S=j?n:void 0,I;typeof i=="function"?I=i(_):I=[i,j?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(_):o;return B.createElement(gZ,z2({},f,{"aria-current":S,className:I,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(_):u)});var C4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(C4||(C4={}));var mO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mO||(mO={}));function vZ(e){let t=B.useContext(Hw);return t||ia(!1),t}function yZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=F1(),c=Wp(),u=Kw(e,{relative:s});return B.useCallback(f=>{if(oZ(f,r)){f.preventDefault();let h=n!==void 0?n:B2(c)===B2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function xZ(e,t){t===void 0&&(t={});let r=B.useContext(fZ);r==null&&ia(!1);let{basename:n}=vZ(C4.useViewTransitionState),a=Kw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ap(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ap(r.nextLocation.pathname,n)||r.nextLocation.pathname;return U2(a.pathname,s)!=null||U2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),hr=(e,t)=>{const r=B.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>B.createElement("svg",{ref:u,...bZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${wZ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>B.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=hr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=hr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=hr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=hr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=hr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=hr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=hr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=hr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=hr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=hr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=hr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=hr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=hr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=hr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=hr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=hr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=hr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=hr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=hr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=hr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=hr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=hr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=hr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=hr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=hr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=hr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=hr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=hr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=hr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=hr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=hr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=hr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=hr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=hr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=hr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=hr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=hr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=hr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=hr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=hr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=hr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=hr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=hr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=hr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=hr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=hr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=hr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=hr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=hr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=hr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=hr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=hr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),UZ=()=>{};var SO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},VZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},p9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):VZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new zZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qZ=function(e){const t=h9(e);return p9.encodeByteArray(t,!0)},H2=function(e){return qZ(e).replace(/\./g,"")},WZ=function(e){try{return p9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ=()=>HZ().__FIREBASE_DEFAULTS__,KZ=()=>{if(typeof process>"u"||typeof SO>"u")return;const e=SO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&WZ(e[1]);return t&&JSON.parse(t)},vN=()=>{try{return UZ()||GZ()||KZ()||YZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XZ=e=>{var t,r;return(r=(t=vN())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},QZ=e=>{const t=XZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},m9=()=>{var e;return(e=vN())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e){return e.endsWith(".cloudworkstations.dev")}async function ZZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[H2(JSON.stringify(r)),H2(JSON.stringify(s)),""].join(".")}const Cg={};function tee(){const e={prod:[],emulator:[]};for(const t of Object.keys(Cg))Cg[t]?e.emulator.push(t):e.prod.push(t);return e}function ree(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let AO=!1;function g9(e,t){if(typeof window>"u"||typeof document>"u"||!yN(window.location.host)||Cg[e]===t||Cg[e]||AO)return;Cg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=tee().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{AO=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=ree(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,m);const D=c();l(b,y),w.append(b,g,v,D),document.body.appendChild(w)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aee(){var e;const t=(e=vN())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iee(){return!aee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function see(){try{return typeof indexedDB=="object"}catch{return!1}}function oee(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee="FirebaseError";class Hp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=lee,Object.setPrototypeOf(this,Hp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v9.prototype.create)}}class v9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?cee(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Hp(a,o,n)}}function cee(e,t){return e.replace(uee,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const uee=/\{\$([^}]+)}/g;function G2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(TO(i)&&TO(s)){if(!G2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function TO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){return e&&e._delegate?e._delegate:e}class Av{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new JZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hee(t))try{this.getOrInitializeService({instanceIdentifier:vd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=vd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vd){return this.instances.has(t)}getOptions(t=vd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:dee(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=vd){return this.component?this.component.multipleInstances?t:vd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dee(e){return e===vd?void 0:e}function hee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new fee(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(an||(an={}));const mee={debug:an.DEBUG,verbose:an.VERBOSE,info:an.INFO,warn:an.WARN,error:an.ERROR,silent:an.SILENT},gee=an.INFO,vee={[an.DEBUG]:"log",[an.VERBOSE]:"log",[an.INFO]:"info",[an.WARN]:"warn",[an.ERROR]:"error"},yee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=vee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class y9{constructor(t){this.name=t,this._logLevel=gee,this._logHandler=yee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in an))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mee[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,an.DEBUG,...t),this._logHandler(this,an.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,an.VERBOSE,...t),this._logHandler(this,an.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,an.INFO,...t),this._logHandler(this,an.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,an.WARN,...t),this._logHandler(this,an.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,an.ERROR,...t),this._logHandler(this,an.ERROR,...t)}}const xee=(e,t)=>t.some(r=>e instanceof r);let EO,NO;function bee(){return EO||(EO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wee(){return NO||(NO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x9=new WeakMap,j4=new WeakMap,b9=new WeakMap,lS=new WeakMap,xN=new WeakMap;function _ee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(yf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&x9.set(r,e)}).catch(()=>{}),xN.set(t,e),t}function See(e){if(j4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});j4.set(e,t)}let D4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return j4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||b9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Aee(e){D4=e(D4)}function Tee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(cS(this),t,...r);return b9.set(n,t.sort?t.sort():[t]),yf(n)}:wee().includes(e)?function(...t){return e.apply(cS(this),t),yf(x9.get(this))}:function(...t){return yf(e.apply(cS(this),t))}}function Eee(e){return typeof e=="function"?Tee(e):(e instanceof IDBTransaction&&See(e),xee(e,bee())?new Proxy(e,D4):e)}function yf(e){if(e instanceof IDBRequest)return _ee(e);if(lS.has(e))return lS.get(e);const t=Eee(e);return t!==e&&(lS.set(e,t),xN.set(t,e)),t}const cS=e=>xN.get(e);function Nee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=yf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(yf(s.result),l.oldVersion,l.newVersion,yf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const kee=["get","getKey","getAll","getAllKeys","count"],Cee=["put","add","delete","clear"],uS=new Map;function kO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uS.get(t))return uS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Cee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||kee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return uS.set(t,i),i}Aee(e=>({...e,get:(t,r,n)=>kO(t,r)||e.get(t,r,n),has:(t,r)=>!!kO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Oee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Oee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const L4="@firebase/app",CO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new y9("@firebase/app"),Iee="@firebase/app-compat",jee="@firebase/analytics-compat",Dee="@firebase/analytics",Lee="@firebase/app-check-compat",Mee="@firebase/app-check",Ree="@firebase/auth",Fee="@firebase/auth-compat",$ee="@firebase/database",Bee="@firebase/data-connect",Uee="@firebase/database-compat",Vee="@firebase/functions",zee="@firebase/functions-compat",qee="@firebase/installations",Wee="@firebase/installations-compat",Hee="@firebase/messaging",Gee="@firebase/messaging-compat",Kee="@firebase/performance",Yee="@firebase/performance-compat",Xee="@firebase/remote-config",Qee="@firebase/remote-config-compat",Jee="@firebase/storage",Zee="@firebase/storage-compat",ete="@firebase/firestore",tte="@firebase/vertexai",rte="@firebase/firestore-compat",nte="firebase",ate="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="[DEFAULT]",ite={[L4]:"fire-core",[Iee]:"fire-core-compat",[Dee]:"fire-analytics",[jee]:"fire-analytics-compat",[Mee]:"fire-app-check",[Lee]:"fire-app-check-compat",[Ree]:"fire-auth",[Fee]:"fire-auth-compat",[$ee]:"fire-rtdb",[Bee]:"fire-data-connect",[Uee]:"fire-rtdb-compat",[Vee]:"fire-fn",[zee]:"fire-fn-compat",[qee]:"fire-iid",[Wee]:"fire-iid-compat",[Hee]:"fire-fcm",[Gee]:"fire-fcm-compat",[Kee]:"fire-perf",[Yee]:"fire-perf-compat",[Xee]:"fire-rc",[Qee]:"fire-rc-compat",[Jee]:"fire-gcs",[Zee]:"fire-gcs-compat",[ete]:"fire-fst",[rte]:"fire-fst-compat",[tte]:"fire-vertex","fire-js":"fire-js",[nte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Map,ste=new Map,R4=new Map;function PO(e,t){try{e.container.addComponent(t)}catch(r){Wc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Y2(e){const t=e.name;if(R4.has(t))return Wc.debug(`There were multiple attempts to register component ${t}.`),!1;R4.set(t,e);for(const r of K2.values())PO(r,e);for(const r of ste.values())PO(r,e);return!0}function ote(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function lte(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xf=new v9("app","Firebase",cte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Av("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=ate;function w9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:M4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw xf.create("bad-app-name",{appName:String(a)});if(r||(r=m9()),!r)throw xf.create("no-options");const i=K2.get(a);if(i){if(G2(r,i.options)&&G2(n,i.config))return i;throw xf.create("duplicate-app",{appName:a})}const s=new pee(a);for(const l of R4.values())s.addComponent(l);const o=new ute(r,n,s);return K2.set(a,o),o}function dte(e=M4){const t=K2.get(e);if(!t&&e===M4&&m9())return w9();if(!t)throw xf.create("no-app",{appName:e});return t}function R0(e,t,r){var n;let a=(n=ite[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wc.warn(o.join(" "));return}Y2(new Av(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte="firebase-heartbeat-database",pte=1,Tv="firebase-heartbeat-store";let fS=null;function _9(){return fS||(fS=Nee(hte,pte,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Tv)}catch(r){console.warn(r)}}}}).catch(e=>{throw xf.create("idb-open",{originalErrorMessage:e.message})})),fS}async function mte(e){try{const r=(await _9()).transaction(Tv),n=await r.objectStore(Tv).get(S9(e));return await r.done,n}catch(t){if(t instanceof Hp)Wc.warn(t.message);else{const r=xf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wc.warn(r.message)}}}async function OO(e,t){try{const n=(await _9()).transaction(Tv,"readwrite");await n.objectStore(Tv).put(t,S9(e)),await n.done}catch(r){if(r instanceof Hp)Wc.warn(r.message);else{const n=xf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Wc.warn(n.message)}}}function S9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=1024,vte=30;class yte{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new bte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>vte){const s=wte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Wc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=IO(),{heartbeatsToSend:n,unsentEntries:a}=xte(this._heartbeatsCache.heartbeats),i=H2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Wc.warn(r),""}}}function IO(){return new Date().toISOString().substring(0,10)}function xte(e,t=gte){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),jO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),jO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class bte{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return see()?oee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function jO(e){return H2(JSON.stringify({version:2,heartbeats:e})).length}function wte(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(e){Y2(new Av("platform-logger",t=>new Pee(t),"PRIVATE")),Y2(new Av("heartbeat",t=>new yte(t),"PRIVATE")),R0(L4,CO,e),R0(L4,CO,"esm2017"),R0("fire-js","")}_te("");var Ste="firebase",Ate="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */R0(Ste,Ate,"app");var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bf,A9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,_){function S(){}S.prototype=_.prototype,T.D=_.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(I,E,N){for(var O=Array(arguments.length-2),U=2;U<arguments.length;U++)O[U-2]=arguments[U];return _.prototype[E].apply(I,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,_,S){S||(S=0);var I=Array(16);if(typeof _=="string")for(var E=0;16>E;++E)I[E]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(E=0;16>E;++E)I[E]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=T.g[0],S=T.g[1],E=T.g[2];var N=T.g[3],O=_+(N^S&(E^N))+I[0]+3614090360&4294967295;_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+I[1]+3905402710&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+I[2]+606105819&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+I[3]+3250441966&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(N^S&(E^N))+I[4]+4118548399&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+I[5]+1200080426&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+I[6]+2821735955&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+I[7]+4249261313&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(N^S&(E^N))+I[8]+1770035416&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+I[9]+2336552879&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+I[10]+4294925233&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+I[11]+2304563134&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(N^S&(E^N))+I[12]+1804603682&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+I[13]+4254626195&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+I[14]+2792965006&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+I[15]+1236535329&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(E^N&(S^E))+I[1]+4129170786&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+I[6]+3225465664&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+I[11]+643717713&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+I[0]+3921069994&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(E^N&(S^E))+I[5]+3593408605&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+I[10]+38016083&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+I[15]+3634488961&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+I[4]+3889429448&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(E^N&(S^E))+I[9]+568446438&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+I[14]+3275163606&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+I[3]+4107603335&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+I[8]+1163531501&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(E^N&(S^E))+I[13]+2850285829&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+I[2]+4243563512&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+I[7]+1735328473&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+I[12]+2368359562&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(S^E^N)+I[5]+4294588738&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+I[8]+2272392833&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+I[11]+1839030562&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+I[14]+4259657740&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(S^E^N)+I[1]+2763975236&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+I[4]+1272893353&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+I[7]+4139469664&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+I[10]+3200236656&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(S^E^N)+I[13]+681279174&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+I[0]+3936430074&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+I[3]+3572445317&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+I[6]+76029189&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(S^E^N)+I[9]+3654602809&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+I[12]+3873151461&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+I[15]+530742520&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+I[2]+3299628645&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(E^(S|~N))+I[0]+4096336452&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+I[7]+1126891415&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+I[14]+2878612391&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+I[5]+4237533241&4294967295,S=E+(O<<21&4294967295|O>>>11),O=_+(E^(S|~N))+I[12]+1700485571&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+I[3]+2399980690&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+I[10]+4293915773&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+I[1]+2240044497&4294967295,S=E+(O<<21&4294967295|O>>>11),O=_+(E^(S|~N))+I[8]+1873313359&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+I[15]+4264355552&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+I[6]+2734768916&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+I[13]+1309151649&4294967295,S=E+(O<<21&4294967295|O>>>11),O=_+(E^(S|~N))+I[4]+4149444226&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+I[11]+3174756917&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+I[2]+718787259&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(E+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+N&4294967295}n.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var S=_-this.blockSize,I=this.B,E=this.h,N=0;N<_;){if(E==0)for(;N<=S;)a(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<_;)if(I[E++]=T.charCodeAt(N++),E==this.blockSize){a(this,I),E=0;break}}else for(;N<_;)if(I[E++]=T[N++],E==this.blockSize){a(this,I),E=0;break}}this.h=E,this.o+=_},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var S=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=S&255,S/=256;for(this.u(T),T=Array(16),_=S=0;4>_;++_)for(var I=0;32>I;I+=8)T[S++]=this.g[_]>>>I&255;return T};function i(T,_){var S=o;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=_(T)}function s(T,_){this.h=_;for(var S=[],I=!0,E=T.length-1;0<=E;E--){var N=T[E]|0;I&&N==_||(S[E]=N,I=!1)}this.g=S}var o={};function l(T){return-128<=T&&128>T?i(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var _=[],S=1,I=0;T>=S;I++)_[I]=T/S|0,S*=4294967296;return new s(_,0)}function u(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return v(u(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(_,8)),I=f,E=0;E<T.length;E+=8){var N=Math.min(8,T.length-E),O=parseInt(T.substring(E,E+N),_);8>N?(N=c(Math.pow(_,N)),I=I.j(N).add(c(O))):(I=I.j(S),I=I.add(c(O)))}return I}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,_=1,S=0;S<this.g.length;S++){var I=this.i(S);T+=(0<=I?I:4294967296+I)*_,_*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var _=c(Math.pow(T,6)),S=this,I="";;){var E=D(S,_).g;S=y(S,E.j(_));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=E,g(S))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var _=T.g.length,S=[],I=0;I<_;I++)S[I]=~T.g[I];return new s(S,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0,E=0;E<=_;E++){var N=I+(this.i(E)&65535)+(T.i(E)&65535),O=(N>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);I=O>>>16,N&=65535,O&=65535,S[E]=O<<16|N}return new s(S,S[S.length-1]&-2147483648?-1:0)};function y(T,_){return T.add(v(_))}e.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,S=[],I=0;I<2*_;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var E=0;E<T.g.length;E++){var N=this.i(I)>>>16,O=this.i(I)&65535,U=T.i(E)>>>16,Y=T.i(E)&65535;S[2*I+2*E]+=O*Y,b(S,2*I+2*E),S[2*I+2*E+1]+=N*Y,b(S,2*I+2*E+1),S[2*I+2*E+1]+=O*U,b(S,2*I+2*E+1),S[2*I+2*E+2]+=N*U,b(S,2*I+2*E+2)}for(I=0;I<_;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=_;I<2*_;I++)S[I]=0;return new s(S,0)};function b(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function w(T,_){this.g=T,this.h=_}function D(T,_){if(g(_))throw Error("division by zero");if(g(T))return new w(f,f);if(m(T))return _=D(v(T),_),new w(v(_.g),v(_.h));if(m(_))return _=D(T,v(_)),new w(v(_.g),_.h);if(30<T.g.length){if(m(T)||m(_))throw Error("slowDivide_ only works with positive integers.");for(var S=h,I=_;0>=I.l(T);)S=P(S),I=P(I);var E=j(S,1),N=j(I,1);for(I=j(I,2),S=j(S,2);!g(I);){var O=N.add(I);0>=O.l(T)&&(E=E.add(S),N=O),I=j(I,1),S=j(S,1)}return _=y(T,E.j(_)),new w(E,_)}for(E=f;0<=T.l(_);){for(S=Math.max(1,Math.floor(T.m()/_.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(S),O=N.j(_);m(O)||0<O.l(T);)S-=I,N=c(S),O=N.j(_);g(N)&&(N=h),E=E.add(N),T=y(T,O)}return new w(E,T)}e.A=function(T){return D(this,T).h},e.and=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)&T.i(I);return new s(S,this.h&T.h)},e.or=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)|T.i(I);return new s(S,this.h|T.h)},e.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)^T.i(I);return new s(S,this.h^T.h)};function P(T){for(var _=T.g.length+1,S=[],I=0;I<_;I++)S[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(S,T.h)}function j(T,_){var S=_>>5;_%=32;for(var I=T.g.length-S,E=[],N=0;N<I;N++)E[N]=0<_?T.i(N+S)>>>_|T.i(N+S+1)<<32-_:T.i(N+S);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,A9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,bf=s}).apply(typeof DO<"u"?DO:typeof self<"u"?self:typeof window<"u"?window:{});var nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T9,cg,E9,t2,F4,N9,k9,C9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,F,X){return A==Array.prototype||A==Object.prototype||(A[F]=X.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof nx=="object"&&nx];for(var F=0;F<A.length;++F){var X=A[F];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var n=r(this);function a(A,F){if(F)e:{var X=n;A=A.split(".");for(var ce=0;ce<A.length-1;ce++){var Ue=A[ce];if(!(Ue in X))break e;X=X[Ue]}A=A[A.length-1],ce=X[A],F=F(ce),F!=ce&&F!=null&&t(X,A,{configurable:!0,writable:!0,value:F})}}function i(A,F){A instanceof String&&(A+="");var X=0,ce=!1,Ue={next:function(){if(!ce&&X<A.length){var tt=X++;return{value:F(tt,A[tt]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ue[Symbol.iterator]=function(){return Ue},Ue}a("Array.prototype.values",function(A){return A||function(){return i(this,function(F,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var F=typeof A;return F=F!="object"?F:A?Array.isArray(A)?"array":F:"null",F=="array"||F=="object"&&typeof A.length=="number"}function c(A){var F=typeof A;return F=="object"&&A!=null||F=="function"}function u(A,F,X){return A.call.apply(A.bind,arguments)}function f(A,F,X){if(!A)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ue,ce),A.apply(F,Ue)}}return function(){return A.apply(F,arguments)}}function h(A,F,X){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(A,F){var X=Array.prototype.slice.call(arguments,1);return function(){var ce=X.slice();return ce.push.apply(ce,arguments),A.apply(this,ce)}}function g(A,F){function X(){}X.prototype=F.prototype,A.aa=F.prototype,A.prototype=new X,A.prototype.constructor=A,A.Qb=function(ce,Ue,tt){for(var Nt=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)Nt[Cr-2]=arguments[Cr];return F.prototype[Ue].apply(ce,Nt)}}function m(A){const F=A.length;if(0<F){const X=Array(F);for(let ce=0;ce<F;ce++)X[ce]=A[ce];return X}return[]}function v(A,F){for(let X=1;X<arguments.length;X++){const ce=arguments[X];if(l(ce)){const Ue=A.length||0,tt=ce.length||0;A.length=Ue+tt;for(let Nt=0;Nt<tt;Nt++)A[Ue+Nt]=ce[Nt]}else A.push(ce)}}class y{constructor(F,X){this.i=F,this.j=X,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function b(A){return/^[\s\xa0]*$/.test(A)}function w(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function D(A){return D[" "](A),A}D[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function j(A,F,X){for(const ce in A)F.call(X,A[ce],ce,A)}function T(A,F){for(const X in A)F.call(void 0,A[X],X,A)}function _(A){const F={};for(const X in A)F[X]=A[X];return F}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(A,F){let X,ce;for(let Ue=1;Ue<arguments.length;Ue++){ce=arguments[Ue];for(X in ce)A[X]=ce[X];for(let tt=0;tt<S.length;tt++)X=S[tt],Object.prototype.hasOwnProperty.call(ce,X)&&(A[X]=ce[X])}}function E(A){var F=1;A=A.split(":");const X=[];for(;0<F&&A.length;)X.push(A.shift()),F--;return A.length&&X.push(A.join(":")),X}function N(A){o.setTimeout(()=>{throw A},0)}function O(){var A=V;let F=null;return A.g&&(F=A.g,A.g=A.g.next,A.g||(A.h=null),F.next=null),F}class U{constructor(){this.h=this.g=null}add(F,X){const ce=Y.get();ce.set(F,X),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var Y=new y(()=>new K,A=>A.reset());class K{constructor(){this.next=this.g=this.h=null}set(F,X){this.h=F,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let J,q=!1,V=new U,ee=()=>{const A=o.Promise.resolve(void 0);J=()=>{A.then(Z)}};var Z=()=>{for(var A;A=O();){try{A.h.call(A.g)}catch(X){N(X)}var F=Y;F.j(A),100>F.h&&(F.h++,A.next=F.g,F.g=A)}q=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(A,F){this.type=A,this.g=this.target=F,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,F=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const X=()=>{};o.addEventListener("test",X,F),o.removeEventListener("test",X,F)}catch{}return A}();function G(A,F){if(R.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var X=this.type=A.type,ce=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=F,F=A.relatedTarget){if(P){e:{try{D(F.nodeName);var Ue=!0;break e}catch{}Ue=!1}Ue||(F=null)}}else X=="mouseover"?F=A.fromElement:X=="mouseout"&&(F=A.toElement);this.relatedTarget=F,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:Q[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&G.aa.h.call(this)}}g(G,R);var Q={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),fe=0;function ne(A,F,X,ce,Ue){this.listener=A,this.proxy=null,this.src=F,this.type=X,this.capture=!!ce,this.ha=Ue,this.key=++fe,this.da=this.fa=!1}function he(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ye(A){this.src=A,this.g={},this.h=0}ye.prototype.add=function(A,F,X,ce,Ue){var tt=A.toString();A=this.g[tt],A||(A=this.g[tt]=[],this.h++);var Nt=ke(A,F,ce,Ue);return-1<Nt?(F=A[Nt],X||(F.fa=!1)):(F=new ne(F,this.src,tt,!!ce,Ue),F.fa=X,A.push(F)),F};function W(A,F){var X=F.type;if(X in A.g){var ce=A.g[X],Ue=Array.prototype.indexOf.call(ce,F,void 0),tt;(tt=0<=Ue)&&Array.prototype.splice.call(ce,Ue,1),tt&&(he(F),A.g[X].length==0&&(delete A.g[X],A.h--))}}function ke(A,F,X,ce){for(var Ue=0;Ue<A.length;++Ue){var tt=A[Ue];if(!tt.da&&tt.listener==F&&tt.capture==!!X&&tt.ha==ce)return Ue}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Te={};function ie(A,F,X,ce,Ue){if(Array.isArray(F)){for(var tt=0;tt<F.length;tt++)ie(A,F[tt],X,ce,Ue);return null}return X=at(X),A&&A[oe]?A.K(F,X,c(ce)?!!ce.capture:!!ce,Ue):$e(A,F,X,!1,ce,Ue)}function $e(A,F,X,ce,Ue,tt){if(!F)throw Error("Invalid event type");var Nt=c(Ue)?!!Ue.capture:!!Ue,Cr=Ee(A);if(Cr||(A[Ce]=Cr=new ye(A)),X=Cr.add(F,X,ce,Nt,tt),X.proxy)return X;if(ce=Ke(),X.proxy=ce,ce.src=A,ce.listener=X,A.addEventListener)z||(Ue=Nt),Ue===void 0&&(Ue=!1),A.addEventListener(F.toString(),ce,Ue);else if(A.attachEvent)A.attachEvent(be(F.toString()),ce);else if(A.addListener&&A.removeListener)A.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Ke(){function A(X){return F.call(A.src,A.listener,X)}const F=je;return A}function Se(A,F,X,ce,Ue){if(Array.isArray(F))for(var tt=0;tt<F.length;tt++)Se(A,F[tt],X,ce,Ue);else ce=c(ce)?!!ce.capture:!!ce,X=at(X),A&&A[oe]?(A=A.i,F=String(F).toString(),F in A.g&&(tt=A.g[F],X=ke(tt,X,ce,Ue),-1<X&&(he(tt[X]),Array.prototype.splice.call(tt,X,1),tt.length==0&&(delete A.g[F],A.h--)))):A&&(A=Ee(A))&&(F=A.g[F.toString()],A=-1,F&&(A=ke(F,X,ce,Ue)),(X=-1<A?F[A]:null)&&Re(X))}function Re(A){if(typeof A!="number"&&A&&!A.da){var F=A.src;if(F&&F[oe])W(F.i,A);else{var X=A.type,ce=A.proxy;F.removeEventListener?F.removeEventListener(X,ce,A.capture):F.detachEvent?F.detachEvent(be(X),ce):F.addListener&&F.removeListener&&F.removeListener(ce),(X=Ee(F))?(W(X,A),X.h==0&&(X.src=null,F[Ce]=null)):he(A)}}}function be(A){return A in Te?Te[A]:Te[A]="on"+A}function je(A,F){if(A.da)A=!0;else{F=new G(F,this);var X=A.listener,ce=A.ha||A.src;A.fa&&Re(A),A=X.call(ce,F)}return A}function Ee(A){return A=A[Ce],A instanceof ye?A:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(A){return typeof A=="function"?A:(A[qe]||(A[qe]=function(F){return A.handleEvent(F)}),A[qe])}function nt(){k.call(this),this.i=new ye(this),this.M=this,this.F=null}g(nt,k),nt.prototype[oe]=!0,nt.prototype.removeEventListener=function(A,F,X,ce){Se(this,A,F,X,ce)};function ft(A,F){var X,ce=A.F;if(ce)for(X=[];ce;ce=ce.F)X.push(ce);if(A=A.M,ce=F.type||F,typeof F=="string")F=new R(F,A);else if(F instanceof R)F.target=F.target||A;else{var Ue=F;F=new R(ce,A),I(F,Ue)}if(Ue=!0,X)for(var tt=X.length-1;0<=tt;tt--){var Nt=F.g=X[tt];Ue=Et(Nt,ce,!0,F)&&Ue}if(Nt=F.g=A,Ue=Et(Nt,ce,!0,F)&&Ue,Ue=Et(Nt,ce,!1,F)&&Ue,X)for(tt=0;tt<X.length;tt++)Nt=F.g=X[tt],Ue=Et(Nt,ce,!1,F)&&Ue}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var A=this.i,F;for(F in A.g){for(var X=A.g[F],ce=0;ce<X.length;ce++)he(X[ce]);delete A.g[F],A.h--}}this.F=null},nt.prototype.K=function(A,F,X,ce){return this.i.add(String(A),F,!1,X,ce)},nt.prototype.L=function(A,F,X,ce){return this.i.add(String(A),F,!0,X,ce)};function Et(A,F,X,ce){if(F=A.i.g[String(F)],!F)return!0;F=F.concat();for(var Ue=!0,tt=0;tt<F.length;++tt){var Nt=F[tt];if(Nt&&!Nt.da&&Nt.capture==X){var Cr=Nt.listener,Qr=Nt.ha||Nt.src;Nt.fa&&W(A.i,Nt),Ue=Cr.call(Qr,ce)!==!1&&Ue}}return Ue&&!ce.defaultPrevented}function kt(A,F,X){if(typeof A=="function")X&&(A=h(A,X));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(A,F||0)}function _t(A){A.g=kt(()=>{A.g=null,A.i&&(A.i=!1,_t(A))},A.l);const F=A.h;A.h=null,A.m.apply(null,F)}class ct extends k{constructor(F,X){super(),this.m=F,this.l=X,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(A){k.call(this),this.h=A,this.g={}}g(er,k);var Wt=[];function Gr(A){j(A.g,function(F,X){this.g.hasOwnProperty(X)&&Re(F)},A),A.g={}}er.prototype.N=function(){er.aa.N.call(this),Gr(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=o.JSON.stringify,Wr=o.JSON.parse,Ie=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function Me(){}Me.prototype.h=null;function Ye(A){return A.h||(A.h=A.i())}function ht(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){R.call(this,"d")}g(Gt,R);function Mt(){R.call(this,"c")}g(Mt,R);var Ot={},Zt=null;function xr(){return Zt=Zt||new nt}Ot.La="serverreachability";function br(A){R.call(this,Ot.La,A)}g(br,R);function Ne(A){const F=xr();ft(F,new br(F))}Ot.STAT_EVENT="statevent";function ot(A,F){R.call(this,Ot.STAT_EVENT,A),this.stat=F}g(ot,R);function We(A){const F=xr();ft(F,new ot(F,A))}Ot.Ma="timingevent";function rr(A,F){R.call(this,Ot.Ma,A),this.size=F}g(rr,R);function ir(A,F){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},F)}function jr(){this.g=!0}jr.prototype.xa=function(){this.g=!1};function wr(A,F,X,ce,Ue,tt){A.info(function(){if(A.g)if(tt)for(var Nt="",Cr=tt.split("&"),Qr=0;Qr<Cr.length;Qr++){var Pr=Cr[Qr].split("=");if(1<Pr.length){var _n=Pr[0];Pr=Pr[1];var In=_n.split("_");Nt=2<=In.length&&In[1]=="type"?Nt+(_n+"="+Pr+"&"):Nt+(_n+"=redacted&")}}else Nt=null;else Nt=tt;return"XMLHTTP REQ ("+ce+") [attempt "+Ue+"]: "+F+`
`+X+`
`+Nt})}function Ur(A,F,X,ce,Ue,tt,Nt){A.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ue+"]: "+F+`
`+X+`
`+tt+" "+Nt})}function ae(A,F,X,ce){A.info(function(){return"XMLHTTP TEXT ("+F+"): "+me(A,X)+(ce?" "+ce:"")})}function we(A,F){A.info(function(){return"TIMEOUT: "+F})}jr.prototype.info=function(){};function me(A,F){if(!A.g)return F;if(!F)return null;try{var X=JSON.parse(F);if(X){for(A=0;A<X.length;A++)if(Array.isArray(X[A])){var ce=X[A];if(!(2>ce.length)){var Ue=ce[1];if(Array.isArray(Ue)&&!(1>Ue.length)){var tt=Ue[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var Nt=1;Nt<Ue.length;Nt++)Ue[Nt]=""}}}}return ur(X)}catch{return F}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function Ge(){}g(Ge,Me),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},_e=new Ge;function rt(A,F,X,ce){this.j=A,this.i=F,this.l=X,this.R=ce||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new He}function He(){this.i=null,this.g="",this.h=!1}var Qe={},Je={};function St(A,F,X){A.L=1,A.v=bs(ea(F)),A.m=X,A.P=!0,jt(A,null)}function jt(A,F){A.F=Date.now(),Rt(A),A.A=ea(A.v);var X=A.A,ce=A.R;Array.isArray(ce)||(ce=[String(ce)]),_r(X.i,"t",ce),A.C=0,X=A.j.J,A.h=new He,A.g=te(A.j,X?F:null,!A.m),0<A.O&&(A.M=new ct(h(A.Y,A,A.g),A.O)),F=A.U,X=A.g,ce=A.ca;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(Wt[0]=Ue.toString()),Ue=Wt);for(var tt=0;tt<Ue.length;tt++){var Nt=ie(X,Ue[tt],ce||F.handleEvent,!1,F.h||F);if(!Nt)break;F.g[Nt.key]=Nt}F=A.H?_(A.H):{},A.m?(A.u||(A.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,F)):(A.u="GET",A.g.ea(A.A,A.u,null,F)),Ne(),wr(A.i,A.u,A.A,A.l,A.R,A.m)}rt.prototype.ca=function(A){A=A.target;const F=this.M;F&&Ra(A)==3?F.j():this.Y(A)},rt.prototype.Y=function(A){try{if(A==this.g)e:{const In=Ra(this.g);var F=this.g.Ba();const Yo=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||jh(this.g)))){this.J||In!=4||F==7||(F==8||0>=Yo?Ne(3):Ne(2)),Kr(this);var X=this.g.Z();this.X=X;t:if($t(this)){var ce=jh(this.g);A="";var Ue=ce.length,tt=Ra(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Yr(this);var Nt="";break t}this.h.i=new o.TextDecoder}for(F=0;F<Ue;F++)this.h.h=!0,A+=this.h.i.decode(ce[F],{stream:!(tt&&F==Ue-1)});ce.length=0,this.h.g+=A,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=X==200,Ur(this.i,this.u,this.A,this.l,this.R,In,X),this.o){if(this.T&&!this.K){t:{if(this.g){var Cr,Qr=this.g;if((Cr=Qr.g?Qr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Cr)){var Pr=Cr;break t}}Pr=null}if(X=Pr)ae(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ka(this,X);else{this.o=!1,this.s=3,We(12),bn(this),Yr(this);break e}}if(this.P){X=!0;let ci;for(;!this.J&&this.C<Nt.length;)if(ci=Pt(this,Nt),ci==Je){In==4&&(this.s=4,We(14),X=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(ci==Qe){this.s=4,We(15),ae(this.i,this.l,Nt,"[Invalid Chunk]"),X=!1;break}else ae(this.i,this.l,ci,null),Ka(this,ci);if($t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Nt.length!=0||this.h.h||(this.s=1,We(16),X=!1),this.o=this.o&&X,!X)ae(this.i,this.l,Nt,"[Invalid Chunked Response]"),bn(this),Yr(this);else if(0<Nt.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),_u(_n),_n.M=!0,We(11))}}else ae(this.i,this.l,Nt,null),Ka(this,Nt);In==4&&bn(this),this.o&&!this.J&&(In==4?jl(this.j,this):(this.o=!1,Rt(this)))}else Ol(this.g),X==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),bn(this),Yr(this)}}}catch{}finally{}};function $t(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Pt(A,F){var X=A.C,ce=F.indexOf(`
`,X);return ce==-1?Je:(X=Number(F.substring(X,ce)),isNaN(X)?Qe:(ce+=1,ce+X>F.length?Je:(F=F.slice(ce,ce+X),A.C=ce+X,F)))}rt.prototype.cancel=function(){this.J=!0,bn(this)};function Rt(A){A.S=Date.now()+A.I,fr(A,A.I)}function fr(A,F){if(A.B!=null)throw Error("WatchDog timer not null");A.B=ir(h(A.ba,A),F)}function Kr(A){A.B&&(o.clearTimeout(A.B),A.B=null)}rt.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(we(this.i,this.A),this.L!=2&&(Ne(),We(17)),bn(this),this.s=2,Yr(this)):fr(this,this.S-A)};function Yr(A){A.j.G==0||A.J||jl(A.j,A)}function bn(A){Kr(A);var F=A.M;F&&typeof F.ma=="function"&&F.ma(),A.M=null,Gr(A.U),A.g&&(F=A.g,A.g=null,F.abort(),F.ma())}function Ka(A,F){try{var X=A.j;if(X.G!=0&&(X.g==A||Ut(X.h,A))){if(!A.K&&Ut(X.h,A)&&X.G==3){try{var ce=X.Da.g.parse(F)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ue=ce;if(Ue[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<A.F)Ko(X),yu(X);else break e;pc(X),We(18)}}else X.za=Ue[1],0<X.za-X.T&&37500>Ue[2]&&X.F&&X.v==0&&!X.C&&(X.C=ir(h(X.Za,X),6e3));if(1>=wt(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else Ni(X,11)}else if((A.K||X.g==A)&&Ko(X),!b(F))for(Ue=X.Da.g.parse(F),F=0;F<Ue.length;F++){let Pr=Ue[F];if(X.T=Pr[0],Pr=Pr[1],X.G==2)if(Pr[0]=="c"){X.K=Pr[1],X.ia=Pr[2];const _n=Pr[3];_n!=null&&(X.la=_n,X.j.info("VER="+X.la));const In=Pr[4];In!=null&&(X.Aa=In,X.j.info("SVER="+X.Aa));const Yo=Pr[5];Yo!=null&&typeof Yo=="number"&&0<Yo&&(ce=1.5*Yo,X.L=ce,X.j.info("backChannelRequestTimeoutMs_="+ce)),ce=X;const ci=A.g;if(ci){const Dl=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dl){var tt=ce.h;tt.g||Dl.indexOf("spdy")==-1&&Dl.indexOf("quic")==-1&&Dl.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(ut(tt,tt.h),tt.h=null))}if(ce.D){const Ll=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(ce.ya=Ll,Er(ce.I,ce.D,Ll))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-A.F,X.j.info("Handshake RTT: "+X.R+"ms")),ce=X;var Nt=A;if(ce.qa=L(ce,ce.J?ce.ia:null,ce.W),Nt.K){pt(ce.h,Nt);var Cr=Nt,Qr=ce.L;Qr&&(Cr.I=Qr),Cr.B&&(Kr(Cr),Rt(Cr)),ce.g=Nt}else wu(ce);0<X.i.length&&xu(X)}else Pr[0]!="stop"&&Pr[0]!="close"||Ni(X,7);else X.G==3&&(Pr[0]=="stop"||Pr[0]=="close"?Pr[0]=="stop"?Ni(X,7):Go(X):Pr[0]!="noop"&&X.l&&X.l.ta(Pr),X.v=0)}}Ne(4)}catch{}}var $s=class{constructor(A,F){this.g=A,this.map=F}};function de(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pe(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function wt(A){return A.h?1:A.g?A.g.size:0}function Ut(A,F){return A.h?A.h==F:A.g?A.g.has(F):!1}function ut(A,F){A.g?A.g.add(F):A.h=F}function pt(A,F){A.h&&A.h==F?A.h=null:A.g&&A.g.has(F)&&A.g.delete(F)}de.prototype.cancel=function(){if(this.i=Lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Lt(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let F=A.i;for(const X of A.g.values())F=F.concat(X.D);return F}return m(A.i)}function Kt(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var F=[],X=A.length,ce=0;ce<X;ce++)F.push(A[ce]);return F}F=[],X=0;for(ce in A)F[X++]=A[ce];return F}function nr(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var F=[];A=A.length;for(var X=0;X<A;X++)F.push(X);return F}F=[],X=0;for(const ce in A)F[X++]=ce;return F}}}function Dr(A,F){if(A.forEach&&typeof A.forEach=="function")A.forEach(F,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,F,void 0);else for(var X=nr(A),ce=Kt(A),Ue=ce.length,tt=0;tt<Ue;tt++)F.call(void 0,ce[tt],X&&X[tt],A)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(A,F){if(A){A=A.split("&");for(var X=0;X<A.length;X++){var ce=A[X].indexOf("="),Ue=null;if(0<=ce){var tt=A[X].substring(0,ce);Ue=A[X].substring(ce+1)}else tt=A[X];F(tt,Ue?decodeURIComponent(Ue.replace(/\+/g," ")):"")}}}function Vr(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof Vr){this.h=A.h,un(this,A.j),this.o=A.o,this.g=A.g,ta(this,A.s),this.l=A.l;var F=A.i,X=new Cl;X.i=F.i,F.g&&(X.g=new Map(F.g),X.h=F.h),es(this,X),this.m=A.m}else A&&(F=String(A).match(Fr))?(this.h=!1,un(this,F[1]||"",!0),this.o=zo(F[2]||""),this.g=zo(F[3]||"",!0),ta(this,F[4]),this.l=zo(F[5]||"",!0),es(this,F[6]||"",!0),this.m=zo(F[7]||"")):(this.h=!1,this.i=new Cl(null,this.h))}Vr.prototype.toString=function(){var A=[],F=this.j;F&&A.push(Bs(F,Ch,!0),":");var X=this.g;return(X||F=="file")&&(A.push("//"),(F=this.o)&&A.push(Bs(F,Ch,!0),"@"),A.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&A.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&A.push("/"),A.push(Bs(X,X.charAt(0)=="/"?qo:ym,!0))),(X=this.i.toString())&&A.push("?",X),(X=this.m)&&A.push("#",Bs(X,du)),A.join("")};function ea(A){return new Vr(A)}function un(A,F,X){A.j=X?zo(F,!0):F,A.j&&(A.j=A.j.replace(/:$/,""))}function ta(A,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);A.s=F}else A.s=null}function es(A,F,X){F instanceof Cl?(A.i=F,xm(A.i,A.h)):(X||(F=Bs(F,fu)),A.i=new Cl(F,A.h))}function Er(A,F,X){A.i.set(F,X)}function bs(A){return Er(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function zo(A,F){return A?F?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Bs(A,F,X){return typeof A=="string"?(A=encodeURI(A).replace(F,vm),X&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function vm(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Ch=/[#\/\?@]/g,ym=/[#\?:]/g,qo=/[#\?]/g,fu=/[#\?@]/g,du=/#/g;function Cl(A,F){this.h=this.g=null,this.i=A||null,this.j=!!F}function Vn(A){A.g||(A.g=new Map,A.h=0,A.i&&Xr(A.i,function(F,X){A.add(decodeURIComponent(F.replace(/\+/g," ")),X)}))}e=Cl.prototype,e.add=function(A,F){Vn(this),this.i=null,A=Pl(this,A);var X=this.g.get(A);return X||this.g.set(A,X=[]),X.push(F),this.h+=1,this};function Ph(A,F){Vn(A),F=Pl(A,F),A.g.has(F)&&(A.i=null,A.h-=A.g.get(F).length,A.g.delete(F))}function Zf(A,F){return Vn(A),F=Pl(A,F),A.g.has(F)}e.forEach=function(A,F){Vn(this),this.g.forEach(function(X,ce){X.forEach(function(Ue){A.call(F,Ue,ce,this)},this)},this)},e.na=function(){Vn(this);const A=Array.from(this.g.values()),F=Array.from(this.g.keys()),X=[];for(let ce=0;ce<F.length;ce++){const Ue=A[ce];for(let tt=0;tt<Ue.length;tt++)X.push(F[ce])}return X},e.V=function(A){Vn(this);let F=[];if(typeof A=="string")Zf(this,A)&&(F=F.concat(this.g.get(Pl(this,A))));else{A=Array.from(this.g.values());for(let X=0;X<A.length;X++)F=F.concat(A[X])}return F},e.set=function(A,F){return Vn(this),this.i=null,A=Pl(this,A),Zf(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[F]),this.h+=1,this},e.get=function(A,F){return A?(A=this.V(A),0<A.length?String(A[0]):F):F};function _r(A,F,X){Ph(A,F),0<X.length&&(A.i=null,A.g.set(Pl(A,F),m(X)),A.h+=X.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],F=Array.from(this.g.keys());for(var X=0;X<F.length;X++){var ce=F[X];const tt=encodeURIComponent(String(ce)),Nt=this.V(ce);for(ce=0;ce<Nt.length;ce++){var Ue=tt;Nt[ce]!==""&&(Ue+="="+encodeURIComponent(String(Nt[ce]))),A.push(Ue)}}return this.i=A.join("&")};function Pl(A,F){return F=String(F),A.j&&(F=F.toLowerCase()),F}function xm(A,F){F&&!A.j&&(Vn(A),A.i=null,A.g.forEach(function(X,ce){var Ue=ce.toLowerCase();ce!=Ue&&(Ph(this,ce),_r(this,Ue,X))},A)),A.j=F}function co(A,F){const X=new jr;if(o.Image){const ce=new Image;ce.onload=p(Us,X,"TestLoadImage: loaded",!0,F,ce),ce.onerror=p(Us,X,"TestLoadImage: error",!1,F,ce),ce.onabort=p(Us,X,"TestLoadImage: abort",!1,F,ce),ce.ontimeout=p(Us,X,"TestLoadImage: timeout",!1,F,ce),o.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=A}else F(!1)}function Oh(A,F){const X=new jr,ce=new AbortController,Ue=setTimeout(()=>{ce.abort(),Us(X,"TestPingServer: timeout",!1,F)},1e4);fetch(A,{signal:ce.signal}).then(tt=>{clearTimeout(Ue),tt.ok?Us(X,"TestPingServer: ok",!0,F):Us(X,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Ue),Us(X,"TestPingServer: error",!1,F)})}function Us(A,F,X,ce,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),ce(X)}catch{}}function hu(){this.g=new Ie}function ed(A,F,X){const ce=X||"";try{Dr(A,function(Ue,tt){let Nt=Ue;c(Ue)&&(Nt=ur(Ue)),F.push(ce+tt+"="+encodeURIComponent(Nt))})}catch(Ue){throw F.push(ce+"type="+encodeURIComponent("_badmap")),Ue}}function pu(A){this.l=A.Ub||null,this.j=A.eb||!1}g(pu,Me),pu.prototype.g=function(){return new mu(this.l,this.j)},pu.prototype.i=function(A){return function(){return A}}({});function mu(A,F){nt.call(this),this.D=A,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(mu,nt),e=mu.prototype,e.open=function(A,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=F,this.readyState=1,Vs(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(F.body=A),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ih(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ih(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var F=A.value?A.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!A.done}))&&(this.response=this.responseText+=F)}A.done?Wo(this):Vs(this),this.readyState==3&&Ih(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,Wo(this))},e.Qa=function(A){this.g&&(this.response=A,Wo(this))},e.ga=function(){this.g&&Wo(this)};function Wo(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Vs(A)}e.setRequestHeader=function(A,F){this.u.append(A,F)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],F=this.h.entries();for(var X=F.next();!X.done;)X=X.value,A.push(X[0]+": "+X[1]),X=F.next();return A.join(`\r
`)};function Vs(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Ho(A){let F="";return j(A,function(X,ce){F+=ce,F+=":",F+=X,F+=`\r
`}),F}function td(A,F,X){e:{for(ce in X){var ce=!1;break e}ce=!0}ce||(X=Ho(X),typeof A=="string"?X!=null&&encodeURIComponent(String(X)):Er(A,F,X))}function wn(A){nt.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(wn,nt);var rd=/^https?$/i,gu=["POST","PUT"];e=wn.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,F,X,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);F=F?F.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?Ye(this.o):Ye(_e),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(A),!0),this.B=!1}catch(tt){nd(this,tt);return}if(A=X||"",X=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ue in ce)X.set(Ue,ce[Ue]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const tt of ce.keys())X.set(tt,ce.get(tt));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(X.keys()).find(tt=>tt.toLowerCase()=="content-type"),Ue=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(gu,F,void 0))||ce||Ue||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,Nt]of X)this.g.setRequestHeader(tt,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(A),this.u=!1}catch(tt){nd(this,tt)}};function nd(A,F){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=F,A.m=5,ad(A),fc(A)}function ad(A){A.A||(A.A=!0,ft(A,"complete"),ft(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,ft(this,"complete"),ft(this,"abort"),fc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fc(this,!0)),wn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?id(this):this.bb())},e.bb=function(){id(this)};function id(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Ra(A)!=4||A.Z()!=2)){if(A.u&&Ra(A)==4)kt(A.Ea,0,A);else if(ft(A,"readystatechange"),Ra(A)==4){A.h=!1;try{const Nt=A.Z();e:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var X;if(!(X=F)){var ce;if(ce=Nt===0){var Ue=String(A.D).match(Fr)[1]||null;!Ue&&o.self&&o.self.location&&(Ue=o.self.location.protocol.slice(0,-1)),ce=!rd.test(Ue?Ue.toLowerCase():"")}X=ce}if(X)ft(A,"complete"),ft(A,"success");else{A.m=6;try{var tt=2<Ra(A)?A.g.statusText:""}catch{tt=""}A.l=tt+" ["+A.Z()+"]",ad(A)}}finally{fc(A)}}}}function fc(A,F){if(A.g){zs(A);const X=A.g,ce=A.v[0]?()=>{}:null;A.g=null,A.v=null,F||ft(A,"ready");try{X.onreadystatechange=ce}catch{}}}function zs(A){A.I&&(o.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function Ra(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var F=this.g.responseText;return A&&F.indexOf(A)==0&&(F=F.substring(A.length)),Wr(F)}};function jh(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Ol(A){const F={};A=(A.g&&2<=Ra(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<A.length;ce++){if(b(A[ce]))continue;var X=E(A[ce]);const Ue=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const tt=F[Ue]||[];F[Ue]=tt,tt.push(X)}T(F,function(ce){return ce.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(A,F,X){return X&&X.internalChannelParams&&X.internalChannelParams[A]||F}function vu(A){this.Aa=0,this.i=[],this.j=new jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=li("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=li("baseRetryDelayMs",5e3,A),this.cb=li("retryDelaySeedMs",1e4,A),this.Wa=li("forwardChannelMaxRetries",2,A),this.wa=li("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new de(A&&A.concurrentRequestLimit),this.Da=new hu,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=vu.prototype,e.la=8,e.G=1,e.connect=function(A,F,X,ce){We(0),this.W=A,this.H=F||{},X&&ce!==void 0&&(this.H.OSID=X,this.H.OAID=ce),this.F=this.X,this.I=L(this,null,this.W),xu(this)};function Go(A){if(dc(A),A.G==3){var F=A.U++,X=ea(A.I);if(Er(X,"SID",A.K),Er(X,"RID",F),Er(X,"TYPE","terminate"),Il(A,X),F=new rt(A,A.j,F),F.L=2,F.v=bs(ea(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=F.v,X=!0),X||(F.g=te(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Rt(F)}Au(A)}function yu(A){A.g&&(_u(A),A.g.cancel(),A.g=null)}function dc(A){yu(A),A.u&&(o.clearTimeout(A.u),A.u=null),Ko(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function xu(A){if(!Pe(A.h)&&!A.s){A.s=!0;var F=A.Ga;J||ee(),q||(J(),q=!0),V.add(F,A),A.B=0}}function sd(A,F){return wt(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=F.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=ir(h(A.Ga,A,F),Su(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Ue=new rt(this,this.j,A);let tt=this.o;if(this.S&&(tt?(tt=_(tt),I(tt,this.S)):tt=this.S),this.m!==null||this.O||(Ue.H=tt,tt=null),this.P)e:{for(var F=0,X=0;X<this.i.length;X++){t:{var ce=this.i[X];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(F+=ce,4096<F){F=X;break e}if(F===4096||X===this.i.length-1){F=X+1;break e}}F=1e3}else F=1e3;F=hc(this,Ue,F),X=ea(this.I),Er(X,"RID",A),Er(X,"CVER",22),this.D&&Er(X,"X-HTTP-Session-Id",this.D),Il(this,X),tt&&(this.O?F="headers="+encodeURIComponent(String(Ho(tt)))+"&"+F:this.m&&td(X,this.m,tt)),ut(this.h,Ue),this.Ua&&Er(X,"TYPE","init"),this.P?(Er(X,"$req",F),Er(X,"SID","null"),Ue.T=!0,St(Ue,X,null)):St(Ue,X,F),this.G=2}}else this.G==3&&(A?bu(this,A):this.i.length==0||Pe(this.h)||bu(this))};function bu(A,F){var X;F?X=F.l:X=A.U++;const ce=ea(A.I);Er(ce,"SID",A.K),Er(ce,"RID",X),Er(ce,"AID",A.T),Il(A,ce),A.m&&A.o&&td(ce,A.m,A.o),X=new rt(A,A.j,X,A.B+1),A.m===null&&(X.H=A.o),F&&(A.i=F.D.concat(A.i)),F=hc(A,X,1e3),X.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),ut(A.h,X),St(X,ce,F)}function Il(A,F){A.H&&j(A.H,function(X,ce){Er(F,ce,X)}),A.l&&Dr({},function(X,ce){Er(F,ce,X)})}function hc(A,F,X){X=Math.min(A.i.length,X);var ce=A.l?h(A.l.Na,A.l,A):null;e:{var Ue=A.i;let tt=-1;for(;;){const Nt=["count="+X];tt==-1?0<X?(tt=Ue[0].g,Nt.push("ofs="+tt)):tt=0:Nt.push("ofs="+tt);let Cr=!0;for(let Qr=0;Qr<X;Qr++){let Pr=Ue[Qr].g;const _n=Ue[Qr].map;if(Pr-=tt,0>Pr)tt=Math.max(0,Ue[Qr].g-100),Cr=!1;else try{ed(_n,Nt,"req"+Pr+"_")}catch{ce&&ce(_n)}}if(Cr){ce=Nt.join("&");break e}}}return A=A.i.splice(0,X),F.D=A,ce}function wu(A){if(!A.g&&!A.u){A.Y=1;var F=A.Fa;J||ee(),q||(J(),q=!0),V.add(F,A),A.v=0}}function pc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=ir(h(A.Fa,A),Su(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,Dh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=ir(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),yu(this),Dh(this))};function _u(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function Dh(A){A.g=new rt(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var F=ea(A.qa);Er(F,"RID","rpc"),Er(F,"SID",A.K),Er(F,"AID",A.T),Er(F,"CI",A.F?"0":"1"),!A.F&&A.ja&&Er(F,"TO",A.ja),Er(F,"TYPE","xmlhttp"),Il(A,F),A.m&&A.o&&td(F,A.m,A.o),A.L&&(A.g.I=A.L);var X=A.g;A=A.ia,X.L=1,X.v=bs(ea(F)),X.m=null,X.P=!0,jt(X,A)}e.Za=function(){this.C!=null&&(this.C=null,yu(this),pc(this),We(19))};function Ko(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function jl(A,F){var X=null;if(A.g==F){Ko(A),_u(A),A.g=null;var ce=2}else if(Ut(A.h,F))X=F.D,pt(A.h,F),ce=1;else return;if(A.G!=0){if(F.o)if(ce==1){X=F.m?F.m.length:0,F=Date.now()-F.F;var Ue=A.B;ce=xr(),ft(ce,new rr(ce,X)),xu(A)}else wu(A);else if(Ue=F.s,Ue==3||Ue==0&&0<F.X||!(ce==1&&sd(A,F)||ce==2&&pc(A)))switch(X&&0<X.length&&(F=A.h,F.i=F.i.concat(X)),Ue){case 1:Ni(A,5);break;case 4:Ni(A,10);break;case 3:Ni(A,6);break;default:Ni(A,2)}}}function Su(A,F){let X=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(X*=2),X*F}function Ni(A,F){if(A.j.info("Error code "+F),F==2){var X=h(A.fb,A),ce=A.Xa;const Ue=!ce;ce=new Vr(ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||un(ce,"https"),bs(ce),Ue?co(ce.toString(),X):Oh(ce.toString(),X)}else We(2);A.G=0,A.l&&A.l.sa(F),Au(A),dc(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Au(A){if(A.G=0,A.ka=[],A.l){const F=Lt(A.h);(F.length!=0||A.i.length!=0)&&(v(A.ka,F),v(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function L(A,F,X){var ce=X instanceof Vr?ea(X):new Vr(X);if(ce.g!="")F&&(ce.g=F+"."+ce.g),ta(ce,ce.s);else{var Ue=o.location;ce=Ue.protocol,F=F?F+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;var tt=new Vr(null);ce&&un(tt,ce),F&&(tt.g=F),Ue&&ta(tt,Ue),X&&(tt.l=X),ce=tt}return X=A.D,F=A.ya,X&&F&&Er(ce,X,F),Er(ce,"VER",A.la),Il(A,ce),ce}function te(A,F,X){if(F&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=A.Ca&&!A.pa?new wn(new pu({eb:X})):new wn(A.pa),F.Ha(A.J),F}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}e=Ae.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Oe(){}Oe.prototype.g=function(A,F){return new Ve(A,F)};function Ve(A,F){nt.call(this),this.g=new vu(F),this.l=A,this.h=F&&F.messageUrlParams||null,A=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(A?A["X-WebChannel-Content-Type"]=F.messageContentType:A={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(A?A["X-WebChannel-Client-Profile"]=F.va:A={"X-WebChannel-Client-Profile":F.va}),this.g.S=A,(A=F&&F.Sb)&&!b(A)&&(this.g.m=A),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!b(F)&&(this.g.D=F,A=this.h,A!==null&&F in A&&(A=this.h,F in A&&delete A[F])),this.j=new Vt(this)}g(Ve,nt),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){Go(this.g)},Ve.prototype.o=function(A){var F=this.g;if(typeof A=="string"){var X={};X.__data__=A,A=X}else this.u&&(X={},X.__data__=ur(A),A=X);F.i.push(new $s(F.Ya++,A)),F.G==3&&xu(F)},Ve.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,Ve.aa.N.call(this)};function st(A){Gt.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var F=A.__sm__;if(F){e:{for(const X in F){A=X;break e}A=void 0}(this.i=A)&&(A=this.i,F=F!==null&&A in F?F[A]:void 0),this.data=F}else this.data=A}g(st,Gt);function Tt(){Mt.call(this),this.status=1}g(Tt,Mt);function Vt(A){this.g=A}g(Vt,Ae),Vt.prototype.ua=function(){ft(this.g,"a")},Vt.prototype.ta=function(A){ft(this.g,new st(A))},Vt.prototype.sa=function(A){ft(this.g,new Tt)},Vt.prototype.ra=function(){ft(this.g,"b")},Oe.prototype.createWebChannel=Oe.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,C9=function(){return new Oe},k9=function(){return xr()},N9=Ot,F4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,t2=ge,xe.COMPLETE="complete",E9=xe,ht.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,cg=ht,wn.prototype.listenOnce=wn.prototype.L,wn.prototype.getLastError=wn.prototype.Ka,wn.prototype.getLastErrorCode=wn.prototype.Ba,wn.prototype.getStatus=wn.prototype.Z,wn.prototype.getResponseJson=wn.prototype.Oa,wn.prototype.getResponseText=wn.prototype.oa,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Ha,T9=wn}).apply(typeof nx<"u"?nx:typeof self<"u"?self:typeof window<"u"?window:{});const LO="@firebase/firestore",MO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new y9("@firebase/firestore");function n0(){return eh.logLevel}function Xt(e,...t){if(eh.logLevel<=an.DEBUG){const r=t.map(bN);eh.debug(`Firestore (${Gp}): ${e}`,...r)}}function Hc(e,...t){if(eh.logLevel<=an.ERROR){const r=t.map(bN);eh.error(`Firestore (${Gp}): ${e}`,...r)}}function sp(e,...t){if(eh.logLevel<=an.WARN){const r=t.map(bN);eh.warn(`Firestore (${Gp}): ${e}`,...r)}}function bN(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,P9(e,n,r)}function P9(e,t,r){let n=`FIRESTORE (${Gp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Hc(n),new Error(n)}function xn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||P9(t,a,n)}function Nr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends Hp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Tte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Fi.UNAUTHENTICATED))}shutdown(){}}class Ete{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Nte{constructor(t){this.t=t,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){xn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Yl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yl,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yl)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xn(typeof n.accessToken=="string",31837,{l:n}),new O9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xn(t===null||typeof t=="string",2055,{h:t}),new Fi(t)}}class kte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new kte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lte(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){xn(this.o===void 0,3512);const n=i=>{i.error!=null&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Xt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(xn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new RO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ote(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Ote(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function qr(e,t){return e<t?-1:e>t?1:0}function $4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return qr(n,a);{const i=I9(),s=Ite(i.encode(FO(e,r)),i.encode(FO(t,r)));return s!==0?s:qr(n,a)}}r+=n>65535?2:1}return qr(e.length,t.length)}function FO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ite(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return qr(e[r],t[r]);return qr(e.length,t.length)}function op(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=-62135596800,BO=1e6;class ar{static now(){return ar.fromMillis(Date.now())}static fromDate(t){return ar.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*BO);return new ar(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Ht(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ht(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<$O)throw new Ht(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ht(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BO}_compareTo(t){return this.seconds===t.seconds?qr(this.nanoseconds,t.nanoseconds):qr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-$O;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static fromTimestamp(t){return new kr(t)}static min(){return new kr(new ar(0,0))}static max(){return new kr(new ar(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="__name__";class Vl{constructor(t,r,n){r===void 0?r=0:r>t.length&&yr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&yr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Vl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Vl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Vl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return qr(t.length,r.length)}static compareSegments(t,r){const n=Vl.isNumericId(t),a=Vl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Vl.extractNumericId(t).compare(Vl.extractNumericId(r)):$4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return bf.fromString(t.substring(4,t.length-2))}}class Hn extends Vl{construct(t,r,n){return new Hn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ht(vt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Hn(r)}static emptyPath(){return new Hn([])}}const jte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Vl{construct(t,r,n){return new xi(t,r,n)}static isValidIdentifier(t){return jte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UO}static keyField(){return new xi([UO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Ht(vt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Ht(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ht(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Ht(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xi(r)}static emptyPath(){return new xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.path=t}static fromPath(t){return new cr(Hn.fromString(t))}static fromName(t){return new cr(Hn.fromString(t).popFirst(5))}static empty(){return new cr(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Hn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Hn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cr(new Hn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=-1;function Dte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=kr.fromTimestamp(n===1e9?new ar(r+1,0):new ar(r,n));return new Pf(a,cr.empty(),t)}function Lte(e){return new Pf(e.readTime,e.key,Ev)}class Pf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Pf(kr.min(),cr.empty(),Ev)}static max(){return new Pf(kr.max(),cr.empty(),Ev)}}function Mte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=cr.comparator(e.documentKey,t.documentKey),r!==0?r:qr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(e){if(e.code!==vt.FAILED_PRECONDITION||e.message!==Rte)throw e;Xt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&yr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new bt((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof bt?r:bt.resolve(r)}catch(r){return bt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.reject(r)}static resolve(t){return new bt((r,n)=>{r(t)})}static reject(t){return new bt((r,n)=>{n(t)})}static waitFor(t){return new bt((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=bt.resolve(!1);for(const n of t)r=r.next(a=>a?bt.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new bt((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new bt((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function $te(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Yp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Yw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=-1;function Xw(e){return e==null}function X2(e){return e===0&&1/e==-1/0}function Bte(e){return typeof e=="number"&&Number.isInteger(e)&&!X2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="";function Ute(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=VO(t)),t=Vte(e.get(r),t);return VO(t)}function Vte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case D9:r+="";break;default:r+=i}}return r}function VO(e){return e+D9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function qf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function zte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function L9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,r){this.comparator=t,this.root=r||gi.EMPTY}insert(t,r){return new oa(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(t){return new oa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gi.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ax(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ax(this.root,t,this.comparator,!1)}getReverseIterator(){return new ax(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ax(this.root,t,this.comparator,!0)}}class ax{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gi{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??gi.RED,this.left=a??gi.EMPTY,this.right=i??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new gi(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return gi.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yr(27949);return t+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1;gi.EMPTY=new class{constructor(){this.size=0}get key(){throw yr(57766)}get value(){throw yr(16141)}get color(){throw yr(16727)}get left(){throw yr(29726)}get right(){throw yr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new gi(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.comparator=t,this.data=new oa(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new qO(this.data.getIterator())}getIteratorFrom(t){return new qO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Wa(this.comparator);return r.data=t,r}}class qO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.fields=t,t.sort(xi.comparator)}static empty(){return new to([])}unionWith(t){let r=new Wa(xi.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new to(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return op(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new M9("Invalid base64 string: "+i):i}}(t);return new Ei(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Ei(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const qte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Of(e){if(xn(!!e,39018),typeof e=="string"){let t=0;const r=qte.exec(e);if(xn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:xa(e.seconds),nanos:xa(e.nanos)}}function xa(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function If(e){return typeof e=="string"?Ei.fromBase64String(e):Ei.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="server_timestamp",F9="__type__",$9="__previous_value__",B9="__local_write_time__";function _N(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[F9])===null||r===void 0?void 0:r.stringValue)===R9}function Qw(e){const t=e.mapValue.fields[$9];return _N(t)?Qw(t):t}function Nv(e){const t=Of(e.mapValue.fields[B9].timestampValue);return new ar(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Q2="(default)";class kv{constructor(t,r){this.projectId=t,this.database=r||Q2}static empty(){return new kv("","")}get isDefaultDatabase(){return this.database===Q2}isEqual(t){return t instanceof kv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="__type__",V9="__max__",ix={mapValue:{fields:{__type__:{stringValue:V9}}}},z9="__vector__",J2="value";function jf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_N(e)?4:Gte(e)?9007199254740991:Hte(e)?10:11:yr(28295,{value:e})}function nc(e,t){if(e===t)return!0;const r=jf(e);if(r!==jf(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nv(e).isEqual(Nv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Of(a.timestampValue),o=Of(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return If(a.bytesValue).isEqual(If(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return xa(a.geoPointValue.latitude)===xa(i.geoPointValue.latitude)&&xa(a.geoPointValue.longitude)===xa(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return xa(a.integerValue)===xa(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=xa(a.doubleValue),o=xa(i.doubleValue);return s===o?X2(s)===X2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return op(e.arrayValue.values||[],t.arrayValue.values||[],nc);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(zO(s)!==zO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!nc(s[l],o[l])))return!1;return!0}(e,t);default:return yr(52216,{left:e})}}function Cv(e,t){return(e.values||[]).find(r=>nc(r,t))!==void 0}function lp(e,t){if(e===t)return 0;const r=jf(e),n=jf(t);if(r!==n)return qr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return qr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=xa(i.integerValue||i.doubleValue),l=xa(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return WO(e.timestampValue,t.timestampValue);case 4:return WO(Nv(e),Nv(t));case 5:return $4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=If(i),l=If(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=qr(o[c],l[c]);if(u!==0)return u}return qr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=qr(xa(i.latitude),xa(s.latitude));return o!==0?o:qr(xa(i.longitude),xa(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return HO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},p=(o=f[J2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[J2])===null||l===void 0?void 0:l.arrayValue,m=qr(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:HO(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===ix.mapValue&&s===ix.mapValue)return 0;if(i===ix.mapValue)return 1;if(s===ix.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=$4(l[f],u[f]);if(h!==0)return h;const p=lp(o[l[f]],c[u[f]]);if(p!==0)return p}return qr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw yr(23264,{Pe:r})}}function WO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qr(e,t);const r=Of(e),n=Of(t),a=qr(r.seconds,n.seconds);return a!==0?a:qr(r.nanos,n.nanos)}function HO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=lp(r[a],n[a]);if(i)return i}return qr(r.length,n.length)}function cp(e){return B4(e)}function B4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Of(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return If(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return cr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=B4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${B4(r.fields[s])}`;return a+"}"}(e.mapValue):yr(61005,{value:e})}function r2(e){switch(jf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qw(e);return t?16+r2(t):16;case 5:return 2*e.stringValue.length;case 6:return If(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+r2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return qf(n.fields,(i,s)=>{a+=i.length+r2(s)}),a}(e.mapValue);default:throw yr(13486,{value:e})}}function GO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function U4(e){return!!e&&"integerValue"in e}function SN(e){return!!e&&"arrayValue"in e}function KO(e){return!!e&&"nullValue"in e}function YO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function n2(e){return!!e&&"mapValue"in e}function Hte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[U9])===null||r===void 0?void 0:r.stringValue)===z9}function Pg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return qf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Pg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Pg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Gte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===V9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.value=t}static empty(){return new Cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!n2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pg(r)}setAll(t){let r=xi.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Pg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());n2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return nc(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];n2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){qf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Cs(Pg(this.value))}}function q9(e){const t=[];return qf(e.fields,(r,n)=>{const a=new xi([r]);if(n2(n)){const i=q9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new to(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Ui(t,0,kr.min(),kr.min(),kr.min(),Cs.empty(),0)}static newFoundDocument(t,r,n,a){return new Ui(t,1,r,kr.min(),n,a,0)}static newNoDocument(t,r){return new Ui(t,2,r,kr.min(),kr.min(),Cs.empty(),0)}static newUnknownDocument(t,r){return new Ui(t,3,r,kr.min(),kr.min(),Cs.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(kr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,r){this.position=t,this.inclusive=r}}function XO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=cr.comparator(cr.fromName(s.referenceValue),r.key):n=lp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function QO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!nc(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t,r="asc"){this.field=t,this.dir=r}}function Kte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{}class Da extends W9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Xte(t,r,n):r==="array-contains"?new Zte(t,n):r==="in"?new ere(t,n):r==="not-in"?new tre(t,n):r==="array-contains-any"?new rre(t,n):new Da(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Qte(t,n):new Jte(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(lp(r,this.value)):r!==null&&jf(this.value)===jf(r)&&this.matchesComparison(lp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Al extends W9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new Al(t,r)}matches(t){return H9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function H9(e){return e.op==="and"}function G9(e){return Yte(e)&&H9(e)}function Yte(e){for(const t of e.filters)if(t instanceof Al)return!1;return!0}function V4(e){if(e instanceof Da)return e.field.canonicalString()+e.op.toString()+cp(e.value);if(G9(e))return e.filters.map(t=>V4(t)).join(",");{const t=e.filters.map(r=>V4(r)).join(",");return`${e.op}(${t})`}}function K9(e,t){return e instanceof Da?function(n,a){return a instanceof Da&&n.op===a.op&&n.field.isEqual(a.field)&&nc(n.value,a.value)}(e,t):e instanceof Al?function(n,a){return a instanceof Al&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&K9(s,a.filters[o]),!0):!1}(e,t):void yr(19439)}function Y9(e){return e instanceof Da?function(r){return`${r.field.canonicalString()} ${r.op} ${cp(r.value)}`}(e):e instanceof Al?function(r){return r.op.toString()+" {"+r.getFilters().map(Y9).join(" ,")+"}"}(e):"Filter"}class Xte extends Da{constructor(t,r,n){super(t,r,n),this.key=cr.fromName(n.referenceValue)}matches(t){const r=cr.comparator(t.key,this.key);return this.matchesComparison(r)}}class Qte extends Da{constructor(t,r){super(t,"in",r),this.keys=X9("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Jte extends Da{constructor(t,r){super(t,"not-in",r),this.keys=X9("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function X9(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>cr.fromName(n.referenceValue))}class Zte extends Da{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return SN(r)&&Cv(r.arrayValue,this.value)}}class ere extends Da{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Cv(this.value.arrayValue,r)}}class tre extends Da{constructor(t,r){super(t,"not-in",r)}matches(t){if(Cv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Cv(this.value.arrayValue,r)}}class rre extends Da{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!SN(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Cv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function JO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new nre(e,t,r,n,a,i,s)}function AN(e){const t=Nr(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>V4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Xw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>cp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>cp(n)).join(",")),t.Ie=r}return t.Ie}function TN(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Kte(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!K9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QO(e.startAt,t.startAt)&&QO(e.endAt,t.endAt)}function z4(e){return cr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function are(e,t,r,n,a,i,s,o){return new Xp(e,t,r,n,a,i,s,o)}function Jw(e){return new Xp(e)}function ZO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Q9(e){return e.collectionGroup!==null}function Og(e){const t=Nr(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Wa(xi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Pv(i,n))}),r.has(xi.keyField().canonicalString())||t.Ee.push(new Pv(xi.keyField(),n))}return t.Ee}function Xl(e){const t=Nr(e);return t.de||(t.de=J9(t,Og(e))),t.de}function ire(e){const t=Nr(e);return t.Ae||(t.Ae=J9(t,e.explicitOrderBy)),t.Ae}function J9(e,t){if(e.limitType==="F")return JO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Pv(a.field,i)});const r=e.endAt?new Z2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Z2(e.startAt.position,e.startAt.inclusive):null;return JO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function q4(e,t){const r=e.filters.concat([t]);return new Xp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function eb(e,t,r){return new Xp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Zw(e,t){return TN(Xl(e),Xl(t))&&e.limitType===t.limitType}function Z9(e){return`${AN(Xl(e))}|lt:${e.limitType}`}function a0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>Y9(a)).join(", ")}]`),Xw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>cp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>cp(a)).join(",")),`Target(${n})`}(Xl(e))}; limitType=${e.limitType})`}function e5(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):cr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Og(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=XO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Og(n),a)||n.endAt&&!function(s,o,l){const c=XO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Og(n),a))}(e,t)}function sre(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eB(e){return(t,r)=>{let n=!1;for(const a of Og(e)){const i=ore(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function ore(e,t,r){const n=e.field.isKeyField()?cr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?lp(l,c):yr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return yr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){qf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return L9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre=new oa(cr.comparator);function Gc(){return lre}const tB=new oa(cr.comparator);function ug(...e){let t=tB;for(const r of e)t=t.insert(r.key,r);return t}function rB(e){let t=tB;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Cd(){return Ig()}function nB(){return Ig()}function Ig(){return new ph(e=>e.toString(),(e,t)=>e.isEqual(t))}const cre=new oa(cr.comparator),ure=new Wa(cr.comparator);function Zr(...e){let t=ure;for(const r of e)t=t.add(r);return t}const fre=new Wa(qr);function dre(){return fre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X2(t)?"-0":t}}function aB(e){return{integerValue:""+e}}function hre(e,t){return Bte(t)?aB(t):EN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this._=void 0}}function pre(e,t,r){return e instanceof Ov?function(a,i){const s={fields:{[F9]:{stringValue:R9},[B9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&_N(i)&&(i=Qw(i)),i&&(s.fields[$9]=i),{mapValue:s}}(r,t):e instanceof Iv?sB(e,t):e instanceof jv?oB(e,t):function(a,i){const s=iB(a,i),o=eI(s)+eI(a.Re);return U4(s)&&U4(a.Re)?aB(o):EN(a.serializer,o)}(e,t)}function mre(e,t,r){return e instanceof Iv?sB(e,t):e instanceof jv?oB(e,t):r}function iB(e,t){return e instanceof tb?function(n){return U4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class Ov extends t5{}class Iv extends t5{constructor(t){super(),this.elements=t}}function sB(e,t){const r=lB(t);for(const n of e.elements)r.some(a=>nc(a,n))||r.push(n);return{arrayValue:{values:r}}}class jv extends t5{constructor(t){super(),this.elements=t}}function oB(e,t){let r=lB(t);for(const n of e.elements)r=r.filter(a=>!nc(a,n));return{arrayValue:{values:r}}}class tb extends t5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function eI(e){return xa(e.integerValue||e.doubleValue)}function lB(e){return SN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(t,r){this.field=t,this.transform=r}}function vre(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Iv&&a instanceof Iv||n instanceof jv&&a instanceof jv?op(n.elements,a.elements,nc):n instanceof tb&&a instanceof tb?nc(n.Re,a.Re):n instanceof Ov&&a instanceof Ov}(e.transform,t.transform)}class yre{constructor(t,r){this.version=t,this.transformResults=r}}class ms{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new ms}static exists(t){return new ms(void 0,t)}static updateTime(t){return new ms(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function a2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class r5{}function cB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new n5(e.key,ms.none()):new $1(e.key,e.data,ms.none());{const r=e.data,n=Cs.empty();let a=new Wa(xi.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Wf(e.key,n,new to(a.toArray()),ms.none())}}function xre(e,t,r){e instanceof $1?function(a,i,s){const o=a.value.clone(),l=rI(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Wf?function(a,i,s){if(!a2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=rI(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(uB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function jg(e,t,r,n){return e instanceof $1?function(i,s,o,l){if(!a2(i.precondition,s))return o;const c=i.value.clone(),u=nI(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Wf?function(i,s,o,l){if(!a2(i.precondition,s))return o;const c=nI(i.fieldTransforms,l,s),u=s.data;return u.setAll(uB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return a2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function bre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=iB(n.transform,a||null);i!=null&&(r===null&&(r=Cs.empty()),r.set(n.field,i))}return r||null}function tI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&op(n,a,(i,s)=>vre(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $1 extends r5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Wf extends r5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function rI(e,t,r){const n=new Map;xn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,mre(s,o,r[a]))}return n}function nI(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,pre(i,s,t))}return n}class n5 extends r5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wre extends r5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&xre(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=jg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=jg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=nB();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=cB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(kr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Zr())}isEqual(t){return this.batchId===t.batchId&&op(this.mutations,t.mutations,(r,n)=>tI(r,n))&&op(this.baseMutations,t.baseMutations,(r,n)=>tI(r,n))}}class NN{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){xn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return cre}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new NN(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca,nn;function Ere(e){switch(e){case vt.OK:return yr(64938);case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0;default:return yr(15467,{code:e})}}function fB(e){if(e===void 0)return Hc("GRPC error has no .code"),vt.UNKNOWN;switch(e){case Ca.OK:return vt.OK;case Ca.CANCELLED:return vt.CANCELLED;case Ca.UNKNOWN:return vt.UNKNOWN;case Ca.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Ca.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Ca.INTERNAL:return vt.INTERNAL;case Ca.UNAVAILABLE:return vt.UNAVAILABLE;case Ca.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Ca.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Ca.NOT_FOUND:return vt.NOT_FOUND;case Ca.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Ca.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Ca.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Ca.ABORTED:return vt.ABORTED;case Ca.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Ca.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Ca.DATA_LOSS:return vt.DATA_LOSS;default:return yr(39323,{code:e})}}(nn=Ca||(Ca={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre=new bf([4294967295,4294967295],0);function aI(e){const t=I9().encode(e),r=new A9;return r.update(t),new Uint8Array(r.digest())}function iI(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new bf([r,n],0),new bf([a,i],0)]}class kN{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new fg(`Invalid padding: ${r}`);if(n<0)throw new fg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new fg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new fg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=bf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(bf.fromNumber(n)));return a.compare(Nre)===1&&(a=new bf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=aI(t),[n,a]=iI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new kN(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=aI(t),[n,a]=iI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class fg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,B1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new a5(kr.min(),a,new oa(qr),Gc(),Zr())}}class B1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new B1(n,r,Zr(),Zr(),Zr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class dB{constructor(t,r){this.targetId=t,this.Ce=r}}class hB{constructor(t,r,n=Ei.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class sI{constructor(){this.Fe=0,this.Me=oI(),this.xe=Ei.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Zr(),r=Zr(),n=Zr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:yr(38017,{changeType:i})}}),new B1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=oI()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,xn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kre{constructor(t){this.ze=t,this.je=new Map,this.He=Gc(),this.Je=sx(),this.Ye=sx(),this.Ze=new oa(qr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:yr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(z4(i))if(n===0){const s=new cr(i.path);this.tt(r,s,Ui.newNoDocument(s,kr.min()))}else xn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=If(n).toUint8Array()}catch(l){if(l instanceof M9)return sp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new kN(s,a,i)}catch(l){return sp(l instanceof fg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&z4(o.target)){const l=new cr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Ui.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Zr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new a5(t,r,this.Ze,this.He,n);return this.He=Gc(),this.Je=sx(),this.Ye=sx(),this.Ze=new oa(qr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new sI,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Wa(qr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Wa(qr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Xt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new sI),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function sx(){return new oa(cr.comparator)}function oI(){return new oa(cr.comparator)}const Cre={asc:"ASCENDING",desc:"DESCENDING"},Pre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ore={and:"AND",or:"OR"};class Ire{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function W4(e,t){return e.useProto3Json||Xw(t)?t:{value:t}}function rb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jre(e,t){return rb(e,t.toTimestamp())}function Ql(e){return xn(!!e,49232),kr.fromTimestamp(function(r){const n=Of(r);return new ar(n.seconds,n.nanos)}(e))}function CN(e,t){return H4(e,t).canonicalString()}function H4(e,t){const r=function(a){return new Hn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function mB(e){const t=Hn.fromString(e);return xn(wB(t),10190,{key:t.toString()}),t}function G4(e,t){return CN(e.databaseId,t.path)}function dS(e,t){const r=mB(t);if(r.get(1)!==e.databaseId.projectId)throw new Ht(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Ht(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new cr(vB(r))}function gB(e,t){return CN(e.databaseId,t)}function Dre(e){const t=mB(e);return t.length===4?Hn.emptyPath():vB(t)}function K4(e){return new Hn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vB(e){return xn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lI(e,t,r){return{name:G4(e,t),fields:r.value.mapValue.fields}}function Lre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:yr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(xn(u===void 0||typeof u=="string",58123),Ei.fromBase64String(u||"")):(xn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ei.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?vt.UNKNOWN:fB(c.code);return new Ht(u,c.message||"")}(s);r=new hB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=dS(e,n.document.name),i=Ql(n.document.updateTime),s=n.document.createTime?Ql(n.document.createTime):kr.min(),o=new Cs({mapValue:{fields:n.document.fields}}),l=Ui.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new i2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=dS(e,n.document),i=n.readTime?Ql(n.readTime):kr.min(),s=Ui.newNoDocument(a,i),o=n.removedTargetIds||[];r=new i2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=dS(e,n.document),i=n.removedTargetIds||[];r=new i2([],i,a,null)}else{if(!("filter"in t))return yr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new Tre(a,i),o=n.targetId;r=new dB(o,s)}}return r}function Mre(e,t){let r;if(t instanceof $1)r={update:lI(e,t.key,t.value)};else if(t instanceof n5)r={delete:G4(e,t.key)};else if(t instanceof Wf)r={update:lI(e,t.key,t.data),updateMask:Wre(t.fieldMask)};else{if(!(t instanceof wre))return yr(16599,{ft:t.type});r={verify:G4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Ov)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Iv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof jv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tb)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw yr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:jre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:yr(27497)}(e,t.precondition)),r}function Rre(e,t){return e&&e.length>0?(xn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Ql(a.updateTime):Ql(i);return s.isEqual(kr.min())&&(s=Ql(i)),new yre(s,a.transformResults||[])}(r,t))):[]}function Fre(e,t){return{documents:[gB(e,t.path)]}}function yB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=gB(e,a);const i=function(c){if(c.length!==0)return bB(Al.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ku(h.field),direction:Vre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=W4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function $re(e,t,r,n){const{gt:a,parent:i}=yB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Ku(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Ku(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Bre(e){let t=Dre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){xn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=xB(f);return h instanceof Al&&G9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new Pv(i0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Xw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Z2(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Z2(p,h)}(r.endAt)),are(t,a,s,i,o,"F",l,c)}function Ure(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function xB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=i0(r.unaryFilter.field);return Da.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=i0(r.unaryFilter.field);return Da.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=i0(r.unaryFilter.field);return Da.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=i0(r.unaryFilter.field);return Da.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yr(61313);default:return yr(60726)}}(e):e.fieldFilter!==void 0?function(r){return Da.create(i0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yr(58110);default:return yr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Al.create(r.compositeFilter.filters.map(n=>xB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return yr(1026)}}(r.compositeFilter.op))}(e):yr(30097,{filter:e})}function Vre(e){return Cre[e]}function zre(e){return Pre[e]}function qre(e){return Ore[e]}function Ku(e){return{fieldPath:e.canonicalString()}}function i0(e){return xi.fromServerFormat(e.fieldPath)}function bB(e){return e instanceof Da?function(r){if(r.op==="=="){if(YO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NAN"}};if(KO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(YO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NOT_NAN"}};if(KO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(r.field),op:zre(r.op),value:r.value}}}(e):e instanceof Al?function(r){const n=r.getFilters().map(a=>bB(a));return n.length===1?n[0]:{compositeFilter:{op:qre(r.op),filters:n}}}(e):yr(54877,{filter:e})}function Wre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function wB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,r,n,a,i=kr.min(),s=kr.min(),o=Ei.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new tf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(t){this.wt=t}}function Gre(e){const t=Bre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?eb(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(){this.yn=new Yre}addToCollectionParentIndex(t,r){return this.yn.add(r),bt.resolve()}getCollectionParents(t,r){return bt.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return bt.resolve()}deleteFieldIndex(t,r){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,r){return bt.resolve()}getDocumentsMatchingTarget(t,r){return bt.resolve(null)}getIndexType(t,r){return bt.resolve(0)}getFieldIndexes(t,r){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,r){return bt.resolve(Pf.min())}getMinOffsetFromCollectionGroup(t,r){return bt.resolve(Pf.min())}updateCollectionGroup(t,r,n){return bt.resolve()}updateIndexEntries(t,r){return bt.resolve()}}class Yre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Wa(Hn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Wa(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_B=41943040;class Es{static withCacheSize(t){return new Es(t,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(_B,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new up(0)}static ir(){return new up(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="LruGarbageCollector",Xre=1048576;function fI([e,t],[r,n]){const a=qr(e,r);return a===0?qr(t,n):a}class Qre{constructor(t){this.cr=t,this.buffer=new Wa(fI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();fI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Jre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Xt(uI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Yp(r)?Xt(uI,"Ignoring IndexedDB error during garbage collection: ",r):await Kp(r)}await this.Ir(3e5)})}}class Zre{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return bt.resolve(Yw.le);const n=new Qre(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(cI)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cI):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),n0()<=an.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function ene(e,t){return new Zre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(){this.changes=new ph(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Ui.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?bt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&jg(n.mutation,a,to.empty(),ar.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Zr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Zr()){const a=Cd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=ug();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Cd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Zr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Gc();const s=Ig(),o=function(){return Ig()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof Wf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),jg(u.mutation,c,u.mutation.getFieldMask(),ar.now())):s.set(c.key,to.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new rne(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Ig();let a=new oa((s,o)=>s-o),i=Zr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||to.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Zr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=nB();u.forEach(h=>{if(!i.has(h)){const p=cB(r.get(h),n.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return bt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return cr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Q9(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):bt.resolve(Cd());let o=Ev,l=i;return s.next(c=>bt.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?bt.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Zr())).next(u=>({batchId:o,changes:rB(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new cr(r)).next(n=>{let a=ug();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=ug();return this.indexManager.getCollectionParents(t,i).next(o=>bt.forEach(o,l=>{const c=function(f,h){return new Xp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Ui.newInvalidDocument(u)))});let o=ug();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&jg(u.mutation,c,to.empty(),ar.now()),e5(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return bt.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Ql(a.createTime)}}(r)),bt.resolve()}getNamedQuery(t,r){return bt.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Gre(a.bundledQuery),readTime:Ql(a.readTime)}}(r)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(){this.overlays=new oa(cr.comparator),this.Or=new Map}getOverlay(t,r){return bt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Cd();return bt.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),bt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),bt.resolve()}getOverlaysForCollection(t,r,n){const a=Cd(),i=r.length+1,s=new cr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return bt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new oa((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Cd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Cd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return bt.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Sre(r,n));let i=this.Or.get(r);i===void 0&&(i=Zr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(){this.sessionToken=Ei.EMPTY_BYTE_STRING}getSessionToken(t){return bt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Nr=new Wa(Qa.Br),this.Lr=new Wa(Qa.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Qa(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Qa(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new cr(new Hn([])),n=new Qa(r,t),a=new Qa(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new cr(new Hn([])),n=new Qa(r,t),a=new Qa(r,t+1);let i=Zr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Qa(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Qa{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return cr.comparator(t.key,r.key)||qr(t.Gr,r.Gr)}static kr(t,r){return qr(t.Gr,r.Gr)||cr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Wa(Qa.Br)}checkEmpty(t){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new _re(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Qa(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return bt.resolve(s)}lookupMutationBatch(t,r){return bt.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return bt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?wN:this.Jn-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Qa(r,0),a=new Qa(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),bt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Wa(qr);return r.forEach(a=>{const i=new Qa(a,0),s=new Qa(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),bt.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;cr.isDocumentKey(i)||(i=i.child(""));const s=new Qa(new cr(i),0);let o=new Wa(qr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),bt.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){xn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return bt.forEach(r.mutations,a=>{const i=new Qa(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Qa(r,0),a=this.zr.firstAfterOrEqual(n);return bt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,bt.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(t){this.Zr=t,this.docs=function(){return new oa(cr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return bt.resolve(n?n.document.mutableCopy():Ui.newInvalidDocument(r))}getEntries(t,r){let n=Gc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Ui.newInvalidDocument(a))}),bt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Gc();const s=r.path,o=new cr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Mte(Lte(u),n)<=0||(a.has(u.key)||e5(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return bt.resolve(i)}getAllFromCollectionGroup(t,r,n,a){yr(9500)}Xr(t,r){return bt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new cne(this)}getSize(t){return bt.resolve(this.size)}}class cne extends tne{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),bt.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(t){this.persistence=t,this.ei=new ph(r=>AN(r),TN),this.lastRemoteSnapshotVersion=kr.min(),this.highestTargetId=0,this.ti=0,this.ni=new PN,this.targetCount=0,this.ri=up.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),bt.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new up(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,bt.resolve()}updateTargetData(t,r){return this.ar(r),bt.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),bt.waitFor(i).next(()=>a)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return bt.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),bt.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),bt.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),bt.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return bt.resolve(n)}containsKey(t,r){return bt.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(t,r){this.ii={},this.overlays={},this.si=new Yw(0),this.oi=!1,this.oi=!0,this._i=new sne,this.referenceDelegate=t(this),this.ai=new une(this),this.indexManager=new Kre,this.remoteDocumentCache=function(a){return new lne(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Hre(r),this.ci=new ane(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new ine,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new one(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Xt("MemoryPersistence","Starting transaction:",t);const a=new fne(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return bt.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class fne extends Fte{constructor(t){super(),this.currentSequenceNumber=t}}class ON{constructor(t){this.persistence=t,this.Ti=new PN,this.Ii=null}static Ei(t){return new ON(t)}get di(){if(this.Ii)return this.Ii;throw yr(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),bt.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),bt.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),bt.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.di,n=>{const a=cr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,kr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return bt.or([()=>bt.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class nb{constructor(t,r){this.persistence=t,this.Ri=new ph(n=>Ute(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=ene(this,r)}static Ei(t,r){return new nb(t,r)}li(){}hi(t){return bt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return bt.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?bt.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,kr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=r2(t.data.value)),r}gr(t,r,n){return bt.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return bt.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Zr(),a=Zr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new IN(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return iee()?8:$te(nee())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new dne;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(n0()<=an.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",a0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),bt.resolve()):(n0()<=an.DEBUG&&Xt("QueryEngine","Query:",a0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(n0()<=an.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",a0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xl(r))):bt.resolve())}Rs(t,r){if(ZO(r))return bt.resolve(null);let n=Xl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=eb(r,null,"F"),n=Xl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Zr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,eb(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return ZO(r)||a.isEqual(kr.min())?bt.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?bt.resolve(null):(n0()<=an.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),a0(r)),this.ws(t,s,r,Dte(a,Ev)).next(o=>o))})}ps(t,r){let n=new Wa(eB(t));return r.forEach((a,i)=>{e5(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return n0()<=an.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",a0(r)),this.As.getDocumentsMatchingQuery(t,r,Pf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="LocalStore",pne=3e8;class mne{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new oa(qr),this.Ds=new ph(i=>AN(i),TN),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nne(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function gne(e,t,r,n){return new mne(e,t,r,n)}async function AB(e,t){const r=Nr(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Zr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function vne(e,t){const r=Nr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=bt.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);xn(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Zr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function TB(e){const t=Nr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function yne(e,t){const r=Nr(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(Ei.EMPTY_BYTE_STRING,kr.min()).withLastLimboFreeSnapshotVersion(kr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(f,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=pne?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=Gc(),c=Zr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(xne(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(kr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return bt.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function xne(e,t,r){let n=Zr(),a=Zr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Gc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(kr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Xt(jN,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function bne(e,t){const r=Nr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=wN),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function wne(e,t){const r=Nr(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,bt.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new tf(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function Y4(e,t,r){const n=Nr(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Yp(s))throw s;Xt(jN,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function dI(e,t,r){const n=Nr(e);let a=kr.min(),i=Zr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Nr(l),h=f.Ds.get(u);return h!==void 0?bt.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Xl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:kr.min(),r?i:Zr())).next(o=>(_ne(n,sre(t),o),{documents:o,Ns:i})))}function _ne(e,t,r){let n=e.vs.get(t)||kr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class hI{constructor(){this.activeTargetIds=dre()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Sne{constructor(){this.So=new hI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new hI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="ConnectivityMonitor";class mI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Xt(pI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Xt(pI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox=null;function X4(){return ox===null?ox=function(){return 268435456+Math.round(2147483648*Math.random())}():ox++,"0x"+ox.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="RestConnection",Tne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ene{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===Q2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=X4(),o=this.$o(t,r.toUriEncodedString());Xt(hS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=yN(c);return this.Ko(t,o,l,n,u).then(f=>(Xt(hS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw sp(hS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=Tne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="WebChannelConnection";class kne extends Ene{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=X4();return new Promise((o,l)=>{const c=new T9;c.setWithCredentials(!0),c.listenOnce(E9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case t2.NO_ERROR:const f=c.getResponseJson();Xt(Pi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case t2.TIMEOUT:Xt(Pi,`RPC '${t}' ${s} timed out`),l(new Ht(vt.DEADLINE_EXCEEDED,"Request time out"));break;case t2.HTTP_ERROR:const h=c.getStatus();if(Xt(Pi,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(b)>=0?b:vt.UNKNOWN}(g.status);l(new Ht(m,g.message))}else l(new Ht(vt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ht(vt.UNAVAILABLE,"Connection failed."));break;default:yr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Xt(Pi,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Xt(Pi,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=X4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=C9(),o=k9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Xt(Pi,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new Nne({Go:v=>{p?Xt(Pi,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Xt(Pi,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Xt(Pi,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,b)=>{v.listen(y,w=>{try{b(w)}catch(D){setTimeout(()=>{throw D},0)}})};return m(f,cg.EventType.OPEN,()=>{p||(Xt(Pi,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,cg.EventType.CLOSE,()=>{p||(p=!0,Xt(Pi,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,cg.EventType.ERROR,v=>{p||(p=!0,sp(Pi,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Ht(vt.UNAVAILABLE,"The operation could not be completed")))}),m(f,cg.EventType.MESSAGE,v=>{var y;if(!p){const b=v.data[0];xn(!!b,16349);const w=b,D=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(D){Xt(Pi,`RPC '${t}' stream ${a} received error:`,D);const P=D.status;let j=function(S){const I=Ca[S];if(I!==void 0)return fB(I)}(P),T=D.message;j===void 0&&(j=vt.INTERNAL,T="Unknown error status: "+P+" with message "+D.message),p=!0,g.r_(new Ht(j,T)),f.close()}else Xt(Pi,`RPC '${t}' stream ${a} received:`,b),g.i_(b)}}),m(o,N9.STAT_EVENT,v=>{v.stat===F4.PROXY?Xt(Pi,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===F4.NOPROXY&&Xt(Pi,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function pS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(e){return new Ire(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Xt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="PersistentStream";class NB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new EB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===vt.RESOURCE_EXHAUSTED?(Hc(r.toString()),Hc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Ht(vt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Xt(gI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Xt(gI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cne extends NB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Lre(this.serializer,t),n=function(i){if(!("targetChange"in i))return kr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?kr.min():s.readTime?Ql(s.readTime):kr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=K4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=z4(l)?{documents:Fre(i,l)}:{query:yB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=pB(i,s.resumeToken);const c=W4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(kr.min())>0){o.readTime=rb(i,s.snapshotVersion.toTimestamp());const c=W4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Ure(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=K4(this.serializer),r.removeTarget=t,this.F_(r)}}class Pne extends NB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return xn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,xn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){xn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=Rre(t.writeResults,t.commitTime),n=Ql(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=K4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Mre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{}class Ine extends One{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Ht(vt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,H4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ht(vt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,H4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ht(vt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class jne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Hc(r),this.ea=!1):Xt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="RemoteStore";class Dne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{mh(this)&&(Xt(th,"Restarting streams for network reachability change."),await async function(l){const c=Nr(l);c.aa.add(4),await U1(c),c.la.set("Unknown"),c.aa.delete(4),await s5(c)}(this))})}),this.la=new jne(n,a)}}async function s5(e){if(mh(e))for(const t of e.ua)await t(!0)}async function U1(e){for(const t of e.ua)await t(!1)}function kB(e,t){const r=Nr(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),RN(r)?MN(r):Qp(r).b_()&&LN(r,t))}function DN(e,t){const r=Nr(e),n=Qp(r);r._a.delete(t),n.b_()&&CB(r,t),r._a.size===0&&(n.b_()?n.v_():mh(r)&&r.la.set("Unknown"))}function LN(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Qp(e).U_(t)}function CB(e,t){e.ha.Ke(t),Qp(e).K_(t)}function MN(e){e.ha=new kre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Qp(e).start(),e.la.ta()}function RN(e){return mh(e)&&!Qp(e).w_()&&e._a.size>0}function mh(e){return Nr(e).aa.size===0}function PB(e){e.ha=void 0}async function Lne(e){e.la.set("Online")}async function Mne(e){e._a.forEach((t,r)=>{LN(e,t)})}async function Rne(e,t){PB(e),RN(e)?(e.la.ia(t),MN(e)):e.la.set("Unknown")}async function Fne(e,t,r){if(e.la.set("Online"),t instanceof hB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Xt(th,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ab(e,n)}else if(t instanceof i2?e.ha.Xe(t):t instanceof dB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(kr.min()))try{const n=await TB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Ei.EMPTY_BYTE_STRING,u.snapshotVersion)),CB(i,l);const f=new tf(u.target,l,c,u.sequenceNumber);LN(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Xt(th,"Failed to raise snapshot:",n),await ab(e,n)}}async function ab(e,t,r){if(!Yp(t))throw t;e.aa.add(1),await U1(e),e.la.set("Offline"),r||(r=()=>TB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Xt(th,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await s5(e)})}function OB(e,t){return t().catch(r=>ab(e,r,t))}async function o5(e){const t=Nr(e),r=Df(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:wN;for(;$ne(t);)try{const a=await bne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Bne(t,a)}catch(a){await ab(t,a)}IB(t)&&jB(t)}function $ne(e){return mh(e)&&e.oa.length<10}function Bne(e,t){e.oa.push(t);const r=Df(e);r.b_()&&r.W_&&r.G_(t.mutations)}function IB(e){return mh(e)&&!Df(e).w_()&&e.oa.length>0}function jB(e){Df(e).start()}async function Une(e){Df(e).H_()}async function Vne(e){const t=Df(e);for(const r of e.oa)t.G_(r.mutations)}async function zne(e,t,r){const n=e.oa.shift(),a=NN.from(n,t,r);await OB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await o5(e)}async function qne(e,t){t&&Df(e).W_&&await async function(n,a){if(function(s){return Ere(s)&&s!==vt.ABORTED}(a.code)){const i=n.oa.shift();Df(n).D_(),await OB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await o5(n)}}(e,t),IB(e)&&jB(e)}async function vI(e,t){const r=Nr(e);r.asyncQueue.verifyOperationInProgress(),Xt(th,"RemoteStore received new credentials");const n=mh(r);r.aa.add(3),await U1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await s5(r)}async function Wne(e,t){const r=Nr(e);t?(r.aa.delete(2),await s5(r)):t||(r.aa.add(2),await U1(r),r.la.set("Unknown"))}function Qp(e){return e.Pa||(e.Pa=function(r,n,a){const i=Nr(r);return i.Y_(),new Cne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:Lne.bind(null,e),Jo:Mne.bind(null,e),Zo:Rne.bind(null,e),Q_:Fne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),RN(e)?MN(e):e.la.set("Unknown")):(await e.Pa.stop(),PB(e))})),e.Pa}function Df(e){return e.Ta||(e.Ta=function(r,n,a){const i=Nr(r);return i.Y_(),new Pne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Une.bind(null,e),Zo:qne.bind(null,e),z_:Vne.bind(null,e),j_:zne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await o5(e)):(await e.Ta.stop(),e.oa.length>0&&(Xt(th,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new FN(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(vt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $N(e,t){if(Hc("AsyncQueue",`${t}: ${e}`),Yp(e))return new Ht(vt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static emptySet(t){return new F0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||cr.comparator(r.key,n.key):(r,n)=>cr.comparator(r.key,n.key),this.keyedMap=ug(),this.sortedSet=new oa(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof F0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new F0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Ia=new oa(cr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):yr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class fp{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new fp(t,r,F0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Gne{constructor(){this.queries=xI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Nr(r),i=a.queries;a.queries=xI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Ht(vt.ABORTED,"Firestore shutting down"))}}function xI(){return new ph(e=>Z9(e),Zw)}async function BN(e,t){const r=Nr(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Hne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=$N(s,`Initialization of query '${a0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&VN(r)}async function UN(e,t){const r=Nr(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Kne(e,t){const r=Nr(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&VN(r)}function Yne(e,t,r){const n=Nr(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function VN(e){e.fa.forEach(t=>{t.next()})}var Q4,bI;(bI=Q4||(Q4={})).ya="default",bI.Cache="cache";class zN{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new fp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=fp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Q4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(t){this.key=t}}class LB{constructor(t){this.key=t}}class Xne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Zr(),this.mutatedKeys=Zr(),this.Ua=eB(t),this.Ka=new F0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new yI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),p=e5(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yr(20277,{Vt:v})}};return m(p)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new fp(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Zr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new LB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new DB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Zr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return fp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const qN="SyncEngine";class Qne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Jne{constructor(t){this.key=t,this.tu=!1}}class Zne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new ph(o=>Z9(o),Zw),this.iu=new Map,this.su=new Set,this.ou=new oa(cr.comparator),this._u=new Map,this.au=new PN,this.uu={},this.cu=new Map,this.lu=up.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function eae(e,t,r=!0){const n=UB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await MB(n,t,r,!0),a}async function tae(e,t){const r=UB(e);await MB(r,t,!0,!1)}async function MB(e,t,r,n){const a=await wne(e.localStore,Xl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await rae(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&kB(e.remoteStore,a),o}async function rae(e,t,r,n,a){e.Pu=(f,h,p)=>async function(m,v,y,b){let w=v.view.Ga(y);w.ys&&(w=await dI(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,w)));const D=b&&b.targetChanges.get(v.targetId),P=b&&b.targetMismatches.get(v.targetId)!=null,j=v.view.applyChanges(w,m.isPrimaryClient,D,P);return _I(m,v.targetId,j.Ya),j.snapshot}(e,f,h,p);const i=await dI(e.localStore,t,!0),s=new Xne(t,i.Ns),o=s.Ga(i.documents),l=B1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);_I(e,r,c.Ya);const u=new Qne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function nae(e,t,r){const n=Nr(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Zw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Y4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&DN(n.remoteStore,a.targetId),J4(n,a.targetId)}).catch(Kp)):(J4(n,a.targetId),await Y4(n.localStore,a.targetId,!0))}async function aae(e,t){const r=Nr(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),DN(r.remoteStore,n.targetId))}async function iae(e,t,r){const n=dae(e);try{const a=await function(s,o){const l=Nr(s),c=ar.now(),u=o.reduce((p,g)=>p.add(g.key),Zr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Gc(),m=Zr();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const y=[];for(const b of o){const w=bre(b,f.get(b.key).overlayedDocument);w!=null&&y.push(new Wf(b.key,w,q9(w.value.mapValue),ms.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:rB(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new oa(qr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await V1(n,a.changes),await o5(n.remoteStore)}catch(a){const i=$N(a,"Failed to persist write");r.reject(i)}}async function RB(e,t){const r=Nr(e);try{const n=await yne(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(xn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?xn(s.tu,14607):a.removedDocuments.size>0&&(xn(s.tu,42227),s.tu=!1))}),await V1(r,n,t)}catch(n){await Kp(n)}}function wI(e,t,r){const n=Nr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Nr(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&VN(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function sae(e,t,r){const n=Nr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new oa(cr.comparator);s=s.insert(i,Ui.newNoDocument(i,kr.min()));const o=Zr().add(i),l=new a5(kr.min(),new Map,new oa(qr),s,o);await RB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),WN(n)}else await Y4(n.localStore,t,!1).then(()=>J4(n,t,r)).catch(Kp)}async function oae(e,t){const r=Nr(e),n=t.batch.batchId;try{const a=await vne(r.localStore,t);$B(r,n,null),FB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await V1(r,a)}catch(a){await Kp(a)}}async function lae(e,t,r){const n=Nr(e);try{const a=await function(s,o){const l=Nr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(xn(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);$B(n,t,r),FB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await V1(n,a)}catch(a){await Kp(a)}}function FB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function $B(e,t,r){const n=Nr(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function J4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||BB(e,n)})}function BB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(DN(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),WN(e))}function _I(e,t,r){for(const n of r)n instanceof DB?(e.au.addReference(n.key,t),cae(e,n)):n instanceof LB?(Xt(qN,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||BB(e,n.key)):yr(19791,{Iu:n})}function cae(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Xt(qN,"New document in limbo: "+r),e.su.add(n),WN(e))}function WN(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new cr(Hn.fromString(t)),n=e.lu.next();e._u.set(n,new Jne(r)),e.ou=e.ou.insert(r,n),kB(e.remoteStore,new tf(Xl(Jw(r.path)),n,"TargetPurposeLimboResolution",Yw.le))}}async function V1(e,t,r){const n=Nr(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=IN.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Nr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>bt.forEach(c,h=>bt.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>bt.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Yp(f))throw f;Xt(jN,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function uae(e,t){const r=Nr(e);if(!r.currentUser.isEqual(t)){Xt(qN,"User change. New user:",t.toKey());const n=await AB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Ht(vt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await V1(r,n.Ms)}}function fae(e,t){const r=Nr(e),n=r._u.get(t);if(n&&n.tu)return Zr().add(n.key);{let a=Zr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function UB(e){const t=Nr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=RB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sae.bind(null,t),t.nu.Q_=Kne.bind(null,t.eventManager),t.nu.Tu=Yne.bind(null,t.eventManager),t}function dae(e){const t=Nr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oae.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lae.bind(null,t),t}class ib{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=i5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return gne(this.persistence,new hne,t.initialUser,this.serializer)}Ru(t){return new SB(ON.Ei,this.serializer)}Au(t){return new Sne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ib.provider={build:()=>new ib};class hae extends ib{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){xn(this.persistence.referenceDelegate instanceof nb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Jre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new SB(n=>nb.Ei(n,r),this.serializer)}}class Z4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=uae.bind(null,this.syncEngine),await Wne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Gne}()}createDatastore(t){const r=i5(t.databaseInfo.databaseId),n=function(i){return new kne(i)}(t.databaseInfo);return function(i,s,o,l){return new Ine(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new Dne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>wI(this.syncEngine,r,0),function(){return mI.C()?new mI:new Ane}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new Zne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Nr(a);Xt(th,"RemoteStore shutting down."),i.aa.add(5),await U1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Z4.provider={build:()=>new Z4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Hc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="FirestoreClient";class pae{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Fi.UNAUTHENTICATED,this.clientId=j9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Xt(Lf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Xt(Lf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=$N(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function mS(e,t){e.asyncQueue.verifyOperationInProgress(),Xt(Lf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await AB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function SI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await mae(e);Xt(Lf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>vI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>vI(t.remoteStore,a)),e._onlineComponents=t}async function mae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xt(Lf,"Using user provided OfflineComponentProvider");try{await mS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===vt.FAILED_PRECONDITION||a.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;sp("Error using user provided cache. Falling back to memory cache: "+r),await mS(e,new ib)}}else Xt(Lf,"Using default OfflineComponentProvider"),await mS(e,new hae(void 0));return e._offlineComponents}async function GN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xt(Lf,"Using user provided OnlineComponentProvider"),await SI(e,e._uninitializedComponentsProvider._online)):(Xt(Lf,"Using default OnlineComponentProvider"),await SI(e,new Z4))),e._onlineComponents}function gae(e){return GN(e).then(t=>t.syncEngine)}function vae(e){return GN(e).then(t=>t.datastore)}async function sb(e){const t=await GN(e),r=t.eventManager;return r.onListen=eae.bind(null,t.syncEngine),r.onUnlisten=nae.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=tae.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=aae.bind(null,t.syncEngine),r}function yae(e,t,r={}){const n=new Yl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new HN({next:h=>{u.yu(),s.enqueueAndForget(()=>UN(i,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Ht(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Ht(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new zN(Jw(o.path),u,{includeMetadataChanges:!0,Fa:!0});return BN(i,f)}(await sb(e),e.asyncQueue,t,r,n)),n.promise}function xae(e,t,r={}){const n=new Yl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new HN({next:h=>{u.yu(),s.enqueueAndForget(()=>UN(i,f)),h.fromCache&&l.source==="server"?c.reject(new Ht(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new zN(o,u,{includeMetadataChanges:!0,Fa:!0});return BN(i,f)}(await sb(e),e.asyncQueue,t,r,n)),n.promise}function bae(e,t,r){const n=new Yl;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await vae(e);n.resolve(async function(s,o,l){var c;const u=Nr(s),{request:f,yt:h,parent:p}=$re(u.serializer,ire(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,f,1)).filter(v=>!!v.result);xn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(e,t,r){if(!r)throw new Ht(vt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function wae(e,t,r,n){if(t===!0&&n===!0)throw new Ht(vt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function TI(e){if(!cr.isDocumentKey(e))throw new Ht(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function EI(e){if(cr.isDocumentKey(e))throw new Ht(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function l5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":yr(12329,{type:typeof e})}function Gi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ht(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=l5(e);throw new Ht(vt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function _ae(e,t){if(t<=0)throw new Ht(vt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="firestore.googleapis.com",NI=!0;class kI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ht(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qB,this.ssl=NI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:NI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_B;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Xre)throw new Ht(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ht(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ht(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ht(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class c5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ht(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Tte;switch(n.type){case"firstParty":return new Cte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ht(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,g9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=AI.get(r);n&&(Xt("ComponentProvider","Removing Datastore"),AI.delete(r),n.terminate())}(this),Promise.resolve()}}function Sae(e,t,r,n={}){var a;e=Gi(e,c5);const i=yN(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==qB&&s.host!==l&&sp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!G2(c,o)&&(e._setSettings(c),i&&(ZZ(`https://${l}`),g9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Fi.MOCK_USER;else{u=eee(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ht(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fi(h)}e._authCredentials=new Ete(new O9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new su(this.firestore,t,this._query)}}class Ki{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ki(this.firestore,t,this._key)}}class wf extends su{constructor(t,r,n){super(t,r,Jw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ki(this.firestore,null,new cr(t))}withConverter(t){return new wf(this.firestore,t,this._path)}}function gt(e,t,...r){if(e=Ro(e),zB("collection","path",t),e instanceof c5){const n=Hn.fromString(t,...r);return EI(n),new wf(e,null,n)}{if(!(e instanceof Ki||e instanceof wf))throw new Ht(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hn.fromString(t,...r));return EI(n),new wf(e.firestore,null,n)}}function Ar(e,t,...r){if(e=Ro(e),arguments.length===1&&(t=j9.newId()),zB("doc","path",t),e instanceof c5){const n=Hn.fromString(t,...r);return TI(n),new Ki(e,null,new cr(n))}{if(!(e instanceof Ki||e instanceof wf))throw new Ht(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hn.fromString(t,...r));return TI(n),new Ki(e.firestore,e instanceof wf?e.converter:null,new cr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="AsyncQueue";class PI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new EB(this,"async_queue_retry"),this.ju=()=>{const n=pS();n&&Xt(CI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=pS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=pS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Yl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Yp(t))throw t;Xt(CI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Hc("INTERNAL UNHANDLED ERROR: ",OI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=FN.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&yr(47125,{ec:OI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function OI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Tl extends c5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new PI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new PI(t),this._firestoreClient=void 0,await t}}}function Aae(e,t){const r=typeof e=="object"?e:dte(),n=typeof e=="string"?e:Q2,a=ote(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=QZ("firestore");i&&Sae(a,...i)}return a}function Jp(e){if(e._terminated)throw new Ht(vt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Tae(e),e._firestoreClient}function Tae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Wte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,VB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new pae(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class Nae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new dp(Ei.fromBase64String(t))}catch(r){throw new Ht(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new dp(Ei.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Ht(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Ht(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Ht(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return qr(this._lat,t._lat)||qr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae=/^__.*__$/;class Cae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Wf(t,this.data,this.fieldMask,r,this.fieldTransforms):new $1(t,this.data,r,this.fieldTransforms)}}class WB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Wf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function HB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yr(40011,{oc:e})}}class XN{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new XN(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return ob(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(HB(this.oc)&&kae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class Pae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||i5(t)}dc(t,r,n,a=!1){return new XN({oc:t,methodName:r,Ec:n,path:xi.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q1(e){const t=e._freezeSettings(),r=i5(e._databaseId);return new Pae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function QN(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);ZN("Data must be an object, but it was:",s,n);const o=YB(n,s);let l,c;if(i.merge)l=new to(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=eT(t,f,r);if(!s.contains(h))throw new Ht(vt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QB(u,h)||u.push(h)}l=new to(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new Cae(new Cs(o),l,c)}class W1 extends u5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof W1}}class JN extends u5{_toFieldTransform(t){return new gre(t.path,new Ov)}isEqual(t){return t instanceof JN}}function GB(e,t,r,n){const a=e.dc(1,t,r);ZN("Data must be an object, but it was:",a,n);const i=[],s=Cs.empty();qf(n,(l,c)=>{const u=ek(t,l,r);c=Ro(c);const f=a.hc(u);if(c instanceof W1)i.push(u);else{const h=H1(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new to(i);return new WB(s,o,a.fieldTransforms)}function KB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[eT(t,n,r)],l=[a];if(i.length%2!=0)throw new Ht(vt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(eT(t,i[h])),l.push(i[h+1]);const c=[],u=Cs.empty();for(let h=o.length-1;h>=0;--h)if(!QB(c,o[h])){const p=o[h];let g=l[h];g=Ro(g);const m=s.hc(p);if(g instanceof W1)c.push(p);else{const v=H1(g,m);v!=null&&(c.push(p),u.set(p,v))}}const f=new to(c);return new WB(u,f,s.fieldTransforms)}function Oae(e,t,r,n=!1){return H1(r,e.dc(n?4:3,t))}function H1(e,t){if(XB(e=Ro(e)))return ZN("Unsupported field value:",t,e),YB(e,t);if(e instanceof u5)return function(n,a){if(!HB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=H1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Ro(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hre(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ar.fromDate(n);return{timestampValue:rb(a.serializer,i)}}if(n instanceof ar){const i=new ar(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rb(a.serializer,i)}}if(n instanceof KN)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof dp)return{bytesValue:pB(a.serializer,n._byteString)};if(n instanceof Ki){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:CN(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof YN)return function(s,o){return{mapValue:{fields:{[U9]:{stringValue:z9},[J2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return EN(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${l5(n)}`)}(e,t)}function YB(e,t){const r={};return L9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qf(e,(n,a)=>{const i=H1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function XB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ar||e instanceof KN||e instanceof dp||e instanceof Ki||e instanceof u5||e instanceof YN)}function ZN(e,t,r){if(!XB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=l5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function eT(e,t,r){if((t=Ro(t))instanceof z1)return t._internalPath;if(typeof t=="string")return ek(e,t);throw ob("Field path arguments must be of type string or ",e,!1,void 0,r)}const Iae=new RegExp("[~\\*/\\[\\]]");function ek(e,t,r){if(t.search(Iae)>=0)throw ob(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new z1(...t.split("."))._internalPath}catch{throw ob(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function ob(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Ht(vt.INVALID_ARGUMENT,o+e+l)}function QB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(f5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class jae extends JB{data(){return super.data()}}function f5(e,t){return typeof t=="string"?ek(e,t):t instanceof z1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ht(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tk{}class rk extends tk{}function or(e,t,...r){let n=[];t instanceof tk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof nk).length,o=i.filter(l=>l instanceof d5).length;if(s>1||s>0&&o>0)throw new Ht(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class d5 extends rk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new d5(t,r,n)}_apply(t){const r=this._parse(t);return eU(t._query,r),new su(t.firestore,t.converter,q4(t._query,r))}_parse(t){const r=q1(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ht(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){DI(f,u);const g=[];for(const m of f)g.push(jI(l,i,m));h={arrayValue:{values:g}}}else h=jI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||DI(f,u),h=Oae(o,s,f,u==="in"||u==="not-in");return Da.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function sr(e,t,r){const n=t,a=f5("where",e);return d5._create(a,n,r)}class nk extends tk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new nk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Al.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)eU(s,l),s=q4(s,l)}(t._query,r),new su(t.firestore,t.converter,q4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ak extends rk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new ak(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Ht(vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ht(vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pv(i,s)}(t._query,this._field,this._direction);return new su(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new Xp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function La(e,t="asc"){const r=t,n=f5("orderBy",e);return ak._create(n,r)}class ik extends rk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new ik(t,r,n)}_apply(t){return new su(t.firestore,t.converter,eb(t._query,this._limit,this._limitType))}}function dg(e){return _ae("limit",e),ik._create("limit",e,"F")}function jI(e,t,r){if(typeof(r=Ro(r))=="string"){if(r==="")throw new Ht(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q9(t)&&r.indexOf("/")!==-1)throw new Ht(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Hn.fromString(r));if(!cr.isDocumentKey(n))throw new Ht(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return GO(e,new cr(n))}if(r instanceof Ki)return GO(e,r._key);throw new Ht(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l5(r)}.`)}function DI(e,t){if(!Array.isArray(e)||e.length===0)throw new Ht(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eU(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Ht(vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ht(vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Dae{convertValue(t,r="none"){switch(jf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(If(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw yr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return qf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[J2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>xa(s.doubleValue));return new YN(i)}convertGeoPoint(t){return new KN(xa(t.latitude),xa(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Qw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Nv(t));default:return null}}convertTimestamp(t){const r=Of(t);return new ar(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Hn.fromString(t);xn(wB(n),9688,{name:t});const a=new kv(n.get(1),n.get(3)),i=new cr(n.popFirst(5));return a.isEqual(r)||Hc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function Lae(){return new Eae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tU extends JB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new s2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(f5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class s2 extends tU{data(t={}){return super.data(t)}}class rU{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new hg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new s2(this._firestore,this._userDataWriter,n.key,n,new hg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ht(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new s2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new hg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new s2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new hg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Mae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Mae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(e){e=Gi(e,Ki);const t=Gi(e.firestore,Tl);return yae(Jp(t),e._key).then(r=>nU(t,e,r))}class h5 extends Dae{constructor(t){super(),this.firestore=t}convertBytes(t){return new dp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,r)}}function lr(e){e=Gi(e,su);const t=Gi(e.firestore,Tl),r=Jp(t),n=new h5(t);return ZB(e._query),xae(r,e._query).then(a=>new rU(t,n,e,a))}function lx(e,t,r){e=Gi(e,Ki);const n=Gi(e.firestore,Tl),a=sk(e.converter,t,r);return G1(n,[QN(q1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,ms.none())])}function $n(e,t,r,...n){e=Gi(e,Ki);const a=Gi(e.firestore,Tl),i=q1(a);let s;return s=typeof(t=Ro(t))=="string"||t instanceof z1?KB(i,"updateDoc",e._key,t,r,n):GB(i,"updateDoc",e._key,t),G1(a,[s.toMutation(e._key,ms.exists(!0))])}function Os(e){return G1(Gi(e.firestore,Tl),[new n5(e._key,ms.none())])}function pr(e,t){const r=Gi(e.firestore,Tl),n=Ar(e),a=sk(e.converter,t);return G1(r,[QN(q1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,ms.exists(!1))]).then(()=>n)}function Rae(e,...t){var r,n,a;e=Ro(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||II(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(II(t[s])){const f=t[s];t[s]=(r=f.next)===null||r===void 0?void 0:r.bind(f),t[s+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[s+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let l,c,u;if(e instanceof Ki)c=Gi(e.firestore,Tl),u=Jw(e._key.path),l={next:f=>{t[s]&&t[s](nU(c,e,f))},error:t[s+1],complete:t[s+2]};else{const f=Gi(e,su);c=Gi(f.firestore,Tl),u=f._query;const h=new h5(c);l={next:p=>{t[s]&&t[s](new rU(c,h,f,p))},error:t[s+1],complete:t[s+2]},ZB(e._query)}return function(h,p,g,m){const v=new HN(m),y=new zN(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>BN(await sb(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>UN(await sb(h),y))}}(Jp(c),u,o,l)}function G1(e,t){return function(n,a){const i=new Yl;return n.asyncQueue.enqueueAndForget(async()=>iae(await gae(n),a,i)),i.promise}(Jp(e),t)}function nU(e,t,r){const n=r.docs.get(t._key),a=new h5(e);return new tU(e,a,t._key,n,new hg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){return Fae(e,{count:Lae()})}function Fae(e,t){const r=Gi(e.firestore,Tl),n=Jp(r),a=zte(t,(i,s)=>new Are(s,i.aggregateType,i._internalFieldPath));return bae(n,e._query,a).then(i=>function(o,l,c){const u=new h5(o);return new Nae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=q1(t)}set(t,r,n){this._verifyNotCommitted();const a=gS(t,this._firestore),i=sk(a.converter,r,n),s=QN(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,ms.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=gS(t,this._firestore);let s;return s=typeof(r=Ro(r))=="string"||r instanceof z1?KB(this._dataReader,"WriteBatch.update",i._key,r,n,a):GB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,ms.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=gS(t,this._firestore);return this._mutations=this._mutations.concat(new n5(r._key,ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gS(e,t){if((e=Ro(e)).firestore!==t)throw new Ht(vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return new W1("deleteField")}function rf(){return new JN("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bae(e){return Jp(e=Gi(e,Tl)),new $ae(e,t=>G1(e,t))}(function(t,r=!0){(function(a){Gp=a})(fte),Y2(new Av("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Tl(new Nte(n.getProvider("auth-internal")),new Pte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ht(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),R0(LO,MO,t),R0(LO,MO,"esm2017")})();const Uae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Vae=w9(Uae),Xe=Aae(Vae),aU=B.createContext(void 0),Ta=()=>{const e=B.useContext(aU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},zae=({children:e})=>{const[t,r]=B.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=B.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await lr(gt(Xe,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const p={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await pr(gt(Xe,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),pr(gt(Xe,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return d.jsx(aU.Provider,{value:o,children:e})},iU=B.createContext(void 0),qae=({children:e})=>{const[t,r]=B.useState(!0),n=()=>{r(!t)};return d.jsx(iU.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},cn=()=>{const e=B.useContext(iU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},lk=B.createContext({});function K1(e){const t=B.useRef(null);return t.current===null&&(t.current=e()),t.current}const ck=typeof window<"u",uk=ck?B.useLayoutEffect:B.useEffect,p5=B.createContext(null);function fk(e,t){e.indexOf(t)===-1&&e.push(t)}function m5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Kc=(e,t,r)=>r>t?t:r<e?e:r;let lb=()=>{};const Yc={},sU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function oU(e){return typeof e=="object"&&e!==null}const lU=e=>/^0[^.\s]+$/u.test(e);function dk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Io=e=>e,Wae=(e,t)=>r=>t(e(r)),Y1=(...e)=>e.reduce(Wae),hp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class hk{constructor(){this.subscriptions=[]}add(t){return fk(this.subscriptions,t),()=>m5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xl=e=>e*1e3,Jl=e=>e/1e3;function cU(e,t){return t?e*(1e3/t):0}const Hae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},uU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Gae=1e-7,Kae=12;function Yae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=uU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Gae&&++o<Kae);return s}function X1(e,t,r,n){if(e===t&&r===n)return Io;const a=i=>Yae(i,0,1,e,r);return i=>i===0||i===1?i:uU(a(i),t,n)}const fU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dU=e=>t=>1-e(1-t),hU=X1(.33,1.53,.69,.99),pk=dU(hU),pU=fU(pk),mU=e=>(e*=2)<1?.5*pk(e):.5*(2-Math.pow(2,-10*(e-1))),mk=e=>1-Math.sin(Math.acos(e)),gU=dU(mk),vU=fU(mk),Xae=X1(.42,0,1,1),Qae=X1(0,0,.58,1),yU=X1(.42,0,.58,1),xU=e=>Array.isArray(e)&&typeof e[0]!="number";function bU(e,t){return xU(e)?e[Hae(0,e.length,t)]:e}const wU=e=>Array.isArray(e)&&typeof e[0]=="number",MI={linear:Io,easeIn:Xae,easeInOut:yU,easeOut:Qae,circIn:mk,circInOut:vU,circOut:gU,backIn:pk,backInOut:pU,backOut:hU,anticipate:mU},Jae=e=>typeof e=="string",RI=e=>{if(wU(e)){lb(e.length===4);const[t,r,n,a]=e;return X1(t,r,n,a)}else if(Jae(e))return lb(MI[e]!==void 0),MI[e];return e},cx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],FI={value:null,addProjectionMetrics:null};function Zae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&FI.value&&FI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const eie=40;function _U(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=cx.reduce((w,D)=>(w[D]=Zae(i,t?D:void 0),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:g}=s,m=()=>{const w=Yc.useManualTiming?a.timestamp:performance.now();r=!1,Yc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,eie),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:cx.reduce((w,D)=>{const P=s[D];return w[D]=(j,T=!1,_=!1)=>(r||v(),P.schedule(j,T,_)),w},{}),cancel:w=>{for(let D=0;D<cx.length;D++)s[cx[D]].cancel(w)},state:a,steps:s}}const{schedule:Zn,cancel:Xc,state:pi,steps:vS}=_U(typeof requestAnimationFrame<"u"?requestAnimationFrame:Io,!0);let o2;function tie(){o2=void 0}const Is={now:()=>(o2===void 0&&Is.set(pi.isProcessing||Yc.useManualTiming?pi.timestamp:performance.now()),o2),set:e=>{o2=e,queueMicrotask(tie)}},SU=e=>t=>typeof t=="string"&&t.startsWith(e),gk=SU("--"),rie=SU("var(--"),vk=e=>rie(e)?nie.test(e.split("/*")[0].trim()):!1,nie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Dv={...Zp,transform:e=>Kc(0,1,e)},ux={...Zp,default:1},Dg=e=>Math.round(e*1e5)/1e5,yk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aie(e){return e==null}const iie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xk=(e,t)=>r=>!!(typeof r=="string"&&iie.test(r)&&r.startsWith(e)||t&&!aie(r)&&Object.prototype.hasOwnProperty.call(r,t)),AU=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(yk);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},sie=e=>Kc(0,255,e),yS={...Zp,transform:e=>Math.round(sie(e))},Pd={test:xk("rgb","red"),parse:AU("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+yS.transform(e)+", "+yS.transform(t)+", "+yS.transform(r)+", "+Dg(Dv.transform(n))+")"};function oie(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const tT={test:xk("#"),parse:oie,transform:Pd.transform},Q1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Uu=Q1("deg"),Zl=Q1("%"),Sr=Q1("px"),lie=Q1("vh"),cie=Q1("vw"),$I={...Zl,parse:e=>Zl.parse(e)/100,transform:e=>Zl.transform(e*100)},w0={test:xk("hsl","hue"),parse:AU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Zl.transform(Dg(t))+", "+Zl.transform(Dg(r))+", "+Dg(Dv.transform(n))+")"},Mi={test:e=>Pd.test(e)||tT.test(e)||w0.test(e),parse:e=>Pd.test(e)?Pd.parse(e):w0.test(e)?w0.parse(e):tT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pd.transform(e):w0.transform(e)},uie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fie(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yk))==null?void 0:t.length)||0)+(((r=e.match(uie))==null?void 0:r.length)||0)>0}const TU="number",EU="color",die="var",hie="var(",BI="${}",pie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(pie,l=>(Mi.test(l)?(n.color.push(i),a.push(EU),r.push(Mi.parse(l))):l.startsWith(hie)?(n.var.push(i),a.push(die),r.push(l)):(n.number.push(i),a.push(TU),r.push(parseFloat(l))),++i,BI)).split(BI);return{values:r,split:o,indexes:n,types:a}}function NU(e){return Lv(e).values}function kU(e){const{split:t,types:r}=Lv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===TU?i+=Dg(a[s]):o===EU?i+=Mi.transform(a[s]):i+=a[s]}return i}}const mie=e=>typeof e=="number"?0:e;function gie(e){const t=NU(e);return kU(e)(t.map(mie))}const Mf={test:fie,parse:NU,createTransformer:kU,getAnimatableNone:gie};function xS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function vie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=xS(l,o,e+1/3),i=xS(l,o,e),s=xS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function cb(e,t){return r=>r>0?t:e}const Qn=(e,t,r)=>e+(t-e)*r,bS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},yie=[tT,Pd,w0],xie=e=>yie.find(t=>t.test(e));function UI(e){const t=xie(e);if(!t)return!1;let r=t.parse(e);return t===w0&&(r=vie(r)),r}const VI=(e,t)=>{const r=UI(e),n=UI(t);if(!r||!n)return cb(e,t);const a={...r};return i=>(a.red=bS(r.red,n.red,i),a.green=bS(r.green,n.green,i),a.blue=bS(r.blue,n.blue,i),a.alpha=Qn(r.alpha,n.alpha,i),Pd.transform(a))},rT=new Set(["none","hidden"]);function bie(e,t){return rT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function wie(e,t){return r=>Qn(e,t,r)}function bk(e){return typeof e=="number"?wie:typeof e=="string"?vk(e)?cb:Mi.test(e)?VI:Aie:Array.isArray(e)?CU:typeof e=="object"?Mi.test(e)?VI:_ie:cb}function CU(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>bk(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function _ie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=bk(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Sie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const Aie=(e,t)=>{const r=Mf.createTransformer(t),n=Lv(e),a=Lv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?rT.has(e)&&!a.values.length||rT.has(t)&&!n.values.length?bie(e,t):Y1(CU(Sie(n,a),a.values),r):cb(e,t)};function PU(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Qn(e,t,r):bk(e)(e,t)}const Tie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Zn.update(t,r),stop:()=>Xc(t),now:()=>pi.isProcessing?pi.timestamp:Is.now()}},OU=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},ub=2e4;function wk(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ub;)t+=r,n=e.next(t);return t>=ub?1/0:t}function IU(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(wk(n),ub);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Jl(a)}}const Eie=5;function jU(e,t,r){const n=Math.max(t-Eie,0);return cU(r-e(n),t-n)}const fa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wS=.001;function Nie({duration:e=fa.duration,bounce:t=fa.bounce,velocity:r=fa.velocity,mass:n=fa.mass}){let a,i,s=1-t;s=Kc(fa.minDamping,fa.maxDamping,s),e=Kc(fa.minDuration,fa.maxDuration,Jl(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,p=nT(c,s),g=Math.exp(-f);return wS-h/p*g},i=c=>{const f=c*s*e,h=f*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=nT(Math.pow(c,2),s);return(-a(c)+wS>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-wS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=Cie(a,i,o);if(e=xl(e),isNaN(l))return{stiffness:fa.stiffness,damping:fa.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const kie=12;function Cie(e,t,r){let n=r;for(let a=1;a<kie;a++)n=n-e(n)/t(n);return n}function nT(e,t){return e*Math.sqrt(1-t*t)}const Pie=["duration","bounce"],Oie=["stiffness","damping","mass"];function zI(e,t){return t.some(r=>e[r]!==void 0)}function Iie(e){let t={velocity:fa.velocity,stiffness:fa.stiffness,damping:fa.damping,mass:fa.mass,isResolvedFromDuration:!1,...e};if(!zI(e,Oie)&&zI(e,Pie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Kc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:fa.mass,stiffness:a,damping:i}}else{const r=Nie(e);t={...t,...r,mass:fa.mass},t.isResolvedFromDuration=!0}return t}function Mv(e=fa.visualDuration,t=fa.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Iie({...r,velocity:-Jl(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=Jl(Math.sqrt(l/u)),b=Math.abs(v)<5;n||(n=b?fa.restSpeed.granular:fa.restSpeed.default),a||(a=b?fa.restDelta.granular:fa.restDelta.default);let w;if(m<1){const P=nT(y,m);w=j=>{const T=Math.exp(-m*y*j);return s-T*((g+m*y*v)/P*Math.sin(P*j)+v*Math.cos(P*j))}}else if(m===1)w=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);w=j=>{const T=Math.exp(-m*y*j),_=Math.min(P*j,300);return s-T*((g+m*y*v)*Math.sinh(_)+P*v*Math.cosh(_))/P}}const D={calculatedDuration:p&&f||null,next:P=>{const j=w(P);if(p)o.done=P>=f;else{let T=P===0?g:0;m<1&&(T=P===0?xl(g):jU(w,P,j));const _=Math.abs(T)<=n,S=Math.abs(s-j)<=a;o.done=_&&S}return o.value=o.done?s:j,o},toString:()=>{const P=Math.min(wk(D),ub),j=OU(T=>D.next(P*T).value,P,30);return P+"ms "+j},toTransition:()=>{}};return D}Mv.applyToOptions=e=>{const t=IU(e,100,Mv);return e.ease=t.ease,e.duration=xl(t.duration),e.type="keyframes",e};function aT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=_=>o!==void 0&&_<o||l!==void 0&&_>l,g=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const b=_=>-m*Math.exp(-_/n),w=_=>y+b(_),D=_=>{const S=b(_),I=w(_);h.done=Math.abs(S)<=c,h.value=h.done?y:I};let P,j;const T=_=>{p(h.value)&&(P=_,j=Mv({keyframes:[h.value,g(h.value)],velocity:jU(w,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:_=>{let S=!1;return!j&&P===void 0&&(S=!0,D(_),T(_)),P!==void 0&&_>=P?j.next(_-P):(!S&&D(_),h)}}}function jie(e,t,r){const n=[],a=r||Yc.mix||PU,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Io:t;o=Y1(l,o)}n.push(o)}return n}function DU(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(lb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=jie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=hp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Kc(e[0],e[i-1],u)):c}function LU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=hp(0,t,n);e.push(Qn(r,1,a))}}function MU(e){const t=[0];return LU(t,e.length-1),t}function Die(e,t){return e.map(r=>r*t)}function Lie(e,t){return e.map(()=>t||yU).splice(0,e.length-1)}function Lg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=xU(n)?n.map(RI):RI(n),i={done:!1,value:t[0]},s=Die(r&&r.length===t.length?r:MU(t),e),o=DU(s,t,{ease:Array.isArray(a)?a:Lie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Mie=e=>e!==null;function _k(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Mie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Rie={decay:aT,inertia:aT,tween:Lg,keyframes:Lg,spring:Mv};function RU(e){typeof e.type=="string"&&(e.type=Rie[e.type])}class Sk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Fie=e=>e/100;class Ak extends Sk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==Is.now()&&this.tick(Is.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;RU(t);const{type:r=Lg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Lg;l!==Lg&&typeof o[0]!="number"&&(this.mixKeyframes=Y1(Fie,PU(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=wk(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,D=n;if(f){const _=Math.min(this.currentTime,a)/o;let S=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&S--,S=Math.min(S,f+1),!!(S%2)&&(h==="reverse"?(I=1-I,p&&(I-=p/o)):h==="mirror"&&(D=s)),w=Kc(0,1,I)*o}const P=b?{done:!1,value:u[0]}:D.next(w);i&&(P.value=i(P.value));let{done:j}=P;!b&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&g!==aT&&(P.value=_k(u,this.options,v,this.speed)),m&&m(P.value),T&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Jl(this.calculatedDuration)}get time(){return Jl(this.currentTime)}set time(t){var r;t=xl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Is.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Jl(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Tie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Is.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function $ie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Od=e=>e*180/Math.PI,iT=e=>{const t=Od(Math.atan2(e[1],e[0]));return sT(t)},Bie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iT,rotateZ:iT,skewX:e=>Od(Math.atan(e[1])),skewY:e=>Od(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sT=e=>(e=e%360,e<0&&(e+=360),e),qI=iT,WI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),HI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Uie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WI,scaleY:HI,scale:e=>(WI(e)+HI(e))/2,rotateX:e=>sT(Od(Math.atan2(e[6],e[5]))),rotateY:e=>sT(Od(Math.atan2(-e[2],e[0]))),rotateZ:qI,rotate:qI,skewX:e=>Od(Math.atan(e[4])),skewY:e=>Od(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function oT(e){return e.includes("scale")?1:0}function lT(e,t){if(!e||e==="none")return oT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Uie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Bie,a=o}if(!a)return oT(t);const i=n[t],s=a[1].split(",").map(zie);return typeof i=="function"?i(s):s[i]}const Vie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return lT(r,t)};function zie(e){return parseFloat(e.trim())}const em=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tm=new Set(em),GI=e=>e===Zp||e===Sr,qie=new Set(["x","y","z"]),Wie=em.filter(e=>!qie.has(e));function Hie(e){const t=[];return Wie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Bd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>lT(t,"x"),y:(e,{transform:t})=>lT(t,"y")};Bd.translateX=Bd.x;Bd.translateY=Bd.y;const Ud=new Set;let cT=!1,uT=!1,fT=!1;function FU(){if(uT){const e=Array.from(Ud).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Hie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}uT=!1,cT=!1,Ud.forEach(e=>e.complete(fT)),Ud.clear()}function $U(){Ud.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uT=!0)})}function Gie(){fT=!0,$U(),FU(),fT=!1}class Tk{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ud.add(this),cT||(cT=!0,Zn.read($U),Zn.resolveKeyframes(FU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}$ie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ud.delete(this)}cancel(){this.state==="scheduled"&&(Ud.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Kie=e=>e.startsWith("--");function Yie(e,t,r){Kie(t)?e.style.setProperty(t,r):e.style[t]=r}const Xie=dk(()=>window.ScrollTimeline!==void 0),Qie={};function Jie(e,t){const r=dk(e);return()=>Qie[t]??r()}const BU=Jie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,KI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pg([0,.65,.55,1]),circOut:pg([.55,0,1,.45]),backIn:pg([.31,.01,.66,-.59]),backOut:pg([.33,1.53,.69,.99])};function UU(e,t){if(e)return typeof e=="function"?BU()?OU(e,t):"ease-out":wU(e)?pg(e):Array.isArray(e)?e.map(r=>UU(r,t)||KI.easeOut):KI[e]}function Zie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=UU(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Ek(e){return typeof e=="function"&&"applyToOptions"in e}function ese({type:e,...t}){return Ek(e)&&BU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tse extends Sk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,lb(typeof t.type!="string");const c=ese(t);this.animation=Zie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=_k(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Yie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Jl(Number(t))}get time(){return Jl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=xl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Xie()?(this.animation.timeline=t,Io):r(this)}}const VU={anticipate:mU,backInOut:pU,circInOut:vU};function rse(e){return e in VU}function nse(e){typeof e.ease=="string"&&rse(e.ease)&&(e.ease=VU[e.ease])}const YI=10;class ase extends tse{constructor(t){nse(t),RU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Ak({...s,autoplay:!1}),l=xl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-YI).value,o.sample(l).value,YI),o.stop()}}const XI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mf.test(e)||e==="0")&&!e.startsWith("url("));function ise(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sse(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=XI(a,t),o=XI(i,t);return!s||!o?!1:ise(e)||(r==="spring"||Ek(r))&&n}function Nk(e){return oU(e)&&"offsetHeight"in e}const ose=new Set(["opacity","clipPath","filter","transform"]),lse=dk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cse(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!Nk((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return lse()&&r&&ose.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const use=40;class fse extends Sk{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Is.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||Tk;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Is.now(),sse(t,i,s,o)||((Yc.instantAnimations||!l)&&(u==null||u(_k(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>use?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&cse(h)?new ase({...h,element:h.motionValue.owner.current}):new Ak(h);p.finished.then(()=>this.notifyFinished()).catch(Io),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Gie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class dse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hse extends dse{then(t,r){return this.finished.finally(t).then(()=>{})}}const pse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mse(e){const t=pse.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function zU(e,t,r=1){const[n,a]=mse(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return sU(s)?parseFloat(s):s}return vk(a)?zU(a,t,r+1):a}function kk(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qU=new Set(["width","height","top","left","right","bottom",...em]),gse={test:e=>e==="auto",parse:e=>e},WU=e=>t=>t.test(e),HU=[Zp,Sr,Zl,Uu,cie,lie,gse],QI=e=>HU.find(WU(e));function vse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||lU(e):!0}const yse=new Set(["brightness","contrast","saturate","opacity"]);function xse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(yk)||[];if(!n)return e;const a=r.replace(n,"");let i=yse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const bse=/\b([a-z-]*)\(.*?\)/gu,dT={...Mf,getAnimatableNone:e=>{const t=e.match(bse);return t?t.map(xse).join(" "):e}},JI={...Zp,transform:Math.round},wse={rotate:Uu,rotateX:Uu,rotateY:Uu,rotateZ:Uu,scale:ux,scaleX:ux,scaleY:ux,scaleZ:ux,skew:Uu,skewX:Uu,skewY:Uu,distance:Sr,translateX:Sr,translateY:Sr,translateZ:Sr,x:Sr,y:Sr,z:Sr,perspective:Sr,transformPerspective:Sr,opacity:Dv,originX:$I,originY:$I,originZ:Sr},Ck={borderWidth:Sr,borderTopWidth:Sr,borderRightWidth:Sr,borderBottomWidth:Sr,borderLeftWidth:Sr,borderRadius:Sr,radius:Sr,borderTopLeftRadius:Sr,borderTopRightRadius:Sr,borderBottomRightRadius:Sr,borderBottomLeftRadius:Sr,width:Sr,maxWidth:Sr,height:Sr,maxHeight:Sr,top:Sr,right:Sr,bottom:Sr,left:Sr,padding:Sr,paddingTop:Sr,paddingRight:Sr,paddingBottom:Sr,paddingLeft:Sr,margin:Sr,marginTop:Sr,marginRight:Sr,marginBottom:Sr,marginLeft:Sr,backgroundPositionX:Sr,backgroundPositionY:Sr,...wse,zIndex:JI,fillOpacity:Dv,strokeOpacity:Dv,numOctaves:JI},_se={...Ck,color:Mi,backgroundColor:Mi,outlineColor:Mi,fill:Mi,stroke:Mi,borderColor:Mi,borderTopColor:Mi,borderRightColor:Mi,borderBottomColor:Mi,borderLeftColor:Mi,filter:dT,WebkitFilter:dT},GU=e=>_se[e];function KU(e,t){let r=GU(e);return r!==dT&&(r=Mf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Sse=new Set(["auto","none","0"]);function Ase(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Sse.has(i)&&Lv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=KU(r,a)}class Tse extends Tk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),vk(c))){const u=zU(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!qU.has(n)||t.length!==2)return;const[a,i]=t,s=QI(a),o=QI(i);if(s!==o)if(GI(s)&&GI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Bd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||vse(t[a]))&&n.push(a);n.length&&Ase(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Bd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function YU(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const ZI=30,Ese=e=>!isNaN(parseFloat(e)),Mg={current:void 0};class Nse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=Is.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Is.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ese(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new hk);const n=this.events[t].add(r);return t==="change"?()=>{n(),Zn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Mg.current&&Mg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Is.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ZI);return cU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rh(e,t){return new Nse(e,t)}const XU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Pk,cancel:VBe}=_U(queueMicrotask,!1),al={x:!1,y:!1};function QU(){return al.x||al.y}function kse(e){return e==="x"||e==="y"?al[e]?null:(al[e]=!0,()=>{al[e]=!1}):al.x||al.y?null:(al.x=al.y=!0,()=>{al.x=al.y=!1})}function JU(e,t){const r=YU(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function ej(e){return!(e.pointerType==="touch"||QU())}function Cse(e,t,r={}){const[n,a,i]=JU(e,r),s=o=>{if(!ej(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{ej(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const ZU=(e,t)=>t?e===t?!0:ZU(e,t.parentElement):!1,Ok=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Pse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ose(e){return Pse.has(e.tagName)||e.tabIndex!==-1}const l2=new WeakSet;function tj(e){return t=>{t.key==="Enter"&&e(t)}}function _S(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ise=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=tj(()=>{if(l2.has(r))return;_S(r,"down");const a=tj(()=>{_S(r,"up")}),i=()=>_S(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function rj(e){return Ok(e)&&!QU()}function jse(e,t,r={}){const[n,a,i]=JU(e,r),s=o=>{const l=o.currentTarget;if(!rj(o))return;l2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),l2.has(l)&&l2.delete(l),rj(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||ZU(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Nk(o)&&(o.addEventListener("focus",c=>Ise(c,a)),!Ose(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Ik(e){return oU(e)&&"ownerSVGElement"in e}function eV(e){return Ik(e)&&e.tagName==="svg"}function Dse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=DU(a,i,s);return t?o(n):o}const ai=e=>!!(e&&e.getVelocity),Lse=[...HU,Mi,Mf],Mse=e=>Lse.find(WU(e)),g5=B.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Rse extends B.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Nk(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Fse({children:e,isPresent:t,anchorX:r}){const n=B.useId(),a=B.useRef(null),i=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=B.useContext(g5);return B.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(Rse,{isPresent:t,childRef:a,sizeRef:i,children:B.cloneElement(e,{ref:a})})}const $se=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=K1(Bse),c=B.useId();let u=!0,f=B.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),B.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),B.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(Fse,{isPresent:r,anchorX:o,children:e})),d.jsx(p5.Provider,{value:f,children:e})};function Bse(){return new Map}function tV(e=!0){const t=B.useContext(p5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=B.useId();B.useEffect(()=>{if(e)return a(i)},[e]);const s=B.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const fx=e=>e.key||"";function nj(e){const t=[];return B.Children.forEach(e,r=>{B.isValidElement(r)&&t.push(r)}),t}const rV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=tV(s),u=B.useMemo(()=>nj(e),[e]),f=s&&!l?[]:u.map(fx),h=B.useRef(!0),p=B.useRef(u),g=K1(()=>new Map),[m,v]=B.useState(u),[y,b]=B.useState(u);uk(()=>{h.current=!1,p.current=u;for(let P=0;P<y.length;P++){const j=fx(y[P]);f.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[y,f.length,f.join("-")]);const w=[];if(u!==m){let P=[...u];for(let j=0;j<y.length;j++){const T=y[j],_=fx(T);f.includes(_)||(P.splice(j,0,T),w.push(T))}return i==="wait"&&w.length&&(P=w),b(nj(P)),v(u),null}const{forceRender:D}=B.useContext(lk);return d.jsx(d.Fragment,{children:y.map(P=>{const j=fx(P),T=s&&!l?!1:u===y||f.includes(j),_=()=>{if(g.has(j))g.set(j,!0);else return;let S=!0;g.forEach(I=>{I||(S=!1)}),S&&(D==null||D(),b(p.current),s&&(c==null||c()),n&&n())};return d.jsx($se,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:_,anchorX:o,children:P},j)})})},nV=B.createContext({strict:!1}),aj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pp={};for(const e in aj)pp[e]={isEnabled:t=>aj[e].some(r=>!!t[r])};function Use(e){for(const t in e)pp[t]={...pp[t],...e[t]}}const Vse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Vse.has(e)}let aV=e=>!fb(e);function zse(e){e&&(aV=t=>t.startsWith("on")?!fb(t):e(t))}try{zse(require("@emotion/is-prop-valid").default)}catch{}function qse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(aV(a)||r===!0&&fb(a)||!t&&!fb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Wse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const v5=B.createContext({});function y5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rv(e){return typeof e=="string"||Array.isArray(e)}const jk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dk=["initial",...jk];function x5(e){return y5(e.animate)||Dk.some(t=>Rv(e[t]))}function iV(e){return!!(x5(e)||e.variants)}function Hse(e,t){if(x5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Rv(r)?r:void 0,animate:Rv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Gse(e){const{initial:t,animate:r}=Hse(e,B.useContext(v5));return B.useMemo(()=>({initial:t,animate:r}),[ij(t),ij(r)])}function ij(e){return Array.isArray(e)?e.join(" "):e}const Kse=Symbol.for("motionComponentSymbol");function _0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yse(e,t,r){return B.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):_0(r)&&(r.current=n))},[t])}const Lk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xse="framerAppearId",sV="data-"+Lk(Xse),oV=B.createContext({});function Qse(e,t,r,n,a){var m,v;const{visualElement:i}=B.useContext(v5),s=B.useContext(nV),o=B.useContext(p5),l=B.useContext(g5).reducedMotion,c=B.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=B.useContext(oV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Jse(c.current,r,a,f);const h=B.useRef(!1);B.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[sV],g=B.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return uk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Pk.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),B.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function Jse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:lV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&_0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function lV(e){if(e)return e.options.allowProjection!==!1?e.projection:lV(e.parent)}function Zse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Use(e);function i(o,l){let c;const u={...B.useContext(g5),...o,layoutId:eoe(o)},{isStatic:f}=u,h=Gse(o),p=n(o,f);if(!f&&ck){toe();const g=roe(u);c=g.MeasureLayout,h.visualElement=Qse(a,p,u,t,g.ProjectionNode)}return d.jsxs(v5.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Yse(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=B.forwardRef(i);return s[Kse]=a,s}function eoe({layoutId:e}){const t=B.useContext(lk).id;return t&&e!==void 0?t+"-"+e:e}function toe(e,t){B.useContext(nV).strict}function roe(e){const{drag:t,layout:r}=pp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Fv={};function noe(e){for(const t in e)Fv[t]=e[t],gk(t)&&(Fv[t].isCSSVariable=!0)}function cV(e,{layout:t,layoutId:r}){return tm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Fv[e]||e==="opacity")}const aoe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ioe=em.length;function soe(e,t,r){let n="",a=!0;for(let i=0;i<ioe;i++){const s=em[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=XU(o,Ck[s]);if(!l){a=!1;const u=aoe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Mk(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(tm.has(l)){s=!0;continue}else if(gk(l)){a[l]=c;continue}else{const u=XU(c,Ck[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=soe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Rk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uV(e,t,r){for(const n in t)!ai(t[n])&&!cV(n,r)&&(e[n]=t[n])}function ooe({transformTemplate:e},t){return B.useMemo(()=>{const r=Rk();return Mk(r,t,e),Object.assign({},r.vars,r.style)},[t])}function loe(e,t){const r=e.style||{},n={};return uV(n,r,e),Object.assign(n,ooe(e,t)),n}function coe(e,t){const r={},n=loe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const uoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},foe={offset:"strokeDashoffset",array:"strokeDasharray"};function doe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?uoe:foe;e[i.offset]=Sr.transform(-n);const s=Sr.transform(t),o=Sr.transform(r);e[i.array]=`${s} ${o}`}function fV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Mk(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&doe(f,a,i,s,!1)}const dV=()=>({...Rk(),attrs:{}}),hV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hoe(e,t,r,n){const a=B.useMemo(()=>{const i=dV();return fV(i,t,hV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};uV(i,e.style,e),a.style={...i,...a.style}}return a}const poe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fk(e){return typeof e!="string"||e.includes("-")?!1:!!(poe.indexOf(e)>-1||/[A-Z]/u.test(e))}function moe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(Fk(r)?hoe:coe)(n,i,s,r),c=qse(n,typeof r=="string",e),u=r!==B.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=B.useMemo(()=>ai(f)?f.get():f,[f]);return B.createElement(r,{...u,children:h})}}function sj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function $k(e,t,r,n){if(typeof t=="function"){const[a,i]=sj(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=sj(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function c2(e){return ai(e)?e.get():e}function goe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:voe(r,n,a,e),renderState:t()}}const pV=e=>(t,r)=>{const n=B.useContext(v5),a=B.useContext(p5),i=()=>goe(e,t,n,a);return r?i():K1(i)};function voe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=c2(i[h]);let{initial:s,animate:o}=e;const l=x5(e),c=iV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!y5(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=$k(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const b in y){let w=y[b];if(Array.isArray(w)){const D=u?w.length-1:0;w=w[D]}w!==null&&(a[b]=w)}for(const b in m)a[b]=m[b]}}}return a}function Bk(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(ai(n[s])||t.style&&ai(t.style[s])||cV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const yoe={useVisualState:pV({scrapeMotionValuesFromProps:Bk,createRenderState:Rk})};function mV(e,t,r){const n=Bk(e,t,r);for(const a in e)if(ai(e[a])||ai(t[a])){const i=em.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const xoe={useVisualState:pV({scrapeMotionValuesFromProps:mV,createRenderState:dV})};function boe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...Fk(n)?xoe:yoe,preloadedFeatures:e,useRender:moe(a),createVisualElement:t,Component:n};return Zse(s)}}function $v(e,t,r){const n=e.getProps();return $k(n,t,r!==void 0?r:n.custom,e)}const hT=e=>Array.isArray(e);function woe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,rh(r))}function _oe(e){return hT(e)?e[e.length-1]||0:e}function Soe(e,t){const r=$v(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=_oe(i[s]);woe(e,s,o)}}function Aoe(e){return!!(ai(e)&&e.add)}function pT(e,t){const r=e.getValue("willChange");if(Aoe(r))return r.add(t);if(!r&&Yc.WillChange){const n=new Yc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function gV(e){return e.props[sV]}const Toe=e=>e!==null;function Eoe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Toe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Noe={type:"spring",stiffness:500,damping:25,restSpeed:10},koe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Coe={type:"keyframes",duration:.8},Poe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ooe=(e,{keyframes:t})=>t.length>2?Coe:tm.has(e)?e.startsWith("scale")?koe(t[1]):Noe:Poe;function Ioe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Uk=(e,t,r,n={},a,i)=>s=>{const o=kk(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-xl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Ioe(o)||Object.assign(u,Ooe(e,u)),u.duration&&(u.duration=xl(u.duration)),u.repeatDelay&&(u.repeatDelay=xl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Yc.instantAnimations||Yc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=Eoe(u.keyframes,o);if(h!==void 0){Zn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Ak(u):new fse(u)};function joe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Vk(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&joe(c,u))continue;const p={delay:r,...kk(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=gV(e);if(y){const b=window.MotionHandoffAnimation(y,u,Zn);b!==null&&(p.startTime=b,m=!0)}}pT(e,u),f.start(Uk(u,f,h,e.shouldReduceMotion&&qU.has(u)?{type:!1}:p,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Zn.update(()=>{s&&Soe(e,s)})}),l}function mT(e,t,r={}){var l;const n=$v(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Vk(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return Doe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Doe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Loe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(mT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Loe(e,t){return e.sortNodePosition(t)}function Moe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>mT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=mT(e,t,r);else{const a=typeof t=="function"?$v(e,t,r.custom):t;n=Promise.all(Vk(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function vV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Roe=Dk.length;function yV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?yV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Roe;r++){const n=Dk[r],a=e.props[n];(Rv(a)||a===!1)&&(t[n]=a)}return t}const Foe=[...jk].reverse(),$oe=jk.length;function Boe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Moe(e,r,n)))}function Uoe(e){let t=Boe(e),r=oj(),n=!0;const a=l=>(c,u)=>{var h;const f=$v(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=yV(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let v=0;v<$oe;v++){const y=Foe[v],b=r[y],w=c[y]!==void 0?c[y]:u[y],D=Rv(w),P=y===l?b.isActive:null;P===!1&&(g=v);let j=w===u[y]&&w!==c[y]&&D;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...p},!b.isActive&&P===null||!w&&!b.prevProp||y5(w)||typeof w=="boolean")continue;const T=Voe(b.prevProp,w);let _=T||y===l&&b.isActive&&!j&&D||v>g&&D,S=!1;const I=Array.isArray(w)?w:[w];let E=I.reduce(a(y),{});P===!1&&(E={});const{prevResolvedValues:N={}}=b,O={...N,...E},U=J=>{_=!0,h.has(J)&&(S=!0,h.delete(J)),b.needsAnimating[J]=!0;const q=e.getValue(J);q&&(q.liveStyle=!1)};for(const J in O){const q=E[J],V=N[J];if(p.hasOwnProperty(J))continue;let ee=!1;hT(q)&&hT(V)?ee=!vV(q,V):ee=q!==V,ee?q!=null?U(J):h.add(J):q!==void 0&&h.has(J)?U(J):b.protectedKeys[J]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(j&&T)||S)&&f.push(...I.map(J=>({animation:J,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=$v(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=oj(),n=!0}}}function Voe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vV(t,e):!1}function hd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oj(){return{animate:hd(!0),whileInView:hd(),whileHover:hd(),whileTap:hd(),whileDrag:hd(),whileFocus:hd(),exit:hd()}}class Hf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zoe extends Hf{constructor(t){super(t),t.animationState||(t.animationState=Uoe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();y5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let qoe=0;class Woe extends Hf{constructor(){super(...arguments),this.id=qoe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Hoe={animation:{Feature:zoe},exit:{Feature:Woe}};function Bv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function J1(e){return{point:{x:e.pageX,y:e.pageY}}}const Goe=e=>t=>Ok(t)&&e(t,J1(t));function Rg(e,t,r,n){return Bv(e,t,Goe(r),n)}function xV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Koe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Yoe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const bV=1e-4,Xoe=1-bV,Qoe=1+bV,wV=.01,Joe=0-wV,Zoe=0+wV;function fs(e){return e.max-e.min}function ele(e,t,r){return Math.abs(e-t)<=r}function lj(e,t,r,n=.5){e.origin=n,e.originPoint=Qn(t.min,t.max,e.origin),e.scale=fs(r)/fs(t),e.translate=Qn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Xoe&&e.scale<=Qoe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Joe&&e.translate<=Zoe||isNaN(e.translate))&&(e.translate=0)}function Fg(e,t,r,n){lj(e.x,t.x,r.x,n?n.originX:void 0),lj(e.y,t.y,r.y,n?n.originY:void 0)}function cj(e,t,r){e.min=r.min+t.min,e.max=e.min+fs(t)}function tle(e,t,r){cj(e.x,t.x,r.x),cj(e.y,t.y,r.y)}function uj(e,t,r){e.min=t.min-r.min,e.max=e.min+fs(t)}function $g(e,t,r){uj(e.x,t.x,r.x),uj(e.y,t.y,r.y)}const fj=()=>({translate:0,scale:1,origin:0,originPoint:0}),S0=()=>({x:fj(),y:fj()}),dj=()=>({min:0,max:0}),ca=()=>({x:dj(),y:dj()});function To(e){return[e("x"),e("y")]}function SS(e){return e===void 0||e===1}function gT({scale:e,scaleX:t,scaleY:r}){return!SS(e)||!SS(t)||!SS(r)}function yd(e){return gT(e)||_V(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _V(e){return hj(e.x)||hj(e.y)}function hj(e){return e&&e!=="0%"}function db(e,t,r){const n=e-r,a=t*n;return r+a}function pj(e,t,r,n,a){return a!==void 0&&(e=db(e,a,n)),db(e,r,n)+t}function vT(e,t=0,r=1,n,a){e.min=pj(e.min,t,r,n,a),e.max=pj(e.max,t,r,n,a)}function SV(e,{x:t,y:r}){vT(e.x,t.translate,t.scale,t.originPoint),vT(e.y,r.translate,r.scale,r.originPoint)}const mj=.999999999999,gj=1.0000000000001;function rle(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&T0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,SV(e,s)),n&&yd(i.latestValues)&&T0(e,i.latestValues))}t.x<gj&&t.x>mj&&(t.x=1),t.y<gj&&t.y>mj&&(t.y=1)}function A0(e,t){e.min=e.min+t,e.max=e.max+t}function vj(e,t,r,n,a=.5){const i=Qn(e.min,e.max,a);vT(e,t,r,i,n)}function T0(e,t){vj(e.x,t.x,t.scaleX,t.scale,t.originX),vj(e.y,t.y,t.scaleY,t.scale,t.originY)}function AV(e,t){return xV(Yoe(e.getBoundingClientRect(),t))}function nle(e,t,r){const n=AV(e,r),{scroll:a}=t;return a&&(A0(n.x,a.offset.x),A0(n.y,a.offset.y)),n}const TV=({current:e})=>e?e.ownerDocument.defaultView:null,yj=(e,t)=>Math.abs(e-t);function ale(e,t){const r=yj(e.x,t.x),n=yj(e.y,t.y);return Math.sqrt(r**2+n**2)}class EV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=TS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=ale(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=pi;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=AS(h,this.transformPagePoint),Zn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=TS(f.type==="pointercancel"?this.lastMoveEventInfo:AS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!Ok(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=J1(t),o=AS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=pi;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,TS(o,this.history)),this.removeListeners=Y1(Rg(this.contextWindow,"pointermove",this.handlePointerMove),Rg(this.contextWindow,"pointerup",this.handlePointerUp),Rg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xc(this.updatePoint)}}function AS(e,t){return t?{point:t(e.point)}:e}function xj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function TS({point:e},t){return{point:e,delta:xj(e,NV(t)),offset:xj(e,ile(t)),velocity:sle(t,.1)}}function ile(e){return e[0]}function NV(e){return e[e.length-1]}function sle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=NV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>xl(t)));)r--;if(!n)return{x:0,y:0};const i=Jl(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ole(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Qn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Qn(r,e,n.max):Math.min(e,r)),e}function bj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function lle(e,{top:t,left:r,bottom:n,right:a}){return{x:bj(e.x,r,a),y:bj(e.y,t,n)}}function wj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function cle(e,t){return{x:wj(e.x,t.x),y:wj(e.y,t.y)}}function ule(e,t){let r=.5;const n=fs(e),a=fs(t);return a>n?r=hp(t.min,t.max-n,e.min):n>a&&(r=hp(e.min,e.max-a,t.min)),Kc(0,1,r)}function fle(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const yT=.35;function dle(e=yT){return e===!1?e=0:e===!0&&(e=yT),{x:_j(e,"left","right"),y:_j(e,"top","bottom")}}function _j(e,t,r){return{min:Sj(e,t),max:Sj(e,r)}}function Sj(e,t){return typeof e=="number"?e:e[t]||0}const hle=new WeakMap;class ple{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ca(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(J1(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),To(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Zl.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=fs(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&Zn.postRender(()=>g(u,f)),pT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=mle(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>To(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new EV(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:TV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Zn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!dx(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=ole(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&_0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=lle(n.layoutBox,t):this.constraints=!1,this.elastic=dle(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&To(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=fle(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=nle(n,a.root,this.visualElement.getTransformPagePoint());let s=cle(a.layout.layoutBox,i);if(r){const o=r(Koe(s));this.hasMutatedConstraints=!!o,o&&(s=xV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=To(u=>{if(!dx(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return pT(this.visualElement,t),n.start(Uk(t,n,0,r,this.visualElement,!1))}stopAnimation(){To(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){To(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){To(r=>{const{drag:n}=this.getProps();if(!dx(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Qn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};To(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=ule({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),To(s=>{if(!dx(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Qn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;hle.set(this.visualElement,this);const t=this.visualElement.current,r=Rg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();_0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Zn.read(n);const s=Bv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(To(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=yT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function dx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function mle(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class gle extends Hf{constructor(t){super(t),this.removeGroupControls=Io,this.removeListeners=Io,this.controls=new ple(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Io}unmount(){this.removeGroupControls(),this.removeListeners()}}const Aj=e=>(t,r)=>{e&&Zn.postRender(()=>e(t,r))};class vle extends Hf{constructor(){super(...arguments),this.removePointerDownListener=Io}onPointerDown(t){this.session=new EV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Aj(t),onStart:Aj(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Zn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Rg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const u2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Sr.test(e))e=parseFloat(e);else return e;const r=Tj(e,t.target.x),n=Tj(e,t.target.y);return`${r}% ${n}%`}},yle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Mf.parse(e);if(a.length>5)return n;const i=Mf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Qn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class xle extends B.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;noe(ble),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),u2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Zn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kV(e){const[t,r]=tV(),n=B.useContext(lk);return d.jsx(xle,{...e,layoutGroup:n,switchLayoutGroup:B.useContext(oV),isPresent:t,safeToRemove:r})}const ble={borderRadius:{...Vm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vm,borderTopRightRadius:Vm,borderBottomLeftRadius:Vm,borderBottomRightRadius:Vm,boxShadow:yle};function CV(e,t,r){const n=ai(e)?e:rh(e);return n.start(Uk("",n,t,r)),n.animation}const wle=(e,t)=>e.depth-t.depth;class _le{constructor(){this.children=[],this.isDirty=!1}add(t){fk(this.children,t),this.isDirty=!0}remove(t){m5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wle),this.isDirty=!1,this.children.forEach(t)}}function Sle(e,t){const r=Is.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Xc(n),e(i-t))};return Zn.setup(n,!0),()=>Xc(n)}const PV=["TopLeft","TopRight","BottomLeft","BottomRight"],Ale=PV.length,Ej=e=>typeof e=="string"?parseFloat(e):e,Nj=e=>typeof e=="number"||Sr.test(e);function Tle(e,t,r,n,a,i){a?(e.opacity=Qn(0,r.opacity??1,Ele(n)),e.opacityExit=Qn(t.opacity??1,0,Nle(n))):i&&(e.opacity=Qn(t.opacity??1,r.opacity??1,n));for(let s=0;s<Ale;s++){const o=`border${PV[s]}Radius`;let l=kj(t,o),c=kj(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Nj(l)===Nj(c)?(e[o]=Math.max(Qn(Ej(l),Ej(c),n),0),(Zl.test(c)||Zl.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Qn(t.rotate||0,r.rotate||0,n))}function kj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ele=OV(0,.5,gU),Nle=OV(.5,.95,Io);function OV(e,t,r){return n=>n<e?0:n>t?1:r(hp(e,t,n))}function Cj(e,t){e.min=t.min,e.max=t.max}function yo(e,t){Cj(e.x,t.x),Cj(e.y,t.y)}function Pj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Oj(e,t,r,n,a){return e-=t,e=db(e,1/r,n),a!==void 0&&(e=db(e,1/a,n)),e}function kle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Zl.test(t)&&(t=parseFloat(t),t=Qn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Qn(i.min,i.max,n);e===i&&(o-=t),e.min=Oj(e.min,t,r,o,a),e.max=Oj(e.max,t,r,o,a)}function Ij(e,t,[r,n,a],i,s){kle(e,t[r],t[n],t[a],t.scale,i,s)}const Cle=["x","scaleX","originX"],Ple=["y","scaleY","originY"];function jj(e,t,r,n){Ij(e.x,t,Cle,r?r.x:void 0,n?n.x:void 0),Ij(e.y,t,Ple,r?r.y:void 0,n?n.y:void 0)}function Dj(e){return e.translate===0&&e.scale===1}function IV(e){return Dj(e.x)&&Dj(e.y)}function Lj(e,t){return e.min===t.min&&e.max===t.max}function Ole(e,t){return Lj(e.x,t.x)&&Lj(e.y,t.y)}function Mj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jV(e,t){return Mj(e.x,t.x)&&Mj(e.y,t.y)}function Rj(e){return fs(e.x)/fs(e.y)}function Fj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ile{constructor(){this.members=[]}add(t){fk(this.members,t),t.scheduleRender()}remove(t){if(m5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const ES=["","X","Y","Z"],Dle={visibility:"hidden"},Lle=1e3;let Mle=0;function NS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function DV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=gV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Zn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&DV(n)}function LV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Mle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($le),this.nodes.forEach(qle),this.nodes.forEach(Wle),this.nodes.forEach(Ble)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _le)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new hk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Ik(s)&&!eV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Sle(f,250),u2.hasAnimatedSinceResize&&(u2.hasAnimatedSinceResize=!1,this.nodes.forEach(Bj))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Xle,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!jV(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const w={...kk(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Bj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($j);return}this.isUpdating||this.nodes.forEach(Vle),this.isUpdating=!1,this.nodes.forEach(zle),this.nodes.forEach(Rle),this.nodes.forEach(Fle),this.clearAllSnapshots();const o=Is.now();pi.delta=Kc(0,1e3/60,o-pi.timestamp),pi.timestamp=o,pi.isProcessing=!0,vS.update.process(pi),vS.preRender.process(pi),vS.render.process(pi),pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ule),this.sharedNodes.forEach(Gle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fs(this.snapshot.measuredBox.x)&&!fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ca(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!IV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||yd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Qle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ca();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Jle))){const{scroll:u}=this.root;u&&(A0(o.x,u.offset.x),A0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ca();if(yo(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&yo(o,s),A0(o.x,f.offset.x),A0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=ca();yo(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&T0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),yd(u.latestValues)&&T0(l,u.latestValues)}return yd(this.latestValues)&&T0(l,this.latestValues),l}removeTransform(s){const o=ca();yo(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yd(c.latestValues))continue;gT(c.latestValues)&&c.updateSnapshot();const u=ca(),f=c.measurePageBox();yo(u,f),jj(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return yd(this.latestValues)&&jj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=pi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),$g(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ca(),this.targetWithTransforms=ca()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yo(this.target,this.layout.layoutBox),SV(this.target,this.targetDelta)):yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),$g(this.relativeTargetOrigin,this.target,p.target),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gT(this.parent.latestValues)||_V(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;yo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;rle(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ca());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pj(this.prevProjectionDelta.x,this.projectionDelta.x),Pj(this.prevProjectionDelta.y,this.projectionDelta.y)),Fg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Fj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=S0(),this.projectionDelta=S0(),this.projectionDeltaWithTransform=S0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=S0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ca(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Yle));this.animationProgress=0;let w;this.mixTargetDelta=D=>{const P=D/1e3;Uj(f.x,s.x,P),Uj(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($g(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kle(this.relativeTarget,this.relativeTargetOrigin,h,P),w&&Ole(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ca()),yo(w,this.relativeTarget)),m&&(this.animationValues=u,Tle(u,c,this.latestValues,P,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Xc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zn.update(()=>{u2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rh(0)),this.currentAnimation=CV(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&MV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ca();const f=fs(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=fs(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}yo(o,l),T0(o,u),Fg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Ile),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&NS("z",s,c,this.animationValues);for(let u=0;u<ES.length;u++)NS(`rotate${ES[u]}`,s,c,this.animationValues),NS(`skew${ES[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Dle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=c2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=c2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!yd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=jle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Fv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Fv[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?c2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach($j),this.root.sharedNodes.clear()}}}function Rle(e){e.updateLayout()}function Fle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?To(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=fs(h);h.min=n[f].min,h.max=h.min+p}):MV(i,t.layoutBox,n)&&To(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=fs(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=S0();Fg(o,n,t.layoutBox);const l=S0();s?Fg(l,e.applyTransform(a,!0),t.measuredBox):Fg(l,n,t.layoutBox);const c=!IV(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=ca();$g(g,t.layoutBox,h.layoutBox);const m=ca();$g(m,n,p.layoutBox),jV(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $le(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ble(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ule(e){e.clearSnapshot()}function $j(e){e.clearMeasurements()}function Vle(e){e.isLayoutDirty=!1}function zle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qle(e){e.resolveTargetDelta()}function Wle(e){e.calcProjection()}function Hle(e){e.resetSkewAndRotation()}function Gle(e){e.removeLeadSnapshot()}function Uj(e,t,r){e.translate=Qn(t.translate,0,r),e.scale=Qn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Vj(e,t,r,n){e.min=Qn(t.min,r.min,n),e.max=Qn(t.max,r.max,n)}function Kle(e,t,r,n){Vj(e.x,t.x,r.x,n),Vj(e.y,t.y,r.y,n)}function Yle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Xle={duration:.45,ease:[.4,0,.1,1]},zj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qj=zj("applewebkit/")&&!zj("chrome/")?Math.round:Io;function Wj(e){e.min=qj(e.min),e.max=qj(e.max)}function Qle(e){Wj(e.x),Wj(e.y)}function MV(e,t,r){return e==="position"||e==="preserve-aspect"&&!ele(Rj(t),Rj(r),.2)}function Jle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Zle=LV({attachResizeListener:(e,t)=>Bv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kS={current:void 0},RV=LV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kS.current){const e=new Zle({});e.mount(window),e.setOptions({layoutScroll:!0}),kS.current=e}return kS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ece={pan:{Feature:vle},drag:{Feature:gle,ProjectionNode:RV,MeasureLayout:kV}};function Hj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Zn.postRender(()=>i(t,J1(t)))}class tce extends Hf{mount(){const{current:t}=this.node;t&&(this.unmount=Cse(t,(r,n)=>(Hj(this.node,n,"Start"),a=>Hj(this.node,a,"End"))))}unmount(){}}class rce extends Hf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Y1(Bv(this.node.current,"focus",()=>this.onFocus()),Bv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Zn.postRender(()=>i(t,J1(t)))}class nce extends Hf{mount(){const{current:t}=this.node;t&&(this.unmount=jse(t,(r,n)=>(Gj(this.node,n,"Start"),(a,{success:i})=>Gj(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xT=new WeakMap,CS=new WeakMap,ace=e=>{const t=xT.get(e.target);t&&t(e)},ice=e=>{e.forEach(ace)};function sce({root:e,...t}){const r=e||document;CS.has(r)||CS.set(r,{});const n=CS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(ice,{root:e,...t})),n[a]}function oce(e,t,r){const n=sce(t);return xT.set(e,r),n.observe(e),()=>{xT.delete(e),n.unobserve(e)}}const lce={some:0,all:1};class cce extends Hf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:lce[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return oce(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(uce(t,r))&&this.startObserver()}unmount(){}}function uce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const fce={inView:{Feature:cce},tap:{Feature:nce},focus:{Feature:rce},hover:{Feature:tce}},dce={layout:{ProjectionNode:RV,MeasureLayout:kV}},bT={current:null},FV={current:!1};function hce(){if(FV.current=!0,!!ck)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bT.current=e.matches;e.addListener(t),t()}else bT.current=!1}const Uv=new WeakMap;function pce(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ai(a))e.addValue(n,a);else if(ai(i))e.addValue(n,rh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,rh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Kj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $V{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Is.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Zn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=x5(r),this.isVariantNode=iV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&ai(p)&&p.set(l[h],!1)}}mount(t){this.current=t,Uv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),FV.current||hce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xc(this.notifyUpdate),Xc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=tm.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Zn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pp){const r=pp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ca()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Kj.length;n++){const a=Kj[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=pce(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=rh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(sU(n)||lU(n))?n=parseFloat(n):!Mse(n)&&Mf.test(r)&&(n=KU(t,r)),this.setBaseTarget(t,ai(n)?n.get():n)),ai(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=$k(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ai(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new hk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class BV extends $V{constructor(){super(...arguments),this.KeyframeResolver=Tse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ai(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function UV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function mce(e){return window.getComputedStyle(e)}class VV extends BV{constructor(){super(...arguments),this.type="html",this.renderInstance=UV}readValueFromInstance(t,r){var n;if(tm.has(r))return(n=this.projection)!=null&&n.isProjecting?oT(r):Vie(t,r);{const a=mce(t),i=(gk(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return AV(t,r)}build(t,r,n){Mk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Bk(t,r,n)}}const zV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gce(e,t,r,n){UV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(zV.has(a)?a:Lk(a),t.attrs[a])}class qV extends BV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ca}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(tm.has(r)){const n=GU(r);return n&&n.default||0}return r=zV.has(r)?r:Lk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return mV(t,r,n)}build(t,r,n){fV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){gce(t,r,n,a)}mount(t){this.isSVGTag=hV(t.tagName),super.mount(t)}}const vce=(e,t)=>Fk(e)?new qV(t):new VV(t,{allowProjection:e!==B.Fragment}),yce=boe({...Hoe,...fce,...ece,...dce},vce),ra=Wse(yce);function wT(e){const t=K1(()=>rh(e)),{isStatic:r}=B.useContext(g5);if(r){const[,n]=B.useState(e);B.useEffect(()=>t.on("change",n),[])}return t}function WV(e,t){const r=wT(t()),n=()=>r.set(t());return n(),uk(()=>{const a=()=>Zn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Xc(n)}}),r}function xce(e){Mg.current=[],e();const t=WV(Mg.current,e);return Mg.current=void 0,t}function Yj(e,t,r,n){if(typeof e=="function")return xce(e);const a=typeof t=="function"?t:Dse(t,r,n);return Array.isArray(e)?Xj(e,a):Xj([e],([i])=>a(i))}function Xj(e,t){const r=K1(()=>[]);return WV(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function zk(e){return typeof e=="object"&&!Array.isArray(e)}function HV(e,t,r,n){return typeof e=="string"&&zk(t)?YU(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function bce(e,t,r){return e*(t+1)}function Qj(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function wce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(m5(e,a),n--)}}function _ce(e,t,r,n,a,i){wce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Qn(a,i,n[s]),easing:bU(r,s)})}function Sce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function Ace(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Tce="easeInOut";function Ece(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,Qj(f,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(f=Qj(f,y.at,u,c));let b=0;const w=(D,P,j,T=0,_=0)=>{const S=Nce(D),{delay:I=0,times:E=MU(S),type:N="keyframes",repeat:O,repeatType:U,repeatDelay:Y=0,...K}=P;let{ease:J=t.ease||"easeOut",duration:q}=P;const V=typeof I=="function"?I(T,_):I,ee=S.length,Z=Ek(N)?N:a==null?void 0:a[N];if(ee<=2&&Z){let G=100;if(ee===2&&Pce(S)){const fe=S[1]-S[0];G=Math.abs(fe)}const Q={...K};q!==void 0&&(Q.duration=xl(q));const oe=IU(Q,G,Z);J=oe.ease,q=oe.duration}q??(q=i);const k=f+V;E.length===1&&E[0]===0&&(E[1]=1);const R=E.length-S.length;if(R>0&&LU(E,R),S.length===1&&S.unshift(null),O){q=bce(q,O);const G=[...S],Q=[...E];J=Array.isArray(J)?[...J]:[J];const oe=[...J];for(let fe=0;fe<O;fe++){S.push(...G);for(let ne=0;ne<G.length;ne++)E.push(Q[ne]+(fe+1)),J.push(ne===0?"linear":bU(oe,ne-1))}Sce(E,O)}const z=k+q;_ce(j,S,J,E,k,z),b=Math.max(V+q,b),h=Math.max(z,h)};if(ai(m)){const D=Jj(m,o);w(v,y,Zj("default",D))}else{const D=HV(m,v,n,l),P=D.length;for(let j=0;j<P;j++){v=v,y=y;const T=D[j],_=Jj(T,o);for(const S in v)w(v[S],kce(y,S),Zj(S,_),j,P)}}u=f,f+=b}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(Ace);const y=[],b=[],w=[];for(let P=0;P<v.length;P++){const{at:j,value:T,easing:_}=v[P];y.push(T),b.push(hp(0,h,j)),w.push(_||"easeOut")}b[0]!==0&&(b.unshift(0),y.unshift(y[0]),w.unshift(Tce)),b[b.length-1]!==1&&(b.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const D=s.get(g);D.keyframes[m]=y,D.transition[m]={...t,duration:h,ease:w,times:b,...r}}}),s}function Jj(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Zj(e,t){return t[e]||(t[e]=[]),t[e]}function Nce(e){return Array.isArray(e)?e:[e]}function kce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Cce=e=>typeof e=="number",Pce=e=>e.every(Cce);function Oce(e,t){return e in t}class Ice extends $V{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(Oce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ca()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function jce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Ik(e)&&!eV(e)?new qV(t):new VV(t);r.mount(e),Uv.set(e,r)}function Dce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Ice(t);r.mount(e),Uv.set(e,r)}function Lce(e,t){return ai(e)||typeof e=="number"||typeof e=="string"&&!zk(t)}function GV(e,t,r,n){const a=[];if(Lce(e,t))a.push(CV(e,zk(t)&&t.default||t,r&&(r.default||r)));else{const i=HV(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?jce:Dce;Uv.has(l)||c(l);const u=Uv.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...Vk(u,{...t,transition:f},{}))}}return a}function Mce(e,t,r){const n=[];return Ece(e,t,r,{spring:Mv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...GV(o,i,s))}),n}function Rce(e){return Array.isArray(e)&&e.some(Array.isArray)}function Fce(e){function t(r,n,a){let i=[];return Rce(r)?i=Mce(r,n,e):i=GV(r,n,a,e),new hse(i)}return t}const eD=Fce(),$ce=()=>{const{user:e,logout:t}=Ta(),r=F1(),{isDarkMode:n}=cn(),[a,i]=B.useState(!1),s=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},u=()=>{switch(e==null?void 0:e.role){case"fahiz":return"Fahiz Stock";case"aphy":return"APHY Stock";case"supply_serve":default:return"Supply & Serve"}},f=[{to:"/",icon:d.jsx(IZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:d.jsx(_i,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:d.jsx(wO,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:d.jsx(LZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:d.jsx(TZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:d.jsx(EZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:d.jsx(gN,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:d.jsx(FZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:d.jsx(AZ,{size:20}),label:"Reports",roles:["admin","staff"]},{to:"/warehouse-operations",icon:d.jsx(_Z,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:d.jsx(RZ,{size:20}),label:"Settings",roles:["admin","staff"]},{to:"/supply-serve",icon:d.jsx(wO,{size:20}),label:u(),roles:["supply_serve","fahiz","aphy"]}],h=e?f.filter(p=>p.roles.includes(e.role)):[];return d.jsxs(ra.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[d.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx(ra.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:d.jsx(sS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:d.jsx(ra.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),d.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:h.map((p,g)=>d.jsx(ra.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:d.jsx("div",{className:"group relative",children:d.jsx(sS,{to:p.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...p.to==="/"?{end:!0}:{},children:({isActive:m})=>d.jsxs(d.Fragment,{children:[d.jsx(ra.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:p.icon}),d.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:p.label})]})})})},p.to))}),d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsxs(ra.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),d.jsx(ra.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsx(ra.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(bO,{size:20})})]}),d.jsx(ra.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?d.jsx(ip,{size:24}):d.jsx(DZ,{size:24})})]})]})}),d.jsx(rV,{children:a&&d.jsx(ra.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:d.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[h.map((p,g)=>d.jsx(ra.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:d.jsx(sS,{to:p.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...p.to==="/"?{end:!0}:{},children:d.jsxs(ra.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[p.icon,d.jsx("span",{className:"text-sm font-medium",children:p.label})]})})},p.to)),d.jsx(ra.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ra.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),d.jsxs(ra.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(bO,{size:18}),d.jsx("span",{children:"Logout"})]})]})})]})})})]})},Bce=()=>{const{isAuthenticated:e}=Ta(),t=F1(),{isDarkMode:r}=cn();return Fe.useEffect(()=>{e||t("/login")},[e,t]),e?d.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[d.jsx($ce,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:d.jsx(nZ,{})})]}):null},KV=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=B.useState(!1),[s,o]=B.useState(!1);B.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:d.jsx(P4,{className:"text-green-500",size:20}),error:d.jsx(_O,{className:"text-red-500",size:20}),warning:d.jsx(Jd,{className:"text-yellow-500",size:20}),info:d.jsx(OZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return d.jsx("div",{className:"fixed top-4 right-4 z-50",children:d.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],d.jsx("p",{className:"text-sm font-medium",children:e}),d.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(_O,{size:18})})]})})},YV=B.createContext(void 0),sc=()=>{const e=B.useContext(YV);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Uce=({children:e})=>{const[t,r]=B.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return d.jsxs(YV.Provider,{value:{showToast:n},children:[e,t&&d.jsx(KV,{message:t.message,type:t.type,onClose:a})]})},Ct=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=cn(),l=i??o;return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsxs("div",{className:"relative",children:[r&&d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Fe.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),d.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Vu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=B.useState(!1),{isDarkMode:l}=cn(),c=a??l,u=()=>{o(!s)};return d.jsxs("div",{className:"relative",children:[d.jsx(Ct,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),d.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?d.jsx(PZ,{size:18}):d.jsx(O4,{size:18})})]})},lt=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return d.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Vce=()=>{const[e,t]=B.useState(""),[r,n]=B.useState(""),[a,i]=B.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=Ta(),{showToast:u}=sc(),{isDarkMode:f,toggleDarkMode:h}=cn(),p=F1();B.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"||c.role==="fahiz"||c.role==="aphy"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return d.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[d.jsx(ra.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"max-w-md p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),d.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),d.jsx(ra.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[d.jsx(MZ,{size:48,className:"mx-auto text-blue-600"}),d.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),d.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),d.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),d.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?d.jsx(f9,{size:20}):d.jsx(c9,{size:20})})]}),a&&d.jsx(ra.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsx(Ct,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:d.jsx(I4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),d.jsx(Vu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),d.jsx(lt,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},mi=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=cn(),i=wT(0),s=wT(0),o=Yj(i,Math.round),l=Yj(s,Math.round);return Fe.useEffect(()=>{if(typeof t=="number"){const c=eD(i,t,{duration:1});if(n){const u=eD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),d.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),d.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?d.jsx(ra.span,{children:o}):t}),n&&d.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||d.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"":""}),d.jsx(ra.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&d.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),d.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},nf=()=>{const{isDarkMode:e}=cn();return d.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),d.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:d.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},PS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=cn();return d.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&d.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:d.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),d.jsx("div",{className:"p-6",children:t})]})};function yn(e){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(e)}function Qi(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Br(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function $r(e){Br(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||yn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function zce(e,t){Br(2,arguments);var r=$r(e),n=Qi(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function XV(e,t){Br(2,arguments);var r=$r(e),n=Qi(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function QV(e,t){Br(2,arguments);var r=$r(e).getTime(),n=Qi(t);return new Date(r+n)}var qce=36e5;function Wce(e,t){Br(2,arguments);var r=Qi(t);return QV(e,r*qce)}var Hce={};function gh(){return Hce}function Gce(e,t){var r,n,a,i,s,o;Br(1,arguments);var l=gh(),c=Qi((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=$r(e),f=u.getDay(),h=(f<c?7:0)+f-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function _T(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function mp(e){Br(1,arguments);var t=$r(e);return t.setHours(0,0,0,0),t}function f2(e,t){Br(2,arguments);var r=$r(e),n=$r(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var JV=6e4,ZV=36e5;function tD(e,t){Br(2,arguments);var r=mp(e),n=mp(t);return r.getTime()===n.getTime()}function Kce(e){return Br(1,arguments),e instanceof Date||yn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yce(e){if(Br(1,arguments),!Kce(e)&&typeof e!="number")return!1;var t=$r(e);return!isNaN(Number(t))}function Xce(e,t){Br(2,arguments);var r=$r(e),n=$r(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Qce(e,t){return Br(2,arguments),$r(e).getTime()-$r(t).getTime()}var rD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Jce="trunc";function Zce(e){return e?rD[e]:rD[Jce]}function Vv(e){Br(1,arguments);var t=$r(e);return t.setHours(23,59,59,999),t}function ez(e){Br(1,arguments);var t=$r(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function eue(e){Br(1,arguments);var t=$r(e);return Vv(t).getTime()===ez(t).getTime()}function tue(e,t){Br(2,arguments);var r=$r(e),n=$r(t),a=f2(r,n),i=Math.abs(Xce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=f2(r,n)===-a;eue($r(e))&&i===1&&f2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function rue(e,t,r){Br(2,arguments);var n=Qce(e,t)/1e3;return Zce(void 0)(n)}function nue(e,t){var r;Br(1,arguments);var n=e||{},a=$r(n.start),i=$r(n.end),s=i.getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)o.push($r(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function aue(e){Br(1,arguments);var t=$r(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iue(e,t){var r,n,a,i,s,o;Br(1,arguments);var l=gh(),c=Qi((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=$r(e),f=u.getDay(),h=(f<c?-7:0)+6-(f-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function sue(e,t){Br(2,arguments);var r=Qi(t);return QV(e,-r)}var oue=864e5;function lue(e){Br(1,arguments);var t=$r(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/oue)+1}function hb(e){Br(1,arguments);var t=1,r=$r(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function tz(e){Br(1,arguments);var t=$r(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=hb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=hb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function cue(e){Br(1,arguments);var t=tz(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=hb(r);return n}var uue=6048e5;function fue(e){Br(1,arguments);var t=$r(e),r=hb(t).getTime()-cue(t).getTime();return Math.round(r/uue)+1}function pb(e,t){var r,n,a,i,s,o,l,c;Br(1,arguments);var u=gh(),f=Qi((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=$r(e),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function rz(e,t){var r,n,a,i,s,o,l,c;Br(1,arguments);var u=$r(e),f=u.getUTCFullYear(),h=gh(),p=Qi((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var m=pb(g,t),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var y=pb(v,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function due(e,t){var r,n,a,i,s,o,l,c;Br(1,arguments);var u=gh(),f=Qi((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=rz(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=pb(p,t);return g}var hue=6048e5;function pue(e,t){Br(1,arguments);var r=$r(e),n=pb(r,t).getTime()-due(r,t).getTime();return Math.round(n/hue)+1}function En(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ru={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return En(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):En(n+1,2)},d:function(t,r){return En(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return En(t.getUTCHours()%12||12,r.length)},H:function(t,r){return En(t.getUTCHours(),r.length)},m:function(t,r){return En(t.getUTCMinutes(),r.length)},s:function(t,r){return En(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return En(i,r.length)}},Yh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mue={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Ru.y(t,r)},Y:function(t,r,n,a){var i=rz(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return En(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):En(s,r.length)},R:function(t,r){var n=tz(t);return En(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return En(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return En(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return En(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Ru.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return En(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=pue(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):En(i,r.length)},I:function(t,r,n){var a=fue(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):En(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ru.d(t,r)},D:function(t,r,n){var a=lue(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):En(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return En(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return En(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return En(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Yh.noon:a===0?i=Yh.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Yh.evening:a>=12?i=Yh.afternoon:a>=4?i=Yh.morning:i=Yh.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ru.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ru.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):En(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):En(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ru.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ru.s(t,r)},S:function(t,r){return Ru.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return aD(s);case"XXXX":case"XX":return xd(s);case"XXXXX":case"XXX":default:return xd(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return aD(s);case"xxxx":case"xx":return xd(s);case"xxxxx":case"xxx":default:return xd(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+nD(s,":");case"OOOO":default:return"GMT"+xd(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+nD(s,":");case"zzzz":default:return"GMT"+xd(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return En(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return En(s,r.length)}};function nD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+En(i,2)}function aD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+En(Math.abs(e)/60,2)}return xd(e,t)}function xd(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=En(Math.floor(a/60),2),s=En(a%60,2);return n+i+r+s}var iD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},nz=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},gue=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return iD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",iD(a,r)).replace("{{time}}",nz(i,r))},vue={p:nz,P:gue},yue=["D","DD"],xue=["YY","YYYY"];function bue(e){return yue.indexOf(e)!==-1}function wue(e){return xue.indexOf(e)!==-1}function sD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _ue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sue=function(t,r,n){var a,i=_ue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function OS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Aue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Eue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nue={date:OS({formats:Aue,defaultWidth:"full"}),time:OS({formats:Tue,defaultWidth:"full"}),dateTime:OS({formats:Eue,defaultWidth:"full"})},kue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cue=function(t,r,n,a){return kue[t]};function zm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var Pue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Oue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Due={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rue={ordinalNumber:Mue,era:zm({values:Pue,defaultWidth:"wide"}),quarter:zm({values:Oue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:zm({values:Iue,defaultWidth:"wide"}),day:zm({values:jue,defaultWidth:"wide"}),dayPeriod:zm({values:Due,defaultWidth:"wide",formattingValues:Lue,defaultFormattingWidth:"wide"})};function qm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?$ue(o,function(f){return f.test(s)}):Fue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function Fue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function $ue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Bue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var Uue=/^(\d+)(th|st|nd|rd)?/i,Vue=/\d+/i,zue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},que={any:[/^b/i,/^(a|c)/i]},Wue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hue={any:[/1/i,/2/i,/3/i,/4/i]},Gue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Que={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zue={ordinalNumber:Bue({matchPattern:Uue,parsePattern:Vue,valueCallback:function(t){return parseInt(t,10)}}),era:qm({matchPatterns:zue,defaultMatchWidth:"wide",parsePatterns:que,defaultParseWidth:"any"}),quarter:qm({matchPatterns:Wue,defaultMatchWidth:"wide",parsePatterns:Hue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:qm({matchPatterns:Gue,defaultMatchWidth:"wide",parsePatterns:Kue,defaultParseWidth:"any"}),day:qm({matchPatterns:Yue,defaultMatchWidth:"wide",parsePatterns:Xue,defaultParseWidth:"any"}),dayPeriod:qm({matchPatterns:Que,defaultMatchWidth:"any",parsePatterns:Jue,defaultParseWidth:"any"})},az={code:"en-US",formatDistance:Sue,formatLong:Nue,formatRelative:Cue,localize:Rue,match:Zue,options:{weekStartsOn:0,firstWeekContainsDate:1}},efe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rfe=/^'([^]*?)'?$/,nfe=/''/g,afe=/[a-zA-Z]/;function zt(e,t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v;Br(2,arguments);var y=String(t),b=gh(),w=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:az,D=Qi((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Qi((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(m=b.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var j=$r(e);if(!Yce(j))throw new RangeError("Invalid time value");var T=_T(j),_=sue(j,T),S={firstWeekContainsDate:D,weekStartsOn:P,locale:w,_originalDate:j},I=y.match(tfe).map(function(E){var N=E[0];if(N==="p"||N==="P"){var O=vue[N];return O(E,w.formatLong)}return E}).join("").match(efe).map(function(E){if(E==="''")return"'";var N=E[0];if(N==="'")return ife(E);var O=mue[N];if(O)return wue(E)&&sD(E,t,String(e)),bue(E)&&sD(E,t,String(e)),O(_,E,w.localize,S);if(N.match(afe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return E}).join("");return I}function ife(e){var t=e.match(rfe);return t?t[1].replace(nfe,"'"):e}function iz(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function sfe(e){return iz({},e)}var oD=1440,ofe=2520,IS=43200,lfe=86400;function cfe(e,t,r){var n,a;Br(2,arguments);var i=gh(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:az;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=f2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=iz(sfe(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=$r(t),u=$r(e)):(c=$r(e),u=$r(t));var f=rue(u,c),h=(_T(u)-_T(c))/1e3,p=Math.round((f-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<oD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<ofe)return s.formatDistance("xDays",1,l);if(p<IS){var v=Math.round(p/oD);return s.formatDistance("xDays",v,l)}else if(p<lfe)return g=Math.round(p/IS),s.formatDistance("aboutXMonths",g,l)}if(g=tue(u,c),g<12){var y=Math.round(p/IS);return s.formatDistance("xMonths",y,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?s.formatDistance("aboutXYears",w,l):b<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function ufe(e,t){return Br(1,arguments),cfe(e,Date.now(),t)}function lD(e,t){Br(2,arguments);var r=$r(e),n=$r(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function cD(e,t){Br(2,arguments);var r=$r(e).getTime(),n=$r(t.start).getTime(),a=$r(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function Mr(e,t){Br(2,arguments);var r=Qi(t);return zce(e,-r)}function ffe(e,t){var r;Br(1,arguments);var n=Qi((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=mfe(e),i;if(a.date){var s=gfe(a.date,n);i=vfe(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=yfe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=xfe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var hx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mfe(e){var t={},r=e.split(hx.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],hx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=hx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function gfe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function vfe(e,t){if(t===null)return new Date(NaN);var r=e.match(dfe);if(!r)return new Date(NaN);var n=!!r[4],a=Wm(r[1]),i=Wm(r[2])-1,s=Wm(r[3]),o=Wm(r[4]),l=Wm(r[5])-1;if(n)return Afe(t,o,l)?bfe(t,o,l):new Date(NaN);var c=new Date(0);return!_fe(t,i,s)||!Sfe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Wm(e){return e?parseInt(e):1}function yfe(e){var t=e.match(hfe);if(!t)return NaN;var r=jS(t[1]),n=jS(t[2]),a=jS(t[3]);return Tfe(r,n,a)?r*ZV+n*JV+a*1e3:NaN}function jS(e){return e&&parseFloat(e.replace(",","."))||0}function xfe(e){if(e==="Z")return 0;var t=e.match(pfe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Efe(n,a)?r*(n*ZV+a*JV):NaN}function bfe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var wfe=[31,null,31,30,31,30,31,31,30,31,30,31];function sz(e){return e%400===0||e%4===0&&e%100!==0}function _fe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(wfe[t]||(sz(e)?29:28))}function Sfe(e,t){return t>=1&&t<=(sz(e)?366:365)}function Afe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Tfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Efe(e,t){return t>=0&&t<=59}function Nfe(e,t){Br(2,arguments);var r=Qi(t);return XV(e,-r)}function uD(e,t){Br(2,arguments);var r=Qi(t);return Wce(e,-r)}const kfe=()=>{const[e,t]=B.useState(!0),[r,n]=B.useState([]),[a,i]=B.useState([]),[s,o]=B.useState([]),[l,c]=B.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=cn(),f=async()=>{t(!0);try{const m=new Date,v=Mr(m,30),y=Mr(m,1),b=m,w=or(gt(Xe,"orders"),sr("createdAt",">=",ar.fromDate(v)),sr("createdAt","<=",ar.fromDate(m))),D=or(gt(Xe,"orders"),sr("createdAt",">=",ar.fromDate(y)),sr("createdAt","<=",ar.fromDate(b))),P=or(gt(Xe,"inventory")),j=or(gt(Xe,"inventory"),sr("lastUpdated",">=",ar.fromDate(y)),sr("lastUpdated","<=",ar.fromDate(b))),[T,_,S,I]=await Promise.all([lr(w),lr(D),lr(P),lr(j)]),E=T.docs.map(be=>({id:be.id,...be.data()})),N=_.docs.map(be=>({id:be.id,...be.data()})),O=_.docs.length,U=S.docs.reduce((be,je)=>{const Ee=je.data();return be+(Ee.quantity||0)},0),Y=I.docs.reduce((be,je)=>{const Ee=je.data();return be+(Ee.quantityChange||0)},0),K=S.docs.reduce((be,je)=>{const Ee=je.data();return be+(Ee.quantity||0)*(Ee.price||0)},0),J=E.length,q=N.reduce((be,je)=>be+(je.totalAmount||0),0),V=or(gt(Xe,"inventory")),Z=(await lr(V)).docs.map(be=>({id:be.id,...be.data()})),k=Z.filter(be=>be.quantity<=10),R=Z.filter(be=>be.quantity>10&&be.quantity<=25);i(k),o(R);const z=new Date,G=mp(z),Q=Vv(z),oe=mp(Mr(z,1)),fe=Vv(Mr(z,1)),ne=or(gt(Xe,"activityLogs"),sr("time",">=",G.toISOString()),sr("time","<=",Q.toISOString())),he=or(gt(Xe,"activityLogs"),sr("time",">=",oe.toISOString()),sr("time","<=",fe.toISOString())),[ye,W]=await Promise.all([lr(ne),lr(he)]),ke=ye.docs.map(be=>be.data()),Ce=W.docs.map(be=>be.data()),Te=ke.reduce((be,je)=>{const Ee=je.detail.match(/(\d+) units deducted/);return be+(Ee?parseInt(Ee[1]):0)},0),ie=Ce.reduce((be,je)=>{const Ee=je.detail.match(/(\d+) units deducted/);return be+(Ee?parseInt(Ee[1]):0)},0),$e=ke.reduce((be,je)=>{const Ee=je.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return be+(Ee?parseInt(Ee[1]):0)},0),Ke=ke.reduce((be,je)=>{const Ee=je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ee){const[,qe,at]=Ee,nt=S.docs.find(ft=>ft.data().name===qe);if(nt){const ft=nt.data().price||0;return be+parseInt(at)*ft}}return be},0),Se=ke.reduce((be,je)=>{const Ee=je.detail.toLowerCase();if(/reason:\s*damaged/i.test(Ee)||/damaged/i.test(Ee)||/damageditems/i.test(Ee)||/damaged items/i.test(Ee)){const qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const at of qe){const nt=Ee.match(at);if(nt)if(nt.length===3){const ft=parseInt(nt[1]),Et=parseInt(nt[2]);return be+Math.abs(ft-Et)}else return be+parseInt(nt[1])}return be+1}return be},0),Re=Ce.reduce((be,je)=>{const Ee=je.detail.toLowerCase();if(/reason:\s*damaged/i.test(Ee)||/damaged/i.test(Ee)||/damageditems/i.test(Ee)||/damaged items/i.test(Ee)){const qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const at of qe){const nt=Ee.match(at);if(nt)if(nt.length===3){const ft=parseInt(nt[1]),Et=parseInt(nt[2]);return be+Math.abs(ft-Et)}else return be+parseInt(nt[1])}return be+1}return be},0);c({totalOrders:J,totalStock:U,totalInventoryValue:K,todayDamagedProducts:Se,yesterdayDamagedProducts:Re,yesterdayOrders:O,yesterdayStockChange:Y,yesterdayRevenue:q,totalDeductions:Te,yesterdayDeductions:ie,todayStockAdditions:$e,todayInventoryValueAdditions:Ke})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=or(gt(Xe,"activityLogs"),La("time","desc"),dg(5)),y=(await lr(m)).docs.map(b=>({id:b.id,...b.data()}));n(y)}catch(m){console.error("Error fetching recent activities:",m)}},p=async()=>{await Promise.all([f(),h()])};B.useEffect(()=>{p()},[]);const g=()=>{const{isDarkMode:m}=cn();return d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>d.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return d.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),d.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),d.jsx(lt,{variant:"secondary",onClick:p,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(ri,{size:16,className:e?"animate-spin":""})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?d.jsxs(d.Fragment,{children:[d.jsx(nf,{}),d.jsx(nf,{}),d.jsx(nf,{}),d.jsx(nf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(mi,{title:"Total Stock",value:l.totalStock,icon:d.jsx(Zd,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:d.jsx(_i,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),d.jsx(mi,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:d.jsx(d9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),d.jsx(mi,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:d.jsx(Jd,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),d.jsx(mi,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:d.jsx(W2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:d.jsx(_i,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":" added today"}})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(PS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):r.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),d.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:ufe(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),d.jsx(PS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):s.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsx(PS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):a.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},pn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=cn(),o=B.useRef(null);if(B.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),B.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),d.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),d.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:d.jsx(ip,{size:20})})]}),d.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},vh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=B.useState(!1),i=B.useRef(null);return B.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),d.jsx(pn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:d.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[d.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:d.jsx(qc,{size:32,className:"text-blue-500"})}),d.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),d.jsxs("div",{className:"text-center text-sm text-slate-500",children:[d.jsx("p",{children:"Point your barcode scanner at the product"}),d.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var oz=1252,Cfe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],qk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Wk=function(e){Cfe.indexOf(e)!=-1&&(oz=qk[0]=e)};function Pfe(){Wk(1252)}var pl=function(e){Wk(e)};function lz(){pl(1200),Pfe()}function fD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Ofe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function cz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var mg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Ofe(e.slice(2)):t==254&&r==255?cz(e.slice(2)):t==65279?e.slice(1):e},px=function(t){return String.fromCharCode(t)},dD=function(t){return String.fromCharCode(t)},Yu,af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function hD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=af.charAt(i)+af.charAt(s)+af.charAt(o)+af.charAt(l);return t}function io(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=af.indexOf(e.charAt(c++)),s=af.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=af.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=af.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var tn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),yh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Rf(e){return tn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function pD(e){return tn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var dl=function(t){return tn?yh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function xh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Hk(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Hk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Xu=tn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:yh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Ife(e){for(var t=[],r=0,n=e.length+250,a=Rf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Rf(65535),n=65530)}return t.push(a.slice(0,r)),Xu(t)}var gs=/\u0000/g,gg=/[\u0001-\u0006]/g;function $0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ml(e,t){var r=""+e;return r.length>=t?r:ha("0",t-r.length)+r}function Gk(e,t){var r=""+e;return r.length>=t?r:ha(" ",t-r.length)+r}function mb(e,t){var r=""+e;return r.length>=t?r:r+ha(" ",t-r.length)}function jfe(e,t){var r=""+Math.round(e);return r.length>=t?r:ha("0",t-r.length)+r}function Dfe(e,t){var r=""+e;return r.length>=t?r:ha("0",t-r.length)+r}var mD=Math.pow(2,32);function Xh(e,t){if(e>mD||e<-mD)return jfe(e,t);var r=Math.round(e);return Dfe(r,t)}function gb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var gD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],DS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Rr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},vD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Mfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Id(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Vfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var uz=new Date(1899,11,31,0,0,0),Rfe=uz.getTime(),Ffe=new Date(1900,2,1,0,0,0);function fz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Ffe&&(r+=24*60*60*1e3),(r-(Rfe+(e.getTimezoneOffset()-uz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Kk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $fe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Bfe(e){var t=e<0?12:11,r=Kk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Ufe(e){var t=Kk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function zv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Bfe(e):t===10?r=e.toFixed(10).substr(0,12):r=Ufe(e),Kk($fe(r.toUpperCase()))}function nh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):zv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Fo(14,fz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Vfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function zfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return DS[r.m-1][1];case 5:return DS[r.m-1][0];default:return DS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return gD[r.q][0];default:return gD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ml(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=ml(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ml(l,c):"";return u}function sf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var dz=/%/g;function qfe(e,t,r){var n=t.replace(dz,""),a=t.length-n.length;return Dc(e,n,r*Math.pow(10,2*a))+ha("%",a)}function Wfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Dc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function hz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var pz=/# (\?+)( ?)\/( ?)(\d+)/;function Hfe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?ha(" ",e[1].length+1+e[4].length):Gk(s,e[1].length)+e[2]+"/"+e[3]+ml(o,e[4].length))}function Gfe(e,t,r){return r+(t===0?"":""+t)+ha(" ",e[1].length+2+e[4].length)}var mz=/^#*0*\.([0#]+)/,gz=/\).*[0#]/,vz=/\(###\) ###\\?-####/;function os(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function yD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function xD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Kfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Yfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ao(e,t,r){if(e.charCodeAt(0)===40&&!t.match(gz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ao("n",n,r):"("+Ao("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Wfe(e,t,r);if(t.indexOf("%")!==-1)return qfe(e,t,r);if(t.indexOf("E")!==-1)return hz(t,r);if(t.charCodeAt(0)===36)return"$"+Ao(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Xh(l,t.length);if(t.match(/^[#?]+$/))return a=Xh(r,0),a==="0"&&(a=""),a.length>t.length?a:os(t.substr(0,t.length-a.length))+a;if(i=t.match(pz))return Hfe(i,l,c);if(t.match(/^#+0+$/))return c+Xh(l,t.length-t.indexOf("0"));if(i=t.match(mz))return a=yD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+os(i[1])).replace(/\.$/,"."+os(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+ha("0",os(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+yD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+sf(Xh(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ao(e,t,-r):sf(""+(Math.floor(r)+Kfe(r,i[1].length)))+"."+ml(xD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ao(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$0(Ao(e,t.replace(/[\\-]/g,""),r)),s=0,$0($0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(vz))return a=Ao(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=vb(l,Math.pow(10,s)-1,!1),a=""+c,u=Dc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=mb(o[2],s),u.length<i[4].length&&(u=os(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=vb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Gk(o[1],s)+i[2]+"/"+i[3]+mb(o[2],s):ha(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Xh(r,0),t.length<=a.length?a:os(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return os(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=xD(r,i[1].length),r<0?"-"+Ao(e,t,-r):sf(Yfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ml(0,3-g.length):"")+g})+"."+ml(s,i[1].length);switch(t){case"###,##0.00":return Ao(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=sf(Xh(l,0));return p!=="0"?c+p:"";case"###,###.00":return Ao(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ao(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Xfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Dc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Qfe(e,t,r){var n=t.replace(dz,""),a=t.length-n.length;return Dc(e,n,r*Math.pow(10,2*a))+ha("%",a)}function yz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+yz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function $l(e,t,r){if(e.charCodeAt(0)===40&&!t.match(gz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?$l("n",n,r):"("+$l("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Xfe(e,t,r);if(t.indexOf("%")!==-1)return Qfe(e,t,r);if(t.indexOf("E")!==-1)return yz(t,r);if(t.charCodeAt(0)===36)return"$"+$l(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ml(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:os(t.substr(0,t.length-a.length))+a;if(i=t.match(pz))return Gfe(i,l,c);if(t.match(/^#+0+$/))return c+ml(l,t.length-t.indexOf("0"));if(i=t.match(mz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+os(i[1])).replace(/\.$/,"."+os(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+ha("0",os(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+sf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+$l(e,t,-r):sf(""+r)+"."+ha("0",i[1].length);if(i=t.match(/^#,#*,#0/))return $l(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$0($l(e,t.replace(/[\\-]/g,""),r)),s=0,$0($0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(vz))return a=$l(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=vb(l,Math.pow(10,s)-1,!1),a=""+c,u=Dc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=mb(o[2],s),u.length<i[4].length&&(u=os(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=vb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Gk(o[1],s)+i[2]+"/"+i[3]+mb(o[2],s):ha(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:os(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return os(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+$l(e,t,-r):sf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ml(0,3-g.length):"")+g})+"."+ml(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=sf(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return $l(e,t.slice(0,t.lastIndexOf(".")),r)+os(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Dc(e,t,r){return(r|0)===r?$l(e,t,r):Ao(e,t,r)}function Jfe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var xz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":gb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(xz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Zfe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!gb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Id(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Id(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=Id(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(xz)){if(c==null&&(c=Id(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",rm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=zfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;w+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=nh(t,r);break}var P="",j,T;if(w.length>0){w.charCodeAt(0)==40?(j=t<0&&w.charCodeAt(0)===45?-t:t,T=Dc("n",w,j)):(j=t<0&&n>1?-t:t,T=Dc("n",w,j),j<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),D=T.length-1;var _=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){_=s;break}var S=a.length;if(_===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=T.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=T.substr(0,D+1),D=-1),a[s].t="t",S=s);D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v)}else if(_!==a.length&&T.indexOf("E")===-1){for(D=T.indexOf(".")-1,s=_;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)D>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=T.charAt(D--)+P);a[s].v=P,a[s].t="t",S=s}for(D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v),D=T.indexOf(".")+1,s=_;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==_)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)D<T.length&&(P+=T.charAt(D++));a[s].v=P,a[s].t="t",S=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Dc(a[s].t,a[s].v,j),a[s].t="t");var I="";for(s=0;s!==a.length;++s)a[s]!=null&&(I+=a[s].v);return I}var bD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function ede(e,t){var r=Jfe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(bD),o=r[1].match(bD);return wD(t,s)?[n,r[0]]:wD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Fo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Rr)[e],n==null&&(n=r.table&&r.table[vD[e]]||Rr[vD[e]]),n==null&&(n=Mfe[e]||"General");break}if(gb(n,0))return nh(t,r);t instanceof Date&&(t=fz(t,r.date1904));var a=ede(n,t);if(gb(a[1]))return nh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Zfe(a[1],t,r,a[0])}function Vd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Rr[r]==null){t<0&&(t=r);continue}if(Rr[r]==e){t=r;break}}t<0&&(t=391)}return Rr[t]=e,t}function bz(){Rr=Lfe()}var tde={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},wz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function rde(e){var t=typeof e=="number"?Rr[e]:e;return t=t.replace(wz,"(\\d+)"),new RegExp("^"+t+"$")}function nde(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(wz)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var ade=function(){var e={};e.version="1.2.0";function t(){for(var T=0,_=new Array(256),S=0;S!=256;++S)T=S,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,_[S]=T;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(T){var _=0,S=0,I=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)E[I]=T[I];for(I=0;I!=256;++I)for(S=T[I],_=256+I;_<4096;_+=256)S=E[_]=S>>>8^T[S&255];var N=[];for(I=1;I!=16;++I)N[I-1]=typeof Int32Array<"u"?E.subarray(I*256,I*256+256):E.slice(I*256,I*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function D(T,_){for(var S=_^-1,I=0,E=T.length;I<E;)S=S>>>8^r[(S^T.charCodeAt(I++))&255];return~S}function P(T,_){for(var S=_^-1,I=T.length-15,E=0;E<I;)S=w[T[E++]^S&255]^b[T[E++]^S>>8&255]^y[T[E++]^S>>16&255]^v[T[E++]^S>>>24]^m[T[E++]]^g[T[E++]]^p[T[E++]]^h[T[E++]]^f[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(I+=15;E<I;)S=S>>>8^r[(S^T[E++])&255];return~S}function j(T,_){for(var S=_^-1,I=0,E=T.length,N=0,O=0;I<E;)N=T.charCodeAt(I++),N<128?S=S>>>8^r[(S^N)&255]:N<2048?(S=S>>>8^r[(S^(192|N>>6&31))&255],S=S>>>8^r[(S^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,O=T.charCodeAt(I++)&1023,S=S>>>8^r[(S^(240|N>>8&7))&255],S=S>>>8^r[(S^(128|N>>2&63))&255],S=S>>>8^r[(S^(128|O>>6&15|(N&3)<<4))&255],S=S>>>8^r[(S^(128|O&63))&255]):(S=S>>>8^r[(S^(224|N>>12&15))&255],S=S>>>8^r[(S^(128|N>>6&63))&255],S=S>>>8^r[(S^(128|N&63))&255]);return~S}return e.table=r,e.bstr=D,e.buf=P,e.str=j,e}(),sn=function(){var t={};t.version="1.2.1";function r(ae,we){for(var me=ae.split("/"),ge=we.split("/"),xe=0,_e=0,Ge=Math.min(me.length,ge.length);xe<Ge;++xe){if(_e=me[xe].length-ge[xe].length)return _e;if(me[xe]!=ge[xe])return me[xe]<ge[xe]?-1:1}return me.length-ge.length}function n(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:n(ae.slice(0,-1));var we=ae.lastIndexOf("/");return we===-1?ae:ae.slice(0,we+1)}function a(ae){if(ae.charAt(ae.length-1)=="/")return a(ae.slice(0,-1));var we=ae.lastIndexOf("/");return we===-1?ae:ae.slice(we+1)}function i(ae,we){typeof we=="string"&&(we=new Date(we));var me=we.getHours();me=me<<6|we.getMinutes(),me=me<<5|we.getSeconds()>>>1,ae.write_shift(2,me);var ge=we.getFullYear()-1980;ge=ge<<4|we.getMonth()+1,ge=ge<<5|we.getDate(),ae.write_shift(2,ge)}function s(ae){var we=ae.read_shift(2)&65535,me=ae.read_shift(2)&65535,ge=new Date,xe=me&31;me>>>=5;var _e=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(_e-1),ge.setDate(xe);var Ge=we&31;we>>>=5;var rt=we&63;return we>>>=6,ge.setHours(we),ge.setMinutes(rt),ge.setSeconds(Ge<<1),ge}function o(ae){vi(ae,0);for(var we={},me=0;ae.l<=ae.length-4;){var ge=ae.read_shift(2),xe=ae.read_shift(2),_e=ae.l+xe,Ge={};switch(ge){case 21589:me=ae.read_shift(1),me&1&&(Ge.mtime=ae.read_shift(4)),xe>5&&(me&2&&(Ge.atime=ae.read_shift(4)),me&4&&(Ge.ctime=ae.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}ae.l=_e,we[ge]=Ge}return we}var l;function c(){return l||(l={})}function u(ae,we){if(ae[0]==80&&ae[1]==75)return ht(ae,we);if((ae[0]|32)==109&&(ae[1]|32)==105)return ot(ae,we);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var me=3,ge=512,xe=0,_e=0,Ge=0,rt=0,He=0,Qe=[],Je=ae.slice(0,512);vi(Je,0);var St=f(Je);switch(me=St[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(St[1]==0)return ht(ae,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(Je=ae.slice(0,ge),vi(Je,28));var jt=ae.slice(0,ge);h(Je,me);var $t=Je.read_shift(4,"i");if(me===3&&$t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$t);Je.l+=4,Ge=Je.read_shift(4,"i"),Je.l+=4,Je.chk("00100000","Mini Stream Cutoff Size: "),rt=Je.read_shift(4,"i"),xe=Je.read_shift(4,"i"),He=Je.read_shift(4,"i"),_e=Je.read_shift(4,"i");for(var Pt=-1,Rt=0;Rt<109&&(Pt=Je.read_shift(4,"i"),!(Pt<0));++Rt)Qe[Rt]=Pt;var fr=p(ae,ge);v(He,_e,fr,ge,Qe);var Kr=b(fr,Ge,Qe,ge);Kr[Ge].name="!Directory",xe>0&&rt!==O&&(Kr[rt].name="!MiniFAT"),Kr[Qe[0]].name="!FAT",Kr.fat_addrs=Qe,Kr.ssz=ge;var Yr={},bn=[],Ka=[],$s=[];w(Ge,Kr,fr,bn,xe,Yr,Ka,rt),g(Ka,$s,bn),bn.shift();var de={FileIndex:Ka,FullPaths:$s};return we&&we.raw&&(de.raw={header:jt,sectors:fr}),de}function f(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(U,"Header Signature: "),ae.l+=16;var we=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),we]}function h(ae,we){var me=9;switch(ae.l+=2,me=ae.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function p(ae,we){for(var me=Math.ceil(ae.length/we)-1,ge=[],xe=1;xe<me;++xe)ge[xe-1]=ae.slice(xe*we,(xe+1)*we);return ge[me-1]=ae.slice(me*we),ge}function g(ae,we,me){for(var ge=0,xe=0,_e=0,Ge=0,rt=0,He=me.length,Qe=[],Je=[];ge<He;++ge)Qe[ge]=Je[ge]=ge,we[ge]=me[ge];for(;rt<Je.length;++rt)ge=Je[rt],xe=ae[ge].L,_e=ae[ge].R,Ge=ae[ge].C,Qe[ge]===ge&&(xe!==-1&&Qe[xe]!==xe&&(Qe[ge]=Qe[xe]),_e!==-1&&Qe[_e]!==_e&&(Qe[ge]=Qe[_e])),Ge!==-1&&(Qe[Ge]=ge),xe!==-1&&ge!=Qe[ge]&&(Qe[xe]=Qe[ge],Je.lastIndexOf(xe)<rt&&Je.push(xe)),_e!==-1&&ge!=Qe[ge]&&(Qe[_e]=Qe[ge],Je.lastIndexOf(_e)<rt&&Je.push(_e));for(ge=1;ge<He;++ge)Qe[ge]===ge&&(_e!==-1&&Qe[_e]!==_e?Qe[ge]=Qe[_e]:xe!==-1&&Qe[xe]!==xe&&(Qe[ge]=Qe[xe]));for(ge=1;ge<He;++ge)if(ae[ge].type!==0){if(rt=ge,rt!=Qe[rt])do rt=Qe[rt],we[ge]=we[rt]+"/"+we[ge];while(rt!==0&&Qe[rt]!==-1&&rt!=Qe[rt]);Qe[ge]=-1}for(we[0]+="/",ge=1;ge<He;++ge)ae[ge].type!==2&&(we[ge]+="/")}function m(ae,we,me){for(var ge=ae.start,xe=ae.size,_e=[],Ge=ge;me&&xe>0&&Ge>=0;)_e.push(we.slice(Ge*N,Ge*N+N)),xe-=N,Ge=Ad(me,Ge*4);return _e.length===0?Ba(0):Xu(_e).slice(0,ae.size)}function v(ae,we,me,ge,xe){var _e=O;if(ae===O){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var Ge=me[ae],rt=(ge>>>2)-1;if(!Ge)return;for(var He=0;He<rt&&(_e=Ad(Ge,He*4))!==O;++He)xe.push(_e);v(Ad(Ge,ge-4),we-1,me,ge,xe)}}function y(ae,we,me,ge,xe){var _e=[],Ge=[];xe||(xe=[]);var rt=ge-1,He=0,Qe=0;for(He=we;He>=0;){xe[He]=!0,_e[_e.length]=He,Ge.push(ae[He]);var Je=me[Math.floor(He*4/ge)];if(Qe=He*4&rt,ge<4+Qe)throw new Error("FAT boundary crossed: "+He+" 4 "+ge);if(!ae[Je])break;He=Ad(ae[Je],Qe)}return{nodes:_e,data:OD([Ge])}}function b(ae,we,me,ge){var xe=ae.length,_e=[],Ge=[],rt=[],He=[],Qe=ge-1,Je=0,St=0,jt=0,$t=0;for(Je=0;Je<xe;++Je)if(rt=[],jt=Je+we,jt>=xe&&(jt-=xe),!Ge[jt]){He=[];var Pt=[];for(St=jt;St>=0;){Pt[St]=!0,Ge[St]=!0,rt[rt.length]=St,He.push(ae[St]);var Rt=me[Math.floor(St*4/ge)];if($t=St*4&Qe,ge<4+$t)throw new Error("FAT boundary crossed: "+St+" 4 "+ge);if(!ae[Rt]||(St=Ad(ae[Rt],$t),Pt[St]))break}_e[jt]={nodes:rt,data:OD([He])}}return _e}function w(ae,we,me,ge,xe,_e,Ge,rt){for(var He=0,Qe=ge.length?2:0,Je=we[ae].data,St=0,jt=0,$t;St<Je.length;St+=128){var Pt=Je.slice(St,St+128);vi(Pt,64),jt=Pt.read_shift(2),$t=Zk(Pt,0,jt-Qe),ge.push($t);var Rt={name:$t,type:Pt.read_shift(1),color:Pt.read_shift(1),L:Pt.read_shift(4,"i"),R:Pt.read_shift(4,"i"),C:Pt.read_shift(4,"i"),clsid:Pt.read_shift(16),state:Pt.read_shift(4,"i"),start:0,size:0},fr=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);fr!==0&&(Rt.ct=D(Pt,Pt.l-8));var Kr=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);Kr!==0&&(Rt.mt=D(Pt,Pt.l-8)),Rt.start=Pt.read_shift(4,"i"),Rt.size=Pt.read_shift(4,"i"),Rt.size<0&&Rt.start<0&&(Rt.size=Rt.type=0,Rt.start=O,Rt.name=""),Rt.type===5?(He=Rt.start,xe>0&&He!==O&&(we[He].name="!StreamData")):Rt.size>=4096?(Rt.storage="fat",we[Rt.start]===void 0&&(we[Rt.start]=y(me,Rt.start,we.fat_addrs,we.ssz)),we[Rt.start].name=Rt.name,Rt.content=we[Rt.start].data.slice(0,Rt.size)):(Rt.storage="minifat",Rt.size<0?Rt.size=0:He!==O&&Rt.start!==O&&we[He]&&(Rt.content=m(Rt,we[He].data,(we[rt]||{}).data))),Rt.content&&vi(Rt.content,0),_e[$t]=Rt,Ge.push(Rt)}}function D(ae,we){return new Date((Qs(ae,we+4)/1e7*Math.pow(2,32)+Qs(ae,we)/1e7-11644473600)*1e3)}function P(ae,we){return c(),u(l.readFileSync(ae),we)}function j(ae,we){var me=we&&we.type;switch(me||tn&&Buffer.isBuffer(ae)&&(me="buffer"),me||"base64"){case"file":return P(ae,we);case"base64":return u(dl(io(ae)),we);case"binary":return u(dl(ae),we)}return u(ae,we)}function T(ae,we){var me=we||{},ge=me.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=ge+"/",ae.FileIndex[0]={name:ge,type:5}),me.CLSID&&(ae.FileIndex[0].clsid=me.CLSID),_(ae)}function _(ae){var we="Sh33tJ5";if(!sn.find(ae,"/"+we)){var me=Ba(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ae.FileIndex.push({name:we,type:2,content:me,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+we),S(ae)}}function S(ae,we){T(ae);for(var me=!1,ge=!1,xe=ae.FullPaths.length-1;xe>=0;--xe){var _e=ae.FileIndex[xe];switch(_e.type){case 0:ge?me=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(_e.R*_e.L*_e.C)&&(me=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!we)){var Ge=new Date(1987,1,19),rt=0,He=Object.create?Object.create(null):{},Qe=[];for(xe=0;xe<ae.FullPaths.length;++xe)He[ae.FullPaths[xe]]=!0,ae.FileIndex[xe].type!==0&&Qe.push([ae.FullPaths[xe],ae.FileIndex[xe]]);for(xe=0;xe<Qe.length;++xe){var Je=n(Qe[xe][0]);ge=He[Je],ge||(Qe.push([Je,{name:a(Je).replace("/",""),type:1,clsid:K,ct:Ge,mt:Ge,content:null}]),He[Je]=!0)}for(Qe.sort(function($t,Pt){return r($t[0],Pt[0])}),ae.FullPaths=[],ae.FileIndex=[],xe=0;xe<Qe.length;++xe)ae.FullPaths[xe]=Qe[xe][0],ae.FileIndex[xe]=Qe[xe][1];for(xe=0;xe<Qe.length;++xe){var St=ae.FileIndex[xe],jt=ae.FullPaths[xe];if(St.name=a(jt).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||K,xe===0)St.C=Qe.length>1?1:-1,St.size=0,St.type=5;else if(jt.slice(-1)=="/"){for(rt=xe+1;rt<Qe.length&&n(ae.FullPaths[rt])!=jt;++rt);for(St.C=rt>=Qe.length?-1:rt,rt=xe+1;rt<Qe.length&&n(ae.FullPaths[rt])!=n(jt);++rt);St.R=rt>=Qe.length?-1:rt,St.type=1}else n(ae.FullPaths[xe+1]||"")==n(jt)&&(St.R=xe+1),St.type=2}}}function I(ae,we){var me=we||{};if(me.fileType=="mad")return We(ae,me);switch(S(ae),me.fileType){case"zip":return Gt(ae,me)}var ge=function($t){for(var Pt=0,Rt=0,fr=0;fr<$t.FileIndex.length;++fr){var Kr=$t.FileIndex[fr];if(Kr.content){var Yr=Kr.content.length;Yr>0&&(Yr<4096?Pt+=Yr+63>>6:Rt+=Yr+511>>9)}}for(var bn=$t.FullPaths.length+3>>2,Ka=Pt+7>>3,$s=Pt+127>>7,de=Ka+Rt+bn+$s,Pe=de+127>>7,wt=Pe<=109?0:Math.ceil((Pe-109)/127);de+Pe+wt+127>>7>Pe;)wt=++Pe<=109?0:Math.ceil((Pe-109)/127);var Ut=[1,wt,Pe,$s,bn,Rt,Pt,0];return $t.FileIndex[0].size=Pt<<6,Ut[7]=($t.FileIndex[0].start=Ut[0]+Ut[1]+Ut[2]+Ut[3]+Ut[4]+Ut[5])+(Ut[6]+7>>3),Ut}(ae),xe=Ba(ge[7]<<9),_e=0,Ge=0;{for(_e=0;_e<8;++_e)xe.write_shift(1,Y[_e]);for(_e=0;_e<8;++_e)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),_e=0;_e<3;++_e)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,ge[2]),xe.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:O),xe.write_shift(4,ge[3]),xe.write_shift(-4,ge[1]?ge[0]-1:O),xe.write_shift(4,ge[1]),_e=0;_e<109;++_e)xe.write_shift(-4,_e<ge[2]?ge[1]+_e:-1)}if(ge[1])for(Ge=0;Ge<ge[1];++Ge){for(;_e<236+Ge*127;++_e)xe.write_shift(-4,_e<ge[2]?ge[1]+_e:-1);xe.write_shift(-4,Ge===ge[1]-1?O:Ge+1)}var rt=function($t){for(Ge+=$t;_e<Ge-1;++_e)xe.write_shift(-4,_e+1);$t&&(++_e,xe.write_shift(-4,O))};for(Ge=_e=0,Ge+=ge[1];_e<Ge;++_e)xe.write_shift(-4,J.DIFSECT);for(Ge+=ge[2];_e<Ge;++_e)xe.write_shift(-4,J.FATSECT);rt(ge[3]),rt(ge[4]);for(var He=0,Qe=0,Je=ae.FileIndex[0];He<ae.FileIndex.length;++He)Je=ae.FileIndex[He],Je.content&&(Qe=Je.content.length,!(Qe<4096)&&(Je.start=Ge,rt(Qe+511>>9)));for(rt(ge[6]+7>>3);xe.l&511;)xe.write_shift(-4,J.ENDOFCHAIN);for(Ge=_e=0,He=0;He<ae.FileIndex.length;++He)Je=ae.FileIndex[He],Je.content&&(Qe=Je.content.length,!(!Qe||Qe>=4096)&&(Je.start=Ge,rt(Qe+63>>6)));for(;xe.l&511;)xe.write_shift(-4,J.ENDOFCHAIN);for(_e=0;_e<ge[4]<<2;++_e){var St=ae.FullPaths[_e];if(!St||St.length===0){for(He=0;He<17;++He)xe.write_shift(4,0);for(He=0;He<3;++He)xe.write_shift(4,-1);for(He=0;He<12;++He)xe.write_shift(4,0);continue}Je=ae.FileIndex[_e],_e===0&&(Je.start=Je.size?Je.start-1:O);var jt=_e===0&&me.root||Je.name;if(Qe=2*(jt.length+1),xe.write_shift(64,jt,"utf16le"),xe.write_shift(2,Qe),xe.write_shift(1,Je.type),xe.write_shift(1,Je.color),xe.write_shift(-4,Je.L),xe.write_shift(-4,Je.R),xe.write_shift(-4,Je.C),Je.clsid)xe.write_shift(16,Je.clsid,"hex");else for(He=0;He<4;++He)xe.write_shift(4,0);xe.write_shift(4,Je.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Je.start),xe.write_shift(4,Je.size),xe.write_shift(4,0)}for(_e=1;_e<ae.FileIndex.length;++_e)if(Je=ae.FileIndex[_e],Je.size>=4096)if(xe.l=Je.start+1<<9,tn&&Buffer.isBuffer(Je.content))Je.content.copy(xe,xe.l,0,Je.size),xe.l+=Je.size+511&-512;else{for(He=0;He<Je.size;++He)xe.write_shift(1,Je.content[He]);for(;He&511;++He)xe.write_shift(1,0)}for(_e=1;_e<ae.FileIndex.length;++_e)if(Je=ae.FileIndex[_e],Je.size>0&&Je.size<4096)if(tn&&Buffer.isBuffer(Je.content))Je.content.copy(xe,xe.l,0,Je.size),xe.l+=Je.size+63&-64;else{for(He=0;He<Je.size;++He)xe.write_shift(1,Je.content[He]);for(;He&63;++He)xe.write_shift(1,0)}if(tn)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function E(ae,we){var me=ae.FullPaths.map(function(He){return He.toUpperCase()}),ge=me.map(function(He){var Qe=He.split("/");return Qe[Qe.length-(He.slice(-1)=="/"?2:1)]}),xe=!1;we.charCodeAt(0)===47?(xe=!0,we=me[0].slice(0,-1)+we):xe=we.indexOf("/")!==-1;var _e=we.toUpperCase(),Ge=xe===!0?me.indexOf(_e):ge.indexOf(_e);if(Ge!==-1)return ae.FileIndex[Ge];var rt=!_e.match(gg);for(_e=_e.replace(gs,""),rt&&(_e=_e.replace(gg,"!")),Ge=0;Ge<me.length;++Ge)if((rt?me[Ge].replace(gg,"!"):me[Ge]).replace(gs,"")==_e||(rt?ge[Ge].replace(gg,"!"):ge[Ge]).replace(gs,"")==_e)return ae.FileIndex[Ge];return null}var N=64,O=-2,U="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(ae,we,me){c();var ge=I(ae,me);l.writeFileSync(we,ge)}function V(ae){for(var we=new Array(ae.length),me=0;me<ae.length;++me)we[me]=String.fromCharCode(ae[me]);return we.join("")}function ee(ae,we){var me=I(ae,we);switch(we&&we.type||"buffer"){case"file":return c(),l.writeFileSync(we.filename,me),me;case"binary":return typeof me=="string"?me:V(me);case"base64":return hD(typeof me=="string"?me:V(me));case"buffer":if(tn)return Buffer.isBuffer(me)?me:yh(me);case"array":return typeof me=="string"?dl(me):me}return me}var Z;function k(ae){try{var we=ae.InflateRaw,me=new we;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)Z=ae;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function R(ae,we){if(!Z)return Me(ae,we);var me=Z.InflateRaw,ge=new me,xe=ge._processChunk(ae.slice(ae.l),ge._finishFlushFlag);return ae.l+=ge.bytesRead,xe}function z(ae){return Z?Z.deflateRawSync(ae):_t(ae)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(ae){var we=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(we>>16|we>>8|we)&255}for(var ne=typeof Uint8Array<"u",he=ne?new Uint8Array(256):[],ye=0;ye<256;++ye)he[ye]=fe(ye);function W(ae,we){var me=he[ae&255];return we<=8?me>>>8-we:(me=me<<8|he[ae>>8&255],we<=16?me>>>16-we:(me=me<<8|he[ae>>16&255],me>>>24-we))}function ke(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=6?0:ae[ge+1]<<8))>>>me&3}function Ce(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=5?0:ae[ge+1]<<8))>>>me&7}function Te(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=4?0:ae[ge+1]<<8))>>>me&15}function ie(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=3?0:ae[ge+1]<<8))>>>me&31}function $e(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=1?0:ae[ge+1]<<8))>>>me&127}function Ke(ae,we,me){var ge=we&7,xe=we>>>3,_e=(1<<me)-1,Ge=ae[xe]>>>ge;return me<8-ge||(Ge|=ae[xe+1]<<8-ge,me<16-ge)||(Ge|=ae[xe+2]<<16-ge,me<24-ge)||(Ge|=ae[xe+3]<<24-ge),Ge&_e}function Se(ae,we,me){var ge=we&7,xe=we>>>3;return ge<=5?ae[xe]|=(me&7)<<ge:(ae[xe]|=me<<ge&255,ae[xe+1]=(me&7)>>8-ge),we+3}function Re(ae,we,me){var ge=we&7,xe=we>>>3;return me=(me&1)<<ge,ae[xe]|=me,we+1}function be(ae,we,me){var ge=we&7,xe=we>>>3;return me<<=ge,ae[xe]|=me&255,me>>>=8,ae[xe+1]=me,we+8}function je(ae,we,me){var ge=we&7,xe=we>>>3;return me<<=ge,ae[xe]|=me&255,me>>>=8,ae[xe+1]=me&255,ae[xe+2]=me>>>8,we+16}function Ee(ae,we){var me=ae.length,ge=2*me>we?2*me:we+5,xe=0;if(me>=we)return ae;if(tn){var _e=pD(ge);if(ae.copy)ae.copy(_e);else for(;xe<ae.length;++xe)_e[xe]=ae[xe];return _e}else if(ne){var Ge=new Uint8Array(ge);if(Ge.set)Ge.set(ae);else for(;xe<me;++xe)Ge[xe]=ae[xe];return Ge}return ae.length=ge,ae}function qe(ae){for(var we=new Array(ae),me=0;me<ae;++me)we[me]=0;return we}function at(ae,we,me){var ge=1,xe=0,_e=0,Ge=0,rt=0,He=ae.length,Qe=ne?new Uint16Array(32):qe(32);for(_e=0;_e<32;++_e)Qe[_e]=0;for(_e=He;_e<me;++_e)ae[_e]=0;He=ae.length;var Je=ne?new Uint16Array(He):qe(He);for(_e=0;_e<He;++_e)Qe[xe=ae[_e]]++,ge<xe&&(ge=xe),Je[_e]=0;for(Qe[0]=0,_e=1;_e<=ge;++_e)Qe[_e+16]=rt=rt+Qe[_e-1]<<1;for(_e=0;_e<He;++_e)rt=ae[_e],rt!=0&&(Je[_e]=Qe[rt+16]++);var St=0;for(_e=0;_e<He;++_e)if(St=ae[_e],St!=0)for(rt=W(Je[_e],ge)>>ge-St,Ge=(1<<ge+4-St)-1;Ge>=0;--Ge)we[rt|Ge<<St]=St&15|_e<<4;return ge}var nt=ne?new Uint16Array(512):qe(512),ft=ne?new Uint16Array(32):qe(32);if(!ne){for(var Et=0;Et<512;++Et)nt[Et]=0;for(Et=0;Et<32;++Et)ft[Et]=0}(function(){for(var ae=[],we=0;we<32;we++)ae.push(5);at(ae,ft,32);var me=[];for(we=0;we<=143;we++)me.push(8);for(;we<=255;we++)me.push(9);for(;we<=279;we++)me.push(7);for(;we<=287;we++)me.push(8);at(me,nt,288)})();var kt=function(){for(var we=ne?new Uint8Array(32768):[],me=0,ge=0;me<oe.length-1;++me)for(;ge<oe[me+1];++ge)we[ge]=me;for(;ge<32768;++ge)we[ge]=29;var xe=ne?new Uint8Array(259):[];for(me=0,ge=0;me<Q.length-1;++me)for(;ge<Q[me+1];++ge)xe[ge]=me;function _e(rt,He){for(var Qe=0;Qe<rt.length;){var Je=Math.min(65535,rt.length-Qe),St=Qe+Je==rt.length;for(He.write_shift(1,+St),He.write_shift(2,Je),He.write_shift(2,~Je&65535);Je-- >0;)He[He.l++]=rt[Qe++]}return He.l}function Ge(rt,He){for(var Qe=0,Je=0,St=ne?new Uint16Array(32768):[];Je<rt.length;){var jt=Math.min(65535,rt.length-Je);if(jt<10){for(Qe=Se(He,Qe,+(Je+jt==rt.length)),Qe&7&&(Qe+=8-(Qe&7)),He.l=Qe/8|0,He.write_shift(2,jt),He.write_shift(2,~jt&65535);jt-- >0;)He[He.l++]=rt[Je++];Qe=He.l*8;continue}Qe=Se(He,Qe,+(Je+jt==rt.length)+2);for(var $t=0;jt-- >0;){var Pt=rt[Je];$t=($t<<5^Pt)&32767;var Rt=-1,fr=0;if((Rt=St[$t])&&(Rt|=Je&-32768,Rt>Je&&(Rt-=32768),Rt<Je))for(;rt[Rt+fr]==rt[Je+fr]&&fr<250;)++fr;if(fr>2){Pt=xe[fr],Pt<=22?Qe=be(He,Qe,he[Pt+1]>>1)-1:(be(He,Qe,3),Qe+=5,be(He,Qe,he[Pt-23]>>5),Qe+=3);var Kr=Pt<8?0:Pt-4>>2;Kr>0&&(je(He,Qe,fr-Q[Pt]),Qe+=Kr),Pt=we[Je-Rt],Qe=be(He,Qe,he[Pt]>>3),Qe-=3;var Yr=Pt<4?0:Pt-2>>1;Yr>0&&(je(He,Qe,Je-Rt-oe[Pt]),Qe+=Yr);for(var bn=0;bn<fr;++bn)St[$t]=Je&32767,$t=($t<<5^rt[Je])&32767,++Je;jt-=fr-1}else Pt<=143?Pt=Pt+48:Qe=Re(He,Qe,1),Qe=be(He,Qe,he[Pt]),St[$t]=Je&32767,++Je}Qe=be(He,Qe,0)-1}return He.l=(Qe+7)/8|0,He.l}return function(He,Qe){return He.length<8?_e(He,Qe):Ge(He,Qe)}}();function _t(ae){var we=Ba(50+Math.floor(ae.length*1.1)),me=kt(ae,we);return we.slice(0,me)}var ct=ne?new Uint16Array(32768):qe(32768),er=ne?new Uint16Array(32768):qe(32768),Wt=ne?new Uint16Array(128):qe(128),Gr=1,ur=1;function Wr(ae,we){var me=ie(ae,we)+257;we+=5;var ge=ie(ae,we)+1;we+=5;var xe=Te(ae,we)+4;we+=4;for(var _e=0,Ge=ne?new Uint8Array(19):qe(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],He=1,Qe=ne?new Uint8Array(8):qe(8),Je=ne?new Uint8Array(8):qe(8),St=Ge.length,jt=0;jt<xe;++jt)Ge[G[jt]]=_e=Ce(ae,we),He<_e&&(He=_e),Qe[_e]++,we+=3;var $t=0;for(Qe[0]=0,jt=1;jt<=He;++jt)Je[jt]=$t=$t+Qe[jt-1]<<1;for(jt=0;jt<St;++jt)($t=Ge[jt])!=0&&(rt[jt]=Je[$t]++);var Pt=0;for(jt=0;jt<St;++jt)if(Pt=Ge[jt],Pt!=0){$t=he[rt[jt]]>>8-Pt;for(var Rt=(1<<7-Pt)-1;Rt>=0;--Rt)Wt[$t|Rt<<Pt]=Pt&7|jt<<3}var fr=[];for(He=1;fr.length<me+ge;)switch($t=Wt[$e(ae,we)],we+=$t&7,$t>>>=3){case 16:for(_e=3+ke(ae,we),we+=2,$t=fr[fr.length-1];_e-- >0;)fr.push($t);break;case 17:for(_e=3+Ce(ae,we),we+=3;_e-- >0;)fr.push(0);break;case 18:for(_e=11+$e(ae,we),we+=7;_e-- >0;)fr.push(0);break;default:fr.push($t),He<$t&&(He=$t);break}var Kr=fr.slice(0,me),Yr=fr.slice(me);for(jt=me;jt<286;++jt)Kr[jt]=0;for(jt=ge;jt<30;++jt)Yr[jt]=0;return Gr=at(Kr,ct,286),ur=at(Yr,er,30),we}function Ie(ae,we){if(ae[0]==3&&!(ae[1]&3))return[Rf(we),2];for(var me=0,ge=0,xe=pD(we||1<<18),_e=0,Ge=xe.length>>>0,rt=0,He=0;!(ge&1);){if(ge=Ce(ae,me),me+=3,ge>>>1)ge>>1==1?(rt=9,He=5):(me=Wr(ae,me),rt=Gr,He=ur);else{me&7&&(me+=8-(me&7));var Qe=ae[me>>>3]|ae[(me>>>3)+1]<<8;if(me+=32,Qe>0)for(!we&&Ge<_e+Qe&&(xe=Ee(xe,_e+Qe),Ge=xe.length);Qe-- >0;)xe[_e++]=ae[me>>>3],me+=8;continue}for(;;){!we&&Ge<_e+32767&&(xe=Ee(xe,_e+32767),Ge=xe.length);var Je=Ke(ae,me,rt),St=ge>>>1==1?nt[Je]:ct[Je];if(me+=St&15,St>>>=4,!(St>>>8&255))xe[_e++]=St;else{if(St==256)break;St-=257;var jt=St<8?0:St-4>>2;jt>5&&(jt=0);var $t=_e+Q[St];jt>0&&($t+=Ke(ae,me,jt),me+=jt),Je=Ke(ae,me,He),St=ge>>>1==1?ft[Je]:er[Je],me+=St&15,St>>>=4;var Pt=St<4?0:St-2>>1,Rt=oe[St];for(Pt>0&&(Rt+=Ke(ae,me,Pt),me+=Pt),!we&&Ge<$t&&(xe=Ee(xe,$t+100),Ge=xe.length);_e<$t;)xe[_e]=xe[_e-Rt],++_e}}}return we?[xe,me+7>>>3]:[xe.slice(0,_e),me+7>>>3]}function Me(ae,we){var me=ae.slice(ae.l||0),ge=Ie(me,we);return ae.l+=ge[1],ge[0]}function Ye(ae,we){if(ae)typeof console<"u"&&console.error(we);else throw new Error(we)}function ht(ae,we){var me=ae;vi(me,0);var ge=[],xe=[],_e={FileIndex:ge,FullPaths:xe};T(_e,{root:we.root});for(var Ge=me.length-4;(me[Ge]!=80||me[Ge+1]!=75||me[Ge+2]!=5||me[Ge+3]!=6)&&Ge>=0;)--Ge;me.l=Ge+4,me.l+=4;var rt=me.read_shift(2);me.l+=6;var He=me.read_shift(4);for(me.l=He,Ge=0;Ge<rt;++Ge){me.l+=20;var Qe=me.read_shift(4),Je=me.read_shift(4),St=me.read_shift(2),jt=me.read_shift(2),$t=me.read_shift(2);me.l+=8;var Pt=me.read_shift(4),Rt=o(me.slice(me.l+St,me.l+St+jt));me.l+=St+jt+$t;var fr=me.l;me.l=Pt+4,Dt(me,Qe,Je,_e,Rt),me.l=fr}return _e}function Dt(ae,we,me,ge,xe){ae.l+=2;var _e=ae.read_shift(2),Ge=ae.read_shift(2),rt=s(ae);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var He=ae.read_shift(4),Qe=ae.read_shift(4),Je=ae.read_shift(4),St=ae.read_shift(2),jt=ae.read_shift(2),$t="",Pt=0;Pt<St;++Pt)$t+=String.fromCharCode(ae[ae.l++]);if(jt){var Rt=o(ae.slice(ae.l,ae.l+jt));(Rt[21589]||{}).mt&&(rt=Rt[21589].mt),((xe||{})[21589]||{}).mt&&(rt=xe[21589].mt)}ae.l+=jt;var fr=ae.slice(ae.l,ae.l+Qe);switch(Ge){case 8:fr=R(ae,Je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Kr=!1;_e&8&&(He=ae.read_shift(4),He==134695760&&(He=ae.read_shift(4),Kr=!0),Qe=ae.read_shift(4),Je=ae.read_shift(4)),Qe!=we&&Ye(Kr,"Bad compressed size: "+we+" != "+Qe),Je!=me&&Ye(Kr,"Bad uncompressed size: "+me+" != "+Je),ir(ge,$t,fr,{unsafe:!0,mt:rt})}function Gt(ae,we){var me=we||{},ge=[],xe=[],_e=Ba(1),Ge=me.compression?8:0,rt=0,He=0,Qe=0,Je=0,St=0,jt=ae.FullPaths[0],$t=jt,Pt=ae.FileIndex[0],Rt=[],fr=0;for(He=1;He<ae.FullPaths.length;++He)if($t=ae.FullPaths[He].slice(jt.length),Pt=ae.FileIndex[He],!(!Pt.size||!Pt.content||$t=="Sh33tJ5")){var Kr=Je,Yr=Ba($t.length);for(Qe=0;Qe<$t.length;++Qe)Yr.write_shift(1,$t.charCodeAt(Qe)&127);Yr=Yr.slice(0,Yr.l),Rt[St]=ade.buf(Pt.content,0);var bn=Pt.content;Ge==8&&(bn=z(bn)),_e=Ba(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,rt),_e.write_shift(2,Ge),Pt.mt?i(_e,Pt.mt):_e.write_shift(4,0),_e.write_shift(-4,Rt[St]),_e.write_shift(4,bn.length),_e.write_shift(4,Pt.content.length),_e.write_shift(2,Yr.length),_e.write_shift(2,0),Je+=_e.length,ge.push(_e),Je+=Yr.length,ge.push(Yr),Je+=bn.length,ge.push(bn),_e=Ba(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,rt),_e.write_shift(2,Ge),_e.write_shift(4,0),_e.write_shift(-4,Rt[St]),_e.write_shift(4,bn.length),_e.write_shift(4,Pt.content.length),_e.write_shift(2,Yr.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,Kr),fr+=_e.l,xe.push(_e),fr+=Yr.length,xe.push(Yr),++St}return _e=Ba(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,St),_e.write_shift(2,St),_e.write_shift(4,fr),_e.write_shift(4,Je),_e.write_shift(2,0),Xu([Xu(ge),Xu(xe),_e])}var Mt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ot(ae,we){if(ae.ctype)return ae.ctype;var me=ae.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Mt[ge[1]]||we&&(ge=(me=we).match(/[\.\\]([^\.\\])+$/),ge&&Mt[ge[1]])?Mt[ge[1]]:"application/octet-stream"}function Zt(ae){for(var we=hD(ae),me=[],ge=0;ge<we.length;ge+=76)me.push(we.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function xr(ae){var we=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Qe){var Je=Qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Je.length==1?"0"+Je:Je)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=we.split(`\r
`),xe=0;xe<ge.length;++xe){var _e=ge[xe];if(_e.length==0){me.push("");continue}for(var Ge=0;Ge<_e.length;){var rt=76,He=_e.slice(Ge,Ge+rt);He.charAt(rt-1)=="="?rt--:He.charAt(rt-2)=="="?rt-=2:He.charAt(rt-3)=="="&&(rt-=3),He=_e.slice(Ge,Ge+rt),Ge+=rt,Ge<_e.length&&(He+="="),me.push(He)}}return me.join(`\r
`)}function br(ae){for(var we=[],me=0;me<ae.length;++me){for(var ge=ae[me];me<=ae.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ae[++me];we.push(ge)}for(var xe=0;xe<we.length;++xe)we[xe]=we[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return dl(we.join(`\r
`))}function Ne(ae,we,me){for(var ge="",xe="",_e="",Ge,rt=0;rt<10;++rt){var He=we[rt];if(!He||He.match(/^\s*$/))break;var Qe=He.match(/^(.*?):\s*([^\s].*)$/);if(Qe)switch(Qe[1].toLowerCase()){case"content-location":ge=Qe[2].trim();break;case"content-type":_e=Qe[2].trim();break;case"content-transfer-encoding":xe=Qe[2].trim();break}}switch(++rt,xe.toLowerCase()){case"base64":Ge=dl(io(we.slice(rt).join("")));break;case"quoted-printable":Ge=br(we.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Je=ir(ae,ge.slice(me.length),Ge,{unsafe:!0});_e&&(Je.ctype=_e)}function ot(ae,we){if(V(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=we&&we.root||"",ge=(tn&&Buffer.isBuffer(ae)?ae.toString("binary"):V(ae)).split(`\r
`),xe=0,_e="";for(xe=0;xe<ge.length;++xe)if(_e=ge[xe],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),me||(me=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),_e.slice(0,me.length)!=me););var Ge=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var rt="--"+(Ge[1]||""),He=[],Qe=[],Je={FileIndex:He,FullPaths:Qe};T(Je);var St,jt=0;for(xe=0;xe<ge.length;++xe){var $t=ge[xe];$t!==rt&&$t!==rt+"--"||(jt++&&Ne(Je,ge.slice(St,xe),me),St=xe)}return Je}function We(ae,we){var me=we||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],_e=ae.FullPaths[0],Ge=_e,rt=ae.FileIndex[0],He=1;He<ae.FullPaths.length;++He)if(Ge=ae.FullPaths[He].slice(_e.length),rt=ae.FileIndex[He],!(!rt.size||!rt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(fr){return"_x"+fr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(fr){return"_u"+fr.charCodeAt(0).toString(16)+"_"});for(var Qe=rt.content,Je=tn&&Buffer.isBuffer(Qe)?Qe.toString("binary"):V(Qe),St=0,jt=Math.min(1024,Je.length),$t=0,Pt=0;Pt<=jt;++Pt)($t=Je.charCodeAt(Pt))>=32&&$t<128&&++St;var Rt=St>=jt*4/5;xe.push(ge),xe.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ge),xe.push("Content-Transfer-Encoding: "+(Rt?"quoted-printable":"base64")),xe.push("Content-Type: "+Ot(rt,Ge)),xe.push(""),xe.push(Rt?xr(Je):Zt(Je))}return xe.push(ge+`--\r
`),xe.join(`\r
`)}function rr(ae){var we={};return T(we,ae),we}function ir(ae,we,me,ge){var xe=ge&&ge.unsafe;xe||T(ae);var _e=!xe&&sn.find(ae,we);if(!_e){var Ge=ae.FullPaths[0];we.slice(0,Ge.length)==Ge?Ge=we:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+we).replace("//","/")),_e={name:a(we),type:2},ae.FileIndex.push(_e),ae.FullPaths.push(Ge),xe||sn.utils.cfb_gc(ae)}return _e.content=me,_e.size=me?me.length:0,ge&&(ge.CLSID&&(_e.clsid=ge.CLSID),ge.mt&&(_e.mt=ge.mt),ge.ct&&(_e.ct=ge.ct)),_e}function jr(ae,we){T(ae);var me=sn.find(ae,we);if(me){for(var ge=0;ge<ae.FileIndex.length;++ge)if(ae.FileIndex[ge]==me)return ae.FileIndex.splice(ge,1),ae.FullPaths.splice(ge,1),!0}return!1}function wr(ae,we,me){T(ae);var ge=sn.find(ae,we);if(ge){for(var xe=0;xe<ae.FileIndex.length;++xe)if(ae.FileIndex[xe]==ge)return ae.FileIndex[xe].name=a(me),ae.FullPaths[xe]=me,!0}return!1}function Ur(ae){S(ae,!0)}return t.find=E,t.read=j,t.parse=u,t.write=ee,t.writeFile=q,t.utils={cfb_new:rr,cfb_add:ir,cfb_del:jr,cfb_mov:wr,cfb_gc:Ur,ReadShift:Bg,CheckField:zz,prep_blob:vi,bconcat:Xu,use_zlib:k,_deflateRaw:_t,_inflateRaw:Me,consts:J},t}();function ide(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ac(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Yk(e){for(var t=[],r=ac(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var yb=new Date(1899,11,30,0,0,0);function vs(e,t){var r=e.getTime(),n=yb.getTime()+(e.getTimezoneOffset()-yb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var _z=new Date,sde=yb.getTime()+(_z.getTimezoneOffset()-yb.getTimezoneOffset())*6e4,_D=_z.getTimezoneOffset();function b5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+sde),t.getTimezoneOffset()!==_D&&t.setTime(t.getTime()+(t.getTimezoneOffset()-_D)*6e4),t}function ode(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var SD=new Date("2017-02-19T19:06:09.000Z"),Sz=isNaN(SD.getFullYear())?new Date("2/19/17"):SD,lde=Sz.getFullYear()==2017;function si(e,t){var r=new Date(e);if(lde)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Sz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ah(e,t){if(tn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return yg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return yg(cz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return yg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return yg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Si(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Si(e[r]));return t}function ha(e,t){for(var r="";r.length<t;)r+=e;return r}function bl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var cde=["january","february","march","april","may","june","july","august","september","october","november","december"];function gp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&cde.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var ude=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function Az(e){return e?e.content&&e.type?ah(e.content,!0):e.data?mg(e.data):e.asNodeBuffer&&tn?mg(e.asNodeBuffer().toString("binary")):e.asBinary?mg(e.asBinary()):e._data&&e._data.getContent?mg(ah(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Tz(e){if(!e)return null;if(e.data)return fD(e.data);if(e.asNodeBuffer&&tn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?fD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function fde(e){return e&&e.name.slice(-4)===".bin"?Tz(e):Az(e)}function Eo(e,t){for(var r=e.FullPaths||ac(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Xk(e,t){var r=Eo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Pa(e,t,r){if(!r)return fde(Xk(e,t));if(!t)return null;try{return Pa(e,t)}catch{return null}}function Js(e,t,r){if(!r)return Az(Xk(e,t));if(!t)return null;try{return Js(e,t)}catch{return null}}function dde(e,t,r){return Tz(Xk(e,t))}function AD(e){for(var t=e.FullPaths||ac(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function hde(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return tn?n=yh(r):n=Ife(r),sn.utils.cfb_add(e,t,n)}sn.utils.cfb_add(e,t,r)}else e.file(t,r)}function Ez(e,t){switch(t.type){case"base64":return sn.read(e,{type:"base64"});case"binary":return sn.read(e,{type:"binary"});case"buffer":case"array":return sn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function vg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Nz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pde=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,TD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,mde=/<[^>]*>/g,Zi=Nz.match(TD)?TD:mde,gde=/<\w*:/,vde=/<(\/?)\w+:/;function Tr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(pde),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function oc(e){return e.replace(vde,"<$1")}var kz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},yde=Yk(kz),hn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return kz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),xde=/[&<>'"]/g,bde=/[\u0000-\u001f]/g;function Qk(e){var t=e+"";return t.replace(xde,function(r){return yde[r]}).replace(/\n/g,"<br/>").replace(bde,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var ED=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Yn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function LS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function ND(e){var t=Rf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function kD(e){return yh(e,"binary").toString("utf8")}var mx="foo bar baz",Un=tn&&(kD(mx)==LS(mx)&&kD||ND(mx)==LS(mx)&&ND)||LS,yg=tn?function(e){return yh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},qv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Cz=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),wde=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),_de=/<\/?(?:vt:)?variant>/g,Sde=/<(?:vt:)([^>]*)>([\s\S]*)</;function CD(e,t){var r=Tr(e),n=e.match(wde(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(_de,"").match(Sde);s&&a.push({v:Un(s[2]),t:s[1]})}),a}var Ade=/(^\s|\s$|\n)/;function Tde(e){return ac(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ede(e,t,r){return"<"+e+(r!=null?Tde(r):"")+(t!=null?(t.match(Ade)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Jk(e){if(tn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Un(xh(Hk(e)));throw new Error("Bad input format: expected Buffer or string")}var Wv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Nde={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},kde=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Cde(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Pde(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var PD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},OD=tn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:yh(t)})):PD(e)}:PD,ID=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(kc(e,a)));return n.join("").replace(gs,"")},Zk=tn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(gs,""):ID(e,t,r)}:ID,jD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Pz=tn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):jD(e,t,r)}:jD,DD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(s0(e,a)));return n.join("")},Z1=tn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):DD(t,r,n)}:DD,Oz=function(e,t){var r=Qs(e,t);return r>0?Z1(e,t+4,t+4+r-1):""},Iz=Oz,jz=function(e,t){var r=Qs(e,t);return r>0?Z1(e,t+4,t+4+r-1):""},Dz=jz,Lz=function(e,t){var r=2*Qs(e,t);return r>0?Z1(e,t+4,t+4+r-1):""},Mz=Lz,Rz=function(t,r){var n=Qs(t,r);return n>0?Zk(t,r+4,r+4+n):""},Fz=Rz,$z=function(e,t){var r=Qs(e,t);return r>0?Z1(e,t+4,t+4+r):""},Bz=$z,Uz=function(e,t){return Cde(e,t)},xb=Uz,Vz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};tn&&(Iz=function(t,r){if(!Buffer.isBuffer(t))return Oz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Dz=function(t,r){if(!Buffer.isBuffer(t))return jz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Mz=function(t,r){if(!Buffer.isBuffer(t))return Lz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Fz=function(t,r){if(!Buffer.isBuffer(t))return Rz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Bz=function(t,r){if(!Buffer.isBuffer(t))return $z(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},xb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Uz(t,r)},Vz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var s0=function(e,t){return e[t]},kc=function(e,t){return e[t+1]*256+e[t]},Ode=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Qs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ad=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Ide=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Bg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,tn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(kc(this,c)),c+=2;e*=2;break;case"utf8":r=Z1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Zk(this,this.l,this.l+e);break;case"wstr":return Bg.call(this,e,"dbcs");case"lpstr-ansi":r=Iz(this,this.l),e=4+Qs(this,this.l);break;case"lpstr-cp":r=Dz(this,this.l),e=4+Qs(this,this.l);break;case"lpwstr":r=Mz(this,this.l),e=4+2*Qs(this,this.l);break;case"lpp4":e=4+Qs(this,this.l),r=Fz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Qs(this,this.l),r=Bz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=s0(this,this.l+e++))!==0;)i.push(px(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=kc(this,this.l+e))!==0;)i.push(px(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=s0(this,c),this.l=c+1,o=Bg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(px(kc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=s0(this,c),this.l=c+1,o=Bg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(px(s0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=s0(this,this.l),this.l++,n;case 2:return n=(t==="i"?Ode:kc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ad:Ide)(this,this.l),this.l+=4,n):(a=Qs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=xb(this,this.l):a=xb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Pz(this,this.l,e);break}}return this.l+=e,r}var jde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Dde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Lde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Mde(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Lde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,jde(this,t,this.l);break;case 8:if(n=8,r==="f"){Pde(this,t,this.l);break}case 16:break;case-4:n=4,Dde(this,t,this.l);break}return this.l+=n,this}function zz(e,t){var r=Pz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function vi(e,t){e.l=t,e.read_shift=Bg,e.chk=zz,e.write_shift=Mde}function Ji(e,t){e.l+=t}function Ba(e){var t=Rf(e);return vi(t,0),t}function ou(e,t,r){if(e){var n,a,i;vi(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Tb[o]||Tb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function ST(){var e=[],t=tn?256:2048,r=function(c){var u=Ba(c);return vi(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Xu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Ug(e,t,r){var n=Si(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function LD(e,t,r){var n=Si(e);return n.s=Ug(n.s,t.s,r),n.e=Ug(n.e,t.s,r),n}function Vg(e,t){if(e.cRel&&e.c<0)for(e=Si(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Si(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ir(e);return!e.cRel&&e.cRel!=null&&(r=$de(r)),!e.rRel&&e.rRel!=null&&(r=Rde(r)),r}function MS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+za(e.s.c)+":"+(e.e.cRel?"":"$")+za(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ai(e.s.r)+":"+(e.e.rRel?"":"$")+Ai(e.e.r):Vg(e.s,t.biff)+":"+Vg(e.e,t.biff)}function eC(e){return parseInt(Fde(e),10)-1}function Ai(e){return""+(e+1)}function Rde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Fde(e){return e.replace(/\$(\d+)$/,"$1")}function tC(e){for(var t=Bde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function za(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function $de(e){return e.replace(/^([A-Z])/,"$$$1")}function Bde(e){return e.replace(/^\$([A-Z])/,"$1")}function Ude(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ds(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ir(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function nm(e){var t=e.indexOf(":");return t==-1?{s:ds(e),e:ds(e)}:{s:ds(e.slice(0,t)),e:ds(e.slice(t+1))}}function ln(e,t){return typeof t>"u"||typeof t=="number"?ln(e.s,e.e):(typeof e!="string"&&(e=Ir(e)),typeof t!="string"&&(t=Ir(t)),e==t?e:e+":"+t)}function ma(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function MD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Fo(e.z,r?vs(t):t)}catch{}try{return e.w=Fo((e.XF||{}).numFmtId||(r?14:0),r?vs(t):t)}catch{return""+t}}function Qc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?_h[e.v]||e.v:t==null?MD(e,e.v):MD(e,t))}function Gf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function qz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ds(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ma(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Rr[14],n.cellDates?(p.t="d",p.w=Fo(p.z,vs(p.v))):(p.t="n",p.v=vs(p.v),p.w=Fo(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=Ir({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=ln(c)),i}function am(e,t){return qz(null,e,t)}function Vde(e){return e.read_shift(4,"i")}function Yi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function rC(e,t){var r=e.l,n=e.read_shift(1),a=Yi(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(zde(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var qde=rC;function Bo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function bh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Wde=Yi;function nC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Hde=Yi,AT=nC;function aC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?xb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ad(t,0)>>2;return r?a/100:a}function Wz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var wh=Wz;function qi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Gde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=zd[a];c&&(t.rgb=Gv(c));break;case 2:t.rgb=Gv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Kde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Hz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Yde(e){return Hz(e,1)}function Xde(e){return Hz(e,2)}var iC=2,Ts=3,gx=11,RD=12,bb=19,vx=64,Qde=65,Jde=71,Zde=4108,ehe=4126,Ja=80,Gz=81,the=[Ja,Gz],rhe={1:{n:"CodePage",t:iC},2:{n:"Category",t:Ja},3:{n:"PresentationFormat",t:Ja},4:{n:"ByteCount",t:Ts},5:{n:"LineCount",t:Ts},6:{n:"ParagraphCount",t:Ts},7:{n:"SlideCount",t:Ts},8:{n:"NoteCount",t:Ts},9:{n:"HiddenCount",t:Ts},10:{n:"MultimediaClipCount",t:Ts},11:{n:"ScaleCrop",t:gx},12:{n:"HeadingPairs",t:Zde},13:{n:"TitlesOfParts",t:ehe},14:{n:"Manager",t:Ja},15:{n:"Company",t:Ja},16:{n:"LinksUpToDate",t:gx},17:{n:"CharacterCount",t:Ts},19:{n:"SharedDoc",t:gx},22:{n:"HyperlinksChanged",t:gx},23:{n:"AppVersion",t:Ts,p:"version"},24:{n:"DigSig",t:Qde},26:{n:"ContentType",t:Ja},27:{n:"ContentStatus",t:Ja},28:{n:"Language",t:Ja},29:{n:"Version",t:Ja},255:{},2147483648:{n:"Locale",t:bb},2147483651:{n:"Behavior",t:bb},1919054434:{}},nhe={1:{n:"CodePage",t:iC},2:{n:"Title",t:Ja},3:{n:"Subject",t:Ja},4:{n:"Author",t:Ja},5:{n:"Keywords",t:Ja},6:{n:"Comments",t:Ja},7:{n:"Template",t:Ja},8:{n:"LastAuthor",t:Ja},9:{n:"RevNumber",t:Ja},10:{n:"EditTime",t:vx},11:{n:"LastPrinted",t:vx},12:{n:"CreatedDate",t:vx},13:{n:"ModifiedDate",t:vx},14:{n:"PageCount",t:Ts},15:{n:"WordCount",t:Ts},16:{n:"CharCount",t:Ts},17:{n:"Thumbnail",t:Jde},18:{n:"Application",t:Ja},19:{n:"DocSecurity",t:Ts},255:{},2147483648:{n:"Locale",t:bb},2147483651:{n:"Behavior",t:bb},1919054434:{}},FD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ahe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ihe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var she=ihe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),zd=Si(she),_h={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Kz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},$D={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function ohe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function lhe(e){var t=ohe();if(!e||!e.match)return t;var r={};if((e.match(Zi)||[]).forEach(function(n){var a=Tr(n);switch(a[0].replace(gde,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[$D[a.ContentType]]!==void 0&&t[$D[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Nde.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var E0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function TT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function zg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Zi)||[]).forEach(function(a){var i=Tr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:vg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var che="application/vnd.oasis.opendocument.spreadsheet";function uhe(e,t){for(var r=Jk(e),n,a;n=Wv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Tr(n[0],!1),a.path=="/"&&a.type!==che)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var qg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],fhe=function(){for(var e=new Array(qg.length),t=0;t<qg.length;++t){var r=qg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Yz(e){var t={};e=Un(e);for(var r=0;r<qg.length;++r){var n=qg[r],a=e.match(fhe[r]);a!=null&&a.length>0&&(t[n[1]]=hn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=si(t[n[1]]))}return t}var dhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Xz(e,t,r,n){var a=[];if(typeof e=="string")a=CD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?CD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function hhe(e,t,r){var n={};return t||(t={}),e=Un(e),dhe.forEach(function(a){var i=(e.match(qv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=hn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Xz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var phe=/<[^>]+>[^<]*/g;function mhe(e,t){var r={},n="",a=e.match(phe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Tr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=hn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=hn(u);break;case"bool":r[n]=Yn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=si(u);break;case"cy":case"error":r[n]=hn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var ghe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},RS;function vhe(e,t,r){RS||(RS=Yk(ghe)),t=RS[t]||t,e[t]=r}function sC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Qz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Jz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Zz(e,t,r){return t===31?Jz(e):Qz(e,t,r)}function ET(e,t,r){return Zz(e,t,r===!1?0:4)}function yhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Zz(e,t,0)}function xhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(gs,""),e.l-a&2&&(e.l+=2)}return r}function bhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(gs,"");return r}function whe(e){var t=e.l,r=wb(e,Gz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=wb(e,Ts);return[r,n]}function _he(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(whe(e));return r}function BD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(gs,"").replace(gg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function eq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function She(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function wb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==RD&&n!==t&&the.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===RD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Qz(e,n,4).replace(gs,"");case 31:return Jz(e);case 64:return sC(e);case 65:return eq(e);case 71:return She(e);case 80:return ET(e,n,!i.raw).replace(gs,"");case 81:return yhe(e,n).replace(gs,"");case 4108:return _he(e);case 4126:case 4127:return n==4127?xhe(e):bhe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function UD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(b,w){return b[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=wb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:pl(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=wb(e,iC),pl(o),l!==-1){var m=e.l;e.l=i[l][1],c=BD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=BD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=eq(e);break;case 30:e.l+=4,y=ET(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=ET(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ya(e,4);break;case 64:e.l+=4,y=si(sC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function VD(e,t,r){var n=e.content;if(!n)return{};vi(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==sn.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=UD(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=UD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Fu(e,t){return e.read_shift(t),null}function Ahe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ya(e,t){return e.read_shift(t)===1}function Oa(e){return e.read_shift(2,"u")}function tq(e,t){return Ahe(e,t,Oa)}function The(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function ey(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Ehe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ih(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ty(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):ih(e,n,r)}function Sh(e,t,r){if(r.biff>5)return ty(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Nhe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function khe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(gs,"");return n&&(e.l+=24),a}function Che(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(gs,"");return r+s}function Phe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return khe(e);case"0303000000000000c000000000000046":return Che(e);default:throw new Error("Unsupported Moniker "+r)}}function yx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(gs,""):"";return r}function Ohe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=yx(e,r-e.l)),a&128&&(s=yx(e,r-e.l)),(a&257)===257&&(o=yx(e,r-e.l)),(a&257)===1&&(l=Phe(e,r-e.l)),a&8&&(c=yx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=sC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),i&&(p.Tooltip=i),p}function rq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function nq(e,t){var r=rq(e);return r[3]=0,r}function lc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Ihe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function jhe(e,t,r){return t===0?"":Sh(e,t,r)}function Dhe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function aq(e){var t=e.read_shift(2),r=aC(e);return[t,r]}function Lhe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=ey(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function w5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function iq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Mhe=iq;function sq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Rhe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Fhe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Oi(e){e.l+=2,e.l+=e.read_shift(2)}var $he={0:Oi,4:Oi,5:Oi,6:Oi,7:Fhe,8:Oi,9:Oi,10:Oi,11:Oi,12:Oi,13:Rhe,14:Oi,15:Oi,16:Oi,17:Oi,18:Oi,19:Oi,20:Oi,21:sq};function Bhe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push($he[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function xx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Uhe(e,t){return t===0||e.read_shift(2),1200}function Vhe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Sh(e,0,r);return e.read_shift(t+n-e.l),a}function zhe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function qhe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=ey(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Whe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Ehe(e));return i.Count=n,i.Unique=a,i}function Hhe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Ghe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Khe(e){var t=Ihe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Yhe(e){return e.read_shift(2),e.read_shift(4)}function zD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Xhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Qhe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Jhe(){}function Zhe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ey(e,0,r),n}function e0e(e){var t=lc(e);return t.isst=e.read_shift(4),t}function t0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=lc(e);r.biff==2&&e.l++;var i=ty(e,n-e.l,r);return a.val=i,a}function r0e(e,t,r){var n=e.read_shift(2),a=Sh(e,0,r);return[n,a]}var n0e=Sh;function qD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function a0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=aq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function i0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(aq(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function s0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function o0e(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=ahe[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function l0e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=o0e(e,t,n.fStyle,r),n}function c0e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function WD(e,t,r){var n=lc(e);(r.biff==2||t==9)&&++e.l;var a=The(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function u0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=lc(e),a=qi(e);return n.val=a,n}var HD=jhe;function f0e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=ih(e,i),o=[];n>e.l;)o.push(ty(e));return[i,a,s,o]}function GD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Lhe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var d0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function KD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=ih(e,s,r);a&32&&(c=d0e[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:Gge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function oq(e,t,r){if(r.biff<8)return h0e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Dhe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function h0e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ey(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function p0e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=ih(e,n,r),s=ih(e,a,r);return[i,s]}function m0e(e,t,r){var n=iq(e);e.l++;var a=e.read_shift(1);return t-=8,[Kge(e,t,r),a,n]}function YD(e,t,r){var n=Mhe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Wge(e,t,r)]}function g0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function v0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=Sh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function y0e(e,t,r){return v0e(e,t,r)}function x0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(w5(e));return r}function b0e(e,t,r){if(r&&r.biff<8)return _0e(e,t,r);var n=sq(e),a=Bhe(e,t-22,n[1]);return{cmo:n,ft:a}}var w0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function _0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((w0e[n]||Ji)(e,t,r)),{cmo:[a,n,i],ft:s}}function S0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Nhe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Oa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=ih(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function A0e(e,t){var r=w5(e);e.l+=16;var n=Ohe(e,t-24);return[r,n]}function T0e(e,t){e.read_shift(2);var r=w5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(gs,""),[r,n]}function E0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=FD[r]||r,r=e.read_shift(2),t[1]=FD[r]||r,t}function N0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(nq(e));return r}function k0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(nq(e));return r}function C0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function lq(e,t,r){if(!r.cellStyles)return Ji(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function P0e(e,t){var r={};return t<32||(e.l+=16,r.header=qi(e),r.footer=qi(e),e.l+=2),r}function O0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var I0e=lc,j0e=tq,D0e=ty;function L0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function M0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=lc(e);++e.l;var a=Sh(e,t-7,r);return n.t="str",n.val=a,n}function R0e(e){var t=lc(e);++e.l;var r=qi(e);return t.t="n",t.val=r,t}function F0e(e){var t=lc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function $0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function B0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function U0e(e,t,r){var n=e.l+t,a=lc(e),i=e.read_shift(2),s=ih(e,i,r);return e.l=n,a.t="str",a.val=s,a}var V0e=[2,3,48,49,131,139,140,245],XD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Yk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Rf(1);switch(l.type){case"base64":u=dl(io(o));break;case"binary":u=dl(o);break;case"buffer":case"array":u=o;break}vi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var w=[],D={},P=Math.min(u.length,f==2?521:v-10-(p?264:0)),j=g?32:11;u.l<P&&u[u.l]!=13;)switch(D={},D.name=Yu.utils.decode(b,u.slice(u.l,u.l+j)).replace(/[\u0000\r\n].*$/g,""),u.l+=j,D.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),f==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&w.push(D),f!=2&&(u.l+=g?13:14),D.type){case"B":(!p||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,_=0;for(c[0]=[],_=0;_!=w.length;++_)c[0][_]=w[_].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],_=0,_=0;_!=w.length;++_){var S=u.slice(u.l,u.l+w[_].len);u.l+=w[_].len,vi(S,0);var I=Yu.utils.decode(b,S);switch(w[_].type){case"C":I.trim().length&&(c[T][_]=I.replace(/\s+$/,""));break;case"D":I.length===8?c[T][_]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):c[T][_]=I;break;case"F":c[T][_]=parseFloat(I.trim());break;case"+":case"I":c[T][_]=g?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":c[T][_]=!0;break;case"N":case"F":c[T][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][_]="##MEMO##"+(g?parseInt(I.trim(),10):S.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(c[T][_]=+I||0);break;case"@":c[T][_]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[T][_]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[T][_]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][_]=-S.read_shift(-8,"f");break;case"B":if(p&&w[_].len==8){c[T][_]=S.read_shift(8,"f");break}case"G":case"P":S.l+=w[_].len;break;case"0":if(w[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[_].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=am(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Gf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&pl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ST(),f=jT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var w=ma(o["!ref"]),D=[],P=[],j=[];for(m=0;m<=w.e.c-w.s.c;++m){var T="",_="",S=0,I=[];for(v=0;v<p.length;++v)p[v][m]!=null&&I.push(p[v][m]);if(I.length==0||h[m]==null){D[m]="?";continue}for(v=0;v<I.length;++v){switch(typeof I[v]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=I[v]instanceof Date?"D":"C";break;default:_="C"}S=Math.max(S,String(I[v]).length),T=T&&T!=_?"C":_}S>250&&(S=250),_=((g[m]||{}).DBF||{}).type,_=="C"&&g[m].DBF.len>S&&(S=g[m].DBF.len),T=="B"&&_=="N"&&(T="N",j[m]=g[m].DBF.dec,S=g[m].DBF.len),P[m]=T=="C"||_=="N"?S:i[T]||0,b+=P[m],D[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*y),E.write_shift(2,b),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[oz]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var N=u.next(32),O=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,O,"sbcs"),N.write_shift(1,D[m]=="?"?"C":D[m],"sbcs"),N.write_shift(4,v),N.write_shift(1,P[m]||i[D[m]]||0),N.write_shift(1,j[m]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),v+=P[m]||i[D[m]]||0}var U=u.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<p.length;++m){var Y=u.next(b);for(Y.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(D[v]){case"L":Y.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":Y.write_shift(8,p[m][v]||0,"f");break;case"N":var K="0";for(typeof p[m][v]=="number"&&(K=p[m][v].toFixed(j[v]||0)),y=0;y<P[v]-K.length;++y)Y.write_shift(1,32);Y.write_shift(1,K,"sbcs");break;case"D":p[m][v]?(Y.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[m][v]!=null?p[m][v]:"").slice(0,P[v]);for(Y.write_shift(1,J,"sbcs"),y=0;y<P[v]-J.length;++y)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),z0e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ac(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?dD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:dD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(io(h),p);case"binary":return i(h,p);case"buffer":return i(tn&&Buffer.isBuffer(h)?h.toString("binary"):xh(h),p);case"array":return i(ah(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,b=0,w=[],D=[],P=null,j={},T=[],_=[],S=[],I=0,E;for(+p.codepage>=0&&pl(+p.codepage);y!==g.length;++y){I=0;var N=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),O=N.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),U=O[0],Y;if(N.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&D.push(N.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,J=!1,q=!1,V=!1,ee=-1,Z=-1;for(b=1;b<O.length;++b)switch(O[b].charAt(0)){case"A":break;case"X":v=parseInt(O[b].slice(1))-1,J=!0;break;case"Y":for(m=parseInt(O[b].slice(1))-1,J||(v=0),E=w.length;E<=m;++E)w[E]=[];break;case"K":Y=O[b].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(bl(Y))?isNaN(gp(Y).getDate())||(Y=si(Y)):(Y=bl(Y),P!==null&&rm(P)&&(Y=b5(Y))),K=!0;break;case"E":V=!0;var k=B0(O[b].slice(1),{r:m,c:v});w[m][v]=[w[m][v],k];break;case"S":q=!0,w[m][v]=[w[m][v],"S5S"];break;case"G":break;case"R":ee=parseInt(O[b].slice(1))-1;break;case"C":Z=parseInt(O[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}if(K&&(w[m][v]&&w[m][v].length==2?w[m][v][0]=Y:w[m][v]=Y,P=null),q){if(V)throw new Error("SYLK shared formula cannot have own formula");var R=ee>-1&&w[ee][Z];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");w[m][v][1]=yq(R[1],{r:m-ee,c:v-Z})}break;case"F":var z=0;for(b=1;b<O.length;++b)switch(O[b].charAt(0)){case"X":v=parseInt(O[b].slice(1))-1,++z;break;case"Y":for(m=parseInt(O[b].slice(1))-1,E=w.length;E<=m;++E)w[E]=[];break;case"M":I=parseInt(O[b].slice(1))/20;break;case"F":break;case"G":break;case"P":P=D[parseInt(O[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=O[b].slice(1).split(" "),E=parseInt(S[0],10);E<=parseInt(S[1],10);++E)I=parseInt(S[2],10),_[E-1]=I===0?{hidden:!0}:{wch:I},vp(_[E-1]);break;case"C":v=parseInt(O[b].slice(1))-1,_[v]||(_[v]={});break;case"R":m=parseInt(O[b].slice(1))-1,T[m]||(T[m]={}),I>0?(T[m].hpt=I,T[m].hpx=Kv(I)):I===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}z<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}}return T.length>0&&(j["!rows"]=T),_.length>0&&(j["!cols"]=_),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,j]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=am(m,p);return ac(v).forEach(function(b){y[b]=v[b]}),y}function o(h,p){return Gf(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Cme(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Sb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Ab(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*mq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],v=ma(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var D=v.s.r;D<=v.e.r;++D)for(var P=v.s.c;P<=v.e.c;++P){var j=Ir({r:D,c:P});y=b?(h[D]||[])[P]:h[j],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,D,P))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),q0e=function(){function e(i,s){switch(s.type){case"base64":return t(io(i),s);case"binary":return t(i,s);case"buffer":return t(tn&&Buffer.isBuffer(i)?i.toString("binary"):xh(i),s);case"array":return t(ah(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(bl(g))?isNaN(gp(g).getDate())?f[l][c]=g:f[l][c]=si(g):f[l][c]=bl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return am(e(i,s),s)}function n(i,s){return Gf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=ma(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Ir({r:p,c:g});if(f=h?(l[p]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Fo(f.z||Rr[14],vs(si(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),W0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var b=p[v].trim().split(":");if(b[0]==="cell"){var w=ds(b[1]);if(y.length<=w.r)for(g=y.length;g<=w.r;++g)y[g]||(y[g]=[]);switch(g=w.r,m=w.c,b[2]){case"t":y[g][m]=e(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var D=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],D])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return am(r(f,h),h)}function a(f,h){return Gf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",v=nm(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(m=Ir({r:b,c:w}),g=y?(f[b]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=vs(si(g.v));p[2]="vtc",p[3]="nd",p[4]=""+D,p[5]=g.w||Fo(g.z||Rr[14],D);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Hv=function(){function e(u,f,h,p,g){g.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(bl(u))?isNaN(gp(u).getDate())?f[h][p]=u:f[h][p]=si(u):f[h][p]=bl(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=m;++b){p[b]=[];var w=0;for(e(g[b].slice(0,v).trim(),p,b,w,h),w=1;w<=(g[b].length-v)/10+1;++w)e(g[b].slice(v+(w-1)*10,v+w*10).trim(),p,b,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,b=0,w=0,D=0,P=p.charCodeAt(0),j=!1,T=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=h.dateNF!=null?rde(h.dateNF):null;function I(){var E=u.slice(w,D),N={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)N.t="z";else if(h.raw)N.t="s",N.v=E;else if(E.trim().length===0)N.t="s",N.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(N.t="s",N.v=E.slice(2,-1).replace(/""/g,'"')):Ome(E)?(N.t="n",N.f=E.slice(1)):(N.t="s",N.v=E);else if(E=="TRUE")N.t="b",N.v=!0;else if(E=="FALSE")N.t="b",N.v=!1;else if(!isNaN(b=bl(E)))N.t="n",h.cellText!==!1&&(N.w=E),N.v=b;else if(!isNaN(gp(E).getDate())||S&&E.match(S)){N.z=h.dateNF||Rr[14];var O=0;S&&E.match(S)&&(E=nde(E,h.dateNF,E.match(S)||[]),O=1),h.cellDates?(N.t="d",N.v=si(E,O)):(N.t="n",N.v=vs(si(E,O))),h.cellText!==!1&&(N.w=Fo(N.z,N.v instanceof Date?vs(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=E;if(N.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=N):g[Ir({c:y,r:v})]=N),w=D+1,_=u.charCodeAt(w),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;D<u.length;++D)switch(T=u.charCodeAt(D)){case 34:_===34&&(j=!j);break;case P:case 10:case 13:if(!j&&I())break e;break}return D-w>0&&I(),g["!ref"]=ln(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):am(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:pC(u,f);switch(f.type){case"base64":h=io(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Yu<"u"?h=Yu.utils.decode(f.codepage,u):h=tn&&Buffer.isBuffer(u)?u.toString("binary"):xh(u);break;case"array":h=ah(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Un(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Un(h):f.type=="binary"&&typeof Yu<"u"&&f.codepage&&(h=Yu.utils.decode(f.codepage,Yu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?W0e.to_sheet(f.type=="string"?h:Un(h),f):s(h,f)}function l(u,f){return Gf(o(u,f),f)}function c(u){for(var f=[],h=ma(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Ir({r:m,c:y});if(p=g?(u[m]||[])[y]:u[b],!p||p.v==null){v.push("          ");continue}for(var w=(p.w||(Qc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function H0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=z0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Hv.to_workbook(e,t)}}var Wg=function(){function e(k,R,z){if(k){vi(k,k.l||0);for(var G=z.Enum||ee;k.l<k.length;){var Q=k.read_shift(2),oe=G[Q]||G[65535],fe=k.read_shift(2),ne=k.l+fe,he=oe.f&&oe.f(k,fe,z);if(k.l=ne,R(he,oe,Q))return}}}function t(k,R){switch(R.type){case"base64":return r(dl(io(k)),R);case"binary":return r(dl(k),R);case"buffer":case"array":return r(k,R)}throw"Unsupported type "+R.type}function r(k,R){if(!k)return k;var z=R||{},G=z.dense?[]:{},Q="Sheet1",oe="",fe=0,ne={},he=[],ye=[],W={s:{r:0,c:0},e:{r:0,c:0}},ke=z.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)z.Enum=ee,e(k,function($e,Ke,Se){switch(Se){case 0:z.vers=$e,$e>=4096&&(z.qpro=!0);break;case 6:W=$e;break;case 204:$e&&(oe=$e);break;case 222:oe=$e;break;case 15:case 51:z.qpro||($e[1].v=$e[1].v.slice(1));case 13:case 14:case 16:Se==14&&($e[2]&112)==112&&($e[2]&15)>1&&($e[2]&15)<15&&($e[1].z=z.dateNF||Rr[14],z.cellDates&&($e[1].t="d",$e[1].v=b5($e[1].v))),z.qpro&&$e[3]>fe&&(G["!ref"]=ln(W),ne[Q]=G,he.push(Q),G=z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},fe=$e[3],Q=oe||"Sheet"+(fe+1),oe="");var Re=z.dense?(G[$e[0].r]||[])[$e[0].c]:G[Ir($e[0])];if(Re){Re.t=$e[1].t,Re.v=$e[1].v,$e[1].z!=null&&(Re.z=$e[1].z),$e[1].f!=null&&(Re.f=$e[1].f);break}z.dense?(G[$e[0].r]||(G[$e[0].r]=[]),G[$e[0].r][$e[0].c]=$e[1]):G[Ir($e[0])]=$e[1];break}},z);else if(k[2]==26||k[2]==14)z.Enum=Z,k[2]==14&&(z.qpro=!0,k.l=0),e(k,function($e,Ke,Se){switch(Se){case 204:Q=$e;break;case 22:$e[1].v=$e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if($e[3]>fe&&(G["!ref"]=ln(W),ne[Q]=G,he.push(Q),G=z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},fe=$e[3],Q="Sheet"+(fe+1)),ke>0&&$e[0].r>=ke)break;z.dense?(G[$e[0].r]||(G[$e[0].r]=[]),G[$e[0].r][$e[0].c]=$e[1]):G[Ir($e[0])]=$e[1],W.e.c<$e[0].c&&(W.e.c=$e[0].c),W.e.r<$e[0].r&&(W.e.r=$e[0].r);break;case 27:$e[14e3]&&(ye[$e[14e3][0]]=$e[14e3][1]);break;case 1537:ye[$e[0]]=$e[1],$e[0]==fe&&(Q=$e[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(G["!ref"]=ln(W),ne[oe||Q]=G,he.push(oe||Q),!ye.length)return{SheetNames:he,Sheets:ne};for(var Ce={},Te=[],ie=0;ie<ye.length;++ie)ne[he[ie]]?(Te.push(ye[ie]||he[ie]),Ce[ye[ie]]=ne[ye[ie]]||ne[he[ie]]):(Te.push(ye[ie]),Ce[ye[ie]]={"!ref":"A1"});return{SheetNames:Te,Sheets:Ce}}function n(k,R){var z=R||{};if(+z.codepage>=0&&pl(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var G=ST(),Q=ma(k["!ref"]),oe=Array.isArray(k),fe=[];el(G,0,i(1030)),el(G,6,l(Q));for(var ne=Math.min(Q.e.r,8191),he=Q.s.r;he<=ne;++he)for(var ye=Ai(he),W=Q.s.c;W<=Q.e.c;++W){he===Q.s.r&&(fe[W]=za(W));var ke=fe[W]+ye,Ce=oe?(k[he]||[])[W]:k[ke];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?el(G,13,p(he,W,Ce.v)):el(G,14,m(he,W,Ce.v));else{var Te=Qc(Ce);el(G,15,f(he,W,Te.slice(0,239)))}}return el(G,1),G.end()}function a(k,R){var z=R||{};if(+z.codepage>=0&&pl(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var G=ST();el(G,0,s(k));for(var Q=0,oe=0;Q<k.SheetNames.length;++Q)(k.Sheets[k.SheetNames[Q]]||{})["!ref"]&&el(G,27,V(k.SheetNames[Q],oe++));var fe=0;for(Q=0;Q<k.SheetNames.length;++Q){var ne=k.Sheets[k.SheetNames[Q]];if(!(!ne||!ne["!ref"])){for(var he=ma(ne["!ref"]),ye=Array.isArray(ne),W=[],ke=Math.min(he.e.r,8191),Ce=he.s.r;Ce<=ke;++Ce)for(var Te=Ai(Ce),ie=he.s.c;ie<=he.e.c;++ie){Ce===he.s.r&&(W[ie]=za(ie));var $e=W[ie]+Te,Ke=ye?(ne[Ce]||[])[ie]:ne[$e];if(!(!Ke||Ke.t=="z"))if(Ke.t=="n")el(G,23,I(Ce,ie,fe,Ke.v));else{var Se=Qc(Ke);el(G,22,T(Ce,ie,fe,Se.slice(0,239)))}}++fe}}return el(G,1),G.end()}function i(k){var R=Ba(2);return R.write_shift(2,k),R}function s(k){var R=Ba(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var z=0,G=0,Q=0,oe=0;oe<k.SheetNames.length;++oe){var fe=k.SheetNames[oe],ne=k.Sheets[fe];if(!(!ne||!ne["!ref"])){++Q;var he=nm(ne["!ref"]);z<he.e.r&&(z=he.e.r),G<he.e.c&&(G=he.e.c)}}return z>8191&&(z=8191),R.write_shift(2,z),R.write_shift(1,Q),R.write_shift(1,G),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(k,R,z){var G={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&z.qpro?(G.s.c=k.read_shift(1),k.l++,G.s.r=k.read_shift(2),G.e.c=k.read_shift(1),k.l++,G.e.r=k.read_shift(2),G):(G.s.c=k.read_shift(2),G.s.r=k.read_shift(2),R==12&&z.qpro&&(k.l+=2),G.e.c=k.read_shift(2),G.e.r=k.read_shift(2),R==12&&z.qpro&&(k.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(k){var R=Ba(8);return R.write_shift(2,k.s.c),R.write_shift(2,k.s.r),R.write_shift(2,k.e.c),R.write_shift(2,k.e.r),R}function c(k,R,z){var G=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(G[0].c=k.read_shift(1),G[3]=k.read_shift(1),G[0].r=k.read_shift(2),k.l+=2):(G[2]=k.read_shift(1),G[0].c=k.read_shift(2),G[0].r=k.read_shift(2)),G}function u(k,R,z){var G=k.l+R,Q=c(k,R,z);if(Q[1].t="s",z.vers==20768){k.l++;var oe=k.read_shift(1);return Q[1].v=k.read_shift(oe,"utf8"),Q}return z.qpro&&k.l++,Q[1].v=k.read_shift(G-k.l,"cstr"),Q}function f(k,R,z){var G=Ba(7+z.length);G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(1,39);for(var Q=0;Q<G.length;++Q){var oe=z.charCodeAt(Q);G.write_shift(1,oe>=128?95:oe)}return G.write_shift(1,0),G}function h(k,R,z){var G=c(k,R,z);return G[1].v=k.read_shift(2,"i"),G}function p(k,R,z){var G=Ba(7);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(2,z,"i"),G}function g(k,R,z){var G=c(k,R,z);return G[1].v=k.read_shift(8,"f"),G}function m(k,R,z){var G=Ba(13);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(8,z,"f"),G}function v(k,R,z){var G=k.l+R,Q=c(k,R,z);if(Q[1].v=k.read_shift(8,"f"),z.qpro)k.l=G;else{var oe=k.read_shift(2);D(k.slice(k.l,k.l+oe),Q),k.l+=oe}return Q}function y(k,R,z){var G=R&32768;return R&=-32769,R=(G?k:0)+(R>=8192?R-16384:R),(G?"":"$")+(z?za(R):Ai(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(k,R){vi(k,0);for(var z=[],G=0,Q="",oe="",fe="",ne="";k.l<k.length;){var he=k[k.l++];switch(he){case 0:z.push(k.read_shift(8,"f"));break;case 1:oe=y(R[0].c,k.read_shift(2),!0),Q=y(R[0].r,k.read_shift(2),!1),z.push(oe+Q);break;case 2:{var ye=y(R[0].c,k.read_shift(2),!0),W=y(R[0].r,k.read_shift(2),!1);oe=y(R[0].c,k.read_shift(2),!0),Q=y(R[0].r,k.read_shift(2),!1),z.push(ye+W+":"+oe+Q)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(k.read_shift(2));break;case 6:{for(var ke="";he=k[k.l++];)ke+=String.fromCharCode(he);z.push('"'+ke.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ne=z.pop(),fe=z.pop(),z.push(["AND","OR"][he-20]+"("+fe+","+ne+")");break;default:if(he<32&&w[he])ne=z.pop(),fe=z.pop(),z.push(fe+w[he]+ne);else if(b[he]){if(G=b[he][1],G==69&&(G=k[k.l++]),G>z.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+z.join("|")+"|");return}var Ce=z.slice(-G);z.length-=G,z.push(b[he][0]+"("+Ce.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}z.length==1?R[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function P(k){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=k.read_shift(2),R[3]=k[k.l++],R[0].c=k[k.l++],R}function j(k,R){var z=P(k);return z[1].t="s",z[1].v=k.read_shift(R-4,"cstr"),z}function T(k,R,z,G){var Q=Ba(6+G.length);Q.write_shift(2,k),Q.write_shift(1,z),Q.write_shift(1,R),Q.write_shift(1,39);for(var oe=0;oe<G.length;++oe){var fe=G.charCodeAt(oe);Q.write_shift(1,fe>=128?95:fe)}return Q.write_shift(1,0),Q}function _(k,R){var z=P(k);z[1].v=k.read_shift(2);var G=z[1].v>>1;if(z[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return z[1].v=G,z}function S(k,R){var z=P(k),G=k.read_shift(4),Q=k.read_shift(4),oe=k.read_shift(2);if(oe==65535)return G===0&&Q===3221225472?(z[1].t="e",z[1].v=15):G===0&&Q===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var fe=oe&32768;return oe=(oe&32767)-16446,z[1].v=(1-fe*2)*(Q*Math.pow(2,oe+32)+G*Math.pow(2,oe)),z}function I(k,R,z,G){var Q=Ba(14);if(Q.write_shift(2,k),Q.write_shift(1,z),Q.write_shift(1,R),G==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var oe=0,fe=0,ne=0,he=0;return G<0&&(oe=1,G=-G),fe=Math.log2(G)|0,G/=Math.pow(2,fe-31),he=G>>>0,he&2147483648||(G/=2,++fe,he=G>>>0),G-=he,he|=2147483648,he>>>=0,G*=Math.pow(2,32),ne=G>>>0,Q.write_shift(4,ne),Q.write_shift(4,he),fe+=16383+(oe?32768:0),Q.write_shift(2,fe),Q}function E(k,R){var z=S(k);return k.l+=R-14,z}function N(k,R){var z=P(k),G=k.read_shift(4);return z[1].v=G>>6,z}function O(k,R){var z=P(k),G=k.read_shift(8,"f");return z[1].v=G,z}function U(k,R){var z=O(k);return k.l+=R-10,z}function Y(k,R){return k[k.l+R-1]==0?k.read_shift(R,"cstr"):""}function K(k,R){var z=k[k.l++];z>R-1&&(z=R-1);for(var G="";G.length<z;)G+=String.fromCharCode(k[k.l++]);return G}function J(k,R,z){if(!(!z.qpro||R<21)){var G=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var Q=k.read_shift(R-21,"cstr");return[G,Q]}}function q(k,R){for(var z={},G=k.l+R;k.l<G;){var Q=k.read_shift(2);if(Q==14e3){for(z[Q]=[0,""],z[Q][0]=k.read_shift(2);k[k.l];)z[Q][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return z}function V(k,R){var z=Ba(5+k.length);z.write_shift(2,14e3),z.write_shift(2,R);for(var G=0;G<k.length;++G){var Q=k.charCodeAt(G);z[z.l++]=Q>127?95:Q}return z[z.l++]=0,z}var ee={0:{n:"BOF",f:Oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function G0e(e){var t={},r=e.match(Zi),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Tr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=qk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var K0e=function(){var e=qv("t"),t=qv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:hn(s[1])},l=i.match(t);return l&&(o.s=G0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),Y0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),X0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Q0e=/<(?:\w+:)?r>/,J0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function oC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=hn(Un(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Un(e),r&&(n.h=Qk(n.t))):e.match(Q0e)&&(n.r=Un(e),n.t=hn(Un((e.replace(J0e,"").match(X0e)||[]).join("").replace(Zi,""))),r&&(n.h=Y0e(K0e(n.r)))),n):{t:""}}var Z0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,epe=/<(?:\w+:)?(?:si|sstItem)>/g,tpe=/<\/(?:\w+:)?(?:si|sstItem)>/;function rpe(e,t){var r=[],n="";if(!e)return r;var a=e.match(Z0e);if(a){n=a[2].replace(epe,"").split(tpe);for(var i=0;i!=n.length;++i){var s=oC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Tr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function npe(e){return[e.read_shift(4),e.read_shift(4)]}function ape(e,t){var r=[],n=!1;return ou(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function cq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Lc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function ipe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Lc(e,4),t.U=Lc(e,4),t.W=Lc(e,4),t}function spe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function ope(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(spe(e));return t}function lpe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function cpe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Lc(e,4),t.U=Lc(e,4),t.W=Lc(e,4),t}function upe(e){var t=cpe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function uq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function fq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function fpe(e){var t=Lc(e);switch(t.Minor){case 2:return[t.Minor,dpe(e)];case 3:return[t.Minor,hpe()];case 4:return[t.Minor,ppe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function dpe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=uq(e,r),a=fq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function hpe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ppe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Zi,function(i){var s=Tr(i);switch(oc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function mpe(e,t){var r={},n=r.EncryptionVersionInfo=Lc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=uq(e,a),t-=a,r.EncryptionVerifier=fq(e,t),r}function gpe(e){var t={},r=t.EncryptionVersionInfo=Lc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function vpe(e){var t=0,r,n=cq(e),a=n.length+1,i,s,o,l,c;for(r=Rf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var dq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=cq(s),l=i(o),c=o.length,u=Rf(16),f=0;f!=16;++f)u[f]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),ype=function(e,t,r,n,a){a||(a=t),n||(n=dq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},xpe=function(e){var t=0,r=dq(e);return function(n){var a=ype("",n,t,r);return t=a[1],a[0]}};function bpe(e,t,r,n){var a={key:Oa(e),verificationBytes:Oa(e)};return r.password&&(a.verifier=vpe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=xpe(r.password)),a}function wpe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=gpe(e):n.Data=mpe(e,t),n}function _pe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?wpe(e,t-2,n):bpe(e,r.biff>=8?t:t-2,r,n),n}var Spe=function(){function e(a,i){switch(i.type){case"base64":return t(io(a),i);case"binary":return t(a,i);case"buffer":return t(tn&&Buffer.isBuffer(a)?a.toString("binary"):xh(a),i);case"array":return t(ah(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[Ir({r:f,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=ln(c),o}function r(a,i){return Gf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=ma(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Ir({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Qc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Ape(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Gv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Tpe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Epe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function _b(e,t){if(t===0)return e;var r=Tpe(Ape(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Gv(Epe(r))}var hq=6,Npe=15,kpe=1,ls=hq;function Sb(e){return Math.floor((e+Math.round(128/ls)/256)*ls)}function Ab(e){return Math.floor((e-5)/ls*100+.5)/100}function NT(e){return Math.round((e*ls+5)/ls*256)/256}function FS(e){return NT(Ab(Sb(e)))}function lC(e){var t=Math.abs(e-FS(e)),r=ls;if(t>.005)for(ls=kpe;ls<Npe;++ls)Math.abs(e-FS(e))<=t&&(t=Math.abs(e-FS(e)),r=ls);ls=r}function vp(e){e.width?(e.wpx=Sb(e.width),e.wch=Ab(e.wpx),e.MDW=ls):e.wpx?(e.wch=Ab(e.wpx),e.width=NT(e.wch),e.MDW=ls):typeof e.wch=="number"&&(e.width=NT(e.wch),e.wpx=Sb(e.width),e.MDW=ls),e.customWidth&&delete e.customWidth}var Cpe=96,pq=Cpe;function mq(e){return e*96/pq}function Kv(e){return e*pq/96}var Ppe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ope(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Zi)||[]).forEach(function(s){var o=Tr(s);switch(oc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Yn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Yn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Ipe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Zi)||[]).forEach(function(s){var o=Tr(s);switch(oc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function jpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Zi)||[]).forEach(function(s){var o=Tr(s);switch(oc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Un(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Yn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Yn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Yn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Yn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Yn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Yn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Yn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=qk[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Yn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=zd[a.color.index];a.color.index==81&&(l=zd[1]),l||(l=zd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=_b(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Dpe(e,t,r){t.NumberFmt=[];for(var n=ac(Rr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Rr[n[a]];var i=e[0].match(Zi);if(i)for(a=0;a<i.length;++a){var s=Tr(i[a]);switch(oc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=hn(Un(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Vd(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var bx=["numFmtId","fillId","fontId","borderId","xfId"],wx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Lpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Zi)||[]).forEach(function(i){var s=Tr(i),o=0;switch(oc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<bx.length;++o)n[bx[o]]&&(n[bx[o]]=parseInt(n[bx[o]],10));for(o=0;o<wx.length;++o)n[wx[o]]&&(n[wx[o]]=Yn(n[wx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Yn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var Mpe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Dpe(f,u,c),(f=o.match(a))&&jpe(f,u,l,c),(f=o.match(n))&&Ipe(f,u,l,c),(f=o.match(i))&&Ope(f,u,l,c),(f=o.match(r))&&Lpe(f,u,c),u}}();function Rpe(e,t){var r=e.read_shift(2),n=Yi(e);return[r,n]}function Fpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Kde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Gde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Yi(e),n}var $pe=Ji;function Bpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Upe=Ji;function Vpe(e,t,r){var n={};n.NumberFmt=[];for(var a in Rr)n.NumberFmt[a]=Rr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return ou(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Vd(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=_b(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var zpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function qpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Zi)||[]).forEach(function(a){var i=Tr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[zpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Wpe(){}function Hpe(){}var Gpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Kpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Ype=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Xpe(e,t,r){t.themeElements={};var n;[["clrScheme",Gpe,qpe],["fontScheme",Kpe,Wpe],["fmtScheme",Ype,Hpe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Qpe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function gq(e,t){(!e||e.length===0)&&(e=Jpe());var r,n={};if(!(r=e.match(Qpe)))throw new Error("themeElements not found in theme");return Xpe(r[0],n,t),n.raw=e,n}function Jpe(e,t){var r=[Nz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Zpe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=Ez(i,{type:"array"})}catch{return}var o=Js(s,"theme/theme/theme1.xml",!0);if(o)return gq(o,r)}}function eme(e){return e.read_shift(4)}function tme(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=rme(e,4);break;case 2:t.xclrValue=rq(e);break;case 3:t.xclrValue=eme(e);break;case 4:e.l+=4;break}return e.l+=8,t}function rme(e,t){return Ji(e,t)}function nme(e,t){return Ji(e,t)}function ame(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=tme(e);break;case 6:n[1]=nme(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ime(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(ame(e,r-e.l));return{ixfe:n,ext:i}}function sme(e,t){t.forEach(function(r){switch(r[0]){}})}function ome(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Yi(e)}}function lme(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function cme(e){return e.l+=4,e.read_shift(4)!=0}function ume(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return ou(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function fme(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Zi,function(o){var l=Tr(o);switch(oc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function dme(e){var t=[];if(!e)return t;var r=1;return(e.match(Zi)||[]).forEach(function(n){var a=Tr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function hme(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ir(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function pme(e,t,r){var n=[];return ou(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function mme(e,t,r,n){if(!e)return e;var a=n||{},i=!1;ou(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function gme(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function QD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=ds(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=ma(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=ln(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function vme(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Tr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=ds(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&oC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function yme(e,t){var r=[],n=!1,a={},i=0;return e.replace(Zi,function(o,l){var c=Tr(o);switch(oc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function xme(e,t){var r=[],n=!1;return e.replace(Zi,function(i){var s=Tr(i);switch(oc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function bme(e){var t={};t.iauthor=e.read_shift(4);var r=wh(e);return t.rfx=r.s,t.ref=Ir(r.s),e.l+=16,t}var wme=Yi;function _me(e,t){var r=[],n=[],a={},i=!1;return ou(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Sme="application/vnd.ms-office.vbaProject";function Ame(e){var t=sn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");sn.utils.cfb_add(t,a,e.FileIndex[n].content)}}),sn.write(t)}function Tme(){return{"!type":"dialog"}}function Eme(){return{"!type":"dialog"}}function Nme(){return{"!type":"macro"}}function kme(){return{"!type":"macro"}}var B0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+za(u)+(l?"":"$")+Ai(c)}return function(a,i){return t=i,a.replace(e,r)}}(),vq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Cme=function(){return function(t,r){return t.replace(vq,function(n,a,i,s,o,l){var c=tC(s)-(i?0:r.c),u=eC(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function yq(e,t){return e.replace(vq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:za(tC(i)+t.c))+(s=="$"?s+o:Ai(eC(o)+t.r))})}function Pme(e,t,r){var n=nm(t),a=n.s,i=ds(r),s={r:i.r-a.r,c:i.c-a.c};return yq(e,s)}function Ome(e){return e.length!=1}function JD(e){return e.replace(/_xlfn\./g,"")}function ka(e){e.l+=1}function Ff(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function xq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return bq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Ff(e),o=Ff(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function bq(e){var t=Ff(e),r=Ff(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Ime(e,t,r){if(r.biff<8)return bq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ff(e),s=Ff(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function wq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return jme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ff(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function jme(e){var t=Ff(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Dme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Lme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Mme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function Mme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Rme(e,t,r){var n=(e[e.l++]&96)>>5,a=xq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Fme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=xq(e,i,r);return[n,a,s]}function $me(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Bme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Ume(e,t,r){var n=(e[e.l++]&96)>>5,a=Ime(e,t-1,r);return[n,a]}function Vme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ZD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function zme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function qme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Wme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Hme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Gme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function _q(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Kme(e){return e.read_shift(2),_q(e)}function Yme(e){return e.read_shift(2),_q(e)}function Xme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=wq(e,0,r);return[n,a]}function Qme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Lme(e,0,r);return[n,a]}function Jme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=wq(e,0,r);return[n,a,i]}function Zme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[eve[a],Tq[a],n]}function ege(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:tge(e);return[a,(i[0]===0?Tq:Zge)[i[1]]]}function tge(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function rge(e,t,r){e.l+=r&&r.biff==2?3:4}function nge(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function age(e){return e.l++,_h[e.read_shift(1)]}function ige(e){return e.l++,e.read_shift(2)}function sge(e){return e.l++,e.read_shift(1)!==0}function oge(e){return e.l++,qi(e)}function lge(e,t,r){return e.l++,ey(e,t-1,r)}function cge(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ya(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=_h[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=qi(e);break;case 2:r[1]=Sh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function uge(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?wh:w5)(e));return a}function fge(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=cge(e,r.biff);return s}function dge(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function hge(e,t,r){if(r.biff==5)return pge(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function pge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function mge(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function gge(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function vge(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function yge(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var xge=Ji,bge=Ji,wge=Ji;function ry(e,t,r){return e.l+=2,[Dme(e)]}function cC(e){return e.l+=6,[]}var _ge=ry,Sge=cC,Age=cC,Tge=ry;function Sq(e){return e.l+=2,[Oa(e),e.read_shift(2)&1]}var Ege=ry,Nge=Sq,kge=cC,Cge=ry,Pge=ry,Oge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ige(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Oge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function jge(e){return e.l+=2,[e.read_shift(4)]}function Dge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Lge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Mge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Rge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Fge(e){return e.l+=4,[0,0]}var e8={1:{n:"PtgExp",f:nge},2:{n:"PtgTbl",f:wge},3:{n:"PtgAdd",f:ka},4:{n:"PtgSub",f:ka},5:{n:"PtgMul",f:ka},6:{n:"PtgDiv",f:ka},7:{n:"PtgPower",f:ka},8:{n:"PtgConcat",f:ka},9:{n:"PtgLt",f:ka},10:{n:"PtgLe",f:ka},11:{n:"PtgEq",f:ka},12:{n:"PtgGe",f:ka},13:{n:"PtgGt",f:ka},14:{n:"PtgNe",f:ka},15:{n:"PtgIsect",f:ka},16:{n:"PtgUnion",f:ka},17:{n:"PtgRange",f:ka},18:{n:"PtgUplus",f:ka},19:{n:"PtgUminus",f:ka},20:{n:"PtgPercent",f:ka},21:{n:"PtgParen",f:ka},22:{n:"PtgMissArg",f:ka},23:{n:"PtgStr",f:lge},26:{n:"PtgSheet",f:Dge},27:{n:"PtgEndSheet",f:Lge},28:{n:"PtgErr",f:age},29:{n:"PtgBool",f:sge},30:{n:"PtgInt",f:ige},31:{n:"PtgNum",f:oge},32:{n:"PtgArray",f:Vme},33:{n:"PtgFunc",f:Zme},34:{n:"PtgFuncVar",f:ege},35:{n:"PtgName",f:dge},36:{n:"PtgRef",f:Xme},37:{n:"PtgArea",f:Rme},38:{n:"PtgMemArea",f:mge},39:{n:"PtgMemErr",f:xge},40:{n:"PtgMemNoMem",f:bge},41:{n:"PtgMemFunc",f:gge},42:{n:"PtgRefErr",f:vge},43:{n:"PtgAreaErr",f:$me},44:{n:"PtgRefN",f:Qme},45:{n:"PtgAreaN",f:Ume},46:{n:"PtgMemAreaN",f:Mge},47:{n:"PtgMemNoMemN",f:Rge},57:{n:"PtgNameX",f:hge},58:{n:"PtgRef3d",f:Jme},59:{n:"PtgArea3d",f:Fme},60:{n:"PtgRefErr3d",f:yge},61:{n:"PtgAreaErr3d",f:Bme},255:{}},$ge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Bge={1:{n:"PtgElfLel",f:Sq},2:{n:"PtgElfRw",f:Cge},3:{n:"PtgElfCol",f:_ge},6:{n:"PtgElfRwV",f:Pge},7:{n:"PtgElfColV",f:Tge},10:{n:"PtgElfRadical",f:Ege},11:{n:"PtgElfRadicalS",f:kge},13:{n:"PtgElfColS",f:Sge},15:{n:"PtgElfColSV",f:Age},16:{n:"PtgElfRadicalLel",f:Nge},25:{n:"PtgList",f:Ige},29:{n:"PtgSxName",f:jge},255:{}},Uge={0:{n:"PtgAttrNoop",f:Fge},1:{n:"PtgAttrSemi",f:Gme},2:{n:"PtgAttrIf",f:Wme},4:{n:"PtgAttrChoose",f:zme},8:{n:"PtgAttrGoto",f:qme},16:{n:"PtgAttrSum",f:rge},32:{n:"PtgAttrBaxcel",f:ZD},33:{n:"PtgAttrBaxcel",f:ZD},64:{n:"PtgAttrSpace",f:Kme},65:{n:"PtgAttrSpaceSemi",f:Yme},128:{n:"PtgAttrIfError",f:Hme},255:{}};function ny(e,t,r,n){if(n.biff<8)return Ji(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=fge(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=uge(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Ji(e,t)),i}function ay(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=e8[i]||e8[$ge[i]],(i===24||i===25)&&(a=(i===24?Bge:Uge)[e[e.l+1]]),!a||!a.f?Ji(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Vge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var zge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function qge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Aq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function t8(e,t,r){var n=Aq(e,t,r);return n=="#REF"?n:qge(n,r)}function $i(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=ha(" ",e[0][m][1][1]);break;case 1:v=ha("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+zge[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Ug(w[1][1],s,a),o.push(Vg(u,i));break;case"PtgRefN":u=r?Ug(w[1][1],r,a):w[1][1],o.push(Vg(u,i));break;case"PtgRef3d":f=w[1][1],u=Ug(w[1][2],s,a),g=t8(n,f,a),o.push(g+"!"+Vg(u,i));break;case"PtgFunc":case"PtgFuncVar":var D=w[1][0],P=w[1][1];D||(D=0),D&=127;var j=D==0?[]:o.slice(-D);o.length-=D,P==="User"&&(P=j.shift()),o.push(P+"("+j.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=LD(w[1][1],r?{s:r}:s,a),o.push(MS(p,a));break;case"PtgArea":p=LD(w[1][1],s,a),o.push(MS(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],g=t8(n,f,a),o.push(g+"!"+MS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],_=T?T.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var S=w[1][1];h=w[1][2];var I;if(a.biff<=5)S<0&&(S=-S),n[S]&&(I=n[S][h]);else{var E="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][h]&&n[S][h].itab>0&&(E=n.SheetNames[n[S][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[S]&&n[S][h])E+=n[S][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var N=(Aq(n,S,a)||"").split(";;");N[h-1]?E=N[h-1]:E+="SH33TJSERRX"}o.push(E);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var O="(",U=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:O=ha(" ",e[0][m][1][1])+O;break;case 3:O=ha("\r",e[0][m][1][1])+O;break;case 4:U=ha(" ",e[0][m][1][1])+U;break;case 5:U=ha("\r",e[0][m][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(O+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[Ir(u)]){var K=n.sharedf[Ir(u)];o.push($i(K,s,Y,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push($i(c[1],s,Y,n,a)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+Vge(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&q.indexOf(e[0][y][0])==-1){w=e[0][m];var V=!0;switch(w[1][0]){case 4:V=!1;case 0:v=ha(" ",w[1][1]);break;case 5:V=!1;case 1:v=ha("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((V?v:"")+o.pop()+(V?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Wge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ji(e,t-2)];var o=ay(e,s,r);return t!==s+a&&(i=ny(e,t-s-a,o,r)),e.l=n,[o,i]}function Hge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ji(e,t-2)];var o=ay(e,s,r);return t!==s+a&&(i=ny(e,t-s-a,o,r)),e.l=n,[o,i]}function Gge(e,t,r,n){var a=e.l+t,i=ay(e,n,r),s;return a!==e.l&&(s=ny(e,a-e.l,i,r)),[i,s]}function Kge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=ay(e,i,r);return i==65535?[[],Ji(e,t-2)]:(t!==i+2&&(a=ny(e,n-i-2,s,r)),[s,a])}function Yge(e){var t;if(kc(e,e.l+6)!==65535)return[qi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function $S(e,t,r){var n=e.l+t,a=lc(e);r.biff==2&&++e.l;var i=Yge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Hge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function _5(e,t,r){var n=e.read_shift(4),a=ay(e,n,r),i=e.read_shift(4),s=i>0?ny(e,i,a,r):null;return[a,s]}var Xge=_5,S5=_5,Qge=_5,Jge=_5,Zge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Tq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},eve={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function r8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function BS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Hg={},U0={};function Gg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Eq(e,t,r,n,a,i){try{n.cellNF&&(e.z=Rr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=si(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Rr[t]==null&&Vd(tde[t]||"General",t),e.t==="e")e.w=e.w||_h[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=zv(e.v);else if(e.t==="d"){var s=vs(e.v);(s|0)===s?e.w=s.toString(10):e.w=zv(s)}else{if(e.v===void 0)return"";e.w=nh(e.v,U0)}else e.t==="d"?e.w=Fo(t,vs(e.v),U0):e.w=Fo(t,e.v,U0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=_b(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=_b(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function tve(e,t){var r=ma(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ln(r))}var rve=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,nve=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ave=/<(?:\w:)?hyperlink [^>]*>/mg,ive=/"(\w*:\w*)"/,sve=/<(?:\w:)?col\b[^>]*[\/]?>/g,ove=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,lve=/<(?:\w:)?pageMargins[^>]*\/>/g,Nq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,cve=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,uve=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function fve(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(nve);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(Nq);h?uC(h[0],o,a,r):(h=c.match(cve))&&dve(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(ive);g&&tve(o,g[1])}var m=c.match(uve);m&&m[1]&&yve(m[1],a);var v=[];if(t.cellStyles){var y=c.match(sve);y&&mve(v,y)}f&&xve(f[1],o,t,l,i,s);var b=u.match(ove);b&&(o["!autofilter"]=gve(b[0]));var w=[],D=u.match(rve);if(D)for(p=0;p!=D.length;++p)w[p]=ma(D[p].slice(D[p].indexOf('"')+1));var P=u.match(ave);P&&hve(o,P,n);var j=u.match(lve);if(j&&(o["!margins"]=pve(Tr(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=ln(l)),t.sheetRows>0&&o["!ref"]){var T=ma(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ln(T))}return v.length>0&&(o["!cols"]=v),w.length>0&&(o["!merges"]=w),o}function uC(e,t,r,n){var a=Tr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=hn(Un(a.codeName)))}function dve(e,t,r,n,a){uC(e.slice(0,e.indexOf(">")),r,n,a)}function hve(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Tr(Un(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+hn(i.location))):(i.Target="#"+hn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=ma(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Ir({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function pve(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function mve(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Tr(t[n],!0);a.hidden&&(a.hidden=Yn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,lC(a.width)),vp(a);i<=s;)e[i++]=Si(a)}}function gve(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var vve=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function yve(e,t){t.Views||(t.Views=[{}]),(e.match(vve)||[]).forEach(function(r,n){var a=Tr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Yn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var xve=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=qv("v"),s=qv("f");return function(l,c,u,f,h,p){for(var g=0,m="",v=[],y=[],b=0,w=0,D=0,P="",j,T,_=0,S=0,I,E,N=0,O=0,U=Array.isArray(p.CellXf),Y,K=[],J=[],q=Array.isArray(c),V=[],ee={},Z=!1,k=!!u.sheetStubs,R=l.split(t),z=0,G=R.length;z!=G;++z){m=R[z].trim();var Q=m.length;if(Q!==0){var oe=0;e:for(g=0;g<Q;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=Tr(m.slice(oe,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,u.sheetRows&&u.sheetRows<_)continue;ee={},Z=!1,T.ht&&(Z=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Kv(ee.hpt)),T.hidden=="1"&&(Z=!0,ee.hidden=!0),T.outlineLevel!=null&&(Z=!0,ee.level=+T.outlineLevel),Z&&(V[_-1]=ee)}break;case"<":oe=g;break}if(oe>=g)break;if(T=Tr(m.slice(oe,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,!(u.sheetRows&&u.sheetRows<_)){f.s.r>_-1&&(f.s.r=_-1),f.e.r<_-1&&(f.e.r=_-1),u&&u.cellStyles&&(ee={},Z=!1,T.ht&&(Z=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Kv(ee.hpt)),T.hidden=="1"&&(Z=!0,ee.hidden=!0),T.outlineLevel!=null&&(Z=!0,ee.level=+T.outlineLevel),Z&&(V[_-1]=ee)),v=m.slice(g).split(e);for(var fe=0;fe!=v.length&&v[fe].trim().charAt(0)=="<";++fe);for(v=v.slice(fe),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),b=g,w=0,D=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,P=y[1],w=0;w!=P.length&&!((D=P.charCodeAt(w)-64)<1||D>26);++w)b=26*b+D;--b,S=b}else++S;for(w=0;w!=m.length&&m.charCodeAt(w)!==62;++w);if(++w,T=Tr(m.slice(0,w),!0),T.r||(T.r=Ir({r:_-1,c:S})),P=m.slice(w),j={t:""},(y=P.match(i))!=null&&y[1]!==""&&(j.v=hn(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(j.f=hn(Un(y[1])).replace(/\r\n/g,`
`),u.xlfn||(j.f=JD(j.f)),y[0].indexOf('t="array"')>-1)j.F=(P.match(a)||[])[1],j.F.indexOf(":")>-1&&K.push([ma(j.F),j.F]);else if(y[0].indexOf('t="shared"')>-1){E=Tr(y[0]);var ne=hn(Un(y[1]));u.xlfn||(ne=JD(ne)),J[parseInt(E.si,10)]=[E,ne,T.r]}}else(y=P.match(/<f[^>]*\/>/))&&(E=Tr(y[0]),J[E.si]&&(j.f=Pme(J[E.si][1],J[E.si][2],T.r)));var he=ds(T.r);for(w=0;w<K.length;++w)he.r>=K[w][0].s.r&&he.r<=K[w][0].e.r&&he.c>=K[w][0].s.c&&he.c<=K[w][0].e.c&&(j.F=K[w][1])}if(T.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(k)j.t="z";else continue;else j.t=T.t||"n";switch(f.s.c>S&&(f.s.c=S),f.e.c<S&&(f.e.c=S),j.t){case"n":if(j.v==""||j.v==null){if(!k)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!k)continue;j.t="z"}else I=Hg[parseInt(j.v,10)],j.v=I.t,j.r=I.r,u.cellHTML&&(j.h=I.h);break;case"str":j.t="s",j.v=j.v!=null?Un(j.v):"",u.cellHTML&&(j.h=Qk(j.v));break;case"inlineStr":y=P.match(n),j.t="s",y!=null&&(I=oC(y[1]))?(j.v=I.t,u.cellHTML&&(j.h=I.h)):j.v="";break;case"b":j.v=Yn(j.v);break;case"d":u.cellDates?j.v=si(j.v,1):(j.v=vs(si(j.v,1)),j.t="n");break;case"e":(!u||u.cellText!==!1)&&(j.w=j.v),j.v=Kz[j.v];break}if(N=O=0,Y=null,U&&T.s!==void 0&&(Y=p.CellXf[T.s],Y!=null&&(Y.numFmtId!=null&&(N=Y.numFmtId),u.cellStyles&&Y.fillId!=null&&(O=Y.fillId))),Eq(j,N,O,u,h,p),u.cellDates&&U&&j.t=="n"&&rm(Rr[N])&&(j.t="d",j.v=b5(j.v)),T.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+T.cm-1];ye&&ye.type=="XLDAPR"&&(j.D=!0)}if(q){var W=ds(T.r);c[W.r]||(c[W.r]=[]),c[W.r][W.c]=j}else c[T.r]=j}}}}V.length>0&&(c["!rows"]=V)}}();function bve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var wve=wh;function _ve(){}function Sve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Wde(e),r}function Ave(e){var t=Bo(e);return[t]}function Tve(e){var t=bh(e);return[t]}function Eve(e){var t=Bo(e),r=e.read_shift(1);return[t,r,"b"]}function Nve(e){var t=bh(e),r=e.read_shift(1);return[t,r,"b"]}function kve(e){var t=Bo(e),r=e.read_shift(1);return[t,r,"e"]}function Cve(e){var t=bh(e),r=e.read_shift(1);return[t,r,"e"]}function Pve(e){var t=Bo(e),r=e.read_shift(4);return[t,r,"s"]}function Ove(e){var t=bh(e),r=e.read_shift(4);return[t,r,"s"]}function Ive(e){var t=Bo(e),r=qi(e);return[t,r,"n"]}function kq(e){var t=bh(e),r=qi(e);return[t,r,"n"]}function jve(e){var t=Bo(e),r=aC(e);return[t,r,"n"]}function Dve(e){var t=bh(e),r=aC(e);return[t,r,"n"]}function Lve(e){var t=Bo(e),r=rC(e);return[t,r,"is"]}function Mve(e){var t=Bo(e),r=Yi(e);return[t,r,"str"]}function Rve(e){var t=bh(e),r=Yi(e);return[t,r,"str"]}function Fve(e,t,r){var n=e.l+t,a=Bo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=$i(o,null,a,r.supbooks,r)}else e.l=n;return s}function $ve(e,t,r){var n=e.l+t,a=Bo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=$i(o,null,a,r.supbooks,r)}else e.l=n;return s}function Bve(e,t,r){var n=e.l+t,a=Bo(e);a.r=r["!row"];var i=qi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=$i(o,null,a,r.supbooks,r)}else e.l=n;return s}function Uve(e,t,r){var n=e.l+t,a=Bo(e);a.r=r["!row"];var i=Yi(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=$i(o,null,a,r.supbooks,r)}else e.l=n;return s}var Vve=wh;function zve(e,t){var r=e.l+t,n=wh(e),a=nC(e),i=Yi(e),s=Yi(e),o=Yi(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function qve(){}function Wve(e,t,r){var n=e.l+t,a=Wz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Xge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Hve(e,t,r){var n=e.l+t,a=wh(e),i=[a];if(r.cellFormula){var s=Jge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var Gve=["left","right","top","bottom","header","footer"];function Kve(e){var t={};return Gve.forEach(function(r){t[r]=qi(e)}),t}function Yve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Xve(){}function Qve(){}function Jve(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,m,v,y,b,w,D,P,j=[];o.biff=12,o["!row"]=0;var T=0,_=!1,S=[],I={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=I,E.arrayf=S,E.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var N=0;N<a.Names.length;++N)E[0][N+1]=a.Names[N];var O=[],U=[],Y=!1;Tb[16]={n:"BrtShortReal",f:kq};var K;if(ou(e,function(V,ee,Z){if(!h)switch(Z){case 148:c=V;break;case 0:p=V,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),D=Ai(v=p.r),o["!row"]=p.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=Kv(V.hpt)),U[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:V[2]},V[2]){case"n":g.v=V[1];break;case"s":w=Hg[V[1]],g.v=w.t,g.r=w.r;break;case"b":g.v=!!V[1];break;case"e":g.v=V[1],o.cellText!==!1&&(g.w=_h[g.v]);break;case"str":g.t="s",g.v=V[1];break;case"is":g.t="s",g.v=V[1].t;break}if((m=s.CellXf[V[0].iStyleRef])&&Eq(g,m.numFmtId,null,o,i,s),y=V[0].c==-1?y+1:V[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[za(y)+D]=g,o.cellFormula){for(_=!1,T=0;T<S.length;++T){var k=S[T];p.r>=k[0].s.r&&p.r<=k[0].e.r&&y>=k[0].s.c&&y<=k[0].e.c&&(g.F=ln(k[0]),_=!0)}!_&&V.length>3&&(g.f=V[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&rm(Rr[m.numFmtId])){var R=Id(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}K&&(K.type=="XLDAPR"&&(g.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=V[0].c==-1?y+1:V[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[za(y)+D]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),K&&(K.type=="XLDAPR"&&(g.D=!0),K=void 0);break;case 176:j.push(V);break;case 49:K=((o.xlmeta||{}).Cell||[])[V-1];break;case 494:var z=n["!id"][V.relId];for(z?(V.Target=z.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=z):V.relId==""&&(V.Target="#"+V.loc),v=V.rfx.s.r;v<=V.rfx.e.r;++v)for(y=V.rfx.s.c;y<=V.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=V):(b=Ir({c:y,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=V);break;case 426:if(!o.cellFormula)break;S.push(V),P=o.dense?l[v][y]:l[za(y)+D],P.f=$i(V[1],u,{r:p.r,c:y},E,o),P.F=ln(V[0]);break;case 427:if(!o.cellFormula)break;I[Ir(V[0].s)]=V[1],P=o.dense?l[v][y]:l[za(y)+D],P.f=$i(V[1],u,{r:p.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;V.e>=V.s;)O[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},Y||(Y=!0,lC(V.w/256)),vp(O[V.e+1]);break;case 161:l["!autofilter"]={ref:ln(V)};break;case 476:l["!margins"]=V;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),V.name&&(a.Sheets[r].CodeName=V.name),(V.above||V.left)&&(l["!outline"]={above:V.above,left:V.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),V.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=ln(c||u)),o.sheetRows&&l["!ref"]){var J=ma(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ln(J))}return j.length>0&&(l["!merges"]=j),O.length>0&&(l["!cols"]=O),U.length>0&&(l["!rows"]=U),l}function Zve(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=hn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function e1e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Zve(f);u.s.r=u.s.c=0,u.e.c=o,c=za(o),h[0].forEach(function(p,g){s[c+Ai(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=ln(u)),s}function t1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Nq);return o&&uC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function r1e(e,t){e.l+=10;var r=Yi(e);return{name:r}}function n1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ou(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var Cq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],a1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],i1e=[],s1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function n8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Yn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function a8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Yn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Pq(e){a8(e.WBProps,Cq),a8(e.CalcPr,s1e),n8(e.WBView,a1e),n8(e.Sheets,i1e),U0.date1904=Yn(e.WBProps.date1904)}var o1e="][*?/\\".split("");function l1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return o1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var c1e=/<\w+:workbook/;function u1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Zi,function(l,c){var u=Tr(l);switch(oc(u[0])){case"<?xml":break;case"<workbook":l.match(c1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Cq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Yn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Un(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=hn(Un(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Un(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Yn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=hn(Un(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),kde.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Pq(r),r}function f1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=AT(e),r.name=Yi(e),r}function d1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Yi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function h1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function p1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Hde(e),s=Qge(e,0,r),o=nC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function m1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Tb[16]={n:"BrtFRTArchID$",f:h1e},ou(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=$i(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Pq(r),r.Names=i,r.supbooks=s,r}function g1e(e,t,r){return t.slice(-4)===".bin"?m1e(e,r):u1e(e,r)}function v1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Jve(e,n,r,a,i,s,o):fve(e,n,r,a,i,s,o)}function y1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?n1e(e,n,r,a,i):t1e(e,n,r,a,i)}function x1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Nme():kme()}function b1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Tme():Eme()}function w1e(e,t,r,n){return t.slice(-4)===".bin"?Vpe(e,r,n):Mpe(e,r,n)}function _1e(e,t,r){return gq(e,r)}function S1e(e,t,r){return t.slice(-4)===".bin"?ape(e,r):rpe(e,r)}function A1e(e,t,r){return t.slice(-4)===".bin"?_me(e,r):vme(e,r)}function T1e(e,t,r){return t.slice(-4)===".bin"?pme(e):dme(e)}function E1e(e,t,r,n){return r.slice(-4)===".bin"?mme(e,t,r,n):void 0}function N1e(e,t,r){return t.slice(-4)===".bin"?ume(e,t,r):fme(e,t,r)}var Oq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Iq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Zo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Oq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Iq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function k1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Oq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(Iq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Kg;function C1e(e,t){var r=Kg[e]||hn(e);return r==="General"?nh(t):Fo(r,t)}function P1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Yn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=si(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[hn(t)]=a}function O1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||_h[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=zv(e.v):e.w=nh(e.v):e.w=C1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Kg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&rm(n)){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function I1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Ppe[n.Pattern]||n.Pattern)}e[t.ID]=t}function j1e(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Yn(e);break;case"String":n.t="s",n.r=ED(hn(e)),n.v=e.indexOf("<")>-1?hn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(si(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=hn(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Kz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=ED(t||e));break}if(O1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=hn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=B0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=B0("RC:RC",a):n.ArrayRange&&(n.F=B0(n.ArrayRange,a),l.push([ma(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function D1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function US(e,t){var r=t||{};bz();var n=mg(Jk(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Un(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Si(r);return s.type="string",Hv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ke){a.indexOf("<"+Ke)>=0&&(i=!0)}),i)return z1e(n,r);Kg={"General Number":"General","General Date":Rr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Rr[15],"Short Date":Rr[14],"Long Time":Rr[19],"Medium Time":Rr[18],"Short Time":Rr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Rr[2],Standard:Rr[4],Percent:Rr[10],Scientific:Rr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",g={},m={},v=Zo('<Data ss:Type="String">'),y=0,b=0,w=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},j={},T="",_=0,S=[],I={},E={},N=0,O=[],U=[],Y={},K=[],J,q=!1,V=[],ee=[],Z={},k=0,R=0,z={Sheets:[],WBProps:{date1904:!1}},G={};Wv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=Wv.exec(n);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?j1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?Y:g,{c:b,r:w},P,K[b],m,V,r):(T="",v=Zo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>w)&&g.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=g):h[za(b)+Ai(w)]=g),g.HRef&&(g.l={Target:hn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(k=b+(parseInt(g.MergeAcross,10)|0),R=w+(parseInt(g.MergeDown,10)|0),S.push({s:{c:b,r:w},e:{c:k,r:R}})),!r.sheetStubs)g.MergeAcross?b=k+1:++b;else if(g.MergeAcross||g.MergeDown){for(var oe=b;oe<=k;++oe)for(var fe=w;fe<=R;++fe)(oe>b||fe>w)&&(r.dense?(h[fe]||(h[fe]=[]),h[fe][oe]={t:"z"}):h[za(oe)+Ai(fe)]={t:"z"});b=k+1}else++b;else g=k1e(o[0]),g.Index&&(b=+g.Index-1),b<D.s.c&&(D.s.c=b),b>D.e.c&&(D.e.c=b),o[0].slice(-2)==="/>"&&++b,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<D.s.r&&(D.s.r=w),w>D.e.r&&(D.e.r=w),o[0].slice(-2)==="/>"&&(m=Zo(o[0]),m.Index&&(w=+m.Index-1)),b=0,++w):(m=Zo(o[0]),m.Index&&(w=+m.Index-1),Z={},(m.AutoFitHeight=="0"||m.Height)&&(Z.hpx=parseInt(m.Height,10),Z.hpt=mq(Z.hpx),ee[w]=Z),m.Hidden=="1"&&(Z.hidden=!0,ee[w]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(h["!ref"]=ln(D),r.sheetRows&&r.sheetRows<=D.e.r&&(h["!fullref"]=h["!ref"],D.e.r=r.sheetRows-1,h["!ref"]=ln(D))),S.length&&(h["!merges"]=S),K.length>0&&(h["!cols"]=K),ee.length>0&&(h["!rows"]=ee),u[p]=h}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([o[3],!1]),c=Zo(o[0]),p=hn(c.Name),h=r.dense?[]:{},S=[],V=[],ee=[],G={name:p,Hidden:0},z.Sheets.push(G);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),K=[],q=!1}break;case"style":o[1]==="/"?I1e(P,j,r):j=Zo(o[0]);break;case"numberformat":j.nf=hn(Zo(o[0]).Format||"General"),Kg[j.nf]&&(j.nf=Kg[j.nf]);for(var ne=0;ne!=392&&Rr[ne]!=j.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(Rr[ne]==null){Vd(j.nf,ne);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Zo(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!q&&J.wpx>10){q=!0,ls=hq;for(var he=0;he<K.length;++he)K[he]&&vp(K[he])}q&&vp(J),K[J.Index-1||K.length]=J;for(var ye=0;ye<+J.Span;++ye)K[K.length]=Si(J);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var W=Tr(o[0]),ke={Name:W.Name,Ref:B0(W.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(ke.Sheet=z.Sheets.length-1),z.Names.push(ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(_,o.index):_=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=Zo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?vhe(I,Q,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));D1e(Y),U.push(Y)}else l.push([o[3],!1]),c=Zo(o[0]),Y={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=Zo(o[0]);h["!autofilter"]={ref:B0(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return u8(n,r);var Te=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Te=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Te=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Te=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Te=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||Gg(h["!margins"]={},"xlml"),isNaN(+Tr(o[0]).Margin)||(h["!margins"].header=+Tr(o[0]).Margin);break;case"footer":h["!margins"]||Gg(h["!margins"]={},"xlml"),isNaN(+Tr(o[0]).Margin)||(h["!margins"].footer=+Tr(o[0]).Margin);break;case"pagemargins":var ie=Tr(o[0]);h["!margins"]||Gg(h["!margins"]={},"xlml"),isNaN(+ie.Top)||(h["!margins"].top=+ie.Top),isNaN(+ie.Left)||(h["!margins"].left=+ie.Left),isNaN(+ie.Right)||(h["!margins"].right=+ie.Right),isNaN(+ie.Bottom)||(h["!margins"].bottom=+ie.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Te=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Te=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Te=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Te=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Te=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Te=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Te=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Te=!1}break;case"smarttags":break;default:Te=!1;break}if(Te||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?P1e(E,Q,O,n.slice(N,o.index)):(O=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var $e={};return!r.bookSheets&&!r.bookProps&&($e.Sheets=u),$e.SheetNames=f,$e.Workbook=z,$e.SSF=Si(Rr),$e.Props=I,$e.Custprops=E,$e}function kT(e,t){switch(hC(t=t||{}),t.type||"base64"){case"base64":return US(io(e),t);case"binary":case"buffer":case"file":return US(e,t);case"array":return US(xh(e),t)}}function L1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Yde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Xde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var M1e=[60,1084,2066,2165,2175];function R1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=kc(r,r.l),c=CT[l],u=0;c!=null&&M1e.indexOf(l)>-1;)i=kc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=CT[l=kc(r,r.l)];var f=Xu(s);vi(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Fl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Rr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||_h[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=zv(e.v):e.w=nh(e.v):e.w=Fo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&rm(Rr[n]||String(n))){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function _x(e,t,r){return{v:e,ixfe:t,t:r}}function F1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",p,g,m,v,y={},b=[],w,D,P=[],j=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},S=function(_t){return _t<8?zd[_t]:_t<64&&j[_t-8]||zd[_t]},I=function(_t,ct,er){var Wt=ct.XF.data;if(!(!Wt||!Wt.patternType||!er||!er.cellStyles)){ct.s={},ct.s.patternType=Wt.patternType;var Gr;(Gr=Gv(S(Wt.icvFore)))&&(ct.s.fgColor={rgb:Gr}),(Gr=Gv(S(Wt.icvBack)))&&(ct.s.bgColor={rgb:Gr})}},E=function(_t,ct,er){if(!(Z>1)&&!(er.sheetRows&&_t.r>=er.sheetRows)){if(er.cellStyles&&ct.XF&&ct.XF.data&&I(_t,ct,er),delete ct.ixfe,delete ct.XF,f=_t,h=Ir(_t),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),_t.r<s.s.r&&(s.s.r=_t.r),_t.c<s.s.c&&(s.s.c=_t.c),_t.r+1>s.e.r&&(s.e.r=_t.r+1),_t.c+1>s.e.c&&(s.e.c=_t.c+1),er.cellFormula&&ct.f){for(var Wt=0;Wt<b.length;++Wt)if(!(b[Wt][0].s.c>_t.c||b[Wt][0].s.r>_t.r)&&!(b[Wt][0].e.c<_t.c||b[Wt][0].e.r<_t.r)){ct.F=ln(b[Wt][0]),(b[Wt][0].s.c!=_t.c||b[Wt][0].s.r!=_t.r)&&delete ct.f,ct.f&&(ct.f=""+$i(b[Wt][1],s,_t,V,N));break}}er.dense?(a[_t.r]||(a[_t.r]=[]),a[_t.r][_t.c]=ct):a[h]=ct}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var O,U=[],Y=[],K=[],J=[],q=!1,V=[];V.SheetNames=N.snames,V.sharedf=N.sharedf,V.arrayf=N.arrayf,V.names=[],V.XTI=[];var ee=0,Z=0,k=0,R=[],z=[],G;N.codepage=1200,pl(1200);for(var Q=!1;e.l<e.length-1;){var oe=e.l,fe=e.read_shift(2);if(fe===0&&ee===10)break;var ne=e.l===e.length?0:e.read_shift(2),he=CT[fe];if(he&&he.f){if(t.bookSheets&&ee===133&&fe!==133)break;if(ee=fe,he.r===2||he.r==12){var ye=e.read_shift(2);if(ne-=2,!N.enc&&ye!==fe&&((ye&255)<<8|ye>>8)!==fe)throw new Error("rt mismatch: "+ye+"!="+fe);he.r==12&&(e.l+=10,ne-=10)}var W={};if(fe===10?W=he.f(e,ne,N):W=R1e(fe,he,e,ne,N),Z==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(fe){case 34:r.opts.Date1904=T.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=W;break;case 66:var ke=Number(W);switch(ke){case 21010:ke=1200;break;case 32768:ke=1e4;break;case 32769:ke=1252;break}pl(N.codepage=ke),Q=!0;break;case 317:N.rrtabid=W;break;case 25:N.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:N.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(a["!type"]="dialog"),W.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),W.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(W);break;case 430:V.push([W]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(W);break;case 24:case 536:G={Name:W.Name,Ref:$i(W.rgce,s,null,V,N)},W.itab>0&&(G.Sheet=W.itab-1),V.names.push(G),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(z[W.itab-1]={ref:ln(W.rgce[0][0][1][2])});break;case 22:N.ExternCount=W;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(W),V.XTI=V.XTI.concat(W);break;case 2196:if(N.biff<8)break;G!=null&&(G.Comment=W[1]);break;case 18:a["!protect"]=W;break;case 19:W!==0&&N.WTF&&console.error("Password verifier: "+W);break;case 133:i[W.pos]=W,N.snames.push(W.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=ln(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=ln(s),s.e.r=Ce}s.e.r++,s.e.c++}U.length>0&&(a["!merges"]=U),Y.length>0&&(a["!objects"]=Y),K.length>0&&(a["!cols"]=K),J.length>0&&(a["!rows"]=J),T.Sheets.push(_)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),N.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(N.biff=5,Q=!0,pl(N.codepage=28591)),N.biff==8&&W.BIFFVer==0&&W.dt==16&&(N.biff=2),Z++)break;if(a=t.dense?[]:{},N.biff<8&&!Q&&(Q=!0,pl(N.codepage=t.codepage||1252)),N.biff<5||W.BIFFVer==0&&W.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Te={pos:e.l-ne,name:c};i[Te.pos]=Te,N.snames.push(c)}else c=(i[oe]||{name:""}).name;W.dt==32&&(a["!type"]="chart"),W.dt==64&&(a["!type"]="macro"),U=[],Y=[],N.arrayf=b=[],K=[],J=[],q=!1,_={Hidden:(i[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[W.r]||[])[W.c]:a[Ir({c:W.c,r:W.r})])&&++W.c,w={ixfe:W.ixfe,XF:P[W.ixfe]||{},v:W.val,t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 5:case 517:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.val,t:W.t},k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 638:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.rknum,t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 189:for(var ie=W.c;ie<=W.C;++ie){var $e=W.rkrec[ie-W.c][0];w={ixfe:$e,XF:P[$e],v:W.rkrec[ie-W.c][1],t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:ie,r:W.r},w,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(w=_x(W.val,W.cell.ixfe,W.tt),w.XF=P[w.ixfe],t.cellFormula){var Ke=W.formula;if(Ke&&Ke[0]&&Ke[0][0]&&Ke[0][0][0]=="PtgExp"){var Se=Ke[0][0][1][0],Re=Ke[0][0][1][1],be=Ir({r:Se,c:Re});y[be]?w.f=""+$i(W.formula,s,W.cell,V,N):w.F=((t.dense?(a[Se]||[])[Re]:a[be])||{}).F}else w.f=""+$i(W.formula,s,W.cell,V,N)}k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E(W.cell,w,t),o=W}break;case 7:case 519:if(o)o.val=W,w=_x(W,o.cell.ixfe,"s"),w.XF=P[w.ixfe],t.cellFormula&&(w.f=""+$i(o.formula,s,o.cell,V,N)),k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(W);var je=Ir(W[0].s);if(p=t.dense?(a[W[0].s.r]||[])[W[0].s.c]:a[je],t.cellFormula&&p){if(!o||!je||!p)break;p.f=""+$i(W[1],s,W[0],V,N),p.F=ln(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Ir(o.cell)]=W[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Ir(o.cell)],(p||{}).f=""+$i(W[0],s,f,V,N)}}break;case 253:w=_x(l[W.isst].t,W.ixfe,"s"),l[W.isst].h&&(w.h=l[W.isst].h),w.XF=P[w.ixfe],k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:W.ixfe,XF:P[W.ixfe],t:"z"},k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t));break;case 190:if(t.sheetStubs)for(var Ee=W.c;Ee<=W.C;++Ee){var qe=W.ixfe[Ee-W.c];w={ixfe:qe,XF:P[qe],t:"z"},k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:Ee,r:W.r},w,t)}break;case 214:case 516:case 4:w=_x(W.val,W.ixfe,"s"),w.XF=P[w.ixfe],k>0&&(w.z=R[w.ixfe>>8&63]),Fl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 0:case 512:Z===1&&(s=W);break;case 252:l=W;break;case 1054:if(N.biff==4){R[k++]=W[1];for(var at=0;at<k+163&&Rr[at]!=W[1];++at);at>=163&&Vd(W[1],k+163)}else Vd(W[1],W[0]);break;case 30:{R[k++]=W;for(var nt=0;nt<k+163&&Rr[nt]!=W;++nt);nt>=163&&Vd(W,k+163)}break;case 229:U=U.concat(W);break;case 93:Y[W.cmo[0]]=N.lastobj=W;break;case 438:N.lastobj.TxO=W;break;case 127:N.lastobj.ImData=W;break;case 440:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Ir({c:m,r:v})],p&&(p.l=W[1]);break;case 2048:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Ir({c:m,r:v})],p&&p.l&&(p.l.Tooltip=W[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;p=t.dense?(a[W[0].r]||[])[W[0].c]:a[Ir(W[0])];var ft=Y[W[2]];p||(t.dense?(a[W[0].r]||(a[W[0].r]=[]),p=a[W[0].r][W[0].c]={t:"z"}):p=a[Ir(W[0])]={t:"z"},s.e.r=Math.max(s.e.r,W[0].r),s.s.r=Math.min(s.s.r,W[0].r),s.e.c=Math.max(s.e.c,W[0].c),s.s.c=Math.min(s.s.c,W[0].c)),p.c||(p.c=[]),g={a:W[1],t:ft.TxO.t},p.c.push(g)}break;case 2173:sme(P[W.ixfe],W.ext);break;case 125:{if(!N.cellStyles)break;for(;W.e>=W.s;)K[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},q||(q=!0,lC(W.w/256)),vp(K[W.e+1])}break;case 520:{var Et={};W.level!=null&&(J[W.r]=Et,Et.level=W.level),W.hidden&&(J[W.r]=Et,Et.hidden=!0),W.hpt&&(J[W.r]=Et,Et.hpt=W.hpt,Et.hpx=Kv(W.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Gg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fe]]=W;break;case 161:a["!margins"]||Gg(a["!margins"]={}),a["!margins"].header=W.header,a["!margins"].footer=W.footer;break;case 574:W.RTL&&(T.Views[0].RTL=!0);break;case 146:j=W;break;case 2198:O=W;break;case 140:D=W;break;case 442:c?_.CodeName=W||_.name:T.WBProps.CodeName=W||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+fe.toString(16)),e.l+=ne}return r.SheetNames=ac(i).sort(function(kt,_t){return Number(kt)-Number(_t)}).map(function(kt){return i[kt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(kt,_t){r.Sheets[r.SheetNames[_t]]["!autofilter"]=kt}),r.Strings=l,r.SSF=Si(Rr),N.enc&&(r.Encryption=N.enc),O&&(r.Themes=O),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),V.names.length>0&&(T.Names=V.names),r.Workbook=T,r}var i8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function $1e(e,t,r){var n=sn.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=VD(n,rhe,i8.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=sn.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=VD(s,nhe,i8.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Xz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function jq(e,t){t||(t={}),hC(t),lz(),t.codepage&&Wk(t.codepage);var r,n;if(e.FullPaths){if(sn.find(e,"/encryption"))throw new Error("File is password-protected");r=sn.find(e,"!CompObj"),n=sn.find(e,"/Workbook")||sn.find(e,"/Book")}else{switch(t.type){case"base64":e=dl(io(e));break;case"binary":e=dl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}vi(e,0),n={content:e}}var a,i;if(r&&L1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=tn?"buffer":"array";if(n&&n.content)a=F1e(n.content,t);else if((i=sn.find(e,"PerfectOffice_MAIN"))&&i.content)a=Wg.to_workbook(i.content,(t.type=s,t));else if((i=sn.find(e,"NativeContent_MAIN"))&&i.content)a=Wg.to_workbook(i.content,(t.type=s,t));else throw(i=sn.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&sn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Ame(e))}var o={};return e.FullPaths&&$1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Tb={0:{f:bve},1:{f:Ave},2:{f:jve},3:{f:kve},4:{f:Eve},5:{f:Ive},6:{f:Mve},7:{f:Pve},8:{f:Uve},9:{f:Bve},10:{f:Fve},11:{f:$ve},12:{f:Tve},13:{f:Dve},14:{f:Cve},15:{f:Nve},16:{f:kq},17:{f:Rve},18:{f:Ove},19:{f:rC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:p1e},40:{},42:{},43:{f:Fpe},44:{f:Rpe},45:{f:$pe},46:{f:Upe},47:{f:Bpe},48:{},49:{f:Vde},50:{},51:{f:lme},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:lq},62:{f:Lve},63:{f:hme},64:{f:Xve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ji,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Yve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Sve},148:{f:wve,p:16},151:{f:qve},152:{},153:{f:d1e},154:{},155:{},156:{f:f1e},157:{},158:{},159:{T:1,f:npe},160:{T:-1},161:{T:1,f:wh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Vve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ome},336:{T:-1},337:{f:cme,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:AT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:oq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Wve},427:{f:Hve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Kve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:_ve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:AT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:wme},633:{T:1},634:{T:-1},635:{T:1,f:bme},636:{T:-1},637:{f:qde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:r1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Qve},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},CT={6:{f:$S},10:{f:Fu},12:{f:Oa},13:{f:Oa},14:{f:ya},15:{f:ya},16:{f:qi},17:{f:ya},18:{f:ya},19:{f:Oa},20:{f:HD},21:{f:HD},23:{f:oq},24:{f:KD},25:{f:ya},26:{},27:{},28:{f:y0e},29:{},34:{f:ya},35:{f:GD},38:{f:qi},39:{f:qi},40:{f:qi},41:{f:qi},42:{f:ya},43:{f:ya},47:{f:_pe},49:{f:Zhe},51:{f:Oa},60:{},61:{f:Xhe},64:{f:ya},65:{f:Jhe},66:{f:Oa},77:{},80:{},81:{},82:{},85:{f:Oa},89:{},90:{},91:{},92:{f:Vhe},93:{f:b0e},94:{},95:{f:ya},96:{},97:{},99:{f:ya},125:{f:lq},128:{f:c0e},129:{f:zhe},130:{f:Oa},131:{f:ya},132:{f:ya},133:{f:qhe},134:{},140:{f:E0e},141:{f:Oa},144:{},146:{f:k0e},151:{},152:{},153:{},154:{},155:{},156:{f:Oa},157:{},158:{},160:{f:j0e},161:{f:P0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:i0e},190:{f:s0e},193:{f:Fu},197:{},198:{},199:{},200:{},201:{},202:{f:ya},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Oa},220:{},221:{f:ya},222:{},224:{f:l0e},225:{f:Uhe},226:{f:Fu},227:{},229:{f:x0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Whe},253:{f:e0e},255:{f:Hhe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:tq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ya},353:{f:Fu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:f0e},431:{f:ya},432:{},433:{},434:{},437:{},438:{f:S0e},439:{f:ya},440:{f:A0e},441:{},442:{f:ty},443:{},444:{f:Oa},445:{},446:{},448:{f:Fu},449:{f:Yhe,r:2},450:{f:Fu},512:{f:qD},513:{f:I0e},515:{f:u0e},516:{f:t0e},517:{f:WD},519:{f:D0e},520:{f:Ghe},523:{},545:{f:YD},549:{f:zD},566:{},574:{f:Qhe},638:{f:a0e},659:{},1048:{},1054:{f:r0e},1084:{},1212:{f:m0e},2048:{f:T0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:xx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:C0e,r:12},2173:{f:ime,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ya,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:p0e,r:12},2197:{},2198:{f:Zpe,r:12},2199:{},2200:{},2201:{},2202:{f:g0e,r:12},2203:{f:Fu},2204:{},2205:{},2206:{},2207:{},2211:{f:Khe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Oa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:O0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:N0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:qD},1:{},2:{f:F0e},3:{f:R0e},4:{f:M0e},5:{f:WD},7:{f:$0e},8:{},9:{f:xx},11:{},22:{f:Oa},30:{f:n0e},31:{},32:{},33:{f:YD},36:{},37:{f:zD},50:{f:B0e},62:{},52:{},67:{},68:{f:Oa},69:{},86:{},126:{},127:{f:L0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:U0e},223:{},234:{},354:{},421:{},518:{f:$S},521:{f:xx},536:{f:KD},547:{f:GD},561:{},579:{},1030:{f:$S},1033:{f:xx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function el(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Vz(r)&&e.push(r)}}function s8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=ude(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var w=b,D=0;w.charAt(0)=="<"&&(D=w.indexOf(">"))>-1;)w=w.slice(D+1);for(var P=0;P<g.length;++P){var j=g[P];j.s.c==u&&j.s.r<c&&c<=j.e.r&&(u=j.e.c+1,P=-1)}var T=Tr(b.slice(0,b.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var _=T.t||T["data-t"]||"";if(!w.length){u+=h;continue}if(w=Cz(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var S={t:"s",v:w};r.raw||!w.trim().length||_=="s"||(w==="TRUE"?S={t:"b",v:!0}:w==="FALSE"?S={t:"b",v:!1}:isNaN(bl(w))?isNaN(gp(w).getDate())||(S={t:"d",v:si(w)},r.cellDates||(S={t:"n",v:vs(S.v)}),S.z=r.dateNF||Rr[14]):S={t:"n",v:bl(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=S):n[Ir({r:c,c:u})]=S,u+=h}}}}return n["!ref"]=ln(p),g.length&&(n["!merges"]=g),n}function B1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Ir({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||Qk(f.w||(Qc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(Ede("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var U1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',V1e="</body></html>";function z1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Gf(s8(r[0],t),t);var n=mC();return r.forEach(function(a,i){gC(n,s8(a,t),"Sheet"+(i+1))}),n}function q1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function W1e(e,t){var r=t||{},n=r.header!=null?r.header:U1e,a=r.footer!=null?r.footer:V1e,i=[n],s=nm(e["!ref"]);r.dense=Array.isArray(e),i.push(q1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(B1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function Dq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?ds(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=nm(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var D=o[g];if(o8(D)){if(n.display)continue;p[m]={hidden:!0}}var P=D.children;for(v=y=0;v<P.length;++v){var j=P[v];if(!(n.display&&o8(j))){var T=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):Cz(j.innerHTML),_=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<f.length;++h){var S=f[h];S.s.c==y+i&&S.s.r<m+a&&m+a<=S.e.r&&(y=S.e.c+1-i,h=-1)}w=+j.getAttribute("colspan")||1,((b=+j.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:y+i},e:{r:m+a+(b||1)-1,c:y+i+(w||1)-1}});var I={t:"s",v:T},E=j.getAttribute("data-t")||j.getAttribute("t")||"";T!=null&&(T.length==0?I.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?I={t:"b",v:!0}:T==="FALSE"?I={t:"b",v:!1}:isNaN(bl(T))?isNaN(gp(T).getDate())||(I={t:"d",v:si(T)},n.cellDates||(I={t:"n",v:vs(I.v)}),I.z=n.dateNF||Rr[14]):I={t:"n",v:bl(T)})),I.z===void 0&&_!=null&&(I.z=_);var N="",O=j.getElementsByTagName("A");if(O&&O.length)for(var U=0;U<O.length&&!(O[U].hasAttribute("href")&&(N=O[U].getAttribute("href"),N.charAt(0)!="#"));++U);N&&N.charAt(0)!="#"&&(I.l={Target:N}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=I):e[Ir({c:y+i,r:m+a})]=I,c.e.c<y+i&&(c.e.c=y+i),y+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=ln(c),m>=l&&(e["!fullref"]=ln((c.e.r=o.length-g+m-1+a,c))),e}function Lq(e,t){var r=t||{},n=r.dense?[]:{};return Dq(n,e,t)}function H1e(e,t){return Gf(Lq(e,t),t)}function o8(e){var t="",r=G1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function G1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function K1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=hn(t.replace(/<[^>]*>/g,""));return[r]}var l8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Mq(e,t){var r=t||{},n=Jk(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},b="",w=0,D=[],P=-1,j=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,S={},I=[],E={},N=0,O=0,U=[],Y=1,K=1,J=[],q={Names:[]},V={},ee=["",""],Z=[],k={},R="",z=0,G=!1,Q=!1,oe=0;for(Wv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Wv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=ln(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=ln(T)),I.length&&(g["!merges"]=I),U.length&&(g["!rows"]=U),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,Q=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Tr(m[0],!1),P=j=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},I=[],U=[],Q=!0);break;case"table-row-group":m[1]==="/"?--_:++_;break;case"table-row":case"":if(m[1]==="/"){P+=Y,Y=1;break}if(f=Tr(m[0],!1),f.?P=f.-1:P==-1&&(P=0),Y=+f["number-rows-repeated"]||1,Y<10)for(oe=0;oe<Y;++oe)_>0&&(U[P+oe]={level:_});j=-1;break;case"covered-table-cell":m[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][j]={t:"z"}):g[Ir({r:P,c:j})]={t:"z"}),b="",D=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++j,y=Tr(m[0],!1),K=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=r8(hn(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=hn(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][j]=v):g[Ir({r:P,c:j})]=v),j+=K-1;else if(m[1]!=="/"){++j,b="",w=0,D=[],K=1;var fe=Y?P+Y-1:P;if(j>T.e.c&&(T.e.c=j),j<T.s.c&&(T.s.c=j),P<T.s.r&&(T.s.r=P),fe>T.e.r&&(T.e.r=fe),y=Tr(m[0],!1),Z=[],k={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=hn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,O=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:P,c:j},e:{r:P+N-1,c:j+O-1}},v.F=ln(E),J.push([E,v.F])),y.formula)v.f=r8(y.formula);else for(oe=0;oe<J.length;++oe)P>=J[oe][0].s.r&&P<=J[oe][0].e.r&&j>=J[oe][0].s.c&&j<=J[oe][0].e.c&&(v.F=J[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,O=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:P,c:j},e:{r:P+N-1,c:j+O-1}},I.push(E)),y["number-columns-repeated"]&&(K=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Yn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=si(y["date-value"]),r.cellDates||(v.t="n",v.v=vs(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=ode(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=b5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=hn(y["string-value"]),D=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(G=!1,v.t==="s"&&(v.v=b||"",D.length&&(v.R=D),G=w==0),V.Target&&(v.l=V),Z.length>0&&(v.c=Z,Z=[]),b&&r.cellText!==!1&&(v.w=b),G&&(v.t="z",delete v.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ne=0;ne<Y;++ne){if(K=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+ne]||(g[P+ne]=[]),g[P+ne][j]=ne==0?v:Si(v);--K>0;)g[P+ne][j+K]=Si(v);else for(g[Ir({r:P+ne,c:j})]=v;--K>0;)g[Ir({r:P+ne,c:j+K})]=Si(v);T.e.c<=j&&(T.e.c=j)}K=parseInt(y["number-columns-repeated"]||"1",10),j+=K-1,K=0,v={},b="",D=[]}V={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;k.t=b,D.length&&(k.R=D),k.a=R,Z.push(k)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",z=0,b="",w=0,D=[];break;case"creator":m[1]==="/"?R=n.slice(z,m.index):z=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",w=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(S[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Tr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Tr(m[0],!1),l+=l8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Tr(m[0],!1),l+=l8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Tr(m[0],!1),ee=BS(s["cell-range-address"]);var he={Name:s.name,Ref:ee[0]+"!"+ee[1]};Q&&(he.Sheet=p.length),q.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var ye=K1e(n.slice(w,m.index));b=(b.length>0?b+`
`:"")+ye[0]}else Tr(m[0],!1),w=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ee=BS(Tr(m[0])["target-range-address"]),h[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(V=Tr(m[0],!1),!V.href)break;V.Target=hn(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(ee=BS(V.Target.slice(1)),V.Target="#"+ee[0]+"!"+ee[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var W={Sheets:h,SheetNames:p,Workbook:q};return r.bookSheets&&delete W.Sheets,W}function c8(e,t){t=t||{},Eo(e,"META-INF/manifest.xml")&&uhe(Pa(e,"META-INF/manifest.xml"),t);var r=Js(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Mq(Un(r),t);return Eo(e,"meta.xml")&&(n.Props=Yz(Pa(e,"meta.xml"))),n}function u8(e,t){return Mq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function fC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function PT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Un(xh(e))}function OT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function f8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Y1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Yv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ha(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Hi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Yv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Yv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function dC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function X1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Yv(e,n),i=Hi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ha(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Hi(o.data),c=Ha(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Ha(i[3][0].data)>>>0>0),r.push(s)}return r}function Q1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Yv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[OT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=OT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function J1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Q1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return OT(t)}function Z1e(e,t,r,n){var a=fC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+f8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=f8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function eye(e,t,r){var n=fC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=Y1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function tye(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Z1e(e,t,r,e[0]);case 5:return eye(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function _f(e){var t=Hi(e);return Yv(t[1][0].data)}function d8(e,t){var r=Hi(t.data),n=Ha(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Hi(s.data),l=Ha(o[1][0].data)>>>0;switch(n){case 1:i[l]=PT(o[3][0].data);break;case 8:{var c=e[_f(o[9][0].data)][0],u=Hi(c.data),f=e[_f(u[1][0].data)][0],h=Ha(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Hi(f.data);i[l]=p[3].map(function(g){return PT(g.data)}).join("")}break}}),i}function rye(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g,m,v=Hi(e),y=Ha(v[1][0].data)>>>0,b=Ha(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Ha(v[8][0].data)>0||!1,D,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)D=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=w?4:1,T=fC(D),_=[],S=0;S<D.length/2;++S){var I=T.getUint16(S*2,!0);I<65535&&_.push([S,I])}if(_.length!=b)throw"Expected ".concat(b," cells, found ").concat(_.length);var E=[];for(S=0;S<_.length-1;++S)E[_[S][0]]=P.subarray(_[S][1]*j,_[S+1][1]*j);return _.length>=1&&(E[_[_.length-1][0]]=P.subarray(_[_.length-1][1]*j)),{R:y,cells:E}}function nye(e,t){var r,n=Hi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ha(n[7][0].data)>>>0>0?1:0:-1,i=dC(n[5],function(s){return rye(s,a)});return{nrows:Ha(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function aye(e,t,r){var n,a=Hi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ha(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ha(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=ln(i);var s=Hi(a[4][0].data),o=d8(e,e[_f(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?d8(e,e[_f(s[17][0].data)][0]):[],c=Hi(s[3][0].data),u=0;c[1].forEach(function(f){var h=Hi(f.data),p=e[_f(h[2][0].data)][0],g=Ha(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=nye(e,p);m.data.forEach(function(v,y){v.forEach(function(b,w){var D=Ir({r:u+y,c:w}),P=tye(b,o,l);P&&(r[D]=P)})}),u+=m.nrows})}function iye(e,t){var r=Hi(t.data),n={"!ref":"A1"},a=e[_f(r[2][0].data)],i=Ha(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return aye(e,a[0],n),n}function sye(e,t){var r,n=Hi(t.data),a={name:(r=n[1])!=null&&r[0]?PT(n[1][0].data):"",sheets:[]},i=dC(n[2],_f);return i.forEach(function(s){e[s].forEach(function(o){var l=Ha(o.meta[1][0].data);l==6e3&&a.sheets.push(iye(e,o))})}),a}function oye(e,t){var r=mC(),n=Hi(t.data),a=dC(n[1],_f);if(a.forEach(function(i){e[i].forEach(function(s){var o=Ha(s.meta[1][0].data);if(o==2){var l=sye(e,s);l.sheets.forEach(function(c,u){gC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function VS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=J1e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=X1e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ha(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Ha(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return oye(i,o)}function lye(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function hC(e){lye([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function cye(e){return E0.WS.indexOf(e)>-1?"sheet":e==E0.CS?"chart":e==E0.DS?"dialog":e==E0.MS?"macro":e&&e.length?e:"sheet"}function uye(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,cye(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function fye(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=zg(Js(e,r,!0),t);var h=Pa(e,t),p;switch(o){case"sheet":p=v1e(h,t,a,l,i[n],c,u,f);break;case"chart":if(p=y1e(h,t,a,l,i[n],c,u,f),!p||!p["!drawel"])break;var g=vg(p["!drawel"].Target,t),m=TT(g),v=gme(Js(e,g,!0),zg(Js(e,m,!0),g)),y=vg(v,g),b=TT(y);p=e1e(Js(e,y,!0),y,l,zg(Js(e,b,!0),y),c,p);break;case"macro":p=x1e(h,t,a,l,i[n],c,u,f);break;case"dialog":p=b1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var w=[];i&&i[n]&&ac(i[n]).forEach(function(D){var P="";if(i[n][D].Type==E0.CMNT){P=vg(i[n][D].Target,t);var j=A1e(Pa(e,P,!0),P,l);if(!j||!j.length)return;QD(p,j,!1)}i[n][D].Type==E0.TCMNT&&(P=vg(i[n][D].Target,t),w=w.concat(yme(Pa(e,P,!0),l)))}),w&&w.length&&QD(p,w,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function xo(e){return e.charAt(0)=="/"?e.slice(1):e}function dye(e,t){if(bz(),t=t||{},hC(t),Eo(e,"META-INF/manifest.xml")||Eo(e,"objectdata.xml"))return c8(e,t);if(Eo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof VS<"u"){if(e.FileIndex)return VS(e);var r=sn.utils.cfb_new();return AD(e).forEach(function(U){hde(r,U,dde(e,U))}),VS(r)}throw new Error("Unsupported NUMBERS file")}if(!Eo(e,"[Content_Types].xml"))throw Eo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Eo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=AD(e),a=lhe(Js(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Pa(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Pa(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Hg=[],a.sst)try{Hg=S1e(Pa(e,xo(a.sst)),a.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&a.themes.length&&(l=_1e(Js(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=w1e(Pa(e,xo(a.style)),a.style,l,t))}a.links.map(function(U){try{var Y=zg(Js(e,TT(xo(U))),U);return E1e(Pa(e,xo(U)),Y,U,t)}catch{}});var u=g1e(Pa(e,xo(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Pa(e,xo(a.coreprops[0]),!0),h&&(f=Yz(h)),a.extprops.length!==0&&(h=Pa(e,xo(a.extprops[0]),!0),h&&hhe(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Js(e,xo(a.custprops[0]),!0),h&&(p=mhe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(Y){return Y.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=T1e(Pa(e,xo(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var D=u.Sheets;f.Worksheets=D.length,f.SheetNames=[];for(var P=0;P!=D.length;++P)f.SheetNames[P]=D[P].name}var j=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Eo(e,_)||(_="xl/_rels/workbook."+j+".rels");var S=zg(Js(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=N1e(Pa(e,xo(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=xme(Pa(e,xo(a.people[0])),t)),S&&(S=uye(S,u.Sheets));var I=Pa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(S&&S[v]?(b="xl/"+S[v][1].replace(/[\/]?xl\//,""),Eo(e,b)||(b=S[v][1]),Eo(e,b)||(b=_.replace(/_rels\/.*$/,"")+S[v][1]),E=S[v][2]):(b="xl/worksheets/sheet"+(v+1-I)+"."+j,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,O=0;O!=t.sheets.length;++O)typeof t.sheets[O]=="number"&&t.sheets[O]==v&&(N=1),typeof t.sheets[O]=="string"&&t.sheets[O].toLowerCase()==f.SheetNames[v].toLowerCase()&&(N=1);if(!N)continue e}}fye(e,b,w,f.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:Hg,Styles:c,Themes:l,SSF:Si(Rr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(U,Y){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=e.FileIndex[Y]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Pa(e,xo(a.vba[0]),!0):a.defaults&&a.defaults.bin===Sme&&(g.vbaraw=Pa(e,"xl/vbaProject.bin",!0))),g}function hye(e,t){var r=t||{},n="Workbook",a=sn.find(e,n);try{if(n="/!DataSpaces/Version",a=sn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(ipe(a.content),n="/!DataSpaces/DataSpaceMap",a=sn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=ope(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=sn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=lpe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=sn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);upe(a.content)}catch{}if(n="/EncryptionInfo",a=sn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=fpe(a.content);if(n="/EncryptedPackage",a=sn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function pC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=io(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pye(e,t){return sn.find(e,"EncryptedPackage")?hye(e,t):jq(e,t)}function mye(e,t){var r,n=e,a=t||{};return a.type||(a.type=tn&&Buffer.isBuffer(e)?"buffer":"base64"),r=Ez(n,a),dye(r,a)}function Rq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return kT(e.slice(r),t);default:break e}return Hv.to_workbook(e,t)}function gye(e,t){var r="",n=pC(e,t);switch(t.type){case"base64":r=io(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=ah(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Un(r)),t.type="binary",Rq(r,t)}function vye(e,t){var r=e;return t.type=="base64"&&(r=io(r)),r=Yu.utils.decode(1200,r.slice(2),"str"),t.type="binary",Rq(r,t)}function yye(e){return e.match(/[^\x00-\x7F]/)?yg(e):e}function zS(e,t,r,n){return n?(r.type="string",Hv.to_workbook(e,r)):Hv.to_workbook(t,r)}function IT(e,t){lz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return IT(new Uint8Array(e),(r=Si(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),U0={},r.dateNF&&(U0.dateNF=r.dateNF),r.type||(r.type=tn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=tn?"buffer":"binary",n=ide(e),typeof Uint8Array<"u"&&!tn&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=yye(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Si(r),r.type="array",IT(Hk(n),r)}switch((a=pC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return pye(sn.read(n,r),r);break;case 9:if(a[1]<=8)return jq(n,r);break;case 60:return kT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return H0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return q0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?mye(n,r):zS(e,n,r,i);case 239:return a[3]===60?kT(n,r):zS(e,n,r,i);case 255:if(a[1]===254)return vye(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Wg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Wg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return XD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Spe.to_workbook(n,r);break;case 10:case 13:case 32:return gye(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return V0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?XD.to_workbook(n,r):zS(e,n,r,i)}function xye(e,t,r,n,a,i,s,o){var l=Ai(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Qc(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function jT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=ma(u);break;case"number":l=ma(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=Ai(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var D=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(D[b]||{}).hidden)switch(h[b]=za(b),r=v?e[y][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Qc(r,null,c),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[b]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var j=xye(e,l,y,h,n,i,v,c);(j.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=j.row)}return p.length=g,p}var h8=/"/g;function bye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=Ai(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Qc(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(h8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(h8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Fq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ma(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=za(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=bye(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function wye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Fq(e,t);return r}function _ye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ma(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=za(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Ai(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function $q(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ds(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=ma(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){ac(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var b=m[y],w="z",D="",P=Ir({c:o+p,r:s+v+a});c=Xv(i,P),b&&typeof b=="object"&&!(b instanceof Date)?i[P]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=vs(b)),D=n.dateNF||Rr[14]):b===null&&n.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,D&&(c.z=D)):i[P]=c={t:w,v:b},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=Ai(s);if(a)for(p=0;p<h.length;++p)i[za(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=ln(u),i}function Sye(e,t){return $q(null,e,t)}function Xv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ds(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Xv(e,Ir(t)):Xv(e,Ir({r:t,c:r||0}))}function Aye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function mC(){return{SheetNames:[],Sheets:{}}}function gC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(l1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Tye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Aye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Eye(e,t){return e.z=t,e}function Bq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Nye(e,t,r){return Bq(e,"#"+t,r)}function kye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Cye(e,t,r,n){for(var a=typeof t!="string"?t:ma(t),i=typeof t=="string"?t:ln(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Xv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var Pye={encode_col:za,encode_row:Ai,encode_cell:Ir,encode_range:ln,decode_col:tC,decode_row:eC,split_cell:Ude,decode_cell:ds,decode_range:nm,format_cell:Qc,sheet_add_aoa:qz,sheet_add_json:$q,sheet_add_dom:Dq,aoa_to_sheet:am,json_to_sheet:Sye,table_to_sheet:Lq,table_to_book:H1e,sheet_to_csv:Fq,sheet_to_txt:wye,sheet_to_json:jT,sheet_to_html:W1e,sheet_to_formulae:_ye,sheet_to_row_object_array:jT,sheet_get_cell:Xv,book_new:mC,book_append_sheet:gC,book_set_sheet_visibility:Tye,cell_set_number_format:Eye,cell_set_hyperlink:Bq,cell_set_internal_link:Nye,cell_add_comment:kye,sheet_set_array_formula:Cye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Uq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(ag,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var I=P(S);I.chunkSize=parseInt(I.chunkSize),S.step||S.chunk||(I.chunkSize=null),this._handle=new m(I),(this._handle.streamer=this)._config=I}).call(this,_),this.parseChunk=function(S,I){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let O=this._config.newline;O||(N=this._config.quoteChar||'"',O=this._handle.guessLineEndings(S,N)),S=[...S.split(O).slice(E)].join(O)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(S))!==void 0&&(S=N),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+S,N=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=N.meta.cursor,E=(this._finished||(this._partialLine=E.substring(S-this._baseIndex),this._baseIndex=S),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!I){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!E||!T(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(S){T(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function f(_){var S;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),u.call(this,_),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=j(this._chunkLoaded,this),S.onerror=j(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,E=this._config.downloadRequestHeaders;for(I in E)S.setRequestHeader(I,E[I])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+N));try{S.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(I){I=S.statusText||I,this._sendError(new Error(I))}}function h(_){(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),u.call(this,_);var S,I,E=typeof FileReader<"u";this.stream=function(N){this._input=N,I=N.slice||N.webkitSlice||N.mozSlice,E?((S=new FileReader).onload=j(this._chunkLoaded,this),S.onerror=j(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),N=I.call(N,this._start,O)),S.readAsText(N,this._config.encoding));E||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(S.error)}}function p(_){var S;u.call(this,_=_||{}),this.stream=function(I){return S=I,this._nextChunk()},this._nextChunk=function(){var I,E;if(!this._finished)return I=this._config.chunkSize,S=I?(E=S.substring(0,I),S.substring(I)):(E=S,""),this._finished=!S,this.parseChunk(E)}}function g(_){u.call(this,_=_||{});var S=[],I=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):I=!0},this._streamData=j(function(N){try{S.push(typeof N=="string"?N:N.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(O){this._streamError(O)}},this),this._streamError=j(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=j(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(_){var S,I,E,N,O=Math.pow(2,53),U=-O,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,q=0,V=0,ee=!1,Z=!1,k=[],R={data:[],errors:[],meta:{}};function z(fe){return _.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function G(){if(R&&E&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),_.skipEmptyLines&&(R.data=R.data.filter(function(ye){return!z(ye)})),Q()){let ye=function(W,ke){T(_.transformHeader)&&(W=_.transformHeader(W,ke)),k.push(W)};if(R)if(Array.isArray(R.data[0])){for(var fe=0;Q()&&fe<R.data.length;fe++)R.data[fe].forEach(ye);R.data.splice(0,1)}else R.data.forEach(ye)}function ne(ye,W){for(var ke=_.header?{}:[],Ce=0;Ce<ye.length;Ce++){var Te=Ce,ie=ye[Ce],ie=(($e,Ke)=>(Se=>(_.dynamicTypingFunction&&_.dynamicTyping[Se]===void 0&&(_.dynamicTyping[Se]=_.dynamicTypingFunction(Se)),(_.dynamicTyping[Se]||_.dynamicTyping)===!0))($e)?Ke==="true"||Ke==="TRUE"||Ke!=="false"&&Ke!=="FALSE"&&((Se=>{if(Y.test(Se)&&(Se=parseFloat(Se),U<Se&&Se<O))return 1})(Ke)?parseFloat(Ke):K.test(Ke)?new Date(Ke):Ke===""?null:Ke):Ke)(Te=_.header?Ce>=k.length?"__parsed_extra":k[Ce]:Te,ie=_.transform?_.transform(ie,Te):ie);Te==="__parsed_extra"?(ke[Te]=ke[Te]||[],ke[Te].push(ie)):ke[Te]=ie}return _.header&&(Ce>k.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+k.length+" fields but parsed "+Ce,V+W):Ce<k.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+k.length+" fields but parsed "+Ce,V+W)),ke}var he;R&&(_.header||_.dynamicTyping||_.transform)&&(he=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(ne),he=R.data.length):R.data=ne(R.data,0),_.header&&R.meta&&(R.meta.fields=k),V+=he)}function Q(){return _.header&&k.length===0}function oe(fe,ne,he,ye){fe={type:fe,code:ne,message:he},ye!==void 0&&(fe.row=ye),R.errors.push(fe)}T(_.step)&&(N=_.step,_.step=function(fe){R=fe,Q()?G():(G(),R.data.length!==0&&(q+=fe.data.length,_.preview&&q>_.preview?I.abort():(R.data=R.data[0],N(R,J))))}),this.parse=function(fe,ne,he){var ye=_.quoteChar||'"',ye=(_.newline||(_.newline=this.guessLineEndings(fe,ye)),E=!1,_.delimiter?T(_.delimiter)&&(_.delimiter=_.delimiter(fe),R.meta.delimiter=_.delimiter):((ye=((W,ke,Ce,Te,ie)=>{var $e,Ke,Se,Re;ie=ie||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var be=0;be<ie.length;be++){for(var je,Ee=ie[be],qe=0,at=0,nt=0,ft=(Se=void 0,new y({comments:Te,delimiter:Ee,newline:ke,preview:10}).parse(W)),Et=0;Et<ft.data.length;Et++)Ce&&z(ft.data[Et])?nt++:(je=ft.data[Et].length,at+=je,Se===void 0?Se=je:0<je&&(qe+=Math.abs(je-Se),Se=je));0<ft.data.length&&(at/=ft.data.length-nt),(Ke===void 0||qe<=Ke)&&(Re===void 0||Re<at)&&1.99<at&&(Ke=qe,$e=Ee,Re=at)}return{successful:!!(_.delimiter=$e),bestDelimiter:$e}})(fe,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ye.bestDelimiter:(E=!0,_.delimiter=c.DefaultDelimiter),R.meta.delimiter=_.delimiter),P(_));return _.preview&&_.header&&ye.preview++,S=fe,I=new y(ye),R=I.parse(S,ne,he),G(),ee?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,I.abort(),S=T(_.chunk)?"":S.substring(I.getCharIndex())},this.resume=function(){J.streamer._halted?(ee=!1,J.streamer.parseChunk(S,!0)):setTimeout(J.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,I.abort(),R.meta.aborted=!0,T(_.complete)&&_.complete(R),S=""},this.guessLineEndings=function(W,ye){W=W.substring(0,1048576);var ye=new RegExp(v(ye)+"([^]*?)"+v(ye),"gm"),he=(W=W.replace(ye,"")).split("\r"),ye=W.split(`
`),W=1<ye.length&&ye[0].length<he[0].length;if(he.length===1||W)return`
`;for(var ke=0,Ce=0;Ce<he.length;Ce++)he[Ce][0]===`
`&&ke++;return ke>=he.length/2?`\r
`:"\r"}}function v(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(_){var S=(_=_||{}).delimiter,I=_.newline,E=_.comments,N=_.step,O=_.preview,U=_.fastMode,Y=null,K=!1,J=_.quoteChar==null?'"':_.quoteChar,q=J;if(_.escapeChar!==void 0&&(q=_.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),E===S)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var V=0,ee=!1;this.parse=function(Z,k,R){if(typeof Z!="string")throw new Error("Input must be a string");var z=Z.length,G=S.length,Q=I.length,oe=E.length,fe=T(N),ne=[],he=[],ye=[],W=V=0;if(!Z)return qe();if(U||U!==!1&&Z.indexOf(J)===-1){for(var ke=Z.split(I),Ce=0;Ce<ke.length;Ce++){if(ye=ke[Ce],V+=ye.length,Ce!==ke.length-1)V+=I.length;else if(R)return qe();if(!E||ye.substring(0,oe)!==E){if(fe){if(ne=[],Re(ye.split(S)),at(),ee)return qe()}else Re(ye.split(S));if(O&&O<=Ce)return ne=ne.slice(0,O),qe(!0)}}return qe()}for(var Te=Z.indexOf(S,V),ie=Z.indexOf(I,V),$e=new RegExp(v(q)+v(J),"g"),Ke=Z.indexOf(J,V);;)if(Z[V]===J)for(Ke=V,V++;;){if((Ke=Z.indexOf(J,Ke+1))===-1)return R||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:V}),je();if(Ke===z-1)return je(Z.substring(V,Ke).replace($e,J));if(J===q&&Z[Ke+1]===q)Ke++;else if(J===q||Ke===0||Z[Ke-1]!==q){Te!==-1&&Te<Ke+1&&(Te=Z.indexOf(S,Ke+1));var Se=be((ie=ie!==-1&&ie<Ke+1?Z.indexOf(I,Ke+1):ie)===-1?Te:Math.min(Te,ie));if(Z.substr(Ke+1+Se,G)===S){ye.push(Z.substring(V,Ke).replace($e,J)),Z[V=Ke+1+Se+G]!==J&&(Ke=Z.indexOf(J,V)),Te=Z.indexOf(S,V),ie=Z.indexOf(I,V);break}if(Se=be(ie),Z.substring(Ke+1+Se,Ke+1+Se+Q)===I){if(ye.push(Z.substring(V,Ke).replace($e,J)),Ee(Ke+1+Se+Q),Te=Z.indexOf(S,V),Ke=Z.indexOf(J,V),fe&&(at(),ee))return qe();if(O&&ne.length>=O)return qe(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:V}),Ke++}}else if(E&&ye.length===0&&Z.substring(V,V+oe)===E){if(ie===-1)return qe();V=ie+Q,ie=Z.indexOf(I,V),Te=Z.indexOf(S,V)}else if(Te!==-1&&(Te<ie||ie===-1))ye.push(Z.substring(V,Te)),V=Te+G,Te=Z.indexOf(S,V);else{if(ie===-1)break;if(ye.push(Z.substring(V,ie)),Ee(ie+Q),fe&&(at(),ee))return qe();if(O&&ne.length>=O)return qe(!0)}return je();function Re(nt){ne.push(nt),W=V}function be(nt){var ft=0;return ft=nt!==-1&&(nt=Z.substring(Ke+1,nt))&&nt.trim()===""?nt.length:ft}function je(nt){return R||(nt===void 0&&(nt=Z.substring(V)),ye.push(nt),V=z,Re(ye),fe&&at()),qe()}function Ee(nt){V=nt,Re(ye),ye=[],ie=Z.indexOf(I,V)}function qe(nt){if(_.header&&!k&&ne.length&&!K){var ft=ne[0],Et=Object.create(null),kt=new Set(ft);let _t=!1;for(let ct=0;ct<ft.length;ct++){let er=ft[ct];if(Et[er=T(_.transformHeader)?_.transformHeader(er,ct):er]){let Wt,Gr=Et[er];for(;Wt=er+"_"+Gr,Gr++,kt.has(Wt););kt.add(Wt),ft[ct]=Wt,Et[er]++,_t=!0,(Y=Y===null?{}:Y)[Wt]=er}else Et[er]=1,ft[ct]=er;kt.add(er)}_t&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:ne,errors:he,meta:{delimiter:S,linebreak:I,aborted:ee,truncated:!!nt,cursor:W+(k||0),renamedHeaders:Y}}}function at(){N(qe()),ne=[],he=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return V}}function b(_){var S=_.data,I=o[S.workerId],E=!1;if(S.error)I.userError(S.error,S.file);else if(S.results&&S.results.data){var N={abort:function(){E=!0,w(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(T(I.userStep)){for(var O=0;O<S.results.data.length&&(I.userStep({data:S.results.data[O],errors:S.results.errors,meta:S.results.meta},N),!E);O++);delete S.results}else T(I.userChunk)&&(I.userChunk(S.results,N,S.file),delete S.results)}S.finished&&!E&&w(S.workerId,S.results)}function w(_,S){var I=o[_];T(I.userComplete)&&I.userComplete(S),I.terminate(),delete o[_]}function D(){throw new Error("Not implemented.")}function P(_){if(typeof _!="object"||_===null)return _;var S,I=Array.isArray(_)?[]:{};for(S in _)I[S]=P(_[S]);return I}function j(_,S){return function(){_.apply(S,arguments)}}function T(_){return typeof _=="function"}return c.parse=function(_,S){var I=(S=S||{}).dynamicTyping||!1;if(T(I)&&(S.dynamicTypingFunction=I,I={}),S.dynamicTyping=I,S.transform=!!T(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof _=="string"?(_=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(_),I=new(S.download?f:p)(S)):_.readable===!0&&T(_.read)&&T(_.on)?I=new g(S):(n.File&&_ instanceof File||_ instanceof Object)&&(I=new h(S)),I.stream(_);(I=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var N=n.URL||n.webkitURL||null,O=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=b,E.id=l++,o[E.id]=E)})()).userStep=S.step,I.userChunk=S.chunk,I.userComplete=S.complete,I.userError=S.error,S.step=T(S.step),S.chunk=T(S.chunk),S.complete=T(S.complete),S.error=T(S.error),delete S.worker,I.postMessage({input:_,config:S,workerId:I.id})},c.unparse=function(_,S){var I=!1,E=!0,N=",",O=`\r
`,U='"',Y=U+U,K=!1,J=null,q=!1,V=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return S.delimiter.indexOf(k)!==-1}).length||(N=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(I=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(K=S.skipEmptyLines),typeof S.newline=="string"&&(O=S.newline),typeof S.quoteChar=="string"&&(U=S.quoteChar),typeof S.header=="boolean"&&(E=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");J=S.columns}S.escapeChar!==void 0&&(Y=S.escapeChar+U),S.escapeFormulae instanceof RegExp?q=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(U),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return ee(null,_,K);if(typeof _[0]=="object")return ee(J||Object.keys(_[0]),_,K)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||J),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),ee(_.fields||[],_.data||[],K);throw new Error("Unable to serialize unrecognized input");function ee(k,R,z){var G="",Q=(typeof k=="string"&&(k=JSON.parse(k)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(k)&&0<k.length),oe=!Array.isArray(R[0]);if(Q&&E){for(var fe=0;fe<k.length;fe++)0<fe&&(G+=N),G+=Z(k[fe],fe);0<R.length&&(G+=O)}for(var ne=0;ne<R.length;ne++){var he=(Q?k:R[ne]).length,ye=!1,W=Q?Object.keys(R[ne]).length===0:R[ne].length===0;if(z&&!Q&&(ye=z==="greedy"?R[ne].join("").trim()==="":R[ne].length===1&&R[ne][0].length===0),z==="greedy"&&Q){for(var ke=[],Ce=0;Ce<he;Ce++){var Te=oe?k[Ce]:Ce;ke.push(R[ne][Te])}ye=ke.join("").trim()===""}if(!ye){for(var ie=0;ie<he;ie++){0<ie&&!W&&(G+=N);var $e=Q&&oe?k[ie]:ie;G+=Z(R[ne][$e],ie)}ne<R.length-1&&(!z||0<he&&!W)&&(G+=O)}}return G}function Z(k,R){var z,G;return k==null?"":k.constructor===Date?JSON.stringify(k).slice(1,25):(G=!1,q&&typeof k=="string"&&q.test(k)&&(k="'"+k,G=!0),z=k.toString().replace(V,Y),(G=G||I===!0||typeof I=="function"&&I(k,R)||Array.isArray(I)&&I[R]||((Q,oe)=>{for(var fe=0;fe<oe.length;fe++)if(-1<Q.indexOf(oe[fe]))return!0;return!1})(z,c.BAD_DELIMITERS)||-1<z.indexOf(N)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?U+z+U:z)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(_){var S=_.config||{},I=[];return this.each(function(O){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)I.push({file:this.files[U],inputElem:this,instanceConfig:a.extend({},S)})}),E(),this;function E(){if(I.length===0)T(_.complete)&&_.complete();else{var O,U,Y,K,J=I[0];if(T(_.before)){var q=_.before(J.file,J.inputElem);if(typeof q=="object"){if(q.action==="abort")return O="AbortError",U=J.file,Y=J.inputElem,K=q.reason,void(T(_.error)&&_.error({name:O},U,Y,K));if(q.action==="skip")return void N();typeof q.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,q.config))}else if(q==="skip")return void N()}var V=J.instanceConfig.complete;J.instanceConfig.complete=function(ee){T(V)&&V(ee,J.file,J.inputElem),N()},c.parse(J.file,J.instanceConfig)}}function N(){I.splice(0,1),E()}}),s&&(n.onmessage=function(_){_=_.data,c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=c.parse(_.input,_.config))&&n.postMessage({workerId:c.WORKER_ID,results:_,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(Uq);var Oye=Uq.exports;const Iye=On(Oye),Vq=()=>{const{user:e}=Ta(),{isDarkMode:t}=cn(),[r,n]=B.useState(!1),[a,i]=B.useState([]),[s,o]=B.useState(!1),[l,c]=B.useState({name:"",unit:"",asin:"",barcode:""}),[u,f]=B.useState(null),[h,p]=B.useState(null),[g,m]=B.useState(!1),[v,y]=B.useState(!1),[b,w]=B.useState(null),[D,P]=B.useState(null),[j,T]=B.useState(!1),[_,S]=B.useState(""),[I,E]=B.useState(null),[N,O]=B.useState(null),U=Fe.useRef(null),[Y,K]=B.useState(null),[J,q]=B.useState(!1),[V,ee]=B.useState([]);B.useEffect(()=>{Z(),k()},[]);const Z=async W=>{o(!0);try{let ke;if(W&&W.trim()!==""){const Ce=or(gt(Xe,"scannedProducts"),sr("name",">=",W),sr("name","<=",W+""),La("name"),dg(100)),Te=or(gt(Xe,"scannedProducts"),sr("barcode",">=",W),sr("barcode","<=",W+""),La("barcode"),dg(100)),ie=or(gt(Xe,"scannedProducts"),sr("asin",">=",W),sr("asin","<=",W+""),La("asin"),dg(100)),[$e,Ke,Se]=await Promise.all([lr(Ce),lr(Te),lr(ie)]),Re=[...$e.docs,...Ke.docs,...Se.docs].reduce((be,je)=>(be.some(Ee=>Ee.id===je.id)||be.push(je),be),[]);i(Re.map(be=>{const je=be.data();return{id:be.id,name:je.name,unit:je.unit,asin:je.asin||"",barcode:je.barcode,createdAt:je.createdAt instanceof ar?je.createdAt.toDate():new Date(je.createdAt)}}))}else{ke=or(gt(Xe,"scannedProducts"),La("createdAt","desc"),dg(100));const Te=(await lr(ke)).docs.map(ie=>{const $e=ie.data();return{id:ie.id,name:$e.name,unit:$e.unit,asin:$e.asin||"",barcode:$e.barcode,createdAt:$e.createdAt instanceof ar?$e.createdAt.toDate():new Date($e.createdAt)}});i(Te)}}catch{f("Failed to fetch products")}finally{o(!1)}},k=async()=>{try{const W=gt(Xe,"scannedProducts"),ke=await ok(W);K(ke.data().count)}catch{K(null)}},R=()=>{const W={};a.forEach(Ce=>{W[Ce.name]||(W[Ce.name]=[]),W[Ce.name].push(Ce)});const ke=Object.entries(W).filter(([,Ce])=>Ce.length>1).map(([Ce,Te])=>({name:Ce,products:Te.sort((ie,$e)=>new Date($e.createdAt).getTime()-new Date(ie.createdAt).getTime())})).sort((Ce,Te)=>Te.products.length-Ce.products.length);ee(ke),q(!0)},z=()=>{q(!1),ee([])},G=W=>{W?(c({name:W.name||"",unit:W.unit||"",asin:W.asin||"",barcode:W.barcode||""}),p(W)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),f(null)},Q=()=>{n(!1),f(null)},oe=W=>{c({...l,[W.target.name]:W.target.value})},fe=async W=>{c(ke=>({...ke,barcode:W})),m(!1),w(null),y(!0);try{const Ce=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${W}`,ie=await(await fetch(Ce)).json();if(ie&&ie.items&&ie.items.length>0){const $e=ie.items[0];c(Ke=>({...Ke,name:$e.title||Ke.name,asin:$e.asin||$e.amazon_asin||""}))}else w("No product info found for this barcode.")}catch{w("Failed to fetch product info.")}finally{y(!1)}},ne=async W=>{if(W.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("Name, Unit, and Barcode are required");return}o(!0);try{const ke=l.name.toUpperCase();if(h){const Ce=Ar(Xe,"scannedProducts",h.id);if(await $n(Ce,{name:ke,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const Te=[];h.name!==ke&&Te.push(`name from "${h.name}" to "${ke}"`),h.unit!==l.unit&&Te.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&Te.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&Te.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),Te.length>0&&await pr(gt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${ke}": ${Te.join(", ")}`,time:new Date().toISOString()})}}else await pr(gt(Xe,"scannedProducts"),{name:ke,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:ar.fromDate(new Date)}),e&&await pr(gt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${ke}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),Z()}catch{f("Failed to save product")}finally{o(!1)}},he=async()=>{if(D){T(!0);try{const W=a.find(ke=>ke.id===D);await Os(Ar(Xe,"scannedProducts",D)),e&&W&&await pr(gt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${W.name}" with barcode ${W.barcode}`,time:new Date().toISOString()}),P(null),Z()}catch{}finally{T(!1)}}},ye=async W=>{var Te;const ke=(Te=W.target.files)==null?void 0:Te[0];if(!ke)return;let Ce=[];try{if(ke.name.endsWith(".csv")){const ie=await ke.text(),Ke=Iye.parse(ie,{header:!0}).data;Ce=Ke.map(Re=>{var be,je,Ee,qe;return{name:((be=Re.Description)==null?void 0:be.toString().trim())||"",unit:((je=Re.Unit)==null?void 0:je.toString().trim())||"",asin:((Ee=Re.ASIN)==null?void 0:Ee.toString().trim())||"",barcode:((qe=Re.EAN)==null?void 0:qe.toString().trim())||""}}).filter(Re=>Re.name||Re.unit||Re.barcode);const Se=Ke.length-Ce.length;Se>0&&O({type:"error",message:`${Se} rows skipped (all columns empty).`})}else if(ke.name.endsWith(".xlsx")){const ie=await ke.arrayBuffer(),$e=IT(ie,{type:"array"}),Ke=$e.Sheets[$e.SheetNames[0]],Se=Pye.sheet_to_json(Ke);Ce=Se.map(be=>{var je,Ee,qe,at;return{name:((je=be.Description)==null?void 0:je.toString().trim())||"",unit:((Ee=be.Unit)==null?void 0:Ee.toString().trim())||"",asin:((qe=be.ASIN)==null?void 0:qe.toString().trim())||"",barcode:((at=be.EAN)==null?void 0:at.toString().trim())||""}}).filter(be=>be.name||be.unit||be.barcode);const Re=Se.length-Ce.length;Re>0&&O({type:"error",message:`${Re} rows skipped (all columns empty).`})}else{O({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(Ce.length===0){O({type:"error",message:"No valid products found in file."});return}for(const ie of Ce)await pr(gt(Xe,"scannedProducts"),{name:ie.name.toUpperCase(),unit:ie.unit,barcode:ie.barcode,asin:"",createdAt:ar.fromDate(new Date)});e&&await pr(gt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${Ce.length} products from file "${ke.name}"`,time:new Date().toISOString()}),O({type:"success",message:`Uploaded ${Ce.length} products successfully!`}),Z()}catch{O({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"?d.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):d.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",Y!==null?Y:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[d.jsx(lt,{variant:"secondary",onClick:()=>Z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:d.jsx(ri,{size:18,className:s?"animate-spin":""})}),d.jsx(lt,{variant:J?"primary":"secondary",onClick:J?z:R,className:"w-full md:w-auto",icon:J?d.jsx(ri,{size:18}):d.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M7 12h10"}),d.jsx("path",{d:"M9 18h6"})]}),children:J?"Clear Filter":"Show Duplicates"}),d.jsx(lt,{icon:d.jsx(BZ,{size:18}),onClick:()=>{var W;return(W=U.current)==null?void 0:W.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),d.jsx("input",{type:"file",accept:".csv,.xlsx",ref:U,onChange:ye,style:{display:"none"}}),d.jsx(lt,{icon:d.jsx(_i,{size:18}),onClick:()=>G(),className:"w-full md:w-auto",children:"Add Product"})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Ct,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:_,onChange:W=>{const ke=W.target.value;S(ke),Z(ke.toUpperCase())},className:"pl-10",fullWidth:!0}),d.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:d.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[d.jsx("circle",{cx:"7",cy:"7",r:"6"}),d.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),d.jsx(pn,{isOpen:r,onClose:Q,title:h?"Edit Product":"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:l.name,onChange:oe,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Unit",name:"unit",value:l.unit,onChange:oe,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsx(Ct,{label:"ASIN",name:"asin",value:l.asin,onChange:oe,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:l.barcode,onChange:oe,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){w(null),y(!0);try{await fe(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?d.jsx(cs,{size:18,className:"animate-spin text-blue-500"}):d.jsx(qc,{size:18,className:"text-blue-500"})})]}),u&&d.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&d.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),v&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(cs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(lt,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),d.jsx(lt,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),d.jsx(vh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:fe}),d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:d.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[d.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?d.jsx("tr",{children:d.jsx("td",{colSpan:6,style:{border:0,padding:0},children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(cs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):J&&V.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):J&&V.length>0?V.flatMap((W,ke)=>[d.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:d.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[W.name," - ",W.products.length," duplicates"]})},`header-${W.name}`),...W.products.map((Ce,Te)=>d.jsxs(ra.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.1+Te*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>E(Ce),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:Ce.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:zt(Ce.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:ie=>{ie.stopPropagation(),G(Ce)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(us,{size:16})}),d.jsx("button",{onClick:ie=>{ie.stopPropagation(),P(Ce.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&D===Ce.id,children:d.jsx(ni,{size:16})})]})]},Ce.id))]):a.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((W,ke)=>d.jsxs(ra.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(W),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:zt(W.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),G(W)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(us,{size:16})}),d.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P(W.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&D===W.id,children:d.jsx(ni,{size:16})})]})]},W.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(cs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):J&&V.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):J&&V.length>0?V.map(W=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[W.name," - ",W.products.length," duplicates"]}),W.products.map(ke=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>E(ke),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:ke.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",ke.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",ke.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lt,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),G(ke)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(us,{size:16})}),d.jsx(lt,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),P(ke.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&D===ke.id,children:d.jsx(ni,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:ke.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:zt(ke.createdAt,"MMM d, yyyy, h:mm a")})]})]},ke.id))]},W.name)):a.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(W=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(W),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:W.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",W.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",W.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lt,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),G(W)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(us,{size:16})}),d.jsx(lt,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),P(W.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&D===W.id,children:d.jsx(ni,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:zt(W.createdAt,"MMM d, yyyy, h:mm a")})]})]},W.id))}),d.jsx(pn,{isOpen:!!D,onClose:()=>P(null),title:"Delete Product",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{children:"Are you sure you want to delete this product?"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(lt,{variant:"secondary",onClick:()=>P(null),disabled:j,children:"Cancel"}),d.jsxs(lt,{variant:"danger",onClick:he,isLoading:j,className:"flex items-center justify-center",children:[j&&d.jsx(cs,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),d.jsx(pn,{isOpen:!!I,onClose:()=>E(null),title:I?I.name:"Product Details",size:"xl",children:I&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.asin||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:zt(I.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&d.jsx(KV,{type:N.type,message:N.message,onClose:()=>O(null)})]})]})},jye=()=>{const{user:e}=Ta();if(!e)return null;switch(e.role){case"admin":return d.jsx(kfe,{});case"staff":return d.jsx(Vq,{});default:return null}},on=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=cn();return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>d.jsx("option",{value:o.value,children:o.label},o.value))}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},Dye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=Ta(),[a,i]=B.useState({name:"",unit:"",barcode:""}),[s,o]=B.useState(null),[l,c]=B.useState(!1),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState(null),v=D=>{i({...a,[D.target.name]:D.target.value})},y=async D=>{i(P=>({...P,barcode:D})),f(!1),m(null),p(!0);try{const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,_=await(await fetch(j)).json();if(_&&_.items&&_.items.length>0){const S=_.items[0];i(I=>({...I,name:S.title||I.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},b=async D=>{if(D.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await pr(gt(Xe,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:ar.fromDate(new Date)}),n&&await pr(gt(Xe,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},w=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return d.jsxs(d.Fragment,{children:[d.jsx(pn,{isOpen:e,onClose:w,title:"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?d.jsx(cs,{size:18,className:"animate-spin text-blue-500"}):d.jsx(qc,{size:18,className:"text-blue-500"})})]}),s&&d.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&d.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(cs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(lt,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),d.jsx(lt,{type:"submit",isLoading:l,children:"Add"})]})]})}),d.jsx(vh,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},Lye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>d.jsx(pn,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(gN,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",d.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",d.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(lt,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),d.jsx(lt,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),Mye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=cn();return d.jsx(pn,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(Sv,{size:24}),d.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(lt,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),d.jsx(lt,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},Sf=e=>{const t=e==="Awaiting Location"||e==="Awaiting Locations Sparklin"||e==="Awaiting Locations Aztec",r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1]),n=t?0:r?7:5;return Array.from({length:n+1},(a,i)=>({value:i.toString(),label:i.toString()}))},Rye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Fye=e=>Sf(e),qS=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],zq=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1,onShowProductLocationInfo:a})=>{const{user:i}=Ta(),s=()=>{switch(i==null?void 0:i.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return"supply & serve"}},[o,l]=B.useState({name:"",price:"",unit:"",supplier:qS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:s(),selectedAsins:[]}),[c,u]=B.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[f,h]=B.useState({}),[p,g]=B.useState(!1),[m,v]=B.useState(!1),[y,b]=B.useState(""),{isDarkMode:w}=cn(),[D,P]=B.useState(null),[j,T]=B.useState(!1),[_,S]=B.useState(null),[I,E]=B.useState(!1),[N,O]=B.useState(""),[U,Y]=B.useState(!1),[K,J]=B.useState(null),[q,V]=B.useState(null),[ee,Z]=B.useState(!1),[k,R]=B.useState(""),[z,G]=B.useState(!1),[Q,oe]=B.useState(null),[fe,ne]=B.useState([]),[he,ye]=B.useState(!1),[W,ke]=B.useState(null),[Ce,Te]=B.useState([]),[ie,$e]=B.useState(!1),[Ke,Se]=B.useState(null);B.useEffect(()=>{o.storeName==="supply & serve"&&o.fulfillmentType!=="mf"&&l(Me=>({...Me,fulfillmentType:"mf"}))},[o.storeName,o.fulfillmentType]);const Re=Me=>{const{name:Ye,value:ht}=Me.target;if(l(Dt=>({...Dt,[Ye]:ht})),Ye==="supplier"&&(E(ht==="other"),ht!=="other"&&O("")),f[Ye]&&h(Dt=>{const Gt={...Dt};return delete Gt[Ye],Gt}),Ye==="barcode"&&ht.length===13&&!j){Q&&clearTimeout(Q);const Dt=setTimeout(()=>{ht.length===13&&nt(ht)},500);oe(Dt)}else Ye==="barcode"&&ht.length!==13&&Q&&(clearTimeout(Q),oe(null))},be=(Me,Ye,ht)=>{u(Dt=>{const Gt=[...Dt];if(Gt[Me]={...Gt[Me],[Ye]:ht},Ye==="locationCode"&&(Gt[Me].shelfNumber="0"),Ye==="shelfNumber"){const Mt=Gt[Me].locationCode,Ot=Sf(Mt).length-1;parseInt(ht)>Ot&&(Gt[Me].shelfNumber="0")}return Gt})},je=()=>{u(Me=>[...Me,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Ee=Me=>{u(Ye=>Ye.filter((ht,Dt)=>Dt!==Me))},qe=async Me=>{l(ht=>({...ht,barcode:Me})),P(null),S(null),T(!0);let Ye=!1;try{const ht=or(gt(Xe,"scannedProducts"),sr("barcode","==",Me)),Dt=await lr(ht);if(Dt.empty){const Mt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Me}`,Zt=await(await fetch(Mt)).json();if(Zt&&Zt.items&&Zt.items.length>0){const xr=Zt.items[0],br=xr.asin||xr.amazon_asin||"";if(br&&br.includes(" ")){const Ne=br.split(" ").filter(ot=>ot.trim());if(Ne.length>1){ne(Ne),Te([]),ke({name:xr.title||"",unit:"",asin:Ne[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),Ye=!0;return}}l(Ne=>({...Ne,name:xr.title||Ne.name,asin:br||Ne.asin,selectedAsins:br?[br]:[]})),P("Product name and ASIN auto-filled from external database."),a&&xr.title&&a(xr.title,Me),Ye=!0}else P("No product found for this barcode. Please enter details manually.")}else{const Gt=Dt.docs[0].data(),Mt=Gt.asin||"";if(Mt&&Mt.includes(" ")){const Ot=Mt.split(" ").filter(Zt=>Zt.trim());if(Ot.length>1){ne(Ot),Te([]),ke({name:Gt.name||"",unit:Gt.unit||"",asin:Ot[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),Ye=!0;return}}l(Ot=>({...Ot,name:Gt.name||Ot.name,unit:Gt.unit||Ot.unit,asin:Mt||Ot.asin,selectedAsins:Mt?[Mt]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&Gt.name&&a(Gt.name,Me),Ye=!0}}catch{S("Failed to fetch product info."),P("Failed to search for product. Please enter details manually.")}finally{T(!1),!Ye&&Me.length===13&&setTimeout(()=>{nt(Me)},100)}},at=async Me=>{try{const Ye=or(gt(Xe,"inventory"),sr("barcode","==",Me),sr("quantity","==",0)),ht=await lr(Ye);if(!ht.empty){const Dt=ht.docs[0].data();return Se({hiddenProduct:{...Dt,id:ht.docs[0].id,lastUpdated:Dt.lastUpdated instanceof Date?Dt.lastUpdated:new Date(Dt.lastUpdated)},newProductName:o.name||"New Product"}),$e(!0),!0}return!1}catch(Ye){return console.error("Error checking for hidden products:",Ye),!1}},nt=async Me=>{const Ye=Me||o.barcode;if(!(!Ye||j)){S(null),T(!0);try{const ht=or(gt(Xe,"scannedProducts"),sr("barcode","==",Ye)),Dt=await lr(ht);if(!Dt.empty){const xr=Dt.docs[0].data(),br=xr.asin||"";if(br&&br.includes(" ")){const Ne=br.split(" ").filter(ot=>ot.trim());if(Ne.length>1){ne(Ne),Te([]),ke({name:xr.name||"",unit:xr.unit||"",asin:Ne[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Ne=>({...Ne,name:xr.name||Ne.name,unit:xr.unit||Ne.unit,asin:br||Ne.asin,selectedAsins:br?[br]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&xr.name&&a(xr.name,Ye),T(!1);return}const Mt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Ye}`,Zt=await(await fetch(Mt)).json();if(Zt&&Zt.items&&Zt.items.length>0){const xr=Zt.items[0],br=xr.asin||xr.amazon_asin||"";if(br&&br.includes(" ")){const Ne=br.split(" ").filter(ot=>ot.trim());if(Ne.length>1){ne(Ne),Te([]),ke({name:xr.title||"",unit:"",asin:Ne[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Ne=>({...Ne,name:xr.title||Ne.name,asin:br||Ne.asin,selectedAsins:br?[br]:[]})),P("Product name and ASIN auto-filled from UPC database."),a&&xr.title&&a(xr.title,Ye)}else S("No product info found for this barcode.")}catch{S("Failed to fetch product info.")}finally{T(!1),await at(Ye)}}},ft=()=>{const Me={};return o.name.trim()||(Me.name="Product name is required"),c.forEach((Ye,ht)=>{Ye.quantity?(isNaN(Number(Ye.quantity))||Number(Ye.quantity)<0)&&(Me[`location_${ht}_quantity`]="Quantity must be a positive number"):Me[`location_${ht}_quantity`]="Quantity is required"}),h(Me),Object.keys(Me).length===0},Et=async Me=>{if(Me.preventDefault(),ft()){const Ye=o.supplier||qS[0].value,ht=o.storeName||"supply & serve",Dt=o.selectedAsins.length>0?o.selectedAsins:o.asin?[o.asin]:[],Gt=c.map(Ot=>({name:o.name,quantity:parseInt(Ot.quantity),price:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve"?parseFloat(o.price):0,unit:o.unit||null,supplier:Ye==="other"?N:Ye,locationCode:Ot.locationCode,shelfNumber:Ot.shelfNumber,asin:Dt.length>0?Dt.join(", "):null,status:o.status,damagedItems:parseInt(o.damagedItems),barcode:o.barcode||null,fulfillmentType:o.fulfillmentType,lastUpdated:new Date,storeName:ht==="other"?y:ht})),Mt=Gt.find(Ot=>r.some(Zt=>Zt.name.trim().toLowerCase()===Ot.name.trim().toLowerCase()&&(Zt.barcode||"")===(Ot.barcode||"")&&Zt.locationCode===Ot.locationCode&&Zt.shelfNumber===Ot.shelfNumber));if(Mt){V({name:Mt.name,location:`${Mt.locationCode}-${Mt.shelfNumber}`}),J(Gt),Y(!0);return}try{await e(Gt)}catch(Ot){console.error("Error adding stock:",Ot)}}},kt=async()=>{if(K){try{await e(K)}catch(Me){console.error("Error adding stock:",Me)}Y(!1),J(null),V(null)}},_t=()=>{Y(!1),J(null),V(null)},ct=()=>{G(!0)},er=()=>{R("Product has been successfully added to the database!"),Z(!0)},Wt=Me=>{W&&(l(Ye=>({...Ye,name:W.name||Ye.name,unit:W.unit||Ye.unit,asin:Me.join(", "),selectedAsins:Me})),P(`Product info and ${Me.length} selected ASIN(s) auto-filled.`)),ye(!1),ne([]),ke(null),Te([])},Gr=()=>{ye(!1),ne([]),ke(null),Te([]),P("ASIN selection cancelled. Please enter details manually.")},ur=Me=>{Te(Ye=>Ye.includes(Me)?Ye.filter(Dt=>Dt!==Me):[...Ye,Me])},Wr=(Me,Ye)=>{c.length>0&&u(ht=>{const Dt=[...ht];return Dt[0]={...Dt[0],locationCode:Me,shelfNumber:Ye},Dt}),$e(!1),Se(null)},Ie=()=>{$e(!1),Se(null)};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:Et,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:o.name,onChange:Re,error:f.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx("div",{children:d.jsx(on,{label:"Supplier",name:"supplier",value:o.supplier,onChange:Re,options:qS,required:!0,fullWidth:!0})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve")&&d.jsx(Ct,{label:"Price",name:"price",type:"number",value:o.price,onChange:Re,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!I&&d.jsx(Ct,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:Re,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),I&&d.jsx(Ct,{label:"Other Supplier",value:N,onChange:Me=>O(Me.target.value),placeholder:"Enter supplier name",required:I,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I&&d.jsx(Ct,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:Re,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),d.jsx(lt,{type:"button",onClick:je,variant:"primary",icon:d.jsx(_i,{size:18}),children:"Add Location"})]}),c.map((Me,Ye)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[d.jsx(on,{label:"Location Code",value:Me.locationCode,onChange:ht=>be(Ye,"locationCode",ht.target.value),options:Rye,required:!0,fullWidth:!0}),d.jsx(on,{label:"Shelf Number",value:Me.shelfNumber,onChange:ht=>be(Ye,"shelfNumber",ht.target.value),options:Fye(Me.locationCode),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Quantity",type:"number",value:Me.quantity,onChange:ht=>be(Ye,"quantity",ht.target.value),error:f[`location_${Ye}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),c.length>1&&d.jsx(lt,{type:"button",onClick:()=>Ee(Ye),variant:"danger",icon:d.jsx(ni,{size:18}),children:"Remove"})]},Ye))]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(on,{label:"Fulfillment Type",name:"fulfillmentType",value:o.fulfillmentType,onChange:Re,options:o.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),d.jsx(on,{label:"Status",name:"status",value:o.status,onChange:Re,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:o.barcode||"",onChange:Re,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>nt(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:j,children:j?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(qc,{size:18,className:"text-blue-500"})})]}),d.jsx(Ct,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:o.asin,onChange:Re,placeholder:"Enter Amazon ASIN",fullWidth:!0}),_&&d.jsxs("div",{className:"text-red-500 text-sm",children:[_," Please enter details manually."]}),D&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:D})]}),!n&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="staff")&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(on,{label:"Store Name",value:o.storeName,onChange:Me=>{const Ye=Me.target.value;l(ht=>({...ht,storeName:Ye,fulfillmentType:Ye==="supply & serve"?"mf":ht.fulfillmentType})),v(Ye==="other"),Ye!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})}),m&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${w?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Ct,{type:"text",value:y,onChange:Me=>b(Me.target.value),placeholder:"Enter store name",required:m})]})]}),d.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(lt,{type:"button",onClick:ct,variant:"primary",icon:d.jsx(_i,{size:18}),children:"Add New Product"}),d.jsx(lt,{type:"submit",isLoading:t,variant:"success",icon:d.jsx(_i,{size:18}),children:"Confirm"})]})})]}),d.jsx(vh,{isOpen:p,onClose:()=>g(!1),onBarcodeScanned:qe}),d.jsx(Dye,{isOpen:z,onClose:()=>G(!1),onSuccess:er}),d.jsx(Mye,{isOpen:U,onClose:_t,onConfirm:kt,title:"Duplicate Stock Detected",message:q?`A product with the same name and barcode already exists at location ${q.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),d.jsx(pn,{isOpen:ee,onClose:()=>Z(!1),title:"Success!",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[d.jsx(vO,{size:24}),d.jsx("p",{className:w?"text-slate-200":"text-slate-700",children:k})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(lt,{variant:"primary",onClick:()=>Z(!1),children:"OK"})})]})}),d.jsx(pn,{isOpen:he,onClose:Gr,title:"Multiple ASINs Detected",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:w?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),d.jsx("div",{className:"space-y-3",children:fe.map((Me,Ye)=>d.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ce.includes(Me)?w?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":w?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>ur(Me),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:`font-mono text-sm ${w?"text-slate-200":"text-slate-800"}`,children:Me}),d.jsxs("div",{className:"flex items-center gap-2",children:[Ce.includes(Me)&&d.jsx(vO,{size:16,className:"text-blue-500"}),d.jsxs("span",{className:`text-xs ${w?"text-slate-400":"text-slate-500"}`,children:["ASIN ",Ye+1]})]})]})},Ye))}),d.jsxs("div",{className:"flex justify-between items-center pt-4",children:[d.jsx("div",{className:"text-sm text-slate-500",children:Ce.length>0?`${Ce.length} ASIN(s) selected`:"No ASINs selected"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(lt,{variant:"secondary",onClick:Gr,children:"Cancel"}),d.jsx(lt,{variant:"primary",onClick:()=>Wt(Ce),disabled:Ce.length===0,children:"Confirm Selection"})]})]})]})}),(Ke==null?void 0:Ke.hiddenProduct)&&d.jsx(Lye,{isOpen:ie,onClose:()=>$e(!1),onUseLocation:Wr,onManualLocation:Ie,hiddenProduct:Ke.hiddenProduct,newProductName:Ke.newProductName||"New Product"})]})},$ye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Bye=e=>Sf(e),Uye=["supply & serve","APHY","AZTEC","ZK","Fahiz"],p8=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],qq=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=cn(),{user:a}=Ta(),[i,s]=B.useState(null),o=()=>{switch(a==null?void 0:a.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return e.storeName}},l=(a==null?void 0:a.role)==="admin"?e.storeName:o(),c=l&&!Uye.includes(l),u=p8.some(O=>O.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[p,g]=B.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=B.useState(c),[y,b]=B.useState(c?l:""),[w,D]=B.useState(f==="other"),[P,j]=B.useState(h),[T,_]=B.useState(!1);B.useEffect(()=>{p.storeName==="supply & serve"&&p.fulfillmentType!=="mf"&&g(O=>({...O,fulfillmentType:"mf"}))},[p.storeName,p.fulfillmentType]);const S=O=>{const{name:U,value:Y}=O.target;if(U==="damagedItems"){const K=Number(Y),J=Number(p.quantity);if(K<0){s("Damaged items cannot be negative");return}s(null),g(q=>({...q,damagedItems:Y,quantity:(J-(K-Number(q.damagedItems))).toString()}));return}U==="supplier"&&(D(Y==="other"),Y!=="other"&&j("")),g(K=>({...K,[U]:Y}))},I=O=>{g(U=>({...U,barcode:O})),_(!1)},E=async O=>{if(O.preventDefault(),N())try{const U={id:e.id,name:p.name,quantity:parseInt(p.quantity),price:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?parseFloat(p.price):e.price,unit:p.unit||null,supplier:p.supplier==="other"?P:p.supplier||null,locationCode:p.locationCode,shelfNumber:p.shelfNumber,asin:p.asin||null,status:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?p.status:"pending",damagedItems:parseInt(p.damagedItems),fulfillmentType:p.fulfillmentType,lastUpdated:new Date,storeName:p.storeName==="other"?y:p.storeName,barcode:p.barcode||null};await t(U,e)}catch(U){console.error("Error updating stock:",U),s("Failed to update stock. Please try again.")}},N=()=>p.name.trim()?!p.quantity||parseInt(p.quantity)<0?(s("Quantity must be a positive number"),!1):((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&(!p.price||parseFloat(p.price)<0)?(s("Price must be a positive number"),!1):!p.locationCode||!p.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:p.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?d.jsx(on,{label:"Status",name:"status",value:p.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):d.jsx(Ct,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&d.jsx(Ct,{label:"Price",name:"price",type:"number",value:p.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),d.jsx(Ct,{label:"Unit (Optional)",name:"unit",value:p.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),d.jsx(on,{label:"Fulfillment Type",name:"fulfillmentType",value:p.fulfillmentType,onChange:S,options:p.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(on,{label:"Location Code",name:"locationCode",value:p.locationCode,onChange:S,options:$ye,required:!0,fullWidth:!0}),d.jsx(on,{label:"Shelf Number",name:"shelfNumber",value:p.shelfNumber,onChange:S,options:Bye(p.locationCode),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:p.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(qc,{size:18,className:"text-blue-500"})})]}),d.jsx(Ct,{label:"ASIN",name:"asin",value:p.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(on,{label:"Supplier",name:"supplier",value:p.supplier,onChange:S,options:p8,required:!0,fullWidth:!0})}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),d.jsx(on,{value:p.storeName,onChange:O=>{const U=O.target.value;g(Y=>({...Y,storeName:U,fulfillmentType:U==="supply & serve"?"mf":Y.fulfillmentType})),v(U==="other"),U!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&d.jsx(Ct,{label:"Other Supplier",value:P,onChange:O=>j(O.target.value),placeholder:"Enter supplier name",required:w,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&!w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Ct,{type:"text",value:y,onChange:O=>b(O.target.value),placeholder:"Enter store name",required:m})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Ct,{type:"text",value:y,onChange:O=>b(O.target.value),placeholder:"Enter store name",required:m})]}),d.jsxs("div",{children:[d.jsx(Ct,{label:"Damaged Items",name:"damagedItems",type:"number",value:p.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(lt,{type:"submit",isLoading:r,icon:d.jsx(_i,{size:18}),children:"Update Product"})}),d.jsx(vh,{isOpen:T,onClose:()=>_(!1),onBarcodeScanned:I})]})},Vye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Wq=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=B.useState([]),[i,s]=B.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=B.useState({}),[c,u]=B.useState(!1),[f,h]=B.useState(null),[p,g]=B.useState(!1),[m,v]=B.useState(null),y=B.useRef(null);B.useEffect(()=>{a(Sf(i.locationCode))},[]),B.useEffect(()=>{a(Sf(i.locationCode));const _=Sf(i.locationCode).length-1;parseInt(i.shelfNumber)>_&&s(S=>({...S,shelfNumber:"0"}))},[i.locationCode]);const b=_=>{const{name:S,value:I}=_.target;s(E=>({...E,[S]:I})),o[S]&&l(E=>{const N={...E};return delete N[S],N}),S==="barcode"&&I.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{I.length===13&&P(I)},500)):S==="barcode"&&I.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},w=()=>{u(!0)},D=async _=>{s(I=>({...I,barcode:_})),h(null),v(null),g(!0);let S=!1;try{const I=or(gt(Xe,"scannedProducts"),sr("barcode","==",_)),E=await lr(I);if(E.empty){const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_}`,Y=await(await fetch(O)).json();if(Y&&Y.items&&Y.items.length>0){const K=Y.items[0];s(J=>({...J,name:K.title||J.name})),h("Product name auto-filled from external database."),S=!0}else h("No product found for this barcode. Please enter details manually.")}else{const N=E.docs[0].data();s(O=>({...O,name:N.name||O.name})),h("Product name auto-filled from scanned products."),S=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!S&&_.length===13&&setTimeout(()=>{P(_)},100)}},P=async _=>{const S=_||i.barcode;if(!(!S||p)){v(null),g(!0);try{const I=or(gt(Xe,"scannedProducts"),sr("barcode","==",S)),E=await lr(I);if(E.empty){const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,Y=await(await fetch(O)).json();if(Y&&Y.items&&Y.items.length>0){const K=Y.items[0];s(J=>({...J,name:K.title||J.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const N=E.docs[0].data();s(O=>({...O,name:N.name||O.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},j=()=>{const _={};return i.name.trim()||(_.name="Product name is required"),i.locationCode||(_.locationCode="Location is required"),i.shelfNumber||(_.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(_.quantity="Quantity must be greater than 0"),l(_),Object.keys(_).length===0},T=async _=>{if(_.preventDefault(),!j())return;const S={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([S]),t()}catch(I){console.error("Error adding stock:",I)}};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:i.name,onChange:b,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(on,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:b,options:Vye,error:o.locationCode,required:!0,fullWidth:!0}),d.jsx(on,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:b,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await P()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(qc,{size:18,className:"text-blue-500"})})]}),m&&d.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),f&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:f}),p&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),d.jsx(Ct,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:b,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),d.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[d.jsx(lt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(lt,{type:"submit",isLoading:r,icon:d.jsx(_i,{size:18}),children:"Quick Add"}),d.jsx(lt,{type:"button",onClick:w,variant:"primary",icon:d.jsx(qc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),d.jsx(vh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:D})]})},iy=({isOpen:e,onClose:t,item:r})=>{var i,s;const{isDarkMode:n}=cn(),{user:a}=Ta();return r?d.jsx(pn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),d.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`${Number(r.price).toFixed(2)}`:"Not set yet"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((i=r.supplier)==null?void 0:i.toUpperCase())||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),d.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((o,l)=>d.jsx("span",{className:"block",children:o.trim()},l)):r.asin:"-"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.lastUpdated&&!isNaN(new Date(r.lastUpdated).getTime())?zt(new Date(r.lastUpdated),"MMM d, yyyy"):"Unknown"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((s=r.storeName)==null?void 0:s.toUpperCase())||"-"})]})]})]})}),d.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),d.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),d.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[d.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),d.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[d.jsx("span",{children:"0"}),d.jsx("span",{children:"Critical: <10"}),d.jsx("span",{children:"Low: 10-25"}),d.jsx("span",{children:"25+"})]})]})]})}):null},sh=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=cn();return d.jsx(pn,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(Sv,{size:24}),d.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(lt,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),d.jsx(lt,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},Hq=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),f=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return d.jsx(pn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Sv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",d.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),d.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>d.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:[" ",m.name," (",m.quantity," units)",m.barcode&&d.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),d.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",f," product",f!==1?"s":""," (",h," units)"]})]}):d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",d.jsx("strong",{children:l})," to this location?"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(lt,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&d.jsx(lt,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),d.jsx(lt,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},zye=({isOpen:e,onClose:t,productName:r,barcode:n,existingLocations:a})=>{const{isDarkMode:i}=cn();return d.jsx(pn,{isOpen:e,onClose:t,title:"Product Location Information",size:"lg",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`${i?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Zd,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),d.jsx("h3",{className:`font-semibold ${i?"text-blue-200":"text-blue-900"}`,children:"Product Details"})]}),d.jsxs("div",{className:`text-sm ${i?"text-blue-300":"text-blue-800"}`,children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",r]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Barcode:"})," ",n]})]})]}),d.jsxs("div",{className:`${i?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border rounded-lg p-4`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(gN,{className:`w-5 h-5 ${i?"text-green-400":"text-green-600"}`}),d.jsxs("h3",{className:`font-semibold ${i?"text-green-200":"text-green-900"}`,children:["Current Locations (",a.length,")"]})]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map((s,o)=>d.jsx("div",{className:`${i?"bg-slate-700 border-slate-600":"bg-white border-slate-200"} rounded-lg p-3 border`,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`font-medium ${i?"text-slate-100":"text-slate-900"}`,children:[s.locationCode," - ",s.shelfNumber]}),d.jsxs("p",{className:`text-sm font-semibold ${i?"text-slate-200":"text-slate-700"}`,children:[s.quantity," units"]})]})},o))}):d.jsx("p",{className:`text-sm ${i?"text-green-300":"text-green-700"}`,children:"This product is not currently in any location."})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(lt,{variant:"secondary",onClick:t,className:i?"text-slate-100":"text-slate-700",children:"Close"})})]})})},qye=()=>{var br;const[e,t]=B.useState(""),[r,n]=B.useState(""),[a,i]=B.useState("name"),[s,o]=B.useState(!1),[l,c]=B.useState("date"),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState(!1),[v,y]=B.useState(!1),[b,w]=B.useState(!1),[D,P]=B.useState(null),[j,T]=B.useState([]),[_,S]=B.useState(new Set),[I,E]=B.useState(!1),{showToast:N}=sc(),{isDarkMode:O}=cn(),{user:U}=Ta(),[Y,K]=B.useState(!1),[J,q]=B.useState(null),[V,ee]=B.useState(!1),[Z,k]=B.useState(!1),[R,z]=B.useState(null),[G,Q]=B.useState(null),[oe,fe]=B.useState(null),[ne,he]=B.useState(!1),[ye,W]=B.useState("all"),[ke,Ce]=B.useState(!1),[Te,ie]=B.useState(null),[$e,Ke]=B.useState(!1),[Se,Re]=B.useState(null);B.useEffect(()=>{const Ne=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ne)}},[e]);const be=B.useCallback(async()=>{w(!0);try{const Ne=or(gt(Xe,"inventory"),La("name")),We=(await lr(Ne)).docs.map(rr=>{const ir=rr.data();return{id:rr.id,...ir,lastUpdated:ir.lastUpdated instanceof ar?ir.lastUpdated.toDate():new Date(ir.lastUpdated)}});T(We)}catch{N("Failed to fetch stock items","error")}finally{w(!1)}},[N]),je=B.useCallback(async()=>{try{const Ne=gt(Xe,"inventory"),ot=await ok(Ne);ie(ot.data().count)}catch{ie(null)}},[]);B.useEffect(()=>{be(),je()},[be,je]),B.useEffect(()=>{const Ne=ot=>{const We=ot.target;We.closest(".store-filter-dropdown")||he(!1),We.closest(".status-filter-dropdown")||Ce(!1),We.closest(".search-type-dropdown")||o(!1)};return(ne||ke||s)&&document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[ne,ke,s]);const Ee=B.useMemo(()=>[{value:"date",label:"Date Updated"},{value:"quantity",label:"Quantity (High-Low)"},{value:"name",label:"Name (A-Z)"},{value:"price",label:"Price (High-Low)"}],[]),qe=B.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),at=B.useCallback(Ne=>({"supply & serve":"bg-blue-100 text-blue-700",APHY:"bg-green-100 text-green-700",AZTEC:"bg-purple-100 text-purple-700",ZK:"bg-orange-100 text-orange-700",Fahiz:"bg-pink-100 text-pink-700"})[Ne]||"bg-gray-100 text-gray-700",[]),nt=B.useMemo(()=>{const Ne=r.toLowerCase();return j.filter(ot=>{if(ot.quantity===0)return!1;let We=!0;if(r!=="")switch(a){case"name":We=ot.name.toLowerCase().includes(Ne);break;case"barcode":We=!!(ot.barcode&&ot.barcode.toLowerCase().includes(Ne));break;case"asin":We=!!(ot.asin&&ot.asin.split(",").some(jr=>jr.trim().toLowerCase().includes(Ne)));break;case"location":We=`${ot.locationCode}-${ot.shelfNumber}`.toLowerCase().includes(Ne);break;default:We=!0}const rr=oe?oe.fulfillmentType==="all"?oe.storeName==="other"?!qe.includes(ot.storeName):ot.storeName===oe.storeName:oe.storeName==="other"?!qe.includes(ot.storeName)&&ot.fulfillmentType===oe.fulfillmentType:ot.storeName===oe.storeName&&ot.fulfillmentType===oe.fulfillmentType:!0,ir=ye==="all"||ot.status===ye;return We&&rr&&ir}).sort((ot,We)=>l==="name"?ot.name.localeCompare(We.name):l==="quantity"?We.quantity-ot.quantity:l==="price"?We.price-ot.price:l==="date"?new Date(We.lastUpdated).getTime()-new Date(ot.lastUpdated).getTime():0)},[j,r,a,oe,ye,l,qe]),ft=B.useCallback((Ne,ot)=>j.filter(We=>We.locationCode===Ne&&We.shelfNumber===ot),[j]),Et=B.useCallback(Ne=>j.filter(ot=>ot.barcode===Ne&&ot.quantity>0),[j]),kt=B.useCallback((Ne,ot)=>{const We=Et(ot);We.length>0&&(Re({productName:Ne,barcode:ot,existingLocations:We}),Ke(!0))},[Et]),_t=B.useCallback(async Ne=>{w(!0);try{const ot=[];for(const We of Ne)if(We.barcode){const rr=or(gt(Xe,"inventory"),sr("barcode","==",We.barcode),sr("quantity","==",0)),ir=await lr(rr);if(!ir.empty){const jr=ir.docs[0];if(await Os(Ar(Xe,"inventory",jr.id)),T(wr=>wr.filter(Ur=>Ur.id!==jr.id)),U){const wr=jr.data();await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${wr.name}" with barcode ${We.barcode} from location ${wr.locationCode}-${wr.shelfNumber}`,time:new Date().toISOString()})}}}for(const We of Ne){const rr=await pr(gt(Xe,"inventory"),{...We,lastUpdated:ar.fromDate(new Date)});ot.push({...We,id:rr.id,lastUpdated:new Date})}if(U){const We=Ne.reduce((ir,jr)=>ir+jr.quantity,0),rr=Ne.map(ir=>`${ir.quantity} at ${ir.locationCode}-${ir.shelfNumber}`).join(", ");await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Ne[0].name}" with total quantity ${We} (${rr})`,time:new Date().toISOString()})}T(We=>[...We,...ot]),f(!1),ee(!1),N("Stock items added successfully","success")}catch{N("Failed to add stock items","error")}finally{w(!1)}},[U,N]),ct=B.useCallback(async Ne=>{const ot=[];for(const We of Ne){const rr=ft(We.locationCode,We.shelfNumber);rr.length>0&&ot.push({locationCode:We.locationCode,shelfNumber:We.shelfNumber,products:rr})}if(ot.length>0){const We=ot[0];Q({locationCode:We.locationCode,shelfNumber:We.shelfNumber,existingProducts:We.products,newProductName:Ne[0].name,newProductBarcode:Ne[0].barcode||void 0}),z(Ne),k(!0);return}await _t(Ne)},[ft,_t]),er=B.useCallback(async()=>{R&&(await _t(R),k(!1),z(null),Q(null),f(!1),ee(!1))},[R,_t]),Wt=B.useCallback(()=>{k(!1),z(null),Q(null),f(!1),ee(!1)},[]),Gr=B.useCallback(async()=>{if(R&&G)try{w(!0);const Ne=G.existingProducts.find(ot=>ot.barcode===G.newProductBarcode);if(Ne){const ot=Ne.quantity+R[0].quantity,We=Ar(Xe,"inventory",Ne.id);await $n(We,{quantity:ot,lastUpdated:ar.fromDate(new Date)}),U&&(await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${R[0].quantity} units of "${R[0].name}" with existing stock "${Ne.name}" at location ${G.locationCode}-${G.shelfNumber}`,time:new Date().toISOString()}),await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ne.name}": quantity from ${Ne.quantity} to ${ot}`,time:new Date().toISOString()})),await be(),N("Products merged successfully","success")}}catch{N("Failed to merge products","error")}finally{w(!1),k(!1),z(null),Q(null),f(!1),ee(!1)}},[R,G,U,be,N]),ur=B.useCallback(async(Ne,ot)=>{w(!0);try{const We=new Date,rr={},ir=[];if(Ne.name!==ot.name&&(rr.name=Ne.name,ir.push(`name from "${ot.name}" to "${Ne.name}"`)),Ne.price!==ot.price){rr.price=Ne.price;const jr=Number(ot.price||0).toFixed(2),wr=Number(Ne.price||0).toFixed(2);ir.push(`price from ${jr} to ${wr}`)}if((Ne.locationCode!==ot.locationCode||Ne.shelfNumber!==ot.shelfNumber)&&(rr.locationCode=Ne.locationCode,rr.shelfNumber=Ne.shelfNumber,ir.push(`location from ${ot.locationCode}-${ot.shelfNumber} to ${Ne.locationCode}-${Ne.shelfNumber}`)),Ne.supplier!==ot.supplier&&(rr.supplier=Ne.supplier,ir.push(`supplier from "${ot.supplier||"none"}" to "${Ne.supplier||"none"}"`)),Ne.asin!==ot.asin&&(rr.asin=Ne.asin,ir.push(`ASIN from "${ot.asin||"none"}" to "${Ne.asin||"none"}"`)),Ne.status!==ot.status&&(rr.status=Ne.status,ir.push(`status from "${ot.status}" to "${Ne.status}"`)),Ne.damagedItems!==ot.damagedItems&&(rr.damagedItems=Ne.damagedItems,ir.push(`damaged items from ${ot.damagedItems} to ${Ne.damagedItems}`)),Ne.fulfillmentType!==ot.fulfillmentType&&(rr.fulfillmentType=Ne.fulfillmentType,ir.push(`fulfillment type from "${ot.fulfillmentType.toUpperCase()}" to "${Ne.fulfillmentType.toUpperCase()}"`)),Ne.storeName!==ot.storeName&&(rr.storeName=Ne.storeName,ir.push(`store name from "${ot.storeName}" to "${Ne.storeName}"`)),Ne.unit!==ot.unit&&(rr.unit=Ne.unit,ir.push(`unit from "${ot.unit||"none"}" to "${Ne.unit||"none"}"`)),Ne.barcode!==ot.barcode&&(rr.barcode=Ne.barcode,ir.push(`barcode from "${ot.barcode||"none"}" to "${Ne.barcode||"none"}"`)),Object.keys(rr).length>0){const jr=Ar(Xe,"inventory",Ne.id);await $n(jr,{...rr,lastUpdated:ar.fromDate(We)}),U&&ir.length>0&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ne.name}": ${ir.join(", ")}`,time:We.toISOString()});const wr=j.map(Ur=>Ur.id===Ne.id?{...Ur,...rr,lastUpdated:We}:Ur);T(wr),N("Stock details updated successfully","success"),p(!1),P(null)}if(Ne.quantity>ot.quantity)q({itemId:Ne.id,newQuantity:Ne.quantity}),K(!0),p(!1);else if(Ne.quantity!==ot.quantity){const jr=Ar(Xe,"inventory",Ne.id);await $n(jr,{quantity:Ne.quantity,lastUpdated:ar.fromDate(We)}),U&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ne.name}": quantity from ${ot.quantity} to ${Ne.quantity}`,time:We.toISOString()});const wr=j.map(Ur=>Ur.id===Ne.id?{...Ur,quantity:Ne.quantity,lastUpdated:We}:Ur);T(wr),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch{N("Failed to update stock item","error")}finally{w(!1)}},[j,U,N]),Wr=B.useCallback(async()=>{if(J){w(!0);try{const{itemId:Ne,newQuantity:ot}=J,We=new Date,rr=j.find(wr=>wr.id===Ne),ir=Ar(Xe,"inventory",Ne);await $n(ir,{quantity:ot,lastUpdated:ar.fromDate(We)}),U&&rr&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${rr.name}": quantity from ${rr.quantity} to ${ot}`,time:We.toISOString()});const jr=j.map(wr=>wr.id===Ne?{...wr,quantity:ot,lastUpdated:We}:wr);T(jr),N("Stock quantity updated successfully","success"),P(null)}catch{N("Failed to update quantity","error")}finally{w(!1),K(!1),q(null)}}},[J,j,U,N]),Ie=B.useCallback(async Ne=>{w(!0);try{const ot=j.find(We=>We.id===Ne);await Os(Ar(Xe,"inventory",Ne)),U&&ot&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${ot.name}" (${ot.quantity} units) from location ${ot.locationCode}-${ot.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(We=>We.id!==Ne)),m(!1),P(null),N("Stock item deleted successfully","success")}catch{N("Failed to delete stock item","error")}finally{w(!1)}},[j,U,N]),Me=B.useCallback(Ne=>{P(Ne)},[]),Ye=B.useCallback((Ne,ot)=>{Ne.stopPropagation(),P(ot),p(!0)},[]),ht=B.useCallback((Ne,ot)=>{Ne.stopPropagation(),P(ot),m(!0)},[]),Dt=B.useCallback(()=>{_.size===nt.length?S(new Set):S(new Set(nt.map(Ne=>Ne.id)))},[nt,_.size]),Gt=B.useCallback(Ne=>{const ot=new Set(_);ot.has(Ne)?ot.delete(Ne):ot.add(Ne),S(ot)},[_]),Mt=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ne=j.filter(We=>_.has(We.id)),ot=Array.from(_).map(We=>Os(Ar(Xe,"inventory",We)));if(await Promise.all(ot),U){const We=Ne.map(rr=>`"${rr.name}" (${rr.quantity} units) from ${rr.locationCode}-${rr.shelfNumber}`).join(", ");await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${We}`,time:new Date().toISOString()})}T(j.filter(We=>!_.has(We.id))),S(new Set),E(!1),y(!1),N(`Successfully deleted ${_.size} items`,"success")}catch{N("Failed to delete selected items","error")}finally{w(!1)}}},[_,j,U,N]),Ot=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ne=j.filter(We=>_.has(We.id)&&We.status==="pending");if(Ne.length===0){N("No pending items selected to activate","error");return}const ot=Ne.map(We=>$n(Ar(Xe,"inventory",We.id),{status:"active",lastUpdated:ar.fromDate(new Date)}));if(await Promise.all(ot),U){const We=Ne.map(rr=>`"${rr.name}" from ${rr.locationCode}-${rr.shelfNumber}`).join(", ");await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Ne.length} pending products: ${We}`,time:new Date().toISOString()})}T(j.map(We=>_.has(We.id)&&We.status==="pending"?{...We,status:"active",lastUpdated:new Date}:We)),S(new Set),E(!1),N(`Successfully activated ${Ne.length} items`,"success")}catch{N("Failed to activate selected items","error")}finally{w(!1)}}},[_,j,U,N]),Zt=B.useCallback(()=>{E(!I),I||S(new Set)},[I]),xr=B.useCallback(({item:Ne})=>{var ot;return d.jsxs("tr",{className:`hover:${O?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Me(Ne),children:[I&&d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,onClick:We=>We.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:_.has(Ne.id),onChange:()=>Gt(Ne.id),className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:Ne.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ne.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ne.storeName&&Ne.storeName!=="not set"?d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${at(Ne.storeName)}`,children:(ot=Ne.storeName)==null?void 0:ot.toUpperCase()}):d.jsx("span",{className:"text-slate-400",children:"-"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:[Ne.locationCode," - ",Ne.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ne.asin?Ne.asin.split(",").length>3?Ne.asin.split(",").slice(0,3).map(We=>We.trim()).join(", ")+"...":Ne.asin.split(",").map(We=>We.trim()).join(", "):"-"}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ne.price)>0?`${Number(Ne.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ne.quantity*Ne.price)>0?`${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ne.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ne.quantity>10&&Ne.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Ne.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:zt(new Date(Ne.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:We=>Ye(We,Ne),className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(us,{size:16})}),d.jsx("button",{onClick:We=>ht(We,Ne),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(ni,{size:16})})]})})]},Ne.id)},[I,_,O,U,Me,Gt,Ye,ht,at]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-gray-900"}`,children:"Inbound"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${O?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",Te!==null?Te:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:I?d.jsxs(d.Fragment,{children:[ye==="pending"&&d.jsxs(lt,{onClick:Ot,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(u9,{size:16}),"Go Live (",_.size,")"]}),d.jsxs(lt,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(ni,{size:16}),"Delete Selected (",_.size,")"]}),d.jsx(lt,{onClick:Zt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(lt,{onClick:Zt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(e2,{size:16}),"Select Items"]}),d.jsxs(lt,{variant:"secondary",onClick:()=>ee(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(_i,{size:16}),"Quick Add"]}),d.jsxs(lt,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(_i,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:`Search by ${a}...`,value:e,onChange:Ne=>t(Ne.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative search-type-dropdown",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>o(!s),className:`flex items-center gap-2 ${a!=="name"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[a==="name"?"Name":a==="barcode"?"Barcode":a==="asin"?"ASIN":"Location",d.jsx(Kl,{size:16})]}),s&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Search by"}),[{value:"name",label:"Name"},{value:"barcode",label:"Barcode"},{value:"asin",label:"ASIN"},{value:"location",label:"Location"}].map(Ne=>d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${a===Ne.value?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{i(Ne.value),t(""),o(!1)},children:Ne.label},Ne.value))]})})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(on,{value:l,onChange:Ne=>c(Ne.target.value),options:Ee})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>Ce(!ke),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",d.jsx(Kl,{size:16})]}),ke&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),Ce(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),Ce(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),Ce(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),Ce(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>he(!ne),className:`flex items-center gap-2 ${oe?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[oe?`${oe.storeName==="other"?"OTHER":(br=oe.storeName)==null?void 0:br.toUpperCase()}${oe.fulfillmentType!=="all"?` - ${oe.fulfillmentType.toUpperCase()}`:""}`:"Store Filter",d.jsx(Kl,{size:16})]}),ne&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Store"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Ne=>d.jsx("div",{children:d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Ne?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{fe({storeName:Ne,fulfillmentType:"all"}),he(!1)},children:Ne.toUpperCase()})},Ne)),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{fe(null),he(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(lt,{variant:"secondary",onClick:be,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:d.jsx(ri,{size:16,className:b?"animate-spin":""})})]}),b?d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(cs,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:O?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):nt.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700":"divide-slate-200"} ${O?"bg-slate-800":"bg-white"} rounded-lg border ${O?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:O?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[I&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:_.size===nt.length,onChange:Dt,className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Store"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${O?"divide-slate-700":"divide-slate-200"}`,children:nt.map((Ne,ot)=>d.jsx(xr,{item:Ne,index:ot},Ne.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:nt.map(Ne=>{var ot;return d.jsxs("div",{className:`rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Me(Ne),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${O?"text-blue-400":"text-blue-700"}`,children:Ne.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"}),Ne.storeName&&Ne.storeName!=="not set"?d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${at(Ne.storeName)}`,children:(ot=Ne.storeName)==null?void 0:ot.toUpperCase()}):d.jsx("span",{className:"text-slate-400",children:"-"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Ne.locationCode," - ",Ne.shelfNumber]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Ne.quantity})]}),Ne.asin&&d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Ne.asin})]}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Ne.price)>0?`${Number(Ne.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Ne.quantity*Ne.price)>0?`${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:zt(new Date(Ne.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(lt,{size:"sm",variant:"secondary",onClick:We=>{We.stopPropagation(),Ye(We,Ne)},children:[d.jsx(us,{size:14})," Edit"]}),d.jsxs(lt,{size:"sm",variant:"danger",onClick:We=>{We.stopPropagation(),ht(We,Ne)},children:[d.jsx(ni,{size:14})," Delete"]})]})]},Ne.id)})})]}):d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:O?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(pn,{isOpen:u,onClose:()=>f(!1),title:"Add New Stock Item",size:"xl",children:d.jsx(zq,{onSubmit:ct,onCancel:()=>f(!1),isLoading:b,existingStockItems:j,onShowProductLocationInfo:kt})}),d.jsx(pn,{isOpen:V,onClose:()=>ee(!1),title:"Quick Add Stock",size:"md",children:d.jsx(Wq,{onSubmit:ct,onClose:()=>ee(!1),isLoading:b})}),d.jsx(pn,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:D&&d.jsx(qq,{item:D,onSubmit:ur,onCancel:()=>p(!1),isLoading:b})}),D&&d.jsx(sh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>Ie(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:b}),D&&!h&&!g&&!Y&&d.jsx(iy,{isOpen:!!D,onClose:()=>P(null),item:D}),d.jsx(sh,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:Mt,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),d.jsx(pn,{isOpen:Y,onClose:()=>{K(!1),q(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(lt,{variant:"secondary",onClick:()=>{K(!1),q(null)},children:"No"}),d.jsx(lt,{onClick:Wr,isLoading:b,children:"Yes"})]})]})}),G&&d.jsx(Hq,{isOpen:Z,onClose:Wt,onConfirm:er,onCancel:Wt,onMerge:Gr,locationCode:G.locationCode,shelfNumber:G.shelfNumber,existingProducts:G.existingProducts,newProductName:G.newProductName,newProductBarcode:G.newProductBarcode}),Se&&d.jsx(zye,{isOpen:$e,onClose:()=>{Ke(!1),Re(null)},productName:Se.productName,barcode:Se.barcode,existingLocations:Se.existingLocations})]})},Wye=()=>{const{isDarkMode:e}=cn(),{showToast:t}=sc(),{user:r}=Ta();Ta();const[n,a]=B.useState(!1),[i,s]=B.useState([]),[o,l]=B.useState(""),[c,u]=B.useState(null),[f,h]=B.useState(""),[p,g]=B.useState(null),[m,v]=B.useState("all"),[y,b]=B.useState("all"),[w,D]=B.useState(!1),[P,j]=B.useState(!1),[T,_]=B.useState(null),S=async Z=>{if(r)try{await pr(gt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:Z,time:new Date().toISOString()})}catch(k){console.error("Failed to log activity:",k)}},I=B.useCallback(async()=>{a(!0);try{const Z=or(gt(Xe,"inventory"),La("name")),R=(await lr(Z)).docs.map(z=>{const G=z.data();return{id:z.id,...G,lastUpdated:G.lastUpdated instanceof ar?G.lastUpdated.toDate():new Date(G.lastUpdated)}});s(R)}catch(Z){console.error("Failed to fetch inventory",Z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=B.useCallback(async()=>{try{const Z=gt(Xe,"inventory"),k=await ok(Z);g(k.data().count)}catch{g(null)}},[]);B.useEffect(()=>{I(),E()},[I,E]),B.useEffect(()=>{const Z=k=>{const R=k.target;R.closest(".damage-filter-dropdown")||D(!1),R.closest(".duplicate-filter-dropdown")||j(!1)};return(w||P)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[w,P]);const N=B.useMemo(()=>{const Z={};for(const k of i){const R=(k.name||"").trim().toLowerCase();if(!R)continue;const z=`${k.locationCode||""}-${k.shelfNumber||""}`.trim().toLowerCase();Z[R]||(Z[R]=new Set),Z[R].add(z)}return Z},[i]),U=((Z,k)=>{const[R,z]=B.useState(Z);return B.useEffect(()=>{const G=setTimeout(()=>z(Z),k);return()=>clearTimeout(G)},[Z,k]),R})(o,300),Y=B.useMemo(()=>{const Z=U.trim().toLowerCase();return i.filter(k=>{var W,ke;const R=((W=k.name)==null?void 0:W.toLowerCase())||"",z=(k.asin||"").toLowerCase(),G=(k.barcode||"").toLowerCase(),Q=Z?R.includes(Z)||z.includes(Z)||G.includes(Z):!0,oe=m==="all"?!0:m==="damaged"?(k.damagedItems||0)>0:(k.damagedItems||0)<=0,fe=(k.name||"").trim().toLowerCase(),he=(fe&&((ke=N[fe])==null?void 0:ke.size)||0)>1;return Q&&oe&&(y==="all"?!0:y==="duplicates"?he:!he)})},[i,U,m,y,N]),K=B.useMemo(()=>U.trim()?Y.reduce((Z,k)=>Z+(k.quantity||0),0):0,[Y,U]),J=B.useMemo(()=>{var ne;const Z=Y.length;let k=0,R=0,z=0,G=0,Q=0;for(const he of Y){(he.damagedItems||0)>0&&k++,he.status==="active"&&R++,he.status==="pending"&&z++,Number(he.price)>0&&G++;const ye=(he.name||"").trim().toLowerCase();(ye&&((ne=N[ye])==null?void 0:ne.size)||0)>1&&Q++}const oe=Z-Q,fe=Z-G;return{total:Z,damaged:k,duplicates:Q,unique:oe,active:R,pending:z,priceSet:G,noPrice:fe}},[Y,N]),q=Z=>{u(Z.id),h(Z.price!=null?String(Z.price):"")},V=()=>{u(null),h("")},ee=async Z=>{const k=Number(f);if(Number.isNaN(k)||k<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,z=Ar(Xe,"inventory",Z.id);await $n(z,{price:k,lastUpdated:ar.fromDate(R)}),await S(`updated price for ${Z.name} (barcode: ${Z.barcode}) from ${Z.price||0} to ${k.toFixed(2)}`),s(G=>G.map(Q=>Q.id===Z.id?{...Q,price:k,lastUpdated:R}:Q)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return d.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[d.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:d.jsx("span",{className:"animate-pulse",children:"..."})]}),d.jsxs(lt,{variant:"secondary",onClick:()=>{I(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[d.jsx(ri,{size:14,className:n?"animate-spin":""}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[U.trim()?d.jsx(mi,{title:"Total Quantity",value:K,icon:d.jsx(Zd,{size:20,className:"text-blue-600"})}):d.jsx(mi,{title:"Products",value:J.total,icon:d.jsx(Zd,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Damaged",value:J.damaged,icon:d.jsx(Jd,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Duplicates",value:J.duplicates,icon:d.jsx(CZ,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Unique",value:J.unique,icon:d.jsx(P4,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[d.jsx(mi,{title:"Active",value:J.active,icon:d.jsx(P4,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Pending",value:J.pending,icon:d.jsx(Jd,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"With Price",value:J.priceSet,icon:d.jsx(W2,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"No Price",value:J.noPrice,icon:d.jsx(W2,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:Z=>l(Z.target.value),className:"pl-10 text-sm sm:text-base"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>D(!w),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),d.jsx(Kl,{size:16})]}),w&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),D(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),D(!1)},children:"Damaged"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),D(!1)},children:"Not Damaged"})]})})]}),d.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>j(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),d.jsx(Kl,{size:16})]}),P&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("all"),j(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("duplicates"),j(!1)},children:"Duplicates Only"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("unique"),j(!1)},children:"Unique Only"})]})})]})]})]}),n?d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[d.jsx(cs,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):Y.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),d.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:Y.map(Z=>d.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:Z.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.asin?Z.asin.split(",").length>3?Z.asin.split(",").slice(0,3).map(k=>k.trim()).join(", ")+"...":Z.asin.split(",").map(k=>k.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===Z.id?d.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:k=>k.stopPropagation(),children:[d.jsx(Ct,{type:"number",step:"0.01",value:f,onChange:k=>h(k.target.value),className:"w-28 text-right"}),d.jsx(lt,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:d.jsx(yO,{size:14})}),d.jsx(lt,{size:"sm",variant:"secondary",onClick:V,disabled:n,children:d.jsx(ip,{size:14})})]}):d.jsx("button",{onClick:k=>{k.stopPropagation(),q(Z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(Z.price)>0?`${Number(Z.price).toFixed(2)}`:"(Not set)"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:Z.quantity}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.barcode||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:d.jsx("button",{onClick:()=>_(Z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:d.jsx(O4,{size:16})})})]},Z.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-3",children:Y.map(Z=>{var k;return d.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:Z.name}),d.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:((k=Z.asin)==null?void 0:k.split(",")[0])||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",d.jsx("span",{className:"font-medium",children:Z.barcode||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",d.jsx("span",{className:"font-medium",children:Z.quantity})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(Z.price)>0?`${Number(Z.price).toFixed(2)}`:"No price"}),d.jsxs("div",{className:"flex gap-1",children:[c===Z.id?d.jsxs(d.Fragment,{children:[d.jsx(lt,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:d.jsx(yO,{size:12})}),d.jsx(lt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),V()},disabled:n,children:d.jsx(ip,{size:12})})]}):d.jsx(lt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q(Z)},children:d.jsx(us,{size:12})}),d.jsx(lt,{size:"sm",variant:"secondary",onClick:()=>_(Z),children:d.jsx(O4,{size:12})})]})]})]}),c===Z.id&&d.jsx("div",{className:"mt-1",children:d.jsx(Ct,{type:"number",step:"0.01",value:f,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},Z.id)})})]}):d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&d.jsx(iy,{isOpen:!!T,onClose:()=>_(null),item:T})]})},Gq=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=cn(),[o,l]=B.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${zt(e,"MMM d, yyyy")} - ${zt(t,"MMM d, yyyy")}`:e?`From ${zt(e,"MMM d, yyyy")}`:t?`To ${zt(t,"MMM d, yyyy")}`:"Select date range";return d.jsxs("div",{className:`relative ${i}`,children:[d.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx(o9,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&d.jsx("span",{onClick:p=>{p.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),f())},children:d.jsx(ip,{className:"h-3 w-3"})})]}),o&&d.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:e?zt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:t?zt(t,"yyyy-MM-dd"):"",onChange:u,min:e?zt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),d.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},Hye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=B.useState(""),[s,o]=B.useState("stock sold"),[l,c]=B.useState(""),[u,f]=B.useState(""),[h,p]=B.useState([]),[g,m]=B.useState(""),[v,y]=B.useState(!1),{isDarkMode:b}=cn();B.useEffect(()=>{(async()=>{y(!0);try{let S=or(gt(Xe,"inventory"),sr("barcode","==",e.barcode)),I=await lr(S);if(I.empty&&e.barcode){const O=String(e.barcode).trim();S=or(gt(Xe,"inventory"),sr("barcode","==",O)),I=await lr(S)}I.empty&&e.name&&(S=or(gt(Xe,"inventory"),sr("name","==",e.name)),I=await lr(S));const E=[];I.docs.forEach(O=>{const U=O.data();U.locationCode&&U.shelfNumber&&(U.quantity||0)>0&&E.push({locationCode:String(U.locationCode).trim(),shelfNumber:String(U.shelfNumber).trim(),quantity:Number(U.quantity)||0,storeName:(U.storeName?String(U.storeName):"Unknown").trim()})});const N=E.filter((O,U,Y)=>U===Y.findIndex(K=>K.locationCode===O.locationCode&&K.shelfNumber===O.shelfNumber)).sort((O,U)=>O.locationCode.localeCompare(U.locationCode));if(p(N),N.length>0){const O=N[0];m(`${O.locationCode}-${O.shelfNumber}`),f(O.storeName)}}catch(S){console.error("Error fetching locations:",S)}finally{y(!1)}})()},[e.barcode]);const w=_=>{if(m(_),_){const[S,I]=_.split("-"),E=h.find(N=>String(N.locationCode)===String(S)&&String(N.shelfNumber)===String(I));E&&f(E.storeName)}},D=async _=>{_.preventDefault();const S=Number(a);if(!a||S<0)return;const I=P();if(S>I||!g)return;const E=s==="other"?l:s,N=u.trim(),[O,U]=g.split("-");await t({id:e.id,quantity:e.quantity-S,reason:E,storeName:N,locationCode:O,shelfNumber:U})},P=()=>{if(!g)return e.quantity;const[_,S]=g.split("-"),I=h.find(E=>String(E.locationCode)===String(_)&&String(E.shelfNumber)===String(S));return I?I.quantity:e.quantity},T=(()=>{const _=Number(a);if(!a||_<0)return"Quantity to deduct must be 0 or greater";const S=P();return _>S?`Cannot deduct more than current stock at selected location (${S} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":g?null:"Please select a location":"Please select a reason"})();return d.jsxs("form",{onSubmit:D,className:`space-y-6 ${b?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${b?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${b?"text-white":"text-gray-900"}`,children:e.name}),d.jsx("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:g&&d.jsxs("span",{className:` ${b?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",P()," units"]})}),d.jsxs("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),v?d.jsxs("div",{className:`flex items-center gap-2 text-sm ${b?"text-slate-400":"text-slate-500"}`,children:[d.jsx(cs,{size:16,className:"animate-spin"}),"Loading locations..."]}):h.length>0?d.jsx(on,{id:"location",value:g,onChange:_=>w(_.target.value),required:!0,options:[{value:"",label:"Select a location"},...h.map(_=>{var S;return{value:`${_.locationCode}-${_.shelfNumber}`,label:`${_.locationCode} - Shelf ${_.shelfNumber} (${_.quantity} units) - ${(S=_.storeName)==null?void 0:S.toUpperCase()}`}})],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}):d.jsx("div",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:"No locations with available stock found for this product"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Ct,{id:"deductQuantity",type:"number",min:"0",max:P(),value:a,onChange:_=>i(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}),g&&d.jsxs("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",P()," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(on,{id:"reason",value:s,onChange:_=>o(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Ct,{id:"otherReason",type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Enter the reason",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),g&&u&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsxs("div",{className:`p-3 rounded-lg ${b?"bg-slate-700 border-slate-600":"bg-slate-100 border-slate-300"} border`,children:[d.jsx("span",{className:`text-sm font-medium ${b?"text-slate-200":"text-slate-800"}`,children:u==null?void 0:u.toUpperCase()}),d.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Automatically selected based on location"})]})]}),T?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${b?"text-red-400":"text-red-600"}`,children:[d.jsx(Jd,{size:16}),d.jsx("span",{children:T})]}):d.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(lt,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),d.jsx(lt,{type:"submit",disabled:n||!!T,className:"min-w-[100px]",children:n?d.jsxs(d.Fragment,{children:[d.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Gye=({isOpen:e,onClose:t})=>{const[r,n]=B.useState("0"),[a,i]=B.useState(null),[s,o]=B.useState(null),[l,c]=B.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},f=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const b=parseFloat(r);if(a===null)i(b);else if(s){const D=g(a||0,b,s);n(String(D)),i(D)}c(!0),o(y)},g=(y,b,w)=>{switch(w){case"+":return y+b;case"-":return y-b;case"":return y*b;case"":return y/b;default:return b}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"",onClick:()=>p(""),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>f("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>f("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>f("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"",onClick:()=>p(""),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>f("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>f("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>f("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>f("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>f("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>f("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>f("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),b=g(a,y,s);n(String(b)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return d.jsx(pn,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[d.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&d.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,b)=>d.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},b))}),d.jsx("div",{className:"pt-2",children:d.jsx(lt,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function Kq(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Kq(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Kq(e))&&(n&&(n+=" "),n+=t);return n}var Kye=Array.isArray,Rs=Kye,Yye=typeof ag=="object"&&ag&&ag.Object===Object&&ag,Yq=Yye,Xye=Yq,Qye=typeof self=="object"&&self&&self.Object===Object&&self,Jye=Xye||Qye||Function("return this")(),cc=Jye,Zye=cc,exe=Zye.Symbol,sy=exe,m8=sy,Xq=Object.prototype,txe=Xq.hasOwnProperty,rxe=Xq.toString,Hm=m8?m8.toStringTag:void 0;function nxe(e){var t=txe.call(e,Hm),r=e[Hm];try{e[Hm]=void 0;var n=!0}catch{}var a=rxe.call(e);return n&&(t?e[Hm]=r:delete e[Hm]),a}var axe=nxe,ixe=Object.prototype,sxe=ixe.toString;function oxe(e){return sxe.call(e)}var lxe=oxe,g8=sy,cxe=axe,uxe=lxe,fxe="[object Null]",dxe="[object Undefined]",v8=g8?g8.toStringTag:void 0;function hxe(e){return e==null?e===void 0?dxe:fxe:v8&&v8 in Object(e)?cxe(e):uxe(e)}var lu=hxe;function pxe(e){return e!=null&&typeof e=="object"}var cu=pxe,mxe=lu,gxe=cu,vxe="[object Symbol]";function yxe(e){return typeof e=="symbol"||gxe(e)&&mxe(e)==vxe}var im=yxe,xxe=Rs,bxe=im,wxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_xe=/^\w*$/;function Sxe(e,t){if(xxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||bxe(e)?!0:_xe.test(e)||!wxe.test(e)||t!=null&&e in Object(t)}var vC=Sxe;function Axe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Kf=Axe;const sm=On(Kf);var Txe=lu,Exe=Kf,Nxe="[object AsyncFunction]",kxe="[object Function]",Cxe="[object GeneratorFunction]",Pxe="[object Proxy]";function Oxe(e){if(!Exe(e))return!1;var t=Txe(e);return t==kxe||t==Cxe||t==Nxe||t==Pxe}var yC=Oxe;const zr=On(yC);var Ixe=cc,jxe=Ixe["__core-js_shared__"],Dxe=jxe,WS=Dxe,y8=function(){var e=/[^.]+$/.exec(WS&&WS.keys&&WS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lxe(e){return!!y8&&y8 in e}var Mxe=Lxe,Rxe=Function.prototype,Fxe=Rxe.toString;function $xe(e){if(e!=null){try{return Fxe.call(e)}catch{}try{return e+""}catch{}}return""}var Qq=$xe,Bxe=yC,Uxe=Mxe,Vxe=Kf,zxe=Qq,qxe=/[\\^$.*+?()[\]{}|]/g,Wxe=/^\[object .+?Constructor\]$/,Hxe=Function.prototype,Gxe=Object.prototype,Kxe=Hxe.toString,Yxe=Gxe.hasOwnProperty,Xxe=RegExp("^"+Kxe.call(Yxe).replace(qxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qxe(e){if(!Vxe(e)||Uxe(e))return!1;var t=Bxe(e)?Xxe:Wxe;return t.test(zxe(e))}var Jxe=Qxe;function Zxe(e,t){return e==null?void 0:e[t]}var e2e=Zxe,t2e=Jxe,r2e=e2e;function n2e(e,t){var r=r2e(e,t);return t2e(r)?r:void 0}var Ah=n2e,a2e=Ah,i2e=a2e(Object,"create"),A5=i2e,x8=A5;function s2e(){this.__data__=x8?x8(null):{},this.size=0}var o2e=s2e;function l2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var c2e=l2e,u2e=A5,f2e="__lodash_hash_undefined__",d2e=Object.prototype,h2e=d2e.hasOwnProperty;function p2e(e){var t=this.__data__;if(u2e){var r=t[e];return r===f2e?void 0:r}return h2e.call(t,e)?t[e]:void 0}var m2e=p2e,g2e=A5,v2e=Object.prototype,y2e=v2e.hasOwnProperty;function x2e(e){var t=this.__data__;return g2e?t[e]!==void 0:y2e.call(t,e)}var b2e=x2e,w2e=A5,_2e="__lodash_hash_undefined__";function S2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=w2e&&t===void 0?_2e:t,this}var A2e=S2e,T2e=o2e,E2e=c2e,N2e=m2e,k2e=b2e,C2e=A2e;function om(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}om.prototype.clear=T2e;om.prototype.delete=E2e;om.prototype.get=N2e;om.prototype.has=k2e;om.prototype.set=C2e;var P2e=om;function O2e(){this.__data__=[],this.size=0}var I2e=O2e;function j2e(e,t){return e===t||e!==e&&t!==t}var xC=j2e,D2e=xC;function L2e(e,t){for(var r=e.length;r--;)if(D2e(e[r][0],t))return r;return-1}var T5=L2e,M2e=T5,R2e=Array.prototype,F2e=R2e.splice;function $2e(e){var t=this.__data__,r=M2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():F2e.call(t,r,1),--this.size,!0}var B2e=$2e,U2e=T5;function V2e(e){var t=this.__data__,r=U2e(t,e);return r<0?void 0:t[r][1]}var z2e=V2e,q2e=T5;function W2e(e){return q2e(this.__data__,e)>-1}var H2e=W2e,G2e=T5;function K2e(e,t){var r=this.__data__,n=G2e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Y2e=K2e,X2e=I2e,Q2e=B2e,J2e=z2e,Z2e=H2e,ebe=Y2e;function lm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lm.prototype.clear=X2e;lm.prototype.delete=Q2e;lm.prototype.get=J2e;lm.prototype.has=Z2e;lm.prototype.set=ebe;var E5=lm,tbe=Ah,rbe=cc,nbe=tbe(rbe,"Map"),bC=nbe,b8=P2e,abe=E5,ibe=bC;function sbe(){this.size=0,this.__data__={hash:new b8,map:new(ibe||abe),string:new b8}}var obe=sbe;function lbe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var cbe=lbe,ube=cbe;function fbe(e,t){var r=e.__data__;return ube(t)?r[typeof t=="string"?"string":"hash"]:r.map}var N5=fbe,dbe=N5;function hbe(e){var t=dbe(this,e).delete(e);return this.size-=t?1:0,t}var pbe=hbe,mbe=N5;function gbe(e){return mbe(this,e).get(e)}var vbe=gbe,ybe=N5;function xbe(e){return ybe(this,e).has(e)}var bbe=xbe,wbe=N5;function _be(e,t){var r=wbe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Sbe=_be,Abe=obe,Tbe=pbe,Ebe=vbe,Nbe=bbe,kbe=Sbe;function cm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cm.prototype.clear=Abe;cm.prototype.delete=Tbe;cm.prototype.get=Ebe;cm.prototype.has=Nbe;cm.prototype.set=kbe;var wC=cm,Jq=wC,Cbe="Expected a function";function _C(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Cbe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(_C.Cache||Jq),r}_C.Cache=Jq;var Zq=_C;const Pbe=On(Zq);var Obe=Zq,Ibe=500;function jbe(e){var t=Obe(e,function(n){return r.size===Ibe&&r.clear(),n}),r=t.cache;return t}var Dbe=jbe,Lbe=Dbe,Mbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rbe=/\\(\\)?/g,Fbe=Lbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Mbe,function(r,n,a,i){t.push(a?i.replace(Rbe,"$1"):n||r)}),t}),$be=Fbe;function Bbe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var SC=Bbe,w8=sy,Ube=SC,Vbe=Rs,zbe=im,qbe=1/0,_8=w8?w8.prototype:void 0,S8=_8?_8.toString:void 0;function eW(e){if(typeof e=="string")return e;if(Vbe(e))return Ube(e,eW)+"";if(zbe(e))return S8?S8.call(e):"";var t=e+"";return t=="0"&&1/e==-qbe?"-0":t}var Wbe=eW,Hbe=Wbe;function Gbe(e){return e==null?"":Hbe(e)}var tW=Gbe,Kbe=Rs,Ybe=vC,Xbe=$be,Qbe=tW;function Jbe(e,t){return Kbe(e)?e:Ybe(e,t)?[e]:Xbe(Qbe(e))}var rW=Jbe,Zbe=im,ewe=1/0;function twe(e){if(typeof e=="string"||Zbe(e))return e;var t=e+"";return t=="0"&&1/e==-ewe?"-0":t}var k5=twe,rwe=rW,nwe=k5;function awe(e,t){t=rwe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[nwe(t[r++])];return r&&r==n?e:void 0}var AC=awe,iwe=AC;function swe(e,t,r){var n=e==null?void 0:iwe(e,t);return n===void 0?r:n}var nW=swe;const jo=On(nW);function owe(e){return e==null}var lwe=owe;const en=On(lwe);var cwe=lu,uwe=Rs,fwe=cu,dwe="[object String]";function hwe(e){return typeof e=="string"||!uwe(e)&&fwe(e)&&cwe(e)==dwe}var pwe=hwe;const oh=On(pwe);var aW={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC=Symbol.for("react.element"),EC=Symbol.for("react.portal"),C5=Symbol.for("react.fragment"),P5=Symbol.for("react.strict_mode"),O5=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),j5=Symbol.for("react.context"),mwe=Symbol.for("react.server_context"),D5=Symbol.for("react.forward_ref"),L5=Symbol.for("react.suspense"),M5=Symbol.for("react.suspense_list"),R5=Symbol.for("react.memo"),F5=Symbol.for("react.lazy"),gwe=Symbol.for("react.offscreen"),iW;iW=Symbol.for("react.module.reference");function Uo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case TC:switch(e=e.type,e){case C5:case O5:case P5:case L5:case M5:return e;default:switch(e=e&&e.$$typeof,e){case mwe:case j5:case D5:case F5:case R5:case I5:return e;default:return t}}case EC:return t}}}kn.ContextConsumer=j5;kn.ContextProvider=I5;kn.Element=TC;kn.ForwardRef=D5;kn.Fragment=C5;kn.Lazy=F5;kn.Memo=R5;kn.Portal=EC;kn.Profiler=O5;kn.StrictMode=P5;kn.Suspense=L5;kn.SuspenseList=M5;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return Uo(e)===j5};kn.isContextProvider=function(e){return Uo(e)===I5};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===TC};kn.isForwardRef=function(e){return Uo(e)===D5};kn.isFragment=function(e){return Uo(e)===C5};kn.isLazy=function(e){return Uo(e)===F5};kn.isMemo=function(e){return Uo(e)===R5};kn.isPortal=function(e){return Uo(e)===EC};kn.isProfiler=function(e){return Uo(e)===O5};kn.isStrictMode=function(e){return Uo(e)===P5};kn.isSuspense=function(e){return Uo(e)===L5};kn.isSuspenseList=function(e){return Uo(e)===M5};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===C5||e===O5||e===P5||e===L5||e===M5||e===gwe||typeof e=="object"&&e!==null&&(e.$$typeof===F5||e.$$typeof===R5||e.$$typeof===I5||e.$$typeof===j5||e.$$typeof===D5||e.$$typeof===iW||e.getModuleId!==void 0)};kn.typeOf=Uo;aW.exports=kn;var vwe=aW.exports,ywe=lu,xwe=cu,bwe="[object Number]";function wwe(e){return typeof e=="number"||xwe(e)&&ywe(e)==bwe}var sW=wwe;const _we=On(sW);var Swe=sW;function Awe(e){return Swe(e)&&e!=+e}var Twe=Awe;const oy=On(Twe);var gl=function(t){return t===0?0:t>0?1:-1},jd=function(t){return oh(t)&&t.indexOf("%")===t.length-1},Ft=function(t){return _we(t)&&!oy(t)},qa=function(t){return Ft(t)||oh(t)},Ewe=0,ly=function(t){var r=++Ewe;return"".concat(t||"").concat(r)},lh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft(t)&&!oh(t))return n;var i;if(jd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return oy(i)&&(i=n),a&&i>r&&(i=r),i},Qu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Nwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},fl=function(t,r){return Ft(t)&&Ft(r)?function(n){return t+n*(r-t)}:function(){return r}};function Eb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):jo(n,t))===r})}var kwe=function(t,r){return Ft(t)&&Ft(r)?t-r:oh(t)&&oh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function V0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function DT(e){"@babel/helpers - typeof";return DT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DT(e)}var Cwe=["viewBox","children"],Pwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],A8=["points","pathLength"],HS={svg:Cwe,polygon:A8,polyline:A8},NC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(B.isValidElement(t)&&(n=t.props),!sm(n))return null;var a={};return Object.keys(n).forEach(function(i){NC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Owe=function(t,r,n){return function(a){return t(r,n,a),null}},kb=function(t,r,n){if(!sm(t)||DT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];NC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Owe(s,r,n))}),a},Iwe=["children"],jwe=["children"];function T8(e,t){if(e==null)return{};var r=Dwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LT(e){"@babel/helpers - typeof";return LT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LT(e)}var E8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},N8=null,GS=null,kC=function e(t){if(t===N8&&Array.isArray(GS))return GS;var r=[];return B.Children.forEach(t,function(n){en(n)||(vwe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),GS=r,N8=t,r};function Do(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Mc(a)}):n=[Mc(t)],kC(e).forEach(function(a){var i=jo(a,"type.displayName")||jo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Xs(e,t){var r=Do(e,t);return r&&r[0]}var k8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ft(n)||n<=0||!Ft(a)||a<=0)},Lwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mwe=function(t){return t&&t.type&&oh(t.type)&&Lwe.indexOf(t.type)>=0},Rwe=function(t){return t&&LT(t)==="object"&&"clipDot"in t},Fwe=function(t,r,n,a){var i,s=(i=HS==null?void 0:HS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!zr(t)&&(a&&s.includes(r)||Pwe.includes(r))||n&&NC.includes(r)},rn=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(B.isValidElement(t)&&(a=t.props),!sm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Fwe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},MT=function e(t,r){if(t===r)return!0;var n=B.Children.count(t);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return C8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!C8(i,s))return!1}return!0},C8=function(t,r){if(en(t)&&en(r))return!0;if(!en(t)&&!en(r)){var n=t.props||{},a=n.children,i=T8(n,Iwe),s=r.props||{},o=s.children,l=T8(s,jwe);return a&&o?V0(i,l)&&MT(a,o):!a&&!o?V0(i,l):!1}return!1},P8=function(t,r){var n=[],a={};return kC(t).forEach(function(i,s){if(Mwe(i))n.push(i);else if(i){var o=Mc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},$we=function(t){var r=t&&t.type;return r&&E8[r]?E8[r]:null},Bwe=function(t,r){return kC(r).indexOf(t)},Uwe=["children","width","height","viewBox","className","style","title","desc"];function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RT.apply(this,arguments)}function Vwe(e,t){if(e==null)return{};var r=zwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Vwe(e,Uwe),u=a||{width:r,height:n,x:0,y:0},f=mn("recharts-surface",i);return Fe.createElement("svg",RT({},rn(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Fe.createElement("title",null,o),Fe.createElement("desc",null,l),t)}var qwe=["children","className"];function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}function Wwe(e,t){if(e==null)return{};var r=Hwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Aa=Fe.forwardRef(function(e,t){var r=e.children,n=e.className,a=Wwe(e,qwe),i=mn("recharts-layer",n);return Fe.createElement("g",$T({className:i},rn(a,!0),{ref:t}),r)}),Rc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Gwe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Kwe=Gwe,Ywe=Kwe;function Xwe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ywe(e,t,r)}var Qwe=Xwe,Jwe="\\ud800-\\udfff",Zwe="\\u0300-\\u036f",e5e="\\ufe20-\\ufe2f",t5e="\\u20d0-\\u20ff",r5e=Zwe+e5e+t5e,n5e="\\ufe0e\\ufe0f",a5e="\\u200d",i5e=RegExp("["+a5e+Jwe+r5e+n5e+"]");function s5e(e){return i5e.test(e)}var oW=s5e;function o5e(e){return e.split("")}var l5e=o5e,lW="\\ud800-\\udfff",c5e="\\u0300-\\u036f",u5e="\\ufe20-\\ufe2f",f5e="\\u20d0-\\u20ff",d5e=c5e+u5e+f5e,h5e="\\ufe0e\\ufe0f",p5e="["+lW+"]",BT="["+d5e+"]",UT="\\ud83c[\\udffb-\\udfff]",m5e="(?:"+BT+"|"+UT+")",cW="[^"+lW+"]",uW="(?:\\ud83c[\\udde6-\\uddff]){2}",fW="[\\ud800-\\udbff][\\udc00-\\udfff]",g5e="\\u200d",dW=m5e+"?",hW="["+h5e+"]?",v5e="(?:"+g5e+"(?:"+[cW,uW,fW].join("|")+")"+hW+dW+")*",y5e=hW+dW+v5e,x5e="(?:"+[cW+BT+"?",BT,uW,fW,p5e].join("|")+")",b5e=RegExp(UT+"(?="+UT+")|"+x5e+y5e,"g");function w5e(e){return e.match(b5e)||[]}var _5e=w5e,S5e=l5e,A5e=oW,T5e=_5e;function E5e(e){return A5e(e)?T5e(e):S5e(e)}var N5e=E5e,k5e=Qwe,C5e=oW,P5e=N5e,O5e=tW;function I5e(e){return function(t){t=O5e(t);var r=C5e(t)?P5e(t):void 0,n=r?r[0]:t.charAt(0),a=r?k5e(r,1).join(""):t.slice(1);return n[e]()+a}}var j5e=I5e,D5e=j5e,L5e=D5e("toUpperCase"),M5e=L5e;const $5=On(M5e);function Fn(e){return function(){return e}}const pW=Math.cos,Cb=Math.sin,El=Math.sqrt,Pb=Math.PI,B5=2*Pb,VT=Math.PI,zT=2*VT,bd=1e-6,R5e=zT-bd;function mW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function F5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mW:F5e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>bd)if(!(Math.abs(f*l-c*u)>bd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((VT-Math.acos((m+h-v)/(2*y*b)))/2),D=w/b,P=w/y;Math.abs(D-1)>bd&&this._append`L${t+D*u},${r+D*f}`,this._append`A${i},${i},0,0,${+(f*p>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>bd||Math.abs(this._y1-u)>bd)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%zT+zT),h>R5e?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>bd&&this._append`A${n},${n},0,${+(h>=VT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function CC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $5e(t)}function PC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gW(e){this._context=e}gW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function U5(e){return new gW(e)}function vW(e){return e[0]}function yW(e){return e[1]}function xW(e,t){var r=Fn(!0),n=null,a=U5,i=null,s=CC(o);e=typeof e=="function"?e:e===void 0?vW:Fn(e),t=typeof t=="function"?t:t===void 0?yW:Fn(t);function o(l){var c,u=(l=PC(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Fn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Fn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Fn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Sx(e,t,r){var n=null,a=Fn(!0),i=null,s=U5,o=null,l=CC(c);e=typeof e=="function"?e:e===void 0?vW:Fn(+e),t=typeof t=="function"?t:Fn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?yW:Fn(+r);function c(f){var h,p,g,m=(f=PC(f)).length,v,y=!1,b,w=new Array(m),D=new Array(m);for(i==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],D[g]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),D[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):D[h]))}if(b)return o=null,b+""||null}function u(){return xW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Fn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Fn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Fn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Fn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Fn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class bW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function B5e(e){return new bW(e,!0)}function U5e(e){return new bW(e,!1)}const OC={draw(e,t){const r=El(t/Pb);e.moveTo(r,0),e.arc(0,0,r,0,B5)}},V5e={draw(e,t){const r=El(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wW=El(1/3),z5e=wW*2,q5e={draw(e,t){const r=El(t/z5e),n=r*wW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},W5e={draw(e,t){const r=El(t),n=-r/2;e.rect(n,n,r,r)}},H5e=.8908130915292852,_W=Cb(Pb/10)/Cb(7*Pb/10),G5e=Cb(B5/10)*_W,K5e=-pW(B5/10)*_W,Y5e={draw(e,t){const r=El(t*H5e),n=G5e*r,a=K5e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=B5*i/5,o=pW(s),l=Cb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},KS=El(3),X5e={draw(e,t){const r=-El(t/(KS*3));e.moveTo(0,r*2),e.lineTo(-KS*r,-r),e.lineTo(KS*r,-r),e.closePath()}},bo=-.5,wo=El(3)/2,qT=1/El(12),Q5e=(qT/2+1)*3,J5e={draw(e,t){const r=El(t/Q5e),n=r/2,a=r*qT,i=n,s=r*qT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(bo*n-wo*a,wo*n+bo*a),e.lineTo(bo*i-wo*s,wo*i+bo*s),e.lineTo(bo*o-wo*l,wo*o+bo*l),e.lineTo(bo*n+wo*a,bo*a-wo*n),e.lineTo(bo*i+wo*s,bo*s-wo*i),e.lineTo(bo*o+wo*l,bo*l-wo*o),e.closePath()}};function Z5e(e,t){let r=null,n=CC(a);e=typeof e=="function"?e:Fn(e||OC),t=typeof t=="function"?t:Fn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Fn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Fn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ob(){}function Ib(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function SW(e){this._context=e}SW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ib(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e_e(e){return new SW(e)}function AW(e){this._context=e}AW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t_e(e){return new AW(e)}function TW(e){this._context=e}TW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r_e(e){return new TW(e)}function EW(e){this._context=e}EW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function n_e(e){return new EW(e)}function O8(e){return e<0?-1:1}function I8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(O8(i)+O8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function j8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function YS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function jb(e){this._context=e}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YS(this,this._t0,j8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,YS(this,j8(this,r=I8(this,e,t)),r);break;default:YS(this,this._t0,r=I8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NW(e){this._context=new kW(e)}(NW.prototype=Object.create(jb.prototype)).point=function(e,t){jb.prototype.point.call(this,t,e)};function kW(e){this._context=e}kW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function a_e(e){return new jb(e)}function i_e(e){return new NW(e)}function CW(e){this._context=e}CW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=D8(e),a=D8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function D8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function s_e(e){return new CW(e)}function V5(e,t){this._context=e,this._t=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function o_e(e){return new V5(e,.5)}function l_e(e){return new V5(e,0)}function c_e(e){return new V5(e,1)}function yp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function WT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function u_e(e,t){return e[t]}function f_e(e){const t=[];return t.key=e,t}function d_e(){var e=Fn([]),t=WT,r=yp,n=u_e;function a(i){var s=Array.from(e.apply(this,arguments),f_e),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=PC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Fn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Fn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?WT:typeof i=="function"?i:Fn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??yp,a):r},a}function h_e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}yp(e,t)}}function p_e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}yp(e,t)}}function m_e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,yp(e,t)}}function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}var g_e=["type","size","sizeType"];function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HT.apply(this,arguments)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){v_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v_e(e,t,r){return t=y_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_e(e){var t=x_e(e,"string");return Qv(t)=="symbol"?t:t+""}function x_e(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b_e(e,t){if(e==null)return{};var r=w_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PW={symbolCircle:OC,symbolCross:V5e,symbolDiamond:q5e,symbolSquare:W5e,symbolStar:Y5e,symbolTriangle:X5e,symbolWye:J5e},__e=Math.PI/180,S_e=function(t){var r="symbol".concat($5(t));return PW[r]||OC},A_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*__e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},T_e=function(t,r){PW["symbol".concat($5(t))]=r},IC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=b_e(t,g_e),c=M8(M8({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=S_e(n),y=Z5e().type(v).size(A_e(i,o,n));return y()},f=c.className,h=c.cx,p=c.cy,g=rn(c,!0);return h===+h&&p===+p&&i===+i?Fe.createElement("path",HT({},g,{className:mn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};IC.registerSymbol=T_e;function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){Jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IW(n.key),n)}}function C_e(e,t,r){return t&&k_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P_e(e,t,r){return t=Db(t),O_e(e,OW()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function O_e(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I_e(e)}function I_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function j_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KT(e,t)}function KT(e,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KT(e,t)}function Jv(e,t,r){return t=IW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=D_e(e,"string");return xp(t)=="symbol"?t:t+""}function D_e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _o=32,jC=function(e){function t(){return N_e(this,t),P_e(this,t,arguments)}return j_e(t,e),C_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=_o/2,s=_o/6,o=_o/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Fe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:_o,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Fe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(_o,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Fe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(_o/8,"h").concat(_o,"v").concat(_o*3/4,"h").concat(-_o,"z"),className:"recharts-legend-icon"});if(Fe.isValidElement(n.legendIcon)){var c=E_e({},n);return delete c.legendIcon,Fe.cloneElement(n.legendIcon,c)}return Fe.createElement(IC,{fill:l,cx:i,cy:i,size:_o,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:_o,height:_o},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=mn(Jv(Jv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=zr(p.value)?null:p.value;Rc(!zr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return Fe.createElement("li",GT({className:v,style:f,key:"legend-item-".concat(g)},kb(n.props,p,g)),Fe.createElement(FT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),Fe.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Fe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(B.PureComponent);Jv(jC,"displayName","Legend");Jv(jC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var L_e=E5;function M_e(){this.__data__=new L_e,this.size=0}var R_e=M_e;function F_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var $_e=F_e;function B_e(e){return this.__data__.get(e)}var U_e=B_e;function V_e(e){return this.__data__.has(e)}var z_e=V_e,q_e=E5,W_e=bC,H_e=wC,G_e=200;function K_e(e,t){var r=this.__data__;if(r instanceof q_e){var n=r.__data__;if(!W_e||n.length<G_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new H_e(n)}return r.set(e,t),this.size=r.size,this}var Y_e=K_e,X_e=E5,Q_e=R_e,J_e=$_e,Z_e=U_e,eSe=z_e,tSe=Y_e;function um(e){var t=this.__data__=new X_e(e);this.size=t.size}um.prototype.clear=Q_e;um.prototype.delete=J_e;um.prototype.get=Z_e;um.prototype.has=eSe;um.prototype.set=tSe;var jW=um,rSe="__lodash_hash_undefined__";function nSe(e){return this.__data__.set(e,rSe),this}var aSe=nSe;function iSe(e){return this.__data__.has(e)}var sSe=iSe,oSe=wC,lSe=aSe,cSe=sSe;function Lb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new oSe;++t<r;)this.add(e[t])}Lb.prototype.add=Lb.prototype.push=lSe;Lb.prototype.has=cSe;var DW=Lb;function uSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var LW=uSe;function fSe(e,t){return e.has(t)}var MW=fSe,dSe=DW,hSe=LW,pSe=MW,mSe=1,gSe=2;function vSe(e,t,r,n,a,i){var s=r&mSe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&gSe?new dSe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!hSe(t,function(y,b){if(!pSe(p,b)&&(g===y||a(g,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var RW=vSe,ySe=cc,xSe=ySe.Uint8Array,bSe=xSe;function wSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var _Se=wSe;function SSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var DC=SSe,F8=sy,$8=bSe,ASe=xC,TSe=RW,ESe=_Se,NSe=DC,kSe=1,CSe=2,PSe="[object Boolean]",OSe="[object Date]",ISe="[object Error]",jSe="[object Map]",DSe="[object Number]",LSe="[object RegExp]",MSe="[object Set]",RSe="[object String]",FSe="[object Symbol]",$Se="[object ArrayBuffer]",BSe="[object DataView]",B8=F8?F8.prototype:void 0,XS=B8?B8.valueOf:void 0;function USe(e,t,r,n,a,i,s){switch(r){case BSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $Se:return!(e.byteLength!=t.byteLength||!i(new $8(e),new $8(t)));case PSe:case OSe:case DSe:return ASe(+e,+t);case ISe:return e.name==t.name&&e.message==t.message;case LSe:case RSe:return e==t+"";case jSe:var o=ESe;case MSe:var l=n&kSe;if(o||(o=NSe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=CSe,s.set(e,t);var u=TSe(o(e),o(t),n,a,i,s);return s.delete(e),u;case FSe:if(XS)return XS.call(e)==XS.call(t)}return!1}var VSe=USe;function zSe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var FW=zSe,qSe=FW,WSe=Rs;function HSe(e,t,r){var n=t(e);return WSe(e)?n:qSe(n,r(e))}var GSe=HSe;function KSe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var YSe=KSe;function XSe(){return[]}var QSe=XSe,JSe=YSe,ZSe=QSe,eAe=Object.prototype,tAe=eAe.propertyIsEnumerable,U8=Object.getOwnPropertySymbols,rAe=U8?function(e){return e==null?[]:(e=Object(e),JSe(U8(e),function(t){return tAe.call(e,t)}))}:ZSe,nAe=rAe;function aAe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var iAe=aAe,sAe=lu,oAe=cu,lAe="[object Arguments]";function cAe(e){return oAe(e)&&sAe(e)==lAe}var uAe=cAe,V8=uAe,fAe=cu,$W=Object.prototype,dAe=$W.hasOwnProperty,hAe=$W.propertyIsEnumerable,pAe=V8(function(){return arguments}())?V8:function(e){return fAe(e)&&dAe.call(e,"callee")&&!hAe.call(e,"callee")},LC=pAe,Mb={exports:{}};function mAe(){return!1}var gAe=mAe;Mb.exports;(function(e,t){var r=cc,n=gAe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Mb,Mb.exports);var BW=Mb.exports,vAe=9007199254740991,yAe=/^(?:0|[1-9]\d*)$/;function xAe(e,t){var r=typeof e;return t=t??vAe,!!t&&(r=="number"||r!="symbol"&&yAe.test(e))&&e>-1&&e%1==0&&e<t}var MC=xAe,bAe=9007199254740991;function wAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bAe}var RC=wAe,_Ae=lu,SAe=RC,AAe=cu,TAe="[object Arguments]",EAe="[object Array]",NAe="[object Boolean]",kAe="[object Date]",CAe="[object Error]",PAe="[object Function]",OAe="[object Map]",IAe="[object Number]",jAe="[object Object]",DAe="[object RegExp]",LAe="[object Set]",MAe="[object String]",RAe="[object WeakMap]",FAe="[object ArrayBuffer]",$Ae="[object DataView]",BAe="[object Float32Array]",UAe="[object Float64Array]",VAe="[object Int8Array]",zAe="[object Int16Array]",qAe="[object Int32Array]",WAe="[object Uint8Array]",HAe="[object Uint8ClampedArray]",GAe="[object Uint16Array]",KAe="[object Uint32Array]",qn={};qn[BAe]=qn[UAe]=qn[VAe]=qn[zAe]=qn[qAe]=qn[WAe]=qn[HAe]=qn[GAe]=qn[KAe]=!0;qn[TAe]=qn[EAe]=qn[FAe]=qn[NAe]=qn[$Ae]=qn[kAe]=qn[CAe]=qn[PAe]=qn[OAe]=qn[IAe]=qn[jAe]=qn[DAe]=qn[LAe]=qn[MAe]=qn[RAe]=!1;function YAe(e){return AAe(e)&&SAe(e.length)&&!!qn[_Ae(e)]}var XAe=YAe;function QAe(e){return function(t){return e(t)}}var UW=QAe,Rb={exports:{}};Rb.exports;(function(e,t){var r=Yq,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Rb,Rb.exports);var JAe=Rb.exports,ZAe=XAe,e4e=UW,z8=JAe,q8=z8&&z8.isTypedArray,t4e=q8?e4e(q8):ZAe,VW=t4e,r4e=iAe,n4e=LC,a4e=Rs,i4e=BW,s4e=MC,o4e=VW,l4e=Object.prototype,c4e=l4e.hasOwnProperty;function u4e(e,t){var r=a4e(e),n=!r&&n4e(e),a=!r&&!n&&i4e(e),i=!r&&!n&&!a&&o4e(e),s=r||n||a||i,o=s?r4e(e.length,String):[],l=o.length;for(var c in e)(t||c4e.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||s4e(c,l)))&&o.push(c);return o}var f4e=u4e,d4e=Object.prototype;function h4e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||d4e;return e===r}var p4e=h4e;function m4e(e,t){return function(r){return e(t(r))}}var zW=m4e,g4e=zW,v4e=g4e(Object.keys,Object),y4e=v4e,x4e=p4e,b4e=y4e,w4e=Object.prototype,_4e=w4e.hasOwnProperty;function S4e(e){if(!x4e(e))return b4e(e);var t=[];for(var r in Object(e))_4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var A4e=S4e,T4e=yC,E4e=RC;function N4e(e){return e!=null&&E4e(e.length)&&!T4e(e)}var cy=N4e,k4e=f4e,C4e=A4e,P4e=cy;function O4e(e){return P4e(e)?k4e(e):C4e(e)}var z5=O4e,I4e=GSe,j4e=nAe,D4e=z5;function L4e(e){return I4e(e,D4e,j4e)}var M4e=L4e,W8=M4e,R4e=1,F4e=Object.prototype,$4e=F4e.hasOwnProperty;function B4e(e,t,r,n,a,i){var s=r&R4e,o=W8(e),l=o.length,c=W8(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:$4e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],b=t[h];if(n)var w=s?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(w===void 0?y===b||a(y,b,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var D=e.constructor,P=t.constructor;D!=P&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var U4e=B4e,V4e=Ah,z4e=cc,q4e=V4e(z4e,"DataView"),W4e=q4e,H4e=Ah,G4e=cc,K4e=H4e(G4e,"Promise"),Y4e=K4e,X4e=Ah,Q4e=cc,J4e=X4e(Q4e,"Set"),qW=J4e,Z4e=Ah,eTe=cc,tTe=Z4e(eTe,"WeakMap"),rTe=tTe,YT=W4e,XT=bC,QT=Y4e,JT=qW,ZT=rTe,WW=lu,fm=Qq,H8="[object Map]",nTe="[object Object]",G8="[object Promise]",K8="[object Set]",Y8="[object WeakMap]",X8="[object DataView]",aTe=fm(YT),iTe=fm(XT),sTe=fm(QT),oTe=fm(JT),lTe=fm(ZT),wd=WW;(YT&&wd(new YT(new ArrayBuffer(1)))!=X8||XT&&wd(new XT)!=H8||QT&&wd(QT.resolve())!=G8||JT&&wd(new JT)!=K8||ZT&&wd(new ZT)!=Y8)&&(wd=function(e){var t=WW(e),r=t==nTe?e.constructor:void 0,n=r?fm(r):"";if(n)switch(n){case aTe:return X8;case iTe:return H8;case sTe:return G8;case oTe:return K8;case lTe:return Y8}return t});var cTe=wd,QS=jW,uTe=RW,fTe=VSe,dTe=U4e,Q8=cTe,J8=Rs,Z8=BW,hTe=VW,pTe=1,eL="[object Arguments]",tL="[object Array]",Ax="[object Object]",mTe=Object.prototype,rL=mTe.hasOwnProperty;function gTe(e,t,r,n,a,i){var s=J8(e),o=J8(t),l=s?tL:Q8(e),c=o?tL:Q8(t);l=l==eL?Ax:l,c=c==eL?Ax:c;var u=l==Ax,f=c==Ax,h=l==c;if(h&&Z8(e)){if(!Z8(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new QS),s||hTe(e)?uTe(e,t,r,n,a,i):fTe(e,t,l,r,n,a,i);if(!(r&pTe)){var p=u&&rL.call(e,"__wrapped__"),g=f&&rL.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new QS),a(m,v,r,n,i)}}return h?(i||(i=new QS),dTe(e,t,r,n,a,i)):!1}var vTe=gTe,yTe=vTe,nL=cu;function HW(e,t,r,n,a){return e===t?!0:e==null||t==null||!nL(e)&&!nL(t)?e!==e&&t!==t:yTe(e,t,r,n,HW,a)}var FC=HW,xTe=jW,bTe=FC,wTe=1,_Te=2;function STe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new xTe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?bTe(u,c,wTe|_Te,n,f):h))return!1}}return!0}var ATe=STe,TTe=Kf;function ETe(e){return e===e&&!TTe(e)}var GW=ETe,NTe=GW,kTe=z5;function CTe(e){for(var t=kTe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,NTe(a)]}return t}var PTe=CTe;function OTe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var KW=OTe,ITe=ATe,jTe=PTe,DTe=KW;function LTe(e){var t=jTe(e);return t.length==1&&t[0][2]?DTe(t[0][0],t[0][1]):function(r){return r===e||ITe(r,e,t)}}var MTe=LTe;function RTe(e,t){return e!=null&&t in Object(e)}var FTe=RTe,$Te=rW,BTe=LC,UTe=Rs,VTe=MC,zTe=RC,qTe=k5;function WTe(e,t,r){t=$Te(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=qTe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&zTe(a)&&VTe(s,a)&&(UTe(e)||BTe(e)))}var HTe=WTe,GTe=FTe,KTe=HTe;function YTe(e,t){return e!=null&&KTe(e,t,GTe)}var XTe=YTe,QTe=FC,JTe=nW,ZTe=XTe,e3e=vC,t3e=GW,r3e=KW,n3e=k5,a3e=1,i3e=2;function s3e(e,t){return e3e(e)&&t3e(t)?r3e(n3e(e),t):function(r){var n=JTe(r,e);return n===void 0&&n===t?ZTe(r,e):QTe(t,n,a3e|i3e)}}var o3e=s3e;function l3e(e){return e}var dm=l3e;function c3e(e){return function(t){return t==null?void 0:t[e]}}var u3e=c3e,f3e=AC;function d3e(e){return function(t){return f3e(t,e)}}var h3e=d3e,p3e=u3e,m3e=h3e,g3e=vC,v3e=k5;function y3e(e){return g3e(e)?p3e(v3e(e)):m3e(e)}var x3e=y3e,b3e=MTe,w3e=o3e,_3e=dm,S3e=Rs,A3e=x3e;function T3e(e){return typeof e=="function"?e:e==null?_3e:typeof e=="object"?S3e(e)?w3e(e[0],e[1]):b3e(e):A3e(e)}var Yf=T3e;function E3e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var YW=E3e;function N3e(e){return e!==e}var k3e=N3e;function C3e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var P3e=C3e,O3e=YW,I3e=k3e,j3e=P3e;function D3e(e,t,r){return t===t?j3e(e,t,r):O3e(e,I3e,r)}var L3e=D3e,M3e=L3e;function R3e(e,t){var r=e==null?0:e.length;return!!r&&M3e(e,t,0)>-1}var F3e=R3e;function $3e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var B3e=$3e;function U3e(){}var V3e=U3e,JS=qW,z3e=V3e,q3e=DC,W3e=1/0,H3e=JS&&1/q3e(new JS([,-0]))[1]==W3e?function(e){return new JS(e)}:z3e,G3e=H3e,K3e=DW,Y3e=F3e,X3e=B3e,Q3e=MW,J3e=G3e,Z3e=DC,eEe=200;function tEe(e,t,r){var n=-1,a=Y3e,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=X3e;else if(i>=eEe){var c=t?null:J3e(e);if(c)return Z3e(c);s=!1,a=Q3e,l=new K3e}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var rEe=tEe,nEe=Yf,aEe=rEe;function iEe(e,t){return e&&e.length?aEe(e,nEe(t)):[]}var sEe=iEe;const aL=On(sEe);function XW(e,t,r){return t===!0?aL(e,r):zr(t)?aL(e,t):e}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}var oEe=["ref"];function iL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(r),!0).forEach(function(n){q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JW(n.key),n)}}function cEe(e,t,r){return t&&sL(e.prototype,t),r&&sL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uEe(e,t,r){return t=Fb(t),fEe(e,QW()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function fEe(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dEe(e)}function dEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function hEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(e,t)}function q5(e,t,r){return t=JW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=pEe(e,"string");return bp(t)=="symbol"?t:t+""}function pEe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mEe(e,t){if(e==null)return{};var r=gEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vEe(e){return e.value}function yEe(e,t){if(Fe.isValidElement(e))return Fe.cloneElement(e,t);if(typeof e=="function")return Fe.createElement(e,t);t.ref;var r=mEe(t,oEe);return Fe.createElement(jC,r)}var oL=1,wl=function(e){function t(){var r;lEe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uEe(this,t,[].concat(a)),q5(r,"lastBoundingBox",{width:-1,height:-1}),r}return hEe(t,e),cEe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>oL||Math.abs(a.height-this.lastBoundingBox.height)>oL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_c({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _c(_c({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=_c(_c({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Fe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},yEe(i,_c(_c({},this.props),{},{payload:XW(u,c,vEe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=_c(_c({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Ft(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(B.PureComponent);q5(wl,"displayName","Legend");q5(wl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lL=sy,xEe=LC,bEe=Rs,cL=lL?lL.isConcatSpreadable:void 0;function wEe(e){return bEe(e)||xEe(e)||!!(cL&&e&&e[cL])}var _Ee=wEe,SEe=FW,AEe=_Ee;function ZW(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=AEe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?ZW(o,t-1,r,n,a):SEe(a,o):n||(a[a.length]=o)}return a}var eH=ZW;function TEe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var EEe=TEe,NEe=EEe,kEe=NEe(),CEe=kEe,PEe=CEe,OEe=z5;function IEe(e,t){return e&&PEe(e,t,OEe)}var tH=IEe,jEe=cy;function DEe(e,t){return function(r,n){if(r==null)return r;if(!jEe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var LEe=DEe,MEe=tH,REe=LEe,FEe=REe(MEe),$C=FEe,$Ee=$C,BEe=cy;function UEe(e,t){var r=-1,n=BEe(e)?Array(e.length):[];return $Ee(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var rH=UEe;function VEe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var zEe=VEe,uL=im;function qEe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=uL(e),s=t!==void 0,o=t===null,l=t===t,c=uL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var WEe=qEe,HEe=WEe;function GEe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=HEe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var KEe=GEe,ZS=SC,YEe=AC,XEe=Yf,QEe=rH,JEe=zEe,ZEe=UW,eNe=KEe,tNe=dm,rNe=Rs;function nNe(e,t,r){t.length?t=ZS(t,function(i){return rNe(i)?function(s){return YEe(s,i.length===1?i[0]:i)}:i}):t=[tNe];var n=-1;t=ZS(t,ZEe(XEe));var a=QEe(e,function(i,s,o){var l=ZS(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return JEe(a,function(i,s){return eNe(i,s,r)})}var aNe=nNe;function iNe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var sNe=iNe,oNe=sNe,fL=Math.max;function lNe(e,t,r){return t=fL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=fL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),oNe(e,this,o)}}var cNe=lNe;function uNe(e){return function(){return e}}var fNe=uNe,dNe=Ah,hNe=function(){try{var e=dNe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nH=hNe,pNe=fNe,dL=nH,mNe=dm,gNe=dL?function(e,t){return dL(e,"toString",{configurable:!0,enumerable:!1,value:pNe(t),writable:!0})}:mNe,vNe=gNe,yNe=800,xNe=16,bNe=Date.now;function wNe(e){var t=0,r=0;return function(){var n=bNe(),a=xNe-(n-r);if(r=n,a>0){if(++t>=yNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _Ne=wNe,SNe=vNe,ANe=_Ne,TNe=ANe(SNe),ENe=TNe,NNe=dm,kNe=cNe,CNe=ENe;function PNe(e,t){return CNe(kNe(e,t,NNe),e+"")}var ONe=PNe,INe=xC,jNe=cy,DNe=MC,LNe=Kf;function MNe(e,t,r){if(!LNe(r))return!1;var n=typeof t;return(n=="number"?jNe(r)&&DNe(t,r.length):n=="string"&&t in r)?INe(r[t],e):!1}var W5=MNe,RNe=eH,FNe=aNe,$Ne=ONe,hL=W5,BNe=$Ne(function(e,t){if(e==null)return[];var r=t.length;return r>1&&hL(e,t[0],t[1])?t=[]:r>2&&hL(t[0],t[1],t[2])&&(t=[t[0]]),FNe(e,RNe(t,1),[])}),UNe=BNe;const BC=On(UNe);function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t3.apply(this,arguments)}function VNe(e,t){return HNe(e)||WNe(e,t)||qNe(e,t)||zNe()}function zNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qNe(e,t){if(e){if(typeof e=="string")return pL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pL(e,t)}}function pL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function HNe(e){if(Array.isArray(e))return e}function mL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(r),!0).forEach(function(n){GNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GNe(e,t,r){return t=KNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KNe(e){var t=YNe(e,"string");return Zv(t)=="symbol"?t:t+""}function YNe(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XNe(e){return Array.isArray(e)&&qa(e[0])&&qa(e[1])?e.join(" ~ "):e}var QNe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var N={padding:0,margin:0},O=(h?BC(u,h):u).map(function(U,Y){if(U.type==="none")return null;var K=eA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),J=U.formatter||f||XNe,q=U.value,V=U.name,ee=q,Z=V;if(J&&ee!=null&&Z!=null){var k=J(q,V,U,Y,u);if(Array.isArray(k)){var R=VNe(k,2);ee=R[0],Z=R[1]}else ee=k}return Fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:K},qa(Z)?Fe.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,qa(Z)?Fe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Fe.createElement("span",{className:"recharts-tooltip-item-value"},ee),Fe.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Fe.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},D=eA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=eA({margin:0},c),j=!en(m),T=j?m:"",_=mn("recharts-default-tooltip",p),S=mn("recharts-tooltip-label",g);j&&v&&u!==void 0&&u!==null&&(T=v(m,u));var I=b?{role:"status","aria-live":"assertive"}:{};return Fe.createElement("div",t3({className:_,style:D},I),Fe.createElement("p",{className:S,style:P},Fe.isValidElement(T)?T:"".concat(T)),w())};function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}function Tx(e,t,r){return t=JNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JNe(e){var t=ZNe(e,"string");return e1(t)=="symbol"?t:t+""}function ZNe(e,t){if(e1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gm="recharts-tooltip-wrapper",eke={visibility:"hidden"};function tke(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return mn(Gm,Tx(Tx(Tx(Tx({},"".concat(Gm,"-right"),Ft(r)&&t&&Ft(t.x)&&r>=t.x),"".concat(Gm,"-left"),Ft(r)&&t&&Ft(t.x)&&r<t.x),"".concat(Gm,"-bottom"),Ft(n)&&t&&Ft(t.y)&&n>=t.y),"".concat(Gm,"-top"),Ft(n)&&t&&Ft(t.y)&&n<t.y))}function gL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Ft(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function rke(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function nke(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=gL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=gL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=rke({translateX:u,translateY:f,useTranslate3d:o})):c=eke,{cssProperties:c,cssClasses:tke({translateX:u,translateY:f,coordinate:r})}}function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(n){n3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ake(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ike(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iH(n.key),n)}}function ske(e,t,r){return t&&ike(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oke(e,t,r){return t=$b(t),lke(e,aH()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function lke(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cke(e)}function cke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function uke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(e,t)}function n3(e,t,r){return t=iH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=fke(e,"string");return wp(t)=="symbol"?t:t+""}function fke(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xL=1,dke=function(e){function t(){var r;ake(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oke(this,t,[].concat(a)),n3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),n3(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return uke(t,e),ske(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xL||Math.abs(n.height-this.state.lastBoundingBox.height)>xL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=nke({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),D=w.cssClasses,P=w.cssProperties,j=yL(yL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Fe.createElement("div",{tabIndex:-1,className:D,style:j,ref:function(_){n.wrapperNode=_}},c)}}])}(B.PureComponent),hke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fc={isSsr:hke(),get:function(t){return Fc[t]},set:function(t,r){if(typeof t=="string")Fc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Fc[a]=t[a]})}}};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){UC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oH(n.key),n)}}function gke(e,t,r){return t&&mke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vke(e,t,r){return t=Bb(t),yke(e,sH()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function yke(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xke(e)}function xke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function bke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function UC(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=wke(e,"string");return _p(t)=="symbol"?t:t+""}function wke(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ke(e){return e.dataKey}function Ske(e,t){return Fe.isValidElement(e)?Fe.cloneElement(e,t):typeof e=="function"?Fe.createElement(e,t):Fe.createElement(QNe,t)}var Ns=function(e){function t(){return pke(this,t),vke(this,t,arguments)}return bke(t,e),gke(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,D=a.wrapperStyle,P=g??[];f&&P.length&&(P=XW(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,_ke));var j=P.length>0;return Fe.createElement(dke,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:j,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:D},Ske(c,wL(wL({},this.props),{},{payload:P})))}}])}(B.PureComponent);UC(Ns,"displayName","Tooltip");UC(Ns,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ake=cc,Tke=function(){return Ake.Date.now()},Eke=Tke,Nke=/\s/;function kke(e){for(var t=e.length;t--&&Nke.test(e.charAt(t)););return t}var Cke=kke,Pke=Cke,Oke=/^\s+/;function Ike(e){return e&&e.slice(0,Pke(e)+1).replace(Oke,"")}var jke=Ike,Dke=jke,_L=Kf,Lke=im,SL=NaN,Mke=/^[-+]0x[0-9a-f]+$/i,Rke=/^0b[01]+$/i,Fke=/^0o[0-7]+$/i,$ke=parseInt;function Bke(e){if(typeof e=="number")return e;if(Lke(e))return SL;if(_L(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_L(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Dke(e);var r=Rke.test(e);return r||Fke.test(e)?$ke(e.slice(2),r?2:8):Mke.test(e)?SL:+e}var lH=Bke,Uke=Kf,tA=Eke,AL=lH,Vke="Expected a function",zke=Math.max,qke=Math.min;function Wke(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Vke);t=AL(t)||0,Uke(r)&&(u=!!r.leading,f="maxWait"in r,i=f?zke(AL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var T=n,_=a;return n=a=void 0,c=j,s=e.apply(_,T),s}function g(j){return c=j,o=setTimeout(y,t),u?p(j):s}function m(j){var T=j-l,_=j-c,S=t-T;return f?qke(S,i-_):S}function v(j){var T=j-l,_=j-c;return l===void 0||T>=t||T<0||f&&_>=i}function y(){var j=tA();if(v(j))return b(j);o=setTimeout(y,m(j))}function b(j){return o=void 0,h&&n?p(j):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function D(){return o===void 0?s:b(tA())}function P(){var j=tA(),T=v(j);if(n=arguments,a=this,l=j,T){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=w,P.flush=D,P}var Hke=Wke,Gke=Hke,Kke=Kf,Yke="Expected a function";function Xke(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Yke);return Kke(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Gke(e,t,{leading:n,maxWait:t,trailing:a})}var Qke=Xke;const cH=On(Qke);function t1(e){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t1(e)}function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){Jke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jke(e,t,r){return t=Zke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zke(e){var t=eCe(e,"string");return t1(t)=="symbol"?t:t+""}function eCe(e,t){if(t1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(t1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tCe(e,t){return iCe(e)||aCe(e,t)||nCe(e,t)||rCe()}function rCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(e,t){if(e){if(typeof e=="string")return EL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EL(e,t)}}function EL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function iCe(e){if(Array.isArray(e))return e}var Yg=B.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,D=w===void 0?{}:w,P=B.useRef(null),j=B.useRef();j.current=b,B.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var T=B.useState({containerWidth:a.width,containerHeight:a.height}),_=tCe(T,2),S=_[0],I=_[1],E=B.useCallback(function(O,U){I(function(Y){var K=Math.round(O),J=Math.round(U);return Y.containerWidth===K&&Y.containerHeight===J?Y:{containerWidth:K,containerHeight:J}})},[]);B.useEffect(function(){var O=function(V){var ee,Z=V[0].contentRect,k=Z.width,R=Z.height;E(k,R),(ee=j.current)===null||ee===void 0||ee.call(j,k,R)};m>0&&(O=cH(O,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(O),Y=P.current.getBoundingClientRect(),K=Y.width,J=Y.height;return E(K,J),U.observe(P.current),function(){U.disconnect()}},[E,m]);var N=B.useMemo(function(){var O=S.containerWidth,U=S.containerHeight;if(O<0||U<0)return null;Rc(jd(s)||jd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Rc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=jd(s)?O:s,K=jd(l)?U:l;r&&r>0&&(Y?K=Y/r:K&&(Y=K*r),h&&K>h&&(K=h)),Rc(Y>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,K,s,l,u,f,r);var J=!Array.isArray(p)&&Mc(p.type).endsWith("Chart");return Fe.Children.map(p,function(q){return Fe.isValidElement(q)?B.cloneElement(q,Ex({width:Y,height:K},J?{style:Ex({height:"100%",width:"100%",maxHeight:K,maxWidth:Y},q.props.style)}:{})):q})},[r,p,l,h,f,u,S,s]);return Fe.createElement("div",{id:v?"".concat(v):void 0,className:mn("recharts-responsive-container",y),style:Ex(Ex({},D),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},N)}),uH=function(t){return null};uH.displayName="Cell";function r1(e){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(e)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){sCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sCe(e,t,r){return t=oCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oCe(e){var t=lCe(e,"string");return r1(t)=="symbol"?t:t+""}function lCe(e,t){if(r1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(r1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qh={widthCache:{},cacheCount:0},cCe=2e3,uCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kL="recharts_measurement_span";function fCe(e){var t=i3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Xg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fc.isSsr)return{width:0,height:0};var n=fCe(r),a=JSON.stringify({text:t,copyStyle:n});if(Qh.widthCache[a])return Qh.widthCache[a];try{var i=document.getElementById(kL);i||(i=document.createElement("span"),i.setAttribute("id",kL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=i3(i3({},uCe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Qh.widthCache[a]=l,++Qh.cacheCount>cCe&&(Qh.cacheCount=0,Qh.widthCache={}),l}catch{return{width:0,height:0}}},dCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function n1(e){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(e)}function Ub(e,t){return gCe(e)||mCe(e,t)||pCe(e,t)||hCe()}function hCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pCe(e,t){if(e){if(typeof e=="string")return CL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CL(e,t)}}function CL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function gCe(e){if(Array.isArray(e))return e}function vCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xCe(n.key),n)}}function yCe(e,t,r){return t&&PL(e.prototype,t),r&&PL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xCe(e){var t=bCe(e,"string");return n1(t)=="symbol"?t:t+""}function bCe(e,t){if(n1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Ce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SCe=Object.keys(fH),N0="NaN";function ACe(e,t){return e*fH[t]}var Nx=function(){function e(t,r){vCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!wCe.test(r)&&(this.num=NaN,this.unit=""),SCe.includes(r)&&(this.num=ACe(t,r),this.unit="px")}return yCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=_Ce.exec(r))!==null&&n!==void 0?n:[],i=Ub(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function dH(e){if(e.includes(N0))return N0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=OL.exec(t))!==null&&r!==void 0?r:[],a=Ub(n,4),i=a[1],s=a[2],o=a[3],l=Nx.parse(i??""),c=Nx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return N0;t=t.replace(OL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=IL.exec(t))!==null&&f!==void 0?f:[],p=Ub(h,4),g=p[1],m=p[2],v=p[3],y=Nx.parse(g??""),b=Nx.parse(v??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return N0;t=t.replace(IL,w.toString())}return t}var jL=/\(([^()]*)\)/;function TCe(e){for(var t=e;t.includes("(");){var r=jL.exec(t),n=Ub(r,2),a=n[1];t=t.replace(jL,dH(a))}return t}function ECe(e){var t=e.replace(/\s+/g,"");return t=TCe(t),t=dH(t),t}function NCe(e){try{return ECe(e)}catch{return N0}}function rA(e){var t=NCe(e.slice(5,-1));return t===N0?"":t}var kCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CCe=["dx","dy","angle","className","breakAll"];function s3(){return s3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s3.apply(this,arguments)}function DL(e,t){if(e==null)return{};var r=PCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LL(e,t){return DCe(e)||jCe(e,t)||ICe(e,t)||OCe()}function OCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(e,t){if(e){if(typeof e=="string")return ML(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ML(e,t)}}function ML(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function DCe(e){if(Array.isArray(e))return e}var hH=/[ \f\n\r\t\v\u2028\u2029]+/,pH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];en(r)||(n?i=r.toString().split(""):i=r.toString().split(hH));var s=i.map(function(l){return{word:l,width:Xg(l,a).width}}),o=n?0:Xg("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},LCe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Ft(s),f=o,h=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(K,J){var q=J.word,V=J.width,ee=K[K.length-1];if(ee&&(a==null||i||ee.width+V+n<Number(a)))ee.words.push(q),ee.width+=V+n;else{var Z={words:[q],width:V};K.push(Z)}return K},[])},p=h(r),g=function(Y){return Y.reduce(function(K,J){return K.width>J.width?K:J})};if(!u)return p;for(var m="",v=function(Y){var K=f.slice(0,Y),J=pH({breakAll:c,style:l,children:K+m}).wordsWithComputedWidth,q=h(J),V=q.length>s||g(q).width>Number(a);return[V,q]},y=0,b=f.length-1,w=0,D;y<=b&&w<=f.length-1;){var P=Math.floor((y+b)/2),j=P-1,T=v(j),_=LL(T,2),S=_[0],I=_[1],E=v(P),N=LL(E,1),O=N[0];if(!S&&!O&&(y=P+1),S&&O&&(b=P-1),!S&&O){D=I;break}w++}return D||p},RL=function(t){var r=en(t)?[]:t.toString().split(hH);return[{words:r}]},MCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Fc.isSsr){var l,c,u=pH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return RL(a);return LCe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return RL(a)},FL="#808080",Vb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?FL:v,b=DL(t,kCe),w=B.useMemo(function(){return MCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),D=b.dx,P=b.dy,j=b.angle,T=b.className,_=b.breakAll,S=DL(b,CCe);if(!qa(n)||!qa(i))return null;var I=n+(Ft(D)?D:0),E=i+(Ft(P)?P:0),N;switch(m){case"start":N=rA("calc(".concat(c,")"));break;case"middle":N=rA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=rA("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(f){var U=w[0].width,Y=b.width;O.push("scale(".concat((Ft(Y)?Y/U:1)/U,")"))}return j&&O.push("rotate(".concat(j,", ").concat(I,", ").concat(E,")")),O.length&&(S.transform=O.join(" ")),Fe.createElement("text",s3({},rn(S,!0),{x:I,y:E,className:mn("recharts-text",T),textAnchor:p,fill:y.includes("url")?FL:y}),w.map(function(K,J){var q=K.words.join(_?"":" ");return Fe.createElement("tspan",{x:I,dy:J===0?N:o,key:"".concat(q,"-").concat(J)},q)}))};function Af(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VC(e){let t,r,n;e.length!==2?(t=Af,r=(o,l)=>Af(e(o),l),n=(o,l)=>e(o)-l):(t=e===Af||e===RCe?e:FCe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function FCe(){return 0}function mH(e){return e===null?NaN:+e}function*$Ce(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const BCe=VC(Af),uy=BCe.right;VC(mH).center;class $L extends Map{constructor(t,r=zCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(BL(this,t))}has(t){return super.has(BL(this,t))}set(t,r){return super.set(UCe(this,t),r)}delete(t){return super.delete(VCe(this,t))}}function BL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function UCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function VCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function zCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qCe(e=Af){if(e===Af)return gH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const WCe=Math.sqrt(50),HCe=Math.sqrt(10),GCe=Math.sqrt(2);function zb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=WCe?10:i>=HCe?5:i>=GCe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?zb(e,t,r*2):[o,l,c]}function o3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?zb(t,e,r):zb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function l3(e,t,r){return t=+t,e=+e,r=+r,zb(e,t,r)[2]}function c3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?l3(t,e,r):l3(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function UL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?gH:qCe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));vH(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Km(e,r,t),a(e[n],i)>0&&Km(e,r,n);s<o;){for(Km(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Km(e,r,o):(++o,Km(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Km(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function KCe(e,t,r){if(e=Float64Array.from($Ce(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return VL(e);if(t>=1)return UL(e);var n,a=(n-1)*t,i=Math.floor(a),s=UL(vH(e,i).subarray(0,i+1)),o=VL(e.subarray(i+1));return s+(o-s)*(a-i)}}function YCe(e,t,r=mH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function XCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Vo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const u3=Symbol("implicit");function zC(){var e=new $L,t=[],r=[],n=u3;function a(i){let s=e.get(i);if(s===void 0){if(n!==u3)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $L;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return zC(t,r).unknown(n)},Vo.apply(a,arguments),a}function a1(){var e=zC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=XCe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return a1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Vo.apply(f(),arguments)}function yH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yH(t())},e}function Qg(){return yH(a1.apply(null,arguments).paddingInner(1))}function qC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fy(){}var i1=.7,qb=1/i1,z0="\\s*([+-]?\\d+)\\s*",s1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QCe=/^#([0-9a-f]{3,8})$/,JCe=new RegExp(`^rgb\\(${z0},${z0},${z0}\\)$`),ZCe=new RegExp(`^rgb\\(${ec},${ec},${ec}\\)$`),ePe=new RegExp(`^rgba\\(${z0},${z0},${z0},${s1}\\)$`),tPe=new RegExp(`^rgba\\(${ec},${ec},${ec},${s1}\\)$`),rPe=new RegExp(`^hsl\\(${s1},${ec},${ec}\\)$`),nPe=new RegExp(`^hsla\\(${s1},${ec},${ec},${s1}\\)$`),zL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qC(fy,o1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qL,formatHex:qL,formatHex8:aPe,formatHsl:iPe,formatRgb:WL,toString:WL});function qL(){return this.rgb().formatHex()}function aPe(){return this.rgb().formatHex8()}function iPe(){return bH(this).formatHsl()}function WL(){return this.rgb().formatRgb()}function o1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?HL(t):r===3?new js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?kx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?kx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JCe.exec(e))?new js(t[1],t[2],t[3],1):(t=ZCe.exec(e))?new js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ePe.exec(e))?kx(t[1],t[2],t[3],t[4]):(t=tPe.exec(e))?kx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rPe.exec(e))?YL(t[1],t[2]/100,t[3]/100,1):(t=nPe.exec(e))?YL(t[1],t[2]/100,t[3]/100,t[4]):zL.hasOwnProperty(e)?HL(zL[e]):e==="transparent"?new js(NaN,NaN,NaN,0):null}function HL(e){return new js(e>>16&255,e>>8&255,e&255,1)}function kx(e,t,r,n){return n<=0&&(e=t=r=NaN),new js(e,t,r,n)}function sPe(e){return e instanceof fy||(e=o1(e)),e?(e=e.rgb(),new js(e.r,e.g,e.b,e.opacity)):new js}function f3(e,t,r,n){return arguments.length===1?sPe(e):new js(e,t,r,n??1)}function js(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qC(js,f3,xH(fy,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?i1:Math.pow(i1,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new js(qd(this.r),qd(this.g),qd(this.b),Wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GL,formatHex:GL,formatHex8:oPe,formatRgb:KL,toString:KL}));function GL(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function oPe(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function KL(){const e=Wb(this.opacity);return`${e===1?"rgb(":"rgba("}${qd(this.r)}, ${qd(this.g)}, ${qd(this.b)}${e===1?")":`, ${e})`}`}function Wb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=qd(e),(e<16?"0":"")+e.toString(16)}function YL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hl(e,t,r,n)}function bH(e){if(e instanceof hl)return new hl(e.h,e.s,e.l,e.opacity);if(e instanceof fy||(e=o1(e)),!e)return new hl;if(e instanceof hl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new hl(s,o,l,e.opacity)}function lPe(e,t,r,n){return arguments.length===1?bH(e):new hl(e,t,r,n??1)}function hl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qC(hl,lPe,xH(fy,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new hl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?i1:Math.pow(i1,e),new hl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new js(nA(e>=240?e-240:e+120,a,n),nA(e,a,n),nA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hl(XL(this.h),Cx(this.s),Cx(this.l),Wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wb(this.opacity);return`${e===1?"hsl(":"hsla("}${XL(this.h)}, ${Cx(this.s)*100}%, ${Cx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XL(e){return e=(e||0)%360,e<0?e+360:e}function Cx(e){return Math.max(0,Math.min(1,e||0))}function nA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const WC=e=>()=>e;function cPe(e,t){return function(r){return e+r*t}}function uPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function fPe(e){return(e=+e)==1?wH:function(t,r){return r-t?uPe(t,r,e):WC(isNaN(t)?r:t)}}function wH(e,t){var r=t-e;return r?cPe(e,r):WC(isNaN(e)?t:e)}const QL=function e(t){var r=fPe(t);function n(a,i){var s=r((a=f3(a)).r,(i=f3(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=wH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function dPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function hPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pPe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=hm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function mPe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function gPe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=hm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var d3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aA=new RegExp(d3.source,"g");function vPe(e){return function(){return e}}function yPe(e){return function(t){return e(t)+""}}function xPe(e,t){var r=d3.lastIndex=aA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=d3.exec(e))&&(a=aA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Hb(n,a)})),r=aA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?yPe(l[0].x):vPe(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function hm(e,t){var r=typeof t,n;return t==null||r==="boolean"?WC(t):(r==="number"?Hb:r==="string"?(n=o1(t))?(t=n,QL):xPe:t instanceof o1?QL:t instanceof Date?mPe:hPe(t)?dPe:Array.isArray(t)?pPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gPe:Hb)(e,t)}function HC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bPe(e,t){t===void 0&&(t=e,e=hm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function wPe(e){return function(){return e}}function Gb(e){return+e}var JL=[0,1];function hs(e){return e}function h3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:wPe(isNaN(t)?NaN:.5)}function _Pe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function SPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=h3(a,n),i=r(s,i)):(n=h3(n,a),i=r(i,s)),function(o){return i(n(o))}}function APe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=h3(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=uy(e,o,1,n)-1;return i[l](a[l](o))}}function dy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H5(){var e=JL,t=JL,r=hm,n,a,i,s=hs,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==hs&&(s=_Pe(e[0],e[h-1])),o=h>2?APe:SPe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Hb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Gb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=HC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:hs,u()):s!==hs},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,u()}}function GC(){return H5()(hs,hs)}function TPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Sp(e){return e=Kb(Math.abs(e)),e?e[1]:NaN}function EPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function NPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l1(e){if(!(t=kPe.exec(e)))throw new Error("invalid format: "+e);var t;return new KC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}l1.prototype=KC.prototype;function KC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}KC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var _H;function PPe(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(_H=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Kb(e,Math.max(0,t+i-1))[0]}function ZL(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const eM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZL(e*100,t),r:ZL,s:PPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tM(e){return e}var rM=Array.prototype.map,nM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OPe(e){var t=e.grouping===void 0||e.thousands===void 0?tM:EPe(rM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?tM:NPe(rM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=l1(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,D=f.trim,P=f.type;P==="n"?(b=!0,P="g"):eM[P]||(w===void 0&&(w=12),D=!0,P="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=m==="$"?n:/[%p]/.test(P)?s:"",_=eM[P],S=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(E){var N=j,O=T,U,Y,K;if(P==="c")O=_(E)+O,E="";else{E=+E;var J=E<0||1/E<0;if(E=isNaN(E)?l:_(Math.abs(E),w),D&&(E=CPe(E)),J&&+E==0&&g!=="+"&&(J=!1),N=(J?g==="("?g:o:g==="-"||g==="("?"":g)+N,O=(P==="s"?nM[8+_H/3]:"")+O+(J&&g==="("?")":""),S){for(U=-1,Y=E.length;++U<Y;)if(K=E.charCodeAt(U),48>K||K>57){O=(K===46?a+E.slice(U+1):E.slice(U))+O,E=E.slice(0,U);break}}}b&&!v&&(E=t(E,1/0));var q=N.length+E.length+O.length,V=q<y?new Array(y-q+1).join(h):"";switch(b&&v&&(E=t(V+E,V.length?y-O.length:1/0),V=""),p){case"<":E=N+E+O+V;break;case"=":E=N+V+E+O;break;case"^":E=V.slice(0,q=V.length>>1)+N+E+O+V.slice(q);break;default:E=V+N+E+O;break}return i(E)}return I.toString=function(){return f+""},I}function u(f,h){var p=c((f=l1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Sp(h)/3)))*3,m=Math.pow(10,-g),v=nM[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var Px,YC,SH;IPe({thousands:",",grouping:[3],currency:["$",""]});function IPe(e){return Px=OPe(e),YC=Px.format,SH=Px.formatPrefix,Px}function jPe(e){return Math.max(0,-Sp(Math.abs(e)))}function DPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sp(t)/3)))*3-Sp(Math.abs(e)))}function LPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sp(t)-Sp(e))+1}function AH(e,t,r,n){var a=c3(e,t,r),i;switch(n=l1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=DPe(a,s))&&(n.precision=i),SH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=LPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return YC(n)}function Xf(e){var t=e.domain;return e.ticks=function(r){var n=t();return o3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return AH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=l3(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Yb(){var e=GC();return e.copy=function(){return dy(e,Yb())},Vo.apply(e,arguments),Xf(e)}function TH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return TH(e).unknown(t)},e=arguments.length?Array.from(e,Gb):[0,1],Xf(r)}function EH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function aM(e){return Math.log(e)}function iM(e){return Math.exp(e)}function MPe(e){return-Math.log(-e)}function RPe(e){return-Math.exp(-e)}function FPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $Pe(e){return e===10?FPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sM(e){return(t,r)=>-e(-t,r)}function XC(e){const t=e(aM,iM),r=t.domain;let n=10,a,i;function s(){return a=BPe(n),i=$Pe(n),r()[0]<0?(a=sM(a),i=sM(i),e(MPe,RPe)):e(aM,iM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=o3(c,u,v))}else y=o3(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=l1(l)).precision==null&&(l.trim=!0),l=YC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(EH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function NH(){const e=XC(H5()).domain([1,10]);return e.copy=()=>dy(e,NH()).base(e.base()),Vo.apply(e,arguments),e}function oM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function QC(e){var t=1,r=e(oM(t),lM(t));return r.constant=function(n){return arguments.length?e(oM(t=+n),lM(t)):t},Xf(r)}function kH(){var e=QC(H5());return e.copy=function(){return dy(e,kH()).constant(e.constant())},Vo.apply(e,arguments)}function cM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function UPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VPe(e){return e<0?-e*e:e*e}function JC(e){var t=e(hs,hs),r=1;function n(){return r===1?e(hs,hs):r===.5?e(UPe,VPe):e(cM(r),cM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Xf(t)}function ZC(){var e=JC(H5());return e.copy=function(){return dy(e,ZC()).exponent(e.exponent())},Vo.apply(e,arguments),e}function zPe(){return ZC.apply(null,arguments).exponent(.5)}function uM(e){return Math.sign(e)*e*e}function qPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CH(){var e=GC(),t=[0,1],r=!1,n;function a(i){var s=qPe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(uM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Gb)).map(uM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return CH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vo.apply(a,arguments),Xf(a)}function PH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=YCe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[uy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Af),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return PH().domain(e).range(t).unknown(n)},Vo.apply(i,arguments)}function OH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[uy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return OH().domain([e,t]).range(a).unknown(i)},Vo.apply(Xf(s),arguments)}function IH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[uy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return IH().domain(e).range(t).unknown(r)},Vo.apply(a,arguments)}const iA=new Date,sA=new Date;function Ga(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Ga(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(iA.setTime(+i),sA.setTime(+s),e(iA),e(sA),Math.floor(r(iA,sA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Xb=Ga(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ga(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xb);Xb.range;const Cc=1e3,Po=Cc*60,Pc=Po*60,Jc=Pc*24,eP=Jc*7,fM=Jc*30,oA=Jc*365,Ld=Ga(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getUTCSeconds());Ld.range;const tP=Ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cc)},(e,t)=>{e.setTime(+e+t*Po)},(e,t)=>(t-e)/Po,e=>e.getMinutes());tP.range;const rP=Ga(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Po)},(e,t)=>(t-e)/Po,e=>e.getUTCMinutes());rP.range;const nP=Ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cc-e.getMinutes()*Po)},(e,t)=>{e.setTime(+e+t*Pc)},(e,t)=>(t-e)/Pc,e=>e.getHours());nP.range;const aP=Ga(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pc)},(e,t)=>(t-e)/Pc,e=>e.getUTCHours());aP.range;const hy=Ga(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Po)/Jc,e=>e.getDate()-1);hy.range;const G5=Ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>e.getUTCDate()-1);G5.range;const jH=Ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>Math.floor(e/Jc));jH.range;function Th(e){return Ga(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Po)/eP)}const K5=Th(0),Qb=Th(1),WPe=Th(2),HPe=Th(3),Ap=Th(4),GPe=Th(5),KPe=Th(6);K5.range;Qb.range;WPe.range;HPe.range;Ap.range;GPe.range;KPe.range;function Eh(e){return Ga(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/eP)}const Y5=Eh(0),Jb=Eh(1),YPe=Eh(2),XPe=Eh(3),Tp=Eh(4),QPe=Eh(5),JPe=Eh(6);Y5.range;Jb.range;YPe.range;XPe.range;Tp.range;QPe.range;JPe.range;const iP=Ga(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());iP.range;const sP=Ga(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sP.range;const Zc=Ga(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ga(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zc.range;const eu=Ga(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ga(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eu.range;function DH(e,t,r,n,a,i){const s=[[Ld,1,Cc],[Ld,5,5*Cc],[Ld,15,15*Cc],[Ld,30,30*Cc],[i,1,Po],[i,5,5*Po],[i,15,15*Po],[i,30,30*Po],[a,1,Pc],[a,3,3*Pc],[a,6,6*Pc],[a,12,12*Pc],[n,1,Jc],[n,2,2*Jc],[r,1,eP],[t,1,fM],[t,3,3*fM],[e,1,oA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=VC(([,,v])=>v).right(s,h);if(p===s.length)return e.every(c3(c/oA,u/oA,f));if(p===0)return Xb.every(Math.max(c3(c,u,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[ZPe,e6e]=DH(eu,sP,Y5,jH,aP,rP),[t6e,r6e]=DH(Zc,iP,K5,hy,nP,tP);function lA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ym(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function n6e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Xm(a),u=Qm(a),f=Xm(i),h=Qm(i),p=Xm(s),g=Qm(s),m=Xm(o),v=Qm(o),y=Xm(l),b=Qm(l),w={a:J,A:q,b:V,B:ee,c:null,d:vM,e:vM,f:E6e,g:M6e,G:F6e,H:S6e,I:A6e,j:T6e,L:LH,m:N6e,M:k6e,p:Z,q:k,Q:bM,s:wM,S:C6e,u:P6e,U:O6e,V:I6e,w:j6e,W:D6e,x:null,X:null,y:L6e,Y:R6e,Z:$6e,"%":xM},D={a:R,A:z,b:G,B:Q,c:null,d:yM,e:yM,f:z6e,g:Z6e,G:tOe,H:B6e,I:U6e,j:V6e,L:RH,m:q6e,M:W6e,p:oe,q:fe,Q:bM,s:wM,S:H6e,u:G6e,U:K6e,V:Y6e,w:X6e,W:Q6e,x:null,X:null,y:J6e,Y:eOe,Z:rOe,"%":xM},P={a:I,A:E,b:N,B:O,c:U,d:mM,e:mM,f:x6e,g:pM,G:hM,H:gM,I:gM,j:m6e,L:y6e,m:p6e,M:g6e,p:S,q:h6e,Q:w6e,s:_6e,S:v6e,u:l6e,U:c6e,V:u6e,w:o6e,W:f6e,x:Y,X:K,y:pM,Y:hM,Z:d6e,"%":b6e};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),D.x=j(r,D),D.X=j(n,D),D.c=j(t,D);function j(ne,he){return function(ye){var W=[],ke=-1,Ce=0,Te=ne.length,ie,$e,Ke;for(ye instanceof Date||(ye=new Date(+ye));++ke<Te;)ne.charCodeAt(ke)===37&&(W.push(ne.slice(Ce,ke)),($e=dM[ie=ne.charAt(++ke)])!=null?ie=ne.charAt(++ke):$e=ie==="e"?" ":"0",(Ke=he[ie])&&(ie=Ke(ye,$e)),W.push(ie),Ce=ke+1);return W.push(ne.slice(Ce,ke)),W.join("")}}function T(ne,he){return function(ye){var W=Ym(1900,void 0,1),ke=_(W,ne,ye+="",0),Ce,Te;if(ke!=ye.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(he&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ce=cA(Ym(W.y,0,1)),Te=Ce.getUTCDay(),Ce=Te>4||Te===0?Jb.ceil(Ce):Jb(Ce),Ce=G5.offset(Ce,(W.V-1)*7),W.y=Ce.getUTCFullYear(),W.m=Ce.getUTCMonth(),W.d=Ce.getUTCDate()+(W.w+6)%7):(Ce=lA(Ym(W.y,0,1)),Te=Ce.getDay(),Ce=Te>4||Te===0?Qb.ceil(Ce):Qb(Ce),Ce=hy.offset(Ce,(W.V-1)*7),W.y=Ce.getFullYear(),W.m=Ce.getMonth(),W.d=Ce.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Te="Z"in W?cA(Ym(W.y,0,1)).getUTCDay():lA(Ym(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Te+5)%7:W.w+W.U*7-(Te+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,cA(W)):lA(W)}}function _(ne,he,ye,W){for(var ke=0,Ce=he.length,Te=ye.length,ie,$e;ke<Ce;){if(W>=Te)return-1;if(ie=he.charCodeAt(ke++),ie===37){if(ie=he.charAt(ke++),$e=P[ie in dM?he.charAt(ke++):ie],!$e||(W=$e(ne,ye,W))<0)return-1}else if(ie!=ye.charCodeAt(W++))return-1}return W}function S(ne,he,ye){var W=c.exec(he.slice(ye));return W?(ne.p=u.get(W[0].toLowerCase()),ye+W[0].length):-1}function I(ne,he,ye){var W=p.exec(he.slice(ye));return W?(ne.w=g.get(W[0].toLowerCase()),ye+W[0].length):-1}function E(ne,he,ye){var W=f.exec(he.slice(ye));return W?(ne.w=h.get(W[0].toLowerCase()),ye+W[0].length):-1}function N(ne,he,ye){var W=y.exec(he.slice(ye));return W?(ne.m=b.get(W[0].toLowerCase()),ye+W[0].length):-1}function O(ne,he,ye){var W=m.exec(he.slice(ye));return W?(ne.m=v.get(W[0].toLowerCase()),ye+W[0].length):-1}function U(ne,he,ye){return _(ne,t,he,ye)}function Y(ne,he,ye){return _(ne,r,he,ye)}function K(ne,he,ye){return _(ne,n,he,ye)}function J(ne){return s[ne.getDay()]}function q(ne){return i[ne.getDay()]}function V(ne){return l[ne.getMonth()]}function ee(ne){return o[ne.getMonth()]}function Z(ne){return a[+(ne.getHours()>=12)]}function k(ne){return 1+~~(ne.getMonth()/3)}function R(ne){return s[ne.getUTCDay()]}function z(ne){return i[ne.getUTCDay()]}function G(ne){return l[ne.getUTCMonth()]}function Q(ne){return o[ne.getUTCMonth()]}function oe(ne){return a[+(ne.getUTCHours()>=12)]}function fe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var he=j(ne+="",w);return he.toString=function(){return ne},he},parse:function(ne){var he=T(ne+="",!1);return he.toString=function(){return ne},he},utcFormat:function(ne){var he=j(ne+="",D);return he.toString=function(){return ne},he},utcParse:function(ne){var he=T(ne+="",!0);return he.toString=function(){return ne},he}}}var dM={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,a6e=/^%/,i6e=/[\\^$*+?|[\]().{}]/g;function gn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function s6e(e){return e.replace(i6e,"\\$&")}function Xm(e){return new RegExp("^(?:"+e.map(s6e).join("|")+")","i")}function Qm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function o6e(e,t,r){var n=oi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function l6e(e,t,r){var n=oi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function c6e(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function u6e(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function f6e(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function hM(e,t,r){var n=oi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pM(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function d6e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function h6e(e,t,r){var n=oi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function p6e(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function mM(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function m6e(e,t,r){var n=oi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function gM(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function g6e(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function v6e(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function y6e(e,t,r){var n=oi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function x6e(e,t,r){var n=oi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function b6e(e,t,r){var n=a6e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function w6e(e,t,r){var n=oi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _6e(e,t,r){var n=oi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vM(e,t){return gn(e.getDate(),t,2)}function S6e(e,t){return gn(e.getHours(),t,2)}function A6e(e,t){return gn(e.getHours()%12||12,t,2)}function T6e(e,t){return gn(1+hy.count(Zc(e),e),t,3)}function LH(e,t){return gn(e.getMilliseconds(),t,3)}function E6e(e,t){return LH(e,t)+"000"}function N6e(e,t){return gn(e.getMonth()+1,t,2)}function k6e(e,t){return gn(e.getMinutes(),t,2)}function C6e(e,t){return gn(e.getSeconds(),t,2)}function P6e(e){var t=e.getDay();return t===0?7:t}function O6e(e,t){return gn(K5.count(Zc(e)-1,e),t,2)}function MH(e){var t=e.getDay();return t>=4||t===0?Ap(e):Ap.ceil(e)}function I6e(e,t){return e=MH(e),gn(Ap.count(Zc(e),e)+(Zc(e).getDay()===4),t,2)}function j6e(e){return e.getDay()}function D6e(e,t){return gn(Qb.count(Zc(e)-1,e),t,2)}function L6e(e,t){return gn(e.getFullYear()%100,t,2)}function M6e(e,t){return e=MH(e),gn(e.getFullYear()%100,t,2)}function R6e(e,t){return gn(e.getFullYear()%1e4,t,4)}function F6e(e,t){var r=e.getDay();return e=r>=4||r===0?Ap(e):Ap.ceil(e),gn(e.getFullYear()%1e4,t,4)}function $6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gn(t/60|0,"0",2)+gn(t%60,"0",2)}function yM(e,t){return gn(e.getUTCDate(),t,2)}function B6e(e,t){return gn(e.getUTCHours(),t,2)}function U6e(e,t){return gn(e.getUTCHours()%12||12,t,2)}function V6e(e,t){return gn(1+G5.count(eu(e),e),t,3)}function RH(e,t){return gn(e.getUTCMilliseconds(),t,3)}function z6e(e,t){return RH(e,t)+"000"}function q6e(e,t){return gn(e.getUTCMonth()+1,t,2)}function W6e(e,t){return gn(e.getUTCMinutes(),t,2)}function H6e(e,t){return gn(e.getUTCSeconds(),t,2)}function G6e(e){var t=e.getUTCDay();return t===0?7:t}function K6e(e,t){return gn(Y5.count(eu(e)-1,e),t,2)}function FH(e){var t=e.getUTCDay();return t>=4||t===0?Tp(e):Tp.ceil(e)}function Y6e(e,t){return e=FH(e),gn(Tp.count(eu(e),e)+(eu(e).getUTCDay()===4),t,2)}function X6e(e){return e.getUTCDay()}function Q6e(e,t){return gn(Jb.count(eu(e)-1,e),t,2)}function J6e(e,t){return gn(e.getUTCFullYear()%100,t,2)}function Z6e(e,t){return e=FH(e),gn(e.getUTCFullYear()%100,t,2)}function eOe(e,t){return gn(e.getUTCFullYear()%1e4,t,4)}function tOe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Tp(e):Tp.ceil(e),gn(e.getUTCFullYear()%1e4,t,4)}function rOe(){return"+0000"}function xM(){return"%"}function bM(e){return+e}function wM(e){return Math.floor(+e/1e3)}var Jh,$H,BH;nOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nOe(e){return Jh=n6e(e),$H=Jh.format,Jh.parse,BH=Jh.utcFormat,Jh.utcParse,Jh}function aOe(e){return new Date(e)}function iOe(e){return e instanceof Date?+e:+new Date(+e)}function oP(e,t,r,n,a,i,s,o,l,c){var u=GC(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),D=c("%Y");function P(j){return(l(j)<j?p:o(j)<j?g:s(j)<j?m:i(j)<j?v:n(j)<j?a(j)<j?y:b:r(j)<j?w:D)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?h(Array.from(j,iOe)):h().map(aOe)},u.ticks=function(j){var T=h();return e(T[0],T[T.length-1],j??10)},u.tickFormat=function(j,T){return T==null?P:c(T)},u.nice=function(j){var T=h();return(!j||typeof j.range!="function")&&(j=t(T[0],T[T.length-1],j??10)),j?h(EH(T,j)):u},u.copy=function(){return dy(u,oP(e,t,r,n,a,i,s,o,l,c))},u}function sOe(){return Vo.apply(oP(t6e,r6e,Zc,iP,K5,hy,nP,tP,Ld,$H).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oOe(){return Vo.apply(oP(ZPe,e6e,eu,sP,Y5,G5,aP,rP,Ld,BH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X5(){var e=0,t=1,r,n,a,i,s=hs,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),c):[s(0),s(1)]}}return c.range=u(hm),c.rangeRound=u(HC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Qf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UH(){var e=Xf(X5()(hs));return e.copy=function(){return Qf(e,UH())},uu.apply(e,arguments)}function VH(){var e=XC(X5()).domain([1,10]);return e.copy=function(){return Qf(e,VH()).base(e.base())},uu.apply(e,arguments)}function zH(){var e=QC(X5());return e.copy=function(){return Qf(e,zH()).constant(e.constant())},uu.apply(e,arguments)}function lP(){var e=JC(X5());return e.copy=function(){return Qf(e,lP()).exponent(e.exponent())},uu.apply(e,arguments)}function lOe(){return lP.apply(null,arguments).exponent(.5)}function qH(){var e=[],t=hs;function r(n){if(n!=null&&!isNaN(n=+n))return t((uy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Af),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>KCe(e,i/n))},r.copy=function(){return qH(t).domain(e)},uu.apply(r,arguments)}function Q5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=hs,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,c=bPe(m,[y,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(hm),p.rangeRound=g(HC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function WH(){var e=Xf(Q5()(hs));return e.copy=function(){return Qf(e,WH())},uu.apply(e,arguments)}function HH(){var e=XC(Q5()).domain([.1,1,10]);return e.copy=function(){return Qf(e,HH()).base(e.base())},uu.apply(e,arguments)}function GH(){var e=QC(Q5());return e.copy=function(){return Qf(e,GH()).constant(e.constant())},uu.apply(e,arguments)}function cP(){var e=JC(Q5());return e.copy=function(){return Qf(e,cP()).exponent(e.exponent())},uu.apply(e,arguments)}function cOe(){return cP.apply(null,arguments).exponent(.5)}const _M=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:a1,scaleDiverging:WH,scaleDivergingLog:HH,scaleDivergingPow:cP,scaleDivergingSqrt:cOe,scaleDivergingSymlog:GH,scaleIdentity:TH,scaleImplicit:u3,scaleLinear:Yb,scaleLog:NH,scaleOrdinal:zC,scalePoint:Qg,scalePow:ZC,scaleQuantile:PH,scaleQuantize:OH,scaleRadial:CH,scaleSequential:UH,scaleSequentialLog:VH,scaleSequentialPow:lP,scaleSequentialQuantile:qH,scaleSequentialSqrt:lOe,scaleSequentialSymlog:zH,scaleSqrt:zPe,scaleSymlog:kH,scaleThreshold:IH,scaleTime:sOe,scaleUtc:oOe,tickFormat:AH},Symbol.toStringTag,{value:"Module"}));var uOe=im;function fOe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!uOe(s):r(s,o)))var o=s,l=i}return l}var KH=fOe;function dOe(e,t){return e>t}var hOe=dOe,pOe=KH,mOe=hOe,gOe=dm;function vOe(e){return e&&e.length?pOe(e,gOe,mOe):void 0}var yOe=vOe;const J5=On(yOe);function xOe(e,t){return e<t}var bOe=xOe,wOe=KH,_Oe=bOe,SOe=dm;function AOe(e){return e&&e.length?wOe(e,SOe,_Oe):void 0}var TOe=AOe;const Z5=On(TOe);var EOe=SC,NOe=Yf,kOe=rH,COe=Rs;function POe(e,t){var r=COe(e)?EOe:kOe;return r(e,NOe(t))}var OOe=POe,IOe=eH,jOe=OOe;function DOe(e,t){return IOe(jOe(e,t),1)}var LOe=DOe;const MOe=On(LOe);var ROe=FC;function FOe(e,t){return ROe(e,t)}var $Oe=FOe;const e_=On($Oe);var pm=1e9,BOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fP,Jn=!0,$o="[DecimalError] ",Wd=$o+"Invalid argument: ",uP=$o+"Exponent out of range: ",mm=Math.floor,_d=Math.pow,UOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zs,Za=1e7,Wn=7,YH=9007199254740991,Zb=mm(YH/Wn),Jt={};Jt.absoluteValue=Jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Jt.comparedTo=Jt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Jt.decimalPlaces=Jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Jt.dividedBy=Jt.div=function(e){return $c(this,new this.constructor(e))};Jt.dividedToIntegerBy=Jt.idiv=function(e){var t=this,r=t.constructor;return Ln($c(t,new r(e),0,1),r.precision)};Jt.equals=Jt.eq=function(e){return!this.cmp(e)};Jt.exponent=function(){return Ma(this)};Jt.greaterThan=Jt.gt=function(e){return this.cmp(e)>0};Jt.greaterThanOrEqualTo=Jt.gte=function(e){return this.cmp(e)>=0};Jt.isInteger=Jt.isint=function(){return this.e>this.d.length-2};Jt.isNegative=Jt.isneg=function(){return this.s<0};Jt.isPositive=Jt.ispos=function(){return this.s>0};Jt.isZero=function(){return this.s===0};Jt.lessThan=Jt.lt=function(e){return this.cmp(e)<0};Jt.lessThanOrEqualTo=Jt.lte=function(e){return this.cmp(e)<1};Jt.logarithm=Jt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zs))throw Error($o+"NaN");if(r.s<1)throw Error($o+(r.s?"NaN":"-Infinity"));return r.eq(Zs)?new n(0):(Jn=!1,t=$c(c1(r,i),c1(e,i),i),Jn=!0,Ln(t,a))};Jt.minus=Jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JH(t,e):XH(t,(e.s=-e.s,e))};Jt.modulo=Jt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error($o+"NaN");return r.s?(Jn=!1,t=$c(r,e,0,1).times(e),Jn=!0,r.minus(t)):Ln(new n(r),a)};Jt.naturalExponential=Jt.exp=function(){return QH(this)};Jt.naturalLogarithm=Jt.ln=function(){return c1(this)};Jt.negated=Jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Jt.plus=Jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XH(t,e):JH(t,(e.s=-e.s,e))};Jt.precision=Jt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wd+e);if(t=Ma(a)+1,n=a.d.length-1,r=n*Wn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Jt.squareRoot=Jt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error($o+"NaN")}for(e=Ma(o),Jn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=ql(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=mm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus($c(o,i,s+2)).times(.5),ql(i.d).slice(0,s)===(t=ql(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ln(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Jn=!0,Ln(n,r)};Jt.times=Jt.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Za|0,t=o/Za|0;i[a]=(i[a]+t)%Za|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Jn?Ln(e,f.precision):e};Jt.toDecimalPlaces=Jt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ic(e,0,pm),t===void 0?t=n.rounding:ic(t,0,8),Ln(r,e+Ma(r)+1,t))};Jt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ch(n,!0):(ic(e,0,pm),t===void 0?t=a.rounding:ic(t,0,8),n=Ln(new a(n),e+1,t),r=ch(n,!0,e+1)),r};Jt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ch(a):(ic(e,0,pm),t===void 0?t=i.rounding:ic(t,0,8),n=Ln(new i(a),e+Ma(a)+1,t),r=ch(n.abs(),!1,e+Ma(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Jt.toInteger=Jt.toint=function(){var e=this,t=e.constructor;return Ln(new t(e),Ma(e)+1,t.rounding)};Jt.toNumber=function(){return+this};Jt.toPower=Jt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Zs);if(o=new l(o),!o.s){if(e.s<1)throw Error($o+"Infinity");return o}if(o.eq(Zs))return o;if(n=l.precision,e.eq(Zs))return Ln(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=YH){for(a=new l(Zs),t=Math.ceil(n/Wn+4),Jn=!1;r%2&&(a=a.times(o),AM(a.d,t)),r=mm(r/2),r!==0;)o=o.times(o),AM(o.d,t);return Jn=!0,e.s<0?new l(Zs).div(a):Ln(a,n)}}else if(i<0)throw Error($o+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Jn=!1,a=e.times(c1(o,n+c)),Jn=!0,a=QH(a),a.s=i,a};Jt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ma(a),n=ch(a,r<=i.toExpNeg||r>=i.toExpPos)):(ic(e,1,pm),t===void 0?t=i.rounding:ic(t,0,8),a=Ln(new i(a),e,t),r=Ma(a),n=ch(a,e<=r||r<=i.toExpNeg,e)),n};Jt.toSignificantDigits=Jt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ic(e,1,pm),t===void 0?t=n.rounding:ic(t,0,8)),Ln(new n(r),e,t)};Jt.toString=Jt.valueOf=Jt.val=Jt.toJSON=Jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ma(e),r=e.constructor;return ch(e,t<=r.toExpNeg||t>=r.toExpPos)};function XH(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Jn?Ln(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Wn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Za|0,l[i]%=Za;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Jn?Ln(t,f):t}function ic(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wd+e)}function ql(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Wn-n.length,r&&(i+=Wu(r)),i+=n;s=e[t],n=s+"",r=Wn-n.length,r&&(i+=Wu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var $c=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Za|0,s=i/Za|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Za+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,p,g,m,v,y,b,w,D,P,j,T,_,S=n.constructor,I=n.s==a.s?1:-1,E=n.d,N=a.d;if(!n.s)return new S(n);if(!a.s)throw Error($o+"Division by zero");for(l=n.e-a.e,T=N.length,P=E.length,p=new S(I),g=p.d=[],c=0;N[c]==(E[c]||0);)++c;if(N[c]>(E[c]||0)&&--l,i==null?b=i=S.precision:s?b=i+(Ma(n)-Ma(a))+1:b=i,b<0)return new S(0);if(b=b/Wn+2|0,c=0,T==1)for(u=0,N=N[0],b++;(c<P||u)&&b--;c++)w=u*Za+(E[c]||0),g[c]=w/N|0,u=w%N|0;else{for(u=Za/(N[0]+1)|0,u>1&&(N=e(N,u),E=e(E,u),T=N.length,P=E.length),D=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;_=N.slice(),_.unshift(0),j=N[0],N[1]>=Za/2&&++j;do u=0,o=t(N,m,T,v),o<0?(y=m[0],T!=v&&(y=y*Za+(m[1]||0)),u=y/j|0,u>1?(u>=Za&&(u=Za-1),f=e(N,u),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(u--,r(f,T<h?_:N,h))):(u==0&&(o=u=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(N,m,T,v),o<1&&(u++,r(m,T<v?_:N,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[D]||0:(m=[E[D]],v=1);while((D++<P||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Ln(p,s?i+Ma(p)+1:i)}}();function QH(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(Ma(e)>16)throw Error(uP+Ma(e));if(!e.s)return new u(Zs);for(t==null?(Jn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(_d(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Zs),u.precision=o;;){if(a=Ln(a.times(e),o),r=r.times(++l),s=i.plus($c(a,r,o)),ql(s.d).slice(0,o)===ql(i.d).slice(0,o)){for(;c--;)i=Ln(i.times(i),o);return u.precision=f,t==null?(Jn=!0,Ln(i,f)):i}i=s}}function Ma(e){for(var t=e.e*Wn,r=e.d[0];r>=10;r/=10)t++;return t}function uA(e,t,r){if(t>e.LN10.sd())throw Jn=!0,r&&(e.precision=r),Error($o+"LN10 precision limit exceeded");return Ln(new e(e.LN10),t)}function Wu(e){for(var t="";e--;)t+="0";return t}function c1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error($o+(p.s?"NaN":"-Infinity"));if(p.eq(Zs))return new m(0);if(t==null?(Jn=!1,c=v):c=t,p.eq(10))return t==null&&(Jn=!0),uA(m,c);if(c+=h,m.precision=c,r=ql(g),n=r.charAt(0),i=Ma(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ql(p.d),n=r.charAt(0),f++;i=Ma(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=uA(m,c+2,v).times(i+""),p=c1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(Jn=!0,Ln(p,v)):p;for(o=s=p=$c(p.minus(Zs),p.plus(Zs),c),u=Ln(p.times(p),c),a=3;;){if(s=Ln(s.times(u),c),l=o.plus($c(s,new m(a),c)),ql(l.d).slice(0,c)===ql(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(uA(m,c+2,v).times(i+""))),o=$c(o,new m(f),c),m.precision=v,t==null?(Jn=!0,Ln(o,v)):o;o=l,a+=2}}function SM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=mm(r/Wn),e.d=[],n=(r+1)%Wn,r<0&&(n+=Wn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Wn;n<a;)e.d.push(+t.slice(n,n+=Wn));t=t.slice(n),n=Wn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Jn&&(e.e>Zb||e.e<-Zb))throw Error(uP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ln(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Wn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Wn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Wn,a=n-Wn+s}if(r!==void 0&&(i=_d(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/_d(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Ma(e),f.length=1,t=t-i-1,f[0]=_d(10,(Wn-t%Wn)%Wn),e.e=mm(-t/Wn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=_d(10,Wn-n),f[u]=a>0?(c/_d(10,s-a)%_d(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Za&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Za)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Jn&&(e.e>Zb||e.e<-Zb))throw Error(uP+Ma(e));return e}function JH(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Jn?Ln(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/Wn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Za-1;--l[i],l[a]+=Za}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Jn?Ln(t,p):t):new h(0)}function ch(e,t,r){var n,a=Ma(e),i=ql(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Wu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wu(-a-1)+i,r&&(n=r-s)>0&&(i+=Wu(n))):a>=s?(i+=Wu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Wu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Wu(n))),e.s<0?"-"+i:i}function AM(e,t){if(e.length>t)return e.length=t,!0}function ZH(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return SM(s,i.toString())}else if(typeof i!="string")throw Error(Wd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,UOe.test(i))SM(s,i);else throw Error(Wd+i)}if(a.prototype=Jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZH,a.config=a.set=VOe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function VOe(e){if(!e||typeof e!="object")throw Error($o+"Object expected");var t,r,n,a=["precision",1,pm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(mm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Wd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wd+r+": "+n);return this}var fP=ZH(BOe);Zs=new fP(1);const Pn=fP;function zOe(e){return GOe(e)||HOe(e)||WOe(e)||qOe()}function qOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WOe(e,t){if(e){if(typeof e=="string")return p3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(e,t)}}function HOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GOe(e){if(Array.isArray(e))return p3(e)}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var KOe=function(t){return t},eG={"@@functional/placeholder":!0},tG=function(t){return t===eG},TM=function(t){return function r(){return arguments.length===0||arguments.length===1&&tG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},YOe=function e(t,r){return t===1?r:TM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==eG}).length;return s>=t?r.apply(void 0,a):e(t-s,TM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return tG(f)?l.shift():f});return r.apply(void 0,zOe(u).concat(l))}))})},t_=function(t){return YOe(t.length,t)},m3=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},XOe=t_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),QOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return KOe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},g3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function JOe(e){var t;return e===0?t=1:t=Math.floor(new Pn(e).abs().log(10).toNumber())+1,t}function ZOe(e,t,r){for(var n=new Pn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var eIe=t_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),tIe=t_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),rIe=t_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const r_={rangeStep:ZOe,getDigitCount:JOe,interpolateNumber:eIe,uninterpolateNumber:tIe,uninterpolateTruncation:rIe};function v3(e){return iIe(e)||aIe(e)||nG(e)||nIe()}function nIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aIe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iIe(e){if(Array.isArray(e))return y3(e)}function u1(e,t){return lIe(e)||oIe(e,t)||nG(e,t)||sIe()}function sIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(e,t){if(e){if(typeof e=="string")return y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y3(e,t)}}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oIe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function lIe(e){if(Array.isArray(e))return e}function aG(e){var t=u1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function iG(e,t,r){if(e.lte(0))return new Pn(0);var n=r_.getDigitCount(e.toNumber()),a=new Pn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Pn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Pn(Math.ceil(l))}function cIe(e,t,r){var n=1,a=new Pn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Pn(10).pow(r_.getDigitCount(e)-1),a=new Pn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Pn(Math.floor(e)))}else e===0?a=new Pn(Math.floor((t-1)/2)):r||(a=new Pn(Math.floor(e)));var s=Math.floor((t-1)/2),o=QOe(XOe(function(l){return a.add(new Pn(l-s).mul(n)).toNumber()}),m3);return o(0,t)}function sG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var i=iG(new Pn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Pn(0):(s=new Pn(e).add(t).div(2),s=s.sub(new Pn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Pn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?sG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Pn(o).mul(i)),tickMax:s.add(new Pn(l).mul(i))})}function uIe(e){var t=u1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=aG([r,n]),l=u1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(v3(m3(0,a-1).map(function(){return 1/0}))):[].concat(v3(m3(0,a-1).map(function(){return-1/0})),[u]);return r>n?g3(f):f}if(c===u)return cIe(c,a,i);var h=sG(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=r_.rangeStep(g,m.add(new Pn(.1).mul(p)),p);return r>n?g3(v):v}function fIe(e,t){var r=u1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=aG([n,a]),o=u1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=iG(new Pn(c).sub(l).div(u-1),i,0),h=[].concat(v3(r_.rangeStep(new Pn(l),new Pn(c).sub(new Pn(.99).mul(f)),f)),[c]);return n>a?g3(h):h}var dIe=rG(uIe),hIe=rG(fIe),pIe="Invariant failed";function uh(e,t){throw new Error(pIe)}var mIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}function gIe(e,t){return bIe(e)||xIe(e,t)||yIe(e,t)||vIe()}function vIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yIe(e,t){if(e){if(typeof e=="string")return EM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EM(e,t)}}function EM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function bIe(e){if(Array.isArray(e))return e}function wIe(e,t){if(e==null)return{};var r=_Ie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cG(n.key),n)}}function TIe(e,t,r){return t&&AIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EIe(e,t,r){return t=tw(t),NIe(e,oG()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function NIe(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kIe(e)}function kIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function CIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x3(e,t)}function x3(e,t){return x3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x3(e,t)}function lG(e,t,r){return t=cG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=PIe(e,"string");return Ep(t)=="symbol"?t:t+""}function PIe(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var py=function(e){function t(){return SIe(this,t),EIe(this,t,arguments)}return CIe(t,e),TIe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=wIe(n,mIe),p=rn(h,!1);this.props.direction==="x"&&u.type!=="number"&&uh();var g=l.map(function(m){var v=c(m,o),y=v.x,b=v.y,w=v.value,D=v.errorVal;if(!D)return null;var P=[],j,T;if(Array.isArray(D)){var _=gIe(D,2);j=_[0],T=_[1]}else j=T=D;if(i==="vertical"){var S=u.scale,I=b+a,E=I+s,N=I-s,O=S(w-j),U=S(w+T);P.push({x1:U,y1:E,x2:U,y2:N}),P.push({x1:O,y1:I,x2:U,y2:I}),P.push({x1:O,y1:E,x2:O,y2:N})}else if(i==="horizontal"){var Y=f.scale,K=y+a,J=K-s,q=K+s,V=Y(w-j),ee=Y(w+T);P.push({x1:J,y1:ee,x2:q,y2:ee}),P.push({x1:K,y1:V,x2:K,y2:ee}),P.push({x1:J,y1:V,x2:q,y2:V})}return Fe.createElement(Aa,ew({className:"recharts-errorBar",key:"bar-".concat(P.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),P.map(function(Z){return Fe.createElement("line",ew({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Fe.createElement(Aa,{className:"recharts-errorBars"},g)}}])}(Fe.Component);lG(py,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lG(py,"displayName","ErrorBar");function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){OIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OIe(e,t,r){return t=IIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IIe(e){var t=jIe(e,"string");return f1(t)=="symbol"?t:t+""}function jIe(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Xs(r,wl);if(!s)return null;var o=wl.defaultProps,l=o!==void 0?pd(pd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?pd(pd({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:dP(f),value:m||g,payload:p}}),pd(pd(pd({},l),wl.getWithHeight(s,a)),{},{payload:c,item:s})};function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function kM(e){return RIe(e)||MIe(e)||LIe(e)||DIe()}function DIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LIe(e,t){if(e){if(typeof e=="string")return b3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b3(e,t)}}function MIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RIe(e){if(Array.isArray(e))return b3(e)}function b3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0(e,t,r){return t=FIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FIe(e){var t=$Ie(e,"string");return d1(t)=="symbol"?t:t+""}function $Ie(e,t){if(d1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(e,t,r){return en(e)||en(t)?r:qa(t)?jo(e,t,r):zr(t)?t(e):r}function Jg(e,t,r,n){var a=MOe(e,function(o){return so(o,t)});if(r==="number"){var i=a.filter(function(o){return Ft(o)||parseFloat(o)});return i.length?[Z5(i),J5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!en(o)}):a;return s.map(function(o){return qa(o)||o instanceof Date?o:""})}var BIe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(gl(f-u)!==gl(h-f)){var g=[];if(gl(h-f)===gl(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+f)/2&&t<=(w+f)/2){s=a[c].index;break}}}else for(var D=0;D<o;D++)if(D===0&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D===o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},dP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pa(pa({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},UIe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return Mc(T.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?pa(pa({},b),y[0].props):y[0].props,D=w.barSize,P=w[v];s[P]||(s[P]=[]);var j=en(D)?r:D;s[P].push({item:y[0],stackList:y.slice(1),barSize:en(j)?void 0:lh(j,n,0)})}}return s},VIe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=lh(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(D,P){return D+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(D,P){var j={item:P.item,position:{offset:v.offset+v.size+c,size:h?p:P.barSize}},T=[].concat(kM(D),[j]);return v=T[T.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){T.push({item:_,position:v})}),T},f)}else{var y=lh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var b=(a-2*y-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(D,P,j){var T=[].concat(kM(D),[{item:P.item,position:{offset:y+(b+c)*j+(b-w)/2,size:w}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){T.push({item:_,position:T[T.length-1].position})}),T},f)}return u},zIe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=uG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Ft(t[p]))return pa(pa({},t),{},q0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Ft(t[g]))return pa(pa({},t),{},q0({},g,t[g]+(h||0)))}return t},qIe=function(t,r,n){return en(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},fG=function(t,r,n,a,i){var s=r.props.children,o=Do(s,py).filter(function(c){return qIe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=so(u,n);if(en(f))return c;var h=Array.isArray(f)?[Z5(f),J5(f)]:[f,f],p=l.reduce(function(g,m){var v=so(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},WIe=function(t,r,n,a,i){var s=r.map(function(o){return fG(t,o,n,i,a)}).filter(function(o){return!en(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},dG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&fG(t,l,c,a)||Jg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},hG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},pG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Oc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?gl(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!oy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},fA=new WeakMap,Ox=function(t,r){if(typeof r!="function")return t;fA.has(t)||fA.set(t,new WeakMap);var n=fA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},HIe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:a1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Yb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Qg(),realScaleType:"point"}:i==="category"?{scale:a1(),realScaleType:"band"}:{scale:Yb(),realScaleType:"linear"};if(oh(a)){var l="scale".concat($5(a));return{scale:(_M[l]||Qg)(),realScaleType:_M[l]?l:"point"}}return zr(a)?{scale:a}:{scale:Qg(),realScaleType:"point"}},PM=1e-4,GIe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-PM,s=Math.max(a[0],a[1])+PM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},KIe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},YIe=function(t,r){if(!r||r.length!==2||!Ft(r[0])||!Ft(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ft(t[0])||t[0]<n)&&(i[0]=n),(!Ft(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},XIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=oy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},QIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=oy(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},JIe={sign:XIe,expand:h_e,none:yp,silhouette:p_e,wiggle:m_e,positive:QIe},ZIe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=JIe[n],s=d_e().keys(a).value(function(o,l){return+so(o,l,0)}).order(WT).offset(i);return s(t)},eje=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?pa(pa({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(qa(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[ly("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return pa(pa({},f),{},q0({},y,b))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return pa(pa({},m),{},q0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:ZIe(t,y.items,i)}))},g)}return pa(pa({},f),{},q0({},h,p))},u)},tje=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=dIe(c,i,o);return t.domain([Z5(u),J5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=hIe(f,i,o);return{niceTicks:h}}return null};function OM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!en(a[t.dataKey])){var o=Eb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=so(a,en(s)?t.dataKey:s);return en(l)?null:t.scale(l)}var IM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=so(s,r.dataKey,r.domain[o]);return en(l)?null:r.scale(l)-i/2+a},rje=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},nje=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pa(pa({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(qa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},aje=function(t){return t.reduce(function(r,n){return[Z5(n.concat([r[0]]).filter(Ft)),J5(n.concat([r[1]]).filter(Ft))]},[1/0,-1/0])},mG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=aje(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},jM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w3=function(t,r,n){if(zr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ft(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(jM.test(t[0])){var i=+jM.exec(t[0])[1];a[0]=r[0]-i}else zr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ft(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(DM.test(t[1])){var s=+DM.exec(t[1])[1];a[1]=r[1]+s}else zr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=BC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},LM=function(t,r,n){return!t||!t.length||e_(t,jo(n,"type.defaultProps.domain"))?r:t},gG=function(t,r){var n=t.type.defaultProps?pa(pa({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return pa(pa({},rn(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:dP(t),value:so(r,a),type:l,payload:r,chartType:c,hide:u})};function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){ije(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ije(e,t,r){return t=sje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sje(e){var t=oje(e,"string");return h1(t)=="symbol"?t:t+""}function oje(e,t){if(h1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nw=Math.PI/180,lje=function(t){return t*180/Math.PI},bi=function(t,r,n,a){return{x:t+Math.cos(-nw*a)*n,y:r+Math.sin(-nw*a)*n}},cje=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},uje=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=cje({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:lje(c),angleInRadian:c}},fje=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},dje=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},FM=function(t,r){var n=t.x,a=t.y,i=uje({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=fje(r),f=u.startAngle,h=u.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?RM(RM({},r),{},{radius:s,angle:dje(p,r)}):null};function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}var hje=["offset"];function pje(e){return yje(e)||vje(e)||gje(e)||mje()}function mje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gje(e,t){if(e){if(typeof e=="string")return _3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _3(e,t)}}function vje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yje(e){if(Array.isArray(e))return _3(e)}function _3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xje(e,t){if(e==null)return{};var r=bje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){wje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wje(e,t,r){return t=_je(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _je(e){var t=Sje(e,"string");return p1(t)=="symbol"?t:t+""}function Sje(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}var Aje=function(t){var r=t.value,n=t.formatter,a=en(t.children)?r:t.children;return zr(n)?n(a):a},Tje=function(t,r){var n=gl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Eje=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=Tje(p,g),b=y>=0?1:-1,w,D;a==="insideStart"?(w=p+b*s,D=m):a==="insideEnd"?(w=g-b*s,D=!m):a==="end"&&(w=g+b*s,D=m),D=y<=0?D:!D;var P=bi(c,u,v,w),j=bi(c,u,v,w+(D?1:-1)*359),T="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(D?0:1,`,
    `).concat(j.x,",").concat(j.y),_=en(t.id)?ly("recharts-radial-line-"):t.id;return Fe.createElement("text",m1({},n,{dominantBaseline:"central",className:mn("recharts-radial-bar-label",o)}),Fe.createElement("defs",null,Fe.createElement("path",{id:_,d:T})),Fe.createElement("textPath",{xlinkHref:"#".concat(_)},r))},Nje=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var p=bi(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=bi(s,o,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},kje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return $a($a({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var D={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return $a($a({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return $a($a({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var j={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return $a($a({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?$a({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?$a({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?$a({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?$a({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?$a({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},T):i==="insideTopRight"?$a({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?$a({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},T):i==="insideBottomRight"?$a({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):sm(i)&&(Ft(i.x)||jd(i.x))&&(Ft(i.y)||jd(i.y))?$a({x:o+lh(i.x,c),y:l+lh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):$a({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Cje=function(t){return"cx"in t&&Ft(t.cx)};function Vi(e){var t=e.offset,r=t===void 0?5:t,n=xje(e,hje),a=$a({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||en(o)&&en(l)&&!B.isValidElement(c)&&!zr(c))return null;if(B.isValidElement(c))return B.cloneElement(c,a);var p;if(zr(c)){if(p=B.createElement(c,a),B.isValidElement(p))return p}else p=Aje(a);var g=Cje(i),m=rn(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Eje(a,p,m);var v=g?Nje(a):kje(a);return Fe.createElement(Vb,m1({className:mn("recharts-label",f)},m,v,{breakAll:h}),p)}Vi.displayName="Label";var vG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ft(m)&&Ft(v)){if(Ft(f)&&Ft(h))return{x:f,y:h,width:m,height:v};if(Ft(p)&&Ft(g))return{x:p,y:g,width:m,height:v}}return Ft(f)&&Ft(h)?{x:f,y:h,width:0,height:0}:Ft(r)&&Ft(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},Pje=function(t,r){return t?t===!0?Fe.createElement(Vi,{key:"label-implicit",viewBox:r}):qa(t)?Fe.createElement(Vi,{key:"label-implicit",viewBox:r,value:t}):B.isValidElement(t)?t.type===Vi?B.cloneElement(t,{key:"label-implicit",viewBox:r}):Fe.createElement(Vi,{key:"label-implicit",content:t,viewBox:r}):zr(t)?Fe.createElement(Vi,{key:"label-implicit",content:t,viewBox:r}):sm(t)?Fe.createElement(Vi,m1({viewBox:r},t,{key:"label-implicit"})):null:null},Oje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=vG(t),s=Do(a,Vi).map(function(l,c){return B.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=Pje(t.label,r||i);return[o].concat(pje(s))};Vi.parseViewBox=vG;Vi.renderCallByParent=Oje;function Ije(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jje=Ije;const Dje=On(jje);function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}var Lje=["valueAccessor"],Mje=["data","dataKey","clockWise","id","textBreakAll"];function Rje(e){return Uje(e)||Bje(e)||$je(e)||Fje()}function Fje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $je(e,t){if(e){if(typeof e=="string")return S3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S3(e,t)}}function Bje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uje(e){if(Array.isArray(e))return S3(e)}function S3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){Vje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vje(e,t,r){return t=zje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zje(e){var t=qje(e,"string");return g1(t)=="symbol"?t:t+""}function qje(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VM(e,t){if(e==null)return{};var r=Wje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hje=function(t){return Array.isArray(t.value)?Dje(t.value):t.value};function Tf(e){var t=e.valueAccessor,r=t===void 0?Hje:t,n=VM(e,Lje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=VM(n,Mje);return!a||!a.length?null:Fe.createElement(Aa,{className:"recharts-label-list"},a.map(function(u,f){var h=en(i)?r(u,f):so(u&&u.payload,i),p=en(o)?{}:{id:"".concat(o,"-").concat(f)};return Fe.createElement(Vi,aw({},rn(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Vi.parseViewBox(en(s)?u:UM(UM({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Tf.displayName="LabelList";function Gje(e,t){return e?e===!0?Fe.createElement(Tf,{key:"labelList-implicit",data:t}):Fe.isValidElement(e)||zr(e)?Fe.createElement(Tf,{key:"labelList-implicit",data:t,content:e}):sm(e)?Fe.createElement(Tf,aw({data:t},e,{key:"labelList-implicit"})):null:null}function Kje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Do(n,Tf).map(function(s,o){return B.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Gje(e.label,t);return[i].concat(Rje(a))}Tf.renderCallByParent=Kje;function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A3.apply(this,arguments)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){Yje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yje(e,t,r){return t=Xje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xje(e){var t=Qje(e,"string");return v1(t)=="symbol"?t:t+""}function Qje(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jje=function(t,r){var n=gl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ix=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/nw,h=c?i:i+s*f,p=bi(r,n,u,h),g=bi(r,n,a,h),m=c?i-s*f:i,v=bi(r,n,u*Math.cos(f*nw),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},yG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Jje(s,o),c=s+l,u=bi(r,n,i,s),f=bi(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=bi(r,n,a,s),g=bi(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Zje=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=gl(u-c),h=Ix({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Ix({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,w=v.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(D<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):yG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=Ix({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=j.circleTangency,_=j.lineTangency,S=j.theta,I=Ix({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=I.circleTangency,N=I.lineTangency,O=I.theta,U=l?Math.abs(c-u):Math.abs(c-u)-S-O;if(U<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},eDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xG=function(t){var r=qM(qM({},eDe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var p=mn("recharts-sector",h),g=s-i,m=lh(o,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=Zje({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=yG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Fe.createElement("path",A3({},rn(r,!0),{className:p,d:v,role:"img"}))};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T3.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){tDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tDe(e,t,r){return t=rDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rDe(e){var t=nDe(e,"string");return y1(t)=="symbol"?t:t+""}function nDe(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GM={curveBasisClosed:t_e,curveBasisOpen:r_e,curveBasis:e_e,curveBumpX:B5e,curveBumpY:U5e,curveLinearClosed:n_e,curveLinear:U5,curveMonotoneX:a_e,curveMonotoneY:i_e,curveNatural:s_e,curveStep:o_e,curveStepAfter:c_e,curveStepBefore:l_e},jx=function(t){return t.x===+t.x&&t.y===+t.y},Jm=function(t){return t.x},Zm=function(t){return t.y},aDe=function(t,r){if(zr(t))return t;var n="curve".concat($5(t));return(n==="curveMonotone"||n==="curveBump")&&r?GM["".concat(n).concat(r==="vertical"?"Y":"X")]:GM[n]||U5},iDe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=aDe(n,o),f=c?i.filter(function(m){return jx(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return jx(m)}):s,g=f.map(function(m,v){return HM(HM({},m),{},{base:p[v]})});return o==="vertical"?h=Sx().y(Zm).x1(Jm).x0(function(m){return m.base.x}):h=Sx().x(Jm).y1(Zm).y0(function(m){return m.base.y}),h.defined(jx).curve(u),h(g)}return o==="vertical"&&Ft(s)?h=Sx().y(Zm).x1(Jm).x0(s):Ft(s)?h=Sx().x(Jm).y1(Zm).y0(s):h=xW().x(Jm).y(Zm),h.defined(jx).curve(u),h(f)},E3=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?iDe(t):a;return Fe.createElement("path",T3({},rn(t,!1),Nb(t),{className:mn("recharts-curve",r),d:s,ref:i}))},bG={exports:{}},sDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oDe=sDe,lDe=oDe;function wG(){}function _G(){}_G.resetWarningCache=wG;var cDe=function(){function e(n,a,i,s,o,l){if(l!==lDe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_G,resetWarningCache:wG};return r.PropTypes=r,r};bG.exports=cDe();var uDe=bG.exports;const Sn=On(uDe);var fDe=Object.getOwnPropertyNames,dDe=Object.getOwnPropertySymbols,hDe=Object.prototype.hasOwnProperty;function KM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Dx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function YM(e){return fDe(e).concat(dDe(e))}var pDe=Object.hasOwn||function(e,t){return hDe.call(e,t)};function Nh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var mDe="__v",gDe="__o",vDe="_owner",XM=Object.getOwnPropertyDescriptor,QM=Object.keys;function yDe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function xDe(e,t){return Nh(e.getTime(),t.getTime())}function bDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function wDe(e,t){return e===t}function JM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var _De=Nh;function SDe(e,t,r){var n=QM(e),a=n.length;if(QM(t).length!==a)return!1;for(;a-- >0;)if(!SG(e,t,r,n[a]))return!1;return!0}function eg(e,t,r){var n=YM(e),a=n.length;if(YM(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!SG(e,t,r,i)||(s=XM(e,i),o=XM(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function ADe(e,t){return Nh(e.valueOf(),t.valueOf())}function TDe(e,t){return e.source===t.source&&e.flags===t.flags}function ZM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function EDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function NDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function SG(e,t,r,n){return(n===vDe||n===gDe||n===mDe)&&(e.$$typeof||t.$$typeof)?!0:pDe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var kDe="[object Arguments]",CDe="[object Boolean]",PDe="[object Date]",ODe="[object Error]",IDe="[object Map]",jDe="[object Number]",DDe="[object Object]",LDe="[object RegExp]",MDe="[object Set]",RDe="[object String]",FDe="[object URL]",$De=Array.isArray,eR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tR=Object.assign,BDe=Object.prototype.toString.call.bind(Object.prototype.toString);function UDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,v);if($De(g))return t(g,m,v);if(eR!=null&&eR(g))return f(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return c(g,m,v);if(b===Map)return i(g,m,v);if(b===Set)return u(g,m,v);var w=BDe(g);return w===PDe?r(g,m,v):w===LDe?c(g,m,v):w===IDe?i(g,m,v):w===MDe?u(g,m,v):w===DDe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):w===FDe?h(g,m,v):w===ODe?n(g,m,v):w===kDe?o(g,m,v):w===CDe||w===jDe||w===RDe?l(g,m,v):!1}}function VDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?eg:yDe,areDatesEqual:xDe,areErrorsEqual:bDe,areFunctionsEqual:wDe,areMapsEqual:n?KM(JM,eg):JM,areNumbersEqual:_De,areObjectsEqual:n?eg:SDe,arePrimitiveWrappersEqual:ADe,areRegExpsEqual:TDe,areSetsEqual:n?KM(ZM,eg):ZM,areTypedArraysEqual:n?eg:EDe,areUrlsEqual:NDe};if(r&&(a=tR({},a,r(a))),t){var i=Dx(a.areArraysEqual),s=Dx(a.areMapsEqual),o=Dx(a.areObjectsEqual),l=Dx(a.areSetsEqual);a=tR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function zDe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function qDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var WDe=Jf();Jf({strict:!0});Jf({circular:!0});Jf({circular:!0,strict:!0});Jf({createInternalComparator:function(){return Nh}});Jf({strict:!0,createInternalComparator:function(){return Nh}});Jf({circular:!0,createInternalComparator:function(){return Nh}});Jf({circular:!0,createInternalComparator:function(){return Nh},strict:!0});function Jf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=VDe(e),l=UDe(o),c=n?n(l):zDe(l);return qDe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function HDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function rR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):HDe(a)};requestAnimationFrame(n)}function N3(e){"@babel/helpers - typeof";return N3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N3(e)}function GDe(e){return QDe(e)||XDe(e)||YDe(e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YDe(e,t){if(e){if(typeof e=="string")return nR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(e,t)}}function nR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QDe(e){if(Array.isArray(e))return e}function JDe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=GDe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){rR(a.bind(null,c),l);return}a(l),rR(a.bind(null,c));return}N3(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return t=ZDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZDe(e){var t=e8e(e,"string");return x1(t)==="symbol"?t:String(t)}function e8e(e,t){if(x1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},r8e=function(t){return t},n8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Zg=function(t,r){return Object.keys(r).reduce(function(n,a){return iR(iR({},n),{},AG({},a,t(a,r[a])))},{})},sR=function(t,r,n){return t.map(function(a){return"".concat(n8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function a8e(e,t){return o8e(e)||s8e(e,t)||TG(e,t)||i8e()}function i8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function o8e(e){if(Array.isArray(e))return e}function l8e(e){return f8e(e)||u8e(e)||TG(e)||c8e()}function c8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TG(e,t){if(e){if(typeof e=="string")return k3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k3(e,t)}}function u8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f8e(e){if(Array.isArray(e))return k3(e)}function k3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iw=1e-4,EG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},NG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},oR=function(t,r){return function(n){var a=EG(t,r);return NG(a,n)}},d8e=function(t,r){return function(n){var a=EG(t,r),i=[].concat(l8e(a.map(function(s,o){return s*o}).slice(1)),[0]);return NG(i,n)}},lR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=a8e(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=oR(a,s),h=oR(i,o),p=d8e(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,D=0;D<8;++D){var P=f(w)-b,j=p(w);if(Math.abs(P-b)<iw||j<iw)return h(w);w=g(w-P/j)}return h(w)};return m.isStepper=!1,m},h8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<iw&&Math.abs(m)<iw?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},p8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lR(a);case"spring":return h8e();default:if(a.split("(")[0]==="cubic-bezier")return lR(a)}return typeof a=="function"?a:null};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function cR(e){return v8e(e)||g8e(e)||kG(e)||m8e()}function m8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v8e(e){if(Array.isArray(e))return P3(e)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){C3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C3(e,t,r){return t=y8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8e(e){var t=x8e(e,"string");return b1(t)==="symbol"?t:String(t)}function x8e(e,t){if(b1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8e(e,t){return S8e(e)||_8e(e,t)||kG(e,t)||w8e()}function w8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(e,t){if(e){if(typeof e=="string")return P3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P3(e,t)}}function P3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function S8e(e){if(Array.isArray(e))return e}var sw=function(t,r,n){return t+(r-t)*n},O3=function(t){var r=t.from,n=t.to;return r!==n},A8e=function e(t,r,n){var a=Zg(function(i,s){if(O3(s)){var o=t(s.from,s.to,s.velocity),l=b8e(o,2),c=l[0],u=l[1];return di(di({},s),{},{from:c,velocity:u})}return s},r);return n<1?Zg(function(i,s){return O3(s)?di(di({},s),{},{velocity:sw(s.velocity,a[i].velocity,n),from:sw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const T8e=function(e,t,r,n,a){var i=t8e(e,t),s=i.reduce(function(v,y){return di(di({},v),{},C3({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return di(di({},v),{},C3({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Zg(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(O3).length},g=function(y){c||(c=y);var b=y-c,w=b/r.dt;o=A8e(r,o,w),a(di(di(di({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var b=(y-u)/n,w=Zg(function(P,j){return sw.apply(void 0,cR(j).concat([r(b)]))},s);if(a(di(di(di({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var D=Zg(function(P,j){return sw.apply(void 0,cR(j).concat([r(1)]))},s);a(di(di(di({},e),t),D))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}var E8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function N8e(e,t){if(e==null)return{};var r=k8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dA(e){return I8e(e)||O8e(e)||P8e(e)||C8e()}function C8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P8e(e,t){if(e){if(typeof e=="string")return I3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I3(e,t)}}function O8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I8e(e){if(Array.isArray(e))return I3(e)}function I3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){xg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xg(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CG(n.key),n)}}function L8e(e,t,r){return t&&D8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CG(e){var t=M8e(e,"string");return Np(t)==="symbol"?t:String(t)}function M8e(e,t){if(Np(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j3(e,t)}function j3(e,t){return j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j3(e,t)}function F8e(e){var t=$8e();return function(){var n=ow(e),a;if(t){var i=ow(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return D3(this,a)}}function D3(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3(e)}function L3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}var tu=function(e){R8e(r,e);var t=F8e(r);function r(n,a){var i;j8e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(L3(i)),i.changeStyle=i.changeStyle.bind(L3(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),D3(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},D3(i);i.state={style:l?xg({},l,c):c}}else i.state={style:{}};return i}return L8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?xg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(WDe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var v={style:l?xg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(tl(tl({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=T8e(s,o,p8e(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var b=v.duration,w=v.easing,D=w===void 0?"ease":w,P=v.style,j=v.properties,T=v.onAnimationEnd,_=y>0?s[y-1]:v,S=j||Object.keys(P);if(typeof D=="function"||D==="spring")return[].concat(dA(m),[i.runJSAnimation.bind(i,{from:_.style,to:P,duration:b,easing:D}),b]);var I=sR(S,b,D),E=tl(tl(tl({},_.style),P),{},{transition:I});return[].concat(dA(m),[E,b,T]).filter(r8e)};return this.manager.start([l].concat(dA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=JDe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?xg({},o,l):l,v=sR(Object.keys(m),s,c);g.start([u,i,tl(tl({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=N8e(a,E8e),c=B.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=B.cloneElement(p,tl(tl({},l),{},{style:tl(tl({},v),u),className:y}));return b};return c===1?f(B.Children.only(i)):Fe.createElement("div",null,B.Children.map(i,function(h){return f(h)}))}}]),r}(B.PureComponent);tu.displayName="Animate";tu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};tu.propTypes={from:Sn.oneOfType([Sn.object,Sn.string]),to:Sn.oneOfType([Sn.object,Sn.string]),attributeName:Sn.string,duration:Sn.number,begin:Sn.number,easing:Sn.oneOfType([Sn.string,Sn.func]),steps:Sn.arrayOf(Sn.shape({duration:Sn.number.isRequired,style:Sn.object.isRequired,easing:Sn.oneOfType([Sn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Sn.func]),properties:Sn.arrayOf("string"),onAnimationEnd:Sn.func})),children:Sn.oneOfType([Sn.node,Sn.func]),isActive:Sn.bool,canBegin:Sn.bool,onAnimationEnd:Sn.func,shouldReAnimate:Sn.bool,onAnimationStart:Sn.func,onAnimationReStart:Sn.func};function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function B8e(e,t){return q8e(e)||z8e(e,t)||V8e(e,t)||U8e()}function U8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8e(e,t){if(e){if(typeof e=="string")return dR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dR(e,t)}}function dR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function q8e(e){if(Array.isArray(e))return e}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){W8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W8e(e,t,r){return t=H8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8e(e){var t=G8e(e,"string");return w1(t)=="symbol"?t:t+""}function G8e(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},K8e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},Y8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hP=function(t){var r=pR(pR({},Y8e),t),n=B.useRef(),a=B.useState(-1),i=B8e(a,2),s=i[0],o=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&o(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=mn("recharts-rectangle",p);return b?Fe.createElement(tu,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(D){var P=D.width,j=D.height,T=D.x,_=D.y;return Fe.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Fe.createElement("path",lw({},rn(r,!0),{className:w,d:mR(T,_,P,j,h),ref:n})))}):Fe.createElement("path",lw({},rn(r,!0),{className:w,d:mR(l,c,u,f,h)}))};function M3(){return M3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M3.apply(this,arguments)}var pP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=mn("recharts-dot",i);return r===+r&&n===+n&&a===+a?Fe.createElement("circle",M3({},rn(t,!1),Nb(t),{className:s,cx:r,cy:n,r:a})):null};function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}var X8e=["x","y","top","left","width","height","className"];function R3(){return R3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R3.apply(this,arguments)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){J8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J8e(e,t,r){return t=Z8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8e(e){var t=eLe(e,"string");return _1(t)=="symbol"?t:t+""}function eLe(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tLe(e,t){if(e==null)return{};var r=rLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nLe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},aLe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=tLe(t,X8e),v=Q8e({x:n,y:i,top:o,left:c,width:f,height:p},m);return!Ft(n)||!Ft(i)||!Ft(f)||!Ft(p)||!Ft(o)||!Ft(c)?null:Fe.createElement("path",R3({},rn(v,!0),{className:mn("recharts-cross",g),d:nLe(n,i,f,p,o,c)}))},iLe=zW,sLe=iLe(Object.getPrototypeOf,Object),oLe=sLe,lLe=lu,cLe=oLe,uLe=cu,fLe="[object Object]",dLe=Function.prototype,hLe=Object.prototype,PG=dLe.toString,pLe=hLe.hasOwnProperty,mLe=PG.call(Object);function gLe(e){if(!uLe(e)||lLe(e)!=fLe)return!1;var t=cLe(e);if(t===null)return!0;var r=pLe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&PG.call(r)==mLe}var vLe=gLe;const yLe=On(vLe);var xLe=lu,bLe=cu,wLe="[object Boolean]";function _Le(e){return e===!0||e===!1||bLe(e)&&xLe(e)==wLe}var SLe=_Le;const ALe=On(SLe);function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function TLe(e,t){return CLe(e)||kLe(e,t)||NLe(e,t)||ELe()}function ELe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NLe(e,t){if(e){if(typeof e=="string")return vR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(e,t)}}function vR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function CLe(e){if(Array.isArray(e))return e}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){PLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PLe(e,t,r){return t=OLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OLe(e){var t=ILe(e,"string");return S1(t)=="symbol"?t:t+""}function ILe(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},jLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DLe=function(t){var r=xR(xR({},jLe),t),n=B.useRef(),a=B.useState(-1),i=TLe(a,2),s=i[0],o=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=mn("recharts-trapezoid",p);return y?Fe.createElement(tu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(w){var D=w.upperWidth,P=w.lowerWidth,j=w.height,T=w.x,_=w.y;return Fe.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Fe.createElement("path",cw({},rn(r,!0),{className:b,d:bR(T,_,D,P,j),ref:n})))}):Fe.createElement("g",null,Fe.createElement("path",cw({},rn(r,!0),{className:b,d:bR(l,c,u,f,h)})))},LLe=["option","shapeType","propTransformer","activeClassName","isActive"];function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function MLe(e,t){if(e==null)return{};var r=RLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){FLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FLe(e,t,r){return t=$Le(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Le(e){var t=BLe(e,"string");return A1(t)=="symbol"?t:t+""}function BLe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ULe(e,t){return uw(uw({},t),e)}function VLe(e,t){return e==="symbols"}function _R(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Fe.createElement(hP,r);case"trapezoid":return Fe.createElement(DLe,r);case"sector":return Fe.createElement(xG,r);case"symbols":if(VLe(t))return Fe.createElement(IC,r);break;default:return null}}function zLe(e){return B.isValidElement(e)?e.props:e}function qLe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ULe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=MLe(e,LLe),c;if(B.isValidElement(t))c=B.cloneElement(t,uw(uw({},l),zLe(t)));else if(zr(t))c=t(l);else if(yLe(t)&&!ALe(t)){var u=a(t,l);c=Fe.createElement(_R,{shapeType:r,elementProps:u})}else{var f=l;c=Fe.createElement(_R,{shapeType:r,elementProps:f})}return o?Fe.createElement(Aa,{className:s},c):c}function n_(e,t){return t!=null&&"trapezoids"in e.props}function a_(e,t){return t!=null&&"sectors"in e.props}function T1(e,t){return t!=null&&"points"in e.props}function WLe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function HLe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function GLe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function KLe(e,t){var r;return n_(e,t)?r=WLe:a_(e,t)?r=HLe:T1(e,t)&&(r=GLe),r}function YLe(e,t){var r;return n_(e,t)?r="trapezoids":a_(e,t)?r="sectors":T1(e,t)&&(r="points"),r}function XLe(e,t){if(n_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(a_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return T1(e,t)?t.payload:{}}function QLe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=YLe(r,t),i=XLe(r,t),s=n.filter(function(l,c){var u=e_(i,l),f=r.props[a].filter(function(g){var m=KLe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var JLe=Math.ceil,ZLe=Math.max;function eMe(e,t,r,n){for(var a=-1,i=ZLe(JLe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var tMe=eMe,rMe=lH,SR=1/0,nMe=17976931348623157e292;function aMe(e){if(!e)return e===0?e:0;if(e=rMe(e),e===SR||e===-SR){var t=e<0?-1:1;return t*nMe}return e===e?e:0}var OG=aMe,iMe=tMe,sMe=W5,hA=OG;function oMe(e){return function(t,r,n){return n&&typeof n!="number"&&sMe(t,r,n)&&(r=n=void 0),t=hA(t),r===void 0?(r=t,t=0):r=hA(r),n=n===void 0?t<r?1:-1:hA(n),iMe(t,r,n,e)}}var lMe=oMe,cMe=lMe,uMe=cMe(),fMe=uMe;const fw=On(fMe);function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){IG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IG(e,t,r){return t=dMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dMe(e){var t=hMe(e,"string");return E1(t)=="symbol"?t:t+""}function hMe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pMe=["Webkit","Moz","O","ms"],mMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=pMe.reduce(function(i,s){return TR(TR({},i),{},IG({},s+n,r))},{});return a[t]=r,a};function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){Ks(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DG(n.key),n)}}function vMe(e,t,r){return t&&NR(e.prototype,t),r&&NR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yMe(e,t,r){return t=hw(t),xMe(e,jG()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function xMe(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bMe(e)}function bMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function wMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F3(e,t)}function F3(e,t){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F3(e,t)}function Ks(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=_Me(e,"string");return kp(t)=="symbol"?t:t+""}function _Me(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Qg().domain(fw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},kR=function(t){return t.changedTouches&&!!t.changedTouches.length},Cp=function(e){function t(r){var n;return gMe(this,t),n=yMe(this,t,[r]),Ks(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ks(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ks(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Ks(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ks(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ks(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ks(n,"handleSlideDragStart",function(a){var i=kR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wMe(t,e),vMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=so(i[n],o,n);return zr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=kR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),y[s]=c+b;var w=this.getIndex(y),D=w.startIndex,P=w.endIndex,j=function(){var _=v.length-1;return s==="startX"&&(o>l?D%m===0:P%m===0)||o<l&&P===_||s==="endX"&&(o>l?P%m===0:D%m===0)||o>l&&P===_};this.setState(Ks(Ks({},s,c+b),"brushMoveStartX",n.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Ks({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Fe.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=B.Children.only(c);return f?Fe.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=pA(pA({},rn(this.props,!1)),{},{x:y,y:c,width:u,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Fe.createElement(Aa,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return Fe.createElement(Aa,{className:"recharts-brush-texts"},Fe.createElement(Vb,dw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),Fe.createElement(Vb,dw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ft(o)||!Ft(l)||!Ft(c)||!Ft(u)||c<=0||u<=0)return null;var w=mn("recharts-brush",i),D=Fe.Children.count(s)===1,P=mMe("userSelect","none");return Fe.createElement(Aa,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Fe.createElement(Fe.Fragment,null,Fe.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Fe.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Fe.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Fe.isValidElement(n)?i=Fe.cloneElement(n,a):zr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return pA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?SMe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(B.PureComponent);Ks(Cp,"displayName","Brush");Ks(Cp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AMe=$C;function TMe(e,t){var r;return AMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var EMe=TMe,NMe=LW,kMe=Yf,CMe=EMe,PMe=Rs,OMe=W5;function IMe(e,t,r){var n=PMe(e)?NMe:CMe;return r&&OMe(e,t,r)&&(t=void 0),n(e,kMe(t))}var jMe=IMe;const DMe=On(jMe);var tc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},CR=nH;function LMe(e,t,r){t=="__proto__"&&CR?CR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var MMe=LMe,RMe=MMe,FMe=tH,$Me=Yf;function BMe(e,t){var r={};return t=$Me(t),FMe(e,function(n,a,i){RMe(r,a,t(n,a,i))}),r}var UMe=BMe;const VMe=On(UMe);function zMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var qMe=zMe,WMe=$C;function HMe(e,t){var r=!0;return WMe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var GMe=HMe,KMe=qMe,YMe=GMe,XMe=Yf,QMe=Rs,JMe=W5;function ZMe(e,t,r){var n=QMe(e)?KMe:YMe;return r&&JMe(e,t,r)&&(t=void 0),n(e,XMe(t))}var eRe=ZMe;const LG=On(eRe);var tRe=["x","y"];function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$3.apply(this,arguments)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){rRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rRe(e,t,r){return t=nRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nRe(e){var t=aRe(e,"string");return N1(t)=="symbol"?t:t+""}function aRe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iRe(e,t){if(e==null)return{};var r=sRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oRe(e,t){var r=e.x,n=e.y,a=iRe(e,tRe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return tg(tg(tg(tg(tg({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function OR(e){return Fe.createElement(qLe,$3({shapeType:"rectangle",propTransformer:oRe,activeClassName:"recharts-active-bar"},e))}var lRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||uh(),r)}},cRe=["value","background"],MG;function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function uRe(e,t){if(e==null)return{};var r=fRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){of(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FG(n.key),n)}}function hRe(e,t,r){return t&&jR(e.prototype,t),r&&jR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pRe(e,t,r){return t=mw(t),mRe(e,RG()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function mRe(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(e)}function gRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RG=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function vRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B3(e,t)}function B3(e,t){return B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B3(e,t)}function of(e,t,r){return t=FG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=yRe(e,"string");return Pp(t)=="symbol"?t:t+""}function yRe(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var my=function(e){function t(){var r;dRe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pRe(this,t,[].concat(a)),of(r,"state",{isAnimationFinished:!1}),of(r,"id",ly("recharts-bar-")),of(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),of(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return vRe(t,e),hRe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=rn(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:s,m=Ia(Ia(Ia({},u),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Fe.createElement(Aa,pw({className:"recharts-bar-rectangle"},kb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Fe.createElement(OR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Fe.createElement(tu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var b=h&&h[y];if(b){var w=fl(b.x,v.x),D=fl(b.y,v.y),P=fl(b.width,v.width),j=fl(b.height,v.height);return Ia(Ia({},v),{},{x:w(g),y:D(g),width:P(g),height:j(g)})}if(s==="horizontal"){var T=fl(0,v.height),_=T(g);return Ia(Ia({},v),{},{y:v.y+v.height-_,height:_})}var S=fl(0,v.width),I=S(g);return Ia(Ia({},v),{},{width:I})});return Fe.createElement(Aa,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!e_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=rn(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=uRe(c,cRe);if(!f)return null;var p=Ia(Ia(Ia(Ia(Ia({},h),{},{fill:"#eee"},f),l),kb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Fe.createElement(OR,pw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Do(u,py);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:so(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Fe.createElement(Aa,g,f.map(function(m){return Fe.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=mn("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,D=b||w,P=en(m)?this.id:m;return Fe.createElement(Aa,{className:y},b||w?Fe.createElement("defs",null,Fe.createElement("clipPath",{id:"clipPath-".concat(P)},Fe.createElement("rect",{x:b?c:c-f/2,y:w?u:u-h/2,width:b?f:f*2,height:w?h:h*2}))):null,Fe.createElement(Aa,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,P),(!p||v)&&Tf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(B.PureComponent);MG=my;of(my,"displayName","Bar");of(my,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});of(my,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=KIe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ia(Ia({},m),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,D=g==="horizontal"?s:i,P=c?D.scale.domain():null,j=rje({numericAxis:D}),T=Do(b,uH),_=f.map(function(S,I){var E,N,O,U,Y,K;c?E=YIe(c[u+I],P):(E=so(S,y),Array.isArray(E)||(E=[j,E]));var J=lRe(w,MG.defaultProps.minPointSize)(E[1],I);if(g==="horizontal"){var q,V=[s.scale(E[0]),s.scale(E[1])],ee=V[0],Z=V[1];N=IM({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:S,index:I}),O=(q=Z??ee)!==null&&q!==void 0?q:void 0,U=p.size;var k=ee-Z;if(Y=Number.isNaN(k)?0:k,K={x:N,y:s.y,width:U,height:s.height},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var R=gl(Y||J)*(Math.abs(J)-Math.abs(Y));O-=R,Y+=R}}else{var z=[i.scale(E[0]),i.scale(E[1])],G=z[0],Q=z[1];if(N=G,O=IM({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:S,index:I}),U=Q-G,Y=p.size,K={x:i.x,y:O,width:i.width,height:Y},Math.abs(J)>0&&Math.abs(U)<Math.abs(J)){var oe=gl(U||J)*(Math.abs(J)-Math.abs(U));U+=oe}}return Ia(Ia(Ia({},S),{},{x:N,y:O,width:U,height:Y,value:c?E:E[1],payload:S,background:K},T&&T[I]&&T[I].props),{},{tooltipPayload:[gG(r,S)],tooltipPosition:{x:N+U/2,y:O+Y/2}})});return Ia({data:_,layout:g},h)});function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function xRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$G(n.key),n)}}function bRe(e,t,r){return t&&DR(e.prototype,t),r&&DR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=wRe(e,"string");return k1(t)=="symbol"?t:t+""}function wRe(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Re=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Xs(c,my);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,D=m.mirror,P=m.reversed,j="".concat(v).concat(D?"Mirror":""),T,_,S,I,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],O=1/0,U=m.categoricalDomain.sort(kwe);if(U.forEach(function(z,G){G>0&&(O=Math.min((z||0)-(U[G-1]||0),O))}),Number.isFinite(O)){var Y=O/N,K=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=Y*K/2),m.padding==="no-gap"){var J=lh(t.barCategoryGap,Y*K),q=Y*K/2;T=q-J-(q-J)/K*J}}}a==="xAxis"?_=[n.left+(w.left||0)+(T||0),n.left+n.width-(w.right||0)-(T||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(T||0),n.top+n.height-(w.bottom||0)-(T||0)]:_=m.range,P&&(_=[_[1],_[0]]);var V=HIe(m,i,h),ee=V.scale,Z=V.realScaleType;ee.domain(y).range(_),GIe(ee);var k=tje(ee,ll(ll({},m),{},{realScaleType:Z}));a==="xAxis"?(E=v==="top"&&!D||v==="bottom"&&D,S=n.left,I=f[j]-E*m.height):a==="yAxis"&&(E=v==="left"&&!D||v==="right"&&D,S=f[j]-E*m.width,I=n.top);var R=ll(ll(ll({},m),k),{},{realScaleType:Z,x:S,y:I,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=rw(R,k),!m.hide&&a==="xAxis"?f[j]+=(E?-1:1)*R.height:m.hide||(f[j]+=(E?-1:1)*R.width),ll(ll({},p),{},i_({},g,R))},{})},BG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},SRe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return BG({x:r,y:n},{x:a,y:i})},UG=function(){function e(t){xRe(this,e),this.scale=t}return bRe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();i_(UG,"EPS",1e-4);var mP=function(t){var r=Object.keys(t).reduce(function(n,a){return ll(ll({},n),{},i_({},a,UG.create(t[a])))},{});return ll(ll({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return VMe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return LG(a,function(i,s){return r[s].isInRange(i)})}})};function ARe(e){return(e%180+180)%180}var TRe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ARe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},ERe=Yf,NRe=cy,kRe=z5;function CRe(e){return function(t,r,n){var a=Object(t);if(!NRe(t)){var i=ERe(r);t=kRe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var PRe=CRe,ORe=OG;function IRe(e){var t=ORe(e),r=t%1;return t===t?r?t-r:t:0}var jRe=IRe,DRe=YW,LRe=Yf,MRe=jRe,RRe=Math.max;function FRe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:MRe(r);return a<0&&(a=RRe(n+a,0)),DRe(e,LRe(t),a)}var $Re=FRe,BRe=PRe,URe=$Re,VRe=BRe(URe),zRe=VRe;const qRe=On(zRe);var WRe=Pbe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gP=B.createContext(void 0),vP=B.createContext(void 0),VG=B.createContext(void 0),zG=B.createContext({}),qG=B.createContext(void 0),WG=B.createContext(0),HG=B.createContext(0),MR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=WRe(i);return Fe.createElement(gP.Provider,{value:n},Fe.createElement(vP.Provider,{value:a},Fe.createElement(zG.Provider,{value:i},Fe.createElement(VG.Provider,{value:u},Fe.createElement(qG.Provider,{value:s},Fe.createElement(WG.Provider,{value:c},Fe.createElement(HG.Provider,{value:l},o)))))))},HRe=function(){return B.useContext(qG)},GG=function(t){var r=B.useContext(gP);r==null&&uh();var n=r[t];return n==null&&uh(),n},GRe=function(){var t=B.useContext(gP);return Qu(t)},KRe=function(){var t=B.useContext(vP),r=qRe(t,function(n){return LG(n.domain,Number.isFinite)});return r||Qu(t)},KG=function(t){var r=B.useContext(vP);r==null&&uh();var n=r[t];return n==null&&uh(),n},YRe=function(){var t=B.useContext(VG);return t},XRe=function(){return B.useContext(zG)},yP=function(){return B.useContext(HG)},xP=function(){return B.useContext(WG)};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function QRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function ZRe(e,t,r){return t&&JRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e7e(e,t,r){return t=gw(t),t7e(e,YG()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function t7e(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7e(e)}function r7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function n7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U3(e,t)}function U3(e,t){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U3(e,t)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){bP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bP(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=a7e(e,"string");return Op(t)=="symbol"?t:t+""}function a7e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i7e(e,t){return c7e(e)||l7e(e,t)||o7e(e,t)||s7e()}function s7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7e(e,t){if(e){if(typeof e=="string")return $R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $R(e,t)}}function $R(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function c7e(e){if(Array.isArray(e))return e}function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}var u7e=function(t,r){var n;return Fe.isValidElement(t)?n=Fe.cloneElement(t,r):zr(t)?n=t(r):n=Fe.createElement("line",V3({},r,{className:"recharts-reference-line-line"})),n},f7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(tc(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=t.x.apply(y,{position:s});if(tc(c,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?w.reverse():w}if(a){var D=c.segment,P=D.map(function(j){return t.apply(j,{position:s})});return tc(c,"discard")&&DMe(P,function(j){return!t.isInRange(j)})?null:P}return null};function d7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=HRe(),u=GG(a),f=KG(i),h=YRe();if(!c||!h)return null;Rc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=mP({x:u.scale,y:f.scale}),g=qa(t),m=qa(r),v=n&&n.length===2,y=f7e(p,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=i7e(y,2),w=b[0],D=w.x,P=w.y,j=b[1],T=j.x,_=j.y,S=tc(e,"hidden")?"url(#".concat(c,")"):void 0,I=FR(FR({clipPath:S},rn(e,!0)),{},{x1:D,y1:P,x2:T,y2:_});return Fe.createElement(Aa,{className:mn("recharts-reference-line",o)},u7e(s,I),Vi.renderCallByParent(e,SRe({x1:D,y1:P,x2:T,y2:_})))}var wP=function(e){function t(){return QRe(this,t),e7e(this,t,arguments)}return n7e(t,e),ZRe(t,[{key:"render",value:function(){return Fe.createElement(d7e,this.props)}}])}(Fe.Component);bP(wP,"displayName","ReferenceLine");bP(wP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function z3(){return z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z3.apply(this,arguments)}function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JG(n.key),n)}}function m7e(e,t,r){return t&&p7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g7e(e,t,r){return t=vw(t),v7e(e,QG()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function v7e(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y7e(e)}function y7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function x7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q3(e,t)}function q3(e,t){return q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q3(e,t)}function s_(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=b7e(e,"string");return Ip(t)=="symbol"?t:t+""}function b7e(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=mP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return tc(t,"discard")&&!s.isInRange(o)?null:o},o_=function(e){function t(){return h7e(this,t),g7e(this,t,arguments)}return x7e(t,e),m7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=qa(a),u=qa(i);if(Rc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=w7e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=tc(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=UR(UR({clipPath:y},rn(this.props,!0)),{},{cx:h,cy:p});return Fe.createElement(Aa,{className:mn("recharts-reference-dot",v)},t.renderDot(m,b),Vi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(Fe.Component);s_(o_,"displayName","ReferenceDot");s_(o_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});s_(o_,"renderDot",function(e,t){var r;return Fe.isValidElement(e)?r=Fe.cloneElement(e,t):zr(e)?r=e(t):r=Fe.createElement(pP,z3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function W3(){return W3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W3.apply(this,arguments)}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eK(n.key),n)}}function A7e(e,t,r){return t&&S7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T7e(e,t,r){return t=yw(t),E7e(e,ZG()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function E7e(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N7e(e)}function N7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function k7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H3(e,t)}function H3(e,t){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H3(e,t)}function l_(e,t,r){return t=eK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=C7e(e,"string");return jp(t)=="symbol"?t:t+""}function C7e(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P7e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=mP({x:u.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return tc(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:BG(p,g)},c_=function(e){function t(){return _7e(this,t),T7e(this,t,arguments)}return k7e(t,e),A7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Rc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qa(a),h=qa(i),p=qa(s),g=qa(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=P7e(f,h,p,g,this.props);if(!v&&!m)return null;var y=tc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Fe.createElement(Aa,{className:mn("recharts-reference-area",l)},t.renderRect(m,zR(zR({clipPath:y},rn(this.props,!0)),v)),Vi.renderCallByParent(this.props,v))}}])}(Fe.Component);l_(c_,"displayName","ReferenceArea");l_(c_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});l_(c_,"renderRect",function(e,t){var r;return Fe.isValidElement(e)?r=Fe.cloneElement(e,t):zr(e)?r=e(t):r=Fe.createElement(hP,W3({},t,{className:"recharts-reference-area-rect"})),r});function tK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function O7e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return TRe(n,r)}function I7e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function xw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function j7e(e,t){return tK(e,t+1)}function D7e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:tK(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,w=l===0||xw(e,b,y,u,o);w||(l=0,u=s,c+=1),w&&(u=b+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){L7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L7e(e,t,r){return t=M7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7e(e){var t=R7e(e,"string");return C1(t)=="symbol"?t:t+""}function R7e(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F7e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=Ri(Ri({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Ri(Ri({},p),{},{tickCoord:p.coordinate});var y=xw(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=Ri(Ri({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function $7e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=Ri(Ri({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=xw(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),s[o-1]=Ri(Ri({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var w=s[b],D,P=function(){return D===void 0&&(D=r(w,b)),D};if(b===0){var j=e*(w.coordinate-e*P()/2-l);s[b]=w=Ri(Ri({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else s[b]=w=Ri(Ri({},w),{},{tickCoord:w.coordinate});var T=xw(e,w.tickCoord,P,l,c);T&&(l=w.tickCoord+e*(P()/2+a),s[b]=Ri(Ri({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function _P(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ft(l)||Fc.isSsr)return j7e(a,typeof l=="number"&&Ft(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Xg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,D){var P=zr(c)?c(w.value,D):w.value;return p==="width"?O7e(Xg(P,{fontSize:t,letterSpacing:r}),g,f):Xg(P,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?gl(a[1].coordinate-a[0].coordinate):1,y=I7e(i,v,p);return l==="equidistantPreserveStart"?D7e(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=$7e(v,y,m,a,s,l==="preserveStartEnd"):h=F7e(v,y,m,a,s),h.filter(function(b){return b.isShow}))}var B7e=["viewBox"],U7e=["viewBox"],V7e=["ticks"];function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(this,arguments)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){SP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mA(e,t){if(e==null)return{};var r=z7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nK(n.key),n)}}function W7e(e,t,r){return t&&HR(e.prototype,t),r&&HR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H7e(e,t,r){return t=bw(t),G7e(e,rK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function G7e(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K7e(e)}function K7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function Y7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G3(e,t)}function G3(e,t){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G3(e,t)}function SP(e,t,r){return t=nK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=X7e(e,"string");return Dp(t)=="symbol"?t:t+""}function X7e(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gm=function(e){function t(r){var n;return q7e(this,t),n=H7e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Y7e(t,e),W7e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=mA(n,B7e),o=this.props,l=o.viewBox,c=mA(o,U7e);return!V0(i,l)||!V0(s,c)||!V0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,y,b,w=f?-1:1,D=n.tickSize||u,P=Ft(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!f*l,m=v-w*D,b=m-w*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!f*o,p=g-w*D,y=p-w*h,b=P;break;case"right":m=v=n.coordinate,g=i+ +f*o,p=g+w*D,y=p+w*h,b=P;break;default:p=g=n.coordinate,v=s+ +f*l,m=v+w*D,b=m+w*h,y=P;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=as(as(as({},rn(this.props,!1)),rn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=as(as({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=as(as({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return Fe.createElement("line",k0({},f,{className:mn("recharts-cartesian-axis-line",jo(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=_P(as(as({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=rn(this.props,!1),y=rn(u,!1),b=as(as({},v),{},{fill:"none"},rn(l,!1)),w=p.map(function(D,P){var j=s.getTickLineCoord(D),T=j.line,_=j.tick,S=as(as(as(as({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),_),{},{index:P,payload:D,visibleTicksCount:p.length,tickFormatter:f});return Fe.createElement(Aa,k0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},kb(s.props,D,P)),l&&Fe.createElement("line",k0({},b,T,{className:mn("recharts-cartesian-axis-tick-line",jo(l,"className"))})),u&&t.renderTickItem(u,S,"".concat(zr(f)?f(D.value,P):D.value).concat(h||"")))});return Fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=mA(f,V7e),g=h;return zr(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:Fe.createElement(Aa,{className:mn("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Vi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Fe.isValidElement(n)?s=Fe.cloneElement(n,a):zr(n)?s=n(a):s=Fe.createElement(Vb,k0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(B.Component);SP(gm,"displayName","CartesianAxis");SP(gm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Q7e=["x1","y1","x2","y2","key"],J7e=["offset"];function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){Z7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7e(e,t,r){return t=eFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eFe(e){var t=tFe(e,"string");return fh(t)=="symbol"?t:t+""}function tFe(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(this,arguments)}function KR(e,t){if(e==null)return{};var r=rFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Fe.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aK(e,t){var r;if(Fe.isValidElement(e))r=Fe.cloneElement(e,t);else if(zr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=KR(t,Q7e),c=rn(l,!1);c.offset;var u=KR(c,J7e);r=Fe.createElement("line",Md({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function aFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=zi(zi({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return aK(a,c)});return Fe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function iFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=zi(zi({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return aK(a,c)});return Fe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function sFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return Fe.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Fe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function oFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return Fe.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Fe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return pG(_P(zi(zi(zi({},gm.defaultProps),n),{},{ticks:Oc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},cFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return pG(_P(zi(zi(zi({},gm.defaultProps),n),{},{ticks:Oc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Zh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function W0(e){var t,r,n,a,i,s,o=yP(),l=xP(),c=XRe(),u=zi(zi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Zh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Zh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Zh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Zh.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Zh.verticalFill,x:Ft(e.x)?e.x:c.left,y:Ft(e.y)?e.y:c.top,width:Ft(e.width)?e.width:c.width,height:Ft(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=GRe(),w=KRe();if(!Ft(p)||p<=0||!Ft(g)||g<=0||!Ft(f)||f!==+f||!Ft(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||lFe,P=u.horizontalCoordinatesGenerator||cFe,j=u.horizontalPoints,T=u.verticalPoints;if((!j||!j.length)&&zr(P)){var _=v&&v.length,S=P({yAxis:w?zi(zi({},w),{},{ticks:_?v:w.ticks}):void 0,width:o,height:l,offset:c},_?!0:m);Rc(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fh(S),"]")),Array.isArray(S)&&(j=S)}if((!T||!T.length)&&zr(D)){var I=y&&y.length,E=D({xAxis:b?zi(zi({},b),{},{ticks:I?y:b.ticks}):void 0,width:o,height:l,offset:c},I?!0:m);Rc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fh(E),"]")),Array.isArray(E)&&(T=E)}return Fe.createElement("g",{className:"recharts-cartesian-grid"},Fe.createElement(nFe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Fe.createElement(aFe,Md({},u,{offset:c,horizontalPoints:j,xAxis:b,yAxis:w})),Fe.createElement(iFe,Md({},u,{offset:c,verticalPoints:T,xAxis:b,yAxis:w})),Fe.createElement(sFe,Md({},u,{horizontalPoints:j})),Fe.createElement(oFe,Md({},u,{verticalPoints:T})))}W0.displayName="CartesianGrid";var uFe=["type","layout","connectNulls","ref"],fFe=["key"];function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function YR(e,t){if(e==null)return{};var r=dFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(this,arguments)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0(e){return gFe(e)||mFe(e)||pFe(e)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pFe(e,t){if(e){if(typeof e=="string")return K3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K3(e,t)}}function mFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gFe(e){if(Array.isArray(e))return K3(e)}function K3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function yFe(e,t,r){return t&&QR(e.prototype,t),r&&QR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xFe(e,t,r){return t=ww(t),bFe(e,iK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function bFe(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wFe(e)}function wFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function _Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y3(e,t)}function Y3(e,t){return Y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y3(e,t)}function cl(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=SFe(e,"string");return Lp(t)=="symbol"?t:t+""}function SFe(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yi=function(e){function t(){var r;vFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=xFe(this,t,[].concat(a)),cl(r,"state",{isAnimationFinished:!0,totalLength:0}),cl(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),cl(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(e0(l.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(e0(t.repeat(l,u)),e0(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),cl(r,"id",ly("recharts-line-")),cl(r,"pathRef",function(s){r.mainCurve=s}),cl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _Fe(t,e),yFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Do(u,py);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:so(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Fe.createElement(Aa,p,f.map(function(g){return Fe.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=rn(this.props,!1),h=rn(l,!0),p=c.map(function(m,v){var y=Gs(Gs(Gs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Fe.createElement(Aa,ev({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=YR(o,uFe),h=Gs(Gs(Gs({},rn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Fe.createElement(E3,ev({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,b=y.prevPoints,w=y.totalLength;return Fe.createElement(tu,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var P=D.t;if(b){var j=b.length/o.length,T=o.map(function(N,O){var U=Math.floor(O*j);if(b[U]){var Y=b[U],K=fl(Y.x,N.x),J=fl(Y.y,N.y);return Gs(Gs({},N),{},{x:K(P),y:J(P)})}if(g){var q=fl(m*2,N.x),V=fl(v/2,N.y);return Gs(Gs({},N),{},{x:q(P),y:V(P)})}return Gs(Gs({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(T,n,a)}var _=fl(0,w),S=_(P),I;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});I=i.getStrokeDasharray(S,w,E)}else I=i.generateSimpleStrokeDasharray(w,S);return i.renderCurveStatically(o,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!e_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=mn("recharts-line",l),D=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,j=D||P,T=en(v)?this.id:v,_=(n=rn(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=_.r,I=S===void 0?3:S,E=_.strokeWidth,N=E===void 0?2:E,O=Rwe(s)?s:{},U=O.clipDot,Y=U===void 0?!0:U,K=I*2+N;return Fe.createElement(Aa,{className:w},D||P?Fe.createElement("defs",null,Fe.createElement("clipPath",{id:"clipPath-".concat(T)},Fe.createElement("rect",{x:D?h:h-p/2,y:P?f:f-g/2,width:D?p:p*2,height:P?g:g*2})),!Y&&Fe.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Fe.createElement("rect",{x:h-K/2,y:f-K/2,width:p+K,height:g+K}))):null,!b&&this.renderCurve(j,T),this.renderErrorBar(j,T),(b||s)&&this.renderDots(j,Y,T),(!m||y)&&Tf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(e0(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(e0(s),e0(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Fe.isValidElement(n))i=Fe.cloneElement(n,a);else if(zr(n))i=n(a);else{var s=a.key,o=YR(a,fFe),l=mn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Fe.createElement(pP,ev({key:s},o,{className:l}))}return i}}])}(B.PureComponent);cl(yi,"displayName","Line");cl(yi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cl(yi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var g=so(h,s);return u==="horizontal"?{x:OM({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:en(g)?null:n.scale(g),value:g,payload:h}:{x:en(g)?null:r.scale(g),y:OM({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Gs({points:f,layout:u},c)});function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function AFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cK(n.key),n)}}function EFe(e,t,r){return t&&TFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NFe(e,t,r){return t=_w(t),kFe(e,oK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function kFe(e,t){if(t&&(Mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CFe(e)}function CFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function PFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X3(e,t)}function X3(e,t){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X3(e,t)}function lK(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=OFe(e,"string");return Mp(t)=="symbol"?t:t+""}function OFe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q3.apply(this,arguments)}function IFe(e){var t=e.xAxisId,r=yP(),n=xP(),a=GG(t);return a==null?null:Fe.createElement(gm,Q3({},a,{className:mn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Oc(s,!0)}}))}var Ef=function(e){function t(){return AFe(this,t),NFe(this,t,arguments)}return PFe(t,e),EFe(t,[{key:"render",value:function(){return Fe.createElement(IFe,this.props)}}])}(Fe.Component);lK(Ef,"displayName","XAxis");lK(Ef,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function jFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dK(n.key),n)}}function LFe(e,t,r){return t&&DFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MFe(e,t,r){return t=Sw(t),RFe(e,uK()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function RFe(e,t){if(t&&(Rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FFe(e)}function FFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function $Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J3(e,t)}function J3(e,t){return J3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J3(e,t)}function fK(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=BFe(e,"string");return Rp(t)=="symbol"?t:t+""}function BFe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3(){return Z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z3.apply(this,arguments)}var UFe=function(t){var r=t.yAxisId,n=yP(),a=xP(),i=KG(r);return i==null?null:Fe.createElement(gm,Z3({},i,{className:mn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Oc(o,!0)}}))},Nf=function(e){function t(){return jFe(this,t),MFe(this,t,arguments)}return $Fe(t,e),LFe(t,[{key:"render",value:function(){return Fe.createElement(UFe,this.props)}}])}(Fe.Component);fK(Nf,"displayName","YAxis");fK(Nf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JR(e){return WFe(e)||qFe(e)||zFe(e)||VFe()}function VFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zFe(e,t){if(e){if(typeof e=="string")return eE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eE(e,t)}}function qFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WFe(e){if(Array.isArray(e))return eE(e)}function eE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tE=function(t,r,n,a,i){var s=Do(t,wP),o=Do(t,o_),l=[].concat(JR(s),JR(o)),c=Do(t,c_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&tc(v.props,"extendDomain")&&Ft(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&tc(v.props,"extendDomain")&&Ft(v.props[p])&&Ft(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Ft(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},hK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var D=v.length,P;for(w=0;w<D;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!b)for(P=1,b=new Array(y-1);P<y;P++)b[P-1]=arguments[P];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(hK);var HFe=hK.exports;const GFe=On(HFe);var gA=new GFe,vA="recharts.syncMouseEvents";function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function KFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function XFe(e,t,r){return t&&YFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yA(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=QFe(e,"string");return P1(t)=="symbol"?t:t+""}function QFe(e,t){if(P1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JFe=function(){function e(){KFe(this,e),yA(this,"activeIndex",0),yA(this,"coordinateList",[]),yA(this,"layout","horizontal")}return XFe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function ZFe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ft(n)&&Ft(a))return!0}return!1}function e$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=bi(t,r,n,a),o=bi(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function t$e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=bi(o,l,c,f),p=bi(o,l,u,f);n=h.x,a=h.y,i=p.x,s=p.y}else return mK(t);return[{x:n,y:a},{x:i,y:s}]}function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){r$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r$e(e,t,r){return t=n$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$e(e){var t=a$e(e,"string");return O1(t)=="symbol"?t:t+""}function a$e(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=E3;if(h==="ScatterChart")g=s,m=aLe;else if(h==="BarChart")g=e$e(f,s,l,u),m=hP;else if(f==="radial"){var v=mK(s),y=v.cx,b=v.cy,w=v.radius,D=v.startAngle,P=v.endAngle;g={cx:y,cy:b,startAngle:D,endAngle:P,innerRadius:w,outerRadius:w},m=xG}else g={points:t$e(f,s,l)},m=E3;var j=Lx(Lx(Lx(Lx({stroke:"#ccc",pointerEvents:"none"},l),g),rn(p,!1)),{},{payload:o,payloadIndex:c,className:mn("recharts-tooltip-cursor",p.className)});return B.isValidElement(p)?B.cloneElement(p,j):B.createElement(m,j)}var s$e=["item"],o$e=["children","className","width","height","style","compact","title","desc"];function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(this,arguments)}function e7(e,t){return u$e(e)||c$e(e,t)||vK(e,t)||l$e()}function l$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function u$e(e){if(Array.isArray(e))return e}function t7(e,t){if(e==null)return{};var r=f$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yK(n.key),n)}}function p$e(e,t,r){return t&&h$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m$e(e,t,r){return t=Aw(t),g$e(e,gK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function g$e(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v$e(e)}function v$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function y$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rE(e,t)}function rE(e,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rE(e,t)}function $p(e){return w$e(e)||b$e(e)||vK(e)||x$e()}function x$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(e,t){if(e){if(typeof e=="string")return nE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(e,t)}}function b$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w$e(e){if(Array.isArray(e))return nE(e)}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r7(Object(r),!0).forEach(function(n){mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mr(e,t,r){return t=yK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=_$e(e,"string");return Fp(t)=="symbol"?t:t+""}function _$e(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S$e={xAxis:["bottom","top"],yAxis:["left","right"]},A$e={width:"100%",height:"100%"},xK={x:0,y:0};function Mx(e){return e}var T$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},E$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return dt(dt(dt({},a),bi(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return dt(dt(dt({},a),bi(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return xK},u_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat($p(o),$p(c)):o},[]);return s.length>0?s:t&&t.length&&Ft(a)&&Ft(i)?t.slice(a,i+1):[]};function bK(e){return e==="number"?[0,"auto"]:void 0}var aE=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=u_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Eb(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat($p(l),[gG(c,h)]):l},[])},n7=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=T$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=BIe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=aE(t,r,u,f),p=E$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},N$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=hG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?dt(dt({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,D=y.allowDataOverflow,P=y.allowDuplicatedCategory,j=y.scale,T=y.ticks,_=y.includeHidden,S=y[s];if(g[S])return g;var I=u_(t.data,{graphicalItems:a.filter(function(k){var R,z=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s];return z===S}),dataStartIndex:l,dataEndIndex:c}),E=I.length,N,O,U;ZFe(y.domain,D,b)&&(N=w3(y.domain,null,D),p&&(b==="number"||j!=="auto")&&(U=Jg(I,w,"category")));var Y=bK(b);if(!N||N.length===0){var K,J=(K=y.domain)!==null&&K!==void 0?K:Y;if(w){if(N=Jg(I,w,b),b==="category"&&p){var q=Nwe(N);P&&q?(O=N,N=fw(0,E)):P||(N=LM(J,N,m).reduce(function(k,R){return k.indexOf(R)>=0?k:[].concat($p(k),[R])},[]))}else if(b==="category")P?N=N.filter(function(k){return k!==""&&!en(k)}):N=LM(J,N,m).reduce(function(k,R){return k.indexOf(R)>=0||R===""||en(R)?k:[].concat($p(k),[R])},[]);else if(b==="number"){var V=WIe(I,a.filter(function(k){var R,z,G=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s],Q="hide"in k.props?k.props.hide:(z=k.type.defaultProps)===null||z===void 0?void 0:z.hide;return G===S&&(_||!Q)}),w,i,u);V&&(N=V)}p&&(b==="number"||j!=="auto")&&(U=Jg(I,w,"category"))}else p?N=fw(0,E):o&&o[S]&&o[S].hasStack&&b==="number"?N=h==="expand"?[0,1]:mG(o[S].stackGroups,l,c):N=dG(I,a.filter(function(k){var R=s in k.props?k.props[s]:k.type.defaultProps[s],z="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return R===S&&(_||!z)}),b,u,!0);if(b==="number")N=tE(f,N,S,i,T),J&&(N=w3(J,N,D));else if(b==="category"&&J){var ee=J,Z=N.every(function(k){return ee.indexOf(k)>=0});Z&&(N=ee)}}return dt(dt({},g),{},mr({},S,dt(dt({},y),{},{axisType:i,domain:N,categoricalDomain:U,duplicateDomain:O,originalDomain:(v=y.domain)!==null&&v!==void 0?v:Y,isCategorical:p,layout:u})))},{})},k$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=u_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=hG(u,i),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?dt(dt({},y.type.defaultProps),y.props):y.props,w=b[s],D=bK("number");if(!v[w]){m++;var P;return g?P=fw(0,p):o&&o[w]&&o[w].hasStack?(P=mG(o[w].stackGroups,l,c),P=tE(f,P,w,i)):(P=w3(D,dG(h,n.filter(function(j){var T,_,S=s in j.props?j.props[s]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[s],I="hide"in j.props?j.props.hide:(_=j.type.defaultProps)===null||_===void 0?void 0:_.hide;return S===w&&!I}),"number",u),a.defaultProps.allowDataOverflow),P=tE(f,P,w,i)),dt(dt({},v),{},mr({},w,dt(dt({axisType:i},a.defaultProps),{},{hide:!0,orientation:jo(S$e,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:D,isCategorical:g,layout:u})))}return v},{})},C$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=Do(u,i),p={};return h&&h.length?p=N$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=k$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},P$e=function(t){var r=Qu(t),n=Oc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:BC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rw(r,n)}},a7=function(t){var r=t.children,n=t.defaultShowTooltip,a=Xs(r,Cp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},O$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mc(r&&r.type);return n&&n.indexOf("Bar")>=0})},i7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Xs(f,Cp),g=Xs(f,wl),m=Object.keys(l).reduce(function(P,j){var T=l[j],_=T.orientation;return!T.mirror&&!T.hide?dt(dt({},P),{},mr({},_,P[_]+T.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,j){var T=s[j],_=T.orientation;return!T.mirror&&!T.hide?dt(dt({},P),{},mr({},_,jo(P,"".concat(_))+T.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=dt(dt({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||Cp.defaultProps.height),g&&r&&(y=zIe(y,a,n,r));var w=c-y.left-y.right,D=u-y.top-y.bottom;return dt(dt({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(D,0)})},j$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},D$e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,D=b.stackGroups,P=b.offset,j=b.updateId,T=b.dataStartIndex,_=b.dataEndIndex,S=y.barSize,I=y.layout,E=y.barGap,N=y.barCategoryGap,O=y.maxBarSize,U=i7(I),Y=U.numericAxisName,K=U.cateAxisName,J=O$e(w),q=[];return w.forEach(function(V,ee){var Z=u_(y.data,{graphicalItems:[V],dataStartIndex:T,dataEndIndex:_}),k=V.type.defaultProps!==void 0?dt(dt({},V.type.defaultProps),V.props):V.props,R=k.dataKey,z=k.maxBarSize,G=k["".concat(Y,"Id")],Q=k["".concat(K,"Id")],oe={},fe=l.reduce(function(be,je){var Ee=b["".concat(je.axisType,"Map")],qe=k["".concat(je.axisType,"Id")];Ee&&Ee[qe]||je.axisType==="zAxis"||uh();var at=Ee[qe];return dt(dt({},be),{},mr(mr({},je.axisType,at),"".concat(je.axisType,"Ticks"),Oc(at)))},oe),ne=fe[K],he=fe["".concat(K,"Ticks")],ye=D&&D[G]&&D[G].hasStack&&nje(V,D[G].stackGroups),W=Mc(V.type).indexOf("Bar")>=0,ke=rw(ne,he),Ce=[],Te=J&&UIe({barSize:S,stackGroups:D,totalSize:j$e(fe,K)});if(W){var ie,$e,Ke=en(z)?O:z,Se=(ie=($e=rw(ne,he,!0))!==null&&$e!==void 0?$e:Ke)!==null&&ie!==void 0?ie:0;Ce=VIe({barGap:E,barCategoryGap:N,bandSize:Se!==ke?Se:ke,sizeList:Te[Q],maxBarSize:Ke}),Se!==ke&&(Ce=Ce.map(function(be){return dt(dt({},be),{},{position:dt(dt({},be.position),{},{offset:be.position.offset-Se/2})})}))}var Re=V&&V.type&&V.type.getComposedData;Re&&q.push({props:dt(dt({},Re(dt(dt({},fe),{},{displayedData:Z,props:y,dataKey:R,item:V,bandSize:ke,barPosition:Ce,offset:P,stackedData:ye,layout:I,dataStartIndex:T,dataEndIndex:_}))),{},mr(mr(mr({key:V.key||"item-".concat(ee)},Y,fe[Y]),K,fe[K]),"animationId",j)),childIndex:Bwe(V,y.children),item:V})}),q},p=function(y,b){var w=y.props,D=y.dataStartIndex,P=y.dataEndIndex,j=y.updateId;if(!k8({props:w}))return null;var T=w.children,_=w.layout,S=w.stackOffset,I=w.data,E=w.reverseStackOrder,N=i7(_),O=N.numericAxisName,U=N.cateAxisName,Y=Do(T,n),K=eje(I,Y,"".concat(O,"Id"),"".concat(U,"Id"),S,E),J=l.reduce(function(k,R){var z="".concat(R.axisType,"Map");return dt(dt({},k),{},mr({},z,C$e(w,dt(dt({},R),{},{graphicalItems:Y,stackGroups:R.axisType===O&&K,dataStartIndex:D,dataEndIndex:P}))))},{}),q=I$e(dt(dt({},J),{},{props:w,graphicalItems:Y}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(k){J[k]=u(w,J[k],q,k.replace("Map",""),r)});var V=J["".concat(U,"Map")],ee=P$e(V),Z=h(w,dt(dt({},J),{},{dataStartIndex:D,dataEndIndex:P,updateId:j,graphicalItems:Y,stackGroups:K,offset:q}));return dt(dt({formattedGraphicalItems:Z,graphicalItems:Y,offset:q,stackGroups:K},ee),J)},g=function(v){function y(b){var w,D,P;return d$e(this,y),P=m$e(this,y,[b]),mr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mr(P,"accessibilityManager",new JFe),mr(P,"handleLegendBBoxUpdate",function(j){if(j){var T=P.state,_=T.dataStartIndex,S=T.dataEndIndex,I=T.updateId;P.setState(dt({legendBBox:j},p({props:P.props,dataStartIndex:_,dataEndIndex:S,updateId:I},dt(dt({},P.state),{},{legendBBox:j}))))}}),mr(P,"handleReceiveSyncEvent",function(j,T,_){if(P.props.syncId===j){if(_===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(T)}}),mr(P,"handleBrushChange",function(j){var T=j.startIndex,_=j.endIndex;if(T!==P.state.dataStartIndex||_!==P.state.dataEndIndex){var S=P.state.updateId;P.setState(function(){return dt({dataStartIndex:T,dataEndIndex:_},p({props:P.props,dataStartIndex:T,dataEndIndex:_,updateId:S},P.state))}),P.triggerSyncEvent({dataStartIndex:T,dataEndIndex:_})}}),mr(P,"handleMouseEnter",function(j){var T=P.getMouseInfo(j);if(T){var _=dt(dt({},T),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseEnter;zr(S)&&S(_,j)}}),mr(P,"triggeredAfterMouseMove",function(j){var T=P.getMouseInfo(j),_=T?dt(dt({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseMove;zr(S)&&S(_,j)}),mr(P,"handleItemMouseEnter",function(j){P.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),mr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),mr(P,"handleMouseMove",function(j){j.persist(),P.throttleTriggeredAfterMouseMove(j)}),mr(P,"handleMouseLeave",function(j){P.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var _=P.props.onMouseLeave;zr(_)&&_(T,j)}),mr(P,"handleOuterEvent",function(j){var T=$we(j),_=jo(P.props,"".concat(T));if(T&&zr(_)){var S,I;/.*touch.*/i.test(T)?I=P.getMouseInfo(j.changedTouches[0]):I=P.getMouseInfo(j),_((S=I)!==null&&S!==void 0?S:{},j)}}),mr(P,"handleClick",function(j){var T=P.getMouseInfo(j);if(T){var _=dt(dt({},T),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onClick;zr(S)&&S(_,j)}}),mr(P,"handleMouseDown",function(j){var T=P.props.onMouseDown;if(zr(T)){var _=P.getMouseInfo(j);T(_,j)}}),mr(P,"handleMouseUp",function(j){var T=P.props.onMouseUp;if(zr(T)){var _=P.getMouseInfo(j);T(_,j)}}),mr(P,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),mr(P,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseDown(j.changedTouches[0])}),mr(P,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseUp(j.changedTouches[0])}),mr(P,"handleDoubleClick",function(j){var T=P.props.onDoubleClick;if(zr(T)){var _=P.getMouseInfo(j);T(_,j)}}),mr(P,"handleContextMenu",function(j){var T=P.props.onContextMenu;if(zr(T)){var _=P.getMouseInfo(j);T(_,j)}}),mr(P,"triggerSyncEvent",function(j){P.props.syncId!==void 0&&gA.emit(vA,P.props.syncId,j,P.eventEmitterSymbol)}),mr(P,"applySyncEvent",function(j){var T=P.props,_=T.layout,S=T.syncMethod,I=P.state.updateId,E=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)P.setState(dt({dataStartIndex:E,dataEndIndex:N},p({props:P.props,dataStartIndex:E,dataEndIndex:N,updateId:I},P.state)));else if(j.activeTooltipIndex!==void 0){var O=j.chartX,U=j.chartY,Y=j.activeTooltipIndex,K=P.state,J=K.offset,q=K.tooltipTicks;if(!J)return;if(typeof S=="function")Y=S(q,j);else if(S==="value"){Y=-1;for(var V=0;V<q.length;V++)if(q[V].value===j.activeLabel){Y=V;break}}var ee=dt(dt({},J),{},{x:J.left,y:J.top}),Z=Math.min(O,ee.x+ee.width),k=Math.min(U,ee.y+ee.height),R=q[Y]&&q[Y].value,z=aE(P.state,P.props.data,Y),G=q[Y]?{x:_==="horizontal"?q[Y].coordinate:Z,y:_==="horizontal"?k:q[Y].coordinate}:xK;P.setState(dt(dt({},j),{},{activeLabel:R,activeCoordinate:G,activePayload:z,activeTooltipIndex:Y}))}else P.setState(j)}),mr(P,"renderCursor",function(j){var T,_=P.state,S=_.isTooltipActive,I=_.activeCoordinate,E=_.activePayload,N=_.offset,O=_.activeTooltipIndex,U=_.tooltipAxisBandSize,Y=P.getTooltipEventType(),K=(T=j.props.active)!==null&&T!==void 0?T:S,J=P.props.layout,q=j.key||"_recharts-cursor";return Fe.createElement(i$e,{key:q,activeCoordinate:I,activePayload:E,activeTooltipIndex:O,chartName:r,element:j,isActive:K,layout:J,offset:N,tooltipAxisBandSize:U,tooltipEventType:Y})}),mr(P,"renderPolarAxis",function(j,T,_){var S=jo(j,"type.axisType"),I=jo(P.state,"".concat(S,"Map")),E=j.type.defaultProps,N=E!==void 0?dt(dt({},E),j.props):j.props,O=I&&I[N["".concat(S,"Id")]];return B.cloneElement(j,dt(dt({},O),{},{className:mn(S,O.className),key:j.key||"".concat(T,"-").concat(_),ticks:Oc(O,!0)}))}),mr(P,"renderPolarGrid",function(j){var T=j.props,_=T.radialLines,S=T.polarAngles,I=T.polarRadius,E=P.state,N=E.radiusAxisMap,O=E.angleAxisMap,U=Qu(N),Y=Qu(O),K=Y.cx,J=Y.cy,q=Y.innerRadius,V=Y.outerRadius;return B.cloneElement(j,{polarAngles:Array.isArray(S)?S:Oc(Y,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(I)?I:Oc(U,!0).map(function(ee){return ee.coordinate}),cx:K,cy:J,innerRadius:q,outerRadius:V,key:j.key||"polar-grid",radialLines:_})}),mr(P,"renderLegend",function(){var j=P.state.formattedGraphicalItems,T=P.props,_=T.children,S=T.width,I=T.height,E=P.props.margin||{},N=S-(E.left||0)-(E.right||0),O=uG({children:_,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!O)return null;var U=O.item,Y=t7(O,s$e);return B.cloneElement(U,dt(dt({},Y),{},{chartWidth:S,chartHeight:I,margin:E,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),mr(P,"renderTooltip",function(){var j,T=P.props,_=T.children,S=T.accessibilityLayer,I=Xs(_,Ns);if(!I)return null;var E=P.state,N=E.isTooltipActive,O=E.activeCoordinate,U=E.activePayload,Y=E.activeLabel,K=E.offset,J=(j=I.props.active)!==null&&j!==void 0?j:N;return B.cloneElement(I,{viewBox:dt(dt({},K),{},{x:K.left,y:K.top}),active:J,label:Y,payload:J?U:[],coordinate:O,accessibilityLayer:S})}),mr(P,"renderBrush",function(j){var T=P.props,_=T.margin,S=T.data,I=P.state,E=I.offset,N=I.dataStartIndex,O=I.dataEndIndex,U=I.updateId;return B.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Ox(P.handleBrushChange,j.props.onChange),data:S,x:Ft(j.props.x)?j.props.x:E.left,y:Ft(j.props.y)?j.props.y:E.top+E.height+E.brushBottom-(_.bottom||0),width:Ft(j.props.width)?j.props.width:E.width,startIndex:N,endIndex:O,updateId:"brush-".concat(U)})}),mr(P,"renderReferenceElement",function(j,T,_){if(!j)return null;var S=P,I=S.clipPathId,E=P.state,N=E.xAxisMap,O=E.yAxisMap,U=E.offset,Y=j.type.defaultProps||{},K=j.props,J=K.xAxisId,q=J===void 0?Y.xAxisId:J,V=K.yAxisId,ee=V===void 0?Y.yAxisId:V;return B.cloneElement(j,{key:j.key||"".concat(T,"-").concat(_),xAxis:N[q],yAxis:O[ee],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:I})}),mr(P,"renderActivePoints",function(j){var T=j.item,_=j.activePoint,S=j.basePoint,I=j.childIndex,E=j.isRange,N=[],O=T.props.key,U=T.item.type.defaultProps!==void 0?dt(dt({},T.item.type.defaultProps),T.item.props):T.item.props,Y=U.activeDot,K=U.dataKey,J=dt(dt({index:I,dataKey:K,cx:_.x,cy:_.y,r:4,fill:dP(T.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},rn(Y,!1)),Nb(Y));return N.push(y.renderActiveDot(Y,J,"".concat(O,"-activePoint-").concat(I))),S?N.push(y.renderActiveDot(Y,dt(dt({},J),{},{cx:S.x,cy:S.y}),"".concat(O,"-basePoint-").concat(I))):E&&N.push(null),N}),mr(P,"renderGraphicChild",function(j,T,_){var S=P.filterFormatItem(j,T,_);if(!S)return null;var I=P.getTooltipEventType(),E=P.state,N=E.isTooltipActive,O=E.tooltipAxis,U=E.activeTooltipIndex,Y=E.activeLabel,K=P.props.children,J=Xs(K,Ns),q=S.props,V=q.points,ee=q.isRange,Z=q.baseLine,k=S.item.type.defaultProps!==void 0?dt(dt({},S.item.type.defaultProps),S.item.props):S.item.props,R=k.activeDot,z=k.hide,G=k.activeBar,Q=k.activeShape,oe=!!(!z&&N&&J&&(R||G||Q)),fe={};I!=="axis"&&J&&J.props.trigger==="click"?fe={onClick:Ox(P.handleItemMouseEnter,j.props.onClick)}:I!=="axis"&&(fe={onMouseLeave:Ox(P.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Ox(P.handleItemMouseEnter,j.props.onMouseEnter)});var ne=B.cloneElement(j,dt(dt({},S.props),fe));function he(je){return typeof O.dataKey=="function"?O.dataKey(je.payload):null}if(oe)if(U>=0){var ye,W;if(O.dataKey&&!O.allowDuplicatedCategory){var ke=typeof O.dataKey=="function"?he:"payload.".concat(O.dataKey.toString());ye=Eb(V,ke,Y),W=ee&&Z&&Eb(Z,ke,Y)}else ye=V==null?void 0:V[U],W=ee&&Z&&Z[U];if(Q||G){var Ce=j.props.activeIndex!==void 0?j.props.activeIndex:U;return[B.cloneElement(j,dt(dt(dt({},S.props),fe),{},{activeIndex:Ce})),null,null]}if(!en(ye))return[ne].concat($p(P.renderActivePoints({item:S,activePoint:ye,basePoint:W,childIndex:U,isRange:ee})))}else{var Te,ie=(Te=P.getItemByXY(P.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ne},$e=ie.graphicalItem,Ke=$e.item,Se=Ke===void 0?j:Ke,Re=$e.childIndex,be=dt(dt(dt({},S.props),fe),{},{activeIndex:Re});return[B.cloneElement(Se,be),null,null]}return ee?[ne,null,null]:[ne,null]}),mr(P,"renderCustomized",function(j,T,_){return B.cloneElement(j,dt(dt({key:"recharts-customized-".concat(_)},P.props),P.state))}),mr(P,"renderMap",{CartesianGrid:{handler:Mx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Mx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Mx},YAxis:{handler:Mx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:ly("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=cH(P.triggeredAfterMouseMove,(D=b.throttleDelay)!==null&&D!==void 0?D:1e3/60),P.state={},P}return y$e(y,v),p$e(y,[{key:"componentDidMount",value:function(){var w,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,D=w.children,P=w.data,j=w.height,T=w.layout,_=Xs(D,Ns);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,E=aE(this.state,P,S,I),N=this.state.tooltipTicks[S].coordinate,O=(this.state.offset.top+j)/2,U=T==="horizontal",Y=U?{x:N,y:O}:{y:N,x:O},K=this.state.formattedGraphicalItems.find(function(q){var V=q.item;return V.type.name==="Scatter"});K&&(Y=dt(dt({},Y),K.props.points[S].tooltipPosition),E=K.props.points[S].tooltipPayload);var J={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:I,activePayload:E,activeCoordinate:Y};this.setState(J),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var P,j;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){MT([Xs(w.children,Ns)],[Xs(this.props.children,Ns)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Xs(this.props.children,Ns);if(w&&typeof w.props.shared=="boolean"){var D=w.props.shared?"axis":"item";return o.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var D=this.container,P=D.getBoundingClientRect(),j=dCe(P),T={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},_=P.width/D.offsetWidth||1,S=this.inRange(T.chartX,T.chartY,_);if(!S)return null;var I=this.state,E=I.xAxisMap,N=I.yAxisMap,O=this.getTooltipEventType(),U=n7(this.state,this.props.data,this.props.layout,S);if(O!=="axis"&&E&&N){var Y=Qu(E).scale,K=Qu(N).scale,J=Y&&Y.invert?Y.invert(T.chartX):null,q=K&&K.invert?K.invert(T.chartY):null;return dt(dt({},T),{},{xValue:J,yValue:q},U)}return U?dt(dt({},T),U):null}},{key:"inRange",value:function(w,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=w/P,_=D/P;if(j==="horizontal"||j==="vertical"){var S=this.state.offset,I=T>=S.left&&T<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return I?{x:T,y:_}:null}var E=this.state,N=E.angleAxisMap,O=E.radiusAxisMap;if(N&&O){var U=Qu(N);return FM({x:T,y:_},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,D=this.getTooltipEventType(),P=Xs(w,Ns),j={};P&&D==="axis"&&(P.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Nb(this.props,this.handleOuterEvent);return dt(dt({},T),j)}},{key:"addListener",value:function(){gA.on(vA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gA.removeListener(vA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,D,P){for(var j=this.state.formattedGraphicalItems,T=0,_=j.length;T<_;T++){var S=j[T];if(S.item===w||S.props.key===w.key||D===Mc(S.item.type)&&P===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,D=this.state.offset,P=D.left,j=D.top,T=D.height,_=D.width;return Fe.createElement("defs",null,Fe.createElement("clipPath",{id:w},Fe.createElement("rect",{x:P,y:j,height:T,width:_})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(D,P){var j=e7(P,2),T=j[0],_=j[1];return dt(dt({},D),{},mr({},T,_.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(D,P){var j=e7(P,2),T=j[0],_=j[1];return dt(dt({},D),{},mr({},T,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(w){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(w){var D=this.state,P=D.formattedGraphicalItems,j=D.activeItem;if(P&&P.length)for(var T=0,_=P.length;T<_;T++){var S=P[T],I=S.props,E=S.item,N=E.type.defaultProps!==void 0?dt(dt({},E.type.defaultProps),E.props):E.props,O=Mc(E.type);if(O==="Bar"){var U=(I.data||[]).find(function(q){return K8e(w,q)});if(U)return{graphicalItem:S,payload:U}}else if(O==="RadialBar"){var Y=(I.data||[]).find(function(q){return FM(w,q)});if(Y)return{graphicalItem:S,payload:Y}}else if(n_(S,j)||a_(S,j)||T1(S,j)){var K=QLe({graphicalItem:S,activeTooltipItem:j,itemData:N.data}),J=N.activeIndex===void 0?K:N.activeIndex;return{graphicalItem:dt(dt({},S),{},{childIndex:J}),payload:T1(S,j)?N.data[K]:S.props.data[K]}}}return null}},{key:"render",value:function(){var w=this;if(!k8(this))return null;var D=this.props,P=D.children,j=D.className,T=D.width,_=D.height,S=D.style,I=D.compact,E=D.title,N=D.desc,O=t7(D,o$e),U=rn(O,!1);if(I)return Fe.createElement(MR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Fe.createElement(FT,C0({},U,{width:T,height:_,title:E,desc:N}),this.renderClipPath(),P8(P,this.renderMap)));if(this.props.accessibilityLayer){var Y,K;U.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,U.role=(K=this.props.role)!==null&&K!==void 0?K:"application",U.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},U.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Fe.createElement(MR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Fe.createElement("div",C0({className:mn("recharts-wrapper",j),style:dt({position:"relative",cursor:"default",width:T,height:_},S)},J,{ref:function(V){w.container=V}}),Fe.createElement(FT,C0({},U,{width:T,height:_,title:E,desc:N,style:A$e}),this.renderClipPath(),P8(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);mr(g,"displayName",r),mr(g,"defaultProps",dt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mr(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,D=v.children,P=v.width,j=v.height,T=v.layout,_=v.stackOffset,S=v.margin,I=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var N=a7(v);return dt(dt(dt({},N),{},{updateId:0},p(dt(dt({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:j,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(b!==y.prevDataKey||w!==y.prevData||P!==y.prevWidth||j!==y.prevHeight||T!==y.prevLayout||_!==y.prevStackOffset||!V0(S,y.prevMargin)){var O=a7(v),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},Y=dt(dt({},n7(y,w,T)),{},{updateId:y.updateId+1}),K=dt(dt(dt({},O),U),Y);return dt(dt(dt({},K),p(dt({props:v},K),y)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:j,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(!MT(D,y.prevChildren)){var J,q,V,ee,Z=Xs(D,Cp),k=Z&&(J=(q=Z.props)===null||q===void 0?void 0:q.startIndex)!==null&&J!==void 0?J:I,R=Z&&(V=(ee=Z.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&V!==void 0?V:E,z=k!==I||R!==E,G=!en(w),Q=G&&!z?y.updateId:y.updateId+1;return dt(dt({updateId:Q},p(dt(dt({props:v},y),{},{updateId:Q,dataStartIndex:k,dataEndIndex:R}),y)),{},{prevChildren:D,dataStartIndex:k,dataEndIndex:R})}return null}),mr(g,"renderActiveDot",function(v,y,b){var w;return B.isValidElement(v)?w=B.cloneElement(v,y):zr(v)?w=v(y):w=Fe.createElement(pP,y),Fe.createElement(Aa,{className:"recharts-active-dot",key:b},w)});var m=B.forwardRef(function(y,b){return Fe.createElement(g,C0({},y,{ref:b}))});return m.displayName=g.displayName,m},tv=D$e({chartName:"LineChart",GraphicalChild:yi,axisComponents:[{axisType:"xAxis",AxisComp:Ef},{axisType:"yAxis",AxisComp:Nf}],formatAxisMap:_Re});const L$e=()=>{const{isDarkMode:e}=cn(),{showToast:t}=sc(),{user:r}=Ta(),[n,a]=B.useState(!1),[i,s]=B.useState([]),[o,l]=B.useState(!1),[c,u]=B.useState([]),[f,h]=B.useState([]),[p,g]=B.useState(null),[m,v]=B.useState(null),[y,b]=B.useState(null),[w,D]=B.useState(!1),[P,j]=B.useState(!1),[T,_]=B.useState(!1),[S,I]=B.useState(!1),[E,N]=B.useState(""),[O,U]=B.useState(!1),[Y,K]=B.useState(null),[J,q]=B.useState(null),[V,ee]=B.useState(0),[Z,k]=B.useState(new Set),[R,z]=B.useState(!1),[G,Q]=B.useState(!1),[oe,fe]=B.useState(0),[ne,he]=B.useState(new Set),[ye,W]=B.useState(new Set),[ke,Ce]=B.useState(!1),[Te,ie]=B.useState(""),[$e,Ke]=B.useState([]),[Se,Re]=B.useState(!1),[be,je]=B.useState("name"),[Ee,qe]=B.useState(!1),[at,nt]=B.useState(null),[ft,Et]=B.useState(null),[kt,_t]=B.useState("all"),[ct,er]=B.useState(""),[Wt,Gr]=B.useState([]),[ur,Wr]=B.useState(()=>{const de=new Date;return de.setHours(0,0,0,0),de}),[Ie,Me]=B.useState(""),[Ye,ht]=B.useState(()=>{const de=new Date,Pe=new Date;return Pe.setDate(Pe.getDate()-6),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),{start:Pe,end:de}}),[Dt,Gt]=B.useState({dailyStats:[],userStats:[]}),[Mt,Ot]=B.useState(!1),Zt=de=>{const Pe=new Date,wt=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate());return de.createdAt<wt&&de.status==="completed"},xr=de=>{if(!at&&!ft)return!0;const Pe=de.createdAt;return at&&ft?Pe>=at&&Pe<=ft:at?Pe>=at:ft?Pe<=ft:!0},br=()=>{const de=new Set(i.map(Pe=>Pe.createdBy));return Array.from(de).sort()},Ne=de=>kt==="all"?!0:de.createdBy===kt,ot=de=>{if(!ct.trim())return!0;const Pe=ct.toLowerCase().trim();return de.jobId.toLowerCase().includes(Pe)?!0:de.items.some(wt=>wt.name&&wt.name.toLowerCase().includes(Pe))},We=i.filter(de=>P?Zt(de)&&xr(de)&&Ne(de)&&ot(de):w?de.status==="completed"&&!Zt(de):T?de.status==="picking":de.status!=="completed"),rr=()=>{const de=i.filter(wt=>wt.status==="picking"),Pe=Wt.filter(wt=>wt.isActive);return{databaseJobs:de,uiSessions:Pe,totalCount:de.length+Pe.length}},ir=B.useCallback(async()=>{try{const de=new Date(Date.now()-36e5),Pe=or(gt(Xe,"liveJobSessions"),sr("startTime","<",de)),wt=await lr(Pe),Ut=[];if(wt.forEach(ut=>{(ut.data().items||[]).length===0&&Ut.push(ut.id)}),Ut.length>0){const ut=Ut.map(pt=>Os(Ar(Xe,"liveJobSessions",pt)));await Promise.all(ut)}}catch(de){console.log("error",de)}},[]),jr=B.useCallback(async de=>{Ot(!0);try{const Pe=new Date(de);Pe.setHours(0,0,0,0);const wt=new Date(de);wt.setHours(23,59,59,999);const Ut=i.filter(Kt=>{const nr=Kt.createdAt;return nr>=Pe&&nr<=wt}),ut=[];for(let Kt=6;Kt>=0;Kt--){const nr=new Date(de);nr.setDate(nr.getDate()-Kt);const Dr=new Date(nr);Dr.setHours(0,0,0,0);const Fr=new Date(nr);Fr.setHours(23,59,59,999);const Xr=i.filter(un=>{const ta=un.createdAt;return ta>=Dr&&ta<=Fr}),Vr=Xr.reduce((un,ta)=>un+ta.items.reduce((es,Er)=>es+Er.quantity,0),0),ea=Xr.filter(un=>un.status==="completed").length;ut.push({date:nr.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:Vr,jobsCompleted:ea})}const pt=[],Lt=new Set(Ut.map(Kt=>Kt.createdBy));for(const Kt of Lt){const nr=Ut.filter(un=>un.createdBy===Kt),Dr=nr.filter(un=>un.status==="completed"),Fr=nr.reduce((un,ta)=>un+ta.items.reduce((es,Er)=>es+Er.quantity,0),0);let Xr=0,Vr=0;Dr.forEach(un=>{un.pickingTime&&un.pickingTime>0&&(Xr+=un.pickingTime,Vr++)});const ea=Vr>0?Xr/Vr:0;pt.push({name:Kt,jobsCreated:nr.length,jobsCompleted:Dr.length,itemsPicked:Fr,avgTimePerJob:ea,totalTime:Xr})}pt.sort((Kt,nr)=>nr.itemsPicked-Kt.itemsPicked),Gt({dailyStats:ut,userStats:pt})}catch(Pe){console.log("error",Pe),t("Failed to generate reports","error")}finally{Ot(!1)}},[i,t]),wr=async de=>{if(r)try{await pr(gt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:de,time:new Date().toISOString()})}catch(Pe){console.log("error",Pe)}},Ur=de=>{if(de<60)return`${Math.round(de)}s`;if(de<3600){const Pe=Math.floor(de/60),wt=Math.round(de%60);return`${Pe}m ${wt}s`}else{const Pe=Math.floor(de/3600),wt=Math.floor(de%3600/60),Ut=Math.round(de%60);return`${Pe}h ${wt}m ${Ut}s`}},ae=B.useCallback(async()=>{a(!0),D(!1),j(!1),_(!1),I(!1),nt(null),Et(null),_t("all"),he(new Set);try{const de=or(gt(Xe,"jobs"),La("createdAt","desc")),wt=(await lr(de)).docs.map(ut=>{const pt=ut.data();return{id:ut.id,jobId:pt.jobId||"",createdAt:pt.createdAt instanceof ar?pt.createdAt.toDate():new Date,createdBy:pt.createdBy||"Unknown",status:pt.status||"picking",picker:pt.picker??null,packer:pt.packer??null,items:Array.isArray(pt.items)?pt.items.map(Lt=>({barcode:String(Lt.barcode||""),name:Lt.name??null,asin:Lt.asin??null,quantity:Number(Lt.quantity||1),verified:!!Lt.verified,locationCode:Lt.locationCode,shelfNumber:Lt.shelfNumber,reason:Lt.reason||"Unknown",storeName:Lt.storeName||"Unknown"})):[],pickingTime:pt.pickingTime||0}}),Ut=await Promise.all(wt.map(async ut=>{const pt=await Promise.all(ut.items.map(async Lt=>{if(Lt.name)return Lt;try{const Kt=or(gt(Xe,"inventory"),sr("barcode","==",Lt.barcode)),nr=await lr(Kt);if(!nr.empty){const Dr=nr.docs[0].data();return{...Lt,name:Dr.name||null}}}catch(Kt){console.log("error",Kt),console.log("")}return Lt}));return{...ut,items:pt}}));s(Ut)}catch(de){console.log("error",de),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);B.useEffect(()=>{ae()},[ae]),B.useEffect(()=>{ir()},[ir]),B.useEffect(()=>{const de=setInterval(()=>{ir()},18e5);return()=>clearInterval(de)},[ir]),B.useEffect(()=>()=>{he(new Set),W(new Set)},[i]),B.useEffect(()=>{P&&!at&&!ft&&Je()},[P,at,ft]),B.useEffect(()=>{if(!T)return;ir();const de=Rae(gt(Xe,"liveJobSessions"),Pe=>{const wt=[];Pe.forEach(Ut=>{const ut=Ut.data();ut.isActive&&wt.push({id:Ut.id,createdBy:ut.createdBy||"Unknown",startTime:ut.startTime instanceof ar?ut.startTime.toDate():new Date(ut.startTime),items:ut.items||[],isActive:ut.isActive||!1})}),Gr(wt)},Pe=>{console.log("error",Pe)});return()=>de()},[T,ir]),B.useEffect(()=>{S&&jr(ur)},[S,ur,jr]),B.useEffect(()=>{S&&Wr(new Date(Ye.end))},[Ye,S]),B.useEffect(()=>{if(S&&i.length>0){const de=Array.from(new Set(i.map(Pe=>Pe.createdBy)));de.length>0&&!Ie&&Me(de[0])}},[S,i,Ie]),B.useEffect(()=>{S&&console.log("reportDate",ur)},[ur,S]);const we=de=>{W(Pe=>{const wt=new Set(Pe);return wt.has(de)?wt.delete(de):wt.add(de),wt})};B.useEffect(()=>{let de;return J&&(de=setInterval(()=>{const wt=Math.floor((new Date().getTime()-J.getTime())/1e3);ee(wt),wt>=600&&!G&&(Q(!0),fe(600)),wt>=600&&wt%300===0&&wt!==oe&&(Q(!0),fe(wt))},1e3)),()=>{de&&clearInterval(de)}},[J,G,oe]);const me=de=>{const Pe=Math.floor(de/60),wt=de%60;return`${Pe}:${wt.toString().padStart(2,"0")}`},ge=()=>{N(""),u([]),h([]),q(new Date),ee(0),Q(!1),fe(0),l(!0);const de=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;pr(gt(Xe,"liveJobSessions"),{id:de,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:rf(),items:[],isActive:!0,createdAt:rf()}).catch(Pe=>{console.log("error",Pe)})},xe=async de=>{try{const Pe=or(gt(Xe,"inventory"),sr("barcode","==",de));return!(await lr(Pe)).empty}catch(Pe){return console.log("error",Pe),!1}},_e=async de=>{de.preventDefault();const Pe=E.trim();if(!Pe)return;if(!await xe(Pe)){t(`Product with barcode ${Pe} does not exist`,"error");return}try{const Ut=or(gt(Xe,"inventory"),sr("barcode","==",Pe)),ut=await lr(Ut);if(!ut.empty){const pt=ut.docs[0].data(),Lt={...pt,id:ut.docs[0].id,lastUpdated:pt.lastUpdated instanceof ar?pt.lastUpdated.toDate():new Date(pt.lastUpdated)};K(Lt),U(!0),l(!1)}}catch(Ut){console.log("error",Ut),t("Error fetching stock item details","error")}},Ge=async de=>{if(!Y)return;const Pe=Y.quantity-de.quantity;try{const ut=or(gt(Xe,"inventory"),sr("barcode","==",Y.barcode),sr("locationCode","==",String(de.locationCode).trim())),pt=await lr(ut);if(pt.empty){t("Stock item not found for this location","error");return}const Lt=String(de.shelfNumber).trim(),Kt=Number(Lt),nr=pt.docs.filter(Xr=>{const Vr=Xr.data().shelfNumber;return String(Vr).trim()===Lt||!Number.isNaN(Kt)&&Number(Vr)===Kt});if(nr.length===0){t("Stock item not found for this shelf","error");return}const Dr=nr.slice().sort((Xr,Vr)=>(Number(Vr.data().quantity)||0)-(Number(Xr.data().quantity)||0))[0],Fr={...Y,id:Dr.id,quantity:Number(Dr.data().quantity)||0};if(Pe>Fr.quantity){t(`Cannot deduct ${Pe} units - only ${Fr.quantity} units available at this location`,"error");return}if(Pe<0){t("Cannot deduct negative quantity","error");return}h(Xr=>[...Xr,{stockItem:Fr,deductedQuantity:Pe,reason:de.reason,storeName:de.storeName,locationCode:de.locationCode,shelfNumber:de.shelfNumber}])}catch{t("Error locating stock for this location","error");return}Y.barcode&&u(ut=>{const pt=Y.barcode,Lt=ut.findIndex(Kt=>Kt.barcode===pt&&Kt.locationCode===de.locationCode&&Kt.shelfNumber===de.shelfNumber);if(Lt>=0){const Kt=[...ut];return Kt[Lt]={...Kt[Lt],quantity:Kt[Lt].quantity+Pe},Kt}else return[...ut,{barcode:pt,name:Y.name,quantity:Pe,verified:!1,locationCode:de.locationCode,shelfNumber:de.shelfNumber,reason:de.reason,storeName:de.storeName}]}),t("Item added to job","success"),U(!1),K(null),l(!0),N("");const wt=or(gt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0)),Ut=await lr(wt);if(!Ut.empty){const ut=Ut.docs[0],pt=ut.data().items||[],Lt={barcode:Y.barcode,name:Y.name,quantity:Pe,verified:!1,locationCode:de.locationCode,shelfNumber:de.shelfNumber,reason:de.reason,storeName:de.storeName};await $n(Ar(Xe,"liveJobSessions",ut.id),{items:[...pt,Lt]})}He()},rt=()=>{U(!1),K(null),l(!0),He()},He=()=>{ie(""),Ke([]),je("name"),qe(!1)},Qe=()=>{P?Je():(nt(null),Et(null))},Je=()=>{const de=new Date,Pe=new Date(de);Pe.setDate(de.getDate()-1);const wt=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate()),Ut=new Date(de.getFullYear(),de.getMonth(),de.getDate(),23,59,59,999);nt(wt),Et(Ut)},St=()=>{P?Je():(nt(null),Et(null)),_t("all"),er("")},jt=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(R){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}z(!0),a(!0);try{for(const ut of f){const pt=Ar(Xe,"inventory",ut.stockItem.id),Lt=ut.stockItem.quantity-ut.deductedQuantity;if(Lt<0)throw t(`Error: Cannot deduct ${ut.deductedQuantity} units from "${ut.stockItem.name}" - only ${ut.stockItem.quantity} units available`,"error"),new Error(`Insufficient stock: trying to deduct ${ut.deductedQuantity} from ${ut.stockItem.quantity} units`);await $n(pt,{quantity:Lt,lastUpdated:rf()}),await pr(gt(Xe,"activityLogs"),{detail:`${ut.deductedQuantity} units deducted from stock "${ut.stockItem.name}"  (Reason: ${ut.reason}, Store: ${ut.storeName}) by ${r==null?void 0:r.role} from location ${ut.locationCode} shelf ${ut.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}const de=Date.now().toString(),Pe=await pr(gt(Xe,"jobs"),{jobId:de,createdAt:rf(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:V});await $n(Pe,{docId:Pe.id}),await wr(`created new job ${de} with ${c.length} items (${c.reduce((ut,pt)=>ut+pt.quantity,0)} total units)`),t(`Job ${de} created and awaiting pack`,"success"),l(!1),u([]),h([]),N(""),q(null),ee(0),Q(!1),fe(0);const wt=or(gt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0)),Ut=await lr(wt);Ut.empty||await Os(Ar(Xe,"liveJobSessions",Ut.docs[0].id)),ae()}catch(de){console.log("error",de),t("Failed to create job","error")}finally{a(!1),z(!1)}},$t=async de=>{try{await $n(Ar(Xe,"jobs",de.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||de.picker||null}),await wr(`completed picking for job ${de.jobId} with ${de.items.length} items (${de.items.reduce((Pe,wt)=>Pe+wt.quantity,0)} total units)`),t(`Job ${de.jobId} completed and awaiting pack`,"success"),ae()}catch{t("Failed to update job","error")}},Pt=async(de,Pe,wt)=>{const Ut=`${de.id}-${Pe}`;k(ut=>new Set(ut).add(Ut));try{if(!de.id||!Pe){t("Invalid job or barcode","error");return}he(wt?ut=>new Set(ut).add(Ut):ut=>{const pt=new Set(ut);return pt.delete(Ut),pt})}catch(ut){console.log("error",ut),t("Failed to verify item","error")}finally{k(ut=>{const pt=new Set(ut);return pt.delete(Ut),pt})}},Rt=async de=>{try{const Pe=Array.from(ne).filter(ut=>ut.startsWith(de.id)).map(ut=>ut.split("-")[1]),wt=de.items.filter(ut=>ut.verified||Pe.includes(ut.barcode)).length,Ut=de.items.map(ut=>({...ut,verified:Pe.includes(ut.barcode)||ut.verified}));await $n(Ar(Xe,"jobs",de.id),{status:"completed",packer:(r==null?void 0:r.name)||de.packer||null,items:Ut}),await wr(`completed packing for job ${de.jobId} with ${de.items.length} items (${de.items.reduce((ut,pt)=>ut+pt.quantity,0)} total units) - ${wt} items verified`),he(ut=>{const pt=new Set(ut);return Pe.forEach(Lt=>{pt.delete(`${de.id}-${Lt}`)}),pt}),t(`Job ${de.jobId} completed successfully with ${wt}/${de.items.length} items verified`,"success"),ae()}catch(Pe){console.log("error",Pe),t("Failed to complete job","error")}},fr=de=>{b(de)},Kr=async()=>{if(y)try{await wr(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((de,Pe)=>de+Pe.quantity,0)} total units))`),await Os(Ar(Xe,"jobs",y.id)),he(de=>{const Pe=new Set(de);return y.items.forEach(wt=>{Pe.delete(`${y.id}-${wt.barcode}`)}),Pe}),t("Job deleted","success"),b(null),ae()}catch{t("Failed to delete job","error")}},Yr=async(de,Pe,wt,Ut)=>{try{const ut=[...de.items];ut[Pe]={...ut[Pe],barcode:wt,quantity:Ut},await $n(Ar(Xe,"jobs",de.id),{items:ut}),await wr(`updated job item in job ${de.jobId}: barcode ${de.items[Pe].barcode}  ${wt}, quantity ${de.items[Pe].quantity}  ${Ut}`),t("Job item updated successfully","success"),v(null),ae()}catch{t("Failed to update job item","error")}},bn=async(de,Pe)=>{try{const wt=de.items.filter((Ut,ut)=>ut!==Pe);await $n(Ar(Xe,"jobs",de.id),{items:wt}),await wr(`removed item ${de.items[Pe].barcode} (qty: ${de.items[Pe].quantity}) from job ${de.jobId}`),t("Job item removed successfully","success"),ae()}catch{t("Failed to remove job item","error")}},Ka=async(de,Pe)=>{if(!de.trim()){Ke([]);return}Re(!0);try{let wt;switch(Pe){case"barcode":wt=or(gt(Xe,"inventory"),sr("barcode","==",de.trim()));break;case"asin":wt=or(gt(Xe,"inventory"),sr("asin","==",de.trim()));break;case"name":default:wt=or(gt(Xe,"inventory"),sr("name",">=",de.trim().toUpperCase()),sr("name","<=",de.trim().toUpperCase()+""));break}const ut=(await lr(wt)).docs.map(pt=>{const Lt=pt.data();return{id:pt.id,name:Lt.name||"",quantity:Lt.quantity||0,price:Lt.price||0,unit:Lt.unit||null,supplier:Lt.supplier||null,lastUpdated:Lt.lastUpdated instanceof ar?Lt.lastUpdated.toDate():new Date,locationCode:Lt.locationCode||"",shelfNumber:Lt.shelfNumber||"",barcode:Lt.barcode||null,asin:Lt.asin||null,status:Lt.status||"pending",damagedItems:Lt.damagedItems||0,fulfillmentType:Lt.fulfillmentType||"fba",storeName:Lt.storeName||""}});Ke(ut)}catch(wt){console.log("error",wt),t("Failed to search inventory","error"),Ke([])}finally{Re(!1)}},$s=({job:de})=>{const Pe=de.status==="awaiting_pack",wt=de.status==="picking",Ut=de.status==="completed",ut=ye.has(de.id);return d.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(oS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",de.jobId]}),d.jsx("button",{onClick:()=>we(de.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:ut?d.jsxs(d.Fragment,{children:[d.jsx(l9,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",de.items.length,")"]}):d.jsxs(d.Fragment,{children:[d.jsx(Kl,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",de.items.length,")"]})})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",de.createdBy,"  ",de.createdAt.toLocaleString(),de.pickingTime&&de.pickingTime>0&&d.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:[" Picking: ",Ur(de.pickingTime)]})]}),(w||P)&&de.packer&&d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Verified by ",de.packer]}),!ut&&de.items.length>0&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[de.items.length," item",de.items.length!==1?"s":"","  Total Qty: ",de.items.reduce((pt,Lt)=>pt+Lt.quantity,0),Pe&&d.jsxs("span",{className:"ml-2",children:[" Verified: ",de.items.filter(pt=>pt.verified||ne.has(`${de.id}-${pt.barcode}`)).length,"/",de.items.length]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ut?"bg-green-100 text-green-700":Pe?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Ut?"Completed":Pe?"Awaiting Pack":"Picking"}),d.jsx(lt,{variant:"secondary",onClick:ae,size:"sm",className:"h-8 w-8 p-0",children:d.jsx(ri,{size:14})}),d.jsx(lt,{variant:"danger",onClick:()=>fr(de),size:"sm",className:"h-8 w-8 p-0",children:d.jsx(ni,{size:14})})]})]})})}),ut&&d.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[wt&&d.jsxs(lt,{onClick:()=>U(!0),className:"flex items-center gap-1",size:"sm",children:[d.jsx(oS,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),Pe&&d.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",de.items.filter(pt=>pt.verified||ne.has(`${de.id}-${pt.barcode}`)).length,"/",de.items.length," items verified"]})]}),d.jsxs("div",{className:"space-y-3",children:[de.items.map((pt,Lt)=>{var Kt;return d.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===de.id&&(m==null?void 0:m.itemIndex)===Lt?d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[d.jsx(Ct,{value:m.barcode,onChange:nr=>v({...m,barcode:nr.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),d.jsx(Ct,{type:"number",value:m.quantity.toString(),onChange:nr=>v({...m,quantity:Number(nr.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(lt,{size:"sm",onClick:()=>Yr(de,Lt,m.barcode,m.quantity),className:"h-8 px-3",children:""}),d.jsx(lt,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:""})]})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:pt.name||pt.barcode}),pt.name&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",pt.barcode]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[Pe&&d.jsx(lt,{variant:pt.verified||ne.has(`${de.id}-${pt.barcode}`)?"success":"primary",size:"sm",onClick:()=>Pt(de,pt.barcode,!(pt.verified||ne.has(`${de.id}-${pt.barcode}`))),disabled:Z.has(`${de.id}-${pt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${pt.verified||ne.has(`${de.id}-${pt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:Z.has(`${de.id}-${pt.barcode}`)?d.jsx(ri,{size:12,className:"animate-spin"}):d.jsx("span",{className:"hidden sm:inline",children:pt.verified||ne.has(`${de.id}-${pt.barcode}`)?"Verified":"Verify"})}),Pe&&!m&&d.jsx(d.Fragment,{children:d.jsx(lt,{variant:"danger",size:"sm",onClick:()=>bn(de,Lt),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:d.jsx(ni,{size:16})})})]})]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[d.jsxs("div",{children:["Qty: ",pt.quantity]}),pt.locationCode&&pt.shelfNumber&&d.jsxs("div",{children:["Location: ",pt.locationCode,"-",pt.shelfNumber]}),pt.reason&&d.jsxs("div",{children:["Reason: ",pt.reason]}),pt.storeName&&d.jsxs("div",{children:["Store: ",(Kt=pt.storeName)==null?void 0:Kt.toUpperCase()]})]})]})},`${pt.barcode}-${Lt}-${de.id}`)}),de.items.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[wt&&d.jsxs(lt,{onClick:()=>$t(de),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(e2,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),Pe&&d.jsxs(lt,{onClick:()=>Rt(de),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(e2,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[P?"Archived":w?"Completed":T?"Live":S?"Reports":"Active"," Jobs"]}),T&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"}),S&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Analytics and performance reports for warehouse operations"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx(lt,{variant:"secondary",onClick:ae,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:d.jsx(ri,{size:16,className:n?"animate-spin":""})}),d.jsxs(lt,{onClick:ge,className:"flex items-center gap-1",size:"sm",children:[d.jsx(_i,{size:16})," ",d.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),d.jsx(lt,{variant:!w&&!P&&!T&&!S?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!1),I(!1)},size:"sm",children:"Active Jobs"}),d.jsx(lt,{variant:w?"primary":"secondary",onClick:()=>{D(!0),j(!1),_(!1),I(!1)},size:"sm",children:"Completed Jobs"}),d.jsx(lt,{variant:P?"primary":"secondary",onClick:()=>{D(!1),j(!0),_(!1),I(!1),Je()},size:"sm",children:"Archived Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(lt,{variant:T?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!0),I(!1)},size:"sm",children:"Live Jobs"}),d.jsx(lt,{variant:S?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!1),I(!0)},size:"sm",children:"Reports"})]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:P&&d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),d.jsxs("div",{className:"relative",children:[d.jsx(Sl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),d.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:ct,onChange:de=>er(de.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),d.jsxs("select",{value:kt,onChange:de=>_t(de.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[d.jsx("option",{value:"all",children:"All Users"}),br().map(de=>d.jsx("option",{value:de,children:de},de))]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),d.jsx(Gq,{startDate:at,endDate:ft,onStartDateChange:nt,onEndDateChange:Et,onClear:Qe,className:"w-full"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(lt,{variant:"secondary",onClick:St,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[P&&(at||ft||kt!=="all"||ct.trim())&&d.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[d.jsx("span",{className:"font-medium",children:"Active Filters:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[ct.trim()&&d.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',ct,'"']}),kt!=="all"&&d.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",kt]}),at&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",at.toLocaleDateString()]}),ft&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",ft.toLocaleDateString()]}),d.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[We.length," jobs found"]})]})]})}),!S&&We.map(de=>d.jsx($s,{job:de},de.id)),T&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),d.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[rr().totalCount," active"]})]}),d.jsxs(lt,{variant:"secondary",onClick:()=>{ae(),ir()},className:"flex items-center gap-2",size:"sm",children:[d.jsx(ri,{size:16}),"Refresh Live Jobs"]})]}),rr().uiSessions.map(de=>d.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(oS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",de.createdBy,"  Started at ",de.startTime.toLocaleString()]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[de.items.length," item",de.items.length!==1?"s":""," scanned"]})]})]})})})})},de.id))]}),S&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const de=String(ur.getDate()).padStart(2,"0"),Pe=String(ur.getMonth()+1).padStart(2,"0"),wt=ur.getFullYear();return`${de}/${Pe}/${wt}`})()})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"date",value:(()=>{const de=ur.getFullYear(),Pe=String(ur.getMonth()+1).padStart(2,"0"),wt=String(ur.getDate()).padStart(2,"0");return`${de}-${Pe}-${wt}`})(),onChange:de=>{const Pe=new Date(de.target.value);Wr(Pe),jr(Pe)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),d.jsx(lt,{variant:"secondary",onClick:()=>jr(ur),className:"flex items-center gap-2",size:"sm",disabled:Mt,children:d.jsx(ri,{size:16,className:Mt?"animate-spin":""})})]})]}),Mt?d.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[d.jsx(ri,{size:24,className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"Generating reports..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:Dt.userStats.reduce((de,Pe)=>de+Pe.itemsPicked,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:Dt.userStats.reduce((de,Pe)=>de+Pe.jobsCompleted,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:Dt.userStats.length})]})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",ur.toLocaleDateString()]}),Dt.userStats.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),d.jsx("tbody",{children:Dt.userStats.map((de,Pe)=>d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:de.name}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:de.jobsCreated}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:de.jobsCompleted}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:de.itemsPicked}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ur(de.avgTimePerJob)}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ur(de.totalTime)})]},Pe))})]})}):d.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const de=[];for(let Pe=6;Pe>=0;Pe--){const wt=new Date;wt.setDate(wt.getDate()-Pe);const Ut=new Date(wt);Ut.setHours(0,0,0,0);const ut=new Date(wt);ut.setHours(23,59,59,999);const pt=i.filter(Dr=>{const Fr=Dr.createdAt;return Fr>=Ut&&Fr<=ut}),Lt=pt.reduce((Dr,Fr)=>Dr+Fr.items.reduce((Xr,Vr)=>Xr+Vr.quantity,0),0),Kt=pt.filter(Dr=>Dr.status==="completed").length,nr=zt(wt,"MMM dd");de.push({date:nr,itemsPicked:Lt,jobsCompleted:Kt})}return de})().map((de,Pe)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:de.date}),d.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:de.itemsPicked}),d.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[de.jobsCompleted," jobs"]})]},Pe))})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:(()=>{const de=Ye.start.getFullYear(),Pe=String(Ye.start.getMonth()+1).padStart(2,"0"),wt=String(Ye.start.getDate()).padStart(2,"0");return`${de}-${Pe}-${wt}`})(),onChange:de=>{const Pe=new Date(de.target.value);Pe.setHours(0,0,0,0),Pe<=Ye.end&&ht(wt=>({...wt,start:Pe}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:(()=>{const de=Ye.end.getFullYear(),Pe=String(Ye.end.getMonth()+1).padStart(2,"0"),wt=String(Ye.end.getDate()).padStart(2,"0");return`${de}-${Pe}-${wt}`})(),onChange:de=>{const Pe=new Date(de.target.value);Pe.setHours(23,59,59,999),Pe>=Ye.start&&ht(wt=>({...wt,end:Pe}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("button",{onClick:()=>{const de=new Date,Pe=new Date;Pe.setDate(Pe.getDate()-6),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),ht({start:Pe,end:de})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const de=new Date,Pe=new Date;return Pe.setDate(Pe.getDate()-6),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),Ye.start.getTime()===Pe.getTime()&&Ye.end.getTime()===de.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),d.jsx("button",{onClick:()=>{const de=new Date,Pe=new Date;Pe.setDate(Pe.getDate()-29),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),ht({start:Pe,end:de})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const de=new Date,Pe=new Date;return Pe.setDate(Pe.getDate()-29),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),Ye.start.getTime()===Pe.getTime()&&Ye.end.getTime()===de.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",Ye.start.toLocaleDateString("en-GB")," to ",Ye.end.toLocaleDateString("en-GB"),")"]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(Yg,{width:"100%",height:"100%",children:d.jsxs(tv,{data:(()=>{const de=[],Pe=new Map,wt=new Date(Ye.start),Ut=new Date(Ye.end),ut=Math.ceil((Ut.getTime()-wt.getTime())/(1e3*60*60*24));for(let pt=0;pt<=ut;pt++){const Lt=new Date(wt);Lt.setDate(wt.getDate()+pt);const Kt=new Date(Lt);Kt.setHours(0,0,0,0);const nr=new Date(Lt);nr.setHours(23,59,59,999);const Dr=i.filter(un=>{const ta=un.createdAt;return ta>=Kt&&ta<=nr}),Fr=Dr.reduce((un,ta)=>un+ta.items.reduce((es,Er)=>es+Er.quantity,0),0),Xr=Dr.filter(un=>un.status==="completed").length,Vr=Dr.length,ea=zt(Lt,"MMM dd");Pe.set(ea,{itemsPicked:Fr,jobsCompleted:Xr,jobsCreated:Vr})}return Pe.forEach((pt,Lt)=>{de.push({date:Lt,itemsPicked:pt.itemsPicked,jobsCompleted:pt.jobsCompleted,jobsCreated:pt.jobsCreated})}),de.sort((pt,Lt)=>{const Kt=new Date(pt.date),nr=new Date(Lt.date);return Kt.getTime()-nr.getTime()})})(),children:[d.jsx(W0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Ef,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Nf,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ns,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(de,Pe)=>Pe==="Items Picked"?[`${de} items`,Pe]:Pe==="Jobs Completed"?[`${de} jobs`,Pe]:Pe==="Jobs Created"?[`${de} jobs`,Pe]:[de,Pe],labelFormatter:de=>`Date: ${de}`}),d.jsx(wl,{}),d.jsx(yi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Ye.start.toLocaleDateString("en-GB")," to ",Ye.end.toLocaleDateString("en-GB")]}),d.jsx("select",{value:Ie||(()=>{const de=Array.from(new Set(i.map(Pe=>Pe.createdBy)));return de.length>0?de[0]:""})(),onChange:de=>{Me(de.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(Pe=>Pe.createdBy))).map(Pe=>d.jsx("option",{value:Pe,children:Pe},Pe))})]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(Yg,{width:"100%",height:"100%",children:d.jsxs(tv,{data:(()=>{const de=[],Pe=new Map,wt=Array.from(new Set(i.map(Kt=>Kt.createdBy))),Ut=Ie||(wt.length>0?wt[0]:""),ut=new Date(Ye.start),pt=new Date(Ye.end),Lt=Math.ceil((pt.getTime()-ut.getTime())/(1e3*60*60*24));for(let Kt=0;Kt<=Lt;Kt++){const nr=new Date(ut);nr.setDate(ut.getDate()+Kt);const Dr=new Date(nr);Dr.setHours(0,0,0,0);const Fr=new Date(nr);Fr.setHours(23,59,59,999);const Xr=i.filter(Er=>{const bs=Er.createdAt;return bs>=Dr&&bs<=Fr&&Er.createdBy===Ut}),Vr=Xr.reduce((Er,bs)=>Er+bs.items.reduce((zo,Bs)=>zo+Bs.quantity,0),0),ea=Xr.filter(Er=>Er.status==="completed").length,un=Xr.length;let ta=0;Xr.forEach(Er=>{Er.pickingTime&&Er.pickingTime>0&&(ta+=Er.pickingTime)});const es=zt(nr,"MMM dd");Pe.set(es,{itemsPicked:Vr,jobsCompleted:ea,jobsCreated:un,totalPickingTime:ta})}return Pe.forEach((Kt,nr)=>{de.push({date:nr,itemsPicked:Kt.itemsPicked,jobsCompleted:Kt.jobsCompleted,jobsCreated:Kt.jobsCreated,totalPickingTime:Kt.totalPickingTime})}),de.sort((Kt,nr)=>{const Dr=new Date(Kt.date),Fr=new Date(nr.date);return Dr.getTime()-Fr.getTime()})})(),children:[d.jsx(W0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Ef,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Nf,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ns,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(de,Pe)=>Pe==="Items Picked"?[`${de} items`,Pe]:Pe==="Jobs Completed"?[`${de} jobs`,Pe]:Pe==="Jobs Created"?[`${de} jobs`,Pe]:Pe==="Total Picking Time"?[`${Ur(de)}`,Pe]:[de,Pe],labelFormatter:de=>`Date: ${de}`}),d.jsx(wl,{}),d.jsx(yi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),!S&&We.length===0&&rr().uiSessions.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:P?d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{children:"No archived jobs found."}),(at||ft||kt!=="all")&&d.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):w?"No completed jobs found.":T?"No live jobs found.":"No active jobs found."})]}),d.jsx(pn,{isOpen:o,onClose:()=>{l(!1),q(null),ee(0),Q(!1),fe(0),qe(!1);const de=or(gt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));lr(de).then(Pe=>{Pe.empty||Os(Ar(Xe,"liveJobSessions",Pe.docs[0].id))}).catch(Pe=>{console.log("error",Pe)})},title:Ee?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:d.jsxs("div",{className:"space-y-4",children:[!Ee&&d.jsxs("div",{className:"flex justify-between items-center gap-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>qe(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[d.jsx(Sl,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),d.jsx(lt,{variant:"secondary",onClick:()=>Ce(!0),size:"sm",className:"px-3 py-2",children:d.jsx(gO,{size:16})})]}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${V>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[d.jsx(xO,{size:16}),d.jsx("span",{className:"text-sm font-mono font-medium",children:me(V)})]})]}),G&&d.jsx("div",{className:`p-3 rounded-md border-l-4 ${e?"bg-red-900/20 border-red-500 text-red-200":"bg-red-50 border-red-500 text-red-800"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"animate-pulse",children:""}),d.jsx("span",{className:"font-medium",children:V>=600&&V<900?"Hurry up! You've been working on this job for 10+ minutes.":`Time Alert: ${Math.floor(V/60)} minutes elapsed. Please complete the job soon.`}),d.jsx("button",{onClick:()=>Q(!1),className:`ml-auto px-2 py-1 rounded text-xs ${e?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-200 hover:bg-red-300 text-red-800"}`,children:"Dismiss"})]})}),Ee&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>qe(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[d.jsx(SZ,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),d.jsx(lt,{variant:"secondary",onClick:()=>Ce(!0),size:"sm",className:"px-3 py-2",children:d.jsx(gO,{size:16})})]}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${V>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[d.jsx(xO,{size:16}),d.jsx("span",{className:"text-sm font-mono font-medium",children:me(V)})]})]}),d.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(de=>d.jsx("button",{onClick:()=>je(de),className:`px-3 py-1 text-xs rounded-md transition-colors ${be===de?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:de.charAt(0).toUpperCase()+de.slice(1)},de))}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(Ct,{value:Te,onChange:de=>ie(de.target.value),placeholder:`Search by ${be}...`,className:"flex-1",onKeyPress:de=>de.key==="Enter"&&Ka(Te,be)}),d.jsx(lt,{onClick:()=>Ka(Te,be),disabled:Se||!Te.trim(),size:"sm",className:"px-4",children:Se?d.jsx(ri,{size:14,className:"animate-spin"}):"Search"})]}),$e.length>0&&d.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[d.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",$e.length," product",$e.length!==1?"s":"",":"]}),$e.map(de=>{var Pe;return d.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[d.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:de.name}),d.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[de.barcode&&d.jsxs("span",{className:"mr-3",children:["Barcode: ",de.barcode]}),de.asin&&d.jsxs("span",{className:"mr-3",children:["ASIN: ",de.asin]}),de.locationCode&&de.shelfNumber&&d.jsxs("span",{className:"mr-3",children:["Location: ",de.locationCode,"-",de.shelfNumber]}),d.jsxs("span",{className:"mr-3",children:["Qty: ",de.quantity]}),d.jsxs("span",{children:["Store: ",(Pe=de.storeName)==null?void 0:Pe.toUpperCase()]})]})]},de.id)})]}),Te&&$e.length===0&&!Se&&d.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',Te,'"']})]}),!Ee&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),d.jsxs("form",{onSubmit:_e,className:"flex gap-2",children:[d.jsx(Ct,{name:"manualBarcode",type:"text",value:E,onChange:de=>N(de.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),d.jsxs(lt,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[d.jsx(_i,{size:16})," Add"]})]})]}),d.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!Ee&&c.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),d.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((de,Pe)=>{var wt;return d.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===Pe?d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx(Ct,{value:p.barcode,onChange:Ut=>g({...p,barcode:Ut.target.value}),className:"w-24 text-sm"}),d.jsx(Ct,{type:"number",value:p.quantity,onChange:Ut=>g({...p,quantity:Number(Ut.target.value)||1}),className:"w-16 text-sm",min:"1"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(lt,{size:"sm",onClick:()=>{const Ut=c[Pe].quantity,ut=Number(p.quantity),pt=ut-Ut;u(Kt=>{const nr=[...Kt];return nr[Pe]={...nr[Pe],barcode:p.barcode,quantity:ut,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},nr}),h(Kt=>{const nr=[...Kt],Dr=nr.findIndex(Fr=>Fr.stockItem.barcode===p.barcode&&Fr.locationCode===c[Pe].locationCode&&Fr.shelfNumber===c[Pe].shelfNumber);return Dr>=0&&(nr[Dr]={...nr[Dr],deductedQuantity:nr[Dr].deductedQuantity+pt}),nr});const Lt=or(gt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));lr(Lt).then(Kt=>{if(!Kt.empty){const nr=Kt.docs[0],Fr=(nr.data().items||[]).map(Xr=>Xr.barcode===c[Pe].barcode&&Xr.locationCode===c[Pe].locationCode&&Xr.shelfNumber===c[Pe].shelfNumber?{...Xr,barcode:p.barcode,quantity:ut,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:Xr);$n(Ar(Xe,"liveJobSessions",nr.id),{items:Fr})}}).catch(Kt=>{console.log("error",Kt)}),g(null)},className:"h-6 px-2",children:""}),d.jsx(lt,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:""})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"truncate block font-medium",children:de.name||de.barcode}),de.name&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",de.barcode]}),de.locationCode&&de.shelfNumber&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",de.locationCode," - Shelf ",de.shelfNumber]}),de.reason&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",de.reason]}),de.storeName&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",(wt=de.storeName)==null?void 0:wt.toUpperCase()]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",de.quantity]}),d.jsx(lt,{variant:"secondary",size:"sm",onClick:()=>g({index:Pe,barcode:de.barcode,quantity:de.quantity,reason:de.reason,storeName:de.storeName,name:de.name}),className:"h-6 px-2",children:"Edit"}),d.jsx("button",{type:"button",onClick:()=>{u(pt=>pt.filter((Lt,Kt)=>Kt!==Pe));const Ut=c[Pe];h(pt=>pt.filter(Lt=>!(Lt.stockItem.barcode===Ut.barcode&&Lt.locationCode===Ut.locationCode&&Lt.shelfNumber===Ut.shelfNumber)));const ut=or(gt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));lr(ut).then(pt=>{if(!pt.empty){const Lt=pt.docs[0],nr=(Lt.data().items||[]).filter(Dr=>!(Dr.barcode===Ut.barcode&&Dr.locationCode===Ut.locationCode&&Dr.shelfNumber===Ut.shelfNumber));$n(Ar(Xe,"liveJobSessions",Lt.id),{items:nr})}}).catch(pt=>{console.log("error",pt)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:""})]})]})},`${de.barcode}-${de.locationCode}-${de.shelfNumber}-${Pe}`)})}),d.jsx("div",{className:"pt-2",children:d.jsxs(lt,{onClick:jt,disabled:c.length===0||R,isLoading:R,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[d.jsx(e2,{size:16}),R?"Creating Job...":"Finish Picking"]})})]})]})}),d.jsx(sh,{isOpen:!!y,onClose:()=>b(null),onConfirm:Kr,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),d.jsx(pn,{isOpen:O,onClose:()=>U(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:Y&&d.jsx(Hye,{item:Y,onSubmit:Ge,onCancel:rt,isLoading:!1})}),d.jsx(Gye,{isOpen:ke,onClose:()=>Ce(!1)})]})},M$e=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return d.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},wK=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return d.jsx(M$e,{variant:t(),children:r()})},R$e=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=cn();return d.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),d.jsxs("div",{className:"flex items-center gap-2",children:[r,d.jsx(wK,{status:e.status})]})]}),d.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),d.jsx("div",{className:"space-y-1 mb-3",children:d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),d.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),d.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[d.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:zt(e.createdAt,"MMM d, yyyy")}),d.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},F$e=({isOpen:e,onClose:t,order:r})=>r?d.jsx(pn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),d.jsx("div",{className:"mt-1",children:d.jsx(wK,{status:r.status})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),d.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),d.jsx("p",{className:"text-slate-800",children:r.createdAt?zt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),d.jsx("p",{className:"text-slate-800",children:r.updatedAt?zt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),d.jsx("p",{className:"text-slate-800",children:r.shippedTime?zt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),d.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),d.jsx("tfoot",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),d.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),d.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),d.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})}):null,Tw=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Mr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Mr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Mr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Mr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Mr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Mr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Mr(new Date,6),locationCode:"D2",shelfNumber:4}],$$e=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Mr(new Date,1),updatedAt:Mr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Mr(new Date,2),updatedAt:Mr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Mr(new Date,5),updatedAt:Mr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Mr(new Date,10),updatedAt:Mr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Mr(new Date,15),updatedAt:Mr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];$$e.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:zt(Mr(new Date,29-t),"MMM dd"),amount:r}});Mr(new Date,1),Mr(new Date,1),Mr(new Date,3),Mr(new Date,4),Mr(new Date,5);const B$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],U$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],xA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},s7={street:"",city:"",state:"",zipCode:"",country:""};function V$e(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const z$e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,o7=e=>z$e(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},q$e=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=B.useState(""),[s,o]=B.useState(""),[l,c]=B.useState("pending"),[u,f]=B.useState(""),[h,p]=B.useState([{...xA}]),[g,m]=B.useState({...s7}),[v,y]=B.useState({...s7}),[b,w]=B.useState("Credit Card"),[D,P]=B.useState(""),[j,T]=B.useState([]),[_,S]=B.useState(!1);B.useEffect(()=>{e&&(i(V$e()),f(zt(new Date,"yyyy-MM-dd")),p([{...xA}]),c("pending"))},[e]),B.useEffect(()=>{e&&(async()=>{S(!0);try{const K=or(gt(Xe,"inventory"),La("name")),q=(await lr(K)).docs.map(V=>({id:V.id,...V.data()}));T(q.length>0?q:Tw)}catch{T(Tw)}finally{S(!1)}})()},[e]);const I=(Y,K,J)=>{p(q=>q.map((V,ee)=>{if(ee!==Y)return V;if(K==="productName"){const Z=j.find(k=>k.name===J);return Z?{...V,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:V}if(K==="quantity"){const Z=Number(J);return{...V,quantity:Z,totalPrice:V.unitPrice*Z}}return{...V,[K]:J}}))},E=()=>{p([...h,{...xA}])},N=Y=>{p(K=>K.filter((J,q)=>q!==Y))},O=(Y,K,J)=>{Y==="shipping"?m(q=>({...o7(q),[K]:J})):y(q=>({...o7(q),[K]:J}))},U=Y=>{if(Y.preventDefault(),h.some(q=>!q.productId||!q.productName)){alert("Please select a product for each order item.");return}const K=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):K,updatedAt:K,items:h.map((q,V)=>({...q,id:`item${V+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:b,totalAmount:h.reduce((q,V)=>q+(V.totalPrice||0),0)};D&&(J.notes=D),r(J),t()};return d.jsx(pn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:d.jsxs("form",{onSubmit:U,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Customer Name",value:s,onChange:Y=>o(Y.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(on,{label:"Status",value:l,onChange:Y=>c(Y.target.value),options:B$e,required:!0,fullWidth:!0,disabled:!0}),d.jsx(on,{label:"Payment Method",value:b,onChange:Y=>w(Y.target.value),options:U$e,required:!0,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsx(Ct,{label:"Order Date",type:"date",value:u,onChange:Y=>f(Y.target.value),required:!0,fullWidth:!0})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((Y,K)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(on,{label:"Product Name",value:Y.productName,onChange:J=>I(K,"productName",J.target.value),options:[{value:"",label:"Select product..."},...j.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:_}),d.jsx(Ct,{label:"Quantity",type:"number",value:Y.quantity,onChange:J=>I(K,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!Y.productName}),d.jsx(Ct,{label:"Unit Price",type:"number",value:Y.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Ct,{label:"Total Price",type:"number",value:Y.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(lt,{type:"button",variant:"danger",size:"sm",icon:d.jsx(ni,{size:16}),onClick:()=>N(K),children:"Remove"})]},K)),d.jsx(lt,{type:"button",variant:"primary",icon:d.jsx(_i,{size:16}),onClick:E,disabled:_,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Ct,{label:"Street",value:g.street,onChange:Y=>O("shipping","street",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:g.city,onChange:Y=>O("shipping","city",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:g.state,onChange:Y=>O("shipping","state",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:g.zipCode,onChange:Y=>O("shipping","zipCode",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:g.country,onChange:Y=>O("shipping","country",Y.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Ct,{label:"Street",value:v.street,onChange:Y=>O("billing","street",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:v.city,onChange:Y=>O("billing","city",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:v.state,onChange:Y=>O("billing","state",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:v.zipCode,onChange:Y=>O("billing","zipCode",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:v.country,onChange:Y=>O("billing","country",Y.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Ct,{label:"Notes (optional)",value:D,onChange:Y=>P(Y.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(lt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(lt,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},W$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],H$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],l7={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},c7={street:"",city:"",state:"",zipCode:"",country:""},G$e=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=B.useState(""),[o,l]=B.useState(""),[c,u]=B.useState("pending"),[f,h]=B.useState(""),[p,g]=B.useState(""),[m,v]=B.useState([{...l7}]),[y,b]=B.useState({...c7}),[w,D]=B.useState({...c7}),[P,j]=B.useState("Credit Card"),[T,_]=B.useState(""),[S,I]=B.useState([]),[E,N]=B.useState(!1);B.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(zt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ee=>({...ee}))),b(a.shippingAddress),D(a.billingAddress),j(a.paymentMethod),_(a.notes||""),a.status==="shipped"&&a.shippedTime?g(zt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),B.useEffect(()=>{e&&(async()=>{N(!0);try{const Z=or(gt(Xe,"inventory"),La("name")),R=(await lr(Z)).docs.map(z=>({id:z.id,...z.data()}));I(R.length>0?R:Tw)}catch{I(Tw)}finally{N(!1)}})()},[e]);const O=(ee,Z,k)=>{v(R=>R.map((z,G)=>{if(G!==ee)return z;if(Z==="productName"){const Q=S.find(oe=>oe.name===k);return Q?{...z,productId:Q.id,productName:Q.name,unitPrice:Q.price,quantity:1,totalPrice:Q.price*1}:z}if(Z==="quantity"){const Q=Number(k);return{...z,quantity:Q,totalPrice:z.unitPrice*Q}}return{...z,[Z]:k}}))},U=()=>{v([...m,{...l7}])},Y=ee=>{v(Z=>Z.filter((k,R)=>R!==ee))},K=(ee,Z,k)=>{ee==="shipping"?b(R=>({...V(R),[Z]:k})):D(R=>({...V(R),[Z]:k}))},J=ee=>{if(ee.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const Z={orderNumber:i,customerName:o,status:c,items:m.map((R,z)=>{let G;return typeof R.id=="string"&&R.id?G=R.id:G=`item${z+1}`,{...R,id:G}}),shippingAddress:y,billingAddress:w,paymentMethod:P,totalAmount:m.reduce((R,z)=>R+(z.totalPrice||0),0)};T&&(Z.notes=T),c==="shipped"&&p?Z.shippedTime=ffe(p):a!=null&&a.shippedTime&&c!=="shipped"&&(Z.shippedTime=null);const k={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...Z};r(k),t()},q=ee=>typeof ee=="object"&&ee!==null&&!Array.isArray(ee)&&"street"in ee&&"city"in ee&&"state"in ee&&"zipCode"in ee&&"country"in ee,V=ee=>q(ee)?ee:{street:"",city:"",state:"",zipCode:"",country:""};return d.jsx(pn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:d.jsxs("form",{onSubmit:J,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Customer Name",value:o,onChange:ee=>l(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(on,{label:"Status",value:c,onChange:ee=>u(ee.target.value),options:W$e,required:!0,fullWidth:!0}),d.jsx(on,{label:"Payment Method",value:P,onChange:ee=>j(ee.target.value),options:H$e,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Order Date",type:"date",value:f,onChange:ee=>h(ee.target.value),required:!0,fullWidth:!0}),c==="shipped"&&d.jsx(Ct,{label:"Shipped Time",type:"datetime-local",value:p,onChange:ee=>g(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((ee,Z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(on,{label:"Product Name",value:ee.productName,onChange:k=>O(Z,"productName",k.target.value),options:[{value:"",label:"Select product..."},...S.map(k=>({value:k.name,label:k.name}))],required:!0,fullWidth:!0,disabled:E}),d.jsx(Ct,{label:"Quantity",type:"number",value:ee.quantity,onChange:k=>O(Z,"quantity",Number(k.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ee.productName}),d.jsx(Ct,{label:"Unit Price",type:"number",value:ee.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Ct,{label:"Total Price",type:"number",value:ee.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(lt,{type:"button",variant:"danger",size:"sm",icon:d.jsx(ni,{size:16}),onClick:()=>Y(Z),children:"Remove"})]},Z)),d.jsx(lt,{type:"button",variant:"primary",icon:d.jsx(_i,{size:16}),onClick:U,disabled:E,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Ct,{label:"Street",value:y.street,onChange:ee=>K("shipping","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:y.city,onChange:ee=>K("shipping","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:y.state,onChange:ee=>K("shipping","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:y.zipCode,onChange:ee=>K("shipping","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:y.country,onChange:ee=>K("shipping","country",ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Ct,{label:"Street",value:w.street,onChange:ee=>K("billing","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:w.city,onChange:ee=>K("billing","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:w.state,onChange:ee=>K("billing","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:w.zipCode,onChange:ee=>K("billing","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:w.country,onChange:ee=>K("billing","country",ee.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Ct,{label:"Notes (optional)",value:T,onChange:ee=>_(ee.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(lt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(lt,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},K$e=()=>{const[e,t]=B.useState(""),[r,n]=B.useState("all"),[a,i]=B.useState("date"),[s,o]=B.useState(null),[l,c]=B.useState("grid"),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState([]),[v,y]=B.useState(null),[b,w]=B.useState(!1),{showToast:D}=sc(),{user:P}=Ta(),{isDarkMode:j}=cn(),T=async()=>{p(!0);try{const q=or(gt(Xe,"orders"),La("createdAt","desc")),ee=(await lr(q)).docs.map(Z=>{const k=Z.data();return{id:Z.id,orderNumber:k.orderNumber||"",customerName:k.customerName||"",items:k.items||[],status:k.status||"pending",createdAt:k.createdAt instanceof ar?k.createdAt.toDate():new Date(k.createdAt),updatedAt:k.updatedAt instanceof ar?k.updatedAt.toDate():new Date(k.updatedAt),shippingAddress:k.shippingAddress||{},billingAddress:k.billingAddress||{},paymentMethod:k.paymentMethod||"",totalAmount:k.totalAmount||0,notes:k.notes||"",shippedTime:k.shippedTime instanceof ar?k.shippedTime.toDate():k.shippedTime?new Date(k.shippedTime):void 0}});m(ee)}catch(q){console.error("Error fetching orders:",q),D("Failed to fetch orders","error")}finally{p(!1)}};B.useEffect(()=>{T()},[]);const _=g.filter(q=>{const V=q.orderNumber.toLowerCase().includes(e.toLowerCase())||q.customerName.toLowerCase().includes(e.toLowerCase()),ee=r==="all"||q.status===r;return V&&ee}).sort((q,V)=>a==="date"?new Date(V.createdAt).getTime()-new Date(q.createdAt).getTime():a==="amount"?V.totalAmount-q.totalAmount:0),S=q=>{o(q)},I=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async q=>{p(!0);try{await pr(gt(Xe,"orders"),{...q,createdAt:rf(),updatedAt:rf()}),await pr(gt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${q.orderNumber} for '${q.customerName}' with ${q.items.length} items (${q.items.map(V=>`${V.quantity} ${V.productName}`).join(", ")}) - Total: $${q.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),q.status==="shipped"&&await Rx(q.items,!0),await T(),f(!1),D("Order added successfully!","success")}catch(V){console.error("Error in handleAddOrder:",V),alert("Error adding order: "+((V==null?void 0:V.message)||V))}finally{p(!1)}},O=async q=>{p(!0);try{const V=Ar(Xe,"orders",q.id),Z=(await $d(V)).data(),k={status:q.status,updatedAt:rf()},R=[];if((Z==null?void 0:Z.status)!==q.status&&R.push(`status from "${Z==null?void 0:Z.status}" to "${q.status}"`),(Z==null?void 0:Z.customerName)!==q.customerName&&R.push(`customer from "${Z==null?void 0:Z.customerName}" to "${q.customerName}"`),JSON.stringify(Z==null?void 0:Z.items)!==JSON.stringify(q.items)){const G=[];q.items.forEach(Q=>{const oe=Z==null?void 0:Z.items.find(fe=>fe.id===Q.id);oe?oe.quantity!==Q.quantity&&G.push(`changed ${Q.productName} quantity from ${oe.quantity} to ${Q.quantity}`):G.push(`added ${Q.quantity} ${Q.productName}`)}),Z==null||Z.items.forEach(Q=>{q.items.find(oe=>oe.id===Q.id)||G.push(`removed ${Q.quantity} ${Q.productName}`)}),G.length>0&&R.push(`items: ${G.join(", ")}`)}(Z==null?void 0:Z.totalAmount)!==q.totalAmount&&R.push(`total amount from $${Z==null?void 0:Z.totalAmount.toFixed(2)} to $${q.totalAmount.toFixed(2)}`),q.status==="shipped"&&(Z==null?void 0:Z.status)!=="shipped"?(await Rx(q.items,!0),q.shippedTime?k.shippedTime=ar.fromDate(q.shippedTime):k.shippedTime=rf()):(Z==null?void 0:Z.status)==="shipped"&&q.status!=="shipped"?(await Rx(q.items,!1),k.shippedTime=LI()):(q.status==="cancelled"||q.status==="returned")&&(Z==null?void 0:Z.status)!=="cancelled"&&(Z==null?void 0:Z.status)!=="returned"?(await Rx(q.items,!1),k.shippedTime=LI()):Z!=null&&Z.shippedTime&&(k.shippedTime=ar.fromDate(Z.shippedTime));const{...z}=q;Object.assign(k,z),await $n(V,k),R.length>0&&await pr(gt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${q.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),D("Order updated successfully!","success")}catch(V){console.error("Error updating order:",V),D("Failed to update order","error")}finally{p(!1)}},U=()=>{y(null)},Y=async q=>{p(!0);try{const V=Ar(Xe,"orders",q),Z=(await $d(V)).data();Z&&(await pr(gt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${Z.orderNumber} for '${Z.customerName}' with ${Z.items.length} items (${Z.items.map(k=>`${k.quantity} ${k.productName}`).join(", ")}) - Total: $${Z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Os(V),await T(),w(!1),o(null),D("Order deleted successfully!","success"))}catch(V){console.error("Error deleting order:",V),D("Failed to delete order","error")}finally{p(!1)}},K=(q,V)=>{q.stopPropagation(),o(V),w(!0)},J=(q,V)=>{q.stopPropagation(),y(V)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${j?"text-white":"text-slate-800"}`,children:"Current Orders"}),d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),d.jsx(lt,{onClick:()=>f(!0),className:"flex items-center gap-2",children:d.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsx("div",{className:"md:flex-1",children:d.jsx(Ct,{placeholder:"Search by order number or customer...",value:e,onChange:q=>t(q.target.value),icon:d.jsx(Sl,{size:18}),fullWidth:!0})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(on,{options:I,value:r,onChange:q=>n(q.target.value)}),d.jsx(on,{options:E,value:a,onChange:q=>i(q.target.value)})]})]}),d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("div",{className:"relative inline-block",children:[d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[d.jsx(jZ,{size:18,className:"inline mr-1"})," Grid"]}),d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[d.jsx($Z,{size:18,className:"inline mr-1"})," Table"]})]})}),h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(cs,{className:`w-8 h-8 ${j?"text-blue-400":"text-blue-500"} animate-spin`}),d.jsx("p",{className:`mt-2 ${j?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?_.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(q=>d.jsx("div",{className:"flex flex-col",children:d.jsx(R$e,{order:q,onClick:()=>S(q),editButton:d.jsx("button",{onClick:V=>J(V,q),className:`p-2 ${j?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:d.jsx(us,{className:`w-4 h-4 ${j?"text-blue-400":"text-blue-500"}`})})})},q.id))}):d.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):_.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${j?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[d.jsx("thead",{className:j?"bg-slate-900":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`${j?"divide-slate-700":"divide-slate-200"}`,children:_.map(q=>d.jsxs("tr",{className:`${j?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>S(q),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-blue-400":"text-blue-700"} font-medium`,children:q.orderNumber}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:q.customerName}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"} capitalize`,children:q.status}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:new Date(q.createdAt).toLocaleDateString()}),d.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${j?"text-slate-200":"text-slate-900"} text-right`,children:["$",q.totalAmount.toFixed(2)]}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("button",{onClick:V=>{V.stopPropagation(),y(q)},className:`p-1 ${j?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(us,{size:16})}),d.jsx("button",{onClick:V=>K(V,q),className:`p-1 ${j?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(ni,{size:16})})]})})]},q.id))})]})}):d.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&d.jsx(F$e,{isOpen:!!s,onClose:()=>o(null),order:s}),d.jsx(q$e,{isOpen:u,onClose:()=>f(!1),onAdd:N,isLoading:h}),d.jsx(G$e,{isOpen:!!v,onClose:U,onEdit:O,isLoading:h,order:v}),s&&d.jsx(sh,{isOpen:b,onClose:()=>{w(!1),o(null)},onConfirm:()=>Y(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},Rx=async(e,t)=>{const r=Bae(Xe),n=[];for(const a of e){const i=Ar(Xe,"inventory",a.productId),s=await $d(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await pr(gt(Xe,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},Y$e="modulepreload",X$e=function(e){return"/"+e},u7={},iE=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=X$e(l),l in u7)return;u7[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Y$e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Wi=Uint8Array,ro=Uint16Array,AP=Int32Array,f_=new Wi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d_=new Wi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sE=new Wi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_K=function(e,t){for(var r=new ro(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new AP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},SK=_K(f_,2),AK=SK.b,oE=SK.r;AK[28]=258,oE[258]=28;var TK=_K(d_,0),Q$e=TK.b,f7=TK.r,lE=new ro(32768);for(var Gn=0;Gn<32768;++Gn){var $u=(Gn&43690)>>1|(Gn&21845)<<1;$u=($u&52428)>>2|($u&13107)<<2,$u=($u&61680)>>4|($u&3855)<<4,lE[Gn]=(($u&65280)>>8|($u&255)<<8)>>1}var rc=function(e,t,r){for(var n=e.length,a=0,i=new ro(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new ro(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new ro(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[lE[f]>>l]=c}else for(o=new ro(n),a=0;a<n;++a)e[a]&&(o[a]=lE[s[e[a]-1]++]>>15-e[a]);return o},$f=new Wi(288);for(var Gn=0;Gn<144;++Gn)$f[Gn]=8;for(var Gn=144;Gn<256;++Gn)$f[Gn]=9;for(var Gn=256;Gn<280;++Gn)$f[Gn]=7;for(var Gn=280;Gn<288;++Gn)$f[Gn]=8;var I1=new Wi(32);for(var Gn=0;Gn<32;++Gn)I1[Gn]=5;var J$e=rc($f,9,0),Z$e=rc($f,9,1),e9e=rc(I1,5,0),t9e=rc(I1,5,1),bA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},rl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},wA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},TP=function(e){return(e+7)/8|0},EK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Wi(e.subarray(t,r))},r9e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],sl=function(e,t,r){var n=new Error(t||r9e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,sl),!r)throw n;return n},n9e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Wi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Wi(a*3));var c=function(ye){var W=r.length;if(ye>W){var ke=new Wi(Math.max(W*2,ye));ke.set(r),r=ke}},u=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=rl(e,f,1);var b=rl(e,f+1,3);if(f+=3,b)if(b==1)p=Z$e,g=t9e,m=9,v=5;else if(b==2){var j=rl(e,f,31)+257,T=rl(e,f+10,15)+4,_=j+rl(e,f+5,31)+1;f+=14;for(var S=new Wi(_),I=new Wi(19),E=0;E<T;++E)I[sE[E]]=rl(e,f+E*3,7);f+=T*3;for(var N=bA(I),O=(1<<N)-1,U=rc(I,N,1),E=0;E<_;){var Y=U[rl(e,f,O)];f+=Y&15;var w=Y>>4;if(w<16)S[E++]=w;else{var K=0,J=0;for(w==16?(J=3+rl(e,f,3),f+=2,K=S[E-1]):w==17?(J=3+rl(e,f,7),f+=3):w==18&&(J=11+rl(e,f,127),f+=7);J--;)S[E++]=K}}var q=S.subarray(0,j),V=S.subarray(j);m=bA(q),v=bA(V),p=rc(q,m,1),g=rc(V,v,1)}else sl(1);else{var w=TP(f)+4,D=e[w-4]|e[w-3]<<8,P=w+D;if(P>a){l&&sl(0);break}o&&c(h+D),r.set(e.subarray(w,P),h),t.b=h+=D,t.p=f=P*8,t.f=u;continue}if(f>y){l&&sl(0);break}}o&&c(h+131072);for(var ee=(1<<m)-1,Z=(1<<v)-1,k=f;;k=f){var K=p[wA(e,f)&ee],R=K>>4;if(f+=K&15,f>y){l&&sl(0);break}if(K||sl(2),R<256)r[h++]=R;else if(R==256){k=f,p=null;break}else{var z=R-254;if(R>264){var E=R-257,G=f_[E];z=rl(e,f,(1<<G)-1)+AK[E],f+=G}var Q=g[wA(e,f)&Z],oe=Q>>4;Q||sl(3),f+=Q&15;var V=Q$e[oe];if(oe>3){var G=d_[oe];V+=wA(e,f)&(1<<G)-1,f+=G}if(f>y){l&&sl(0);break}o&&c(h+131072);var fe=h+z;if(h<V){var ne=i-V,he=Math.min(V,fe);for(ne+h<0&&sl(3);h<he;++h)r[h]=n[ne+h]}for(;h<fe;++h)r[h]=r[h-V]}}t.l=p,t.p=k,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?EK(r,0,h):r.subarray(0,h)},Sc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},rg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},_A=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:kK,l:0};if(a==1){var s=new Wi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,j){return P.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new ro(h+1),g=cE(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(j,T){return p[T.s]-p[j.s]||j.f-T.f});n<a;++n){var b=i[n].s;if(p[b]>t)m+=y-(1<<g-p[b]),p[b]=t;else break}for(m>>=v;m>0;){var w=i[n].s;p[w]<t?m-=1<<t-p[w]++-1:++n}for(;n>=0&&m;--n){var D=i[n].s;p[D]==t&&(--p[D],++m)}g=t}return{t:new Wi(p),l:g}},cE=function(e,t,r){return e.s==-1?Math.max(cE(e.l,t,r+1),cE(e.r,t,r+1)):t[e.s]=r},d7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ro(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},ng=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},NK=function(e,t,r){var n=r.length,a=TP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},h7=function(e,t,r,n,a,i,s,o,l,c,u){Sc(t,u++,r),++a[256];for(var f=_A(a,15),h=f.t,p=f.l,g=_A(i,15),m=g.t,v=g.l,y=d7(h),b=y.c,w=y.n,D=d7(m),P=D.c,j=D.n,T=new ro(19),_=0;_<b.length;++_)++T[b[_]&31];for(var _=0;_<P.length;++_)++T[P[_]&31];for(var S=_A(T,7),I=S.t,E=S.l,N=19;N>4&&!I[sE[N-1]];--N);var O=c+5<<3,U=ng(a,$f)+ng(i,I1)+s,Y=ng(a,h)+ng(i,m)+s+14+3*N+ng(T,I)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&O<=U&&O<=Y)return NK(t,u,e.subarray(l,l+c));var K,J,q,V;if(Sc(t,u,1+(Y<U)),u+=2,Y<U){K=rc(h,p,0),J=h,q=rc(m,v,0),V=m;var ee=rc(I,E,0);Sc(t,u,w-257),Sc(t,u+5,j-1),Sc(t,u+10,N-4),u+=14;for(var _=0;_<N;++_)Sc(t,u+3*_,I[sE[_]]);u+=3*N;for(var Z=[b,P],k=0;k<2;++k)for(var R=Z[k],_=0;_<R.length;++_){var z=R[_]&31;Sc(t,u,ee[z]),u+=I[z],z>15&&(Sc(t,u,R[_]>>5&127),u+=R[_]>>12)}}else K=J$e,J=$f,q=e9e,V=I1;for(var _=0;_<o;++_){var G=n[_];if(G>255){var z=G>>18&31;rg(t,u,K[z+257]),u+=J[z+257],z>7&&(Sc(t,u,G>>23&31),u+=f_[z]);var Q=G&31;rg(t,u,q[Q]),u+=V[Q],Q>3&&(rg(t,u,G>>5&8191),u+=d_[Q])}else rg(t,u,K[G]),u+=J[G]}return rg(t,u,K[256]),u+J[256]},a9e=new AP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kK=new Wi(0),i9e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Wi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=a9e[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,m=i.p||new ro(32768),v=i.h||new ro(g+1),y=Math.ceil(r/3),b=2*y,w=function(Ce){return(e[Ce]^e[Ce+1]<<y^e[Ce+2]<<b)&g},D=new AP(25e3),P=new ro(288),j=new ro(32),T=0,_=0,S=i.i||0,I=0,E=i.w||0,N=0;S+2<s;++S){var O=w(S),U=S&32767,Y=v[O];if(m[U]=Y,v[O]=U,E<=S){var K=s-S;if((T>7e3||I>24576)&&(K>423||!c)){u=h7(e,l,0,D,P,j,_,I,N,S-N,u),I=T=_=0,N=S;for(var J=0;J<286;++J)P[J]=0;for(var J=0;J<30;++J)j[J]=0}var q=2,V=0,ee=p,Z=U-Y&32767;if(K>2&&O==w(S-Z))for(var k=Math.min(h,K)-1,R=Math.min(32767,S),z=Math.min(258,K);Z<=R&&--ee&&U!=Y;){if(e[S+q]==e[S+q-Z]){for(var G=0;G<z&&e[S+G]==e[S+G-Z];++G);if(G>q){if(q=G,V=Z,G>k)break;for(var Q=Math.min(Z,G-2),oe=0,J=0;J<Q;++J){var fe=S-Z+J&32767,ne=m[fe],he=fe-ne&32767;he>oe&&(oe=he,Y=fe)}}}U=Y,Y=m[U],Z+=U-Y&32767}if(V){D[I++]=268435456|oE[q]<<18|f7[V];var ye=oE[q]&31,W=f7[V]&31;_+=f_[ye]+d_[W],++P[257+ye],++j[W],E=S+q,++T}else D[I++]=e[S],++P[e[S]]}}for(S=Math.max(S,E);S<s;++S)D[I++]=e[S],++P[e[S]];u=h7(e,l,c,D,P,j,_,I,N,S-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=S,i.w=E)}else{for(var S=i.w||0;S<s+c;S+=65535){var ke=S+65535;ke>=s&&(l[u/8|0]=c,ke=s),u=NK(l,u+1,e.subarray(S,ke))}i.i=s}return EK(o,0,n+TP(u)+a)},CK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},s9e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Wi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return i9e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},PK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},o9e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=CK();a.p(t.dictionary),PK(e,2,a.d())}},l9e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&sl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&sl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function uE(e,t){t||(t={});var r=CK();r.p(e);var n=s9e(e,t,t.dictionary?6:2,4);return o9e(n,t),PK(n,n.length-4,r.d()),n}function c9e(e,t){return n9e(e.subarray(l9e(e,t),-4),{i:2},t,t)}var u9e=typeof TextDecoder<"u"&&new TextDecoder,f9e=0;try{u9e.decode(kK,{stream:!0}),f9e=1}catch{}var vr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function SA(){vr.console&&typeof vr.console.log=="function"&&vr.console.log.apply(vr.console,arguments)}var Dn={log:SA,warn:function(e){vr.console&&(typeof vr.console.warn=="function"?vr.console.warn.apply(vr.console,arguments):SA.call(null,arguments))},error:function(e){vr.console&&(typeof vr.console.error=="function"?vr.console.error.apply(vr.console,arguments):SA(e))}};function AA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Sd(n.response,t,r)},n.onerror=function(){Dn.error("could not download file")},n.send()}function p7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Fx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rv,fE,Sd=vr.saveAs||((typeof window>"u"?"undefined":yn(window))!=="object"||window!==vr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=vr.URL||vr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?p7(a.href)?AA(e,t,r):Fx(a,a.target="_blank"):Fx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Fx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(p7(e))AA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Fx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:yn(i)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return AA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(vr.HTMLElement)||vr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":yn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=vr.URL||vr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function TA(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ii(r,n,a,i,t[0],7,-680876936),i=Ii(i,r,n,a,t[1],12,-389564586),a=Ii(a,i,r,n,t[2],17,606105819),n=Ii(n,a,i,r,t[3],22,-1044525330),r=Ii(r,n,a,i,t[4],7,-176418897),i=Ii(i,r,n,a,t[5],12,1200080426),a=Ii(a,i,r,n,t[6],17,-1473231341),n=Ii(n,a,i,r,t[7],22,-45705983),r=Ii(r,n,a,i,t[8],7,1770035416),i=Ii(i,r,n,a,t[9],12,-1958414417),a=Ii(a,i,r,n,t[10],17,-42063),n=Ii(n,a,i,r,t[11],22,-1990404162),r=Ii(r,n,a,i,t[12],7,1804603682),i=Ii(i,r,n,a,t[13],12,-40341101),a=Ii(a,i,r,n,t[14],17,-1502002290),r=ji(r,n=Ii(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ji(i,r,n,a,t[6],9,-1069501632),a=ji(a,i,r,n,t[11],14,643717713),n=ji(n,a,i,r,t[0],20,-373897302),r=ji(r,n,a,i,t[5],5,-701558691),i=ji(i,r,n,a,t[10],9,38016083),a=ji(a,i,r,n,t[15],14,-660478335),n=ji(n,a,i,r,t[4],20,-405537848),r=ji(r,n,a,i,t[9],5,568446438),i=ji(i,r,n,a,t[14],9,-1019803690),a=ji(a,i,r,n,t[3],14,-187363961),n=ji(n,a,i,r,t[8],20,1163531501),r=ji(r,n,a,i,t[13],5,-1444681467),i=ji(i,r,n,a,t[2],9,-51403784),a=ji(a,i,r,n,t[7],14,1735328473),r=Di(r,n=ji(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Di(i,r,n,a,t[8],11,-2022574463),a=Di(a,i,r,n,t[11],16,1839030562),n=Di(n,a,i,r,t[14],23,-35309556),r=Di(r,n,a,i,t[1],4,-1530992060),i=Di(i,r,n,a,t[4],11,1272893353),a=Di(a,i,r,n,t[7],16,-155497632),n=Di(n,a,i,r,t[10],23,-1094730640),r=Di(r,n,a,i,t[13],4,681279174),i=Di(i,r,n,a,t[0],11,-358537222),a=Di(a,i,r,n,t[3],16,-722521979),n=Di(n,a,i,r,t[6],23,76029189),r=Di(r,n,a,i,t[9],4,-640364487),i=Di(i,r,n,a,t[12],11,-421815835),a=Di(a,i,r,n,t[15],16,530742520),r=Li(r,n=Di(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Li(i,r,n,a,t[7],10,1126891415),a=Li(a,i,r,n,t[14],15,-1416354905),n=Li(n,a,i,r,t[5],21,-57434055),r=Li(r,n,a,i,t[12],6,1700485571),i=Li(i,r,n,a,t[3],10,-1894986606),a=Li(a,i,r,n,t[10],15,-1051523),n=Li(n,a,i,r,t[1],21,-2054922799),r=Li(r,n,a,i,t[8],6,1873313359),i=Li(i,r,n,a,t[15],10,-30611744),a=Li(a,i,r,n,t[6],15,-1560198380),n=Li(n,a,i,r,t[13],21,1309151649),r=Li(r,n,a,i,t[4],6,-145523070),i=Li(i,r,n,a,t[11],10,-1120210379),a=Li(a,i,r,n,t[2],15,718787259),n=Li(n,a,i,r,t[9],21,-343485551),e[0]=lf(r,e[0]),e[1]=lf(n,e[1]),e[2]=lf(a,e[2]),e[3]=lf(i,e[3])}function h_(e,t,r,n,a,i){return t=lf(lf(t,e),lf(n,i)),lf(t<<a|t>>>32-a,r)}function Ii(e,t,r,n,a,i,s){return h_(t&r|~t&n,e,t,a,i,s)}function ji(e,t,r,n,a,i,s){return h_(t&n|r&~n,e,t,a,i,s)}function Di(e,t,r,n,a,i,s){return h_(t^r^n,e,t,a,i,s)}function Li(e,t,r,n,a,i,s){return h_(r^(t|~n),e,t,a,i,s)}function IK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)TA(n,d9e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(TA(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,TA(n,a),n}function d9e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}rv=vr.atob.bind(vr),fE=vr.btoa.bind(vr);var m7="0123456789abcdef".split("");function h9e(e){for(var t="",r=0;r<4;r++)t+=m7[e>>8*r+4&15]+m7[e>>8*r&15];return t}function p9e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function dE(e){return IK(e).map(p9e).join("")}var m9e=function(e){for(var t=0;t<e.length;t++)e[t]=h9e(e[t]);return e.join("")}(IK("hello"))!="5d41402abc4b2a76b9719d911017c592";function lf(e,t){if(m9e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function hE(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,p=0,g="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var g7={print:4,modify:8,copy:16,"annot-forms":32};function o0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(g7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=g7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=dE(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hE(this.encryptionKey,this.padding)}function l0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function v7(e){if(yn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){vr.console&&Dn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ew(e){if(!(this instanceof Ew))return new Ew(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function jK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Td(e,t,r,n,a){if(!(this instanceof Td))return new Td(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,jK.call(this,n,a)}function P0(e,t,r,n,a){if(!(this instanceof P0))return new P0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,jK.call(this,n,a)}function gr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;yn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=v7;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function D(){this.saveGraphicsState(),ie(new We(ct,0,0,-ct,0,Ni()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),c="n",w=b.ADVANCED}function P(){this.restoreGraphicsState(),c="S",w=b.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(L,te){if(L=="bold"&&te=="normal"||L=="bold"&&te==400||L=="normal"&&te=="italic"||L=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(L=te==400||te==="normal"?L==="italic"?"italic":"normal":te!=700&&te!=="bold"||L!=="normal"?(te==700?"bold":te)+""+L:"bold"),L};p.advancedAPI=function(L){var te=w===b.COMPAT;return te&&D.call(this),typeof L!="function"||(L(this),te&&P.call(this)),this},p.compatAPI=function(L){var te=w===b.ADVANCED;return te&&P.call(this),typeof L!="function"||(L(this),te&&D.call(this)),this},p.isAdvancedAPI=function(){return w===b.ADVANCED};var T,_=function(L){if(w!==b.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(L,te){var Ae=t||te;if(isNaN(L)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ae).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,16)};var I=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return S(L,2)},E=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return S(L,3)},N=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?L*ct:w===b.ADVANCED?L:void 0},O=function(L){return w===b.COMPAT?Ni()-L:w===b.ADVANCED?L:void 0},U=function(L){return N(O(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Y,K="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return K},q=p.__private__.setFileId=function(L){return K=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Vn=new o0(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};p.setFileId=function(L){return q(L),this},p.getFileId=function(){return J()};var V=p.__private__.convertDateToPDFDate=function(L){var te=L.getTimezoneOffset(),Ae=te<0?"+":"-",Oe=Math.floor(Math.abs(te/60)),Ve=Math.abs(te%60),st=[Ae,z(Oe),"'",z(Ve),"'"].join("");return["D:",L.getFullYear(),z(L.getMonth()+1),z(L.getDate()),z(L.getHours()),z(L.getMinutes()),z(L.getSeconds()),st].join("")},ee=p.__private__.convertPDFDateToDate=function(L){var te=parseInt(L.substr(2,4),10),Ae=parseInt(L.substr(6,2),10)-1,Oe=parseInt(L.substr(8,2),10),Ve=parseInt(L.substr(10,2),10),st=parseInt(L.substr(12,2),10),Tt=parseInt(L.substr(14,2),10);return new Date(te,Ae,Oe,Ve,st,Tt,0)},Z=p.__private__.setCreationDate=function(L){var te;if(L===void 0&&(L=new Date),L instanceof Date)te=V(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=L}return Y=te},k=p.__private__.getCreationDate=function(L){var te=Y;return L==="jsDate"&&(te=ee(Y)),te};p.setCreationDate=function(L){return Z(L),this},p.getCreationDate=function(L){return k(L)};var R,z=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},G=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Q=0,oe=[],fe=[],ne=0,he=[],ye=[],W=!1,ke=fe,Ce=function(){Q=0,ne=0,fe=[],oe=[],he=[],me=Ur(),ge=Ur()};p.__private__.setCustomOutputDestination=function(L){W=!0,ke=L};var Te=function(L){W||(ke=L)};p.__private__.resetCustomOutputDestination=function(){W=!1,ke=fe};var ie=p.__private__.out=function(L){return L=L.toString(),ne+=L.length+1,ke.push(L),ke},$e=p.__private__.write=function(L){return ie(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ke=p.__private__.getArrayBuffer=function(L){for(var te=L.length,Ae=new ArrayBuffer(te),Oe=new Uint8Array(Ae);te--;)Oe[te]=L.charCodeAt(te);return Ae},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Se};var Re=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return Re=w===b.ADVANCED?L/ct:L,this};var be,je=p.__private__.getFontSize=p.getFontSize=function(){return w===b.COMPAT?Re:Re*ct},Ee=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return Ee=L,this},p.__private__.getR2L=p.getR2L=function(){return Ee};var qe,at=p.__private__.setZoomMode=function(L){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))be=L;else if(isNaN(L)){if(te.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');be=L}else be=parseInt(L,10)};p.__private__.getZoomMode=function(){return be};var nt,ft=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');qe=L};p.__private__.getPageMode=function(){return qe};var Et=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');nt=L};p.__private__.getLayoutMode=function(){return nt},p.__private__.setDisplayMode=p.setDisplayMode=function(L,te,Ae){return at(L),Et(te),ft(Ae),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(kt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[L]},p.__private__.getDocumentProperties=function(){return kt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var te in kt)kt.hasOwnProperty(te)&&L[te]&&(kt[te]=L[te]);return this},p.__private__.setDocumentProperty=function(L,te){if(Object.keys(kt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[L]=te};var _t,ct,er,Wt,Gr,ur={},Wr={},Ie=[],Me={},Ye={},ht={},Dt={},Gt=null,Mt=0,Ot=[],Zt=new v7(p),xr=e.hotfixes||[],br={},Ne={},ot=[],We=function L(te,Ae,Oe,Ve,st,Tt){if(!(this instanceof L))return new L(te,Ae,Oe,Ve,st,Tt);isNaN(te)&&(te=1),isNaN(Ae)&&(Ae=0),isNaN(Oe)&&(Oe=0),isNaN(Ve)&&(Ve=1),isNaN(st)&&(st=0),isNaN(Tt)&&(Tt=0),this._matrix=[te,Ae,Oe,Ve,st,Tt]};Object.defineProperty(We.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(We.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(We.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(We.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(We.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(We.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(We.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(We.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(We.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(We.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(We.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(We.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(We.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(We.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(We.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(We.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),We.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},We.prototype.multiply=function(L){var te=L.sx*this.sx+L.shy*this.shx,Ae=L.sx*this.shy+L.shy*this.sy,Oe=L.shx*this.sx+L.sy*this.shx,Ve=L.shx*this.shy+L.sy*this.sy,st=L.tx*this.sx+L.ty*this.shx+this.tx,Tt=L.tx*this.shy+L.ty*this.sy+this.ty;return new We(te,Ae,Oe,Ve,st,Tt)},We.prototype.decompose=function(){var L=this.sx,te=this.shy,Ae=this.shx,Oe=this.sy,Ve=this.tx,st=this.ty,Tt=Math.sqrt(L*L+te*te),Vt=(L/=Tt)*Ae+(te/=Tt)*Oe;Ae-=L*Vt,Oe-=te*Vt;var A=Math.sqrt(Ae*Ae+Oe*Oe);return Vt/=A,L*(Oe/=A)<te*(Ae/=A)&&(L=-L,te=-te,Vt=-Vt,Tt=-Tt),{scale:new We(Tt,0,0,A,0,0),translate:new We(1,0,0,1,Ve,st),rotate:new We(L,te,-te,L,0,0),skew:new We(1,0,Vt,1,0,0)}},We.prototype.toString=function(L){return this.join(" ")},We.prototype.inversed=function(){var L=this.sx,te=this.shy,Ae=this.shx,Oe=this.sy,Ve=this.tx,st=this.ty,Tt=1/(L*Oe-te*Ae),Vt=Oe*Tt,A=-te*Tt,F=-Ae*Tt,X=L*Tt;return new We(Vt,A,F,X,-Vt*Ve-F*st,-A*Ve-X*st)},We.prototype.applyToPoint=function(L){var te=L.x*this.sx+L.y*this.shx+this.tx,Ae=L.x*this.shy+L.y*this.sy+this.ty;return new hc(te,Ae)},We.prototype.applyToRectangle=function(L){var te=this.applyToPoint(L),Ae=this.applyToPoint(new hc(L.x+L.w,L.y+L.h));return new wu(te.x,te.y,Ae.x-te.x,Ae.y-te.y)},We.prototype.clone=function(){var L=this.sx,te=this.shy,Ae=this.shx,Oe=this.sy,Ve=this.tx,st=this.ty;return new We(L,te,Ae,Oe,Ve,st)},p.Matrix=We;var rr=p.matrixMult=function(L,te){return te.multiply(L)},ir=new We(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ir;var jr=function(L,te){if(!Ye[L]){var Ae=(te instanceof Td?"Sh":"P")+(Object.keys(Me).length+1).toString(10);te.id=Ae,Ye[L]=Ae,Me[Ae]=te,Zt.publish("addPattern",te)}};p.ShadingPattern=Td,p.TilingPattern=P0,p.addShadingPattern=function(L,te){return _("addShadingPattern()"),jr(L,te),this},p.beginTilingPattern=function(L){_("beginTilingPattern()"),_u(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,te){_("endTilingPattern()"),te.stream=ye[R].join(`
`),jr(L,te),Zt.publish("endTilingPattern",te),ot.pop().restore()};var wr=p.__private__.newObject=function(){var L=Ur();return ae(L,!0),L},Ur=p.__private__.newObjectDeferred=function(){return Q++,oe[Q]=function(){return ne},Q},ae=function(L,te){return te=typeof te=="boolean"&&te,oe[L]=ne,te&&ie(L+" 0 obj"),L},we=p.__private__.newAdditionalObject=function(){var L={objId:Ur(),content:""};return he.push(L),L},me=Ur(),ge=Ur(),xe=p.__private__.decodeColorString=function(L){var te=L.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ae=parseFloat(te[0]);te=[Ae,Ae,Ae,"r"]}for(var Oe="#",Ve=0;Ve<3;Ve++)Oe+=("0"+Math.floor(255*parseFloat(te[Ve])).toString(16)).slice(-2);return Oe},_e=p.__private__.encodeColorString=function(L){var te;typeof L=="string"&&(L={ch1:L});var Ae=L.ch1,Oe=L.ch2,Ve=L.ch3,st=L.ch4,Tt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Vt=new OK(Ae);if(Vt.ok)Ae=Vt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var A=parseInt(Ae.substr(1),16);Ae=A>>16&255,Oe=A>>8&255,Ve=255&A}if(Oe===void 0||st===void 0&&Ae===Oe&&Oe===Ve)if(typeof Ae=="string")te=Ae+" "+Tt[0];else switch(L.precision){case 2:te=I(Ae/255)+" "+Tt[0];break;case 3:default:te=E(Ae/255)+" "+Tt[0]}else if(st===void 0||yn(st)==="object"){if(st&&!isNaN(st.a)&&st.a===0)return te=["1.","1.","1.",Tt[1]].join(" ");if(typeof Ae=="string")te=[Ae,Oe,Ve,Tt[1]].join(" ");else switch(L.precision){case 2:te=[I(Ae/255),I(Oe/255),I(Ve/255),Tt[1]].join(" ");break;default:case 3:te=[E(Ae/255),E(Oe/255),E(Ve/255),Tt[1]].join(" ")}}else if(typeof Ae=="string")te=[Ae,Oe,Ve,st,Tt[2]].join(" ");else switch(L.precision){case 2:te=[I(Ae),I(Oe),I(Ve),I(st),Tt[2]].join(" ");break;case 3:default:te=[E(Ae),E(Oe),E(Ve),E(st),Tt[2]].join(" ")}return te},Ge=p.__private__.getFilters=function(){return s},rt=p.__private__.putStream=function(L){var te=(L=L||{}).data||"",Ae=L.filters||Ge(),Oe=L.alreadyAppliedFilters||[],Ve=L.addLength1||!1,st=te.length,Tt=L.objectId,Vt=function(Cr){return Cr};if(u!==null&&Tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Vt=Vn.encryptor(Tt,0));var A={};Ae===!0&&(Ae=["FlateEncode"]);var F=L.additionalKeyValues||[],X=(A=gr.API.processDataByFilters!==void 0?gr.API.processDataByFilters(te,Ae):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(A.data.length!==0&&(F.push({key:"Length",value:A.data.length}),Ve===!0&&F.push({key:"Length1",value:st})),X.length!=0)if(X.split("/").length-1==1)F.push({key:"Filter",value:X});else{F.push({key:"Filter",value:"["+X+"]"});for(var ce=0;ce<F.length;ce+=1)if(F[ce].key==="DecodeParms"){for(var Ue=[],tt=0;tt<A.reverseChain.split("/").length-1;tt+=1)Ue.push("null");Ue.push(F[ce].value),F[ce].value="["+Ue.join(" ")+"]"}}ie("<<");for(var Nt=0;Nt<F.length;Nt++)ie("/"+F[Nt].key+" "+F[Nt].value);ie(">>"),A.data.length!==0&&(ie("stream"),ie(Vt(A.data)),ie("endstream"))},He=p.__private__.putPage=function(L){var te=L.number,Ae=L.data,Oe=L.objId,Ve=L.contentsObjId;ae(Oe,!0),ie("<</Type /Page"),ie("/Parent "+L.rootDictionaryObjId+" 0 R"),ie("/Resources "+L.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ie("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ie("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ie("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&ie("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ie("/UserUnit "+L.userUnit),Zt.publish("putPage",{objId:Oe,pageContext:Ot[te],pageNumber:te,page:Ae}),ie("/Contents "+Ve+" 0 R"),ie(">>"),ie("endobj");var st=Ae.join(`
`);return w===b.ADVANCED&&(st+=`
Q`),ae(Ve,!0),rt({data:st,filters:Ge(),objectId:Ve}),ie("endobj"),Oe},Qe=p.__private__.putPages=function(){var L,te,Ae=[];for(L=1;L<=Mt;L++)Ot[L].objId=Ur(),Ot[L].contentsObjId=Ur();for(L=1;L<=Mt;L++)Ae.push(He({number:L,data:ye[L],objId:Ot[L].objId,contentsObjId:Ot[L].contentsObjId,mediaBox:Ot[L].mediaBox,cropBox:Ot[L].cropBox,bleedBox:Ot[L].bleedBox,trimBox:Ot[L].trimBox,artBox:Ot[L].artBox,userUnit:Ot[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));ae(me,!0),ie("<</Type /Pages");var Oe="/Kids [";for(te=0;te<Mt;te++)Oe+=Ae[te]+" 0 R ";ie(Oe+"]"),ie("/Count "+Mt),ie(">>"),ie("endobj"),Zt.publish("postPutPages")},Je=function(L){Zt.publish("putFont",{font:L,out:ie,newObject:wr,putStream:rt}),L.isAlreadyPutted!==!0&&(L.objectNumber=wr(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+l0(L.postScriptName)),ie("/Subtype /Type1"),typeof L.encoding=="string"&&ie("/Encoding /"+L.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},St=function(){for(var L in ur)ur.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&Je(ur[L])},jt=function(L){L.objectNumber=wr();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ae=L.pages[1].join(`
`);rt({data:Ae,additionalKeyValues:te,objectId:L.objectNumber}),ie("endobj")},$t=function(){for(var L in br)br.hasOwnProperty(L)&&jt(br[L])},Pt=function(L,te){var Ae,Oe=[],Ve=1/(te-1);for(Ae=0;Ae<1;Ae+=Ve)Oe.push(Ae);if(Oe.push(1),L[0].offset!=0){var st={offset:0,color:L[0].color};L.unshift(st)}if(L[L.length-1].offset!=1){var Tt={offset:1,color:L[L.length-1].color};L.push(Tt)}for(var Vt="",A=0,F=0;F<Oe.length;F++){for(Ae=Oe[F];Ae>L[A+1].offset;)A++;var X=L[A].offset,ce=(Ae-X)/(L[A+1].offset-X),Ue=L[A].color,tt=L[A+1].color;Vt+=G(Math.round((1-ce)*Ue[0]+ce*tt[0]).toString(16))+G(Math.round((1-ce)*Ue[1]+ce*tt[1]).toString(16))+G(Math.round((1-ce)*Ue[2]+ce*tt[2]).toString(16))}return Vt.trim()},Rt=function(L,te){te||(te=21);var Ae=wr(),Oe=Pt(L.colors,te),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+te+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:Oe,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),ie("endobj"),L.objectNumber=wr(),ie("<< /ShadingType "+L.type),ie("/ColorSpace /DeviceRGB");var st="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?st+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):st+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),ie(st+="]"),L.matrix&&ie("/Matrix ["+L.matrix.toString()+"]"),ie("/Function "+Ae+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},fr=function(L,te){var Ae=Ur(),Oe=wr();te.push({resourcesOid:Ae,objectOid:Oe}),L.objectNumber=Oe;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Ve.push({key:"XStep",value:T(L.xStep)}),Ve.push({key:"YStep",value:T(L.yStep)}),Ve.push({key:"Resources",value:Ae+" 0 R"}),L.matrix&&Ve.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),rt({data:L.stream,additionalKeyValues:Ve,objectId:L.objectNumber}),ie("endobj")},Kr=function(L){var te;for(te in Me)Me.hasOwnProperty(te)&&(Me[te]instanceof Td?Rt(Me[te]):Me[te]instanceof P0&&fr(Me[te],L))},Yr=function(L){for(var te in L.objectNumber=wr(),ie("<<"),L)switch(te){case"opacity":ie("/ca "+I(L[te]));break;case"stroke-opacity":ie("/CA "+I(L[te]))}ie(">>"),ie("endobj")},bn=function(){var L;for(L in ht)ht.hasOwnProperty(L)&&Yr(ht[L])},Ka=function(){for(var L in ie("/XObject <<"),br)br.hasOwnProperty(L)&&br[L].objectNumber>=0&&ie("/"+L+" "+br[L].objectNumber+" 0 R");Zt.publish("putXobjectDict"),ie(">>")},$s=function(){Vn.oid=wr(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Vn.v),ie("/R "+Vn.r),ie("/U <"+Vn.toHexString(Vn.U)+">"),ie("/O <"+Vn.toHexString(Vn.O)+">"),ie("/P "+Vn.P),ie(">>"),ie("endobj")},de=function(){for(var L in ie("/Font <<"),ur)ur.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&ie("/"+L+" "+ur[L].objectNumber+" 0 R");ie(">>")},Pe=function(){if(Object.keys(Me).length>0){for(var L in ie("/Shading <<"),Me)Me.hasOwnProperty(L)&&Me[L]instanceof Td&&Me[L].objectNumber>=0&&ie("/"+L+" "+Me[L].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),ie(">>")}},wt=function(L){if(Object.keys(Me).length>0){for(var te in ie("/Pattern <<"),Me)Me.hasOwnProperty(te)&&Me[te]instanceof p.TilingPattern&&Me[te].objectNumber>=0&&Me[te].objectNumber<L&&ie("/"+te+" "+Me[te].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),ie(">>")}},Ut=function(){if(Object.keys(ht).length>0){var L;for(L in ie("/ExtGState <<"),ht)ht.hasOwnProperty(L)&&ht[L].objectNumber>=0&&ie("/"+L+" "+ht[L].objectNumber+" 0 R");Zt.publish("putGStateDict"),ie(">>")}},ut=function(L){ae(L.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),de(),Pe(),wt(L.objectOid),Ut(),Ka(),ie(">>"),ie("endobj")},pt=function(){var L=[];St(),bn(),$t(),Kr(L),Zt.publish("putResources"),L.forEach(ut),ut({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Lt=function(){Zt.publish("putAdditionalObjects");for(var L=0;L<he.length;L++){var te=he[L];ae(te.objId,!0),ie(te.content),ie("endobj")}Zt.publish("postPutAdditionalObjects")},Kt=function(L){Wr[L.fontName]=Wr[L.fontName]||{},Wr[L.fontName][L.fontStyle]=L.id},nr=function(L,te,Ae,Oe,Ve){var st={id:"F"+(Object.keys(ur).length+1).toString(10),postScriptName:L,fontName:te,fontStyle:Ae,encoding:Oe,isStandardFont:Ve||!1,metadata:{}};return Zt.publish("addFont",{font:st,instance:this}),ur[st.id]=st,Kt(st),st.id},Dr=function(L){for(var te=0,Ae=Se.length;te<Ae;te++){var Oe=nr.call(this,L[te][0],L[te][1],L[te][2],Se[te][3],!0);f===!1&&(h[Oe]=!0);var Ve=L[te][0].split("-");Kt({id:Oe,fontName:Ve[0],fontStyle:Ve[1]||""})}Zt.publish("addFonts",{fonts:ur,dictionary:Wr})},Fr=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Oe){var te=Oe.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var Ae="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!vr.console)throw new Error(Ae);vr.console.error(Ae,Oe),vr.alert&&alert(Ae)}},L.foo.bar=L,L.foo},Xr=function(L,te){var Ae,Oe,Ve,st,Tt,Vt,A,F,X;if(Ve=(te=te||{}).sourceEncoding||"Unicode",Tt=te.outputEncoding,(te.autoencode||Tt)&&ur[_t].metadata&&ur[_t].metadata[Ve]&&ur[_t].metadata[Ve].encoding&&(st=ur[_t].metadata[Ve].encoding,!Tt&&ur[_t].encoding&&(Tt=ur[_t].encoding),!Tt&&st.codePages&&(Tt=st.codePages[0]),typeof Tt=="string"&&(Tt=st[Tt]),Tt)){for(A=!1,Vt=[],Ae=0,Oe=L.length;Ae<Oe;Ae++)(F=Tt[L.charCodeAt(Ae)])?Vt.push(String.fromCharCode(F)):Vt.push(L[Ae]),Vt[Ae].charCodeAt(0)>>8&&(A=!0);L=Vt.join("")}for(Ae=L.length;A===void 0&&Ae!==0;)L.charCodeAt(Ae-1)>>8&&(A=!0),Ae--;if(!A)return L;for(Vt=te.noBOM?[]:[254,255],Ae=0,Oe=L.length;Ae<Oe;Ae++){if((X=(F=L.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(X),Vt.push(F-(X<<8))}return String.fromCharCode.apply(void 0,Vt)},Vr=p.__private__.pdfEscape=p.pdfEscape=function(L,te){return Xr(L,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ea=p.__private__.beginPage=function(L){ye[++Mt]=[],Ot[Mt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},es(Mt),Te(ye[R])},un=function(L,te){var Ae,Oe,Ve;switch(r=te||r,typeof L=="string"&&(Ae=y(L.toLowerCase()),Array.isArray(Ae)&&(Oe=Ae[0],Ve=Ae[1])),Array.isArray(L)&&(Oe=L[0]*ct,Ve=L[1]*ct),isNaN(Oe)&&(Oe=a[0],Ve=a[1]),(Oe>14400||Ve>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Ve=Math.min(14400,Ve)),a=[Oe,Ve],r.substr(0,1)){case"l":Ve>Oe&&(a=[Ve,Oe]);break;case"p":Oe>Ve&&(a=[Ve,Oe])}ea(a),nd(rd),ie(li),sd!==0&&ie(sd+" J"),bu!==0&&ie(bu+" j"),Zt.publish("addPage",{pageNumber:Mt})},ta=function(L){L>0&&L<=Mt&&(ye.splice(L,1),Ot.splice(L,1),Mt--,R>Mt&&(R=Mt),this.setPage(R))},es=function(L){L>0&&L<=Mt&&(R=L)},Er=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},bs=function(L,te,Ae){var Oe,Ve=void 0;return Ae=Ae||{},L=L!==void 0?L:ur[_t].fontName,te=te!==void 0?te:ur[_t].fontStyle,Oe=L.toLowerCase(),Wr[Oe]!==void 0&&Wr[Oe][te]!==void 0?Ve=Wr[Oe][te]:Wr[L]!==void 0&&Wr[L][te]!==void 0?Ve=Wr[L][te]:Ae.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+L+"', '"+te+"'. Refer to getFontList() for available fonts."),Ve||Ae.noFallback||(Ve=Wr.times[te])==null&&(Ve=Wr.times.normal),Ve},zo=p.__private__.putInfo=function(){var L=wr(),te=function(Oe){return Oe};for(var Ae in u!==null&&(te=Vn.encryptor(L,0)),ie("<<"),ie("/Producer ("+Vr(te("jsPDF "+gr.version))+")"),kt)kt.hasOwnProperty(Ae)&&kt[Ae]&&ie("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Vr(te(kt[Ae]))+")");ie("/CreationDate ("+Vr(te(Y))+")"),ie(">>"),ie("endobj")},Bs=p.__private__.putCatalog=function(L){var te=(L=L||{}).rootDictionaryObjId||me;switch(wr(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+te+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+be;Ae.substr(Ae.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+I(be)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}qe&&ie("/PageMode /"+qe),Zt.publish("putCatalog"),ie(">>"),ie("endobj")},vm=p.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(Q+1)),ie("/Root "+Q+" 0 R"),ie("/Info "+(Q-1)+" 0 R"),u!==null&&ie("/Encrypt "+Vn.oid+" 0 R"),ie("/ID [ <"+K+"> <"+K+"> ]"),ie(">>")},Ch=p.__private__.putHeader=function(){ie("%PDF-"+g),ie("%")},ym=p.__private__.putXRef=function(){var L="0000000000";ie("xref"),ie("0 "+(Q+1)),ie("0000000000 65535 f ");for(var te=1;te<=Q;te++)typeof oe[te]=="function"?ie((L+oe[te]()).slice(-10)+" 00000 n "):oe[te]!==void 0?ie((L+oe[te]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},qo=p.__private__.buildDocument=function(){Ce(),Te(fe),Zt.publish("buildDocument"),Ch(),Qe(),Lt(),pt(),u!==null&&$s(),zo(),Bs();var L=ne;return ym(),vm(),ie("startxref"),ie(""+L),ie("%%EOF"),Te(ye[R]),fe.join(`
`)},fu=p.__private__.getBlob=function(L){return new Blob([Ke(L)],{type:"application/pdf"})},du=p.output=p.__private__.output=Fr(function(L,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",L){case void 0:return qo();case"save":p.save(te.filename);break;case"arraybuffer":return Ke(qo());case"blob":return fu(qo());case"bloburi":case"bloburl":if(vr.URL!==void 0&&typeof vr.URL.createObjectURL=="function")return vr.URL&&vr.URL.createObjectURL(fu(qo()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Oe=qo();try{Ae=fE(Oe)}catch{Ae=fE(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",st=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Ve=te.pdfObjectUrl,st="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+st+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Vt=vr.open();return Vt!==null&&Vt.document.write(Tt),Vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',F=vr.open();if(F!==null){F.document.write(A);var X=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=te.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(X.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Ue=vr.open();if(Ue!==null&&(Ue.document.write(ce),Ue.document.title=te.filename),Ue||typeof safari>"u")return Ue;break;case"datauri":case"dataurl":return vr.document.location.href=this.output("datauristring",te);default:return null}}),Cl=function(L){return Array.isArray(xr)===!0&&xr.indexOf(L)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=Cl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var Vn=null;Z(),q();var Ph=function(L){return u!==null?Vn.encryptor(L,0):function(te){return te}},Zf=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[L].objId,pageNumber:L,pageContext:Ot[L]}},_r=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Ot)if(Ot[te].objId===L)break;return Zf(te)},Pl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ot[R].objId,pageNumber:R,pageContext:Ot[R]}};p.addPage=function(){return un.apply(this,arguments),this},p.setPage=function(){return es.apply(this,arguments),Te.call(this,ye[R]),this},p.insertPage=function(L){return this.addPage(),this.movePage(R,L),this},p.movePage=function(L,te){var Ae,Oe;if(L>te){Ae=ye[L],Oe=Ot[L];for(var Ve=L;Ve>te;Ve--)ye[Ve]=ye[Ve-1],Ot[Ve]=Ot[Ve-1];ye[te]=Ae,Ot[te]=Oe,this.setPage(te)}else if(L<te){Ae=ye[L],Oe=Ot[L];for(var st=L;st<te;st++)ye[st]=ye[st+1],Ot[st]=Ot[st+1];ye[te]=Ae,Ot[te]=Oe,this.setPage(te)}return this},p.deletePage=function(){return ta.apply(this,arguments),this},p.__private__.text=p.text=function(L,te,Ae,Oe,Ve){var st,Tt,Vt,A,F,X,ce,Ue,tt,Nt=(Oe=Oe||{}).scope||this;if(typeof L=="number"&&typeof te=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Cr=Ae;Ae=te,te=L,L=Cr}if(arguments[3]instanceof We?(_("The transform parameter of text() with a Matrix value"),tt=Ve):(Vt=arguments[4],A=arguments[5],yn(ce=arguments[3])==="object"&&ce!==null||(typeof Vt=="string"&&(A=Vt,Vt=null),typeof ce=="string"&&(A=ce,ce=null),typeof ce=="number"&&(Vt=ce,ce=null),Oe={flags:ce,angle:Vt,align:A})),isNaN(te)||isNaN(Ae)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Nt;var Qr="",Pr=!1,_n=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:wn,In=Nt.internal.scaleFactor;function Yo(Mn){return Mn=Mn.split("	").join(Array(Oe.TabLen||9).join(" ")),Vr(Mn,ce)}function ci(Mn){for(var Rn,va=Mn.concat(),Fa=[],yc=va.length;yc--;)typeof(Rn=va.shift())=="string"?Fa.push(Rn):Array.isArray(Mn)&&(Rn.length===1||Rn[1]===void 0&&Rn[2]===void 0)?Fa.push(Rn[0]):Fa.push([Rn[0],Rn[1],Rn[2]]);return Fa}function Dl(Mn,Rn){var va;if(typeof Mn=="string")va=Rn(Mn)[0];else if(Array.isArray(Mn)){for(var Fa,yc,Nm=Mn.concat(),zh=[],by=Nm.length;by--;)typeof(Fa=Nm.shift())=="string"?zh.push(Rn(Fa)[0]):Array.isArray(Fa)&&typeof Fa[0]=="string"&&(yc=Rn(Fa[0],Fa[1],Fa[2]),zh.push([yc[0],yc[1],yc[2]]));va=zh}return va}var Ll=!1,bm=!0;if(typeof L=="string")Ll=!0;else if(Array.isArray(L)){var wm=L.concat();Tt=[];for(var Lh,ui=wm.length;ui--;)(typeof(Lh=wm.shift())!="string"||Array.isArray(Lh)&&typeof Lh[0]!="string")&&(bm=!1);Ll=bm}if(Ll===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Mh=Re/Nt.internal.scaleFactor,Rh=Mh*(_n-1);switch(Oe.baseline){case"bottom":Ae-=Rh;break;case"top":Ae+=Mh-Rh;break;case"hanging":Ae+=Mh-2*Rh;break;case"middle":Ae+=Mh/2-Rh}if((X=Oe.maxWidth||0)>0&&(typeof L=="string"?L=Nt.splitTextToSize(L,X):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Mn,Rn){return Mn.concat(Nt.splitTextToSize(Rn,X))},[]))),st={text:L,x:te,y:Ae,options:Oe,mutex:{pdfEscape:Vr,activeFontKey:_t,fonts:ur,activeFontSize:Re}},Zt.publish("preProcessText",st),L=st.text,Vt=(Oe=st.options).angle,!(tt instanceof We)&&Vt&&typeof Vt=="number"){Vt*=Math.PI/180,Oe.rotationDirection===0&&(Vt=-Vt),w===b.ADVANCED&&(Vt=-Vt);var Fh=Math.cos(Vt),_m=Math.sin(Vt);tt=new We(Fh,_m,-_m,Fh,0,0)}else Vt&&Vt instanceof We&&(tt=Vt);w!==b.ADVANCED||tt||(tt=ir),(F=Oe.charSpace||dc)!==void 0&&(Qr+=T(N(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ue=Oe.horizontalScale)!==void 0&&(Qr+=T(100*Ue)+` Tz
`),Oe.lang;var ws=-1,m_=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,Sm=Nt.internal.getCurrentPageInfo().pageContext;switch(m_){case 0:case!1:case"fill":ws=0;break;case 1:case!0:case"stroke":ws=1;break;case 2:case"fillThenStroke":ws=2;break;case 3:case"invisible":ws=3;break;case 4:case"fillAndAddForClipping":ws=4;break;case 5:case"strokeAndAddPathForClipping":ws=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ws=6;break;case 7:case"addToPathForClipping":ws=7}var gy=Sm.usedRenderingMode!==void 0?Sm.usedRenderingMode:-1;ws!==-1?Qr+=ws+` Tr
`:gy!==-1&&(Qr+=`0 Tr
`),ws!==-1&&(Sm.usedRenderingMode=ws),A=Oe.align||"left";var uo,$h=Re*_n,vy=Nt.internal.pageSize.getWidth(),yy=ur[_t];F=Oe.charSpace||dc,X=Oe.maxWidth||0,ce=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var Tu=[],od=function(Mn){return Nt.getStringUnitWidth(Mn,{font:yy,charSpace:F,fontSize:Re,doKerning:!1})*Re/In};if(Object.prototype.toString.call(L)==="[object Array]"){var _s;Tt=ci(L),A!=="left"&&(uo=Tt.map(od));var ts,Eu=0;if(A==="right"){te-=uo[0],L=[],ui=Tt.length;for(var mc=0;mc<ui;mc++)mc===0?(ts=zs(te),_s=Ra(Ae)):(ts=N(Eu-uo[mc]),_s=-$h),L.push([Tt[mc],ts,_s]),Eu=uo[mc]}else if(A==="center"){te-=uo[0]/2,L=[],ui=Tt.length;for(var gc=0;gc<ui;gc++)gc===0?(ts=zs(te),_s=Ra(Ae)):(ts=N((Eu-uo[gc])/2),_s=-$h),L.push([Tt[gc],ts,_s]),Eu=uo[gc]}else if(A==="left"){L=[],ui=Tt.length;for(var Bh=0;Bh<ui;Bh++)L.push(Tt[Bh])}else if(A==="justify"&&yy.encoding==="Identity-H"){L=[],ui=Tt.length,X=X!==0?X:vy;for(var vc=0,ga=0;ga<ui;ga++)if(_s=ga===0?Ra(Ae):-$h,ts=ga===0?zs(te):vc,ga<ui-1){var Am=N((X-uo[ga])/(Tt[ga].split(" ").length-1)),rs=Tt[ga].split(" ");L.push([rs[0]+" ",ts,_s]),vc=0;for(var fo=1;fo<rs.length;fo++){var Uh=(od(rs[fo-1]+" "+rs[fo])-od(rs[fo]))*In+Am;fo==rs.length-1?L.push([rs[fo],Uh,0]):L.push([rs[fo]+" ",Uh,0]),vc-=Uh}}else L.push([Tt[ga],ts,_s]);L.push(["",vc,0])}else{if(A!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ui=Tt.length,X=X!==0?X:vy,ga=0;ga<ui;ga++)_s=ga===0?Ra(Ae):-$h,ts=ga===0?zs(te):0,ga<ui-1?Tu.push(T(N((X-uo[ga])/(Tt[ga].split(" ").length-1)))):Tu.push(0),L.push([Tt[ga],ts,_s])}}var xy=typeof Oe.R2L=="boolean"?Oe.R2L:Ee;xy===!0&&(L=Dl(L,function(Mn,Rn,va){return[Mn.split("").reverse().join(""),Rn,va]})),st={text:L,x:te,y:Ae,options:Oe,mutex:{pdfEscape:Vr,activeFontKey:_t,fonts:ur,activeFontSize:Re}},Zt.publish("postProcessText",st),L=st.text,Pr=st.mutex.isHex||!1;var Tm=ur[_t].encoding;Tm!=="WinAnsiEncoding"&&Tm!=="StandardEncoding"||(L=Dl(L,function(Mn,Rn,va){return[Yo(Mn),Rn,va]})),Tt=ci(L),L=[];for(var ld,cd,Nu,ud=0,Vh=1,fd=Array.isArray(Tt[0])?Vh:ud,ku="",Em=function(Mn,Rn,va){var Fa="";return va instanceof We?(va=typeof Oe.angle=="number"?rr(va,new We(1,0,0,1,Mn,Rn)):rr(new We(1,0,0,1,Mn,Rn),va),w===b.ADVANCED&&(va=rr(new We(1,0,0,-1,0,0),va)),Fa=va.join(" ")+` Tm
`):Fa=T(Mn)+" "+T(Rn)+` Td
`,Fa},ho=0;ho<Tt.length;ho++){switch(ku="",fd){case Vh:Nu=(Pr?"<":"(")+Tt[ho][0]+(Pr?">":")"),ld=parseFloat(Tt[ho][1]),cd=parseFloat(Tt[ho][2]);break;case ud:Nu=(Pr?"<":"(")+Tt[ho]+(Pr?">":")"),ld=zs(te),cd=Ra(Ae)}Tu!==void 0&&Tu[ho]!==void 0&&(ku=Tu[ho]+` Tw
`),ho===0?L.push(ku+Em(ld,cd,tt)+Nu):fd===ud?L.push(ku+Nu):fd===Vh&&L.push(ku+Em(ld,cd,tt)+Nu)}L=fd===ud?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var po=`BT
/`;return po+=_t+" "+Re+` Tf
`,po+=T(Re*_n)+` TL
`,po+=Go+`
`,po+=Qr,po+=L,ie(po+="ET"),h[_t]=!0,Nt};var xm=p.__private__.clip=p.clip=function(L){return ie(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return xm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ie("n"),this};var co=p.__private__.isValidStyle=function(L){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return co(L)&&(c=L),this};var Oh=p.__private__.getStyle=p.getStyle=function(L){var te=c;switch(L){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=L}return te},Us=p.close=function(){return ie("h"),this};p.stroke=function(){return ie("S"),this},p.fill=function(L){return hu("f",L),this},p.fillEvenOdd=function(L){return hu("f*",L),this},p.fillStroke=function(L){return hu("B",L),this},p.fillStrokeEvenOdd=function(L){return hu("B*",L),this};var hu=function(L,te){yn(te)==="object"?mu(te,L):ie(L)},ed=function(L){L===null||w===b.ADVANCED&&L===void 0||(L=Oh(L),ie(L))};function pu(L,te,Ae,Oe,Ve){var st=new P0(te||this.boundingBox,Ae||this.xStep,Oe||this.yStep,this.gState,Ve||this.matrix);st.stream=this.stream;var Tt=L+"$$"+this.cloneIndex+++"$$";return jr(Tt,st),st}var mu=function(L,te){var Ae=Ye[L.key],Oe=Me[Ae];if(Oe instanceof Td)ie("q"),ie(Ih(te)),Oe.gState&&p.setGState(Oe.gState),ie(L.matrix.toString()+" cm"),ie("/"+Ae+" sh"),ie("Q");else if(Oe instanceof P0){var Ve=new We(1,0,0,-1,0,Ni());L.matrix&&(Ve=Ve.multiply(L.matrix||ir),Ae=pu.call(Oe,L.key,L.boundingBox,L.xStep,L.yStep,Ve).id),ie("q"),ie("/Pattern cs"),ie("/"+Ae+" scn"),Oe.gState&&p.setGState(Oe.gState),ie(te),ie("Q")}},Ih=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wo=p.moveTo=function(L,te){return ie(T(N(L))+" "+T(U(te))+" m"),this},Vs=p.lineTo=function(L,te){return ie(T(N(L))+" "+T(U(te))+" l"),this},Ho=p.curveTo=function(L,te,Ae,Oe,Ve,st){return ie([T(N(L)),T(U(te)),T(N(Ae)),T(U(Oe)),T(N(Ve)),T(U(st)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,te,Ae,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||!co(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[Ae-L,Oe-te]],L,te,[1,1],Ve||"S"):this.lines([[Ae-L,Oe-te]],L,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,te,Ae,Oe,Ve,st){var Tt,Vt,A,F,X,ce,Ue,tt,Nt,Cr,Qr,Pr;if(typeof L=="number"&&(Pr=Ae,Ae=te,te=L,L=Pr),Oe=Oe||[1,1],st=st||!1,isNaN(te)||isNaN(Ae)||!Array.isArray(L)||!Array.isArray(Oe)||!co(Ve)||typeof st!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wo(te,Ae),Tt=Oe[0],Vt=Oe[1],F=L.length,Cr=te,Qr=Ae,A=0;A<F;A++)(X=L[A]).length===2?(Cr=X[0]*Tt+Cr,Qr=X[1]*Vt+Qr,Vs(Cr,Qr)):(ce=X[0]*Tt+Cr,Ue=X[1]*Vt+Qr,tt=X[2]*Tt+Cr,Nt=X[3]*Vt+Qr,Cr=X[4]*Tt+Cr,Qr=X[5]*Vt+Qr,Ho(ce,Ue,tt,Nt,Cr,Qr));return st&&Us(),ed(Ve),this},p.path=function(L){for(var te=0;te<L.length;te++){var Ae=L[te],Oe=Ae.c;switch(Ae.op){case"m":Wo(Oe[0],Oe[1]);break;case"l":Vs(Oe[0],Oe[1]);break;case"c":Ho.apply(this,Oe);break;case"h":Us()}}return this},p.__private__.rect=p.rect=function(L,te,Ae,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||!co(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Oe=-Oe),ie([T(N(L)),T(U(te)),T(N(Ae)),T(N(Oe)),"re"].join(" ")),ed(Ve),this},p.__private__.triangle=p.triangle=function(L,te,Ae,Oe,Ve,st,Tt){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||isNaN(Ve)||isNaN(st)||!co(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-L,Oe-te],[Ve-Ae,st-Oe],[L-Ve,te-st]],L,te,[1,1],Tt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,te,Ae,Oe,Ve,st,Tt){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||isNaN(Ve)||isNaN(st)||!co(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ae),st=Math.min(st,.5*Oe),this.lines([[Ae-2*Ve,0],[Ve*Vt,0,Ve,st-st*Vt,Ve,st],[0,Oe-2*st],[0,st*Vt,-Ve*Vt,st,-Ve,st],[2*Ve-Ae,0],[-Ve*Vt,0,-Ve,-st*Vt,-Ve,-st],[0,2*st-Oe],[0,-st*Vt,Ve*Vt,-st,Ve,-st]],L+Ve,te,[1,1],Tt,!0),this},p.__private__.ellipse=p.ellipse=function(L,te,Ae,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||!co(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var st=4/3*(Math.SQRT2-1)*Ae,Tt=4/3*(Math.SQRT2-1)*Oe;return Wo(L+Ae,te),Ho(L+Ae,te-Tt,L+st,te-Oe,L,te-Oe),Ho(L-st,te-Oe,L-Ae,te-Tt,L-Ae,te),Ho(L-Ae,te+Tt,L-st,te+Oe,L,te+Oe),Ho(L+st,te+Oe,L+Ae,te+Tt,L+Ae,te),ed(Ve),this},p.__private__.circle=p.circle=function(L,te,Ae,Oe){if(isNaN(L)||isNaN(te)||isNaN(Ae)||!co(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,te,Ae,Ae,Oe)},p.setFont=function(L,te,Ae){return Ae&&(te=j(te,Ae)),_t=bs(L,te,{disableWarning:!1}),this};var td=p.__private__.getFont=p.getFont=function(){return ur[bs.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,te,Ae={};for(L in Wr)if(Wr.hasOwnProperty(L))for(te in Ae[L]=[],Wr[L])Wr[L].hasOwnProperty(te)&&Ae[L].push(te);return Ae},p.addFont=function(L,te,Ae,Oe,Ve){var st=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&st.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&st.indexOf(arguments[3])==-1&&(Ae=j(Ae,Oe)),Ve=Ve||"Identity-H",nr.call(this,L,te,Ae,Ve)};var wn,rd=e.lineWidth||.200025,gu=p.__private__.getLineWidth=p.getLineWidth=function(){return rd},nd=p.__private__.setLineWidth=p.setLineWidth=function(L){return rd=L,ie(T(N(L))+" w"),this};p.__private__.setLineDash=gr.API.setLineDash=gr.API.setLineDashPattern=function(L,te){if(L=L||[],te=te||0,isNaN(te)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ae){return T(N(Ae))}).join(" "),te=T(N(te)),ie("["+L+"] "+te+" d"),this};var ad=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*wn};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*wn};var id=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(wn=L),this},fc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return wn};id(e.lineHeight);var zs=p.__private__.getHorizontalCoordinate=function(L){return N(L)},Ra=p.__private__.getVerticalCoordinate=function(L){return w===b.ADVANCED?L:Ot[R].mediaBox.topRightY-Ot[R].mediaBox.bottomLeftY-N(L)},jh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(zs(L))},Ol=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(Ra(L))},li=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(li)},p.__private__.setStrokeColor=p.setDrawColor=function(L,te,Ae,Oe){return li=_e({ch1:L,ch2:te,ch3:Ae,ch4:Oe,pdfColorType:"draw",precision:2}),ie(li),this};var vu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(vu)},p.__private__.setFillColor=p.setFillColor=function(L,te,Ae,Oe){return vu=_e({ch1:L,ch2:te,ch3:Ae,ch4:Oe,pdfColorType:"fill",precision:2}),ie(vu),this};var Go=e.textColor||"0 g",yu=p.__private__.getTextColor=p.getTextColor=function(){return xe(Go)};p.__private__.setTextColor=p.setTextColor=function(L,te,Ae,Oe){return Go=_e({ch1:L,ch2:te,ch3:Ae,ch4:Oe,pdfColorType:"text",precision:3}),this};var dc=e.charSpace,xu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(dc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dc=L,this};var sd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var te=p.CapJoinStyles[L];if(te===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=te,ie(te+" J"),this};var bu=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var te=p.CapJoinStyles[L];if(te===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bu=te,ie(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(T(N(L))+" M"),this},p.GState=Ew,p.setGState=function(L){(L=typeof L=="string"?ht[Dt[L]]:Il(null,L)).equals(Gt)||(ie("/"+L.id+" gs"),Gt=L)};var Il=function(L,te){if(!L||!Dt[L]){var Ae=!1;for(var Oe in ht)if(ht.hasOwnProperty(Oe)&&ht[Oe].equals(te)){Ae=!0;break}if(Ae)te=ht[Oe];else{var Ve="GS"+(Object.keys(ht).length+1).toString(10);ht[Ve]=te,te.id=Ve}return L&&(Dt[L]=te.id),Zt.publish("addGState",te),te}};p.addGState=function(L,te){return Il(L,te),this},p.saveGraphicsState=function(){return ie("q"),Ie.push({key:_t,size:Re,color:Go}),this},p.restoreGraphicsState=function(){ie("Q");var L=Ie.pop();return _t=L.key,Re=L.size,Go=L.color,Gt=null,this},p.setCurrentTransformationMatrix=function(L){return ie(L.toString()+" cm"),this},p.comment=function(L){return ie("#"+L),this};var hc=function(L,te){var Ae=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(st){isNaN(st)||(Ae=parseFloat(st))}});var Oe=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(st){isNaN(st)||(Oe=parseFloat(st))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(st){Ve=st.toString()}}),this},wu=function(L,te,Ae,Oe){hc.call(this,L,te),this.type="rect";var Ve=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Tt){isNaN(Tt)||(Ve=parseFloat(Tt))}});var st=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return st},set:function(Tt){isNaN(Tt)||(st=parseFloat(Tt))}}),this},pc=function(){this.page=Mt,this.currentPage=R,this.pages=ye.slice(0),this.pagesContext=Ot.slice(0),this.x=er,this.y=Wt,this.matrix=Gr,this.width=jl(R),this.height=Ni(R),this.outputDestination=ke,this.id="",this.objectNumber=-1};pc.prototype.restore=function(){Mt=this.page,R=this.currentPage,Ot=this.pagesContext,ye=this.pages,er=this.x,Wt=this.y,Gr=this.matrix,Su(R,this.width),Au(R,this.height),ke=this.outputDestination};var _u=function(L,te,Ae,Oe,Ve){ot.push(new pc),Mt=R=0,ye=[],er=L,Wt=te,Gr=Ve,ea([Ae,Oe])},Dh=function(L){if(Ne[L])ot.pop().restore();else{var te=new pc,Ae="Xo"+(Object.keys(br).length+1).toString(10);te.id=Ae,Ne[L]=Ae,br[Ae]=te,Zt.publish("addFormObject",te),ot.pop().restore()}};for(var Ko in p.beginFormObject=function(L,te,Ae,Oe,Ve){return _u(L,te,Ae,Oe,Ve),this},p.endFormObject=function(L){return Dh(L),this},p.doFormObject=function(L,te){var Ae=br[Ne[L]];return ie("q"),ie(te.toString()+" cm"),ie("/"+Ae.id+" Do"),ie("Q"),this},p.getFormObject=function(L){var te=br[Ne[L]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(L,te){return L=L||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Sd(fu(qo()),L),typeof Sd.unload=="function"&&vr.setTimeout&&setTimeout(Sd.unload,911),this):new Promise(function(Ae,Oe){try{var Ve=Sd(fu(qo()),L);typeof Sd.unload=="function"&&vr.setTimeout&&setTimeout(Sd.unload,911),Ae(Ve)}catch(st){Oe(st.message)}})},gr.API)gr.API.hasOwnProperty(Ko)&&(Ko==="events"&&gr.API.events.length?function(L,te){var Ae,Oe,Ve;for(Ve=te.length-1;Ve!==-1;Ve--)Ae=te[Ve][0],Oe=te[Ve][1],L.subscribe.apply(L,[Ae].concat(typeof Oe=="function"?[Oe]:Oe))}(Zt,gr.API.events):p[Ko]=gr.API[Ko]);var jl=p.getPageWidth=function(L){return(Ot[L=L||R].mediaBox.topRightX-Ot[L].mediaBox.bottomLeftX)/ct},Su=p.setPageWidth=function(L,te){Ot[L].mediaBox.topRightX=te*ct+Ot[L].mediaBox.bottomLeftX},Ni=p.getPageHeight=function(L){return(Ot[L=L||R].mediaBox.topRightY-Ot[L].mediaBox.bottomLeftY)/ct},Au=p.setPageHeight=function(L,te){Ot[L].mediaBox.topRightY=te*ct+Ot[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:Vr,getStyle:Oh,getFont:td,getFontSize:je,getCharSpace:xu,getTextColor:yu,getLineHeight:ad,getLineHeightFactor:fc,getLineWidth:gu,write:$e,getHorizontalCoordinate:zs,getVerticalCoordinate:Ra,getCoordinateString:jh,getVerticalCoordinateString:Ol,collections:{},newObject:wr,newAdditionalObject:we,newObjectDeferred:Ur,newObjectDeferredBegin:ae,getFilters:Ge,putStream:rt,events:Zt,scaleFactor:ct,pageSize:{getWidth:function(){return jl(R)},setWidth:function(L){Su(R,L)},getHeight:function(){return Ni(R)},setHeight:function(L){Au(R,L)}},encryptionOptions:u,encryption:Vn,getEncryptor:Ph,output:du,getNumberOfPages:Er,pages:ye,out:ie,f2:I,f3:E,getPageInfo:Zf,getPageInfoByObjId:_r,getCurrentPageInfo:Pl,getPDFVersion:m,Point:hc,Rectangle:wu,Matrix:We,hasHotfix:Cl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return jl(R)},set:function(L){Su(R,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ni(R)},set:function(L){Au(R,L)},enumerable:!0,configurable:!0}),Dr.call(p,Se),_t="F1",un(a,r),Zt.publish("initialized"),p}o0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},o0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},o0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},o0.prototype.processOwnerPassword=function(e,t){return hE(dE(t).substr(0,5),e)},o0.prototype.encryptor=function(e,t){var r=dE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return hE(r,n)}},Ew.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||yn(e)!==yn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},gr.API={events:[]},gr.version="3.0.1";var ua=gr.API,EP=1,kh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},t0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Or=function(e){return e.toFixed(2)},Bu=function(e){return e.toFixed(5)};ua.__acroform__={};var Fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},y7=function(e){return e*EP},Bl=function(e){var t=new LK,r=tr.internal.getHeight(e)||0,n=tr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Or(n)),Number(Or(r))],t},g9e=ua.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},v9e=ua.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},y9e=ua.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},wa=ua.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return y9e(e,t-1)},_a=ua.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return g9e(e,t-1)},Sa=ua.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return v9e(e,t-1)},x9e=ua.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Or(l.lowerLeft_X)),Number(Or(l.lowerLeft_Y)),Number(Or(l.upperRight_X)),Number(Or(l.upperRight_Y))]},b9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=pE(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Or(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Bl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},pE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=tr.internal.getHeight(e)||0;s=s<0?-s:s;var o=tr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,N,O){if(E+1<a.length){var U=N+" "+a[E+1][0];return $x(U,e,O).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=$x("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+$x(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var D=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(b+2)+2>s)continue e;y+=a[w][v],D=!0,m=w,w--}else{y=(y+=a[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(w),j=l(P,y,i),T=w>=a.length-1;if(j&&!T){y+=" ",v=0;continue}if(j||T){if(T)m=P;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;m=P}}for(var _="",S=g;S<=m;S++){var I=a[S];if(e.multiline){if(S===m){_+=I[v]+" ",v=(v+1)%I.length;continue}if(S===g){_+=I[I.length-1]+" ";continue}}_+=I[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=$x(_,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=Or(c)+" "+Or(p)+` Td
`,t+="("+kh(_)+`) Tj
`,t+=-Or(c)+` 0 Td
`,p=-(i+2),u=0,g=D?m:m+1,b++,y=""}break}return n.text=t,n.fontSize=i,n},$x=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},w9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},S9e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),yn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},A9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Nl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(w9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new MK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&_9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=x9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=tr.createDefaultAppearanceStream(o),yn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=b9e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&S9e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},DK=ua.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),yn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+kh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},EA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+kh(n(e))+")"},Wl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wl.prototype.toString=function(){return this.objId+" 0 R"},Wl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:DK(a,this.objId,this.scope)}):a instanceof Wl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var LK=function(){Wl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Fs(LK,Wl);var MK=function(){Wl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+kh(r(e))+")"}},set:function(r){e=r}})};Fs(MK,Wl);var Nl=function e(){Wl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wa(t,3)},set:function(y){y?this.F=_a(t,3):this.F=Sa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Nw)return;i="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+kh(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/EP:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Nw||this instanceof Hd))return EA(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ti?h:EA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof ti?y:y.substr(0,1)==="("?t0(y.substr(1,y.length-2)):t0(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ti?t0(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof ti?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ti?p:EA(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof ti?y:y.substr(0,1)==="("?t0(y.substr(1,y.length-2)):t0(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ti?t0(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof ti?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,1)},set:function(y){y?this.Ff=_a(this.Ff,1):this.Ff=Sa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,2)},set:function(y){y?this.Ff=_a(this.Ff,2):this.Ff=Sa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,3)},set:function(y){y?this.Ff=_a(this.Ff,3):this.Ff=Sa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Fs(Nl,Wl);var H0=function(){Nl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,18)},set:function(r){r?this.Ff=_a(this.Ff,18):this.Ff=Sa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=_a(this.Ff,19):this.Ff=Sa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,20)},set:function(r){r?(this.Ff=_a(this.Ff,20),t.sort()):this.Ff=Sa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,22)},set:function(r){r?this.Ff=_a(this.Ff,22):this.Ff=Sa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,23)},set:function(r){r?this.Ff=_a(this.Ff,23):this.Ff=Sa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,27)},set:function(r){r?this.Ff=_a(this.Ff,27):this.Ff=Sa(this.Ff,27)}}),this.hasAppearanceStream=!1};Fs(H0,Nl);var G0=function(){H0.call(this),this.fontName="helvetica",this.combo=!1};Fs(G0,H0);var K0=function(){G0.call(this),this.combo=!0};Fs(K0,G0);var d2=function(){K0.call(this),this.edit=!0};Fs(d2,K0);var ti=function(){Nl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,15)},set:function(r){r?this.Ff=_a(this.Ff,15):this.Ff=Sa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,16)},set:function(r){r?this.Ff=_a(this.Ff,16):this.Ff=Sa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,17)},set:function(r){r?this.Ff=_a(this.Ff,17):this.Ff=Sa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,26)},set:function(r){r?this.Ff=_a(this.Ff,26):this.Ff=Sa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+kh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){yn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Fs(ti,Nl);var h2=function(){ti.call(this),this.pushButton=!0};Fs(h2,ti);var Y0=function(){ti.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Fs(Y0,ti);var Nw=function(){var e,t;Nl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+kh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){yn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fs(Nw,Nl),Y0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Y0.prototype.createOption=function(e){var t=new Nw;return t.Parent=this,t.optionName=e,this.Kids.push(t),T9e.call(this.scope,t),t};var p2=function(){ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tr.CheckBox.createAppearanceStream()};Fs(p2,ti);var Hd=function(){Nl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,13)},set:function(t){t?this.Ff=_a(this.Ff,13):this.Ff=Sa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,21)},set:function(t){t?this.Ff=_a(this.Ff,21):this.Ff=Sa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,23)},set:function(t){t?this.Ff=_a(this.Ff,23):this.Ff=Sa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,24)},set:function(t){t?this.Ff=_a(this.Ff,24):this.Ff=Sa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,25)},set:function(t){t?this.Ff=_a(this.Ff,25):this.Ff=Sa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,26)},set:function(t){t?this.Ff=_a(this.Ff,26):this.Ff=Sa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fs(Hd,Nl);var m2=function(){Hd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,14)},set:function(e){e?this.Ff=_a(this.Ff,14):this.Ff=Sa(this.Ff,14)}}),this.password=!0};Fs(m2,Hd);var tr={CheckBox:{createAppearanceStream:function(){return{N:{On:tr.CheckBox.YesNormal},D:{On:tr.CheckBox.YesPushDown,Off:tr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=pE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Or(tr.internal.getWidth(e))+" "+Or(tr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Or(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=tr.internal.getHeight(e),s=tr.internal.getWidth(e),o=pE(e,e.caption);return a.push("1 g"),a.push("0 0 "+Or(s)+" "+Or(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Or(s-1)+" "+Or(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Or(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Or(tr.internal.getWidth(e))+" "+Or(tr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:tr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=tr.RadioButton.Circle.YesNormal,t.D[e]=tr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=tr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bu(tr.internal.getWidth(e)/2)+" "+Bu(tr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*tr.internal.Bezier_C).toFixed(5)),s=Number((n*tr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(tr.internal.getWidth(e)/2)+" "+Bu(tr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bu(tr.internal.getWidth(e)/2)+" "+Bu(tr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*tr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(tr.internal.getWidth(e)/2)+" "+Bu(tr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:tr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=tr.RadioButton.Cross.YesNormal,t.D[e]=tr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=tr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Or(tr.internal.getWidth(e)-2)+" "+Or(tr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Or(n.x1.x)+" "+Or(n.x1.y)+" m"),r.push(Or(n.x2.x)+" "+Or(n.x2.y)+" l"),r.push(Or(n.x4.x)+" "+Or(n.x4.y)+" m"),r.push(Or(n.x3.x)+" "+Or(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=tr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Or(tr.internal.getWidth(e))+" "+Or(tr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Or(tr.internal.getWidth(e)-2)+" "+Or(tr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Or(r.x1.x)+" "+Or(r.x1.y)+" m"),n.push(Or(r.x2.x)+" "+Or(r.x2.y)+" l"),n.push(Or(r.x4.x)+" "+Or(r.x4.y)+" m"),n.push(Or(r.x3.x)+" "+Or(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Or(tr.internal.getWidth(e))+" "+Or(tr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};tr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=tr.internal.getWidth(e),r=tr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},tr.internal.getWidth=function(e){var t=0;return yn(e)==="object"&&(t=y7(e.Rect[2])),t},tr.internal.getHeight=function(e){var t=0;return yn(e)==="object"&&(t=y7(e.Rect[3])),t};var T9e=ua.addField=function(e){if(A9e(this,e),!(e instanceof Nl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ua.AcroFormChoiceField=H0,ua.AcroFormListBox=G0,ua.AcroFormComboBox=K0,ua.AcroFormEditBox=d2,ua.AcroFormButton=ti,ua.AcroFormPushButton=h2,ua.AcroFormRadioButton=Y0,ua.AcroFormCheckBox=p2,ua.AcroFormTextField=Hd,ua.AcroFormPasswordField=m2,ua.AcroFormAppearance=tr,ua.AcroForm={ChoiceField:H0,ListBox:G0,ComboBox:K0,EditBox:d2,Button:ti,PushButton:h2,RadioButton:Y0,CheckBox:p2,TextField:Hd,PasswordField:m2,Appearance:tr},gr.AcroForm={ChoiceField:H0,ListBox:G0,ComboBox:K0,EditBox:d2,Button:ti,PushButton:h2,RadioButton:Y0,CheckBox:p2,TextField:Hd,PasswordField:m2,Appearance:tr};function RK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,N){var O,U,Y,K,J,q=t;if((N=N||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(j(E))for(J in r)for(Y=r[J],O=0;O<Y.length;O+=1){for(K=!0,U=0;U<Y[O].length;U+=1)if(Y[O][U]!==void 0&&Y[O][U]!==E[U]){K=!1;break}if(K===!0){q=J;break}}else for(J in r)for(Y=r[J],O=0;O<Y.length;O+=1){for(K=!0,U=0;U<Y[O].length;U+=1)if(Y[O][U]!==void 0&&Y[O][U]!==E.charCodeAt(U)){K=!1;break}if(K===!0){q=J;break}}return q===t&&N!==t&&(q=N),q},a=function E(N){for(var O=this.internal.write,U=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:N.width}),K.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var J="",q=0,V=N.transparency.length;q<V;q++)J+=N.transparency[q]+" "+N.transparency[q]+" ";K.push({key:"Mask",value:"["+J+"]"})}N.sMask!==void 0&&K.push({key:"SMask",value:N.objectId+1+" 0 R"});var ee=N.filter!==void 0?["/"+N.filter]:void 0;if(U({data:N.data,additionalKeyValues:K,alreadyAppliedFilters:ee,objectId:N.objectId}),O("endobj"),"sMask"in N&&N.sMask!==void 0){var Z="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,k={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Z,data:N.sMask};"filter"in N&&(k.filter=N.filter),E.call(this,k)}if(N.colorSpace===v.INDEXED){var R=this.internal.newObject();U({data:_(new Uint8Array(N.palette)),objectId:R}),O("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var N in E)a.call(this,E[N])},s=function(){var E,N=this.internal.collections.addImage_images,O=this.internal.write;for(var U in N)O("/I"+(E=N[U]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return yn(E)==="object"&&E.nodeType===1},h=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var O=""+E.getAttribute("src");if(O.indexOf("data:image/")===0)return rv(unescape(O).split("base64,").pop());var U=e.loadFile(O,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Y;switch(N){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return rv(E.toDataURL(Y,1).split("base64,").pop())}},p=function(E){var N=this.internal.collections.addImage_images;if(N){for(var O in N)if(E===N[O].alias)return N[O]}},g=function(E,N,O){return E||N||(E=-96,N=-96),E<0&&(E=-1*O.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*O.height*72/N/this.internal.scaleFactor),E===0&&(E=N*O.width/O.height),N===0&&(N=E*O.height/O.width),[E,N]},m=function(E,N,O,U,Y,K){var J=g.call(this,O,U,Y),q=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,ee=l.call(this);if(O=J[0],U=J[1],ee[Y.index]=Y,K){K*=Math.PI/180;var Z=Math.cos(K),k=Math.sin(K),R=function(G){return G.toFixed(4)},z=[R(Z),R(k),R(-1*k),R(Z),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,q(E),V(N+U),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([q(O),"0","0",q(U),"0","0","cm"].join(" "))):this.internal.write([q(O),"0","0",q(U),q(E),V(N+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(E){var N,O,U=0;if(typeof E=="string")for(O=E.length,N=0;N<O;N++)U=(U<<5)-U+E.charCodeAt(N),U|=0;else if(j(E))for(O=E.byteLength/2,N=0;N<O;N++)U=(U<<5)-U+E[N],U|=0;return U},w=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},D=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var N=E.indexOf(",");return N<0?null:E.substring(0,N).trim().endsWith("base64")?E.substring(N+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return P()&&E instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(E){return P()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,O=new Uint8Array(N),U=0;U<N;U++)O[U]=E.charCodeAt(U);return O},_=e.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",O=j(E)?E:new Uint8Array(E),U=0;U<O.length;U+=8192)N+=String.fromCharCode.apply(null,O.subarray(U,U+8192));return N};e.addImage=function(){var E,N,O,U,Y,K,J,q,V;if(typeof arguments[1]=="number"?(N=t,O=arguments[1],U=arguments[2],Y=arguments[3],K=arguments[4],J=arguments[5],q=arguments[6],V=arguments[7]):(N=arguments[1],O=arguments[2],U=arguments[3],Y=arguments[4],K=arguments[5],J=arguments[6],q=arguments[7],V=arguments[8]),yn(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ee=E;E=ee.imageData,N=ee.format||N||t,O=ee.x||O||0,U=ee.y||U||0,Y=ee.w||ee.width||Y,K=ee.h||ee.height||K,J=ee.alias||J,q=ee.compression||q,V=ee.rotation||ee.angle||V}var Z=this.internal.getFilters();if(q===void 0&&Z.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(O)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=S.call(this,E,N,J,q);return m.call(this,O,U,Y,K,k,V),this};var S=function(E,N,O,U){var Y,K,J;if(typeof E=="string"&&n(E)===t){E=unescape(E);var q=I(E,!1);(q!==""||(q=e.loadFile(E,!0))!==void 0)&&(E=q)}if(f(E)&&(E=h(E,N)),N=n(E,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((J=O)==null||J.length===0)&&(O=function(V){return typeof V=="string"||j(V)?b(V):j(V.data)?b(V.data):null}(E)),(Y=p.call(this,O))||(P()&&(E instanceof Uint8Array||N==="RGBA"||(K=E,E=T(E))),Y=this["process"+N.toUpperCase()](E,c.call(this),O,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in e.image_compression?V:y.NONE}(U),K)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},I=e.__addimage__.convertBase64ToBinaryString=function(E,N){N=typeof N!="boolean"||N;var O,U="";if(typeof E=="string"){var Y;O=(Y=D(E))!==null&&Y!==void 0?Y:E;try{U=rv(O)}catch(K){if(N)throw w(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(E){var N,O,U="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((U=I(E,!1))===""&&(U=e.loadFile(E)||""),E=U),O=n(E),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!P()||E instanceof Uint8Array||(E=T(E)),!(N=this["process"+O.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=O,N}})(gr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};gr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(b))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(gr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,b="",w=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(w++,typeof(y=y[m.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,w=0),v===m.length-1&&(y=r,b+=m.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,b+=m.charAt(v-w),v-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,b=0,w="",D="",P="",j=(m=m||"").split("\\s+"),T=[];for(v=0;v<j.length;v+=1){for(T.push(""),y=0;y<j[v].length;y+=1)w=j[v][y],D=j[v][y-1],P=j[v][y+1],s(w)?(b=h(w,D,P),T[v]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):T[v]+=w;T[v]=f(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([p(v[b][0]),v[b][1],v[b][2]]):y.push([p(v[b])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(gr.API),gr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(gr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,D){return w.concat(v.splitTextToSize(D,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(m=this.getStringUnitWidth(l[b],{font:f})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],b=[],w=[],D={},P={},j=[],T=[],_=(h=h||{}).autoSize||!1,S=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=U,this.setFontSize(I),f==null)b=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&yn(f[0])==="object")for(y=f.map(function(ee){return ee.name}),b=f.map(function(ee){return ee.prompt||ee.name||""}),w=f.map(function(ee){return ee.align||"left"}),p=0;p<f.length;p+=1)P[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=y=f,w=y.map(function(){return"left"}));if(_||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(D[v=y[p]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)j.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,j)+N+N,j=[]}if(S){var Y={};for(p=0;p<y.length;p+=1)Y[y[p]]={},Y[y[p]].text=b[p],Y[y[p]].align=w[p];var K=o.call(this,Y,P);T=y.map(function(ee){return new i(l,c,P[ee],K,Y[ee].text,void 0,Y[ee].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var J=f.reduce(function(ee,Z){return ee[Z.name]=Z.align,ee},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var q=o.call(this,u[p],P);for(m=0;m<y.length;m+=1){var V=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:V},this),s.call(this,new i(l,c,P[y[m]],q,V,p+2,J[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(gr.API);var FK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$K=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],mE=RK($K),BK=[100,200,300,400,500,600,700,800,900],E9e=RK(BK);function gE(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return FK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof mE[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function x7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var N9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},b7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function w7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function k9e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},N9e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=gE(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+w7(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=mE[l],f=u<=mE.normal?-1:1,h=x7(c,$K,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=FK[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=E9e[l],f=x7(c,BK,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+w7(i)+"'.");return s}function _7(e){return e.trimLeft()}function C9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function P9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Bx,S7,A7,NA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=k;Object.defineProperty(this,"pdf",{get:function(){return R}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Te){z=!!Te}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Te){G=!!Te}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Te){isNaN(Te)||(Q=Te)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Te){isNaN(Te)||(oe=Te)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Te){var ie;typeof Te=="number"?ie=[Te,Te,Te,Te]:((ie=new Array(4))[0]=Te[0],ie[1]=Te.length>=2?Te[1]:ie[0],ie[2]=Te.length>=3?Te[2]:ie[0],ie[3]=Te.length>=4?Te[3]:ie[1]),c.margin=ie}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Te){fe=Te}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Te){ne=Te}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Te){he=Te}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Te){Te instanceof u&&(c=Te)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Te){c.path=Te}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(Te){ye=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var ie;ie=h(Te),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var ie=h(Te);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var W=null;function ke(Te,ie){if(W===null){var $e=function(Ke){var Se=[];return Object.keys(Ke).forEach(function(Re){Ke[Re].forEach(function(be){var je=null;switch(be){case"bold":je={family:Re,weight:"bold"};break;case"italic":je={family:Re,style:"italic"};break;case"bolditalic":je={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":je={family:Re}}je!==null&&(je.ref={name:Re,style:be},Se.push(je))})}),Se}(Te.getFontList());W=function(Ke){for(var Se={},Re=0;Re<Ke.length;++Re){var be=gE(Ke[Re]),je=be.family,Ee=be.stretch,qe=be.style,at=be.weight;Se[je]=Se[je]||{},Se[je][Ee]=Se[je][Ee]||{},Se[je][Ee][qe]=Se[je][Ee][qe]||{},Se[je][Ee][qe][at]=be}return Se}($e.concat(ie))}return W}var Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(Te){W=null,Ce=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var ie;if(this.ctx.font=Te,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var $e=ie[1];ie[2];var Ke=ie[3],Se=ie[4];ie[5];var Re=ie[6],be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(be==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var je=function(kt){var _t,ct,er=[],Wt=kt.trim();if(Wt==="")return NA;if(Wt in b7)return[b7[Wt]];for(;Wt!=="";){switch(ct=null,_t=(Wt=_7(Wt)).charAt(0)){case'"':case"'":ct=C9e(Wt.substring(1),_t);break;default:ct=P9e(Wt)}if(ct===null||(er.push(ct[0]),(Wt=_7(ct[1]))!==""&&Wt.charAt(0)!==","))return NA;Wt=Wt.replace(/^,/,"")}return er}(Re);if(this.fontFaces){var Ee=k9e(ke(this.pdf,this.fontFaces),je.map(function(kt){return{family:kt,stretch:"normal",weight:Ke,style:$e}}));this.pdf.setFont(Ee.ref.name,Ee.ref.style)}else{var qe="";(Ke==="bold"||parseInt(Ke,10)>=700||$e==="bold")&&(qe="bold"),$e==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var at="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<je.length;ft++){if(this.pdf.internal.getFont(je[ft],qe,{noFallback:!0,disableWarning:!0})!==void 0){at=je[ft];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(je[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=je[ft],qe="bold";else if(this.pdf.internal.getFont(je[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=je[ft],qe="normal";break}}if(at===""){for(var Et=0;Et<je.length;Et++)if(nt[je[Et]]){at=nt[je[Et]];break}}at=at===""?"Times":at,this.pdf.setFont(at,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){D.call(this,"fill",!1)},f.prototype.stroke=function(){D.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(k,R)},f.prototype.closePath=function(){var k=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&yn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){k=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},f.prototype.lineTo=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,R,z,G){if(isNaN(z)||isNaN(G)||isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(z,G)),oe=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.bezierCurveTo=function(k,R,z,G,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(Q,oe)),ne=this.ctx.transform.applyToPoint(new s(k,R)),he=this.ctx.transform.applyToPoint(new s(z,G));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:he.x,y2:he.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},f.prototype.arc=function(k,R,z,G,Q,oe){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G)||isNaN(Q))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(k,R));k=fe.x,R=fe.y;var ne=this.ctx.transform.applyToPoint(new s(0,z)),he=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(ne.x-he.x,2)+Math.pow(ne.y-he.y,2))}Math.abs(Q-G)>=2*Math.PI&&(G=0,Q=2*Math.PI),this.path.push({type:"arc",x:k,y:R,radius:z,startAngle:G,endAngle:Q,counterclockwise:oe})},f.prototype.arcTo=function(k,R,z,G,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,R),this.lineTo(k+z,R),this.lineTo(k+z,R+G),this.lineTo(k,R+G),this.lineTo(k,R),this.lineTo(k+z,R),this.lineTo(k,R)},f.prototype.fillRect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,R,z,G),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(k,R,z,G),this.stroke())},f.prototype.clearRect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,R,z,G))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(R),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(k){var R,z,G,Q;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))R=0,z=0,G=0,Q=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(oe!==null)R=parseInt(oe[1]),z=parseInt(oe[2]),G=parseInt(oe[3]),Q=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)R=parseInt(oe[1]),z=parseInt(oe[2]),G=parseInt(oe[3]),Q=parseFloat(oe[4]);else{if(Q=1,typeof k=="string"&&k.charAt(0)!=="#"){var fe=new OK(k);k=fe.ok?fe.toHex():"#000000"}k.length===4?(R=k.substring(1,2),R+=R,z=k.substring(2,3),z+=z,G=k.substring(3,4),G+=G):(R=k.substring(1,3),z=k.substring(3,5),G=k.substring(5,7)),R=parseInt(R,16),z=parseInt(z,16),G=parseInt(G,16)}}return{r:R,g:z,b:G,a:Q,style:k}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,R,z,G){if(isNaN(R)||isNaN(z)||typeof k!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!p.call(this)){var Q=q(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:k,x:R,y:z,scale:oe,angle:Q,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(k,R,z,G){if(isNaN(R)||isNaN(z)||typeof k!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){G=isNaN(G)?void 0:G;var Q=q(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:k,x:R,y:z,scale:oe,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(k){if(typeof k!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,z=this.pdf.internal.scaleFactor,G=R.internal.getFontSize(),Q=R.getStringUnitWidth(k)*G/R.internal.scaleFactor,oe=function(fe){var ne=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new oe({width:Q*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(k,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(k){if(isNaN(k))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,k,R);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(k,R,z,G,Q,oe){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G)||isNaN(Q)||isNaN(oe))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(k,R,z,G,Q,oe);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function(k,R,z,G,Q,oe){k=isNaN(k)?1:k,R=isNaN(R)?0:R,z=isNaN(z)?0:z,G=isNaN(G)?1:G,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(k,R,z,G,Q,oe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,R,z,G,Q,oe,fe,ne,he){var ye=this.pdf.getImageProperties(k),W=1,ke=1,Ce=1,Te=1;G!==void 0&&ne!==void 0&&(Ce=ne/G,Te=he/Q,W=ye.width/G*ne/G,ke=ye.height/Q*he/Q),oe===void 0&&(oe=R,fe=z,R=0,z=0),G!==void 0&&ne===void 0&&(ne=G,he=Q),G===void 0&&ne===void 0&&(ne=ye.width,he=ye.height);for(var ie,$e=this.ctx.transform.decompose(),Ke=q($e.rotate.shx),Se=new l,Re=(Se=(Se=(Se=Se.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new o(oe-R*Ce,fe-z*Te,G*W,Q*ke)),be=v.call(this,Re),je=[],Ee=0;Ee<be.length;Ee+=1)je.indexOf(be[Ee])===-1&&je.push(be[Ee]);if(w(je),this.autoPaging)for(var qe=je[0],at=je[je.length-1],nt=qe;nt<at+1;nt++){this.pdf.setPage(nt);var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=nt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=nt===1?0:kt+(nt-2)*_t;if(this.ctx.clip_path.length!==0){var er=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ie,this.posX+this.margin[3],-ct+Et+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=er}var Wt=JSON.parse(JSON.stringify(Re));Wt=b([Wt],this.posX+this.margin[3],-ct+Et+this.ctx.prevPageLastElemOffset)[0];var Gr=(nt>qe||nt<at)&&m.call(this);Gr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,_t,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,Ke),Gr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Ke)};var v=function(k,R,z){var G=[];R=R||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":G.push(Math.floor((k.y+Q)/z)+1);break;case"arc":G.push(Math.floor((k.y+Q-k.radius)/z)+1),G.push(Math.floor((k.y+Q+k.radius)/z)+1);break;case"qct":var oe=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);G.push(Math.floor((oe.y+Q)/z)+1),G.push(Math.floor((oe.y+oe.h+Q)/z)+1);break;case"bct":var fe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);G.push(Math.floor((fe.y+Q)/z)+1),G.push(Math.floor((fe.y+fe.h+Q)/z)+1);break;case"rect":G.push(Math.floor((k.y+Q)/z)+1),G.push(Math.floor((k.y+k.h+Q)/z)+1)}for(var ne=0;ne<G.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<G[ne];)y.call(this);return G},y=function(){var k=this.fillStyle,R=this.strokeStyle,z=this.font,G=this.lineCap,Q=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=R,this.font=z,this.lineCap=G,this.lineWidth=Q,this.lineJoin=oe},b=function(k,R,z){for(var G=0;G<k.length;G++)switch(k[G].type){case"bct":k[G].x2+=R,k[G].y2+=z;case"qct":k[G].x1+=R,k[G].y1+=z;case"mt":case"lt":case"arc":default:k[G].x+=R,k[G].y+=z}return k},w=function(k){return k.sort(function(R,z){return R-z})},D=function(k,R){for(var z,G,Q=this.fillStyle,oe=this.strokeStyle,fe=this.lineCap,ne=this.lineWidth,he=Math.abs(ne*this.ctx.transform.scaleX),ye=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ce=[],Te=0;Te<ke.length;Te++)if(ke[Te].x!==void 0)for(var ie=v.call(this,ke[Te]),$e=0;$e<ie.length;$e+=1)Ce.indexOf(ie[$e])===-1&&Ce.push(ie[$e]);for(var Ke=0;Ke<Ce.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<Ce[Ke];)y.call(this);if(w(Ce),this.autoPaging)for(var Se=Ce[0],Re=Ce[Ce.length-1],be=Se;be<Re+1;be++){this.pdf.setPage(be),this.fillStyle=Q,this.strokeStyle=oe,this.lineCap=fe,this.lineWidth=he,this.lineJoin=ye;var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=be===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=be===1?0:qe+(be-2)*at;if(this.ctx.clip_path.length!==0){var ft=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(z,this.posX+this.margin[3],-nt+Ee+this.ctx.prevPageLastElemOffset),P.call(this,k,!0),this.path=ft}if(G=JSON.parse(JSON.stringify(W)),this.path=b(G,this.posX+this.margin[3],-nt+Ee+this.ctx.prevPageLastElemOffset),R===!1||be===0){var Et=(be>Se||be<Re)&&m.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,at,null).clip().discardPath()),P.call(this,k,R),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=he,P.call(this,k,R),this.lineWidth=ne;this.path=W},P=function(k,R){if((k!=="stroke"||R||!g.call(this))&&(k==="stroke"||R||!p.call(this))){for(var z,G,Q=[],oe=this.path,fe=0;fe<oe.length;fe++){var ne=oe[fe];switch(ne.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ne,deltas:[],abs:[]});break;case"lt":var he=Q.length;if(oe[fe-1]&&!isNaN(oe[fe-1].x)&&(z=[ne.x-oe[fe-1].x,ne.y-oe[fe-1].y],he>0)){for(;he>=0;he--)if(Q[he-1].close!==!0&&Q[he-1].begin!==!0){Q[he-1].deltas.push(z),Q[he-1].abs.push(ne);break}}break;case"bct":z=[ne.x1-oe[fe-1].x,ne.y1-oe[fe-1].y,ne.x2-oe[fe-1].x,ne.y2-oe[fe-1].y,ne.x-oe[fe-1].x,ne.y-oe[fe-1].y],Q[Q.length-1].deltas.push(z);break;case"qct":var ye=oe[fe-1].x+2/3*(ne.x1-oe[fe-1].x),W=oe[fe-1].y+2/3*(ne.y1-oe[fe-1].y),ke=ne.x+2/3*(ne.x1-ne.x),Ce=ne.y+2/3*(ne.y1-ne.y),Te=ne.x,ie=ne.y;z=[ye-oe[fe-1].x,W-oe[fe-1].y,ke-oe[fe-1].x,Ce-oe[fe-1].y,Te-oe[fe-1].x,ie-oe[fe-1].y],Q[Q.length-1].deltas.push(z);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ne)}}G=R?null:k==="stroke"?"stroke":"fill";for(var $e=!1,Ke=0;Ke<Q.length;Ke++)if(Q[Ke].arc)for(var Se=Q[Ke].abs,Re=0;Re<Se.length;Re++){var be=Se[Re];be.type==="arc"?_.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,R,!$e):O.call(this,be.x,be.y),$e=!0}else if(Q[Ke].close===!0)this.pdf.internal.out("h"),$e=!1;else if(Q[Ke].begin!==!0){var je=Q[Ke].start.x,Ee=Q[Ke].start.y;U.call(this,Q[Ke].deltas,je,Ee),$e=!0}G&&S.call(this,G),R&&I.call(this)}},j=function(k){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-z;case"top":return k+R-z;case"hanging":return k+R-2*z;case"middle":return k+R/2-z;case"ideographic":return k;case"alphabetic":default:return k}},T=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(R,z){this.colorStops.push([R,z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(k,R,z,G,Q,oe,fe,ne,he){for(var ye=K.call(this,z,G,Q,oe),W=0;W<ye.length;W++){var ke=ye[W];W===0&&(he?E.call(this,ke.x1+k,ke.y1+R):O.call(this,ke.x1+k,ke.y1+R)),Y.call(this,k,R,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ne?I.call(this):S.call(this,fe)},S=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(k,R){this.pdf.internal.out(r(k)+" "+n(R)+" m")},N=function(k){var R;switch(k.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var z=this.pdf.getTextDimensions(k.text),G=j.call(this,k.y),Q=T.call(this,G)-z.h,oe=this.ctx.transform.applyToPoint(new s(k.x,G)),fe=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var he,ye,W,ke=this.ctx.transform.applyToRectangle(new o(k.x,G,z.w,z.h)),Ce=ne.applyToRectangle(new o(k.x,Q,z.w,z.h)),Te=v.call(this,Ce),ie=[],$e=0;$e<Te.length;$e+=1)ie.indexOf(Te[$e])===-1&&ie.push(Te[$e]);if(w(ie),this.autoPaging)for(var Ke=ie[0],Se=ie[ie.length-1],Re=Ke;Re<Se+1;Re++){this.pdf.setPage(Re);var be=Re===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],qe=Ee-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],nt=at-this.margin[3],ft=Re===1?0:je+(Re-2)*qe;if(this.ctx.clip_path.length!==0){var Et=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-1*ft+be),P.call(this,"fill",!0),this.path=Et}var kt=b([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-ft+be+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale);var _t=this.autoPaging!=="text";if(_t||kt.y+kt.h<=Ee){if(_t||kt.y>=be&&kt.x<=at){var ct=_t?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||at-kt.x)[0],er=b([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ft+be+this.ctx.prevPageLastElemOffset)[0],Wt=_t&&(Re>Ke||Re<Se)&&m.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,qe,null).clip().discardPath()),this.pdf.text(ct,er.x,er.y,{angle:k.angle,align:R,renderingMode:k.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else kt.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-kt.y);k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=W)}else k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale),this.pdf.text(k.text,oe.x+this.posX,oe.y+this.posY,{angle:k.angle,align:R,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=W)},O=function(k,R,z,G){z=z||0,G=G||0,this.pdf.internal.out(r(k+z)+" "+n(R+G)+" l")},U=function(k,R,z){return this.pdf.lines(k,R,z,null,null)},Y=function(k,R,z,G,Q,oe,fe,ne){this.pdf.internal.out([t(a(z+k)),t(i(G+R)),t(a(Q+k)),t(i(oe+R)),t(a(fe+k)),t(i(ne+R)),"c"].join(" "))},K=function(k,R,z,G){for(var Q=2*Math.PI,oe=Math.PI/2;R>z;)R-=Q;var fe=Math.abs(z-R);fe<Q&&G&&(fe=Q-fe);for(var ne=[],he=G?-1:1,ye=R;fe>1e-5;){var W=ye+he*Math.min(fe,oe);ne.push(J.call(this,k,ye,W)),fe-=Math.abs(W-ye),ye=W}return ne},J=function(k,R,z){var G=(z-R)/2,Q=k*Math.cos(G),oe=k*Math.sin(G),fe=Q,ne=-oe,he=fe*fe+ne*ne,ye=he+fe*Q+ne*oe,W=4/3*(Math.sqrt(2*he*ye)-ye)/(fe*oe-ne*Q),ke=fe-W*ne,Ce=ne+W*fe,Te=ke,ie=-Ce,$e=G+R,Ke=Math.cos($e),Se=Math.sin($e);return{x1:k*Math.cos(R),y1:k*Math.sin(R),x2:ke*Ke-Ce*Se,y2:ke*Se+Ce*Ke,x3:Te*Ke-ie*Se,y3:Te*Se+ie*Ke,x4:k*Math.cos(z),y4:k*Math.sin(z)}},q=function(k){return 180*k/Math.PI},V=function(k,R,z,G,Q,oe){var fe=k+.5*(z-k),ne=R+.5*(G-R),he=Q+.5*(z-Q),ye=oe+.5*(G-oe),W=Math.min(k,Q,fe,he),ke=Math.max(k,Q,fe,he),Ce=Math.min(R,oe,ne,ye),Te=Math.max(R,oe,ne,ye);return new o(W,Ce,ke-W,Te-Ce)},ee=function(k,R,z,G,Q,oe,fe,ne){var he,ye,W,ke,Ce,Te,ie,$e,Ke,Se,Re,be,je,Ee,qe=z-k,at=G-R,nt=Q-z,ft=oe-G,Et=fe-Q,kt=ne-oe;for(ye=0;ye<41;ye++)Ke=(ie=(W=k+(he=ye/40)*qe)+he*((Ce=z+he*nt)-W))+he*(Ce+he*(Q+he*Et-Ce)-ie),Se=($e=(ke=R+he*at)+he*((Te=G+he*ft)-ke))+he*(Te+he*(oe+he*kt-Te)-$e),ye==0?(Re=Ke,be=Se,je=Ke,Ee=Se):(Re=Math.min(Re,Ke),be=Math.min(be,Se),je=Math.max(je,Ke),Ee=Math.max(Ee,Se));return new o(Math.round(Re),Math.round(be),Math.round(je-Re),Math.round(Ee-be))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,R,z=(k=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:R}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(gr.API),function(e){var t=function(i){var s,o,l,c,u,f,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,b){for(var w=b;w>0;w--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=uE(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(gr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(gr.API),function(e){function t(){return(vr.html2canvas?Promise.resolve(vr.html2canvas):iE(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(vr.DOMPurify?Promise.resolve(vr.DOMPurify):iE(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=yn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,gr.getPageSize=function(s,o,l){if(yn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(gE):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(gr.API),gr.API.addJS=function(e){return A7=e,this.internal.events.subscribe("postPutResources",function(){Bx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),S7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+A7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bx!==void 0&&S7!==void 0&&this.internal.out("/Names <</JavaScript "+Bx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(gr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(gr.API);var r0,Ux,T7,E7,N7,O9e=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,p,g,m,v,y,b,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var D,P;for(P=[],D=0;D<4;++D)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,p,g){var m,v,y,b,w,D,P,j,T,_,S,I,E,N,O,U,Y,K,J,q,V,ee=Math.ceil((c.width-f)/p),Z=Math.ceil((c.height-h)/g),k=c.width==ee&&c.height==Z;for(N=s*ee,I=k?o:new Uint8Array(N*Z),D=i.length,E=0,v=0;E<Z&&l<D;){switch(i[l++]){case 0:for(b=Y=0;Y<N;b=Y+=1)I[v++]=i[l++];break;case 1:for(b=K=0;K<N;b=K+=1)m=i[l++],w=b<s?0:I[v-s],I[v++]=(m+w)%256;break;case 2:for(b=J=0;J<N;b=J+=1)m=i[l++],y=(b-b%s)/s,O=E&&I[(E-1)*N+y*s+b%s],I[v++]=(O+m)%256;break;case 3:for(b=q=0;q<N;b=q+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:I[v-s],O=E&&I[(E-1)*N+y*s+b%s],I[v++]=(m+Math.floor((w+O)/2))%256;break;case 4:for(b=V=0;V<N;b=V+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:I[v-s],E===0?O=U=0:(O=I[(E-1)*N+y*s+b%s],U=y&&I[(E-1)*N+(y-1)*s+b%s]),P=w+O-U,j=Math.abs(P-w),_=Math.abs(P-O),S=Math.abs(P-U),T=j<=_&&j<=S?w:_<=S?O:U,I[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!k){var R=((h+E*g)*c.width+f)*s,z=E*N;for(b=0;b<ee;b+=1){for(var G=0;G<s;G+=1)o[R++]=I[z++];R+=(p-1)*s}}E++}}return i=c9e(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=f[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(vr)==="[object Window]"){try{t=vr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,p;if(this.animation){for(p=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function I9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,D=e[t++],P=D>>6&1,j=1<<(7&D)+1,T=o,_=l,S=!1;D>>7&&(S=!0,T=t,_=j,t+=3*j);var I=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:b,height:w,has_local_palette:S,palette_offset:T,palette_size:_,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!P,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,O){var U=this.frameInfo(N),Y=U.width*U.height,K=new Uint8Array(Y);k7(e,U.data_offset,K,Y);var J=U.palette_offset,q=U.transparent_index;q===null&&(q=256);var V=U.width,ee=r-V,Z=V,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),z=k,G=4*ee;U.interlaced===!0&&(G+=4*r*7);for(var Q=8,oe=0,fe=K.length;oe<fe;++oe){var ne=K[oe];if(Z===0&&(Z=V,(z+=G)>=R&&(G=4*ee+4*r*(Q-1),z=k+(V+ee)*(Q<<1),Q>>=1)),ne===q)z+=4;else{var he=e[J+3*ne],ye=e[J+3*ne+1],W=e[J+3*ne+2];O[z++]=W,O[z++]=ye,O[z++]=he,O[z++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(N,O){var U=this.frameInfo(N),Y=U.width*U.height,K=new Uint8Array(Y);k7(e,U.data_offset,K,Y);var J=U.palette_offset,q=U.transparent_index;q===null&&(q=256);var V=U.width,ee=r-V,Z=V,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),z=k,G=4*ee;U.interlaced===!0&&(G+=4*r*7);for(var Q=8,oe=0,fe=K.length;oe<fe;++oe){var ne=K[oe];if(Z===0&&(Z=V,(z+=G)>=R&&(G=4*ee+4*r*(Q-1),z=k+(V+ee)*(Q<<1),Q>>=1)),ne===q)z+=4;else{var he=e[J+3*ne],ye=e[J+3*ne+1],W=e[J+3*ne+2];O[z++]=he,O[z++]=ye,O[z++]=W,O[z++]=255}--Z}}}function k7(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,b=0,w=y;w>i;)w=g[w]>>8,++b;var D=w;if(h+b+(y!==v?1:0)>n)return void Dn.log("Warning, gif stream longer than expected.");r[h++]=D;var P=h+=b;for(y!==v&&(r[h++]=D),w=y;b--;)w=g[w],r[--P]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&Dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,b=new Array(64),w=new Array(64),D=new Array(64),P=new Array(256),j=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(k,R){for(var z=0,G=0,Q=new Array,oe=1;oe<=16;oe++){for(var fe=1;fe<=k[oe];fe++)Q[R[G]]=[],Q[R[G]][0]=z,Q[R[G]][1]=oe,G++,z++;z*=2}return Q}function J(k){for(var R=k[0],z=k[1]-1;z>=0;)R&1<<z&&(v|=1<<y),z--,--y<0&&(v==255?(q(255),q(0)):q(v),y=7,v=0)}function q(k){m.push(k)}function V(k){q(k>>8&255),q(255&k)}function ee(k,R,z,G,Q){for(var oe,fe=Q[0],ne=Q[240],he=function(Se,Re){var be,je,Ee,qe,at,nt,ft,Et,kt,_t,ct=0;for(kt=0;kt<8;++kt){be=Se[ct],je=Se[ct+1],Ee=Se[ct+2],qe=Se[ct+3],at=Se[ct+4],nt=Se[ct+5],ft=Se[ct+6];var er=be+(Et=Se[ct+7]),Wt=be-Et,Gr=je+ft,ur=je-ft,Wr=Ee+nt,Ie=Ee-nt,Me=qe+at,Ye=qe-at,ht=er+Me,Dt=er-Me,Gt=Gr+Wr,Mt=Gr-Wr;Se[ct]=ht+Gt,Se[ct+4]=ht-Gt;var Ot=.707106781*(Mt+Dt);Se[ct+2]=Dt+Ot,Se[ct+6]=Dt-Ot;var Zt=.382683433*((ht=Ye+Ie)-(Mt=ur+Wt)),xr=.5411961*ht+Zt,br=1.306562965*Mt+Zt,Ne=.707106781*(Gt=Ie+ur),ot=Wt+Ne,We=Wt-Ne;Se[ct+5]=We+xr,Se[ct+3]=We-xr,Se[ct+1]=ot+br,Se[ct+7]=ot-br,ct+=8}for(ct=0,kt=0;kt<8;++kt){be=Se[ct],je=Se[ct+8],Ee=Se[ct+16],qe=Se[ct+24],at=Se[ct+32],nt=Se[ct+40],ft=Se[ct+48];var rr=be+(Et=Se[ct+56]),ir=be-Et,jr=je+ft,wr=je-ft,Ur=Ee+nt,ae=Ee-nt,we=qe+at,me=qe-at,ge=rr+we,xe=rr-we,_e=jr+Ur,Ge=jr-Ur;Se[ct]=ge+_e,Se[ct+32]=ge-_e;var rt=.707106781*(Ge+xe);Se[ct+16]=xe+rt,Se[ct+48]=xe-rt;var He=.382683433*((ge=me+ae)-(Ge=wr+ir)),Qe=.5411961*ge+He,Je=1.306562965*Ge+He,St=.707106781*(_e=ae+wr),jt=ir+St,$t=ir-St;Se[ct+40]=$t+Qe,Se[ct+24]=$t-Qe,Se[ct+8]=jt+Je,Se[ct+56]=jt-Je,ct++}for(kt=0;kt<64;++kt)_t=Se[kt]*Re[kt],p[kt]=_t>0?_t+.5|0:_t-.5|0;return p}(k,R),ye=0;ye<64;++ye)g[T[ye]]=he[ye];var W=g[0]-z;z=g[0],W==0?J(G[0]):(J(G[h[oe=32767+W]]),J(f[oe]));for(var ke=63;ke>0&&g[ke]==0;)ke--;if(ke==0)return J(fe),z;for(var Ce,Te=1;Te<=ke;){for(var ie=Te;g[Te]==0&&Te<=ke;)++Te;var $e=Te-ie;if($e>=16){Ce=$e>>4;for(var Ke=1;Ke<=Ce;++Ke)J(ne);$e&=15}oe=32767+g[Te],J(Q[($e<<4)+h[oe]]),J(f[oe]),Te++}return ke!=63&&J(fe),z}function Z(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(R){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Q=s((z[G]*R+50)/100);Q=Math.min(Math.max(Q,1),255),o[T[G]]=Q}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var ne=s((oe[fe]*R+50)/100);ne=Math.min(Math.max(ne,1),255),l[T[fe]]=ne}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,W=0;W<8;W++)for(var ke=0;ke<8;ke++)c[ye]=1/(o[T[ye]]*he[W]*he[ke]*8),u[ye]=1/(l[T[ye]]*he[W]*he[ke]*8),ye++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,R){R&&Z(R),m=new Array,v=0,y=7,V(65496),V(65504),V(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),V(1),V(1),q(0),q(0),function(){V(65499),V(132),q(0);for(var je=0;je<64;je++)q(o[je]);q(1);for(var Ee=0;Ee<64;Ee++)q(l[Ee])}(),function(je,Ee){V(65472),V(17),q(8),V(Ee),V(je),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(k.width,k.height),function(){V(65476),V(418),q(0);for(var je=0;je<16;je++)q(_[je+1]);for(var Ee=0;Ee<=11;Ee++)q(S[Ee]);q(16);for(var qe=0;qe<16;qe++)q(I[qe+1]);for(var at=0;at<=161;at++)q(E[at]);q(1);for(var nt=0;nt<16;nt++)q(N[nt+1]);for(var ft=0;ft<=11;ft++)q(O[ft]);q(17);for(var Et=0;Et<16;Et++)q(U[Et+1]);for(var kt=0;kt<=161;kt++)q(Y[kt])}(),V(65498),V(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var z=0,G=0,Q=0;v=0,y=7,this.encode.displayName="_encode_";for(var oe,fe,ne,he,ye,W,ke,Ce,Te,ie=k.data,$e=k.width,Ke=k.height,Se=4*$e,Re=0;Re<Ke;){for(oe=0;oe<Se;){for(ye=Se*Re+oe,ke=-1,Ce=0,Te=0;Te<64;Te++)W=ye+(Ce=Te>>3)*Se+(ke=4*(7&Te)),Re+Ce>=Ke&&(W-=Se*(Re+1+Ce-Ke)),oe+ke>=Se&&(W-=oe+ke-Se+4),fe=ie[W++],ne=ie[W++],he=ie[W++],b[Te]=(j[fe]+j[ne+256>>0]+j[he+512>>0]>>16)-128,w[Te]=(j[fe+768>>0]+j[ne+1024>>0]+j[he+1280>>0]>>16)-128,D[Te]=(j[fe+1280>>0]+j[ne+1536>>0]+j[he+1792>>0]>>16)-128;z=ee(b,c,z,t,n),G=ee(w,u,G,r,a),Q=ee(D,u,Q,r,a),oe+=32}Re+=8}if(y>=0){var be=[];be[1]=y+1,be[0]=(1<<y+1)-1,J(be)}return V(65497),new Uint8Array(m)},e=e||50,function(){for(var k=String.fromCharCode,R=0;R<256;R++)P[R]=k(R)}(),t=K(_,S),r=K(N,O),n=K(I,E),a=K(U,Y),function(){for(var k=1,R=2,z=1;z<=15;z++){for(var G=k;G<R;G++)h[32767+G]=z,f[32767+G]=[],f[32767+G][1]=z,f[32767+G][0]=G;for(var Q=-(R-1);Q<=-k;Q++)h[32767+Q]=z,f[32767+Q]=[],f[32767+Q][1]=z,f[32767+Q][0]=R-1+Q;k<<=1,R<<=1}}(),function(){for(var k=0;k<256;k++)j[k]=19595*k,j[k+256>>0]=38470*k,j[k+512>>0]=7471*k+32768,j[k+768>>0]=-11059*k,j[k+1024>>0]=-21709*k,j[k+1280>>0]=32768*k+8421375,j[k+1536>>0]=-27439*k,j[k+1792>>0]=-5329*k}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C7(e){function t(_){if(!_)throw Error("assert :P")}function r(_,S,I){for(var E=0;4>E;E++)if(_[S+E]!=I.charCodeAt(E))return!0;return!1}function n(_,S,I,E,N){for(var O=0;O<N;O++)_[S+O]=I[E+O]}function a(_,S,I,E){for(var N=0;N<E;N++)_[S+N]=I}function i(_){return new Int32Array(_)}function s(_,S){for(var I=[],E=0;E<_;E++)I.push(new S);return I}function o(_,S){var I=[];return function E(N,O,U){for(var Y=U[O],K=0;K<Y&&(N.push(U.length>O+1?[]:new S),!(U.length<O+1));K++)E(N[K],O+1,U)}(I,0,_),I}var l=function(){var _=this;function S(x,C){for(var M=1<<C-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function I(x,C,M,H,re){t(!(H%M));do x[C+(H-=M)]=re;while(0<H)}function E(x,C,M,H,re){if(t(2328>=re),512>=re)var se=i(512);else if((se=i(re))==null)return 0;return function(le,ue,pe,ve,De,Ze){var et,ze,xt=ue,it=1<<pe,Le=i(16),Be=i(16);for(t(De!=0),t(ve!=null),t(le!=null),t(0<pe),ze=0;ze<De;++ze){if(15<ve[ze])return 0;++Le[ve[ze]]}if(Le[0]==De)return 0;for(Be[1]=0,et=1;15>et;++et){if(Le[et]>1<<et)return 0;Be[et+1]=Be[et]+Le[et]}for(ze=0;ze<De;++ze)et=ve[ze],0<ve[ze]&&(Ze[Be[et]++]=ze);if(Be[15]==1)return(ve=new N).g=0,ve.value=Ze[0],I(le,xt,1,it,ve),it;var mt,At=-1,yt=it-1,Yt=0,Bt=1,dr=1,qt=1<<pe;for(ze=0,et=1,De=2;et<=pe;++et,De<<=1){if(Bt+=dr<<=1,0>(dr-=Le[et]))return 0;for(;0<Le[et];--Le[et])(ve=new N).g=et,ve.value=Ze[ze++],I(le,xt+Yt,De,qt,ve),Yt=S(Yt,et)}for(et=pe+1,De=2;15>=et;++et,De<<=1){if(Bt+=dr<<=1,0>(dr-=Le[et]))return 0;for(;0<Le[et];--Le[et]){if(ve=new N,(Yt&yt)!=At){for(xt+=qt,mt=1<<(At=et)-pe;15>At&&!(0>=(mt-=Le[At]));)++At,mt<<=1;it+=qt=1<<(mt=At-pe),le[ue+(At=Yt&yt)].g=mt+pe,le[ue+At].value=xt-ue-At}ve.g=et-pe,ve.value=Ze[ze++],I(le,xt+(Yt>>pe),De,qt,ve),Yt=S(Yt,et)}}return Bt!=2*Be[15]-1?0:it}(x,C,M,H,re,se)}function N(){this.value=this.g=0}function O(){this.value=this.g=0}function U(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ui,O)}function Y(x,C,M,H){t(x!=null),t(C!=null),t(2147483648>H),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=C,x.pa=M,x.Jd=C,x.Yc=M+H,x.Zc=4<=H?M+H-4+1:M,oe(x)}function K(x,C){for(var M=0;0<C--;)M|=ne(x,128)<<C;return M}function J(x,C){var M=K(x,C);return fe(x)?-M:M}function q(x,C,M,H){var re,se=0;for(t(x!=null),t(C!=null),t(4294967288>H),x.Sb=H,x.Ra=0,x.u=0,x.h=0,4<H&&(H=4),re=0;re<H;++re)se+=C[M+re]<<8*re;x.Ra=se,x.bb=H,x.oa=C,x.pa=M}function V(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Fh-8>>>0,++x.bb,x.u-=8;z(x)&&(x.h=1,x.u=0)}function ee(x,C){if(t(0<=C),!x.h&&C<=Rh){var M=R(x)&Mh[C];return x.u+=C,V(x),M}return x.h=1,x.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&Fh-1)>>>0}function z(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Fh}function G(x,C){x.u=C,x.h=z(x)}function Q(x){x.u>=_m&&(t(x.u>=_m),V(x))}function oe(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function fe(x){return K(x,1)}function ne(x,C){var M=x.Ca;0>x.b&&oe(x);var H=x.b,re=M*C>>>8,se=(x.I>>>H>re)+0;for(se?(M-=re,x.I-=re+1<<H>>>0):M=re+1,H=M,re=0;256<=H;)re+=8,H>>=8;return H=7^re+ws[H],x.b-=H,x.Ca=(M<<H)-1,se}function he(x,C,M){x[C+0]=M>>24&255,x[C+1]=M>>16&255,x[C+2]=M>>8&255,x[C+3]=M>>0&255}function ye(x,C){return x[C+0]<<0|x[C+1]<<8}function W(x,C){return ye(x,C)|x[C+2]<<16}function ke(x,C){return ye(x,C)|ye(x,C+2)<<16}function Ce(x,C){var M=1<<C;return t(x!=null),t(0<C),x.X=i(M),x.X==null?0:(x.Mb=32-C,x.Xa=C,1)}function Te(x,C){t(x!=null),t(C!=null),t(x.Xa==C.Xa),n(C.X,0,x.X,0,1<<C.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function $e(x,C,M,H){t(M!=null),t(H!=null);var re=M[0],se=H[0];return re==0&&(re=(x*se+C/2)/C),se==0&&(se=(C*re+x/2)/x),0>=re||0>=se?0:(M[0]=re,H[0]=se,1)}function Ke(x,C){return x+(1<<C)-1>>>C}function Se(x,C){return((4278255360&x)+(4278255360&C)>>>0&4278255360)+((16711935&x)+(16711935&C)>>>0&16711935)>>>0}function Re(x,C){_[C]=function(M,H,re,se,le,ue,pe){var ve;for(ve=0;ve<le;++ve){var De=_[x](ue[pe+ve-1],re,se+ve);ue[pe+ve]=Se(M[H+ve],De)}}}function be(){this.ud=this.hd=this.jd=0}function je(x,C){return((4278124286&(x^C))>>>1)+(x&C)>>>0}function Ee(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function qe(x,C){return Ee(x+(x-C+.5>>1))}function at(x,C,M){return Math.abs(C-M)-Math.abs(x-M)}function nt(x,C,M,H,re,se,le){for(H=se[le-1],M=0;M<re;++M)se[le+M]=H=Se(x[C+M],H)}function ft(x,C,M,H,re){var se;for(se=0;se<M;++se){var le=x[C+se],ue=le>>8&255,pe=16711935&(pe=(pe=16711935&le)+((ue<<16)+ue));H[re+se]=(4278255360&le)+pe>>>0}}function Et(x,C){C.jd=x>>0&255,C.hd=x>>8&255,C.ud=x>>16&255}function kt(x,C,M,H,re,se){var le;for(le=0;le<H;++le){var ue=C[M+le],pe=ue>>>8,ve=ue,De=255&(De=(De=ue>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));ve=255&(ve=(ve=ve+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(De<<24>>24)>>>5)),re[se+le]=(4278255360&ue)+(De<<16)+ve}}function _t(x,C,M,H,re){_[C]=function(se,le,ue,pe,ve,De,Ze,et,ze){for(pe=Ze;pe<et;++pe)for(Ze=0;Ze<ze;++Ze)ve[De++]=re(ue[H(se[le++])])},_[x]=function(se,le,ue,pe,ve,De,Ze){var et=8>>se.b,ze=se.Ea,xt=se.K[0],it=se.w;if(8>et)for(se=(1<<se.b)-1,it=(1<<et)-1;le<ue;++le){var Le,Be=0;for(Le=0;Le<ze;++Le)Le&se||(Be=H(pe[ve++])),De[Ze++]=re(xt[Be&it]),Be>>=et}else _["VP8LMapColor"+M](pe,ve,xt,it,De,Ze,le,ue,ze)}}function ct(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>16&255,H[re++]=se>>8&255,H[re++]=se>>0&255}}function er(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>16&255,H[re++]=se>>8&255,H[re++]=se>>0&255,H[re++]=se>>24&255}}function Wt(x,C,M,H,re){for(M=C+M;C<M;){var se=(le=x[C++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;H[re++]=se,H[re++]=le}}function Gr(x,C,M,H,re){for(M=C+M;C<M;){var se=(le=x[C++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;H[re++]=se,H[re++]=le}}function ur(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>0&255,H[re++]=se>>8&255,H[re++]=se>>16&255}}function Wr(x,C,M,H,re,se){if(se==0)for(M=C+M;C<M;)he(H,((se=x[C++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),re+=32;else n(H,re,x,C,M)}function Ie(x,C){_[C][0]=_[x+"0"],_[C][1]=_[x+"1"],_[C][2]=_[x+"2"],_[C][3]=_[x+"3"],_[C][4]=_[x+"4"],_[C][5]=_[x+"5"],_[C][6]=_[x+"6"],_[C][7]=_[x+"7"],_[C][8]=_[x+"8"],_[C][9]=_[x+"9"],_[C][10]=_[x+"10"],_[C][11]=_[x+"11"],_[C][12]=_[x+"12"],_[C][13]=_[x+"13"],_[C][14]=_[x+"0"],_[C][15]=_[x+"0"]}function Me(x){return x==y_||x==x_||x==Ey||x==b_}function Ye(){this.eb=[],this.size=this.A=this.fb=0}function ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ye,this.f.kb=new ht,this.sd=null}function Gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Zt(x,C){var M=x.T,H=C.ba.f.RGBA,re=H.eb,se=H.fb+x.ka*H.A,le=go[C.ba.S],ue=x.y,pe=x.O,ve=x.f,De=x.N,Ze=x.ea,et=x.W,ze=C.cc,xt=C.dc,it=C.Mc,Le=C.Nc,Be=x.ka,mt=x.ka+x.T,At=x.U,yt=At+1>>1;for(Be==0?le(ue,pe,null,null,ve,De,Ze,et,ve,De,Ze,et,re,se,null,null,At):(le(C.ec,C.fc,ue,pe,ze,xt,it,Le,ve,De,Ze,et,re,se-H.A,re,se,At),++M);Be+2<mt;Be+=2)ze=ve,xt=De,it=Ze,Le=et,De+=x.Rc,et+=x.Rc,se+=2*H.A,le(ue,(pe+=2*x.fa)-x.fa,ue,pe,ze,xt,it,Le,ve,De,Ze,et,re,se-H.A,re,se,At);return pe+=x.fa,x.j+mt<x.o?(n(C.ec,C.fc,ue,pe,At),n(C.cc,C.dc,ve,De,yt),n(C.Mc,C.Nc,Ze,et,yt),M--):1&mt||le(ue,pe,null,null,ve,De,Ze,et,ve,De,Ze,et,re,se+H.A,null,null,At),M}function xr(x,C,M){var H=x.F,re=[x.J];if(H!=null){var se=x.U,le=C.ba.S,ue=le==Ty||le==Ey;C=C.ba.f.RGBA;var pe=[0],ve=x.ka;pe[0]=x.T,x.Kb&&(ve==0?--pe[0]:(--ve,re[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-ve));var De=C.eb;ve=C.fb+ve*C.A,x=Rn(H,re[0],x.width,se,pe,De,ve+(ue?0:3),C.A),t(M==pe),x&&Me(le)&&po(De,ve,ue,se,pe,C.A)}return 0}function br(x){var C=x.ma,M=C.ba.S,H=11>M,re=M==Sy||M==Ay||M==Ty||M==v_||M==12||Me(M);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!bm(C.Oa,x,re?11:12))return 0;if(re&&Me(M)&&Tt(),x.da)alert("todo:use_scaling");else{if(H){if(C.Ib=Ot,x.Kb){if(M=x.U+1>>1,C.memory=i(x.U+2*M),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+x.U,C.Mc=C.cc,C.Nc=C.dc+M,C.Ib=Zt,Tt()}}else alert("todo:EmitYUV");re&&(C.Jb=xr,H&&Ve())}if(H&&!RP){for(x=0;256>x;++x)_Y[x]=89858*(x-128)+ky>>Ny,TY[x]=-22014*(x-128)+ky,AY[x]=-45773*(x-128),SY[x]=113618*(x-128)+ky>>Ny;for(x=Cm;x<S_;++x)C=76283*(x-16)+ky>>Ny,EY[x-Cm]=_n(C,255),NY[x-Cm]=_n(C+8>>4,15);RP=1}return 1}function Ne(x){var C=x.ma,M=x.U,H=x.T;return t(!(1&x.ka)),0>=M||0>=H?0:(M=C.Ib(x,C),C.Jb!=null&&C.Jb(x,C,M),C.Dc+=M,1)}function ot(x){x.ma.memory=null}function We(x,C,M,H){return ee(x,8)!=47?0:(C[0]=ee(x,14)+1,M[0]=ee(x,14)+1,H[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function rr(x,C){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ee(C,M)+1}function ir(x,C){return 120<C?C-120:1<=(M=((M=lY[C-1])>>4)*x+(8-(15&M)))?M:1;var M}function jr(x,C,M){var H=R(M),re=x[C+=255&H].g-8;return 0<re&&(G(M,M.u+8),H=R(M),C+=x[C].value,C+=H&(1<<re)-1),G(M,M.u+x[C].g),x[C].value}function wr(x,C,M){return M.g+=x.g,M.value+=x.value<<C>>>0,t(8>=M.g),x.g}function Ur(x,C,M){var H=x.xc;return t((C=H==0?0:x.vc[x.md*(M>>H)+(C>>H)])<x.Wb),x.Ya[C]}function ae(x,C,M,H){var re=x.ab,se=x.c*C,le=x.C;C=le+C;var ue=M,pe=H;for(H=x.Ta,M=x.Ua;0<re--;){var ve=x.gc[re],De=le,Ze=C,et=ue,ze=pe,xt=(pe=H,ue=M,ve.Ea);switch(t(De<Ze),t(Ze<=ve.nc),ve.hc){case 2:gy(et,ze,(Ze-De)*xt,pe,ue);break;case 0:var it=De,Le=Ze,Be=pe,mt=ue,At=(qt=ve).Ea;it==0&&(m_(et,ze,null,null,1,Be,mt),nt(et,ze+1,0,0,At-1,Be,mt+1),ze+=At,mt+=At,++it);for(var yt=1<<qt.b,Yt=yt-1,Bt=Ke(At,qt.b),dr=qt.K,qt=qt.w+(it>>qt.b)*Bt;it<Le;){var vn=dr,An=qt,fn=1;for(Sm(et,ze,Be,mt-At,1,Be,mt);fn<At;){var Jr=(fn&~Yt)+yt;Jr>At&&(Jr=At),(0,Tu[vn[An++]>>8&15])(et,ze+ +fn,Be,mt+fn-At,Jr-fn,Be,mt+fn),fn=Jr}ze+=At,mt+=At,++it&Yt||(qt+=Bt)}Ze!=ve.nc&&n(pe,ue-xt,pe,ue+(Ze-De-1)*xt,xt);break;case 1:for(xt=et,Le=ze,At=(et=ve.Ea)-(mt=et&~(Be=(ze=1<<ve.b)-1)),it=Ke(et,ve.b),yt=ve.K,ve=ve.w+(De>>ve.b)*it;De<Ze;){for(Yt=yt,Bt=ve,dr=new be,qt=Le+mt,vn=Le+et;Le<qt;)Et(Yt[Bt++],dr),od(dr,xt,Le,ze,pe,ue),Le+=ze,ue+=ze;Le<vn&&(Et(Yt[Bt++],dr),od(dr,xt,Le,At,pe,ue),Le+=At,ue+=At),++De&Be||(ve+=it)}break;case 3:if(et==pe&&ze==ue&&0<ve.b){for(Le=pe,et=xt=ue+(Ze-De)*xt-(mt=(Ze-De)*Ke(ve.Ea,ve.b)),ze=pe,Be=ue,it=[],mt=(At=mt)-1;0<=mt;--mt)it[mt]=ze[Be+mt];for(mt=At-1;0<=mt;--mt)Le[et+mt]=it[mt];uo(ve,De,Ze,pe,xt,pe,ue)}else uo(ve,De,Ze,et,ze,pe,ue)}ue=H,pe=M}pe!=M&&n(H,M,ue,pe,se)}function we(x,C){var M=x.V,H=x.Ba+x.c*x.C,re=C-x.C;if(t(C<=x.l.o),t(16>=re),0<re){var se=x.l,le=x.Ta,ue=x.Ua,pe=se.width;if(ae(x,re,M,H),re=ue=[ue],t((M=x.C)<(H=C)),t(se.v<se.va),H>se.o&&(H=se.o),M<se.j){var ve=se.j-M;M=se.j,re[0]+=ve*pe}if(M>=H?M=0:(re[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=H-M,M=1),M){if(ue=ue[0],11>(M=x.ca).S){var De=M.f.RGBA,Ze=(H=M.S,re=se.U,se=se.T,ve=De.eb,De.A),et=se;for(De=De.fb+x.Ma*De.A;0<et--;){var ze=le,xt=ue,it=re,Le=ve,Be=De;switch(H){case _y:_s(ze,xt,it,Le,Be);break;case Sy:ts(ze,xt,it,Le,Be);break;case y_:ts(ze,xt,it,Le,Be),po(Le,Be,0,it,1,0);break;case NP:gc(ze,xt,it,Le,Be);break;case Ay:Wr(ze,xt,it,Le,Be,1);break;case x_:Wr(ze,xt,it,Le,Be,1),po(Le,Be,0,it,1,0);break;case Ty:Wr(ze,xt,it,Le,Be,0);break;case Ey:Wr(ze,xt,it,Le,Be,0),po(Le,Be,1,it,1,0);break;case v_:Eu(ze,xt,it,Le,Be);break;case b_:Eu(ze,xt,it,Le,Be),Mn(Le,Be,it,1,0);break;case kP:mc(ze,xt,it,Le,Be);break;default:t(0)}ue+=pe,De+=Ze}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=C,t(x.C<=x.i)}function me(x){var C;if(0<x.ua)return 0;for(C=0;C<x.Wb;++C){var M=x.Ya[C].G,H=x.Ya[C].H;if(0<M[1][H[1]+0].g||0<M[2][H[2]+0].g||0<M[3][H[3]+0].g)return 0}return 1}function ge(x,C,M,H,re,se){if(x.Z!=0){var le=x.qd,ue=x.rd;for(t(Pu[x.Z]!=null);C<M;++C)Pu[x.Z](le,ue,H,re,H,re,se),le=H,ue=re,re+=se;x.qd=le,x.rd=ue}}function xe(x,C){var M=x.l.ma,H=M.Z==0||M.Z==1?x.l.j:x.C;if(H=x.C<H?H:x.C,t(C<=x.l.o),C>H){var re=x.l.width,se=M.ca,le=M.tb+re*H,ue=x.V,pe=x.Ba+x.c*H,ve=x.gc;t(x.ab==1),t(ve[0].hc==3),vy(ve[0],H,C,ue,pe,se,le),ge(M,H,C,se,le,re)}x.C=x.Ma=C}function _e(x,C,M,H,re,se,le){var ue=x.$/H,pe=x.$%H,ve=x.m,De=x.s,Ze=M+x.$,et=Ze;re=M+H*re;var ze=M+H*se,xt=280+De.ua,it=x.Pb?ue:16777216,Le=0<De.ua?De.Wa:null,Be=De.wc,mt=Ze<ze?Ur(De,pe,ue):null;t(x.C<se),t(ze<=re);var At=!1;e:for(;;){for(;At||Ze<ze;){var yt=0;if(ue>=it){var Yt=Ze-M;t((it=x).Pb),it.wd=it.m,it.xd=Yt,0<it.s.ua&&Te(it.s.Wa,it.s.vb),it=ue+uY}if(pe&Be||(mt=Ur(De,pe,ue)),t(mt!=null),mt.Qb&&(C[Ze]=mt.qb,At=!0),!At)if(Q(ve),mt.jc){yt=ve,Yt=C;var Bt=Ze,dr=mt.pd[R(yt)&ui-1];t(mt.jc),256>dr.g?(G(yt,yt.u+dr.g),Yt[Bt]=dr.value,yt=0):(G(yt,yt.u+dr.g-256),t(256<=dr.value),yt=dr.value),yt==0&&(At=!0)}else yt=jr(mt.G[0],mt.H[0],ve);if(ve.h)break;if(At||256>yt){if(!At)if(mt.nd)C[Ze]=(mt.qb|yt<<8)>>>0;else{if(Q(ve),At=jr(mt.G[1],mt.H[1],ve),Q(ve),Yt=jr(mt.G[2],mt.H[2],ve),Bt=jr(mt.G[3],mt.H[3],ve),ve.h)break;C[Ze]=(Bt<<24|At<<16|yt<<8|Yt)>>>0}if(At=!1,++Ze,++pe>=H&&(pe=0,++ue,le!=null&&ue<=se&&!(ue%16)&&le(x,ue),Le!=null))for(;et<Ze;)yt=C[et++],Le.X[(506832829*yt&4294967295)>>>Le.Mb]=yt}else if(280>yt){if(yt=rr(yt-256,ve),Yt=jr(mt.G[4],mt.H[4],ve),Q(ve),Yt=ir(H,Yt=rr(Yt,ve)),ve.h)break;if(Ze-M<Yt||re-Ze<yt)break e;for(Bt=0;Bt<yt;++Bt)C[Ze+Bt]=C[Ze+Bt-Yt];for(Ze+=yt,pe+=yt;pe>=H;)pe-=H,++ue,le!=null&&ue<=se&&!(ue%16)&&le(x,ue);if(t(Ze<=re),pe&Be&&(mt=Ur(De,pe,ue)),Le!=null)for(;et<Ze;)yt=C[et++],Le.X[(506832829*yt&4294967295)>>>Le.Mb]=yt}else{if(!(yt<xt))break e;for(At=yt-280,t(Le!=null);et<Ze;)yt=C[et++],Le.X[(506832829*yt&4294967295)>>>Le.Mb]=yt;yt=Ze,t(!(At>>>(Yt=Le).Xa)),C[yt]=Yt.X[At],At=!0}At||t(ve.h==z(ve))}if(x.Pb&&ve.h&&Ze<re)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Te(x.s.vb,x.s.Wa);else{if(ve.h)break e;le!=null&&le(x,ue>se?se:ue),x.a=0,x.$=Ze-M}return 1}return x.a=3,0}function Ge(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var C=x.Wa;C!=null&&(C.X=null),x.vb=null,t(x!=null)}function rt(){var x=new Dh;return x==null?null:(x.a=0,x.xb=OP,Ie("Predictor","VP8LPredictors"),Ie("Predictor","VP8LPredictors_C"),Ie("PredictorAdd","VP8LPredictorsAdd"),Ie("PredictorAdd","VP8LPredictorsAdd_C"),gy=ft,od=kt,_s=ct,ts=er,Eu=Wt,mc=Gr,gc=ur,_.VP8LMapColor32b=$h,_.VP8LMapColor8b=yy,x)}function He(x,C,M,H,re){var se=1,le=[x],ue=[C],pe=H.m,ve=H.s,De=null,Ze=0;e:for(;;){if(M)for(;se&&ee(pe,1);){var et=le,ze=ue,xt=H,it=1,Le=xt.m,Be=xt.gc[xt.ab],mt=ee(Le,2);if(xt.Oc&1<<mt)se=0;else{switch(xt.Oc|=1<<mt,Be.hc=mt,Be.Ea=et[0],Be.nc=ze[0],Be.K=[null],++xt.ab,t(4>=xt.ab),mt){case 0:case 1:Be.b=ee(Le,3)+2,it=He(Ke(Be.Ea,Be.b),Ke(Be.nc,Be.b),0,xt,Be.K),Be.K=Be.K[0];break;case 3:var At,yt=ee(Le,8)+1,Yt=16<yt?0:4<yt?1:2<yt?2:3;if(et[0]=Ke(Be.Ea,Yt),Be.b=Yt,At=it=He(yt,1,0,xt,Be.K)){var Bt,dr=yt,qt=Be,vn=1<<(8>>qt.b),An=i(vn);if(An==null)At=0;else{var fn=qt.K[0],Jr=qt.w;for(An[0]=qt.K[0][0],Bt=1;Bt<1*dr;++Bt)An[Bt]=Se(fn[Jr+Bt],An[Bt-1]);for(;Bt<4*vn;++Bt)An[Bt]=0;qt.K[0]=null,qt.K[0]=An,At=1}}it=At;break;case 2:break;default:t(0)}se=it}}if(le=le[0],ue=ue[0],se&&ee(pe,1)&&!(se=1<=(Ze=ee(pe,4))&&11>=Ze)){H.a=3;break e}var jn;if(jn=se)t:{var Cn,Lr,Ea,Ss=H,Na=le,As=ue,Tn=Ze,Ws=M,Hs=Ss.m,Ya=Ss.s,fi=[null],ns=1,vo=0,Ml=cY[Tn];r:for(;;){if(Ws&&ee(Hs,1)){var Xa=ee(Hs,3)+2,bc=Ke(Na,Xa),dd=Ke(As,Xa),qh=bc*dd;if(!He(bc,dd,0,Ss,fi))break r;for(fi=fi[0],Ya.xc=Xa,Cn=0;Cn<qh;++Cn){var Ou=fi[Cn]>>8&65535;fi[Cn]=Ou,Ou>=ns&&(ns=Ou+1)}}if(Hs.h)break r;for(Lr=0;5>Lr;++Lr){var la=CP[Lr];!Lr&&0<Tn&&(la+=1<<Tn),vo<la&&(vo=la)}var A_=s(ns*Ml,N),BP=ns,UP=s(BP,U);if(UP==null)var Py=null;else t(65536>=BP),Py=UP;var Pm=i(vo);if(Py==null||Pm==null||A_==null){Ss.a=1;break r}var Oy=A_;for(Cn=Ea=0;Cn<ns;++Cn){var Qo=Py[Cn],Wh=Qo.G,Hh=Qo.H,VP=0,Iy=1,zP=0;for(Lr=0;5>Lr;++Lr){la=CP[Lr],Wh[Lr]=Oy,Hh[Lr]=Ea,!Lr&&0<Tn&&(la+=1<<Tn);a:{var jy,T_=la,Dy=Ss,Om=Pm,PY=Oy,OY=Ea,E_=0,Iu=Dy.m,IY=ee(Iu,1);if(a(Om,0,0,T_),IY){var jY=ee(Iu,1)+1,DY=ee(Iu,1),qP=ee(Iu,DY==0?1:8);Om[qP]=1,jY==2&&(Om[qP=ee(Iu,8)]=1);var Ly=1}else{var WP=i(19),HP=ee(Iu,4)+4;if(19<HP){Dy.a=3;var My=0;break a}for(jy=0;jy<HP;++jy)WP[oY[jy]]=ee(Iu,3);var N_=void 0,Im=void 0,GP=Dy,LY=WP,Ry=T_,KP=Om,k_=0,ju=GP.m,YP=8,XP=s(128,N);n:for(;E(XP,0,7,LY,19);){if(ee(ju,1)){var MY=2+2*ee(ju,3);if((N_=2+ee(ju,MY))>Ry)break n}else N_=Ry;for(Im=0;Im<Ry&&N_--;){Q(ju);var QP=XP[0+(127&R(ju))];G(ju,ju.u+QP.g);var Gh=QP.value;if(16>Gh)KP[Im++]=Gh,Gh!=0&&(YP=Gh);else{var RY=Gh==16,JP=Gh-16,FY=iY[JP],ZP=ee(ju,aY[JP])+FY;if(Im+ZP>Ry)break n;for(var $Y=RY?YP:0;0<ZP--;)KP[Im++]=$Y}}k_=1;break n}k_||(GP.a=3),Ly=k_}(Ly=Ly&&!Iu.h)&&(E_=E(PY,OY,8,Om,T_)),Ly&&E_!=0?My=E_:(Dy.a=3,My=0)}if(My==0)break r;if(Iy&&sY[Lr]==1&&(Iy=Oy[Ea].g==0),VP+=Oy[Ea].g,Ea+=My,3>=Lr){var jm,C_=Pm[0];for(jm=1;jm<la;++jm)Pm[jm]>C_&&(C_=Pm[jm]);zP+=C_}}if(Qo.nd=Iy,Qo.Qb=0,Iy&&(Qo.qb=(Wh[3][Hh[3]+0].value<<24|Wh[1][Hh[1]+0].value<<16|Wh[2][Hh[2]+0].value)>>>0,VP==0&&256>Wh[0][Hh[0]+0].value&&(Qo.Qb=1,Qo.qb+=Wh[0][Hh[0]+0].value<<8)),Qo.jc=!Qo.Qb&&6>zP,Qo.jc){var Fy,wc=Qo;for(Fy=0;Fy<ui;++Fy){var Du=Fy,Lu=wc.pd[Du],$y=wc.G[0][wc.H[0]+Du];256<=$y.value?(Lu.g=$y.g+256,Lu.value=$y.value):(Lu.g=0,Lu.value=0,Du>>=wr($y,8,Lu),Du>>=wr(wc.G[1][wc.H[1]+Du],16,Lu),Du>>=wr(wc.G[2][wc.H[2]+Du],0,Lu),wr(wc.G[3][wc.H[3]+Du],24,Lu))}}}Ya.vc=fi,Ya.Wb=ns,Ya.Ya=Py,Ya.yc=A_,jn=1;break t}jn=0}if(!(se=jn)){H.a=3;break e}if(0<Ze){if(ve.ua=1<<Ze,!Ce(ve.Wa,Ze)){H.a=1,se=0;break e}}else ve.ua=0;var P_=H,e6=le,BY=ue,O_=P_.s,I_=O_.xc;if(P_.c=e6,P_.i=BY,O_.md=Ke(e6,I_),O_.wc=I_==0?-1:(1<<I_)-1,M){H.xb=vY;break e}if((De=i(le*ue))==null){H.a=1,se=0;break e}se=(se=_e(H,De,0,le,ue,ue,null))&&!pe.h;break e}return se?(re!=null?re[0]=De:(t(De==null),t(M)),H.$=0,M||Ge(ve)):Ge(ve),se}function Qe(x,C){var M=x.c*x.i,H=M+C+16*C;return t(x.c<=C),x.V=i(H),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+C,1)}function Je(x,C){var M=x.C,H=C-M,re=x.V,se=x.Ba+x.c*M;for(t(C<=x.l.o);0<H;){var le=16<H?16:H,ue=x.l.ma,pe=x.l.width,ve=pe*le,De=ue.ca,Ze=ue.tb+pe*M,et=x.Ta,ze=x.Ua;ae(x,le,re,se),va(et,ze,De,Ze,ve),ge(ue,M,M+le,De,Ze,pe),H-=le,re+=le*x.c,M+=le}t(M==C),x.C=x.Ma=C}function St(){this.ub=this.yd=this.td=this.Rb=0}function jt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $t(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Pt(){this.Yb=function(){var x=[];return function C(M,H,re){for(var se=re[H],le=0;le<se&&(M.push(re.length>H+1?[]:0),!(re.length<H+1));le++)C(M[le],H+1,re)}(x,0,[3,11]),x}()}function Rt(){this.jb=i(3),this.Wc=o([4,8],Pt),this.Xc=o([4,17],Pt)}function fr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Kr(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function bn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ka(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $s(){this.uc=this.M=this.Nb=0,this.wa=Array(new Kr),this.Y=0,this.ya=Array(new Ka),this.aa=0,this.l=new wt}function de(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Pe(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new St,this.Kc=new jt,this.ed=new fr,this.Qa=new $t,this.Ic=this.$c=this.Aa=0,this.D=new $s,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,bn),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new de),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new Kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ka),this.L=this.aa=0,this.gd=o([4,2],Kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ut(){var x=new Pe;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,km||(km=Kt)),x}function ut(x,C,M){return x.a==0&&(x.a=C,x.sc=M,x.cb=0),0}function pt(x,C,M){return 3<=M&&x[C+0]==157&&x[C+1]==1&&x[C+2]==42}function Lt(x,C){if(x==null)return 0;if(x.a=0,x.sc="OK",C==null)return ut(x,2,"null VP8Io passed to VP8GetHeaders()");var M=C.data,H=C.w,re=C.ha;if(4>re)return ut(x,7,"Truncated header.");var se=M[H+0]|M[H+1]<<8|M[H+2]<<16,le=x.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return ut(x,3,"Incorrect keyframe parameters.");if(!le.yd)return ut(x,4,"Frame not displayable.");H+=3,re-=3;var ue=x.Kc;if(le.Rb){if(7>re)return ut(x,7,"cannot parse picture header");if(!pt(M,H,re))return ut(x,3,"Bad code word");ue.c=16383&(M[H+4]<<8|M[H+3]),ue.Td=M[H+4]>>6,ue.i=16383&(M[H+6]<<8|M[H+5]),ue.Ud=M[H+6]>>6,H+=7,re-=7,x.za=ue.c+15>>4,x.Ub=ue.i+15>>4,C.width=ue.c,C.height=ue.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((se=x.Pa).jb,0,255,se.jb.length),t((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(le.ub>re)return ut(x,7,"bad partition length");Y(se=x.m,M,H,le.ub),H+=le.ub,re-=le.ub,le.Rb&&(ue.Ld=fe(se),ue.Kd=fe(se)),ue=x.Qa;var pe,ve=x.Pa;if(t(se!=null),t(ue!=null),ue.Cb=fe(se),ue.Cb){if(ue.Bb=fe(se),fe(se)){for(ue.Fb=fe(se),pe=0;4>pe;++pe)ue.Zb[pe]=fe(se)?J(se,7):0;for(pe=0;4>pe;++pe)ue.Lb[pe]=fe(se)?J(se,6):0}if(ue.Bb)for(pe=0;3>pe;++pe)ve.jb[pe]=fe(se)?K(se,8):255}else ue.Bb=0;if(se.Ka)return ut(x,3,"cannot parse segment header");if((ue=x.ed).zd=fe(se),ue.Tb=K(se,6),ue.wb=K(se,3),ue.Pc=fe(se),ue.Pc&&fe(se)){for(ve=0;4>ve;++ve)fe(se)&&(ue.vd[ve]=J(se,6));for(ve=0;4>ve;++ve)fe(se)&&(ue.od[ve]=J(se,6))}if(x.L=ue.Tb==0?0:ue.zd?1:2,se.Ka)return ut(x,3,"cannot parse filter header");var De=re;if(re=pe=H,H=pe+De,ue=De,x.Xb=(1<<K(x.m,2))-1,De<3*(ve=x.Xb))M=7;else{for(pe+=3*ve,ue-=3*ve,De=0;De<ve;++De){var Ze=M[re+0]|M[re+1]<<8|M[re+2]<<16;Ze>ue&&(Ze=ue),Y(x.Jc[+De],M,pe,Ze),pe+=Ze,ue-=Ze,re+=3}Y(x.Jc[+ve],M,pe,ue),M=pe<H?0:5}if(M!=0)return ut(x,M,"cannot parse partitions");for(M=K(pe=x.m,7),re=fe(pe)?J(pe,4):0,H=fe(pe)?J(pe,4):0,ue=fe(pe)?J(pe,4):0,ve=fe(pe)?J(pe,4):0,pe=fe(pe)?J(pe,4):0,De=x.Qa,Ze=0;4>Ze;++Ze){if(De.Cb){var et=De.Zb[Ze];De.Fb||(et+=M)}else{if(0<Ze){x.pb[Ze]=x.pb[0];continue}et=M}var ze=x.pb[Ze];ze.Sc[0]=w_[_n(et+re,127)],ze.Sc[1]=__[_n(et+0,127)],ze.Eb[0]=2*w_[_n(et+H,127)],ze.Eb[1]=101581*__[_n(et+ue,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=w_[_n(et+ve,117)],ze.Qc[1]=__[_n(et+pe,127)],ze.lc=et+pe}if(!le.Rb)return ut(x,4,"Not a key frame.");for(fe(se),le=x.Pa,M=0;4>M;++M){for(re=0;8>re;++re)for(H=0;3>H;++H)for(ue=0;11>ue;++ue)ve=ne(se,mY[M][re][H][ue])?K(se,8):hY[M][re][H][ue],le.Wc[M][re].Yb[H][ue]=ve;for(re=0;17>re;++re)le.Xc[M][re]=le.Wc[M][gY[re]]}return x.kc=fe(se),x.kc&&(x.Bd=K(se,8)),x.cb=1}function Kt(x,C,M,H,re,se,le){var ue=C[re].Yb[M];for(M=0;16>re;++re){if(!ne(x,ue[M+0]))return re;for(;!ne(x,ue[M+1]);)if(ue=C[++re].Yb[0],M=0,re==16)return 16;var pe=C[re+1].Yb;if(ne(x,ue[M+2])){var ve=x,De=0;if(ne(ve,(et=ue)[(Ze=M)+3]))if(ne(ve,et[Ze+6])){for(ue=0,Ze=2*(De=ne(ve,et[Ze+8]))+(et=ne(ve,et[Ze+9+De])),De=0,et=fY[Ze];et[ue];++ue)De+=De+ne(ve,et[ue]);De+=3+(8<<Ze)}else ne(ve,et[Ze+7])?(De=7+2*ne(ve,165),De+=ne(ve,145)):De=5+ne(ve,159);else De=ne(ve,et[Ze+4])?3+ne(ve,et[Ze+5]):2;ue=pe[2]}else De=1,ue=pe[1];pe=le+dY[re],0>(ve=x).b&&oe(ve);var Ze,et=ve.b,ze=(Ze=ve.Ca>>1)-(ve.I>>et)>>31;--ve.b,ve.Ca+=ze,ve.Ca|=1,ve.I-=(Ze+1&ze)<<et,se[pe]=((De^ze)-ze)*H[(0<re)+0]}return 16}function nr(x){var C=x.rb[x.sb-1];C.la=0,C.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Dr(x,C){if(x==null)return 0;if(C==null)return ut(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Lt(x,C))return 0;if(t(x.cb),C.ac==null||C.ac(C)){C.ob&&(x.L=0);var M=Cy[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=C.v-M>>4,x.zb=C.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=C.o+15+M>>4,x.Hb=C.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var H=x.ed;for(M=0;4>M;++M){var re;if(x.Qa.Cb){var se=x.Qa.Lb[M];x.Qa.Fb||(se+=H.Tb)}else se=H.Tb;for(re=0;1>=re;++re){var le=x.gd[M][re],ue=se;if(H.Pc&&(ue+=H.vd[0],re&&(ue+=H.od[0])),0<(ue=0>ue?0:63<ue?63:ue)){var pe=ue;0<H.wb&&(pe=4<H.wb?pe>>2:pe>>1)>9-H.wb&&(pe=9-H.wb),1>pe&&(pe=1),le.dd=pe,le.tc=2*ue+pe,le.ld=40<=ue?2:15<=ue?1:0}else le.tc=0;le.La=re}}}M=0}else ut(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=CY);e:{M=x.Ic,H=4*(pe=x.za);var ve=32*pe,De=pe+1,Ze=0<x.L?pe*(0<x.Aa?2:1):0,et=(x.Aa==2?2:1)*pe;if((le=H+832+(re=3*(16*M+Cy[x.L])/2*ve)+(se=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=ut(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,ue=x.Fc,x.Ac=le,x.Bc=ue,ue+=H,x.Gd=s(ve,de),x.Hd=0,x.rb=s(De+1,Yr),x.sb=1,x.wa=Ze?s(Ze,Kr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=le,x.pc=ue,ue+=832,x.ya=s(et,Ka),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(ve=Cy[x.L])*x.R,ve=ve/2*x.B,x.sa=le,x.ta=ue+pe,x.qa=x.sa,x.ra=x.ta+16*M*x.R+ve,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+ve,x.$c=0,ue+=re,x.mb=se?le:null,x.nb=se?ue:null,t(ue+se<=x.Fc+x.Vb),nr(x),a(x.Ac,x.Bc,0,H),M=1}}if(M){if(C.ka=0,C.y=x.sa,C.O=x.ta,C.f=x.qa,C.N=x.ra,C.ea=x.Ha,C.Vd=x.Ia,C.fa=x.R,C.Rc=x.B,C.F=null,C.J=0,!by){for(M=-255;255>=M;++M)Fa[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)yc[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)Nm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)zh[255+M]=0>M?0:255<M?255:M;by=1}Bh=zo,vc=ta,Am=es,rs=Er,fo=bs,ga=un,Uh=vu,xy=Go,Tm=xu,ld=sd,cd=yu,Nu=dc,ud=bu,Vh=Il,fd=fc,ku=zs,Em=Ra,ho=jh,Xo[0]=co,Xo[1]=vm,Xo[2]=Pl,Xo[3]=xm,Xo[4]=Oh,Xo[5]=hu,Xo[6]=Us,Xo[7]=ed,Xo[8]=mu,Xo[9]=pu,Cu[0]=Cl,Cu[1]=ym,Cu[2]=qo,Cu[3]=fu,Cu[4]=Vn,Cu[5]=Ph,Cu[6]=Zf,xc[0]=Ho,xc[1]=Ch,xc[2]=Ih,xc[3]=Wo,xc[4]=wn,xc[5]=td,xc[6]=rd,M=1}else M=0}M&&(M=function(ze,xt){for(ze.M=0;ze.M<ze.Va;++ze.M){var it,Le=ze.Jc[ze.M&ze.Xb],Be=ze.m,mt=ze;for(it=0;it<mt.za;++it){var At=Be,yt=mt,Yt=yt.Ac,Bt=yt.Bc+4*it,dr=yt.zc,qt=yt.ya[yt.aa+it];if(yt.Qa.Bb?qt.$b=ne(At,yt.Pa.jb[0])?2+ne(At,yt.Pa.jb[2]):ne(At,yt.Pa.jb[1]):qt.$b=0,yt.kc&&(qt.Ad=ne(At,yt.Bd)),qt.Za=!ne(At,145)+0,qt.Za){var vn=qt.Ob,An=0;for(yt=0;4>yt;++yt){var fn,Jr=dr[0+yt];for(fn=0;4>fn;++fn){Jr=pY[Yt[Bt+fn]][Jr];for(var jn=PP[ne(At,Jr[0])];0<jn;)jn=PP[2*jn+ne(At,Jr[jn])];Jr=-jn,Yt[Bt+fn]=Jr}n(vn,An,Yt,Bt,4),An+=4,dr[0+yt]=Jr}}else Jr=ne(At,156)?ne(At,128)?1:3:ne(At,163)?2:0,qt.Ob[0]=Jr,a(Yt,Bt,Jr,4),a(dr,0,Jr,4);qt.Dd=ne(At,142)?ne(At,114)?ne(At,183)?1:3:2:0}if(mt.m.Ka)return ut(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(mt=Le,At=(Be=ze).rb[Be.sb-1],Yt=Be.rb[Be.sb+Be.ja],it=Be.ya[Be.aa+Be.ja],Bt=Be.kc?it.Ad:0)At.la=Yt.la=0,it.Za||(At.Na=Yt.Na=0),it.Hc=0,it.Gc=0,it.ia=0;else{var Cn,Lr;if(At=Yt,Yt=mt,Bt=Be.Pa.Xc,dr=Be.ya[Be.aa+Be.ja],qt=Be.pb[dr.$b],yt=dr.ad,vn=0,An=Be.rb[Be.sb-1],Jr=fn=0,a(yt,vn,0,384),dr.Za)var Ea=0,Ss=Bt[3];else{jn=i(16);var Na=At.Na+An.Na;if(Na=km(Yt,Bt[1],Na,qt.Eb,0,jn,0),At.Na=An.Na=(0<Na)+0,1<Na)Bh(jn,0,yt,vn);else{var As=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)yt[vn+jn]=As}Ea=1,Ss=Bt[0]}var Tn=15&At.la,Ws=15&An.la;for(jn=0;4>jn;++jn){var Hs=1&Ws;for(As=Lr=0;4>As;++As)Tn=Tn>>1|(Hs=(Na=km(Yt,Ss,Na=Hs+(1&Tn),qt.Sc,Ea,yt,vn))>Ea)<<7,Lr=Lr<<2|(3<Na?3:1<Na?2:yt[vn+0]!=0),vn+=16;Tn>>=4,Ws=Ws>>1|Hs<<7,fn=(fn<<8|Lr)>>>0}for(Ss=Tn,Ea=Ws>>4,Cn=0;4>Cn;Cn+=2){for(Lr=0,Tn=At.la>>4+Cn,Ws=An.la>>4+Cn,jn=0;2>jn;++jn){for(Hs=1&Ws,As=0;2>As;++As)Na=Hs+(1&Tn),Tn=Tn>>1|(Hs=0<(Na=km(Yt,Bt[2],Na,qt.Qc,0,yt,vn)))<<3,Lr=Lr<<2|(3<Na?3:1<Na?2:yt[vn+0]!=0),vn+=16;Tn>>=2,Ws=Ws>>1|Hs<<5}Jr|=Lr<<4*Cn,Ss|=Tn<<4<<Cn,Ea|=(240&Ws)<<Cn}At.la=Ss,An.la=Ea,dr.Hc=fn,dr.Gc=Jr,dr.ia=43690&Jr?0:qt.ia,Bt=!(fn|Jr)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[it.$b][it.Za],Be.wa[Be.Y+Be.ja].La|=!Bt),mt.Ka)return ut(ze,7,"Premature end-of-file encountered.")}if(nr(ze),Be=xt,mt=1,it=(Le=ze).D,At=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(it.M=Le.M,it.uc=At,Dl(Le,it),mt=1,it=(Lr=Le.D).Nb,At=(Jr=Cy[Le.L])*Le.R,Yt=Jr/2*Le.B,jn=16*it*Le.R,As=8*it*Le.B,Bt=Le.sa,dr=Le.ta-At+jn,qt=Le.qa,yt=Le.ra-Yt+As,vn=Le.Ha,An=Le.Ia-Yt+As,Ws=(Tn=Lr.M)==0,fn=Tn>=Le.Va-1,Le.Aa==2&&Dl(Le,Lr),Lr.uc)for(Hs=(Na=Le).D.M,t(Na.D.uc),Lr=Na.yb;Lr<Na.Hb;++Lr){Ea=Lr,Ss=Hs;var Ya=(fi=(la=Na).D).Nb;Cn=la.R;var fi=fi.wa[fi.Y+Ea],ns=la.sa,vo=la.ta+16*Ya*Cn+16*Ea,Ml=fi.dd,Xa=fi.tc;if(Xa!=0)if(t(3<=Xa),la.L==1)0<Ea&&ku(ns,vo,Cn,Xa+4),fi.La&&ho(ns,vo,Cn,Xa),0<Ss&&fd(ns,vo,Cn,Xa+4),fi.La&&Em(ns,vo,Cn,Xa);else{var bc=la.B,dd=la.qa,qh=la.ra+8*Ya*bc+8*Ea,Ou=la.Ha,la=la.Ia+8*Ya*bc+8*Ea;Ya=fi.ld,0<Ea&&(xy(ns,vo,Cn,Xa+4,Ml,Ya),ld(dd,qh,Ou,la,bc,Xa+4,Ml,Ya)),fi.La&&(Nu(ns,vo,Cn,Xa,Ml,Ya),Vh(dd,qh,Ou,la,bc,Xa,Ml,Ya)),0<Ss&&(Uh(ns,vo,Cn,Xa+4,Ml,Ya),Tm(dd,qh,Ou,la,bc,Xa+4,Ml,Ya)),fi.La&&(cd(ns,vo,Cn,Xa,Ml,Ya),ud(dd,qh,Ou,la,bc,Xa,Ml,Ya))}}if(Le.ia&&alert("todo:DitherRow"),Be.put!=null){if(Lr=16*Tn,Tn=16*(Tn+1),Ws?(Be.y=Le.sa,Be.O=Le.ta+jn,Be.f=Le.qa,Be.N=Le.ra+As,Be.ea=Le.Ha,Be.W=Le.Ia+As):(Lr-=Jr,Be.y=Bt,Be.O=dr,Be.f=qt,Be.N=yt,Be.ea=vn,Be.W=An),fn||(Tn-=Jr),Tn>Be.o&&(Tn=Be.o),Be.F=null,Be.J=null,Le.Fa!=null&&0<Le.Fa.length&&Lr<Tn&&(Be.J=Au(Le,Be,Lr,Tn-Lr),Be.F=Le.mb,Be.F==null&&Be.F.length==0)){mt=ut(Le,3,"Could not decode alpha data.");break e}Lr<Be.j&&(Jr=Be.j-Lr,Lr=Be.j,t(!(1&Jr)),Be.O+=Le.R*Jr,Be.N+=Le.B*(Jr>>1),Be.W+=Le.B*(Jr>>1),Be.F!=null&&(Be.J+=Be.width*Jr)),Lr<Tn&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=Lr-Be.j,Be.U=Be.va-Be.v,Be.T=Tn-Lr,mt=Be.put(Be))}it+1!=Le.Ic||fn||(n(Le.sa,Le.ta-At,Bt,dr+16*Le.R,At),n(Le.qa,Le.ra-Yt,qt,yt+8*Le.B,Yt),n(Le.Ha,Le.Ia-Yt,vn,An+8*Le.B,Yt))}if(!mt)return ut(ze,6,"Output aborted.")}return 1}(x,C)),C.bc!=null&&C.bc(C),M&=1}return M?(x.cb=0,M):0}function Fr(x,C,M,H,re){re=x[C+M+32*H]+(re>>3),x[C+M+32*H]=-256&re?0>re?0:255:re}function Xr(x,C,M,H,re,se){Fr(x,C,0,M,H+re),Fr(x,C,1,M,H+se),Fr(x,C,2,M,H-se),Fr(x,C,3,M,H-re)}function Vr(x){return(20091*x>>16)+x}function ea(x,C,M,H){var re,se=0,le=i(16);for(re=0;4>re;++re){var ue=x[C+0]+x[C+8],pe=x[C+0]-x[C+8],ve=(35468*x[C+4]>>16)-Vr(x[C+12]),De=Vr(x[C+4])+(35468*x[C+12]>>16);le[se+0]=ue+De,le[se+1]=pe+ve,le[se+2]=pe-ve,le[se+3]=ue-De,se+=4,C++}for(re=se=0;4>re;++re)ue=(x=le[se+0]+4)+le[se+8],pe=x-le[se+8],ve=(35468*le[se+4]>>16)-Vr(le[se+12]),Fr(M,H,0,0,ue+(De=Vr(le[se+4])+(35468*le[se+12]>>16))),Fr(M,H,1,0,pe+ve),Fr(M,H,2,0,pe-ve),Fr(M,H,3,0,ue-De),se++,H+=32}function un(x,C,M,H){var re=x[C+0]+4,se=35468*x[C+4]>>16,le=Vr(x[C+4]),ue=35468*x[C+1]>>16;Xr(M,H,0,re+le,x=Vr(x[C+1]),ue),Xr(M,H,1,re+se,x,ue),Xr(M,H,2,re-se,x,ue),Xr(M,H,3,re-le,x,ue)}function ta(x,C,M,H,re){ea(x,C,M,H),re&&ea(x,C+16,M,H+4)}function es(x,C,M,H){vc(x,C+0,M,H,1),vc(x,C+32,M,H+128,1)}function Er(x,C,M,H){var re;for(x=x[C+0]+4,re=0;4>re;++re)for(C=0;4>C;++C)Fr(M,H,C,re,x)}function bs(x,C,M,H){x[C+0]&&rs(x,C+0,M,H),x[C+16]&&rs(x,C+16,M,H+4),x[C+32]&&rs(x,C+32,M,H+128),x[C+48]&&rs(x,C+48,M,H+128+4)}function zo(x,C,M,H){var re,se=i(16);for(re=0;4>re;++re){var le=x[C+0+re]+x[C+12+re],ue=x[C+4+re]+x[C+8+re],pe=x[C+4+re]-x[C+8+re],ve=x[C+0+re]-x[C+12+re];se[0+re]=le+ue,se[8+re]=le-ue,se[4+re]=ve+pe,se[12+re]=ve-pe}for(re=0;4>re;++re)le=(x=se[0+4*re]+3)+se[3+4*re],ue=se[1+4*re]+se[2+4*re],pe=se[1+4*re]-se[2+4*re],ve=x-se[3+4*re],M[H+0]=le+ue>>3,M[H+16]=ve+pe>>3,M[H+32]=le-ue>>3,M[H+48]=ve-pe>>3,H+=64}function Bs(x,C,M){var H,re=C-32,se=qs,le=255-x[re-1];for(H=0;H<M;++H){var ue,pe=se,ve=le+x[C-1];for(ue=0;ue<M;++ue)x[C+ue]=pe[ve+x[re+ue]];C+=32}}function vm(x,C){Bs(x,C,4)}function Ch(x,C){Bs(x,C,8)}function ym(x,C){Bs(x,C,16)}function qo(x,C){var M;for(M=0;16>M;++M)n(x,C+32*M,x,C-32,16)}function fu(x,C){var M;for(M=16;0<M;--M)a(x,C,x[C-1],16),C+=32}function du(x,C,M){var H;for(H=0;16>H;++H)a(C,M+32*H,x,16)}function Cl(x,C){var M,H=16;for(M=0;16>M;++M)H+=x[C-1+32*M]+x[C+M-32];du(H>>5,x,C)}function Vn(x,C){var M,H=8;for(M=0;16>M;++M)H+=x[C-1+32*M];du(H>>4,x,C)}function Ph(x,C){var M,H=8;for(M=0;16>M;++M)H+=x[C+M-32];du(H>>4,x,C)}function Zf(x,C){du(128,x,C)}function _r(x,C,M){return x+2*C+M+2>>2}function Pl(x,C){var M,H=C-32;for(H=new Uint8Array([_r(x[H-1],x[H+0],x[H+1]),_r(x[H+0],x[H+1],x[H+2]),_r(x[H+1],x[H+2],x[H+3]),_r(x[H+2],x[H+3],x[H+4])]),M=0;4>M;++M)n(x,C+32*M,H,0,H.length)}function xm(x,C){var M=x[C-1],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96];he(x,C+0,16843009*_r(x[C-1-32],M,H)),he(x,C+32,16843009*_r(M,H,re)),he(x,C+64,16843009*_r(H,re,se)),he(x,C+96,16843009*_r(re,se,se))}function co(x,C){var M,H=4;for(M=0;4>M;++M)H+=x[C+M-32]+x[C-1+32*M];for(H>>=3,M=0;4>M;++M)a(x,C+32*M,H,4)}function Oh(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1-32],le=x[C+0-32],ue=x[C+1-32],pe=x[C+2-32],ve=x[C+3-32];x[C+0+96]=_r(H,re,x[C-1+96]),x[C+1+96]=x[C+0+64]=_r(M,H,re),x[C+2+96]=x[C+1+64]=x[C+0+32]=_r(se,M,H),x[C+3+96]=x[C+2+64]=x[C+1+32]=x[C+0+0]=_r(le,se,M),x[C+3+64]=x[C+2+32]=x[C+1+0]=_r(ue,le,se),x[C+3+32]=x[C+2+0]=_r(pe,ue,le),x[C+3+0]=_r(ve,pe,ue)}function Us(x,C){var M=x[C+1-32],H=x[C+2-32],re=x[C+3-32],se=x[C+4-32],le=x[C+5-32],ue=x[C+6-32],pe=x[C+7-32];x[C+0+0]=_r(x[C+0-32],M,H),x[C+1+0]=x[C+0+32]=_r(M,H,re),x[C+2+0]=x[C+1+32]=x[C+0+64]=_r(H,re,se),x[C+3+0]=x[C+2+32]=x[C+1+64]=x[C+0+96]=_r(re,se,le),x[C+3+32]=x[C+2+64]=x[C+1+96]=_r(se,le,ue),x[C+3+64]=x[C+2+96]=_r(le,ue,pe),x[C+3+96]=_r(ue,pe,pe)}function hu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1-32],le=x[C+0-32],ue=x[C+1-32],pe=x[C+2-32],ve=x[C+3-32];x[C+0+0]=x[C+1+64]=se+le+1>>1,x[C+1+0]=x[C+2+64]=le+ue+1>>1,x[C+2+0]=x[C+3+64]=ue+pe+1>>1,x[C+3+0]=pe+ve+1>>1,x[C+0+96]=_r(re,H,M),x[C+0+64]=_r(H,M,se),x[C+0+32]=x[C+1+96]=_r(M,se,le),x[C+1+32]=x[C+2+96]=_r(se,le,ue),x[C+2+32]=x[C+3+96]=_r(le,ue,pe),x[C+3+32]=_r(ue,pe,ve)}function ed(x,C){var M=x[C+0-32],H=x[C+1-32],re=x[C+2-32],se=x[C+3-32],le=x[C+4-32],ue=x[C+5-32],pe=x[C+6-32],ve=x[C+7-32];x[C+0+0]=M+H+1>>1,x[C+1+0]=x[C+0+64]=H+re+1>>1,x[C+2+0]=x[C+1+64]=re+se+1>>1,x[C+3+0]=x[C+2+64]=se+le+1>>1,x[C+0+32]=_r(M,H,re),x[C+1+32]=x[C+0+96]=_r(H,re,se),x[C+2+32]=x[C+1+96]=_r(re,se,le),x[C+3+32]=x[C+2+96]=_r(se,le,ue),x[C+3+64]=_r(le,ue,pe),x[C+3+96]=_r(ue,pe,ve)}function pu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96];x[C+0+0]=M+H+1>>1,x[C+2+0]=x[C+0+32]=H+re+1>>1,x[C+2+32]=x[C+0+64]=re+se+1>>1,x[C+1+0]=_r(M,H,re),x[C+3+0]=x[C+1+32]=_r(H,re,se),x[C+3+32]=x[C+1+64]=_r(re,se,se),x[C+3+64]=x[C+2+64]=x[C+0+96]=x[C+1+96]=x[C+2+96]=x[C+3+96]=se}function mu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96],le=x[C-1-32],ue=x[C+0-32],pe=x[C+1-32],ve=x[C+2-32];x[C+0+0]=x[C+2+32]=M+le+1>>1,x[C+0+32]=x[C+2+64]=H+M+1>>1,x[C+0+64]=x[C+2+96]=re+H+1>>1,x[C+0+96]=se+re+1>>1,x[C+3+0]=_r(ue,pe,ve),x[C+2+0]=_r(le,ue,pe),x[C+1+0]=x[C+3+32]=_r(M,le,ue),x[C+1+32]=x[C+3+64]=_r(H,M,le),x[C+1+64]=x[C+3+96]=_r(re,H,M),x[C+1+96]=_r(se,re,H)}function Ih(x,C){var M;for(M=0;8>M;++M)n(x,C+32*M,x,C-32,8)}function Wo(x,C){var M;for(M=0;8>M;++M)a(x,C,x[C-1],8),C+=32}function Vs(x,C,M){var H;for(H=0;8>H;++H)a(C,M+32*H,x,8)}function Ho(x,C){var M,H=8;for(M=0;8>M;++M)H+=x[C+M-32]+x[C-1+32*M];Vs(H>>4,x,C)}function td(x,C){var M,H=4;for(M=0;8>M;++M)H+=x[C+M-32];Vs(H>>3,x,C)}function wn(x,C){var M,H=4;for(M=0;8>M;++M)H+=x[C-1+32*M];Vs(H>>3,x,C)}function rd(x,C){Vs(128,x,C)}function gu(x,C,M){var H=x[C-M],re=x[C+0],se=3*(re-H)+g_[1020+x[C-2*M]-x[C+M]],le=wy[112+(se+4>>3)];x[C-M]=qs[255+H+wy[112+(se+3>>3)]],x[C+0]=qs[255+re-le]}function nd(x,C,M,H){var re=x[C+0],se=x[C+M];return mo[255+x[C-2*M]-x[C-M]]>H||mo[255+se-re]>H}function ad(x,C,M,H){return 4*mo[255+x[C-M]-x[C+0]]+mo[255+x[C-2*M]-x[C+M]]<=H}function id(x,C,M,H,re){var se=x[C-3*M],le=x[C-2*M],ue=x[C-M],pe=x[C+0],ve=x[C+M],De=x[C+2*M],Ze=x[C+3*M];return 4*mo[255+ue-pe]+mo[255+le-ve]>H?0:mo[255+x[C-4*M]-se]<=re&&mo[255+se-le]<=re&&mo[255+le-ue]<=re&&mo[255+Ze-De]<=re&&mo[255+De-ve]<=re&&mo[255+ve-pe]<=re}function fc(x,C,M,H){var re=2*H+1;for(H=0;16>H;++H)ad(x,C+H,M,re)&&gu(x,C+H,M)}function zs(x,C,M,H){var re=2*H+1;for(H=0;16>H;++H)ad(x,C+H*M,1,re)&&gu(x,C+H*M,1)}function Ra(x,C,M,H){var re;for(re=3;0<re;--re)fc(x,C+=4*M,M,H)}function jh(x,C,M,H){var re;for(re=3;0<re;--re)zs(x,C+=4,M,H)}function Ol(x,C,M,H,re,se,le,ue){for(se=2*se+1;0<re--;){if(id(x,C,M,se,le))if(nd(x,C,M,ue))gu(x,C,M);else{var pe=x,ve=C,De=M,Ze=pe[ve-2*De],et=pe[ve-De],ze=pe[ve+0],xt=pe[ve+De],it=pe[ve+2*De],Le=27*(mt=g_[1020+3*(ze-et)+g_[1020+Ze-xt]])+63>>7,Be=18*mt+63>>7,mt=9*mt+63>>7;pe[ve-3*De]=qs[255+pe[ve-3*De]+mt],pe[ve-2*De]=qs[255+Ze+Be],pe[ve-De]=qs[255+et+Le],pe[ve+0]=qs[255+ze-Le],pe[ve+De]=qs[255+xt-Be],pe[ve+2*De]=qs[255+it-mt]}C+=H}}function li(x,C,M,H,re,se,le,ue){for(se=2*se+1;0<re--;){if(id(x,C,M,se,le))if(nd(x,C,M,ue))gu(x,C,M);else{var pe=x,ve=C,De=M,Ze=pe[ve-De],et=pe[ve+0],ze=pe[ve+De],xt=wy[112+((it=3*(et-Ze))+4>>3)],it=wy[112+(it+3>>3)],Le=xt+1>>1;pe[ve-2*De]=qs[255+pe[ve-2*De]+Le],pe[ve-De]=qs[255+Ze+it],pe[ve+0]=qs[255+et-xt],pe[ve+De]=qs[255+ze-Le]}C+=H}}function vu(x,C,M,H,re,se){Ol(x,C,M,1,16,H,re,se)}function Go(x,C,M,H,re,se){Ol(x,C,1,M,16,H,re,se)}function yu(x,C,M,H,re,se){var le;for(le=3;0<le;--le)li(x,C+=4*M,M,1,16,H,re,se)}function dc(x,C,M,H,re,se){var le;for(le=3;0<le;--le)li(x,C+=4,1,M,16,H,re,se)}function xu(x,C,M,H,re,se,le,ue){Ol(x,C,re,1,8,se,le,ue),Ol(M,H,re,1,8,se,le,ue)}function sd(x,C,M,H,re,se,le,ue){Ol(x,C,1,re,8,se,le,ue),Ol(M,H,1,re,8,se,le,ue)}function bu(x,C,M,H,re,se,le,ue){li(x,C+4*re,re,1,8,se,le,ue),li(M,H+4*re,re,1,8,se,le,ue)}function Il(x,C,M,H,re,se,le,ue){li(x,C+4,1,re,8,se,le,ue),li(M,H+4,1,re,8,se,le,ue)}function hc(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _u(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new N}function Dh(){this.xb=this.a=0,this.l=new wt,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _u,this.ab=0,this.gc=s(4,pc),this.Oc=0}function Ko(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jl(x,C,M,H,re,se,le){for(x=x==null?0:x[C+0],C=0;C<le;++C)re[se+C]=x+M[H+C]&255,x=re[se+C]}function Su(x,C,M,H,re,se,le){var ue;if(x==null)jl(null,null,M,H,re,se,le);else for(ue=0;ue<le;++ue)re[se+ue]=x[C+ue]+M[H+ue]&255}function Ni(x,C,M,H,re,se,le){if(x==null)jl(null,null,M,H,re,se,le);else{var ue,pe=x[C+0],ve=pe,De=pe;for(ue=0;ue<le;++ue)ve=De+(pe=x[C+ue])-ve,De=M[H+ue]+(-256&ve?0>ve?0:255:ve)&255,ve=pe,re[se+ue]=De}}function Au(x,C,M,H){var re=C.width,se=C.o;if(t(x!=null&&C!=null),0>M||0>=H||M+H>se)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new Ko,(le=x.ga==null)||(le=C.width*C.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var ue=x.Fa,pe=x.P,ve=x.qc,De=x.mb,Ze=x.nb,et=pe+1,ze=ve-1,xt=le.l;if(t(ue!=null&&De!=null&&C!=null),Pu[0]=null,Pu[1]=jl,Pu[2]=Su,Pu[3]=Ni,le.ca=De,le.tb=Ze,le.c=C.width,le.i=C.height,t(0<le.c&&0<le.i),1>=ve)C=0;else if(le.$a=ue[pe+0]>>0&3,le.Z=ue[pe+0]>>2&3,le.Lc=ue[pe+0]>>4&3,pe=ue[pe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||pe)C=0;else if(xt.put=Ne,xt.ac=br,xt.bc=ot,xt.ma=le,xt.width=C.width,xt.height=C.height,xt.Da=C.Da,xt.v=C.v,xt.va=C.va,xt.j=C.j,xt.o=C.o,le.$a)e:{t(le.$a==1),C=rt();t:for(;;){if(C==null){C=0;break e}if(t(le!=null),le.mc=C,C.c=le.c,C.i=le.i,C.l=le.l,C.l.ma=le,C.l.width=le.c,C.l.height=le.i,C.a=0,q(C.m,ue,et,ze),!He(le.c,le.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&me(C.s)?(le.ic=1,ue=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(ue),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(le.ic=0,C=Qe(C,le.c)),!C))break t;C=1;break e}le.mc=null,C=0}else C=ze>=le.c*le.i;le=!C}if(le)return null;x.ga.Lc!=1?x.Ga=0:H=se-M}t(x.ga!=null),t(M+H<=se);e:{if(C=(ue=x.ga).c,se=ue.l.o,ue.$a==0){if(et=x.rc,ze=x.Vc,xt=x.Fa,pe=x.P+1+M*C,ve=x.mb,De=x.nb+M*C,t(pe<=x.P+x.qc),ue.Z!=0)for(t(Pu[ue.Z]!=null),le=0;le<H;++le)Pu[ue.Z](et,ze,xt,pe,ve,De,C),et=ve,ze=De,De+=C,pe+=C;else for(le=0;le<H;++le)n(ve,De,xt,pe,C),et=ve,ze=De,De+=C,pe+=C;x.rc=et,x.Vc=ze}else{if(t(ue.mc!=null),C=M+H,t((le=ue.mc)!=null),t(C<=le.i),le.C>=C)C=1;else if(ue.ic||Ve(),ue.ic){ue=le.V,et=le.Ba,ze=le.c;var it=le.i,Le=(xt=1,pe=le.$/ze,ve=le.$%ze,De=le.m,Ze=le.s,le.$),Be=ze*it,mt=ze*C,At=Ze.wc,yt=Le<mt?Ur(Ze,ve,pe):null;t(Le<=Be),t(C<=it),t(me(Ze));t:for(;;){for(;!De.h&&Le<mt;){if(ve&At||(yt=Ur(Ze,ve,pe)),t(yt!=null),Q(De),256>(it=jr(yt.G[0],yt.H[0],De)))ue[et+Le]=it,++Le,++ve>=ze&&(ve=0,++pe<=C&&!(pe%16)&&xe(le,pe));else{if(!(280>it)){xt=0;break t}it=rr(it-256,De);var Yt,Bt=jr(yt.G[4],yt.H[4],De);if(Q(De),!(Le>=(Bt=ir(ze,Bt=rr(Bt,De)))&&Be-Le>=it)){xt=0;break t}for(Yt=0;Yt<it;++Yt)ue[et+Le+Yt]=ue[et+Le+Yt-Bt];for(Le+=it,ve+=it;ve>=ze;)ve-=ze,++pe<=C&&!(pe%16)&&xe(le,pe);Le<mt&&ve&At&&(yt=Ur(Ze,ve,pe))}t(De.h==z(De))}xe(le,pe>C?C:pe);break t}!xt||De.h&&Le<Be?(xt=0,le.a=De.h?5:3):le.$=Le,C=xt}else C=_e(le,le.V,le.Ba,le.c,le.i,C,Je);if(!C){H=0;break e}}M+H>=se&&(x.Cc=1),H=1}if(!H)return null;if(x.Cc&&((H=x.ga)!=null&&(H.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*re}function L(x,C,M,H,re,se){for(;0<re--;){var le,ue=x,pe=C+(M?1:0),ve=x,De=C+(M?0:3);for(le=0;le<H;++le){var Ze=ve[De+4*le];Ze!=255&&(Ze*=32897,ue[pe+4*le+0]=ue[pe+4*le+0]*Ze>>23,ue[pe+4*le+1]=ue[pe+4*le+1]*Ze>>23,ue[pe+4*le+2]=ue[pe+4*le+2]*Ze>>23)}C+=se}}function te(x,C,M,H,re){for(;0<H--;){var se;for(se=0;se<M;++se){var le=x[C+2*se+0],ue=15&(ve=x[C+2*se+1]),pe=4369*ue,ve=(240&ve|ve>>4)*pe>>16;x[C+2*se+0]=(240&le|le>>4)*pe>>16&240|(15&le|le<<4)*pe>>16>>4&15,x[C+2*se+1]=240&ve|ue}C+=re}}function Ae(x,C,M,H,re,se,le,ue){var pe,ve,De=255;for(ve=0;ve<re;++ve){for(pe=0;pe<H;++pe){var Ze=x[C+pe];se[le+4*pe]=Ze,De&=Ze}C+=M,le+=ue}return De!=255}function Oe(x,C,M,H,re){var se;for(se=0;se<re;++se)M[H+se]=x[C+se]>>8}function Ve(){po=L,Mn=te,Rn=Ae,va=Oe}function st(x,C,M){_[x]=function(H,re,se,le,ue,pe,ve,De,Ze,et,ze,xt,it,Le,Be,mt,At){var yt,Yt=At-1>>1,Bt=ue[pe+0]|ve[De+0]<<16,dr=Ze[et+0]|ze[xt+0]<<16;t(H!=null);var qt=3*Bt+dr+131074>>2;for(C(H[re+0],255&qt,qt>>16,it,Le),se!=null&&(qt=3*dr+Bt+131074>>2,C(se[le+0],255&qt,qt>>16,Be,mt)),yt=1;yt<=Yt;++yt){var vn=ue[pe+yt]|ve[De+yt]<<16,An=Ze[et+yt]|ze[xt+yt]<<16,fn=Bt+vn+dr+An+524296,Jr=fn+2*(vn+dr)>>3;qt=Jr+Bt>>1,Bt=(fn=fn+2*(Bt+An)>>3)+vn>>1,C(H[re+2*yt-1],255&qt,qt>>16,it,Le+(2*yt-1)*M),C(H[re+2*yt-0],255&Bt,Bt>>16,it,Le+(2*yt-0)*M),se!=null&&(qt=fn+dr>>1,Bt=Jr+An>>1,C(se[le+2*yt-1],255&qt,qt>>16,Be,mt+(2*yt-1)*M),C(se[le+2*yt+0],255&Bt,Bt>>16,Be,mt+(2*yt+0)*M)),Bt=vn,dr=An}1&At||(qt=3*Bt+dr+131074>>2,C(H[re+At-1],255&qt,qt>>16,it,Le+(At-1)*M),se!=null&&(qt=3*dr+Bt+131074>>2,C(se[le+At-1],255&qt,qt>>16,Be,mt+(At-1)*M)))}}function Tt(){go[_y]=yY,go[Sy]=IP,go[NP]=xY,go[Ay]=jP,go[Ty]=DP,go[v_]=LP,go[kP]=bY,go[y_]=IP,go[x_]=jP,go[Ey]=DP,go[b_]=LP}function Vt(x){return x&~wY?0>x?0:255:x>>MP}function A(x,C){return Vt((19077*x>>8)+(26149*C>>8)-14234)}function F(x,C,M){return Vt((19077*x>>8)-(6419*C>>8)-(13320*M>>8)+8708)}function X(x,C){return Vt((19077*x>>8)+(33050*C>>8)-17685)}function ce(x,C,M,H,re){H[re+0]=A(x,M),H[re+1]=F(x,C,M),H[re+2]=X(x,C)}function Ue(x,C,M,H,re){H[re+0]=X(x,C),H[re+1]=F(x,C,M),H[re+2]=A(x,M)}function tt(x,C,M,H,re){var se=F(x,C,M);C=se<<3&224|X(x,C)>>3,H[re+0]=248&A(x,M)|se>>5,H[re+1]=C}function Nt(x,C,M,H,re){var se=240&X(x,C)|15;H[re+0]=240&A(x,M)|F(x,C,M)>>4,H[re+1]=se}function Cr(x,C,M,H,re){H[re+0]=255,ce(x,C,M,H,re+1)}function Qr(x,C,M,H,re){Ue(x,C,M,H,re),H[re+3]=255}function Pr(x,C,M,H,re){ce(x,C,M,H,re),H[re+3]=255}function _n(x,C){return 0>x?0:x>C?C:x}function In(x,C,M){_[x]=function(H,re,se,le,ue,pe,ve,De,Ze){for(var et=De+(-2&Ze)*M;De!=et;)C(H[re+0],se[le+0],ue[pe+0],ve,De),C(H[re+1],se[le+0],ue[pe+0],ve,De+M),re+=2,++le,++pe,De+=2*M;1&Ze&&C(H[re+0],se[le+0],ue[pe+0],ve,De)}}function Yo(x,C,M){return M==0?x==0?C==0?6:5:C==0?4:0:M}function ci(x,C,M,H,re){switch(x>>>30){case 3:vc(C,M,H,re,0);break;case 2:ga(C,M,H,re);break;case 1:rs(C,M,H,re)}}function Dl(x,C){var M,H,re=C.M,se=C.Nb,le=x.oc,ue=x.pc+40,pe=x.oc,ve=x.pc+584,De=x.oc,Ze=x.pc+600;for(M=0;16>M;++M)le[ue+32*M-1]=129;for(M=0;8>M;++M)pe[ve+32*M-1]=129,De[Ze+32*M-1]=129;for(0<re?le[ue-1-32]=pe[ve-1-32]=De[Ze-1-32]=129:(a(le,ue-32-1,127,21),a(pe,ve-32-1,127,9),a(De,Ze-32-1,127,9)),H=0;H<x.za;++H){var et=C.ya[C.aa+H];if(0<H){for(M=-1;16>M;++M)n(le,ue+32*M-4,le,ue+32*M+12,4);for(M=-1;8>M;++M)n(pe,ve+32*M-4,pe,ve+32*M+4,4),n(De,Ze+32*M-4,De,Ze+32*M+4,4)}var ze=x.Gd,xt=x.Hd+H,it=et.ad,Le=et.Hc;if(0<re&&(n(le,ue-32,ze[xt].y,0,16),n(pe,ve-32,ze[xt].f,0,8),n(De,Ze-32,ze[xt].ea,0,8)),et.Za){var Be=le,mt=ue-32+16;for(0<re&&(H>=x.za-1?a(Be,mt,ze[xt].y[15],4):n(Be,mt,ze[xt+1].y,0,4)),M=0;4>M;M++)Be[mt+128+M]=Be[mt+256+M]=Be[mt+384+M]=Be[mt+0+M];for(M=0;16>M;++M,Le<<=2)Be=le,mt=ue+FP[M],Xo[et.Ob[M]](Be,mt),ci(Le,it,16*+M,Be,mt)}else if(Be=Yo(H,re,et.Ob[0]),Cu[Be](le,ue),Le!=0)for(M=0;16>M;++M,Le<<=2)ci(Le,it,16*+M,le,ue+FP[M]);for(M=et.Gc,Be=Yo(H,re,et.Dd),xc[Be](pe,ve),xc[Be](De,Ze),Le=it,Be=pe,mt=ve,255&(et=M>>0)&&(170&et?Am(Le,256,Be,mt):fo(Le,256,Be,mt)),et=De,Le=Ze,255&(M>>=8)&&(170&M?Am(it,320,et,Le):fo(it,320,et,Le)),re<x.Ub-1&&(n(ze[xt].y,0,le,ue+480,16),n(ze[xt].f,0,pe,ve+224,8),n(ze[xt].ea,0,De,Ze+224,8)),M=8*se*x.B,ze=x.sa,xt=x.ta+16*H+16*se*x.R,it=x.qa,et=x.ra+8*H+M,Le=x.Ha,Be=x.Ia+8*H+M,M=0;16>M;++M)n(ze,xt+M*x.R,le,ue+32*M,16);for(M=0;8>M;++M)n(it,et+M*x.B,pe,ve+32*M,8),n(Le,Be+M*x.B,De,Ze+32*M,8)}}function Ll(x,C,M,H,re,se,le,ue,pe){var ve=[0],De=[0],Ze=0,et=pe!=null?pe.kd:0,ze=pe??new wu;if(x==null||12>M)return 7;ze.data=x,ze.w=C,ze.ha=M,C=[C],M=[M],ze.gb=[ze.gb];e:{var xt=C,it=M,Le=ze.gb;if(t(x!=null),t(it!=null),t(Le!=null),Le[0]=0,12<=it[0]&&!r(x,xt[0],"RIFF")){if(r(x,xt[0]+8,"WEBP")){Le=3;break e}var Be=ke(x,xt[0]+4);if(12>Be||4294967286<Be){Le=3;break e}if(et&&Be>it[0]-8){Le=7;break e}Le[0]=Be,xt[0]+=12,it[0]-=12}Le=0}if(Le!=0)return Le;for(Be=0<ze.gb[0],M=M[0];;){e:{var mt=x;it=C,Le=M;var At=ve,yt=De,Yt=xt=[0];if((qt=Ze=[Ze])[0]=0,8>Le[0])Le=7;else{if(!r(mt,it[0],"VP8X")){if(ke(mt,it[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var Bt=ke(mt,it[0]+8),dr=1+W(mt,it[0]+12);if(2147483648<=dr*(mt=1+W(mt,it[0]+15))){Le=3;break e}Yt!=null&&(Yt[0]=Bt),At!=null&&(At[0]=dr),yt!=null&&(yt[0]=mt),it[0]+=18,Le[0]-=18,qt[0]=1}Le=0}}if(Ze=Ze[0],xt=xt[0],Le!=0)return Le;if(it=!!(2&xt),!Be&&Ze)return 3;if(se!=null&&(se[0]=!!(16&xt)),le!=null&&(le[0]=it),ue!=null&&(ue[0]=0),le=ve[0],xt=De[0],Ze&&it&&pe==null){Le=0;break}if(4>M){Le=7;break}if(Be&&Ze||!Be&&!Ze&&!r(x,C[0],"ALPH")){M=[M],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{Bt=x,Le=C,Be=M;var qt=ze.gb;At=ze.na,yt=ze.P,Yt=ze.Sa,dr=22,t(Bt!=null),t(Be!=null),mt=Le[0];var vn=Be[0];for(t(At!=null),t(Yt!=null),At[0]=null,yt[0]=null,Yt[0]=0;;){if(Le[0]=mt,Be[0]=vn,8>vn){Le=7;break e}var An=ke(Bt,mt+4);if(4294967286<An){Le=3;break e}var fn=8+An+1&-2;if(dr+=fn,0<qt&&dr>qt){Le=3;break e}if(!r(Bt,mt,"VP8 ")||!r(Bt,mt,"VP8L")){Le=0;break e}if(vn[0]<fn){Le=7;break e}r(Bt,mt,"ALPH")||(At[0]=Bt,yt[0]=mt+8,Yt[0]=An),mt+=fn,vn-=fn}}if(M=M[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],Le!=0)break}M=[M],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(qt=x,Le=C,Be=M,At=ze.gb[0],yt=ze.Ja,Yt=ze.xa,Bt=Le[0],mt=!r(qt,Bt,"VP8 "),dr=!r(qt,Bt,"VP8L"),t(qt!=null),t(Be!=null),t(yt!=null),t(Yt!=null),8>Be[0])Le=7;else{if(mt||dr){if(qt=ke(qt,Bt+4),12<=At&&qt>At-12){Le=3;break e}if(et&&qt>Be[0]-8){Le=7;break e}yt[0]=qt,Le[0]+=8,Be[0]-=8,Yt[0]=dr}else Yt[0]=5<=Be[0]&&qt[Bt+0]==47&&!(qt[Bt+4]>>5),yt[0]=Be[0];Le=0}if(M=M[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],C=C[0],Le!=0)break;if(4294967286<ze.Ja)return 3;if(ue==null||it||(ue[0]=ze.xa?2:1),le=[le],xt=[xt],ze.xa){if(5>M){Le=7;break}ue=le,et=xt,it=se,x==null||5>M?x=0:5<=M&&x[C+0]==47&&!(x[C+4]>>5)?(Be=[0],qt=[0],At=[0],q(yt=new k,x,C,M),We(yt,Be,qt,At)?(ue!=null&&(ue[0]=Be[0]),et!=null&&(et[0]=qt[0]),it!=null&&(it[0]=At[0]),x=1):x=0):x=0}else{if(10>M){Le=7;break}ue=xt,x==null||10>M||!pt(x,C+3,M-3)?x=0:(et=x[C+0]|x[C+1]<<8|x[C+2]<<16,it=16383&(x[C+7]<<8|x[C+6]),x=16383&(x[C+9]<<8|x[C+8]),1&et||3<(et>>1&7)||!(et>>4&1)||et>>5>=ze.Ja||!it||!x?x=0:(le&&(le[0]=it),ue&&(ue[0]=x),x=1))}if(!x||(le=le[0],xt=xt[0],Ze&&(ve[0]!=le||De[0]!=xt)))return 3;pe!=null&&(pe[0]=ze,pe.offset=C-pe.w,t(4294967286>C-pe.w),t(pe.offset==pe.ha-M));break}return Le==0||Le==7&&Ze&&pe==null?(se!=null&&(se[0]|=ze.na!=null&&0<ze.na.length),H!=null&&(H[0]=le),re!=null&&(re[0]=xt),0):Le}function bm(x,C,M){var H=C.width,re=C.height,se=0,le=0,ue=H,pe=re;if(C.Da=x!=null&&0<x.Da,C.Da&&(ue=x.cd,pe=x.bd,se=x.v,le=x.j,11>M||(se&=-2,le&=-2),0>se||0>le||0>=ue||0>=pe||se+ue>H||le+pe>re))return 0;if(C.v=se,C.j=le,C.va=se+ue,C.o=le+pe,C.U=ue,C.T=pe,C.da=x!=null&&0<x.da,C.da){if(!$e(ue,pe,M=[x.ib],se=[x.hb]))return 0;C.ib=M[0],C.hb=se[0]}return C.ob=x!=null&&x.ob,C.Kb=x==null||!x.Sd,C.da&&(C.ob=C.ib<3*H/4&&C.hb<3*re/4,C.Kb=0),1}function wm(x){if(x==null)return 2;if(11>x.S){var C=x.f.RGBA;C.fb+=(x.height-1)*C.A,C.A=-C.A}else C=x.f.kb,x=x.height,C.O+=(x-1)*C.fa,C.fa=-C.fa,C.N+=(x-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(x-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(x-1)*C.lb,C.lb=-C.lb);return 0}function Lh(x,C,M,H){if(H==null||0>=x||0>=C)return 2;if(M!=null){if(M.Da){var re=M.cd,se=M.bd,le=-2&M.v,ue=-2&M.j;if(0>le||0>ue||0>=re||0>=se||le+re>x||ue+se>C)return 2;x=re,C=se}if(M.da){if(!$e(x,C,re=[M.ib],se=[M.hb]))return 2;x=re[0],C=se[0]}}H.width=x,H.height=C;e:{var pe=H.width,ve=H.height;if(x=H.S,0>=pe||0>=ve||!(x>=_y&&13>x))x=2;else{if(0>=H.Rd&&H.sd==null){le=se=re=C=0;var De=(ue=pe*$P[x])*ve;if(11>x||(se=(ve+1)/2*(C=(pe+1)/2),x==12&&(le=(re=pe)*ve)),(ve=i(De+2*se+le))==null){x=1;break e}H.sd=ve,11>x?((pe=H.f.RGBA).eb=ve,pe.fb=0,pe.A=ue,pe.size=De):((pe=H.f.kb).y=ve,pe.O=0,pe.fa=ue,pe.Fd=De,pe.f=ve,pe.N=0+De,pe.Ab=C,pe.Cd=se,pe.ea=ve,pe.W=0+De+se,pe.Db=C,pe.Ed=se,x==12&&(pe.F=ve,pe.J=0+De+2*se),pe.Tc=le,pe.lb=re)}if(C=1,re=H.S,se=H.width,le=H.height,re>=_y&&13>re)if(11>re)x=H.f.RGBA,C&=(ue=Math.abs(x.A))*(le-1)+se<=x.size,C&=ue>=se*$P[re],C&=x.eb!=null;else{x=H.f.kb,ue=(se+1)/2,De=(le+1)/2,pe=Math.abs(x.fa),ve=Math.abs(x.Ab);var Ze=Math.abs(x.Db),et=Math.abs(x.lb),ze=et*(le-1)+se;C&=pe*(le-1)+se<=x.Fd,C&=ve*(De-1)+ue<=x.Cd,C=(C&=Ze*(De-1)+ue<=x.Ed)&pe>=se&ve>=ue&Ze>=ue,C&=x.y!=null,C&=x.f!=null,C&=x.ea!=null,re==12&&(C&=et>=se,C&=ze<=x.Tc,C&=x.F!=null)}else C=0;x=C?0:2}}return x!=0||M!=null&&M.fd&&(x=wm(H)),x}var ui=64,Mh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Rh=24,Fh=32,_m=8,ws=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(x){return x},_.Predictor2=function(x,C,M){return C[M+0]},_.Predictor3=function(x,C,M){return C[M+1]},_.Predictor4=function(x,C,M){return C[M-1]},_.Predictor5=function(x,C,M){return je(je(x,C[M+1]),C[M+0])},_.Predictor6=function(x,C,M){return je(x,C[M-1])},_.Predictor7=function(x,C,M){return je(x,C[M+0])},_.Predictor8=function(x,C,M){return je(C[M-1],C[M+0])},_.Predictor9=function(x,C,M){return je(C[M+0],C[M+1])},_.Predictor10=function(x,C,M){return je(je(x,C[M-1]),je(C[M+0],C[M+1]))},_.Predictor11=function(x,C,M){var H=C[M+0];return 0>=at(H>>24&255,x>>24&255,(C=C[M-1])>>24&255)+at(H>>16&255,x>>16&255,C>>16&255)+at(H>>8&255,x>>8&255,C>>8&255)+at(255&H,255&x,255&C)?H:x},_.Predictor12=function(x,C,M){var H=C[M+0];return(Ee((x>>24&255)+(H>>24&255)-((C=C[M-1])>>24&255))<<24|Ee((x>>16&255)+(H>>16&255)-(C>>16&255))<<16|Ee((x>>8&255)+(H>>8&255)-(C>>8&255))<<8|Ee((255&x)+(255&H)-(255&C)))>>>0},_.Predictor13=function(x,C,M){var H=C[M-1];return(qe((x=je(x,C[M+0]))>>24&255,H>>24&255)<<24|qe(x>>16&255,H>>16&255)<<16|qe(x>>8&255,H>>8&255)<<8|qe(x>>0&255,H>>0&255))>>>0};var m_=_.PredictorAdd0;_.PredictorAdd1=nt,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Sm=_.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var gy,uo=_.ColorIndexInverseTransform,$h=_.MapARGB,vy=_.VP8LColorIndexInverseTransformAlpha,yy=_.MapAlpha,Tu=_.VP8LPredictorsAdd=[];Tu.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var od,_s,ts,Eu,mc,gc,Bh,vc,ga,Am,rs,fo,Uh,xy,Tm,ld,cd,Nu,ud,Vh,fd,ku,Em,ho,po,Mn,Rn,va,Fa=i(511),yc=i(2041),Nm=i(225),zh=i(767),by=0,g_=yc,wy=Nm,qs=zh,mo=Fa,_y=0,Sy=1,NP=2,Ay=3,Ty=4,v_=5,kP=6,y_=7,x_=8,Ey=9,b_=10,aY=[2,3,7],iY=[3,3,11],CP=[280,256,256,256,40],sY=[0,1,1,1,0],oY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],cY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uY=8,w_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],__=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],km=null,fY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],PP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cu=[],Xo=[],xc=[],vY=1,OP=2,Pu=[],go=[];st("UpsampleRgbLinePair",ce,3),st("UpsampleBgrLinePair",Ue,3),st("UpsampleRgbaLinePair",Pr,4),st("UpsampleBgraLinePair",Qr,4),st("UpsampleArgbLinePair",Cr,4),st("UpsampleRgba4444LinePair",Nt,2),st("UpsampleRgb565LinePair",tt,2);var yY=_.UpsampleRgbLinePair,xY=_.UpsampleBgrLinePair,IP=_.UpsampleRgbaLinePair,jP=_.UpsampleBgraLinePair,DP=_.UpsampleArgbLinePair,LP=_.UpsampleRgba4444LinePair,bY=_.UpsampleRgb565LinePair,Ny=16,ky=1<<Ny-1,Cm=-227,S_=482,MP=6,wY=(256<<MP)-1,RP=0,_Y=i(256),SY=i(256),AY=i(256),TY=i(256),EY=i(S_-Cm),NY=i(S_-Cm);In("YuvToRgbRow",ce,3),In("YuvToBgrRow",Ue,3),In("YuvToRgbaRow",Pr,4),In("YuvToBgraRow",Qr,4),In("YuvToArgbRow",Cr,4),In("YuvToRgba4444Row",Nt,2),In("YuvToRgb565Row",tt,2);var FP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cy=[0,2,8],kY=[8,7,6,4,4,2,2,2,1,1,1,1],CY=1;this.WebPDecodeRGBA=function(x,C,M,H,re){var se=Sy,le=new hc,ue=new Dt;le.ba=ue,ue.S=se,ue.width=[ue.width],ue.height=[ue.height];var pe=ue.width,ve=ue.height,De=new Gt;if(De==null||x==null)var Ze=2;else t(De!=null),Ze=Ll(x,C,M,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Ze!=0?pe=0:(pe!=null&&(pe[0]=De.width[0]),ve!=null&&(ve[0]=De.height[0]),pe=1),pe){ue.width=ue.width[0],ue.height=ue.height[0],H!=null&&(H[0]=ue.width),re!=null&&(re[0]=ue.height);e:{if(H=new wt,(re=new wu).data=x,re.w=C,re.ha=M,re.kd=1,C=[0],t(re!=null),((x=Ll(re.data,re.w,re.ha,null,null,null,C,null,re))==0||x==7)&&C[0]&&(x=4),(C=x)==0){if(t(le!=null),H.data=re.data,H.w=re.w+re.offset,H.ha=re.ha-re.offset,H.put=Ne,H.ac=br,H.bc=ot,H.ma=le,re.xa){if((x=rt())==null){le=1;break e}if(function(et,ze){var xt=[0],it=[0],Le=[0];t:for(;;){if(et==null)return 0;if(ze==null)return et.a=2,0;if(et.l=ze,et.a=0,q(et.m,ze.data,ze.w,ze.ha),!We(et.m,xt,it,Le)){et.a=3;break t}if(et.xb=OP,ze.width=xt[0],ze.height=it[0],!He(xt[0],it[0],1,et,null))break t;return 1}return t(et.a!=0),0}(x,H)){if(H=(C=Lh(H.width,H.height,le.Oa,le.ba))==0){t:{H=x;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((M=H.l)!=null),t((re=M.ma)!=null),H.xb!=0){if(H.ca=re.ba,H.tb=re.tb,t(H.ca!=null),!bm(re.Oa,M,Ay)){H.a=2;break r}if(!Qe(H,M.width)||M.da)break r;if((M.da||Me(H.ca.S))&&Ve(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ve()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Ce(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!_e(H,H.V,H.Ba,H.c,H.i,M.o,we))break r;re.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(C=x.a)}else C=x.a}else{if((x=new Ut)==null){le=1;break e}if(x.Fa=re.na,x.P=re.P,x.qc=re.Sa,Lt(x,H)){if((C=Lh(H.width,H.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((re=x)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(ve=De=0;4>ve;++ve)12>(Ze=re.pb[ve]).lc&&(Ze.ia=pe*kY[0>Ze.lc?0:Ze.lc]>>3),De|=Ze.ia;De&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=M.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}Dr(x,H)||(C=x.a)}}else C=x.a}C==0&&le.Oa!=null&&le.Oa.fd&&(C=wm(le.ba))}le=C}se=le!=0?null:11>se?ue.f.RGBA.eb:ue.f.kb.y}else se=null;return se};var $P=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,S){for(var I="",E=0;E<4;E++)I+=String.fromCharCode(_[S++]);return I}function u(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16)>>>0}function f(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16|_[S+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(_,S){var I={},E=0,N=!1,O=0,U=0;if(I.frames=[],!function(R,z,G,Q){for(var oe=0;oe<Q;oe++)if(R[z+oe]!=G.charCodeAt(oe))return!0;return!1}(_,S,"RIFF",4)){for(f(_,S+=4),S+=8;S<_.length;){var Y=c(_,S),K=f(_,S+=4);S+=4;var J=K+(1&K);switch(Y){case"VP8 ":case"VP8L":I.frames[E]===void 0&&(I.frames[E]={}),(ee=I.frames[E]).src_off=N?U:S-8,ee.src_size=O+K+8,E++,N&&(N=!1,O=0,U=0);break;case"VP8X":(ee=I.header={}).feature_flags=_[S];var q=S+4;ee.canvas_width=1+u(_,q),q+=3,ee.canvas_height=1+u(_,q),q+=3;break;case"ALPH":N=!0,O=J+8,U=S-8;break;case"ANIM":(ee=I.header).bgcolor=f(_,S),q=S+4,ee.loop_count=(Z=_)[(k=q)+0]<<0|Z[k+1]<<8,q+=2;break;case"ANMF":var V,ee;(ee=I.frames[E]={}).offset_x=2*u(_,S),S+=3,ee.offset_y=2*u(_,S),S+=3,ee.width=1+u(_,S),S+=3,ee.height=1+u(_,S),S+=3,ee.duration=u(_,S),S+=3,V=_[S++],ee.dispose=1&V,ee.blend=V>>1&1}Y!="ANMF"&&(S+=J)}var Z,k;return I}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,w=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var D=0;D<w.length&&w[D].blend!=0;D++);}var P=w[0],j=m.WebPDecodeRGBA(v,P.src_off,P.src_size,p,h);P.rgba=j,P.imgwidth=p[0],P.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=j[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof uE=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var b=uE(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,g,m){for(var v,y,b,w=h.length/p,D=new Uint8Array(h.length+w),P=u(),j=0;j<w;j+=1){if(b=j*p,v=h.subarray(b,b+p),m)D.set(m(v,g,y),b+j);else{for(var T,_=P.length,S=[];T<_;T+=1)S[T]=P[T](v,g,y);var I=f(S.concat());D.set(S[I],b+j)}y=v}return D},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var b=0;b<y;b+=1)m=g&&g[b]||0,v[b+1]=h[b]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],b=h.length;y[0]=3;for(var w=0;w<b;w+=1)m=h[w-p]||0,v=g&&g[w]||0,y[w+1]=h[w]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,b,w=[],D=h.length;w[0]=4;for(var P=0;P<D;P+=1)m=h[P-p]||0,v=g&&g[P]||0,y=g&&g[P-p]||0,b=c(m,v,y),w[P+1]=h[P]-b+256&255;return w},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},f=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,b,w,D,P,j,T,_,S,I,E,N,O,U,Y=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new O9e(h)).imgData,y=b.bits,v=b.colorSpace,D=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){_=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,I=new Uint8Array(_*b.colors),S=new Uint8Array(_);var J,q=b.pixelBitlength-b.bits;for(O=0,U=0;O<_;O++){for(N=T[O],J=0;J<q;)I[U++]=N>>>J&255,J+=b.bits;S[O]=N>>>J&255}}if(b.bits===16){_=(T=new Uint32Array(b.decodePixels().buffer)).length,I=new Uint8Array(_*(32/b.pixelBitlength)*b.colors),S=new Uint8Array(_*(32/b.pixelBitlength)),E=b.colors>1,O=0,U=0;for(var V=0;O<_;)N=T[O++],I[U++]=N>>>0&255,E&&(I[U++]=N>>>16&255,N=T[O++],I[U++]=N>>>0&255),S[V++]=N>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(I,b.width*b.colors,b.colors,m),j=r(S,b.width,1,m)):(h=I,j=S,Y=void 0)}if(b.colorType===3&&(v=this.color_spaces.INDEXED,P=b.palette,b.transparency.indexed)){var ee=b.transparency.indexed,Z=0;for(O=0,_=ee.length;O<_;++O)Z+=ee[O];if((Z/=255)===_-1&&ee.indexOf(0)!==-1)w=[ee.indexOf(0)];else if(Z!==_){for(T=b.decodePixels(),S=new Uint8Array(T.length),O=0,_=T.length;O<_;O++)S[O]=ee[T[O]];j=r(S,b.width,1)}}var k=function(R){var z;switch(R){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(m);return Y===this.decode.FLATE_DECODE&&(K="/Predictor "+k+" "),K+="/Colors "+D+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:g,data:h,index:p,filter:Y,decodeParameters:K,transparency:w,palette:P,sMask:j,predictor:k,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:v}}}})(gr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new I9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new kA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(gr.API),nl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Dn.log("bit decode error:"+r)}},nl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},nl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},nl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},nl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},nl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},nl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},nl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},nl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new nl(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new kA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(gr.API),C7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new C7(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new kA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(gr.API),gr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},gr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},r0=gr.API,Ux=r0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&yn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},T7=r0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return r0.processArabic&&(e=r0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Ux.apply(this,arguments).reduce(function(i,s){return i+s},0)},E7=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},N7=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=Ux.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),b=[];m.map(function(D){(D=D.split(/\s*\n/)).length>1?b=b.concat(D.map(function(P,j){return(j&&P.length?`
`:"")+P})):b.push(D[0])}),m=b,l=T7.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(g=(a=Ux.apply(this,[n,r])).reduce(function(D,P){return D+P},0))>t||w){if(g>t){for(o=E7.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,P){return D+P},0)}else u=[n];f.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(D,P){return(P?y:"")+D.join(" ")}:function(D){return D.join(" ")},f.map(c)},r0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(N7.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,g,m,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(yn(h)!=="object")throw new Error("Don't know what to do with value type "+yn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,b=v,w=[],D="",P="",j=f.length-1,T=1;T<j;T+=1)(m=f[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([b,g]),b={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=b,g=void 0,b=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(D+=r[m],g=parseInt(D,16)*y,y=1,D=""):D+=m:r.hasOwnProperty(m)?(P+=r[m],b[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(gr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(rv(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(gr),function(e){function t(){return(vr.canvg?Promise.resolve(vr.canvg):iE(()=>import("./index.es-B_LxhXJC.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}gr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),gr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},gr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(yn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(gr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+l0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+l0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+l0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+l0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+l0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,m=p,v="",y=0,b="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,m=p,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var D="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?D=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(D=r(v,g[m])),f.isHex=!0,{text:D,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(gr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(gr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var D=function(E){var N=E.charCodeAt(),O=N>>8,U=m[O];return U!==void 0?f[256*U+(255&N)]:O===252||O===253?"AL":y.test(O)?"L":O===8?"R":"N"},P=function(E){for(var N,O=0;O<E.length;O++){if((N=D(E.charAt(O)))==="L")return!1;if(N==="R")return!0}return!1},j=function(E,N,O,U){var Y,K,J,q,V=N[U];switch(V){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(V="AN");break;case"AL":b=!0,V="R";break;case"WS":V="N";break;case"CS":U<1||U+1>=N.length||(Y=O[U-1])!=="EN"&&Y!=="AN"||(K=N[U+1])!=="EN"&&K!=="AN"?V="N":b&&(K="AN"),V=K===Y?K:"N";break;case"ES":V=(Y=U>0?O[U-1]:"B")==="EN"&&U+1<N.length&&N[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&O[U-1]==="EN"){V="EN";break}if(b){V="N";break}for(J=U+1,q=N.length;J<q&&N[J]==="ET";)J++;V=J<q&&N[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=N.length,J=U+1;J<q&&N[J]==="NSM";)J++;if(J<q){var ee=E[U],Z=ee>=1425&&ee<=2303||ee===64286;if(Y=N[J],Z&&(Y==="R"||Y==="AL")){V="R";break}}}V=U<1||(Y=N[U-1])==="B"?"N":O[U-1];break;case"B":b=!1,a=!0,V=w;break;case"S":i=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":V="N"}return V},T=function(E,N,O){var U=E.split("");return O&&_(U,O,{hiLevel:w}),U.reverse(),N&&N.reverse(),U.join("")},_=function(E,N,O){var U,Y,K,J,q,V=-1,ee=E.length,Z=0,k=[],R=w?p:h,z=[];for(b=!1,a=!1,i=!1,Y=0;Y<ee;Y++)z[Y]=D(E[Y]);for(K=0;K<ee;K++){if(q=Z,k[K]=j(E,z,k,K),U=240&(Z=R[q][g[k[K]]]),Z&=15,N[K]=J=R[Z][5],U>0)if(U===16){for(Y=V;Y<K;Y++)N[Y]=1;V=-1}else V=-1;if(R[Z][6])V===-1&&(V=K);else if(V>-1){for(Y=V;Y<K;Y++)N[Y]=J;V=-1}z[K]==="B"&&(N[K]=0),O.hiLevel|=J}i&&function(G,Q,oe){for(var fe=0;fe<oe;fe++)if(G[fe]==="S"){Q[fe]=w;for(var ne=fe-1;ne>=0&&G[ne]==="WS";ne--)Q[ne]=w}}(z,N,ee)},S=function(E,N,O,U,Y){if(!(Y.hiLevel<E)){if(E===1&&w===1&&!a)return N.reverse(),void(O&&O.reverse());for(var K,J,q,V,ee=N.length,Z=0;Z<ee;){if(U[Z]>=E){for(q=Z+1;q<ee&&U[q]>=E;)q++;for(V=Z,J=q-1;V<J;V++,J--)K=N[V],N[V]=N[J],N[J]=K,O&&(K=O[V],O[V]=O[J],O[J]=K);Z=q}Z++}}},I=function(E,N,O){var U=E.split(""),Y={hiLevel:w};return O||(O=[]),_(U,O,Y),function(K,J,q){if(q.hiLevel!==0&&u)for(var V,ee=0;ee<K.length;ee++)J[ee]===1&&(V=v.indexOf(K[ee]))>=0&&(K[ee]=v[V+1])}(U,O,Y),S(2,U,N,O,Y),S(1,U,N,O,Y),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,O){if(function(Y,K){if(K)for(var J=0;J<Y.length;J++)K[J]=J;o===void 0&&(o=P(Y)),c===void 0&&(c=P(Y))}(E,N),s||!l||c)if(s&&l&&o^c)w=o?1:0,E=T(E,N,O);else if(!s&&l&&c)w=o?1:0,E=I(E,N,O),E=T(E,N);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,N),o?(w=0,E=I(E,N,O)):(w=1,E=I(E,N,O),E=T(E,N));else if(s&&o&&!l&&c)w=1,E=I(E,N,O),E=T(E,N);else if(!s&&!l&&o^c){var U=u;o?(w=1,E=I(E,N,O),w=0,u=!1,E=I(E,N,O),u=U):(w=0,E=I(E,N,O),E=T(E,N),w=1,u=!1,E=I(E,N,O),u=U,E=T(E,N))}}else w=0,E=I(E,N,O);else w=o?1:0,E=I(E,N,O);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(gr),gr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Bf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new G9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new j9e(this.contents),this.head=new L9e(this),this.name=new B9e(this),this.cmap=new UK(this),this.toUnicode={},this.hhea=new M9e(this),this.maxp=new U9e(this),this.hmtx=new V9e(this),this.post=new F9e(this),this.os2=new R9e(this),this.loca=new H9e(this),this.glyf=new z9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var kl,Bf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),j9e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(a=new Bf).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=VK.call(r);r.length%4;)r.push(0);for(i=new Bf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),D9e={}.hasOwnProperty,uc=function(e,t){for(var r in t)D9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};kl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var L9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Bf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),P7=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),c=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),u=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,P;for(P=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)P.push(t.readUInt16());return P}(),l=y=0,w=i.length;y<w;l=++y)for(v=i[l],n=b=g=m[l];g<=v?b<=v:b>=v;n=g<=v?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,b,w,D,P,j,T,_,S,I,E,N,O,U,Y,K,J,q,V,ee,Z,k,R,z,G,Q,oe,fe,ne,he,ye,W;switch(U=new Bf,s=Object.keys(t).sort(function(ke,Ce){return ke-Ce}),r){case"macroman":for(m=0,v=function(){var ke=[];for(g=0;g<256;++g)ke.push(0);return ke}(),b={0:0},i={},Y=0,V=s.length;Y<V;Y++)b[ne=t[a=s[Y]]]==null&&(b[ne]=++m),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:i,subtable:U.data,maxGlyphID:m+1};case"unicode":for(N=[],f=[],w=0,b={},n={},y=c=null,K=0,ee=s.length;K<ee;K++)b[P=t[a=s[K]]]==null&&(b[P]=++w),n[a]={old:P,new:b[P]},o=b[P]-a,y!=null&&o===c||(y&&f.push(y),N.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),N.push(65535),I=2*(S=N.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,T=2*S-_,l=[],j=[],p=[],g=J=0,Z=N.length;J<Z;g=++J){if(E=N[g],u=f[g],E===65535){l.push(0),j.push(0);break}if(E-(O=n[E].new)>=32768)for(l.push(0),j.push(2*(p.length+S-g)),a=q=E;E<=u?q<=u:q>=u;a=E<=u?++q:--q)p.push(n[a].new);else l.push(O-E),j.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*S+2*p.length),U.writeUInt16(0),U.writeUInt16(I),U.writeUInt16(_),U.writeUInt16(h),U.writeUInt16(T),oe=0,k=f.length;oe<k;oe++)a=f[oe],U.writeUInt16(a);for(U.writeUInt16(0),fe=0,R=N.length;fe<R;fe++)a=N[fe],U.writeUInt16(a);for(he=0,z=l.length;he<z;he++)o=l[he],U.writeUInt16(o);for(ye=0,G=j.length;ye<G;ye++)D=j[ye],U.writeUInt16(D);for(W=0,Q=p.length;W<Q;W++)m=p[W],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},e}(),UK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new P7(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=P7.encode(r,n),(i=new Bf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),M9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),R9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),F9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),$9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},B9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new $9e(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),U9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),V9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),VK=[].slice,z9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Bf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new W9e(l,u,h,c,f):new q9e(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),q9e=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),W9e=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Bf(VK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),H9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return uc(t,kl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),G9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y;for(a in n=UK.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(b){var w,D;for(w in D={},b)D[b[w]]=w;return D}(p),f=Object.keys(u).sort(function(b,w){return b-w}),m=function(){var b,w,D;for(D=[],b=0,w=f.length;b<w;b++)o=f[b],D.push(u[o]);return D}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();gr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function zK(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var O7={},X0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:O7=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return O7||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),vE=function(e,t){return vE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},vE(e,t)};function qK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var WK=function(e){qK(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function K9e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Y9e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function kw(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function HK(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=GK(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function GK(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function p_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function KK(e,t){var r=p_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function X9e(e,t,r,n,a){var i={},s=1.3333333333333333,o=CA(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=CA(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=J9e(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=CA(t,function(w){return a.getComputedStyle(w)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=Q9e(n);y&&(i.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function Q9e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function CA(e,t){var r=YK(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function YK(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:YK(e.parentElement,t):r}function J9e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=p_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function XK(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Z9e(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function Z9e(e,t,r,n,a,i){for(var s=new WK(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=X9e(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:eBe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function eBe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function tBe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Ic(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function QK(e,t){var r=new X0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();tBe(a,n,t);var i=Ic({},a,n,t),s;typeof window<"u"&&(s=window);var o=rBe(a,n,t),l=nBe(a,n,t),c=aBe(r,i),u=sBe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function rBe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=Ic({},c,u,f)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=Ic({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function nBe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function aBe(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g=p_(t.margin,40/e.scaleFactor()),m=(r=iBe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(b?"plain":"striped"),D=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:w,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:D,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function iBe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function sBe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=XK(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||oBe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function oBe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var yE=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),lBe=function(e){qK(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(yE),cBe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new lBe(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new yE(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new yE(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),JK=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof WK&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),ZK=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=p_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),uBe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function fBe(e,t){dBe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=xE(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=xE(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),pBe(t),mBe(t,e),hBe(t)}function dBe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=KK(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=kw(c.text,c.styles,e)+f;var h=kw(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function xE(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=xE(h,t,r))}return t}function hBe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function pBe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function mBe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=I7(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=I7(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function I7(e,t,r,n,a){return e.map(function(i){return gBe(i,t,r,n,a)})}function gBe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=kw(e,r,n))return e;for(;t<kw(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function eY(e,t){var r=new X0(e),n=vBe(t,r.scaleFactor()),a=new cBe(t,n);return fBe(r,a),r.applyStyles(r.userStyles),a}function vBe(e,t){var r=e.content,n=xBe(r.columns);if(r.head.length===0){var a=j7(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=j7(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:PA("head",r.head,n,s,i,t),body:PA("body",r.body,n,s,i,t),foot:PA("foot",r.foot,n,s,i,t)}}function PA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var w=bBe(e,v,c,a,n,i,b),D=new ZK(y,w,e);f[v.dataKey]=D,f[v.index]=D,p=D.colSpan-1,s[v.index]={left:D.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new JK(l,c,e,f)});return o}function j7(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=yBe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function yBe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function xBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new uBe(a,t,r)})}function bBe(e,t,r,n,a,i,s){var o=Y9e(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=Ic({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?Ic({},o.alternateRow,a.alternateRowStyles):{},p=K9e(i),g=Ic({},p,c,h,f);return Ic(g,s)}function wBe(e,t,r){var n;r===void 0&&(r={});var a=KK(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function _Be(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=wBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function tY(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new X0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(nY(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=Ic({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?SBe(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return ru(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;Cw(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return ru(u,t,h,i,t.columns)})),HK(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function SBe(e,t,r,n){var a=_Be(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?nv(e,t,r,n,c.columns,!0):D7(e,t,n,c.columns),ABe(e,t,r,n,c.columns),OA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?nv(e,t,r,n,u,!0):D7(e,t,n,u),c=L7(e,t,s+1,n,u),OA(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),nv(e,t,r,n,h.columns,!0),L7(e,t,s+1,n,h.columns,f),OA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function D7(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return ru(e,t,i,r,n)})}function ABe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Cw(e,t,i,o,r,n,a)})}function L7(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=rY(e,t,u,n);l.canEntireRowFit(f,a)&&(ru(e,t,l,n,a),o=r+c)}),o}function OA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return ru(e,t,i,r,n)})}function TBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function EBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new ZK(c.raw,c.styles,c.section);u=Ic(u,c),u.text=[];var f=TBe(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new JK(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function NBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Cw(e,t,r,n,a,i,s){var o=rY(e,t,n,i);if(r.canEntireRowFit(o,s))ru(e,t,r,i,s);else if(NBe(e,r,o,t)){var l=EBe(r,o,t,e);ru(e,t,r,i,s),nv(e,t,a,i,s),Cw(e,t,l,n,a,i,s)}else nv(e,t,a,i,s),Cw(e,t,r,n,a,i,s)}function ru(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}kBe(e,l,n);var u=l.getTextPos();zK(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function kBe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=GK(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),CBe(e,t,r,n.lineWidth))}function CBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,p,"S")}}function rY(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function nv(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return ru(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;HK(e,t,r,n),nY(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return ru(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function nY(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function PBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=QK(this,n),i=eY(this,a);return tY(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){zK(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return X0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){X0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new X0(this),i=XK(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var IA;function OBe(e,t){var r=QK(e,t),n=eY(e,r);tY(e,n)}try{if(typeof window<"u"&&window){var M7=window,R7=M7.jsPDF||((IA=M7.jspdf)===null||IA===void 0?void 0:IA.jsPDF);R7&&PBe(R7)}}catch(e){console.error("Could not apply autoTable plugin",e)}const IBe=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(new Date),[s,o]=B.useState(new Date),[l,c]=B.useState("all"),[u,f]=B.useState("all"),[h,p]=B.useState(""),[g,m]=B.useState([]),{showToast:v}=sc(),{isDarkMode:y}=cn(),{user:b}=Ta(),w=async()=>{try{const E=(await lr(gt(Xe,"users"))).docs.map(N=>({id:N.id,...N.data()}));m(E)}catch(I){console.error("Error fetching users:",I),v("Failed to fetch users","error")}},D=async()=>{n(!0);try{let I=or(gt(Xe,"activityLogs"),La("time","desc"));a&&s?I=or(gt(Xe,"activityLogs"),sr("time",">=",mp(a).toISOString()),sr("time","<=",Vv(s).toISOString()),La("time","desc")):a?I=or(gt(Xe,"activityLogs"),sr("time",">=",mp(a).toISOString()),La("time","desc")):s&&(I=or(gt(Xe,"activityLogs"),sr("time","<=",Vv(s).toISOString()),La("time","desc")));let N=(await lr(I)).docs.map(O=>({id:O.id,user:O.data().user,role:O.data().role,detail:O.data().detail,time:O.data().time}));if(b&&b.role==="staff"&&(N=N.filter(O=>O.role!=="admin")),l!=="all"&&(N=N.filter(O=>O.user===l)),u!=="all"&&(N=N.filter(O=>{const U=O.detail.toLowerCase();return u==="inbound"?U.includes("added new product")||U.includes("edited product")||U.includes("quantity from")||U.includes("quantity to"):u==="outbound"?U.includes("units deducted from stock")||U.includes("deducted from stock"):!0})),h.trim()){const O=h.toLowerCase();N=N.filter(U=>{const Y=U.detail.toLowerCase(),K=U.user.toLowerCase(),J=U.role.toLowerCase(),q=Y.match(/"([^"]+)"/),V=q?q[1].toLowerCase():"";return Y.includes(O)||K.includes(O)||J.includes(O)||V.includes(O)})}t(N)}catch(I){console.error("Error fetching activity logs:",I),v("Failed to fetch activity logs","error")}finally{n(!1)}};B.useEffect(()=>{w()},[]),B.useEffect(()=>{D()},[a,s,l,u,h,b]);const P=()=>{let I=g;return b&&b.role==="staff"&&(I=g.filter(E=>E.role!=="admin")),[{value:"all",label:"All Users"},...I.map(E=>({value:E.name,label:E.name}))]},j=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],T=()=>{i(null),o(null)},_=()=>{try{const E=[["User","Role","Activity","Time"].join(","),...e.map(Y=>[Y.user,Y.role,`"${Y.detail.replace(/"/g,'""')}"`,zt(new Date(Y.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),N=new Blob([E],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),U=URL.createObjectURL(N);O.setAttribute("href",U),O.setAttribute("download",`activity_logs_${zt(new Date,"yyyy-MM-dd")}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O)}catch(I){console.error("Error exporting to CSV:",I),v("Failed to export to CSV","error")}},S=()=>{var I,E;try{const N=new gr;N.setFontSize(16),N.text("Activity Logs Report",14,15),N.setFontSize(10);const O=a&&s?`${zt(a,"MMM d, yyyy")} - ${zt(s,"MMM d, yyyy")}`:a?`From ${zt(a,"MMM d, yyyy")}`:s?`To ${zt(s,"MMM d, yyyy")}`:"All Time";N.text(`Date Range: ${O}`,14,25),N.text(`User Filter: ${(I=P().find(U=>U.value===l))==null?void 0:I.label}`,14,30),N.text(`Activity Filter: ${(E=j.find(U=>U.value===u))==null?void 0:E.label}`,14,35),OBe(N,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(U=>[U.user,U.role,U.detail,zt(new Date(U.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),N.save(`activity_logs_${zt(new Date,"yyyy-MM-dd")}.pdf`)}catch(N){console.error("Error exporting to PDF:",N),v("Failed to export to PDF","error")}};return d.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:d.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:_,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(q2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),d.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(q2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:d.jsx(Ct,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:I=>p(I.target.value),className:"w-full sm:w-96",icon:d.jsx(Sl,{size:16})})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[d.jsx(on,{value:l,onChange:I=>c(I.target.value),options:P(),className:"w-full sm:w-40"}),d.jsx(on,{value:u,onChange:I=>f(I.target.value),options:j,className:"w-full sm:w-40"}),d.jsx(Gq,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:T,className:"w-full sm:w-80"}),d.jsx(lt,{variant:"secondary",onClick:D,className:"flex items-center gap-2 w-full sm:w-auto",children:d.jsx(ri,{size:16})})]})]}),r?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:d.jsx(rV,{children:e.map(I=>d.jsxs(ra.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:I.user}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:I.role}),d.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:I.detail}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:zt(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]},I.id))})})]})}),d.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(I=>d.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:I.user}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:I.role})]}),d.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[d.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),d.jsx("span",{className:"text-sm",children:I.detail})]}),d.jsx("div",{className:"text-xs mt-1",children:d.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",d.jsx("span",{className:"font-medium",children:zt(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]})})]},I.id))})]}):d.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},jBe=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=cn(),[o,l]=B.useState(!1),[c,u]=B.useState(new Date),[f,h]=B.useState(null);B.useEffect(()=>{const I=E=>{E.target.closest(".calendar-date-range-picker")||l(!1)};return o&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[o]);const p=I=>{!e||e&&t?(r(I),n(null)):e&&!t&&(I<e?(n(e),r(I)):n(I))},g=()=>{a(),l(!1)},m=()=>!e&&!t?"Select date range":e&&t?`${zt(e,"MMM d, yyyy")} - ${zt(t,"MMM d, yyyy")}`:e?`From ${zt(e,"MMM d, yyyy")}`:t?`To ${zt(t,"MMM d, yyyy")}`:"Select date range",v=I=>!e||!t?!1:cD(I,{start:e,end:t}),y=I=>e&&tD(I,e)||t&&tD(I,t),b=I=>!f||!e||t?!1:cD(I,{start:e<f?e:f,end:e<f?f:e}),w=I=>{const E="w-8 h-8 flex items-center justify-center text-sm rounded-full cursor-pointer transition-colors",N=lD(I,c),O=y(I),U=v(I),Y=b(I);return N?O?`${E} bg-blue-600 text-white font-semibold`:U?`${E} bg-blue-100 text-blue-900`:Y?`${E} ${s?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`:`${E} ${s?"text-slate-200 hover:bg-slate-600":"text-slate-700 hover:bg-slate-100"}`:`${E} ${s?"text-slate-500":"text-slate-300"}`},D=aue(c),P=ez(c),j=Gce(D),T=iue(P),_=nue({start:j,end:T}),S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return d.jsxs("div",{className:`relative calendar-date-range-picker ${i}`,children:[d.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx(o9,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:m()})]}),(e||t)&&d.jsx("span",{onClick:I=>{I.stopPropagation(),g()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),g())},children:d.jsx(ip,{className:"h-3 w-3"})})]}),o&&d.jsx("div",{className:`absolute top-full left-0 mt-1 z-50 p-4 border rounded-lg shadow-lg w-80 ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{onClick:()=>u(Nfe(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:d.jsx(NZ,{className:"h-4 w-4"})}),d.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-800"}`,children:zt(c,"MMMM yyyy")}),d.jsx("button",{onClick:()=>u(XV(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:d.jsx(kZ,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(I=>d.jsx("div",{className:`text-center text-xs font-medium py-2 ${s?"text-slate-400":"text-slate-500"}`,children:I},I))}),d.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map(I=>d.jsx("button",{onClick:()=>p(I),onMouseEnter:()=>h(I),onMouseLeave:()=>h(null),className:w(I),disabled:!lD(I,c),children:zt(I,"d")},I.toISOString()))}),d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),d.jsx("button",{onClick:g,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},DBe=()=>{const[e,t]=B.useState("daily"),[r,n]=B.useState(Mr(new Date,7)),[a,i]=B.useState(new Date),[s,o]=B.useState([]),[l,c]=B.useState([]),[u,f]=B.useState([]),[h,p]=B.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=B.useState(!0),{isDarkMode:v}=cn(),{user:y}=Ta(),b=B.useCallback(async()=>{m(!0);try{const S=a||new Date,I=r||Mr(S,7),E=or(gt(Xe,"orders"),sr("createdAt",">=",ar.fromDate(I)),sr("createdAt","<=",ar.fromDate(S))),O=(await lr(E)).docs.map(Ee=>{var qe,at,nt;return{id:Ee.id,...Ee.data(),createdAt:(qe=Ee.data().createdAt)==null?void 0:qe.toDate(),updatedAt:(at=Ee.data().updatedAt)==null?void 0:at.toDate(),shippedTime:(nt=Ee.data().shippedTime)==null?void 0:nt.toDate()}}),U=or(gt(Xe,"inventory")),K=(await lr(U)).docs.map(Ee=>({id:Ee.id,...Ee.data(),lastUpdated:Ee.data().lastUpdated instanceof ar?Ee.data().lastUpdated.toDate():new Date(Ee.data().lastUpdated)})),J=or(gt(Xe,"activityLogs"),sr("time",">=",I.toISOString()),sr("time","<=",S.toISOString()),La("time","desc")),V=(await lr(J)).docs.map(Ee=>({id:Ee.id,...Ee.data()}));f(V),o(K),c(O);const ee=K.reduce((Ee,qe)=>Ee+(qe.quantity||0),0),Z=K.reduce((Ee,qe)=>Ee+(qe.quantity||0)*(qe.price||0),0),k=O.length,R=Mr(new Date,1),z=new Date,G=O.filter(Ee=>{const qe=Ee.createdAt;return qe>=R&&qe<=z}),Q=G.length,oe=G.reduce((Ee,qe)=>Ee+(qe.totalAmount||0),0),fe=a||new Date,ne=r||Mr(fe,7),ye=V.filter(Ee=>{const qe=new Date(Ee.time);return qe>=ne&&qe<=fe}).filter(Ee=>{const qe=Ee.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(qe){const[,Et]=qe;return K.some(kt=>kt.name===Et)}const at=Ee.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,Et]=at;return K.some(kt=>kt.name===Et)}return Ee.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(Et=>Et.test(Ee.detail)),!0}),W=fe.getTime()-ne.getTime(),ke=new Date(ne.getTime()-W),Ce=new Date(ne.getTime()),ie=V.filter(Ee=>{const qe=new Date(Ee.time);return qe>=ke&&qe<=Ce}).filter(Ee=>{const qe=Ee.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(qe){const[,Et]=qe;return K.some(kt=>kt.name===Et)}const at=Ee.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,Et]=at;return K.some(kt=>kt.name===Et)}return Ee.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(Et=>Et.test(Ee.detail)),!0}),$e=ye.reduce((Ee,qe)=>{const at=qe.detail.match(/(\d+) units deducted/);return Ee+(at?parseInt(at[1]):0)},0),Ke=ie.reduce((Ee,qe)=>{const at=qe.detail.match(/(\d+) units deducted/);return Ee+(at?parseInt(at[1]):0)},0),Se=ye.reduce((Ee,qe)=>{const at=qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(at){const[,ft,Et]=at;if(K.find(_t=>_t.name===ft))return Ee+parseInt(Et)}const nt=qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,ft,Et,kt]=nt;if(K.find(ct=>ct.name===ft)){const ct=parseInt(kt)-parseInt(Et);if(ct>0)return Ee+ct}}return Ee},0),Re=ye.reduce((Ee,qe)=>{const at=qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(at){const[,ft,Et]=at,kt=K.find(_t=>_t.name===ft);if(kt){const _t=kt.price||0;return Ee+parseInt(Et)*_t}}const nt=qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,ft,Et,kt]=nt,_t=K.find(ct=>ct.name===ft);if(_t){const ct=parseInt(kt)-parseInt(Et);if(ct>0){const er=_t.price||0;return Ee+ct*er}}}return Ee},0),je=ye.reduce((Ee,qe)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ft=>ft.test(qe.detail))){let ft=0;const Et=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,kt=qe.detail.match(Et);if(kt)ft=parseInt(kt[1]);else{const _t=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ct of _t){const er=qe.detail.match(ct);if(er){if(er.length===3){const Wt=parseInt(er[1]),Gr=parseInt(er[2]);ft=Math.abs(Wt-Gr)}else ft=parseInt(er[1]);break}}}return{incidents:Ee.incidents+1,units:Ee.units+(ft>0?ft:1)}}return Ee},{incidents:0,units:0}).incidents;p({totalOrders:k,totalStock:ee,totalInventoryValue:Z,totalDamagedProducts:je,yesterdayOrders:Q,yesterdayStockChange:0,yesterdayRevenue:oe,totalDeductions:$e,previousDeductions:Ke,todayStockAdditions:Se,todayInventoryValueAdditions:Re})}catch(S){console.error("Error fetching data:",S)}finally{m(!1)}},[r,a]),w=()=>{n(null),i(null)};if(B.useEffect(()=>{b()},[b]),B.useEffect(()=>{},[e]),!y||y.role!=="admin"&&y.role!=="staff")return d.jsx(N4,{to:"/",replace:!0});const D=()=>{const S=[],I=new Map,E=new Date;let N;switch(e){case"hourly":N=uD(E,24);break;case"daily":N=Mr(E,7);break;case"weekly":N=Mr(E,30);break;case"monthly":N=Mr(E,90);break;default:N=Mr(E,7)}return u.filter(Y=>{const K=new Date(Y.time);return K>=N&&K<=E}).filter(Y=>{const K=Y.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(K){const[,q]=K;return s.some(V=>V.name===q)}const J=Y.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(J){const[,q]=J;return s.some(V=>V.name===q)}return!0}).forEach(Y=>{let K=0,J=!1,q="";const V=Y.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(V){const[,Z,k]=V;s.find(z=>z.name===Z)&&(K=parseInt(k),q=Z,J=!0)}const ee=Y.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,Z,k,R]=ee;if(s.find(G=>G.name===Z)){const G=parseInt(R)-parseInt(k);G>0&&(K=G,q=Z,J=!0)}}if(J){const Z=new Date(Y.time);let k;switch(e){case"hourly":k=zt(Z,"HH:mm");break;case"daily":k=zt(Z,"MMM dd");break;case"weekly":k=zt(Z,"'Week' w");break;case"monthly":k=zt(Z,"MMM yyyy");break;default:k=zt(Z,"MMM dd")}const R=I.get(k)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(q),I.set(k,{activities:R.activities+1,units:R.units+K,uniqueProducts:R.uniqueProducts})}}),I.forEach((Y,K)=>{S.push({date:K,activities:Y.activities,units:Y.units,uniqueProducts:Y.uniqueProducts.size})}),S.sort((Y,K)=>{const J=new Date(Y.date),q=new Date(K.date);return J.getTime()-q.getTime()})},P=()=>{const S=[],I=new Map,E=new Date;let N;switch(e){case"hourly":N=uD(E,24);break;case"daily":N=Mr(E,7);break;case"weekly":N=Mr(E,30);break;case"monthly":N=Mr(E,90);break;default:N=Mr(E,7)}return u.filter(Y=>{const K=new Date(Y.time);return K>=N&&K<=E}).filter(Y=>(Y.detail.match(/(\d+) units deducted from stock/),!0)).forEach(Y=>{const K=Y.detail.match(/(\d+) units deducted from stock/);if(K){const J=new Date(Y.time);let q;switch(e){case"hourly":q=zt(J,"HH:mm");break;case"daily":q=zt(J,"MMM dd");break;case"weekly":q=zt(J,"'Week' w");break;case"monthly":q=zt(J,"MMM yyyy");break;default:q=zt(J,"MMM dd")}const V=I.get(q)||0;I.set(q,V+parseInt(K[1]))}}),I.forEach((Y,K)=>{S.push({date:K,products:Y})}),S.sort((Y,K)=>{const J=new Date(Y.date),q=new Date(K.date);return J.getTime()-q.getTime()})},j=()=>{const S=[],I=new Map,E=[],N=a||new Date,O=r||Mr(N,7);u.filter(J=>{const q=new Date(J.time);return q>=O&&q<=N}).filter(J=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(V=>V.test(J.detail)),!0)).forEach(J=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ee=>ee.test(J.detail))){const ee=new Date(J.time);let Z;switch(e){case"hourly":Z=zt(ee,"HH:mm");break;case"daily":Z=zt(ee,"MMM dd");break;case"weekly":Z=zt(ee,"'Week' w");break;case"monthly":Z=zt(ee,"MMM yyyy");break;default:Z=zt(ee,"MMM dd")}let k=0;const R=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,z=J.detail.match(R);if(z)k=parseInt(z[1]);else{const fe=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ne of fe){const he=J.detail.match(ne);if(he){if(he.length===3){const ye=parseInt(he[1]),W=parseInt(he[2]);k=Math.abs(ye-W)}else k=parseInt(he[1]);break}}}let G="Unknown Product";const Q=J.detail.match(/"([^"]+)"/);Q&&(G=Q[1]),E.push({date:Z,time:zt(ee,"HH:mm"),user:J.user,productName:G,units:k>0?k:1,detail:J.detail}),I.has(Z)||I.set(Z,{incidents:0,units:0,productNames:new Set});const oe=I.get(Z);oe.incidents+=1,oe.units+=k>0?k:1,oe.productNames.add(G)}}),I.forEach((J,q)=>{S.push({date:q,products:J.incidents,units:J.units,productNames:Array.from(J.productNames)})});const K=S.sort((J,q)=>new Date(J.date).getTime()-new Date(q.date).getTime());return K.detailedIncidents=E.sort((J,q)=>{const V=new Date(J.date+" "+J.time);return new Date(q.date+" "+q.time).getTime()-V.getTime()}),K},T=()=>{try{const S=zt(new Date,"yyyy-MM-dd-HH-mm"),I=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(Z=>[Z.name,Z.quantity,Z.price,`${Z.locationCode}-${Z.shelfNumber}`,Z.status,Z.damagedItems]),N=D(),O=P(),U=j(),Y=Math.max(N.length,O.length,U.length,E.length),K=[];K.push(`Warehouse Analytics Report - ${I} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${zt(new Date,"yyyy-MM-dd HH:mm:ss")}`),K.push(""),K.push("SUMMARY STATISTICS");const J=`Total Stock Added (${I}),${h.todayStockAdditions},Total Units Deducted (${I}),${h.totalDeductions},Total Damaged Products (${I}),${h.totalDamagedProducts}${(y==null?void 0:y.role)==="admin"?`,Total Inventory Value,${h.totalInventoryValue.toLocaleString("en-GB")}`:""}`;K.push(J),K.push(""),K.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),K.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let Z=0;Z<Y;Z++){const k=[];if(Z<N.length){const R=N[Z];k.push(R.date,R.activities,R.units,R.uniqueProducts)}else k.push("","","","");if(Z<O.length){const R=O[Z];k.push(R.date,R.products)}else k.push("","");if(Z<U.length){const R=U[Z];k.push(R.date,R.products,R.units)}else k.push("","","");if(Z<E.length){const R=E[Z];k.push(...R)}else k.push("","","","","","");K.push(k.join(","))}K.push(""),K.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),K.push("Date,Time,User,Product Name,Units Damaged,Details"),U.detailedIncidents&&U.detailedIncidents.length>0?U.detailedIncidents.forEach(Z=>{K.push(`${Z.date},${Z.time},${Z.user},${Z.productName},${Z.units},"${Z.detail.replace(/"/g,'""')}"`)}):K.push("No detailed incidents available,,,,,");const q=K.join(`
`),V=new Blob([q],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a");ee.href=URL.createObjectURL(V),ee.download=`warehouse-report-${I}-${S}.csv`,ee.click(),URL.revokeObjectURL(ee.href)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV. Please try again.")}},_=()=>{try{const S=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",I=D(),E=P(),N=j(),O=N.detailedIncidents||[];(!O||O.length===0)&&console.log("No detailed incidents found, generating on the fly...");const U=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${S}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${S}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${zt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${S})</div>
              </div>
              ${(y==null?void 0:y.role)==="admin"?`
              <div class="stat-card">
                <div class="stat-value">${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
              `:""}
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${I.length}</p>
                <p><strong>Total Activities:</strong> ${I.reduce((K,J)=>K+J.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${I.reduce((K,J)=>K+J.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${I.reduce((K,J)=>K+J.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${I.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.activities}</td>
                      <td>${K.units}</td>
                      <td>${K.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${I.length>15?`<tr><td colspan="4"><em>... and ${I.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((K,J)=>K+J.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Incidents:</strong> ${N.reduce((K,J)=>K+J.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${N.reduce((K,J)=>K+J.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${O.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.products}</td>
                      <td>${K.units}</td>
                      <td>${K.productNames?K.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="4"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${O.length>0?O.slice(0,50).map(K=>`
                    <tr>
                      <td>${K.date} ${K.time}</td>
                      <td>${K.user}</td>
                      <td>${K.productName}</td>
                      <td>${K.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${K.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${O.length>50?`<tr><td colspan="5"><em>... and ${O.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(K=>K.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(K=>K.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((K,J)=>K+(J.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(K=>`
                    <tr>
                      <td>${K.name}</td>
                      <td>${K.quantity}</td>
                      <td>${K.price&&!isNaN(K.price)?`${K.price.toFixed(2)}`:"Not set"}</td>
                      <td>${K.locationCode}-${K.shelfNumber}</td>
                      <td>${K.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,Y=window.open("","_blank");Y?(Y.document.write(U),Y.document.close(),Y.focus(),setTimeout(()=>{Y.print()},500)):alert("Please allow pop-ups to export PDF")}catch(S){console.error("Error exporting PDF:",S),alert("Failed to export PDF. Please try again.")}};return d.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[d.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),d.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[d.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[d.jsx(q2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),d.jsxs("button",{onClick:_,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[d.jsx(q2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(on,{value:e,onChange:S=>t(S.target.value),options:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(jBe,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:w,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),d.jsx(lt,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:d.jsx(ri,{size:16,className:g?"animate-spin":""})})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?d.jsxs(d.Fragment,{children:[d.jsx(nf,{}),d.jsx(nf,{}),d.jsx(nf,{}),d.jsx(nf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(mi,{title:`Total Stock Added (${r&&a?`${zt(r,"MMM d")} - ${zt(a,"MMM d, yyyy")}`:r?`From ${zt(r,"MMM d, yyyy")}`:a?`To ${zt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:d.jsx(Zd,{size:24,className:"text-blue-600"})}),d.jsx(mi,{title:`Total Units Deducted (${r&&a?`${zt(r,"MMM d")} - ${zt(a,"MMM d, yyyy")}`:r?`From ${zt(r,"MMM d, yyyy")}`:a?`To ${zt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:d.jsx(d9,{size:24,className:"text-blue-600"})}),d.jsx(mi,{title:`Total Damaged Products (${r&&a?`${zt(r,"MMM d")} - ${zt(a,"MMM d, yyyy")}`:r?`From ${zt(r,"MMM d, yyyy")}`:a?`To ${zt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:d.jsx(Jd,{size:24,className:"text-blue-600"})}),(y==null?void 0:y.role)==="admin"&&d.jsx(mi,{title:"Total Inventory Value",value:`${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(W2,{size:24,className:"text-blue-600"})})]})}),g?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Yg,{width:"100%",height:"100%",children:d.jsxs(tv,{data:D(),children:[d.jsx(W0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Ef,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Nf,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ns,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Inbound Activities"?[`${S} activities`,I]:I==="Units Added"?[`${S} units`,I]:I==="Affected Products"?[`${S} products`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),d.jsx(wl,{}),d.jsx(yi,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Yg,{width:"100%",height:"100%",children:d.jsxs(tv,{data:P(),children:[d.jsx(W0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Ef,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Nf,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ns,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),d.jsx(wl,{}),d.jsx(yi,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Yg,{width:"100%",height:"100%",children:d.jsxs(tv,{data:j(),children:[d.jsx(W0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Ef,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Nf,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ns,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Damaged Incidents"?[`${S} incidents`,I]:I==="Units Damaged"?[`${S} units`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),d.jsx(wl,{}),d.jsx(yi,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},LBe=()=>{const{user:e,setUser:t}=Ta(),{showToast:r}=sc(),{isDarkMode:n,toggleDarkMode:a}=cn(),[i,s]=B.useState(!1),[o,l]=B.useState({}),[c,u]=B.useState([]),[f,h]=B.useState(null),[p,g]=B.useState(!1),[m,v]=B.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,b]=B.useState({}),[w,D]=B.useState({}),[P,j]=B.useState(!1),[T,_]=B.useState(null),[S,I]=B.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,N]=B.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),O=B.useCallback(async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const oe=(await lr(gt(Xe,"users"))).docs.map(fe=>({id:fe.id,...fe.data()}));u(oe)}catch(Q){console.error("Error fetching users:",Q),r("Error fetching users","error")}finally{s(!1)}}},[e==null?void 0:e.role,r]);B.useEffect(()=>{O()},[e==null?void 0:e.role,r,O]);const U=Q=>Q.split(" ").map(oe=>oe[0]).join("").toUpperCase().slice(0,2),Y=Q=>{const{name:oe,value:fe}=Q.target;I(ne=>({...ne,[oe]:fe})),o[oe]&&l(ne=>{const he={...ne};return delete he[oe],he})},K=()=>{const Q={};return S.username.trim()||(Q.username="Username is required"),S.email.trim()&&!/\S+@\S+\.\S+/.test(S.email)&&(Q.email="Invalid email format"),S.name.trim()||(Q.name="Name is required"),(S.currentPassword||S.newPassword||S.confirmPassword)&&(S.currentPassword?S.currentPassword!==(e==null?void 0:e.password)&&(Q.currentPassword="Current password is incorrect"):Q.currentPassword="Current password is required",S.newPassword?S.newPassword.length<6&&(Q.newPassword="Password must be at least 6 characters"):Q.newPassword="New password is required",S.newPassword!==S.confirmPassword&&(Q.confirmPassword="Passwords do not match")),l(Q),Object.keys(Q).length===0},J=async Q=>{if(Q.preventDefault(),!!e&&K()){s(!0);try{const oe={username:S.username,email:S.email,name:S.name,password:S.currentPassword!=""&&S.confirmPassword!=""&&S.newPassword!=""?S.newPassword:e.password},fe=[];e.username!==S.username&&fe.push(`changed username from "${e.username}" to "${S.username}"`),e.email!==S.email&&fe.push(`changed email from "${e.email}" to "${S.email}"`),e.name!==S.name&&fe.push(`changed full name from "${e.name}" to "${S.name}"`),S.currentPassword&&S.newPassword&&fe.push("changed their password");const ne=Ar(Xe,"users",e.id);await $n(ne,oe),fe.length>0&&await pr(gt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:fe.length===1?fe[0]:`made multiple profile changes: ${fe.join("; ")}`,time:new Date().toISOString()}),t({...e,username:S.username,email:S.email,name:S.name,password:S.newPassword||e.password}),I(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(oe){console.error("Error updating profile:",oe),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},q=Q=>{h(Q),D({}),N({username:Q.username,email:Q.email,name:Q.name,newPassword:"",confirmPassword:""})},V=Q=>{const{name:oe,value:fe}=Q.target;N(ne=>({...ne,[oe]:fe})),w[oe]&&D(ne=>{const he={...ne};return delete he[oe],he})},ee=async()=>{if(f)try{if(s(!0),D({}),!E.username.trim()){D({username:"Username is required"});return}if(!E.name.trim()){D({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){D({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){D({newPassword:"Password must be at least 6 characters"});return}}const Q=Ar(Xe,"users",f.id),oe={username:E.username,email:E.email,name:E.name,role:f.role};E.newPassword&&(oe.password=E.newPassword),console.log("Attempting to update document with data:",oe);try{await $n(Q,oe),console.log("User updated successfully in Firestore")}catch(fe){console.error("Failed to update by ID, trying to find by username:",fe);const ne=or(gt(Xe,"users"),sr("username","==",f.username)),he=await lr(ne);if(he.empty)throw new Error("User not found by username either");{const ye=he.docs[0],W=Ar(Xe,"users",ye.id);await $n(W,oe),console.log("User updated successfully using fallback method"),u(ke=>ke.map(Ce=>Ce.username===f.username?{...Ce,id:ye.id,...oe}:Ce))}}await pr(gt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(fe=>fe.map(ne=>ne.id===f.id?{...ne,...oe}:ne)),r("User updated successfully","success"),h(null)}catch(Q){console.error("Error updating user:",Q),r("Failed to update user","error")}finally{s(!1)}},Z=Q=>{const{name:oe,value:fe}=Q.target;v(ne=>({...ne,[oe]:fe})),y[oe]&&b(ne=>{const he={...ne};return delete he[oe],he})},k=()=>{const Q={};return m.username.trim()||(Q.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(Q.email="Invalid email format"),m.name.trim()||(Q.name="Name is required"),m.password?m.password.length<6&&(Q.password="Password must be at least 6 characters"):Q.password="Password is required",m.password!==m.confirmPassword&&(Q.confirmPassword="Passwords do not match"),b(Q),Object.keys(Q).length===0},R=async Q=>{if(Q.preventDefault(),!!k()){s(!0);try{const fe=(await lr(gt(Xe,"users"))).docs.map(he=>he.data());if(fe.some(he=>he.username===m.username)){b({username:"Username already exists"});return}if(m.email.trim()&&fe.some(he=>he.email===m.email)){b({email:"Email already exists"});return}const ne=await pr(gt(Xe,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await pr(gt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(he=>[...he,{id:ne.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(oe){console.error("Error adding user:",oe),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},z=async(Q,oe)=>{_({username:oe,name:Q}),j(!0)},G=async()=>{if(T)try{s(!0);const Q=gt(Xe,"users"),oe=or(Q,sr("username","==",T.username)),fe=await lr(oe);if(fe.empty){r("User not found.","error");return}const ne=fe.docs[0],he=Ar(Xe,"users",ne.id);await Os(he),await pr(gt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(ye=>ye.filter(W=>W.username!==T.username)),r("User deleted successfully!","success")}catch(Q){console.error("Error deleting user:",Q),r("Failed to delete user. Please try again.","error")}finally{s(!1),j(!1),_(null)}};return d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),d.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&d.jsx(lt,{variant:"secondary",onClick:O,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:d.jsx(ri,{size:16,className:i?"animate-spin":""})}),d.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?d.jsx(f9,{size:20}):d.jsx(c9,{size:20})})]})]}),f&&d.jsxs(pn,{isOpen:!!f,onClose:()=>{h(null),D({})},title:"Edit User",size:"md",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Ct,{label:"Username",name:"username",value:E.username,onChange:V,error:w.username}),d.jsx(Ct,{label:"Email",name:"email",type:"email",value:E.email,onChange:V,error:w.email}),d.jsx(Ct,{label:"Name",name:"name",value:E.name,onChange:V,error:w.name}),d.jsx(Vu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:V,error:w.newPassword}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:V,error:w.confirmPassword})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d.jsx(lt,{variant:"secondary",onClick:()=>{h(null),D({})},disabled:i,children:"Cancel"}),d.jsx(lt,{onClick:ee,disabled:i,children:i?"Updating...":"Update User"})]})]}),d.jsxs(pn,{isOpen:P,onClose:()=>j(!1),title:"Confirm Deletion",size:"sm",children:[d.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(lt,{variant:"secondary",onClick:()=>j(!1),disabled:i,children:"Cancel"}),d.jsx(lt,{variant:"danger",onClick:G,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),d.jsxs("form",{onSubmit:J,className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"relative",children:d.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:d.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:U((e==null?void 0:e.name)||"")})})}),d.jsxs("div",{children:[d.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:S.name}),d.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Username",name:"username",value:S.username,onChange:Y,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),d.jsx(Ct,{label:"Email",name:"email",type:"email",value:S.email,onChange:Y,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),d.jsx(Ct,{label:"Full Name",name:"name",value:S.name,onChange:Y,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),d.jsx(Vu,{label:"Current Password",name:"currentPassword",value:S.currentPassword,onChange:Y,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vu,{label:"New Password",name:"newPassword",value:S.newPassword,onChange:Y,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:S.confirmPassword,onChange:Y,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&d.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),d.jsx("div",{className:"flex justify-end",children:d.jsx(lt,{type:"submit",isLoading:i,icon:d.jsx(I4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&d.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[d.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),d.jsxs(lt,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[d.jsx(I4,{size:16}),"Add New User"]})]}),d.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[d.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(Q=>Q.id!==(e==null?void 0:e.id)).map(Q=>d.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.username}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.email||"-"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.name}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.role==="admin"?"Admin":Q.role==="staff"?"Staff":Q.role==="supply_serve"?"Supply & Serve":Q.role==="fahiz"?"Fahiz":Q.role==="aphy"?"APHY":Q.role}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lt,{variant:"ghost",size:"sm",onClick:()=>q(Q),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(us,{size:16})}),d.jsx(lt,{variant:"ghost",size:"sm",onClick:()=>z(Q.name,Q.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(ni,{size:16})})]})})]},Q.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(Q=>Q.id!==(e==null?void 0:e.id)).map(Q=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:Q.name}),d.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:Q.username})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lt,{variant:"ghost",size:"sm",onClick:()=>q(Q),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(us,{size:16})}),d.jsx(lt,{variant:"ghost",size:"sm",onClick:()=>z(Q.name,Q.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(ni,{size:16})})]})]}),d.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:Q.email||"-"}),d.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:Q.role==="admin"?"Admin":Q.role==="staff"?"Staff":Q.role==="supply_serve"?"Supply & Serve":Q.role==="fahiz"?"Fahiz":Q.role==="aphy"?"APHY":Q.role})]},Q.id))})]}),d.jsx(pn,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Username",name:"username",value:m.username,onChange:Z,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),d.jsx(Ct,{label:"Email",name:"email",type:"email",value:m.email,onChange:Z,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Full Name",name:"name",value:m.name,onChange:Z,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),d.jsx(on,{label:"Role",name:"role",value:m.role,onChange:Z,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"},{value:"fahiz",label:"Fahiz"},{value:"aphy",label:"APHY"}],fullWidth:!0})]}),d.jsx(Vu,{label:"Password",name:"password",value:m.password,onChange:Z,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:Z,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(lt,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},jA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],MBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=B.useState(""),[i,s]=B.useState("stock sold"),[o,l]=B.useState(""),c=jA.includes(e.storeName)?jA:[e.storeName,...jA],u=[...c,"other"],[f,h]=B.useState(e.storeName||c[0]||""),[p,g]=B.useState(""),{isDarkMode:m}=cn(),v=async w=>{w.preventDefault();const D=Number(n);if(!n||D<=0||D>e.quantity)return;const P=i==="other"?o:i,j=f==="other"?p.trim():f.trim();await t({id:e.id,quantity:e.quantity-D,reason:P,storeName:j})},b=(()=>{const w=Number(n);return!n||w<=0?"Quantity to deduct must be greater than 0":w>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return d.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Ct,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:w=>a(w.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(on,{id:"reason",value:i,onChange:w=>s(w.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Ct,{id:"otherReason",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsx(on,{id:"storeName",value:f,onChange:w=>h(w.target.value),options:u.map(w=>({value:w,label:w==="other"?"OTHER":w==null?void 0:w.toUpperCase()})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),f==="other"&&d.jsx(Ct,{id:"otherStoreName",type:"text",value:p,onChange:w=>g(w.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[d.jsx(Jd,{size:16}),d.jsx("span",{children:b})]}):d.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsx("div",{className:"flex justify-end space-x-3",children:d.jsx(lt,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?d.jsxs(d.Fragment,{children:[d.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},RBe=()=>{var Z;const[e,t]=B.useState(""),[r,n]=B.useState("name"),[a,i]=B.useState(!1),[s,o]=B.useState(!1),[l,c]=B.useState(null),[u,f]=B.useState([]),[h,p]=B.useState(!1),[g,m]=B.useState(new Set),[v,y]=B.useState(null),[b,w]=B.useState(!1),[D,P]=B.useState("all"),[j,T]=B.useState(!1),{showToast:_}=sc(),{isDarkMode:S}=cn(),{user:I}=Ta(),E=["supply & serve","APHY","AZTEC","ZK","Fahiz"],N=async()=>{o(!0);try{const k=or(gt(Xe,"inventory"),La("name")),z=(await lr(k)).docs.map(G=>{const Q=G.data();return{id:G.id,...Q,lastUpdated:Q.lastUpdated instanceof ar?Q.lastUpdated.toDate():new Date(Q.lastUpdated)}});f(z)}catch(k){console.error("Error fetching stock items:",k),_("Failed to fetch stock items","error")}finally{o(!1)}},O=async()=>{try{const k=Mr(new Date,90),R=or(gt(Xe,"activityLogs"),sr("time",">=",k.toISOString()),La("time","desc")),G=(await lr(R)).docs.map(he=>({id:he.id,...he.data()})),Q=Mr(new Date,10),oe=new Set,fe=new Map;G.forEach(he=>{if(he.detail.includes("added new product")){const ye=he.detail.match(/added new product "([^"]+)"/);if(ye){const W=ye[1],ke=new Date(he.time);(!fe.has(W)||ke<fe.get(W))&&fe.set(W,ke)}}if(he.detail.includes("units deducted from stock")){const ye=he.detail.match(/units deducted from stock "([^"]+)"/);if(ye){const W=ye[1];new Date(he.time)>=Q&&oe.add(W)}}});const ne=new Set;u.forEach(he=>{const ye=he.name,W=fe.get(ye);W&&W<Q&&!oe.has(ye)&&ne.add(ye)}),m(ne)}catch(k){console.error("Error fetching activity logs:",k)}};B.useEffect(()=>{N()},[_]),B.useEffect(()=>{u.length>0&&O()},[u]),B.useEffect(()=>{const k=R=>{if(b||j){const z=R.target;!z.closest(".store-filter-dropdown")&&!z.closest(".status-filter-dropdown")&&(w(!1),T(!1))}};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[b,j]);const U=()=>{y(null),P("all"),w(!1),T(!1)},Y=u.filter(k=>k.quantity>0).filter(k=>{const R=e.toLowerCase(),z=k.name.toLowerCase().includes(R),G=`${k.locationCode} - ${k.shelfNumber}`.toLowerCase().includes(R),Q=k.asin?k.asin.split(",").some(he=>he.trim().toLowerCase().includes(R)):!1,oe=k.barcode?k.barcode.toLowerCase().includes(R):!1,fe=v?v.storeName==="other"?!E.includes(k.storeName)&&k.fulfillmentType===v.fulfillmentType:k.storeName===v.storeName&&k.fulfillmentType===v.fulfillmentType:!0,ne=D==="all"||k.status===D;return(z||G||Q||oe)&&fe&&ne}).sort((k,R)=>r==="name"?k.name.localeCompare(R.name):r==="quantity"?R.quantity-k.quantity:r==="price"?R.price-k.price:r==="date"?new Date(R.lastUpdated).getTime()-new Date(k.lastUpdated).getTime():0),K=async k=>{var R;o(!0);try{const z=Ar(Xe,"inventory",k.id),G=await $d(z);if(!G.exists())throw new Error("Stock item not found");const Q=G.data();if(!I)throw new Error("User not authenticated");const oe=k.reason==="damaged"?Q.damagedItems+(Q.quantity-k.quantity):Q.damagedItems,fe=new Date;await $n(z,{quantity:k.quantity,damagedItems:oe,lastUpdated:ar.fromDate(fe)}),await pr(gt(Xe,"activityLogs"),{detail:`${Q.quantity-k.quantity} units deducted from stock "${Q.name}" (Reason: ${k.reason}, Store: ${(R=k.storeName)==null?void 0:R.toUpperCase()}) by ${I.role} from location ${Q.locationCode} shelf ${Q.shelfNumber}`,time:new Date().toISOString(),user:I.name,role:I.role});const ne=u.map(he=>he.id===k.id?{...he,quantity:k.quantity,damagedItems:oe}:he);f(ne),c(null),i(!1),_("Stock quantity updated successfully","success")}catch(z){console.error("Error updating stock:",z),_("Failed to update stock quantity","error")}finally{o(!1)}},J=k=>{a||c(k)},q=(k,R)=>{k.stopPropagation(),c(R),i(!0)},V=()=>{p(!0)},ee=k=>{t(k),p(!1)};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${S?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),d.jsx("p",{className:`${S?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Ct,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:k=>t(k.target.value),icon:d.jsx(Sl,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:V,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(qc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(on,{value:r,onChange:k=>n(k.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>T(!j),className:`flex items-center gap-2 ${D!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[D==="all"?"Status Filter":D==="active"?"Active":"Pending",d.jsx(Kl,{size:16})]}),j&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="all"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),T(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="active"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),T(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="pending"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),T(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),T(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>w(!b),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"OTHER":(Z=v.storeName)==null?void 0:Z.toUpperCase()} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(Kl,{size:16})]}),b&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(k=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k?S?"bg-slate-700":"bg-slate-100":""}`,children:k==null?void 0:k.toUpperCase()}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k&&(v==null?void 0:v.fulfillmentType)==="fba"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:k,fulfillmentType:"fba"}),w(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k&&(v==null?void 0:v.fulfillmentType)==="mf"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:k,fulfillmentType:"mf"}),w(!1)},children:"MF"})]})]},k)),d.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),w(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(lt,{variant:"secondary",onClick:()=>{N(),U()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:d.jsx(ri,{size:16,className:s?"animate-spin":""})}),(v||D!=="all")&&d.jsx(lt,{variant:"secondary",onClick:U,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?d.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(cs,{className:`w-8 h-8 ${S?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:S?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Y.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:`${S?"bg-slate-800":"bg-slate-50"}`,children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(I==null?void 0:I.role)==="admin"&&d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${S?"divide-slate-700":"divide-slate-200"}`,children:Y.map(k=>d.jsxs("tr",{className:`${S?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>J(k),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-blue-400":"text-blue-700"} font-medium`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[k.name,g.has(k.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(Sv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:k.status==="active"?"Active":"Pending"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:[k.locationCode," - ",k.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.asin?k.asin.split(",").length>3?k.asin.split(",").slice(0,3).map(R=>R.trim()).join(", ")+"...":k.asin.split(",").map(R=>R.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),k.quantity>10&&k.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),d.jsx("span",{children:k.quantity})]})}),(I==null?void 0:I.role)==="admin"&&d.jsx("td",{className:`px-4 py-3 text-right text-sm ${S?"text-slate-200":"text-slate-900"}`,children:Number(k.price)>0?`${Number(k.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:zt(new Date(k.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:"px-4 py-3 text-right text-sm",children:d.jsx("div",{className:"flex items-center justify-end gap-2",children:d.jsx(lt,{variant:"secondary",size:"sm",onClick:R=>q(R,k),className:`p-1 ${S?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:d.jsx(us,{size:16})})})})]},k.id))})]})})}),d.jsx("div",{className:"block md:hidden space-y-4",children:Y.map(k=>d.jsxs("div",{className:`rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>J(k),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${S?"text-blue-400":"text-blue-700"}`,children:k.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[g.has(k.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(Sv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:k.status==="active"?"Active":"Pending"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[k.locationCode," - ",k.shelfNumber]})]}),d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:k.quantity})]}),k.asin&&d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:k.asin})]}),(I==null?void 0:I.role)==="admin"&&d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(k.price)>0?`${Number(k.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:zt(new Date(k.lastUpdated),"MMM d, yyyy")})]})]}),d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsxs(lt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q(R,k)},children:[d.jsx(us,{size:14})," Edit"]})})]},k.id))})]}):d.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:S?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(pn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&d.jsx(MBe,{item:l,onSubmit:K,isLoading:s})}),l&&!a&&d.jsx(iy,{isOpen:!0,onClose:()=>c(null),item:l}),d.jsx(vh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:ee})]})},FBe=()=>{const[e,t]=B.useState(!0),[r,n]=B.useState([]),[a,i]=B.useState(new Set),[s,o]=B.useState(""),[l,c]=B.useState(""),[u,f]=B.useState("locationCode"),[h,p]=B.useState({}),{showToast:g}=sc(),{isDarkMode:m}=cn(),[v,y]=B.useState(!1),[b,w]=B.useState(null),[D,P]=B.useState(1),[j,T]=B.useState("A1"),[_,S]=B.useState("0"),[I,E]=B.useState(!1),[N,O]=B.useState(!1),[U,Y]=B.useState(""),[K,J]=B.useState(Sf("A1")),[q,V]=B.useState(null),[ee,Z]=B.useState(!1),[k,R]=B.useState(null),{user:z}=Ta(),G=Se=>{T(Se);const Re=Sf(Se);J(Re),parseInt(_)>=Re.length&&S("0")},Q=async()=>{t(!0);try{const Se=or(gt(Xe,"inventory"),La("locationCode")),be=(await lr(Se)).docs.map(je=>{const Ee=je.data();return{id:je.id,name:Ee.name||"",quantity:Ee.quantity||0,price:Ee.price||0,unit:Ee.unit||null,supplier:Ee.supplier??null,lastUpdated:Ee.lastUpdated instanceof ar?Ee.lastUpdated.toDate():new Date,locationCode:Ee.locationCode||"",shelfNumber:Ee.shelfNumber||"",barcode:Ee.barcode??null,asin:Ee.asin??null,status:Ee.status||"pending",damagedItems:Ee.damagedItems||0,fulfillmentType:Ee.fulfillmentType||"fba",storeName:Ee.storeName||""}});n(be)}catch(Se){console.error("Error fetching locations:",Se),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},oe=async()=>{try{const Se=or(gt(Xe,"locations")),Re=await lr(Se),be={};Re.forEach(je=>{be[je.id]=je.data().isAvailable!==!1}),p(be)}catch(Se){console.error("Error fetching location availability:",Se)}};B.useEffect(()=>{t(!0),Promise.all([Q(),oe()]).finally(()=>t(!1))},[]);const fe=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location","Awaiting Locations Sparklin","Awaiting Locations Aztec"],ne=fe.reduce((Se,Re)=>{const je=r.filter(Ee=>Ee.locationCode===Re).reduce((Ee,qe)=>{const at=Ee.findIndex(nt=>nt.name===qe.name&&ie(nt.asin)===ie(qe.asin)&&ie(nt.barcode)===ie(qe.barcode)&&nt.locationCode===qe.locationCode&&nt.shelfNumber===qe.shelfNumber);return at>=0?Ee[at]={...Ee[at],quantity:Ee[at].quantity+qe.quantity,lastUpdated:Ee[at].lastUpdated>qe.lastUpdated?Ee[at].lastUpdated:qe.lastUpdated}:Ee.push(qe),Ee},[]);return Se[Re]={locationCode:Re,totalStock:je.reduce((Ee,qe)=>Ee+qe.quantity,0),products:je},Se},{}),he=Object.values(ne).filter(Se=>{const Re=s.toLowerCase(),be=l.toLowerCase(),je=be===""||Se.locationCode.toLowerCase().includes(be),Ee=Re===""||Se.products.some(qe=>qe.name.toLowerCase().includes(Re)||qe.asin&&qe.asin.split(",").some(at=>at.trim().toLowerCase().includes(Re))||qe.barcode&&qe.barcode.toLowerCase().includes(Re));return je&&Ee}).sort((Se,Re)=>{if(u==="totalStock")return Re.totalStock-Se.totalStock;if(u==="locationCode")return Se.locationCode==="Awaiting Location"?-1:Re.locationCode==="Awaiting Location"?1:Se.locationCode==="Awaiting Locations Sparklin"?-1:Re.locationCode==="Awaiting Locations Sparklin"?1:Se.locationCode==="Awaiting Locations Aztec"?-1:Re.locationCode==="Awaiting Locations Aztec"?1:Se.locationCode.localeCompare(Re.locationCode);if(u==="availability"){const be=h[Se.locationCode]!==!1,je=h[Re.locationCode]!==!1;return be===je?Se.locationCode==="Awaiting Location"?-1:Re.locationCode==="Awaiting Location"?1:Se.locationCode==="Awaiting Locations Sparklin"?-1:Re.locationCode==="Awaiting Locations Sparklin"?1:Se.locationCode==="Awaiting Locations Aztec"?-1:Re.locationCode==="Awaiting Locations Aztec"?1:Se.locationCode.localeCompare(Re.locationCode):be?-1:1}return 0});B.useEffect(()=>{if(s.trim()&&s!==U){const Se=he.filter(Re=>{const be=s.toLowerCase();return Re.products.some(je=>je.quantity>0&&(je.name.toLowerCase().includes(be)||je.asin&&je.asin.split(",").some(Ee=>Ee.trim().toLowerCase().includes(be))||je.barcode&&je.barcode.toLowerCase().includes(be)))});if(Se.length>0){const Re=Se.flatMap(je=>je.products.filter(Ee=>{if(Ee.quantity===0)return!1;const qe=s.toLowerCase();return Ee.name.toLowerCase().includes(qe)||Ee.asin&&Ee.asin.split(",").some(at=>at.trim().toLowerCase().includes(qe))||Ee.barcode&&Ee.barcode.toLowerCase().includes(qe)})),be=[...new Set(Re.map(je=>`${je.locationCode}-${je.shelfNumber}`))];g(`Product found! Located at: ${be.join(", ")}`,"success"),Y(s)}else s.trim()&&s!==U&&(g("Product not found in any location","error"),Y(s))}else!s.trim()&&U&&Y("")},[he,s,g,U]);const ye=Se=>{i(Re=>{const be=new Set(Re);return be.has(Se)?be.delete(Se):be.add(Se),be})},W=()=>{O(!0)},ke=Se=>{o(Se),O(!1)},Ce=async Se=>{const Re=!(h[Se]??!0);p(be=>({...be,[Se]:Re}));try{await lx(Ar(Xe,"locations",Se),{isAvailable:Re},{merge:!0})}catch(be){g("Failed to update availability","error"),p(je=>({...je,[Se]:!Re})),console.log(be)}};function Te(Se){const Re={...Se};return Object.keys(Re).forEach(be=>{Re[be]===void 0&&(Re[be]=null)}),Re}function ie(Se){return Se??""}const $e=async()=>{if(b&&!(D<1||D>b.quantity)){E(!0);try{const Se=or(gt(Xe,"inventory")),Re=await lr(Se);let be=null;if(Re.forEach(je=>{const Ee=je.data();Ee.name===b.name&&Ee.locationCode===j&&Ee.shelfNumber===_&&ie(Ee.asin)===ie(b.asin)&&ie(Ee.barcode)===ie(b.barcode)&&(be={...Ee,id:je.id})}),D===b.quantity)await lx(Ar(Xe,"inventory",b.id),Te({...b,locationCode:j,shelfNumber:_,lastUpdated:new Date}),{merge:!0});else if(await lx(Ar(Xe,"inventory",b.id),Te({...b,quantity:b.quantity-D,lastUpdated:new Date}),{merge:!0}),be)await lx(Ar(Xe,"inventory",be.id),Te({...be,quantity:be.quantity+D,lastUpdated:new Date}),{merge:!0});else{const{id:je,...Ee}=b;await pr(gt(Xe,"inventory"),Te({...Ee,quantity:D,locationCode:j,shelfNumber:_,lastUpdated:new Date}))}await pr(gt(Xe,"activityLogs"),{user:(z==null?void 0:z.name)||"Unknown",role:(z==null?void 0:z.role)||"Unknown",detail:`Moved ${D} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${j}-${_}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),w(null),Q()}catch(Se){g("Failed to move stock","error"),console.log(Se)}finally{E(!1)}}},Ke=async()=>{if(q){Z(!0);try{await Os(Ar(Xe,"inventory",q.id)),await pr(gt(Xe,"activityLogs"),{user:(z==null?void 0:z.name)||"Unknown",role:(z==null?void 0:z.role)||"Unknown",detail:`deleted product "${q.name}" (${q.quantity} units) from location ${q.locationCode}-${q.shelfNumber}`,time:new Date().toISOString()}),g("Product deleted successfully","success"),V(null),Q()}catch(Se){g("Failed to delete product","error"),console.error("Error deleting product:",Se)}finally{Z(!1)}}};return d.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),d.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Ct,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:Se=>o(Se.target.value),icon:d.jsx(Sl,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:W,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(qc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"flex-1",children:d.jsx(Ct,{type:"text",placeholder:"Search by location code...",value:l,onChange:Se=>c(Se.target.value),icon:d.jsx(Sl,{size:16})})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(on,{value:u,onChange:Se=>f(Se.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),d.jsx(lt,{variant:"secondary",onClick:Q,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(ri,{size:16,className:e?"animate-spin":""})})]}),e?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):he.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[d.jsx(Zd,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),d.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(he).map(Se=>{const Re=a.has(Se.locationCode);return d.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Re?"ring-2 ring-blue-500":""}`,children:[d.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>ye(Se.locationCode),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:d.jsx(Zd,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),d.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:Se.locationCode==="Awaiting Location"?"Awaiting Location":Se.locationCode==="Awaiting Locations Sparklin"?"Awaiting Locations Sparklin":Se.locationCode==="Awaiting Locations Aztec"?"Awaiting Locations Aztec":`Location ${Se.locationCode}`})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h[Se.locationCode]!==!1,onChange:be=>{be.stopPropagation(),Ce(Se.locationCode)},className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[Se.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),d.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[Se.locationCode]!==!1?"translate-x-5":""}
                          `})]}),d.jsx("span",{className:`text-xs font-semibold ml-2 ${h[Se.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[Se.locationCode]!==!1?"Available":"Not Available"}),d.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:be=>{be.stopPropagation(),ye(Se.locationCode)},"aria-label":Re?"Collapse":"Expand",children:Re?d.jsx(l9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):d.jsx(Kl,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),d.jsxs("div",{className:"flex justify-between items-end mt-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),d.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[Se.totalStock," units"]})]}),d.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?Se.products.filter(be=>{if(be.quantity===0)return!1;const je=s.toLowerCase();return be.name.toLowerCase().includes(je)||be.asin&&be.asin.split(",").some(Ee=>Ee.trim().toLowerCase().includes(je))||be.barcode&&be.barcode.toLowerCase().includes(je)}).length:Se.products.filter(be=>be.quantity>0).length," product",(s.trim()?Se.products.filter(be=>{if(be.quantity===0)return!1;const je=s.toLowerCase();return be.name.toLowerCase().includes(je)||be.asin&&be.asin.split(",").some(Ee=>Ee.trim().toLowerCase().includes(je))||be.barcode&&be.barcode.toLowerCase().includes(je)}).length:Se.products.filter(be=>be.quantity>0).length)!==1?"s":""]})]})]}),Re&&d.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[d.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?Se.products.filter(be=>{if(be.quantity===0)return!1;const je=s.toLowerCase();return be.name.toLowerCase().includes(je)||be.asin&&be.asin.split(",").some(Ee=>Ee.trim().toLowerCase().includes(je))||be.barcode&&be.barcode.toLowerCase().includes(je)}).length===0:Se.products.filter(be=>be.quantity>0).length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),d.jsx("div",{className:"space-y-4",children:Se.products.filter(be=>{if(be.quantity===0)return!1;if(s.trim()){const je=s.toLowerCase();return be.name.toLowerCase().includes(je)||be.asin&&be.asin.split(",").some(Ee=>Ee.trim().toLowerCase().includes(je))||be.barcode&&be.barcode.toLowerCase().includes(je)}return!0}).map(be=>{const je=Se.totalStock===0?0:be.quantity/Se.totalStock*100,Ee=s.toLowerCase(),qe=be.name.toLowerCase().includes(Ee)||be.asin&&be.asin.split(",").some(at=>at.trim().toLowerCase().includes(Ee))||be.barcode&&be.barcode.toLowerCase().includes(Ee);return d.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors cursor-pointer hover:bg-opacity-80 ${qe?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":m?"hover:bg-slate-700":"hover:bg-slate-100"}`,onClick:async()=>{var nt;const at=await $d(Ar(Xe,"inventory",be.id));if(at.exists()){const ft=at.data(),Et={...ft,id:be.id,lastUpdated:(nt=ft.lastUpdated)!=null&&nt.toDate?ft.lastUpdated.toDate():new Date(ft.lastUpdated)};R(Et)}else g("Failed to fetch product details","error")},children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:`font-medium ${qe?"text-blue-600":m?"text-white":"text-slate-800"}`,children:be.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",be.shelfNumber]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[be.quantity," units"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center gap-1",onClick:async at=>{at.stopPropagation();const nt=await $d(Ar(Xe,"inventory",be.id));if(nt.exists()){const ft=nt.data();w({...ft,id:be.id}),P(1),T(be.locationCode),S(be.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"}),d.jsxs("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center gap-1",onClick:async at=>{at.stopPropagation();const nt=await $d(Ar(Xe,"inventory",be.id));if(nt.exists()){const ft=nt.data();V({...ft,id:be.id})}else g("Failed to fetch product details","error")},children:[d.jsx(ni,{size:12}),"Delete"]})]})]})]}),d.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${je>75?"bg-green-500":je>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${je}%`},title:`${be.quantity} out of ${Se.totalStock} units (${je.toFixed(1)}%)`})})]},be.id)})})]})]},Se.locationCode)})}),d.jsx(pn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:b&&d.jsxs("form",{onSubmit:Se=>{Se.preventDefault(),$e()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),d.jsx("input",{type:"number",min:1,max:b.quantity,value:D,onChange:Se=>P(Number(Se.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),d.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),d.jsx("select",{value:j,onChange:Se=>G(Se.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:fe.map(Se=>d.jsx("option",{value:Se,children:Se},Se))})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),d.jsx("select",{value:_,onChange:Se=>S(Se.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:K.map(Se=>d.jsx("option",{value:Se.value,children:Se.label},Se.value))})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),d.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:I,children:I?"Moving...":"Move"})]})]})}),d.jsx(vh,{isOpen:N,onClose:()=>O(!1),onBarcodeScanned:ke}),d.jsx(sh,{isOpen:!!q,onClose:()=>V(null),onConfirm:Ke,title:"Delete Product",message:q?`Are you sure you want to delete "${q.name}" (${q.quantity} units) from location ${q.locationCode}-${q.shelfNumber}? This action cannot be undone.`:"",isLoading:ee}),k&&d.jsx(iy,{isOpen:!!k,onClose:()=>R(null),item:k})]})},$Be=()=>{const[e,t]=B.useState(""),[r,n]=B.useState(""),[a,i]=B.useState(""),[s,o]=B.useState(""),[l,c]=B.useState("name"),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState(!1),[v,y]=B.useState(!1),[b,w]=B.useState(!1),[D,P]=B.useState(null),[j,T]=B.useState([]),[_,S]=B.useState(new Set),[I,E]=B.useState(!1),{showToast:N}=sc(),{isDarkMode:O}=cn(),{user:U}=Ta(),K=B.useCallback(()=>{switch(U==null?void 0:U.role){case"fahiz":return{title:"Fahiz Stock",storeName:"Fahiz",storeNameDisplay:"FAHIZ"};case"aphy":return{title:"APHY Stock",storeName:"APHY",storeNameDisplay:"APHY"};case"supply_serve":default:return{title:"Supply & Serve Stock",storeName:"supply & serve",storeNameDisplay:"SUPPLY & SERVE"}}},[U==null?void 0:U.role])(),[J,q]=B.useState(!1),[V,ee]=B.useState(null),[Z,k]=B.useState(!1),[R,z]=B.useState(!1),[G,Q]=B.useState(null),[oe,fe]=B.useState(null),[ne,he]=B.useState(!1),[ye,W]=B.useState("all"),[ke,Ce]=B.useState(!1);B.useEffect(()=>{const Ie=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ie)}},[e]),B.useEffect(()=>{const Ie=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Ie)}},[a]);const Te=B.useCallback(async()=>{w(!0);try{const Ie=or(gt(Xe,"inventory"),La("name")),Ye=(await lr(Ie)).docs.map(ht=>{const Dt=ht.data();return{id:ht.id,...Dt,lastUpdated:Dt.lastUpdated instanceof ar?Dt.lastUpdated.toDate():new Date(Dt.lastUpdated)}});T(Ye)}catch(Ie){console.error("Error fetching stock items:",Ie),N("Failed to fetch stock items","error")}finally{w(!1)}},[N]);B.useEffect(()=>{Te()},[Te]),B.useEffect(()=>{const Ie=Me=>{const Ye=Me.target;Ye.closest(".store-filter-dropdown")||he(!1),Ye.closest(".status-filter-dropdown")||Ce(!1)};return(ne||ke)&&document.addEventListener("mousedown",Ie),()=>{document.removeEventListener("mousedown",Ie)}},[ne,ke]);const ie=B.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),$e=B.useMemo(()=>{const Ie=r.toLowerCase(),Me=s.toLowerCase(),Ye=K.storeName;return j.filter(ht=>{if(ht.quantity===0||ht.storeName!==Ye)return!1;const Dt=r===""||ht.name.toLowerCase().startsWith(Ie),Gt=s===""||ht.barcode&&ht.barcode.toLowerCase().includes(Me)||ht.asin&&ht.asin.split(",").some(Ot=>Ot.trim().toLowerCase().includes(Me)),Mt=ye==="all"||ht.status===ye;return Dt&&Gt&&Mt}).sort((ht,Dt)=>l==="name"?ht.name.localeCompare(Dt.name):l==="quantity"?Dt.quantity-ht.quantity:l==="price"?Dt.price-ht.price:l==="date"?new Date(Dt.lastUpdated).getTime()-new Date(ht.lastUpdated).getTime():0)},[j,r,s,ye,l,K]),Ke=B.useMemo(()=>j.filter(Ie=>Ie.quantity>0&&Ie.storeName===K.storeName).length,[j,K]),Se=B.useCallback((Ie,Me)=>j.filter(Ye=>Ye.locationCode===Ie&&Ye.shelfNumber===Me),[j]),Re=B.useCallback(async Ie=>{w(!0);try{const Me=[];for(const Ye of Ie)if(Ye.barcode){const ht=or(gt(Xe,"inventory"),sr("barcode","==",Ye.barcode),sr("quantity","==",0)),Dt=await lr(ht);if(!Dt.empty){const Gt=Dt.docs[0];if(await Os(Ar(Xe,"inventory",Gt.id)),T(Mt=>Mt.filter(Ot=>Ot.id!==Gt.id)),U){const Mt=Gt.data();await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${Mt.name}" with barcode ${Ye.barcode} from location ${Mt.locationCode}-${Mt.shelfNumber}`,time:new Date().toISOString()})}}}for(const Ye of Ie){const ht=await pr(gt(Xe,"inventory"),{...Ye,lastUpdated:ar.fromDate(new Date)});Me.push({...Ye,id:ht.id,lastUpdated:new Date})}if(U){const Ye=Ie.reduce((Dt,Gt)=>Dt+Gt.quantity,0),ht=Ie.map(Dt=>`${Dt.quantity} at ${Dt.locationCode}-${Dt.shelfNumber}`).join(", ");await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Ie[0].name}" with total quantity ${Ye} (${ht})`,time:new Date().toISOString()})}T(Ye=>[...Ye,...Me]),f(!1),k(!1),N("Stock items added successfully","success")}catch(Me){console.error("Error adding stock:",Me),N("Failed to add stock items","error")}finally{w(!1)}},[U,N]),be=B.useCallback(async Ie=>{const Me=[];for(const Ye of Ie){const ht=Se(Ye.locationCode,Ye.shelfNumber);ht.length>0&&Me.push({locationCode:Ye.locationCode,shelfNumber:Ye.shelfNumber,products:ht})}if(Me.length>0){const Ye=Me[0];fe({locationCode:Ye.locationCode,shelfNumber:Ye.shelfNumber,existingProducts:Ye.products,newProductName:Ie[0].name,newProductBarcode:Ie[0].barcode||void 0}),Q(Ie),z(!0);return}await Re(Ie)},[Se,Re]),je=B.useCallback(async()=>{G&&(await Re(G),z(!1),Q(null),fe(null),f(!1),k(!1))},[G,Re]),Ee=B.useCallback(()=>{z(!1),Q(null),fe(null),f(!1),k(!1)},[]),qe=B.useCallback(async()=>{if(G&&oe)try{w(!0);const Ie=oe.existingProducts.find(Me=>Me.barcode===oe.newProductBarcode);if(Ie){const Me=Ie.quantity+G[0].quantity,Ye=Ar(Xe,"inventory",Ie.id);await $n(Ye,{quantity:Me,lastUpdated:ar.fromDate(new Date)}),U&&(await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${G[0].quantity} units of "${G[0].name}" with existing stock "${Ie.name}" at location ${oe.locationCode}-${oe.shelfNumber}`,time:new Date().toISOString()}),await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": quantity from ${Ie.quantity} to ${Me}`,time:new Date().toISOString()})),await Te(),N("Products merged successfully","success")}}catch(Ie){console.error("Error merging products:",Ie),N("Failed to merge products","error")}finally{w(!1),z(!1),Q(null),fe(null),f(!1),k(!1)}},[G,oe,U,Te,N]),at=B.useCallback(async(Ie,Me)=>{var Ye,ht;w(!0);try{const Dt=new Date,Gt={},Mt=[];if(Ie.name!==Me.name&&(Gt.name=Ie.name,Mt.push(`name from "${Me.name}" to "${Ie.name}"`)),Ie.price!==Me.price){Gt.price=Ie.price;const Ot=Number(Me.price||0).toFixed(2),Zt=Number(Ie.price||0).toFixed(2);Mt.push(`price from ${Ot} to ${Zt}`)}if((Ie.locationCode!==Me.locationCode||Ie.shelfNumber!==Me.shelfNumber)&&(Gt.locationCode=Ie.locationCode,Gt.shelfNumber=Ie.shelfNumber,Mt.push(`location from ${Me.locationCode}-${Me.shelfNumber} to ${Ie.locationCode}-${Ie.shelfNumber}`)),Ie.supplier!==Me.supplier&&(Gt.supplier=Ie.supplier,Mt.push(`supplier from "${Me.supplier||"none"}" to "${Ie.supplier||"none"}"`)),Ie.asin!==Me.asin&&(Gt.asin=Ie.asin,Mt.push(`ASIN from "${Me.asin||"none"}" to "${Ie.asin||"none"}"`)),Ie.status!==Me.status&&(Gt.status=Ie.status,Mt.push(`status from "${Me.status}" to "${Ie.status}"`)),Ie.damagedItems!==Me.damagedItems&&(Gt.damagedItems=Ie.damagedItems,Mt.push(`damaged items from ${Me.damagedItems} to ${Ie.damagedItems}`)),Ie.fulfillmentType!==Me.fulfillmentType&&(Gt.fulfillmentType=Ie.fulfillmentType,Mt.push(`fulfillment type from "${Me.fulfillmentType.toUpperCase()}" to "${Ie.fulfillmentType.toUpperCase()}"`)),Ie.storeName!==Me.storeName&&(Gt.storeName=Ie.storeName,Mt.push(`store name from "${(Ye=Me.storeName)==null?void 0:Ye.toUpperCase()}" to "${(ht=Ie.storeName)==null?void 0:ht.toUpperCase()}"`)),Ie.unit!==Me.unit&&(Gt.unit=Ie.unit,Mt.push(`unit from "${Me.unit||"none"}" to "${Ie.unit||"none"}"`)),Ie.barcode!==Me.barcode&&(Gt.barcode=Ie.barcode,Mt.push(`barcode from "${Me.barcode||"none"}" to "${Ie.barcode||"none"}"`)),Object.keys(Gt).length>0){const Ot=Ar(Xe,"inventory",Ie.id);await $n(Ot,{...Gt,lastUpdated:ar.fromDate(Dt)}),U&&Mt.length>0&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": ${Mt.join(", ")}`,time:Dt.toISOString()});const Zt=j.map(xr=>xr.id===Ie.id?{...xr,...Gt,lastUpdated:Dt}:xr);T(Zt),N("Stock details updated successfully","success"),p(!1),P(null)}if(Ie.quantity>Me.quantity)ee({itemId:Ie.id,newQuantity:Ie.quantity}),q(!0),p(!1);else if(Ie.quantity!==Me.quantity){const Ot=Ar(Xe,"inventory",Ie.id);await $n(Ot,{quantity:Ie.quantity,lastUpdated:ar.fromDate(Dt)}),U&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": quantity from ${Me.quantity} to ${Ie.quantity}`,time:Dt.toISOString()});const Zt=j.map(xr=>xr.id===Ie.id?{...xr,quantity:Ie.quantity,lastUpdated:Dt}:xr);T(Zt),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(Dt){console.error("Error updating stock:",Dt),N("Failed to update stock item","error")}finally{w(!1)}},[j,U,N]),nt=B.useCallback(async()=>{if(V){w(!0);try{const{itemId:Ie,newQuantity:Me}=V,Ye=new Date,ht=j.find(Mt=>Mt.id===Ie),Dt=Ar(Xe,"inventory",Ie);await $n(Dt,{quantity:Me,lastUpdated:ar.fromDate(Ye)}),U&&ht&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${ht.name}": quantity from ${ht.quantity} to ${Me}`,time:Ye.toISOString()});const Gt=j.map(Mt=>Mt.id===Ie?{...Mt,quantity:Me,lastUpdated:Ye}:Mt);T(Gt),N("Stock quantity updated successfully","success"),P(null)}catch(Ie){console.error("Error updating quantity:",Ie),N("Failed to update quantity","error")}finally{w(!1),q(!1),ee(null)}}},[V,j,U,N]),ft=B.useCallback(async Ie=>{w(!0);try{const Me=j.find(Ye=>Ye.id===Ie);await Os(Ar(Xe,"inventory",Ie)),U&&Me&&await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${Me.name}" (${Me.quantity} units) from location ${Me.locationCode}-${Me.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(Ye=>Ye.id!==Ie)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(Me){console.error("Error deleting stock:",Me),N("Failed to delete stock item","error")}finally{w(!1)}},[j,U,N]),Et=B.useCallback(Ie=>{P(Ie)},[]),kt=B.useCallback((Ie,Me)=>{Ie.stopPropagation(),P(Me),p(!0)},[]),_t=B.useCallback((Ie,Me)=>{Ie.stopPropagation(),P(Me),m(!0)},[]),ct=B.useCallback(()=>{_.size===$e.length?S(new Set):S(new Set($e.map(Ie=>Ie.id)))},[$e,_.size]),er=B.useCallback(Ie=>{const Me=new Set(_);Me.has(Ie)?Me.delete(Ie):Me.add(Ie),S(Me)},[_]),Wt=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ie=j.filter(Ye=>_.has(Ye.id)),Me=Array.from(_).map(Ye=>Os(Ar(Xe,"inventory",Ye)));if(await Promise.all(Me),U){const Ye=Ie.map(ht=>`"${ht.name}" (${ht.quantity} units) from ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${Ye}`,time:new Date().toISOString()})}T(j.filter(Ye=>!_.has(Ye.id))),S(new Set),E(!1),y(!1),N(`Successfully deleted ${_.size} items`,"success")}catch(Ie){console.error("Error deleting items:",Ie),N("Failed to delete selected items","error")}finally{w(!1)}}},[_,j,U,N]),Gr=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ie=j.filter(Ye=>_.has(Ye.id)&&Ye.status==="pending");if(Ie.length===0){N("No pending items selected to activate","error");return}const Me=Ie.map(Ye=>$n(Ar(Xe,"inventory",Ye.id),{status:"active",lastUpdated:ar.fromDate(new Date)}));if(await Promise.all(Me),U){const Ye=Ie.map(ht=>`"${ht.name}" from ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await pr(gt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Ie.length} pending products: ${Ye}`,time:new Date().toISOString()})}T(j.map(Ye=>_.has(Ye.id)&&Ye.status==="pending"?{...Ye,status:"active",lastUpdated:new Date}:Ye)),S(new Set),E(!1),N(`Successfully activated ${Ie.length} items`,"success")}catch(Ie){console.error("Error activating items:",Ie),N("Failed to activate selected items","error")}finally{w(!1)}}},[_,j,U,N]),ur=B.useCallback(()=>{E(!I),I||S(new Set)},[I]),Wr=B.useCallback(({item:Ie})=>d.jsxs("tr",{className:`hover:${O?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Et(Ie),children:[I&&d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,onClick:Me=>Me.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:_.has(Ie.id),onChange:()=>er(Ie.id),className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:Ie.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ie.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ie.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ie.fulfillmentType.toUpperCase()})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:[Ie.locationCode," - ",Ie.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ie.asin?Ie.asin.split(",").length>3?Ie.asin.split(",").slice(0,3).map(Me=>Me.trim()).join(", ")+"...":Ie.asin.split(",").map(Me=>Me.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ie.price)>0?`${Number(Ie.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ie.quantity*Ie.price)>0?`${Number(Ie.quantity*Ie.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ie.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ie.quantity>10&&Ie.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Ie.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:zt(new Date(Ie.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:Me=>kt(Me,Ie),className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(us,{size:16})}),d.jsx("button",{onClick:Me=>_t(Me,Ie),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",children:d.jsx(ni,{size:16})})]})})]},Ie.id),[I,_,O,Et,er,kt,_t]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-gray-900"}`,children:K.title}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${O?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:[K.storeNameDisplay," Products: ",Ke]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsxs("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:["Manage your ",K.storeNameDisplay.toLowerCase()," stock, track quantities, and monitor product status"]})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:I?d.jsxs(d.Fragment,{children:[ye==="pending"&&d.jsxs(lt,{onClick:Gr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(u9,{size:16}),"Go Live (",_.size,")"]}),d.jsx(lt,{onClick:ur,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(lt,{variant:"secondary",onClick:()=>k(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(_i,{size:16}),"Quick Add"]}),d.jsxs(lt,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(_i,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:"Search by product name",value:e,onChange:Ie=>t(Ie.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Ie=>i(Ie.target.value),className:"pl-10"})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(on,{value:l,onChange:Ie=>c(Ie.target.value),options:ie})}),d.jsx("div",{className:"flex flex-row gap-2",children:d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(lt,{variant:"secondary",onClick:()=>Ce(!ke),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",d.jsx(Kl,{size:16})]}),ke&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),Ce(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),Ce(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),Ce(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),Ce(!1)},children:"Clear Filter"})})]})})]})}),d.jsx(lt,{variant:"secondary",onClick:Te,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:d.jsx(ri,{size:16,className:b?"animate-spin":""})})]}),b?d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(cs,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:O?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):$e.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700":"divide-slate-200"} ${O?"bg-slate-800":"bg-white"} rounded-lg border ${O?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:O?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[I&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:_.size===$e.length,onChange:ct,className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${O?"divide-slate-700":"divide-slate-200"}`,children:$e.map((Ie,Me)=>d.jsx(Wr,{item:Ie,index:Me},Ie.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:$e.map(Ie=>d.jsxs("div",{className:`rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Et(Ie),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${O?"text-blue-400":"text-blue-700"}`,children:Ie.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ie.status==="active"?"Active":"Pending"}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ie.fulfillmentType.toUpperCase()})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Ie.locationCode," - ",Ie.shelfNumber]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Ie.quantity})]}),Ie.asin&&d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Ie.asin})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Ie.price)>0?`${Number(Ie.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Ie.quantity*Ie.price)>0?`${Number(Ie.quantity*Ie.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:zt(new Date(Ie.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(lt,{size:"sm",variant:"secondary",onClick:Me=>{Me.stopPropagation(),kt(Me,Ie)},children:[d.jsx(us,{size:14})," Edit"]}),d.jsxs(lt,{size:"sm",variant:"danger",onClick:Me=>{Me.stopPropagation(),_t(Me,Ie)},children:[d.jsx(ni,{size:14})," Delete"]})]})]},Ie.id))})]}):d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:O?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(pn,{isOpen:u,onClose:()=>f(!1),title:`Add New ${K.storeNameDisplay} Stock Item`,size:"xl",children:d.jsx(zq,{onSubmit:be,onCancel:()=>f(!1),isLoading:b,existingStockItems:j})}),d.jsx(pn,{isOpen:Z,onClose:()=>k(!1),title:`Quick Add ${K.storeNameDisplay} Stock`,size:"md",children:d.jsx(Wq,{onSubmit:be,onClose:()=>k(!1),isLoading:b})}),d.jsx(pn,{isOpen:h,onClose:()=>p(!1),title:`Edit ${K.storeNameDisplay} Stock`,size:"xl",children:D&&d.jsx(qq,{item:D,onSubmit:at,onCancel:()=>p(!1),isLoading:b})}),D&&d.jsx(sh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>ft(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:b}),D&&!h&&!g&&!J&&d.jsx(iy,{isOpen:!!D,onClose:()=>P(null),item:D}),d.jsx(sh,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:Wt,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),d.jsx(pn,{isOpen:J,onClose:()=>{q(!1),ee(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(lt,{variant:"secondary",onClick:()=>{q(!1),ee(null)},children:"No"}),d.jsx(lt,{onClick:nt,isLoading:b,children:"Yes"})]})]})}),oe&&d.jsx(Hq,{isOpen:R,onClose:Ee,onConfirm:je,onCancel:Ee,onMerge:qe,locationCode:oe.locationCode,shelfNumber:oe.shelfNumber,existingProducts:oe.existingProducts,newProductName:oe.newProductName,newProductBarcode:oe.newProductBarcode})]})},So=({children:e,allowedRoles:t})=>{const{user:r}=Ta();return r?t.includes(r.role)?d.jsx(d.Fragment,{children:e}):d.jsx(N4,{to:"/",replace:!0}):d.jsx(N4,{to:"/login",replace:!0})};function BBe(){return d.jsxs(iZ,{children:[d.jsx(is,{path:"/login",element:d.jsx(Vce,{})}),d.jsxs(is,{path:"/",element:d.jsx(Bce,{}),children:[d.jsx(is,{index:!0,element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(jye,{})})}),d.jsx(is,{path:"stock",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(qye,{})})}),d.jsx(is,{path:"jobs",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(L$e,{})})}),d.jsx(is,{path:"inventory",element:d.jsx(So,{allowedRoles:["admin"],children:d.jsx(Wye,{})})}),d.jsx(is,{path:"orders",element:d.jsx(So,{allowedRoles:[""],children:d.jsx(K$e,{})})}),d.jsx(is,{path:"outbound-stock",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(RBe,{})})}),d.jsx(is,{path:"warehouse-locations",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(FBe,{})})}),d.jsx(is,{path:"warehouse-operations",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(IBe,{})})}),d.jsx(is,{path:"reports-analytics",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(DBe,{})})}),d.jsx(is,{path:"settings",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(LBe,{})})}),d.jsx(is,{path:"add",element:d.jsx(So,{allowedRoles:["admin","staff"],children:d.jsx(Vq,{})})}),d.jsx(is,{path:"supply-serve",element:d.jsx(So,{allowedRoles:["supply_serve","fahiz","aphy"],children:d.jsx($Be,{})})})]})]})}X$(document.getElementById("root")).render(d.jsx(B.StrictMode,{children:d.jsx(hZ,{basename:"/",children:d.jsx(qae,{children:d.jsx(zae,{children:d.jsx(Uce,{children:d.jsx(BBe,{})})})})})}));export{yn as _,ag as c,On as g};
